(function (g, f) {
    if ("object" == typeof exports && "object" == typeof module) {
      module.exports = f();
    } else if ("function" == typeof define && define.amd) {
      define("bitcoinjs-lib", [], f);
    } else if ("object" == typeof exports) {
      exports["bitcoinjs-lib"] = f();
    } else {
      g["bitcoinjs-lib"] = f();
    }
  }(this, () => {
var exports = {};
var module = { exports };
"use strict";var z5=Object.create;var Ma=Object.defineProperty;var V5=Object.getOwnPropertyDescriptor;var G5=Object.getOwnPropertyNames;var X5=Object.getPrototypeOf,Y5=Object.prototype.hasOwnProperty;var Gr=(t,e)=>()=>(t&&(e=t(t=0)),e);var M=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),co=(t,e)=>{for(var r in e)Ma(t,r,{get:e[r],enumerable:!0})},Ip=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of G5(e))!Y5.call(t,i)&&i!==r&&Ma(t,i,{get:()=>e[i],enumerable:!(n=V5(e,i))||n.enumerable});return t};var $5=(t,e,r)=>(r=t!=null?z5(X5(t)):{},Ip(e||!t||!t.__esModule?Ma(r,"default",{value:t,enumerable:!0}):r,t)),ho=t=>Ip(Ma({},"__esModule",{value:!0}),t);function kp(){throw new Error("setTimeout has not been defined")}function Bp(){throw new Error("clearTimeout has not been defined")}function Pp(t){if(Bn===setTimeout)return setTimeout(t,0);if((Bn===kp||!Bn)&&setTimeout)return Bn=setTimeout,setTimeout(t,0);try{return Bn(t,0)}catch{try{return Bn.call(null,t,0)}catch{return Bn.call(this,t,0)}}}function J5(t){if(Pn===clearTimeout)return clearTimeout(t);if((Pn===Bp||!Pn)&&clearTimeout)return Pn=clearTimeout,clearTimeout(t);try{return Pn(t)}catch{try{return Pn.call(null,t)}catch{return Pn.call(this,t)}}}function Z5(){!ps||!ui||(ps=!1,ui.length?Xr=ui.concat(Xr):qa=-1,Xr.length&&Op())}function Op(){if(!ps){var t=Pp(Z5);ps=!0;for(var e=Xr.length;e;){for(ui=Xr,Xr=[];++qa<e;)ui&&ui[qa].run();qa=-1,e=Xr.length}ui=null,ps=!1,J5(t)}}function Q5(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Xr.push(new Mp(t,e)),Xr.length===1&&!ps&&Pp(Op)}function Mp(t,e){this.fun=t,this.array=e}function ci(){}function vm(t){throw new Error("process.binding is not supported")}function ym(){return"/"}function gm(t){throw new Error("process.chdir is not supported")}function wm(){return 0}function _m(t){var e=mm.call(ls)*.001,r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r=r-t[0],n=n-t[1],n<0&&(r--,n+=1e9)),[r,n]}function Em(){var t=new Date,e=t-xm;return e/1e3}var Bn,Pn,Xr,ps,ui,qa,em,tm,rm,nm,im,sm,om,am,fm,um,cm,hm,dm,lm,pm,bm,ls,mm,xm,B,Tp,p=Gr(()=>{Bn=kp,Pn=Bp;typeof globalThis.setTimeout=="function"&&(Bn=setTimeout);typeof globalThis.clearTimeout=="function"&&(Pn=clearTimeout);Xr=[],ps=!1,qa=-1;Mp.prototype.run=function(){this.fun.apply(null,this.array)};em="browser",tm="browser",rm=!0,nm={},im=[],sm="",om={},am={},fm={};um=ci,cm=ci,hm=ci,dm=ci,lm=ci,pm=ci,bm=ci;ls=globalThis.performance||{},mm=ls.now||ls.mozNow||ls.msNow||ls.oNow||ls.webkitNow||function(){return new Date().getTime()};xm=new Date;B={nextTick:Q5,title:em,browser:rm,env:nm,argv:im,version:sm,versions:om,on:um,addListener:cm,once:hm,off:dm,removeListener:lm,removeAllListeners:pm,emit:bm,binding:vm,cwd:ym,chdir:gm,umask:wm,hrtime:_m,platform:tm,release:am,config:fm,uptime:Em},Tp={version:"2.99.0","env.PROJECT":"okxwallet-extension","env.NODE_ENV":"","env.SOURCEMAP":"","env.DEV_TARGET":"","env.APP_VERSION":"2.99.0","env.COMMIT_HASH":"fc3e","env.REDUX_DEVTOOLS":"","env.ASSETS_BUILD_TYPE":"publish"};Object.keys(Tp).forEach(t=>{let e=t.split("."),r=B;for(let n=0;n<e.length;n++){let i=e[n];n===e.length-1?r[i]=Tp[t]:r=r[i]||(r[i]={})}})});var Rp=M((qp,eh)=>{p();b();(function(t){typeof qp=="object"&&typeof eh<"u"?eh.exports=t():typeof define=="function"&&define.amd?define([],t):(typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:this).buffer=t()})(function(){return function(){return function t(e,r,n){function i(a,f){if(!r[a]){if(!e[a]){var c=typeof require=="function"&&require;if(!f&&c)return c(a,!0);if(s)return s(a,!0);var m=new Error("Cannot find module '"+a+"'");throw m.code="MODULE_NOT_FOUND",m}var v=r[a]={exports:{}};e[a][0].call(v.exports,function(x){return i(e[a][1][x]||x)},v,v.exports,t,e,r,n)}return r[a].exports}for(var s=typeof require=="function"&&require,o=0;o<n.length;o++)i(n[o]);return i}}()({1:[function(t,e,r){"use strict";r.byteLength=function(v){var x=c(v),I=x[0],N=x[1];return 3*(I+N)/4-N},r.toByteArray=function(v){var x,I,N=c(v),F=N[0],j=N[1],z=new s(function(fe,ye,de){return 3*(ye+de)/4-de}(0,F,j)),X=0,oe=j>0?F-4:F;for(I=0;I<oe;I+=4)x=i[v.charCodeAt(I)]<<18|i[v.charCodeAt(I+1)]<<12|i[v.charCodeAt(I+2)]<<6|i[v.charCodeAt(I+3)],z[X++]=x>>16&255,z[X++]=x>>8&255,z[X++]=255&x;return j===2&&(x=i[v.charCodeAt(I)]<<2|i[v.charCodeAt(I+1)]>>4,z[X++]=255&x),j===1&&(x=i[v.charCodeAt(I)]<<10|i[v.charCodeAt(I+1)]<<4|i[v.charCodeAt(I+2)]>>2,z[X++]=x>>8&255,z[X++]=255&x),z},r.fromByteArray=function(v){for(var x,I=v.length,N=I%3,F=[],j=0,z=I-N;j<z;j+=16383)F.push(m(v,j,j+16383>z?z:j+16383));return N===1?(x=v[I-1],F.push(n[x>>2]+n[x<<4&63]+"==")):N===2&&(x=(v[I-2]<<8)+v[I-1],F.push(n[x>>10]+n[x>>4&63]+n[x<<2&63]+"=")),F.join("")};for(var n=[],i=[],s=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,f=o.length;a<f;++a)n[a]=o[a],i[o.charCodeAt(a)]=a;function c(v){var x=v.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var I=v.indexOf("=");return I===-1&&(I=x),[I,I===x?0:4-I%4]}function m(v,x,I){for(var N,F,j=[],z=x;z<I;z+=3)N=(v[z]<<16&16711680)+(v[z+1]<<8&65280)+(255&v[z+2]),j.push(n[(F=N)>>18&63]+n[F>>12&63]+n[F>>6&63]+n[63&F]);return j.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(t,e,r){(function(f){"use strict";var i=t("base64-js"),s=t("ieee754");r.Buffer=f,r.SlowBuffer=function(l){return+l!=l&&(l=0),f.alloc(+l)},r.INSPECT_MAX_BYTES=50;var o=2147483647;function a(l){if(l>o)throw new RangeError('The value "'+l+'" is invalid for option "size"');var _=new Uint8Array(l);return _.__proto__=f.prototype,_}function f(l,_,T){if(typeof l=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(l)}return c(l,_,T)}function c(l,_,T){if(typeof l=="string")return function(W,Y){if(typeof Y=="string"&&Y!==""||(Y="utf8"),!f.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);var J=0|N(W,Y),we=a(J),ne=we.write(W,Y);return ne!==J&&(we=we.slice(0,ne)),we}(l,_);if(ArrayBuffer.isView(l))return x(l);if(l==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);if(le(l,ArrayBuffer)||l&&le(l.buffer,ArrayBuffer))return function(W,Y,J){if(Y<0||W.byteLength<Y)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<Y+(J||0))throw new RangeError('"length" is outside of buffer bounds');var we;return we=Y===void 0&&J===void 0?new Uint8Array(W):J===void 0?new Uint8Array(W,Y):new Uint8Array(W,Y,J),we.__proto__=f.prototype,we}(l,_,T);if(typeof l=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var U=l.valueOf&&l.valueOf();if(U!=null&&U!==l)return f.from(U,_,T);var K=function(W){if(f.isBuffer(W)){var Y=0|I(W.length),J=a(Y);return J.length===0||W.copy(J,0,0,Y),J}if(W.length!==void 0)return typeof W.length!="number"||Ae(W.length)?a(0):x(W);if(W.type==="Buffer"&&Array.isArray(W.data))return x(W.data)}(l);if(K)return K;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof l[Symbol.toPrimitive]=="function")return f.from(l[Symbol.toPrimitive]("string"),_,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l)}function m(l){if(typeof l!="number")throw new TypeError('"size" argument must be of type number');if(l<0)throw new RangeError('The value "'+l+'" is invalid for option "size"')}function v(l){return m(l),a(l<0?0:0|I(l))}function x(l){for(var _=l.length<0?0:0|I(l.length),T=a(_),U=0;U<_;U+=1)T[U]=255&l[U];return T}function I(l){if(l>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|l}function N(l,_){if(f.isBuffer(l))return l.length;if(ArrayBuffer.isView(l)||le(l,ArrayBuffer))return l.byteLength;if(typeof l!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof l);var T=l.length,U=arguments.length>2&&arguments[2]===!0;if(!U&&T===0)return 0;for(var K=!1;;)switch(_){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return Q(l).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*T;case"hex":return T>>>1;case"base64":return re(l).length;default:if(K)return U?-1:Q(l).length;_=(""+_).toLowerCase(),K=!0}}function F(l,_,T){var U=l[_];l[_]=l[T],l[T]=U}function j(l,_,T,U,K){if(l.length===0)return-1;if(typeof T=="string"?(U=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),Ae(T=+T)&&(T=K?0:l.length-1),T<0&&(T=l.length+T),T>=l.length){if(K)return-1;T=l.length-1}else if(T<0){if(!K)return-1;T=0}if(typeof _=="string"&&(_=f.from(_,U)),f.isBuffer(_))return _.length===0?-1:z(l,_,T,U,K);if(typeof _=="number")return _&=255,typeof Uint8Array.prototype.indexOf=="function"?K?Uint8Array.prototype.indexOf.call(l,_,T):Uint8Array.prototype.lastIndexOf.call(l,_,T):z(l,[_],T,U,K);throw new TypeError("val must be string, number or Buffer")}function z(l,_,T,U,K){var W,Y=1,J=l.length,we=_.length;if(U!==void 0&&((U=String(U).toLowerCase())==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(l.length<2||_.length<2)return-1;Y=2,J/=2,we/=2,T/=2}function ne(E,C){return Y===1?E[C]:E.readUInt16BE(C*Y)}if(K){var te=-1;for(W=T;W<J;W++)if(ne(l,W)===ne(_,te===-1?0:W-te)){if(te===-1&&(te=W),W-te+1===we)return te*Y}else te!==-1&&(W-=W-te),te=-1}else for(T+we>J&&(T=J-we),W=T;W>=0;W--){for(var h=!0,y=0;y<we;y++)if(ne(l,W+y)!==ne(_,y)){h=!1;break}if(h)return W}return-1}function X(l,_,T,U){T=Number(T)||0;var K=l.length-T;U?(U=Number(U))>K&&(U=K):U=K;var W=_.length;U>W/2&&(U=W/2);for(var Y=0;Y<U;++Y){var J=parseInt(_.substr(2*Y,2),16);if(Ae(J))return Y;l[T+Y]=J}return Y}function oe(l,_,T,U){return ce(Q(_,l.length-T),l,T,U)}function fe(l,_,T,U){return ce(function(K){for(var W=[],Y=0;Y<K.length;++Y)W.push(255&K.charCodeAt(Y));return W}(_),l,T,U)}function ye(l,_,T,U){return fe(l,_,T,U)}function de(l,_,T,U){return ce(re(_),l,T,U)}function ae(l,_,T,U){return ce(function(K,W){for(var Y,J,we,ne=[],te=0;te<K.length&&!((W-=2)<0);++te)Y=K.charCodeAt(te),J=Y>>8,we=Y%256,ne.push(we),ne.push(J);return ne}(_,l.length-T),l,T,U)}function Ie(l,_,T){return _===0&&T===l.length?i.fromByteArray(l):i.fromByteArray(l.slice(_,T))}function R(l,_,T){T=Math.min(l.length,T);for(var U=[],K=_;K<T;){var W,Y,J,we,ne=l[K],te=null,h=ne>239?4:ne>223?3:ne>191?2:1;if(K+h<=T)switch(h){case 1:ne<128&&(te=ne);break;case 2:(192&(W=l[K+1]))==128&&(we=(31&ne)<<6|63&W)>127&&(te=we);break;case 3:W=l[K+1],Y=l[K+2],(192&W)==128&&(192&Y)==128&&(we=(15&ne)<<12|(63&W)<<6|63&Y)>2047&&(we<55296||we>57343)&&(te=we);break;case 4:W=l[K+1],Y=l[K+2],J=l[K+3],(192&W)==128&&(192&Y)==128&&(192&J)==128&&(we=(15&ne)<<18|(63&W)<<12|(63&Y)<<6|63&J)>65535&&we<1114112&&(te=we)}te===null?(te=65533,h=1):te>65535&&(te-=65536,U.push(te>>>10&1023|55296),te=56320|1023&te),U.push(te),K+=h}return function(y){var E=y.length;if(E<=u)return String.fromCharCode.apply(String,y);for(var C="",L=0;L<E;)C+=String.fromCharCode.apply(String,y.slice(L,L+=u));return C}(U)}r.kMaxLength=o,f.TYPED_ARRAY_SUPPORT=function(){try{var l=new Uint8Array(1);return l.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},l.foo()===42}catch{return!1}}(),f.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),f.poolSize=8192,f.from=function(l,_,T){return c(l,_,T)},f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,f.alloc=function(l,_,T){return function(U,K,W){return m(U),U<=0?a(U):K!==void 0?typeof W=="string"?a(U).fill(K,W):a(U).fill(K):a(U)}(l,_,T)},f.allocUnsafe=function(l){return v(l)},f.allocUnsafeSlow=function(l){return v(l)},f.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==f.prototype},f.compare=function(l,_){if(le(l,Uint8Array)&&(l=f.from(l,l.offset,l.byteLength)),le(_,Uint8Array)&&(_=f.from(_,_.offset,_.byteLength)),!f.isBuffer(l)||!f.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===_)return 0;for(var T=l.length,U=_.length,K=0,W=Math.min(T,U);K<W;++K)if(l[K]!==_[K]){T=l[K],U=_[K];break}return T<U?-1:U<T?1:0},f.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(l,_){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return f.alloc(0);var T;if(_===void 0)for(_=0,T=0;T<l.length;++T)_+=l[T].length;var U=f.allocUnsafe(_),K=0;for(T=0;T<l.length;++T){var W=l[T];if(le(W,Uint8Array)&&(W=f.from(W)),!f.isBuffer(W))throw new TypeError('"list" argument must be an Array of Buffers');W.copy(U,K),K+=W.length}return U},f.byteLength=N,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var l=this.length;if(l%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var _=0;_<l;_+=2)F(this,_,_+1);return this},f.prototype.swap32=function(){var l=this.length;if(l%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var _=0;_<l;_+=4)F(this,_,_+3),F(this,_+1,_+2);return this},f.prototype.swap64=function(){var l=this.length;if(l%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var _=0;_<l;_+=8)F(this,_,_+7),F(this,_+1,_+6),F(this,_+2,_+5),F(this,_+3,_+4);return this},f.prototype.toString=function(){var l=this.length;return l===0?"":arguments.length===0?R(this,0,l):function(_,T,U){var K=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((U===void 0||U>this.length)&&(U=this.length),U<=0)||(U>>>=0)<=(T>>>=0))return"";for(_||(_="utf8");;)switch(_){case"hex":return A(this,T,U);case"utf8":case"utf-8":return R(this,T,U);case"ascii":return w(this,T,U);case"latin1":case"binary":return S(this,T,U);case"base64":return Ie(this,T,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,T,U);default:if(K)throw new TypeError("Unknown encoding: "+_);_=(_+"").toLowerCase(),K=!0}}.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(l){if(!f.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l||f.compare(this,l)===0},f.prototype.inspect=function(){var l="",_=r.INSPECT_MAX_BYTES;return l=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(l+=" ... "),"<Buffer "+l+">"},f.prototype.compare=function(l,_,T,U,K){if(le(l,Uint8Array)&&(l=f.from(l,l.offset,l.byteLength)),!f.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(_===void 0&&(_=0),T===void 0&&(T=l?l.length:0),U===void 0&&(U=0),K===void 0&&(K=this.length),_<0||T>l.length||U<0||K>this.length)throw new RangeError("out of range index");if(U>=K&&_>=T)return 0;if(U>=K)return-1;if(_>=T)return 1;if(this===l)return 0;for(var W=(K>>>=0)-(U>>>=0),Y=(T>>>=0)-(_>>>=0),J=Math.min(W,Y),we=this.slice(U,K),ne=l.slice(_,T),te=0;te<J;++te)if(we[te]!==ne[te]){W=we[te],Y=ne[te];break}return W<Y?-1:Y<W?1:0},f.prototype.includes=function(l,_,T){return this.indexOf(l,_,T)!==-1},f.prototype.indexOf=function(l,_,T){return j(this,l,_,T,!0)},f.prototype.lastIndexOf=function(l,_,T){return j(this,l,_,T,!1)},f.prototype.write=function(l,_,T,U){if(_===void 0)U="utf8",T=this.length,_=0;else if(T===void 0&&typeof _=="string")U=_,T=this.length,_=0;else{if(!isFinite(_))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");_>>>=0,isFinite(T)?(T>>>=0,U===void 0&&(U="utf8")):(U=T,T=void 0)}var K=this.length-_;if((T===void 0||T>K)&&(T=K),l.length>0&&(T<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");U||(U="utf8");for(var W=!1;;)switch(U){case"hex":return X(this,l,_,T);case"utf8":case"utf-8":return oe(this,l,_,T);case"ascii":return fe(this,l,_,T);case"latin1":case"binary":return ye(this,l,_,T);case"base64":return de(this,l,_,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,l,_,T);default:if(W)throw new TypeError("Unknown encoding: "+U);U=(""+U).toLowerCase(),W=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var u=4096;function w(l,_,T){var U="";T=Math.min(l.length,T);for(var K=_;K<T;++K)U+=String.fromCharCode(127&l[K]);return U}function S(l,_,T){var U="";T=Math.min(l.length,T);for(var K=_;K<T;++K)U+=String.fromCharCode(l[K]);return U}function A(l,_,T){var U=l.length;(!_||_<0)&&(_=0),(!T||T<0||T>U)&&(T=U);for(var K="",W=_;W<T;++W)K+=Z(l[W]);return K}function P(l,_,T){for(var U=l.slice(_,T),K="",W=0;W<U.length;W+=2)K+=String.fromCharCode(U[W]+256*U[W+1]);return K}function q(l,_,T){if(l%1!=0||l<0)throw new RangeError("offset is not uint");if(l+_>T)throw new RangeError("Trying to access beyond buffer length")}function D(l,_,T,U,K,W){if(!f.isBuffer(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>K||_<W)throw new RangeError('"value" argument is out of bounds');if(T+U>l.length)throw new RangeError("Index out of range")}function k(l,_,T,U,K,W){if(T+U>l.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function d(l,_,T,U,K){return _=+_,T>>>=0,K||k(l,0,T,4),s.write(l,_,T,U,23,4),T+4}function O(l,_,T,U,K){return _=+_,T>>>=0,K||k(l,0,T,8),s.write(l,_,T,U,52,8),T+8}f.prototype.slice=function(l,_){var T=this.length;(l=~~l)<0?(l+=T)<0&&(l=0):l>T&&(l=T),(_=_===void 0?T:~~_)<0?(_+=T)<0&&(_=0):_>T&&(_=T),_<l&&(_=l);var U=this.subarray(l,_);return U.__proto__=f.prototype,U},f.prototype.readUIntLE=function(l,_,T){l>>>=0,_>>>=0,T||q(l,_,this.length);for(var U=this[l],K=1,W=0;++W<_&&(K*=256);)U+=this[l+W]*K;return U},f.prototype.readUIntBE=function(l,_,T){l>>>=0,_>>>=0,T||q(l,_,this.length);for(var U=this[l+--_],K=1;_>0&&(K*=256);)U+=this[l+--_]*K;return U},f.prototype.readUInt8=function(l,_){return l>>>=0,_||q(l,1,this.length),this[l]},f.prototype.readUInt16LE=function(l,_){return l>>>=0,_||q(l,2,this.length),this[l]|this[l+1]<<8},f.prototype.readUInt16BE=function(l,_){return l>>>=0,_||q(l,2,this.length),this[l]<<8|this[l+1]},f.prototype.readUInt32LE=function(l,_){return l>>>=0,_||q(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+16777216*this[l+3]},f.prototype.readUInt32BE=function(l,_){return l>>>=0,_||q(l,4,this.length),16777216*this[l]+(this[l+1]<<16|this[l+2]<<8|this[l+3])},f.prototype.readIntLE=function(l,_,T){l>>>=0,_>>>=0,T||q(l,_,this.length);for(var U=this[l],K=1,W=0;++W<_&&(K*=256);)U+=this[l+W]*K;return U>=(K*=128)&&(U-=Math.pow(2,8*_)),U},f.prototype.readIntBE=function(l,_,T){l>>>=0,_>>>=0,T||q(l,_,this.length);for(var U=_,K=1,W=this[l+--U];U>0&&(K*=256);)W+=this[l+--U]*K;return W>=(K*=128)&&(W-=Math.pow(2,8*_)),W},f.prototype.readInt8=function(l,_){return l>>>=0,_||q(l,1,this.length),128&this[l]?-1*(255-this[l]+1):this[l]},f.prototype.readInt16LE=function(l,_){l>>>=0,_||q(l,2,this.length);var T=this[l]|this[l+1]<<8;return 32768&T?4294901760|T:T},f.prototype.readInt16BE=function(l,_){l>>>=0,_||q(l,2,this.length);var T=this[l+1]|this[l]<<8;return 32768&T?4294901760|T:T},f.prototype.readInt32LE=function(l,_){return l>>>=0,_||q(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},f.prototype.readInt32BE=function(l,_){return l>>>=0,_||q(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},f.prototype.readFloatLE=function(l,_){return l>>>=0,_||q(l,4,this.length),s.read(this,l,!0,23,4)},f.prototype.readFloatBE=function(l,_){return l>>>=0,_||q(l,4,this.length),s.read(this,l,!1,23,4)},f.prototype.readDoubleLE=function(l,_){return l>>>=0,_||q(l,8,this.length),s.read(this,l,!0,52,8)},f.prototype.readDoubleBE=function(l,_){return l>>>=0,_||q(l,8,this.length),s.read(this,l,!1,52,8)},f.prototype.writeUIntLE=function(l,_,T,U){l=+l,_>>>=0,T>>>=0,U||D(this,l,_,T,Math.pow(2,8*T)-1,0);var K=1,W=0;for(this[_]=255&l;++W<T&&(K*=256);)this[_+W]=l/K&255;return _+T},f.prototype.writeUIntBE=function(l,_,T,U){l=+l,_>>>=0,T>>>=0,U||D(this,l,_,T,Math.pow(2,8*T)-1,0);var K=T-1,W=1;for(this[_+K]=255&l;--K>=0&&(W*=256);)this[_+K]=l/W&255;return _+T},f.prototype.writeUInt8=function(l,_,T){return l=+l,_>>>=0,T||D(this,l,_,1,255,0),this[_]=255&l,_+1},f.prototype.writeUInt16LE=function(l,_,T){return l=+l,_>>>=0,T||D(this,l,_,2,65535,0),this[_]=255&l,this[_+1]=l>>>8,_+2},f.prototype.writeUInt16BE=function(l,_,T){return l=+l,_>>>=0,T||D(this,l,_,2,65535,0),this[_]=l>>>8,this[_+1]=255&l,_+2},f.prototype.writeUInt32LE=function(l,_,T){return l=+l,_>>>=0,T||D(this,l,_,4,4294967295,0),this[_+3]=l>>>24,this[_+2]=l>>>16,this[_+1]=l>>>8,this[_]=255&l,_+4},f.prototype.writeUInt32BE=function(l,_,T){return l=+l,_>>>=0,T||D(this,l,_,4,4294967295,0),this[_]=l>>>24,this[_+1]=l>>>16,this[_+2]=l>>>8,this[_+3]=255&l,_+4},f.prototype.writeIntLE=function(l,_,T,U){if(l=+l,_>>>=0,!U){var K=Math.pow(2,8*T-1);D(this,l,_,T,K-1,-K)}var W=0,Y=1,J=0;for(this[_]=255&l;++W<T&&(Y*=256);)l<0&&J===0&&this[_+W-1]!==0&&(J=1),this[_+W]=(l/Y>>0)-J&255;return _+T},f.prototype.writeIntBE=function(l,_,T,U){if(l=+l,_>>>=0,!U){var K=Math.pow(2,8*T-1);D(this,l,_,T,K-1,-K)}var W=T-1,Y=1,J=0;for(this[_+W]=255&l;--W>=0&&(Y*=256);)l<0&&J===0&&this[_+W+1]!==0&&(J=1),this[_+W]=(l/Y>>0)-J&255;return _+T},f.prototype.writeInt8=function(l,_,T){return l=+l,_>>>=0,T||D(this,l,_,1,127,-128),l<0&&(l=255+l+1),this[_]=255&l,_+1},f.prototype.writeInt16LE=function(l,_,T){return l=+l,_>>>=0,T||D(this,l,_,2,32767,-32768),this[_]=255&l,this[_+1]=l>>>8,_+2},f.prototype.writeInt16BE=function(l,_,T){return l=+l,_>>>=0,T||D(this,l,_,2,32767,-32768),this[_]=l>>>8,this[_+1]=255&l,_+2},f.prototype.writeInt32LE=function(l,_,T){return l=+l,_>>>=0,T||D(this,l,_,4,2147483647,-2147483648),this[_]=255&l,this[_+1]=l>>>8,this[_+2]=l>>>16,this[_+3]=l>>>24,_+4},f.prototype.writeInt32BE=function(l,_,T){return l=+l,_>>>=0,T||D(this,l,_,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[_]=l>>>24,this[_+1]=l>>>16,this[_+2]=l>>>8,this[_+3]=255&l,_+4},f.prototype.writeFloatLE=function(l,_,T){return d(this,l,_,!0,T)},f.prototype.writeFloatBE=function(l,_,T){return d(this,l,_,!1,T)},f.prototype.writeDoubleLE=function(l,_,T){return O(this,l,_,!0,T)},f.prototype.writeDoubleBE=function(l,_,T){return O(this,l,_,!1,T)},f.prototype.copy=function(l,_,T,U){if(!f.isBuffer(l))throw new TypeError("argument should be a Buffer");if(T||(T=0),U||U===0||(U=this.length),_>=l.length&&(_=l.length),_||(_=0),U>0&&U<T&&(U=T),U===T||l.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(T<0||T>=this.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("sourceEnd out of bounds");U>this.length&&(U=this.length),l.length-_<U-T&&(U=l.length-_+T);var K=U-T;if(this===l&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(_,T,U);else if(this===l&&T<_&&_<U)for(var W=K-1;W>=0;--W)l[W+_]=this[W+T];else Uint8Array.prototype.set.call(l,this.subarray(T,U),_);return K},f.prototype.fill=function(l,_,T,U){if(typeof l=="string"){if(typeof _=="string"?(U=_,_=0,T=this.length):typeof T=="string"&&(U=T,T=this.length),U!==void 0&&typeof U!="string")throw new TypeError("encoding must be a string");if(typeof U=="string"&&!f.isEncoding(U))throw new TypeError("Unknown encoding: "+U);if(l.length===1){var K=l.charCodeAt(0);(U==="utf8"&&K<128||U==="latin1")&&(l=K)}}else typeof l=="number"&&(l&=255);if(_<0||this.length<_||this.length<T)throw new RangeError("Out of range index");if(T<=_)return this;var W;if(_>>>=0,T=T===void 0?this.length:T>>>0,l||(l=0),typeof l=="number")for(W=_;W<T;++W)this[W]=l;else{var Y=f.isBuffer(l)?l:f.from(l,U),J=Y.length;if(J===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(W=0;W<T-_;++W)this[W+_]=Y[W%J]}return this};var $=/[^+\/0-9A-Za-z-_]/g;function Z(l){return l<16?"0"+l.toString(16):l.toString(16)}function Q(l,_){var T;_=_||1/0;for(var U=l.length,K=null,W=[],Y=0;Y<U;++Y){if((T=l.charCodeAt(Y))>55295&&T<57344){if(!K){if(T>56319){(_-=3)>-1&&W.push(239,191,189);continue}if(Y+1===U){(_-=3)>-1&&W.push(239,191,189);continue}K=T;continue}if(T<56320){(_-=3)>-1&&W.push(239,191,189),K=T;continue}T=65536+(K-55296<<10|T-56320)}else K&&(_-=3)>-1&&W.push(239,191,189);if(K=null,T<128){if((_-=1)<0)break;W.push(T)}else if(T<2048){if((_-=2)<0)break;W.push(T>>6|192,63&T|128)}else if(T<65536){if((_-=3)<0)break;W.push(T>>12|224,T>>6&63|128,63&T|128)}else{if(!(T<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;W.push(T>>18|240,T>>12&63|128,T>>6&63|128,63&T|128)}}return W}function re(l){return i.toByteArray(function(_){if((_=(_=_.split("=")[0]).trim().replace($,"")).length<2)return"";for(;_.length%4!=0;)_+="=";return _}(l))}function ce(l,_,T,U){for(var K=0;K<U&&!(K+T>=_.length||K>=l.length);++K)_[K+T]=l[K];return K}function le(l,_){return l instanceof _||l!=null&&l.constructor!=null&&l.constructor.name!=null&&l.constructor.name===_.name}function Ae(l){return l!=l}}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:2,ieee754:3}],3:[function(t,e,r){r.read=function(n,i,s,o,a){var f,c,m=8*a-o-1,v=(1<<m)-1,x=v>>1,I=-7,N=s?a-1:0,F=s?-1:1,j=n[i+N];for(N+=F,f=j&(1<<-I)-1,j>>=-I,I+=m;I>0;f=256*f+n[i+N],N+=F,I-=8);for(c=f&(1<<-I)-1,f>>=-I,I+=o;I>0;c=256*c+n[i+N],N+=F,I-=8);if(f===0)f=1-x;else{if(f===v)return c?NaN:1/0*(j?-1:1);c+=Math.pow(2,o),f-=x}return(j?-1:1)*c*Math.pow(2,f-o)},r.write=function(n,i,s,o,a,f){var c,m,v,x=8*f-a-1,I=(1<<x)-1,N=I>>1,F=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,j=o?0:f-1,z=o?1:-1,X=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(m=isNaN(i)?1:0,c=I):(c=Math.floor(Math.log(i)/Math.LN2),i*(v=Math.pow(2,-c))<1&&(c--,v*=2),(i+=c+N>=1?F/v:F*Math.pow(2,1-N))*v>=2&&(c++,v/=2),c+N>=I?(m=0,c=I):c+N>=1?(m=(i*v-1)*Math.pow(2,a),c+=N):(m=i*Math.pow(2,N-1)*Math.pow(2,a),c=0));a>=8;n[s+j]=255&m,j+=z,m/=256,a-=8);for(c=c<<a|m,x+=a;x>0;n[s+j]=255&c,j+=z,c/=256,x-=8);n[s+j-z]|=128*X}},{}],4:[function(t,e,r){(function(c){"use strict";let i=t("base64-js"),s=t("ieee754"),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=c,r.SlowBuffer=function(h){return+h!=h&&(h=0),c.alloc(+h)},r.INSPECT_MAX_BYTES=50;let a=2147483647;function f(h){if(h>a)throw new RangeError('The value "'+h+'" is invalid for option "size"');let y=new Uint8Array(h);return Object.setPrototypeOf(y,c.prototype),y}function c(h,y,E){if(typeof h=="number"){if(typeof y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(h)}return m(h,y,E)}function m(h,y,E){if(typeof h=="string")return function(H,G){if(typeof G=="string"&&G!==""||(G="utf8"),!c.isEncoding(G))throw new TypeError("Unknown encoding: "+G);let ee=0|j(H,G),ie=f(ee),De=ie.write(H,G);return De!==ee&&(ie=ie.slice(0,De)),ie}(h,y);if(ArrayBuffer.isView(h))return function(H){if(Y(H,Uint8Array)){let G=new Uint8Array(H);return N(G.buffer,G.byteOffset,G.byteLength)}return I(H)}(h);if(h==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);if(Y(h,ArrayBuffer)||h&&Y(h.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Y(h,SharedArrayBuffer)||h&&Y(h.buffer,SharedArrayBuffer)))return N(h,y,E);if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let C=h.valueOf&&h.valueOf();if(C!=null&&C!==h)return c.from(C,y,E);let L=function(H){if(c.isBuffer(H)){let G=0|F(H.length),ee=f(G);return ee.length===0||H.copy(ee,0,0,G),ee}if(H.length!==void 0)return typeof H.length!="number"||J(H.length)?f(0):I(H);if(H.type==="Buffer"&&Array.isArray(H.data))return I(H.data)}(h);if(L)return L;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof h[Symbol.toPrimitive]=="function")return c.from(h[Symbol.toPrimitive]("string"),y,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h)}function v(h){if(typeof h!="number")throw new TypeError('"size" argument must be of type number');if(h<0)throw new RangeError('The value "'+h+'" is invalid for option "size"')}function x(h){return v(h),f(h<0?0:0|F(h))}function I(h){let y=h.length<0?0:0|F(h.length),E=f(y);for(let C=0;C<y;C+=1)E[C]=255&h[C];return E}function N(h,y,E){if(y<0||h.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(h.byteLength<y+(E||0))throw new RangeError('"length" is outside of buffer bounds');let C;return C=y===void 0&&E===void 0?new Uint8Array(h):E===void 0?new Uint8Array(h,y):new Uint8Array(h,y,E),Object.setPrototypeOf(C,c.prototype),C}function F(h){if(h>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|h}function j(h,y){if(c.isBuffer(h))return h.length;if(ArrayBuffer.isView(h)||Y(h,ArrayBuffer))return h.byteLength;if(typeof h!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof h);let E=h.length,C=arguments.length>2&&arguments[2]===!0;if(!C&&E===0)return 0;let L=!1;for(;;)switch(y){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return U(h).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*E;case"hex":return E>>>1;case"base64":return K(h).length;default:if(L)return C?-1:U(h).length;y=(""+y).toLowerCase(),L=!0}}function z(h,y,E){let C=h[y];h[y]=h[E],h[E]=C}function X(h,y,E,C,L){if(h.length===0)return-1;if(typeof E=="string"?(C=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),J(E=+E)&&(E=L?0:h.length-1),E<0&&(E=h.length+E),E>=h.length){if(L)return-1;E=h.length-1}else if(E<0){if(!L)return-1;E=0}if(typeof y=="string"&&(y=c.from(y,C)),c.isBuffer(y))return y.length===0?-1:oe(h,y,E,C,L);if(typeof y=="number")return y&=255,typeof Uint8Array.prototype.indexOf=="function"?L?Uint8Array.prototype.indexOf.call(h,y,E):Uint8Array.prototype.lastIndexOf.call(h,y,E):oe(h,[y],E,C,L);throw new TypeError("val must be string, number or Buffer")}function oe(h,y,E,C,L){let H,G=1,ee=h.length,ie=y.length;if(C!==void 0&&((C=String(C).toLowerCase())==="ucs2"||C==="ucs-2"||C==="utf16le"||C==="utf-16le")){if(h.length<2||y.length<2)return-1;G=2,ee/=2,ie/=2,E/=2}function De(se,ge){return G===1?se[ge]:se.readUInt16BE(ge*G)}if(L){let se=-1;for(H=E;H<ee;H++)if(De(h,H)===De(y,se===-1?0:H-se)){if(se===-1&&(se=H),H-se+1===ie)return se*G}else se!==-1&&(H-=H-se),se=-1}else for(E+ie>ee&&(E=ee-ie),H=E;H>=0;H--){let se=!0;for(let ge=0;ge<ie;ge++)if(De(h,H+ge)!==De(y,ge)){se=!1;break}if(se)return H}return-1}function fe(h,y,E,C){E=Number(E)||0;let L=h.length-E;C?(C=Number(C))>L&&(C=L):C=L;let H=y.length,G;for(C>H/2&&(C=H/2),G=0;G<C;++G){let ee=parseInt(y.substr(2*G,2),16);if(J(ee))return G;h[E+G]=ee}return G}function ye(h,y,E,C){return W(U(y,h.length-E),h,E,C)}function de(h,y,E,C){return W(function(L){let H=[];for(let G=0;G<L.length;++G)H.push(255&L.charCodeAt(G));return H}(y),h,E,C)}function ae(h,y,E,C){return W(K(y),h,E,C)}function Ie(h,y,E,C){return W(function(L,H){let G,ee,ie,De=[];for(let se=0;se<L.length&&!((H-=2)<0);++se)G=L.charCodeAt(se),ee=G>>8,ie=G%256,De.push(ie),De.push(ee);return De}(y,h.length-E),h,E,C)}function R(h,y,E){return y===0&&E===h.length?i.fromByteArray(h):i.fromByteArray(h.slice(y,E))}function u(h,y,E){E=Math.min(h.length,E);let C=[],L=y;for(;L<E;){let H=h[L],G=null,ee=H>239?4:H>223?3:H>191?2:1;if(L+ee<=E){let ie,De,se,ge;switch(ee){case 1:H<128&&(G=H);break;case 2:(192&(ie=h[L+1]))==128&&(ge=(31&H)<<6|63&ie)>127&&(G=ge);break;case 3:ie=h[L+1],De=h[L+2],(192&ie)==128&&(192&De)==128&&(ge=(15&H)<<12|(63&ie)<<6|63&De)>2047&&(ge<55296||ge>57343)&&(G=ge);break;case 4:ie=h[L+1],De=h[L+2],se=h[L+3],(192&ie)==128&&(192&De)==128&&(192&se)==128&&(ge=(15&H)<<18|(63&ie)<<12|(63&De)<<6|63&se)>65535&&ge<1114112&&(G=ge)}}G===null?(G=65533,ee=1):G>65535&&(G-=65536,C.push(G>>>10&1023|55296),G=56320|1023&G),C.push(G),L+=ee}return function(H){let G=H.length;if(G<=w)return String.fromCharCode.apply(String,H);let ee="",ie=0;for(;ie<G;)ee+=String.fromCharCode.apply(String,H.slice(ie,ie+=w));return ee}(C)}r.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=function(){try{let h=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(h,y),h.foo()===42}catch{return!1}}(),c.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(h,y,E){return m(h,y,E)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(h,y,E){return function(C,L,H){return v(C),C<=0?f(C):L!==void 0?typeof H=="string"?f(C).fill(L,H):f(C).fill(L):f(C)}(h,y,E)},c.allocUnsafe=function(h){return x(h)},c.allocUnsafeSlow=function(h){return x(h)},c.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==c.prototype},c.compare=function(h,y){if(Y(h,Uint8Array)&&(h=c.from(h,h.offset,h.byteLength)),Y(y,Uint8Array)&&(y=c.from(y,y.offset,y.byteLength)),!c.isBuffer(h)||!c.isBuffer(y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===y)return 0;let E=h.length,C=y.length;for(let L=0,H=Math.min(E,C);L<H;++L)if(h[L]!==y[L]){E=h[L],C=y[L];break}return E<C?-1:C<E?1:0},c.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(h,y){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return c.alloc(0);let E;if(y===void 0)for(y=0,E=0;E<h.length;++E)y+=h[E].length;let C=c.allocUnsafe(y),L=0;for(E=0;E<h.length;++E){let H=h[E];if(Y(H,Uint8Array))L+H.length>C.length?(c.isBuffer(H)||(H=c.from(H)),H.copy(C,L)):Uint8Array.prototype.set.call(C,H,L);else{if(!c.isBuffer(H))throw new TypeError('"list" argument must be an Array of Buffers');H.copy(C,L)}L+=H.length}return C},c.byteLength=j,c.prototype._isBuffer=!0,c.prototype.swap16=function(){let h=this.length;if(h%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let y=0;y<h;y+=2)z(this,y,y+1);return this},c.prototype.swap32=function(){let h=this.length;if(h%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let y=0;y<h;y+=4)z(this,y,y+3),z(this,y+1,y+2);return this},c.prototype.swap64=function(){let h=this.length;if(h%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let y=0;y<h;y+=8)z(this,y,y+7),z(this,y+1,y+6),z(this,y+2,y+5),z(this,y+3,y+4);return this},c.prototype.toString=function(){let h=this.length;return h===0?"":arguments.length===0?u(this,0,h):function(y,E,C){let L=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0)<=(E>>>=0))return"";for(y||(y="utf8");;)switch(y){case"hex":return P(this,E,C);case"utf8":case"utf-8":return u(this,E,C);case"ascii":return S(this,E,C);case"latin1":case"binary":return A(this,E,C);case"base64":return R(this,E,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,E,C);default:if(L)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),L=!0}}.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(h){if(!c.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h||c.compare(this,h)===0},c.prototype.inspect=function(){let h="",y=r.INSPECT_MAX_BYTES;return h=this.toString("hex",0,y).replace(/(.{2})/g,"$1 ").trim(),this.length>y&&(h+=" ... "),"<Buffer "+h+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(h,y,E,C,L){if(Y(h,Uint8Array)&&(h=c.from(h,h.offset,h.byteLength)),!c.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(y===void 0&&(y=0),E===void 0&&(E=h?h.length:0),C===void 0&&(C=0),L===void 0&&(L=this.length),y<0||E>h.length||C<0||L>this.length)throw new RangeError("out of range index");if(C>=L&&y>=E)return 0;if(C>=L)return-1;if(y>=E)return 1;if(this===h)return 0;let H=(L>>>=0)-(C>>>=0),G=(E>>>=0)-(y>>>=0),ee=Math.min(H,G),ie=this.slice(C,L),De=h.slice(y,E);for(let se=0;se<ee;++se)if(ie[se]!==De[se]){H=ie[se],G=De[se];break}return H<G?-1:G<H?1:0},c.prototype.includes=function(h,y,E){return this.indexOf(h,y,E)!==-1},c.prototype.indexOf=function(h,y,E){return X(this,h,y,E,!0)},c.prototype.lastIndexOf=function(h,y,E){return X(this,h,y,E,!1)},c.prototype.write=function(h,y,E,C){if(y===void 0)C="utf8",E=this.length,y=0;else if(E===void 0&&typeof y=="string")C=y,E=this.length,y=0;else{if(!isFinite(y))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");y>>>=0,isFinite(E)?(E>>>=0,C===void 0&&(C="utf8")):(C=E,E=void 0)}let L=this.length-y;if((E===void 0||E>L)&&(E=L),h.length>0&&(E<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");let H=!1;for(;;)switch(C){case"hex":return fe(this,h,y,E);case"utf8":case"utf-8":return ye(this,h,y,E);case"ascii":case"latin1":case"binary":return de(this,h,y,E);case"base64":return ae(this,h,y,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ie(this,h,y,E);default:if(H)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),H=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};let w=4096;function S(h,y,E){let C="";E=Math.min(h.length,E);for(let L=y;L<E;++L)C+=String.fromCharCode(127&h[L]);return C}function A(h,y,E){let C="";E=Math.min(h.length,E);for(let L=y;L<E;++L)C+=String.fromCharCode(h[L]);return C}function P(h,y,E){let C=h.length;(!y||y<0)&&(y=0),(!E||E<0||E>C)&&(E=C);let L="";for(let H=y;H<E;++H)L+=we[h[H]];return L}function q(h,y,E){let C=h.slice(y,E),L="";for(let H=0;H<C.length-1;H+=2)L+=String.fromCharCode(C[H]+256*C[H+1]);return L}function D(h,y,E){if(h%1!=0||h<0)throw new RangeError("offset is not uint");if(h+y>E)throw new RangeError("Trying to access beyond buffer length")}function k(h,y,E,C,L,H){if(!c.isBuffer(h))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>L||y<H)throw new RangeError('"value" argument is out of bounds');if(E+C>h.length)throw new RangeError("Index out of range")}function d(h,y,E,C,L){Ae(y,C,L,h,E,7);let H=Number(y&BigInt(4294967295));h[E++]=H,H>>=8,h[E++]=H,H>>=8,h[E++]=H,H>>=8,h[E++]=H;let G=Number(y>>BigInt(32)&BigInt(4294967295));return h[E++]=G,G>>=8,h[E++]=G,G>>=8,h[E++]=G,G>>=8,h[E++]=G,E}function O(h,y,E,C,L){Ae(y,C,L,h,E,7);let H=Number(y&BigInt(4294967295));h[E+7]=H,H>>=8,h[E+6]=H,H>>=8,h[E+5]=H,H>>=8,h[E+4]=H;let G=Number(y>>BigInt(32)&BigInt(4294967295));return h[E+3]=G,G>>=8,h[E+2]=G,G>>=8,h[E+1]=G,G>>=8,h[E]=G,E+8}function $(h,y,E,C,L,H){if(E+C>h.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function Z(h,y,E,C,L){return y=+y,E>>>=0,L||$(h,0,E,4),s.write(h,y,E,C,23,4),E+4}function Q(h,y,E,C,L){return y=+y,E>>>=0,L||$(h,0,E,8),s.write(h,y,E,C,52,8),E+8}c.prototype.slice=function(h,y){let E=this.length;(h=~~h)<0?(h+=E)<0&&(h=0):h>E&&(h=E),(y=y===void 0?E:~~y)<0?(y+=E)<0&&(y=0):y>E&&(y=E),y<h&&(y=h);let C=this.subarray(h,y);return Object.setPrototypeOf(C,c.prototype),C},c.prototype.readUintLE=c.prototype.readUIntLE=function(h,y,E){h>>>=0,y>>>=0,E||D(h,y,this.length);let C=this[h],L=1,H=0;for(;++H<y&&(L*=256);)C+=this[h+H]*L;return C},c.prototype.readUintBE=c.prototype.readUIntBE=function(h,y,E){h>>>=0,y>>>=0,E||D(h,y,this.length);let C=this[h+--y],L=1;for(;y>0&&(L*=256);)C+=this[h+--y]*L;return C},c.prototype.readUint8=c.prototype.readUInt8=function(h,y){return h>>>=0,y||D(h,1,this.length),this[h]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(h,y){return h>>>=0,y||D(h,2,this.length),this[h]|this[h+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(h,y){return h>>>=0,y||D(h,2,this.length),this[h]<<8|this[h+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(h,y){return h>>>=0,y||D(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+16777216*this[h+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(h,y){return h>>>=0,y||D(h,4,this.length),16777216*this[h]+(this[h+1]<<16|this[h+2]<<8|this[h+3])},c.prototype.readBigUInt64LE=ne(function(h){l(h>>>=0,"offset");let y=this[h],E=this[h+7];y!==void 0&&E!==void 0||_(h,this.length-8);let C=y+256*this[++h]+65536*this[++h]+this[++h]*2**24,L=this[++h]+256*this[++h]+65536*this[++h]+E*2**24;return BigInt(C)+(BigInt(L)<<BigInt(32))}),c.prototype.readBigUInt64BE=ne(function(h){l(h>>>=0,"offset");let y=this[h],E=this[h+7];y!==void 0&&E!==void 0||_(h,this.length-8);let C=y*2**24+65536*this[++h]+256*this[++h]+this[++h],L=this[++h]*2**24+65536*this[++h]+256*this[++h]+E;return(BigInt(C)<<BigInt(32))+BigInt(L)}),c.prototype.readIntLE=function(h,y,E){h>>>=0,y>>>=0,E||D(h,y,this.length);let C=this[h],L=1,H=0;for(;++H<y&&(L*=256);)C+=this[h+H]*L;return C>=(L*=128)&&(C-=Math.pow(2,8*y)),C},c.prototype.readIntBE=function(h,y,E){h>>>=0,y>>>=0,E||D(h,y,this.length);let C=y,L=1,H=this[h+--C];for(;C>0&&(L*=256);)H+=this[h+--C]*L;return H>=(L*=128)&&(H-=Math.pow(2,8*y)),H},c.prototype.readInt8=function(h,y){return h>>>=0,y||D(h,1,this.length),128&this[h]?-1*(255-this[h]+1):this[h]},c.prototype.readInt16LE=function(h,y){h>>>=0,y||D(h,2,this.length);let E=this[h]|this[h+1]<<8;return 32768&E?4294901760|E:E},c.prototype.readInt16BE=function(h,y){h>>>=0,y||D(h,2,this.length);let E=this[h+1]|this[h]<<8;return 32768&E?4294901760|E:E},c.prototype.readInt32LE=function(h,y){return h>>>=0,y||D(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},c.prototype.readInt32BE=function(h,y){return h>>>=0,y||D(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},c.prototype.readBigInt64LE=ne(function(h){l(h>>>=0,"offset");let y=this[h],E=this[h+7];y!==void 0&&E!==void 0||_(h,this.length-8);let C=this[h+4]+256*this[h+5]+65536*this[h+6]+(E<<24);return(BigInt(C)<<BigInt(32))+BigInt(y+256*this[++h]+65536*this[++h]+this[++h]*2**24)}),c.prototype.readBigInt64BE=ne(function(h){l(h>>>=0,"offset");let y=this[h],E=this[h+7];y!==void 0&&E!==void 0||_(h,this.length-8);let C=(y<<24)+65536*this[++h]+256*this[++h]+this[++h];return(BigInt(C)<<BigInt(32))+BigInt(this[++h]*2**24+65536*this[++h]+256*this[++h]+E)}),c.prototype.readFloatLE=function(h,y){return h>>>=0,y||D(h,4,this.length),s.read(this,h,!0,23,4)},c.prototype.readFloatBE=function(h,y){return h>>>=0,y||D(h,4,this.length),s.read(this,h,!1,23,4)},c.prototype.readDoubleLE=function(h,y){return h>>>=0,y||D(h,8,this.length),s.read(this,h,!0,52,8)},c.prototype.readDoubleBE=function(h,y){return h>>>=0,y||D(h,8,this.length),s.read(this,h,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(h,y,E,C){h=+h,y>>>=0,E>>>=0,!C&&k(this,h,y,E,Math.pow(2,8*E)-1,0);let L=1,H=0;for(this[y]=255&h;++H<E&&(L*=256);)this[y+H]=h/L&255;return y+E},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(h,y,E,C){h=+h,y>>>=0,E>>>=0,!C&&k(this,h,y,E,Math.pow(2,8*E)-1,0);let L=E-1,H=1;for(this[y+L]=255&h;--L>=0&&(H*=256);)this[y+L]=h/H&255;return y+E},c.prototype.writeUint8=c.prototype.writeUInt8=function(h,y,E){return h=+h,y>>>=0,E||k(this,h,y,1,255,0),this[y]=255&h,y+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(h,y,E){return h=+h,y>>>=0,E||k(this,h,y,2,65535,0),this[y]=255&h,this[y+1]=h>>>8,y+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(h,y,E){return h=+h,y>>>=0,E||k(this,h,y,2,65535,0),this[y]=h>>>8,this[y+1]=255&h,y+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(h,y,E){return h=+h,y>>>=0,E||k(this,h,y,4,4294967295,0),this[y+3]=h>>>24,this[y+2]=h>>>16,this[y+1]=h>>>8,this[y]=255&h,y+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(h,y,E){return h=+h,y>>>=0,E||k(this,h,y,4,4294967295,0),this[y]=h>>>24,this[y+1]=h>>>16,this[y+2]=h>>>8,this[y+3]=255&h,y+4},c.prototype.writeBigUInt64LE=ne(function(h,y=0){return d(this,h,y,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=ne(function(h,y=0){return O(this,h,y,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(h,y,E,C){if(h=+h,y>>>=0,!C){let ee=Math.pow(2,8*E-1);k(this,h,y,E,ee-1,-ee)}let L=0,H=1,G=0;for(this[y]=255&h;++L<E&&(H*=256);)h<0&&G===0&&this[y+L-1]!==0&&(G=1),this[y+L]=(h/H>>0)-G&255;return y+E},c.prototype.writeIntBE=function(h,y,E,C){if(h=+h,y>>>=0,!C){let ee=Math.pow(2,8*E-1);k(this,h,y,E,ee-1,-ee)}let L=E-1,H=1,G=0;for(this[y+L]=255&h;--L>=0&&(H*=256);)h<0&&G===0&&this[y+L+1]!==0&&(G=1),this[y+L]=(h/H>>0)-G&255;return y+E},c.prototype.writeInt8=function(h,y,E){return h=+h,y>>>=0,E||k(this,h,y,1,127,-128),h<0&&(h=255+h+1),this[y]=255&h,y+1},c.prototype.writeInt16LE=function(h,y,E){return h=+h,y>>>=0,E||k(this,h,y,2,32767,-32768),this[y]=255&h,this[y+1]=h>>>8,y+2},c.prototype.writeInt16BE=function(h,y,E){return h=+h,y>>>=0,E||k(this,h,y,2,32767,-32768),this[y]=h>>>8,this[y+1]=255&h,y+2},c.prototype.writeInt32LE=function(h,y,E){return h=+h,y>>>=0,E||k(this,h,y,4,2147483647,-2147483648),this[y]=255&h,this[y+1]=h>>>8,this[y+2]=h>>>16,this[y+3]=h>>>24,y+4},c.prototype.writeInt32BE=function(h,y,E){return h=+h,y>>>=0,E||k(this,h,y,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[y]=h>>>24,this[y+1]=h>>>16,this[y+2]=h>>>8,this[y+3]=255&h,y+4},c.prototype.writeBigInt64LE=ne(function(h,y=0){return d(this,h,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=ne(function(h,y=0){return O(this,h,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(h,y,E){return Z(this,h,y,!0,E)},c.prototype.writeFloatBE=function(h,y,E){return Z(this,h,y,!1,E)},c.prototype.writeDoubleLE=function(h,y,E){return Q(this,h,y,!0,E)},c.prototype.writeDoubleBE=function(h,y,E){return Q(this,h,y,!1,E)},c.prototype.copy=function(h,y,E,C){if(!c.isBuffer(h))throw new TypeError("argument should be a Buffer");if(E||(E=0),C||C===0||(C=this.length),y>=h.length&&(y=h.length),y||(y=0),C>0&&C<E&&(C=E),C===E||h.length===0||this.length===0)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),h.length-y<C-E&&(C=h.length-y+E);let L=C-E;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(y,E,C):Uint8Array.prototype.set.call(h,this.subarray(E,C),y),L},c.prototype.fill=function(h,y,E,C){if(typeof h=="string"){if(typeof y=="string"?(C=y,y=0,E=this.length):typeof E=="string"&&(C=E,E=this.length),C!==void 0&&typeof C!="string")throw new TypeError("encoding must be a string");if(typeof C=="string"&&!c.isEncoding(C))throw new TypeError("Unknown encoding: "+C);if(h.length===1){let H=h.charCodeAt(0);(C==="utf8"&&H<128||C==="latin1")&&(h=H)}}else typeof h=="number"?h&=255:typeof h=="boolean"&&(h=Number(h));if(y<0||this.length<y||this.length<E)throw new RangeError("Out of range index");if(E<=y)return this;let L;if(y>>>=0,E=E===void 0?this.length:E>>>0,h||(h=0),typeof h=="number")for(L=y;L<E;++L)this[L]=h;else{let H=c.isBuffer(h)?h:c.from(h,C),G=H.length;if(G===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(L=0;L<E-y;++L)this[L+y]=H[L%G]}return this};let re={};function ce(h,y,E){re[h]=class extends E{constructor(){super(),Object.defineProperty(this,"message",{value:y.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${h}]`,this.stack,delete this.name}get code(){return h}set code(C){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:C,writable:!0})}toString(){return`${this.name} [${h}]: ${this.message}`}}}function le(h){let y="",E=h.length,C=h[0]==="-"?1:0;for(;E>=C+4;E-=3)y=`_${h.slice(E-3,E)}${y}`;return`${h.slice(0,E)}${y}`}function Ae(h,y,E,C,L,H){if(h>E||h<y){let G=typeof y=="bigint"?"n":"",ee;throw ee=H>3?y===0||y===BigInt(0)?`>= 0${G} and < 2${G} ** ${8*(H+1)}${G}`:`>= -(2${G} ** ${8*(H+1)-1}${G}) and < 2 ** ${8*(H+1)-1}${G}`:`>= ${y}${G} and <= ${E}${G}`,new re.ERR_OUT_OF_RANGE("value",ee,h)}(function(G,ee,ie){l(ee,"offset"),G[ee]!==void 0&&G[ee+ie]!==void 0||_(ee,G.length-(ie+1))})(C,L,H)}function l(h,y){if(typeof h!="number")throw new re.ERR_INVALID_ARG_TYPE(y,"number",h)}function _(h,y,E){throw Math.floor(h)!==h?(l(h,E),new re.ERR_OUT_OF_RANGE(E||"offset","an integer",h)):y<0?new re.ERR_BUFFER_OUT_OF_BOUNDS:new re.ERR_OUT_OF_RANGE(E||"offset",`>= ${E?1:0} and <= ${y}`,h)}ce("ERR_BUFFER_OUT_OF_BOUNDS",function(h){return h?`${h} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ce("ERR_INVALID_ARG_TYPE",function(h,y){return`The "${h}" argument must be of type number. Received type ${typeof y}`},TypeError),ce("ERR_OUT_OF_RANGE",function(h,y,E){let C=`The value of "${h}" is out of range.`,L=E;return Number.isInteger(E)&&Math.abs(E)>2**32?L=le(String(E)):typeof E=="bigint"&&(L=String(E),(E>BigInt(2)**BigInt(32)||E<-(BigInt(2)**BigInt(32)))&&(L=le(L)),L+="n"),C+=` It must be ${y}. Received ${L}`},RangeError);let T=/[^+\/0-9A-Za-z-_]/g;function U(h,y){let E;y=y||1/0;let C=h.length,L=null,H=[];for(let G=0;G<C;++G){if((E=h.charCodeAt(G))>55295&&E<57344){if(!L){if(E>56319){(y-=3)>-1&&H.push(239,191,189);continue}if(G+1===C){(y-=3)>-1&&H.push(239,191,189);continue}L=E;continue}if(E<56320){(y-=3)>-1&&H.push(239,191,189),L=E;continue}E=65536+(L-55296<<10|E-56320)}else L&&(y-=3)>-1&&H.push(239,191,189);if(L=null,E<128){if((y-=1)<0)break;H.push(E)}else if(E<2048){if((y-=2)<0)break;H.push(E>>6|192,63&E|128)}else if(E<65536){if((y-=3)<0)break;H.push(E>>12|224,E>>6&63|128,63&E|128)}else{if(!(E<1114112))throw new Error("Invalid code point");if((y-=4)<0)break;H.push(E>>18|240,E>>12&63|128,E>>6&63|128,63&E|128)}}return H}function K(h){return i.toByteArray(function(y){if((y=(y=y.split("=")[0]).trim().replace(T,"")).length<2)return"";for(;y.length%4!=0;)y+="=";return y}(h))}function W(h,y,E,C){let L;for(L=0;L<C&&!(L+E>=y.length||L>=h.length);++L)y[L+E]=h[L];return L}function Y(h,y){return h instanceof y||h!=null&&h.constructor!=null&&h.constructor.name!=null&&h.constructor.name===y.name}function J(h){return h!=h}let we=function(){let h=new Array(256);for(let y=0;y<16;++y){let E=16*y;for(let C=0;C<16;++C)h[E+C]="0123456789abcdef"[y]+"0123456789abcdef"[C]}return h}();function ne(h){return typeof BigInt>"u"?te:h}function te(){throw new Error("BigInt not supported")}}).call(this,t("buffer").Buffer)},{"base64-js":5,buffer:2,ieee754:6}],5:[function(t,e,r){"use strict";r.byteLength=function(v){var x=c(v),I=x[0],N=x[1];return 3*(I+N)/4-N},r.toByteArray=function(v){var x,I,N=c(v),F=N[0],j=N[1],z=new s(function(fe,ye,de){return 3*(ye+de)/4-de}(0,F,j)),X=0,oe=j>0?F-4:F;for(I=0;I<oe;I+=4)x=i[v.charCodeAt(I)]<<18|i[v.charCodeAt(I+1)]<<12|i[v.charCodeAt(I+2)]<<6|i[v.charCodeAt(I+3)],z[X++]=x>>16&255,z[X++]=x>>8&255,z[X++]=255&x;return j===2&&(x=i[v.charCodeAt(I)]<<2|i[v.charCodeAt(I+1)]>>4,z[X++]=255&x),j===1&&(x=i[v.charCodeAt(I)]<<10|i[v.charCodeAt(I+1)]<<4|i[v.charCodeAt(I+2)]>>2,z[X++]=x>>8&255,z[X++]=255&x),z},r.fromByteArray=function(v){for(var x,I=v.length,N=I%3,F=[],j=0,z=I-N;j<z;j+=16383)F.push(m(v,j,j+16383>z?z:j+16383));return N===1?(x=v[I-1],F.push(n[x>>2]+n[x<<4&63]+"==")):N===2&&(x=(v[I-2]<<8)+v[I-1],F.push(n[x>>10]+n[x>>4&63]+n[x<<2&63]+"=")),F.join("")};for(var n=[],i=[],s=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,f=o.length;a<f;++a)n[a]=o[a],i[o.charCodeAt(a)]=a;function c(v){var x=v.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var I=v.indexOf("=");return I===-1&&(I=x),[I,I===x?0:4-I%4]}function m(v,x,I){for(var N,F,j=[],z=x;z<I;z+=3)N=(v[z]<<16&16711680)+(v[z+1]<<8&65280)+(255&v[z+2]),j.push(n[(F=N)>>18&63]+n[F>>12&63]+n[F>>6&63]+n[63&F]);return j.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],6:[function(t,e,r){r.read=function(n,i,s,o,a){var f,c,m=8*a-o-1,v=(1<<m)-1,x=v>>1,I=-7,N=s?a-1:0,F=s?-1:1,j=n[i+N];for(N+=F,f=j&(1<<-I)-1,j>>=-I,I+=m;I>0;f=256*f+n[i+N],N+=F,I-=8);for(c=f&(1<<-I)-1,f>>=-I,I+=o;I>0;c=256*c+n[i+N],N+=F,I-=8);if(f===0)f=1-x;else{if(f===v)return c?NaN:1/0*(j?-1:1);c+=Math.pow(2,o),f-=x}return(j?-1:1)*c*Math.pow(2,f-o)},r.write=function(n,i,s,o,a,f){var c,m,v,x=8*f-a-1,I=(1<<x)-1,N=I>>1,F=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,j=o?0:f-1,z=o?1:-1,X=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(m=isNaN(i)?1:0,c=I):(c=Math.floor(Math.log(i)/Math.LN2),i*(v=Math.pow(2,-c))<1&&(c--,v*=2),(i+=c+N>=1?F/v:F*Math.pow(2,1-N))*v>=2&&(c++,v/=2),c+N>=I?(m=0,c=I):c+N>=1?(m=(i*v-1)*Math.pow(2,a),c+=N):(m=i*Math.pow(2,N-1)*Math.pow(2,a),c=0));a>=8;n[s+j]=255&m,j+=z,m/=256,a-=8);for(c=c<<a|m,x+=a;x>0;n[s+j]=255&c,j+=z,c/=256,x-=8);n[s+j-z]|=128*X}},{}]},{},[4])(4)})});var g,b=Gr(()=>{g=$5(Rp())});var pe=M((bR,th)=>{p();b();typeof Object.create=="function"?th.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:th.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var e1={};co(e1,{Buffer:()=>V,INSPECT_MAX_BYTES:()=>Fp,SlowBuffer:()=>Rm,isBuffer:()=>Zp,kMaxLength:()=>Bm});function Dp(){nh=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,r=t.length;e<r;++e)Ar[e]=t[e],er[t.charCodeAt(e)]=e;er["-".charCodeAt(0)]=62,er["_".charCodeAt(0)]=63}function Am(t){nh||Dp();var e,r,n,i,s,o,a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s=t[a-2]==="="?2:t[a-1]==="="?1:0,o=new Sm(a*3/4-s),n=s>0?a-4:a;var f=0;for(e=0,r=0;e<n;e+=4,r+=3)i=er[t.charCodeAt(e)]<<18|er[t.charCodeAt(e+1)]<<12|er[t.charCodeAt(e+2)]<<6|er[t.charCodeAt(e+3)],o[f++]=i>>16&255,o[f++]=i>>8&255,o[f++]=i&255;return s===2?(i=er[t.charCodeAt(e)]<<2|er[t.charCodeAt(e+1)]>>4,o[f++]=i&255):s===1&&(i=er[t.charCodeAt(e)]<<10|er[t.charCodeAt(e+1)]<<4|er[t.charCodeAt(e+2)]>>2,o[f++]=i>>8&255,o[f++]=i&255),o}function Im(t){return Ar[t>>18&63]+Ar[t>>12&63]+Ar[t>>6&63]+Ar[t&63]}function Tm(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16)+(t[s+1]<<8)+t[s+2],i.push(Im(n));return i.join("")}function Cp(t){nh||Dp();for(var e,r=t.length,n=r%3,i="",s=[],o=16383,a=0,f=r-n;a<f;a+=o)s.push(Tm(t,a,a+o>f?f:a+o));return n===1?(e=t[r-1],i+=Ar[e>>2],i+=Ar[e<<4&63],i+="=="):n===2&&(e=(t[r-2]<<8)+t[r-1],i+=Ar[e>>10],i+=Ar[e>>4&63],i+=Ar[e<<2&63],i+="="),s.push(i),s.join("")}function Na(t,e,r,n,i){var s,o,a=i*8-n-1,f=(1<<a)-1,c=f>>1,m=-7,v=r?i-1:0,x=r?-1:1,I=t[e+v];for(v+=x,s=I&(1<<-m)-1,I>>=-m,m+=a;m>0;s=s*256+t[e+v],v+=x,m-=8);for(o=s&(1<<-m)-1,s>>=-m,m+=n;m>0;o=o*256+t[e+v],v+=x,m-=8);if(s===0)s=1-c;else{if(s===f)return o?NaN:(I?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-c}return(I?-1:1)*o*Math.pow(2,s-n)}function Lp(t,e,r,n,i,s){var o,a,f,c=s*8-i-1,m=(1<<c)-1,v=m>>1,x=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=n?0:s-1,N=n?1:-1,F=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=m):(o=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-o))<1&&(o--,f*=2),o+v>=1?e+=x/f:e+=x*Math.pow(2,1-v),e*f>=2&&(o++,f/=2),o+v>=m?(a=0,o=m):o+v>=1?(a=(e*f-1)*Math.pow(2,i),o=o+v):(a=e*Math.pow(2,v-1)*Math.pow(2,i),o=0));i>=8;t[r+I]=a&255,I+=N,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[r+I]=o&255,I+=N,o/=256,c-=8);t[r+I-N]|=F*128}function Ra(){return V.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Yr(t,e){if(Ra()<e)throw new RangeError("Invalid typed array length");return V.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=V.prototype):(t===null&&(t=new V(e)),t.length=e),t}function V(t,e,r){if(!V.TYPED_ARRAY_SUPPORT&&!(this instanceof V))return new V(t,e,r);if(typeof t=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return ih(this,t)}return Kp(this,t,e,r)}function Kp(t,e,r,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?Mm(t,e,r,n):typeof e=="string"?Om(t,e,r):qm(t,e)}function jp(t){if(typeof t!="number")throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function Pm(t,e,r,n){return jp(e),e<=0?Yr(t,e):r!==void 0?typeof n=="string"?Yr(t,e).fill(r,n):Yr(t,e).fill(r):Yr(t,e)}function ih(t,e){if(jp(e),t=Yr(t,e<0?0:sh(e)|0),!V.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function Om(t,e,r){if((typeof r!="string"||r==="")&&(r="utf8"),!V.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=Wp(e,r)|0;t=Yr(t,n);var i=t.write(e,r);return i!==n&&(t=t.slice(0,i)),t}function rh(t,e){var r=e.length<0?0:sh(e.length)|0;t=Yr(t,r);for(var n=0;n<r;n+=1)t[n]=e[n]&255;return t}function Mm(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return r===void 0&&n===void 0?e=new Uint8Array(e):n===void 0?e=new Uint8Array(e,r):e=new Uint8Array(e,r,n),V.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=V.prototype):t=rh(t,e),t}function qm(t,e){if(Ir(e)){var r=sh(e.length)|0;return t=Yr(t,r),t.length===0||e.copy(t,0,0,r),t}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||Qm(e.length)?Yr(t,0):rh(t,e);if(e.type==="Buffer"&&Hp(e.data))return rh(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function sh(t){if(t>=Ra())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ra().toString(16)+" bytes");return t|0}function Rm(t){return+t!=t&&(t=0),V.alloc(+t)}function Ir(t){return!!(t!=null&&t._isBuffer)}function Wp(t,e){if(Ir(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var r=t.length;if(r===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Ca(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Jp(t).length;default:if(n)return Ca(t).length;e=(""+e).toLowerCase(),n=!0}}function Cm(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return zm(this,e,r);case"utf8":case"utf-8":return Gp(this,e,r);case"ascii":return jm(this,e,r);case"latin1":case"binary":return Wm(this,e,r);case"base64":return Fm(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Vm(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function hi(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function zp(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=V.from(e,n)),Ir(e))return e.length===0?-1:Np(t,e,r,n,i);if(typeof e=="number")return e=e&255,V.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Np(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Np(t,e,r,n,i){var s=1,o=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,o/=2,a/=2,r/=2}function f(I,N){return s===1?I[N]:I.readUInt16BE(N*s)}var c;if(i){var m=-1;for(c=r;c<o;c++)if(f(t,c)===f(e,m===-1?0:c-m)){if(m===-1&&(m=c),c-m+1===a)return m*s}else m!==-1&&(c-=c-m),m=-1}else for(r+a>o&&(r=o-a),c=r;c>=0;c--){for(var v=!0,x=0;x<a;x++)if(f(t,c+x)!==f(e,x)){v=!1;break}if(v)return c}return-1}function Nm(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var s=e.length;if(s%2!==0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(o*2,2),16);if(isNaN(a))return o;t[r+o]=a}return o}function Um(t,e,r,n){return La(Ca(e,t.length-r),t,r,n)}function Vp(t,e,r,n){return La(Jm(e),t,r,n)}function Dm(t,e,r,n){return Vp(t,e,r,n)}function Lm(t,e,r,n){return La(Jp(e),t,r,n)}function Hm(t,e,r,n){return La(Zm(e,t.length-r),t,r,n)}function Fm(t,e,r){return e===0&&r===t.length?Cp(t):Cp(t.slice(e,r))}function Gp(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s=t[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=r){var f,c,m,v;switch(a){case 1:s<128&&(o=s);break;case 2:f=t[i+1],(f&192)===128&&(v=(s&31)<<6|f&63,v>127&&(o=v));break;case 3:f=t[i+1],c=t[i+2],(f&192)===128&&(c&192)===128&&(v=(s&15)<<12|(f&63)<<6|c&63,v>2047&&(v<55296||v>57343)&&(o=v));break;case 4:f=t[i+1],c=t[i+2],m=t[i+3],(f&192)===128&&(c&192)===128&&(m&192)===128&&(v=(s&15)<<18|(f&63)<<12|(c&63)<<6|m&63,v>65535&&v<1114112&&(o=v))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=a}return Km(n)}function Km(t){var e=t.length;if(e<=Up)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Up));return r}function jm(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function Wm(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function zm(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=e;s<r;++s)i+=$m(t[s]);return i}function Vm(t,e,r){for(var n=t.slice(e,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}function pt(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function Ht(t,e,r,n,i,s){if(!Ir(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function Ua(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-r,2);i<s;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}function Da(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(t.length-r,4);i<s;++i)t[r+i]=e>>>(n?i:3-i)*8&255}function Xp(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Yp(t,e,r,n,i){return i||Xp(t,e,r,4),Lp(t,e,r,n,23,4),r+4}function $p(t,e,r,n,i){return i||Xp(t,e,r,8),Lp(t,e,r,n,52,8),r+8}function Xm(t){if(t=Ym(t).replace(Gm,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function Ym(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function $m(t){return t<16?"0"+t.toString(16):t.toString(16)}function Ca(t,e){e=e||1/0;for(var r,n=t.length,i=null,s=[],o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function Jm(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function Zm(t,e){for(var r,n,i,s=[],o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function Jp(t){return Am(Xm(t))}function La(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Qm(t){return t!==t}function Zp(t){return t!=null&&(!!t._isBuffer||Qp(t)||e_(t))}function Qp(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function e_(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&Qp(t.slice(0,0))}var Ar,er,Sm,nh,km,Hp,Fp,Bm,Up,Gm,oh=Gr(()=>{p();b();Ar=[],er=[],Sm=typeof Uint8Array<"u"?Uint8Array:Array,nh=!1;km={}.toString,Hp=Array.isArray||function(t){return km.call(t)=="[object Array]"};Fp=50;V.TYPED_ARRAY_SUPPORT=globalThis.TYPED_ARRAY_SUPPORT!==void 0?globalThis.TYPED_ARRAY_SUPPORT:!0;Bm=Ra();V.poolSize=8192;V._augment=function(t){return t.__proto__=V.prototype,t};V.from=function(t,e,r){return Kp(null,t,e,r)};V.TYPED_ARRAY_SUPPORT&&(V.prototype.__proto__=Uint8Array.prototype,V.__proto__=Uint8Array);V.alloc=function(t,e,r){return Pm(null,t,e,r)};V.allocUnsafe=function(t){return ih(null,t)};V.allocUnsafeSlow=function(t){return ih(null,t)};V.isBuffer=Zp;V.compare=function(e,r){if(!Ir(e)||!Ir(r))throw new TypeError("Arguments must be Buffers");if(e===r)return 0;for(var n=e.length,i=r.length,s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==r[s]){n=e[s],i=r[s];break}return n<i?-1:i<n?1:0};V.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};V.concat=function(e,r){if(!Hp(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return V.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=V.allocUnsafe(r),s=0;for(n=0;n<e.length;++n){var o=e[n];if(!Ir(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,s),s+=o.length}return i};V.byteLength=Wp;V.prototype._isBuffer=!0;V.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)hi(this,r,r+1);return this};V.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)hi(this,r,r+3),hi(this,r+1,r+2);return this};V.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)hi(this,r,r+7),hi(this,r+1,r+6),hi(this,r+2,r+5),hi(this,r+3,r+4);return this};V.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?Gp(this,0,e):Cm.apply(this,arguments)};V.prototype.equals=function(e){if(!Ir(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:V.compare(this,e)===0};V.prototype.inspect=function(){var e="",r=Fp;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"};V.prototype.compare=function(e,r,n,i,s){if(!Ir(e))throw new TypeError("Argument must be a Buffer");if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;for(var o=s-i,a=n-r,f=Math.min(o,a),c=this.slice(i,s),m=e.slice(r,n),v=0;v<f;++v)if(c[v]!==m[v]){o=c[v],a=m[v];break}return o<a?-1:a<o?1:0};V.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};V.prototype.indexOf=function(e,r,n){return zp(this,e,r,n,!0)};V.prototype.lastIndexOf=function(e,r,n){return zp(this,e,r,n,!1)};V.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-r;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return Nm(this,e,r,n);case"utf8":case"utf-8":return Um(this,e,r,n);case"ascii":return Vp(this,e,r,n);case"latin1":case"binary":return Dm(this,e,r,n);case"base64":return Lm(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Hm(this,e,r,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};V.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};Up=4096;V.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i;if(V.TYPED_ARRAY_SUPPORT)i=this.subarray(e,r),i.__proto__=V.prototype;else{var s=r-e;i=new V(s,void 0);for(var o=0;o<s;++o)i[o]=this[o+e]}return i};V.prototype.readUIntLE=function(e,r,n){e=e|0,r=r|0,n||pt(e,r,this.length);for(var i=this[e],s=1,o=0;++o<r&&(s*=256);)i+=this[e+o]*s;return i};V.prototype.readUIntBE=function(e,r,n){e=e|0,r=r|0,n||pt(e,r,this.length);for(var i=this[e+--r],s=1;r>0&&(s*=256);)i+=this[e+--r]*s;return i};V.prototype.readUInt8=function(e,r){return r||pt(e,1,this.length),this[e]};V.prototype.readUInt16LE=function(e,r){return r||pt(e,2,this.length),this[e]|this[e+1]<<8};V.prototype.readUInt16BE=function(e,r){return r||pt(e,2,this.length),this[e]<<8|this[e+1]};V.prototype.readUInt32LE=function(e,r){return r||pt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};V.prototype.readUInt32BE=function(e,r){return r||pt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};V.prototype.readIntLE=function(e,r,n){e=e|0,r=r|0,n||pt(e,r,this.length);for(var i=this[e],s=1,o=0;++o<r&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i};V.prototype.readIntBE=function(e,r,n){e=e|0,r=r|0,n||pt(e,r,this.length);for(var i=r,s=1,o=this[e+--i];i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*r)),o};V.prototype.readInt8=function(e,r){return r||pt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};V.prototype.readInt16LE=function(e,r){r||pt(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};V.prototype.readInt16BE=function(e,r){r||pt(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};V.prototype.readInt32LE=function(e,r){return r||pt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};V.prototype.readInt32BE=function(e,r){return r||pt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};V.prototype.readFloatLE=function(e,r){return r||pt(e,4,this.length),Na(this,e,!0,23,4)};V.prototype.readFloatBE=function(e,r){return r||pt(e,4,this.length),Na(this,e,!1,23,4)};V.prototype.readDoubleLE=function(e,r){return r||pt(e,8,this.length),Na(this,e,!0,52,8)};V.prototype.readDoubleBE=function(e,r){return r||pt(e,8,this.length),Na(this,e,!1,52,8)};V.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r|0,n=n|0,!i){var s=Math.pow(2,8*n)-1;Ht(this,e,r,n,s,0)}var o=1,a=0;for(this[r]=e&255;++a<n&&(o*=256);)this[r+a]=e/o&255;return r+n};V.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r|0,n=n|0,!i){var s=Math.pow(2,8*n)-1;Ht(this,e,r,n,s,0)}var o=n-1,a=1;for(this[r+o]=e&255;--o>=0&&(a*=256);)this[r+o]=e/a&255;return r+n};V.prototype.writeUInt8=function(e,r,n){return e=+e,r=r|0,n||Ht(this,e,r,1,255,0),V.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[r]=e&255,r+1};V.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r|0,n||Ht(this,e,r,2,65535,0),V.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8):Ua(this,e,r,!0),r+2};V.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r|0,n||Ht(this,e,r,2,65535,0),V.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e&255):Ua(this,e,r,!1),r+2};V.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r|0,n||Ht(this,e,r,4,4294967295,0),V.TYPED_ARRAY_SUPPORT?(this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255):Da(this,e,r,!0),r+4};V.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r|0,n||Ht(this,e,r,4,4294967295,0),V.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255):Da(this,e,r,!1),r+4};V.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r|0,!i){var s=Math.pow(2,8*n-1);Ht(this,e,r,n,s-1,-s)}var o=0,a=1,f=0;for(this[r]=e&255;++o<n&&(a*=256);)e<0&&f===0&&this[r+o-1]!==0&&(f=1),this[r+o]=(e/a>>0)-f&255;return r+n};V.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r|0,!i){var s=Math.pow(2,8*n-1);Ht(this,e,r,n,s-1,-s)}var o=n-1,a=1,f=0;for(this[r+o]=e&255;--o>=0&&(a*=256);)e<0&&f===0&&this[r+o+1]!==0&&(f=1),this[r+o]=(e/a>>0)-f&255;return r+n};V.prototype.writeInt8=function(e,r,n){return e=+e,r=r|0,n||Ht(this,e,r,1,127,-128),V.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[r]=e&255,r+1};V.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r|0,n||Ht(this,e,r,2,32767,-32768),V.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8):Ua(this,e,r,!0),r+2};V.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r|0,n||Ht(this,e,r,2,32767,-32768),V.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=e&255):Ua(this,e,r,!1),r+2};V.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r|0,n||Ht(this,e,r,4,2147483647,-2147483648),V.TYPED_ARRAY_SUPPORT?(this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24):Da(this,e,r,!0),r+4};V.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r|0,n||Ht(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),V.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255):Da(this,e,r,!1),r+4};V.prototype.writeFloatLE=function(e,r,n){return Yp(this,e,r,!0,n)};V.prototype.writeFloatBE=function(e,r,n){return Yp(this,e,r,!1,n)};V.prototype.writeDoubleLE=function(e,r,n){return $p(this,e,r,!0,n)};V.prototype.writeDoubleBE=function(e,r,n){return $p(this,e,r,!1,n)};V.prototype.copy=function(e,r,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var s=i-n,o;if(this===e&&n<r&&r<i)for(o=s-1;o>=0;--o)e[o+r]=this[o+n];else if(s<1e3||!V.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)e[o+r]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),r);return s};V.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),e.length===1){var s=e.charCodeAt(0);s<256&&(e=s)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!V.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof e=="number"&&(e=e&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{var a=Ir(e)?e:Ca(new V(e,i).toString()),f=a.length;for(o=0;o<n-r;++o)this[o+r]=a[o%f]}return this};Gm=/[^+\/0-9A-Za-z-_]/g});var On=M((mR,Ha)=>{p();b();var di=(oh(),ho(e1));if(di&&di.default){Ha.exports=di.default;for(let t in di)Ha.exports[t]=di[t]}else di&&(Ha.exports=di)});var me=M((ah,r1)=>{p();b();var Fa=On(),Tr=Fa.Buffer;function t1(t,e){for(var r in t)e[r]=t[r]}Tr.from&&Tr.alloc&&Tr.allocUnsafe&&Tr.allocUnsafeSlow?r1.exports=Fa:(t1(Fa,ah),ah.Buffer=li);function li(t,e,r){return Tr(t,e,r)}li.prototype=Object.create(Tr.prototype);t1(Tr,li);li.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Tr(t,e,r)};li.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Tr(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};li.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Tr(t)};li.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Fa.SlowBuffer(t)}});var a1={};co(a1,{EventEmitter:()=>Te,default:()=>t_});function Mn(){}function Te(){Te.init.call(this)}function n1(t){return t._maxListeners===void 0?Te.defaultMaxListeners:t._maxListeners}function r_(t,e,r){if(e)t.call(r);else for(var n=t.length,i=lo(t,n),s=0;s<n;++s)i[s].call(r)}function n_(t,e,r,n){if(e)t.call(r,n);else for(var i=t.length,s=lo(t,i),o=0;o<i;++o)s[o].call(r,n)}function i_(t,e,r,n,i){if(e)t.call(r,n,i);else for(var s=t.length,o=lo(t,s),a=0;a<s;++a)o[a].call(r,n,i)}function s_(t,e,r,n,i,s){if(e)t.call(r,n,i,s);else for(var o=t.length,a=lo(t,o),f=0;f<o;++f)a[f].call(r,n,i,s)}function o_(t,e,r,n){if(e)t.apply(r,n);else for(var i=t.length,s=lo(t,i),o=0;o<i;++o)s[o].apply(r,n)}function i1(t,e,r,n){var i,s,o;if(typeof r!="function")throw new TypeError('"listener" argument must be a function');if(s=t._events,s?(s.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]):(s=t._events=new Mn,t._eventsCount=0),!o)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),!o.warned&&(i=n1(t),i&&i>0&&o.length>i)){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,a_(a)}return t}function a_(t){typeof console.warn=="function"?console.warn(t):console.log(t)}function s1(t,e,r){var n=!1;function i(){t.removeListener(e,i),n||(n=!0,r.apply(t,arguments))}return i.listener=r,i}function o1(t){var e=this._events;if(e){var r=e[t];if(typeof r=="function")return 1;if(r)return r.length}return 0}function f_(t,e){for(var r=e,n=r+1,i=t.length;n<i;r+=1,n+=1)t[r]=t[n];t.pop()}function lo(t,e){for(var r=new Array(e);e--;)r[e]=t[e];return r}function u_(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}var fh,t_,f1=Gr(()=>{"use strict";p();b();Mn.prototype=Object.create(null);t_=Te;Te.EventEmitter=Te;Te.usingDomains=!1;Te.prototype.domain=void 0;Te.prototype._events=void 0;Te.prototype._maxListeners=void 0;Te.defaultMaxListeners=10;Te.init=function(){this.domain=null,Te.usingDomains&&fh.active&&!(this instanceof fh.Domain)&&(this.domain=fh.active),(!this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=new Mn,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Te.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this};Te.prototype.getMaxListeners=function(){return n1(this)};Te.prototype.emit=function(e){var r,n,i,s,o,a,f,c=!1,m=e==="error";if(a=this._events,a)m=m&&a.error==null;else if(!m)return!1;if(f=this.domain,m){if(r=arguments[1],f)r||(r=new Error('Uncaught, unspecified "error" event')),r.domainEmitter=this,r.domain=f,r.domainThrown=!1,f.emit("error",r);else{if(r instanceof Error)throw r;var v=new Error('Uncaught, unspecified "error" event. ('+r+")");throw v.context=r,v}return!1}if(n=a[e],!n)return!1;var x=typeof n=="function";switch(i=arguments.length,i){case 1:r_(n,x,this);break;case 2:n_(n,x,this,arguments[1]);break;case 3:i_(n,x,this,arguments[1],arguments[2]);break;case 4:s_(n,x,this,arguments[1],arguments[2],arguments[3]);break;default:for(s=new Array(i-1),o=1;o<i;o++)s[o-1]=arguments[o];o_(n,x,this,s)}return c&&f.exit(),!0};Te.prototype.addListener=function(e,r){return i1(this,e,r,!1)};Te.prototype.on=Te.prototype.addListener;Te.prototype.prependListener=function(e,r){return i1(this,e,r,!0)};Te.prototype.once=function(e,r){if(typeof r!="function")throw new TypeError('"listener" argument must be a function');return this.on(e,s1(this,e,r)),this};Te.prototype.prependOnceListener=function(e,r){if(typeof r!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(e,s1(this,e,r)),this};Te.prototype.removeListener=function(e,r){var n,i,s,o,a;if(typeof r!="function")throw new TypeError('"listener" argument must be a function');if(i=this._events,!i)return this;if(n=i[e],!n)return this;if(n===r||n.listener&&n.listener===r)--this._eventsCount===0?this._events=new Mn:(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length;o-- >0;)if(n[o]===r||n[o].listener&&n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;if(n.length===1){if(n[0]=void 0,--this._eventsCount===0)return this._events=new Mn,this;delete i[e]}else f_(n,s);i.removeListener&&this.emit("removeListener",e,a||r)}return this};Te.prototype.removeAllListeners=function(e){var r,n;if(n=this._events,!n)return this;if(!n.removeListener)return arguments.length===0?(this._events=new Mn,this._eventsCount=0):n[e]&&(--this._eventsCount===0?this._events=new Mn:delete n[e]),this;if(arguments.length===0){for(var i=Object.keys(n),s=0,o;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=new Mn,this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r)do this.removeListener(e,r[r.length-1]);while(r[0]);return this};Te.prototype.listeners=function(e){var r,n,i=this._events;return i?(r=i[e],r?typeof r=="function"?n=[r.listener||r]:n=u_(r):n=[]):n=[],n};Te.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):o1.call(t,e)};Te.prototype.listenerCount=o1;Te.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}});var ja=M((TR,Ka)=>{p();b();var pi=(f1(),ho(a1));if(pi&&pi.default){Ka.exports=pi.default;for(let t in pi)Ka.exports[t]=pi[t]}else pi&&(Ka.exports=pi)});var po=M((PR,uh)=>{"use strict";p();b();typeof B>"u"||!B.version||B.version.indexOf("v0.")===0||B.version.indexOf("v1.")===0&&B.version.indexOf("v1.8.")!==0?uh.exports={nextTick:c_}:uh.exports=B;function c_(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,s,o;switch(i){case 0:case 1:return B.nextTick(t);case 2:return B.nextTick(function(){t.call(null,e)});case 3:return B.nextTick(function(){t.call(null,e,r)});case 4:return B.nextTick(function(){t.call(null,e,r,n)});default:for(s=new Array(i-1),o=0;o<s.length;)s[o++]=arguments[o];return B.nextTick(function(){t.apply(null,s)})}}});var c1=M((qR,u1)=>{p();b();var h_={}.toString;u1.exports=Array.isArray||function(t){return h_.call(t)=="[object Array]"}});var ch=M((NR,h1)=>{p();b();h1.exports=ja().EventEmitter});var bo=M((hh,l1)=>{p();b();var Wa=On(),$r=Wa.Buffer;function d1(t,e){for(var r in t)e[r]=t[r]}$r.from&&$r.alloc&&$r.allocUnsafe&&$r.allocUnsafeSlow?l1.exports=Wa:(d1(Wa,hh),hh.Buffer=bs);function bs(t,e,r){return $r(t,e,r)}d1($r,bs);bs.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return $r(t,e,r)};bs.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=$r(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};bs.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return $r(t)};bs.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Wa.SlowBuffer(t)}});var vs=M(Pt=>{p();b();function d_(t){return Array.isArray?Array.isArray(t):za(t)==="[object Array]"}Pt.isArray=d_;function l_(t){return typeof t=="boolean"}Pt.isBoolean=l_;function p_(t){return t===null}Pt.isNull=p_;function b_(t){return t==null}Pt.isNullOrUndefined=b_;function v_(t){return typeof t=="number"}Pt.isNumber=v_;function y_(t){return typeof t=="string"}Pt.isString=y_;function g_(t){return typeof t=="symbol"}Pt.isSymbol=g_;function w_(t){return t===void 0}Pt.isUndefined=w_;function m_(t){return za(t)==="[object RegExp]"}Pt.isRegExp=m_;function __(t){return typeof t=="object"&&t!==null}Pt.isObject=__;function x_(t){return za(t)==="[object Date]"}Pt.isDate=x_;function E_(t){return za(t)==="[object Error]"||t instanceof Error}Pt.isError=E_;function S_(t){return typeof t=="function"}Pt.isFunction=S_;function A_(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}Pt.isPrimitive=A_;Pt.isBuffer=g.Buffer.isBuffer;function za(t){return Object.prototype.toString.call(t)}});function p1(){throw new Error("setTimeout has not been defined")}function b1(){throw new Error("clearTimeout has not been defined")}function v1(t){if(qn===setTimeout)return setTimeout(t,0);if((qn===p1||!qn)&&setTimeout)return qn=setTimeout,setTimeout(t,0);try{return qn(t,0)}catch{try{return qn.call(null,t,0)}catch{return qn.call(this,t,0)}}}function I_(t){if(Rn===clearTimeout)return clearTimeout(t);if((Rn===b1||!Rn)&&clearTimeout)return Rn=clearTimeout,clearTimeout(t);try{return Rn(t)}catch{try{return Rn.call(null,t)}catch{return Rn.call(this,t)}}}function T_(){!gs||!bi||(gs=!1,bi.length?Jr=bi.concat(Jr):Va=-1,Jr.length&&y1())}function y1(){if(!gs){var t=v1(T_);gs=!0;for(var e=Jr.length;e;){for(bi=Jr,Jr=[];++Va<e;)bi&&bi[Va].run();Va=-1,e=Jr.length}bi=null,gs=!1,I_(t)}}function k_(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Jr.push(new g1(t,e)),Jr.length===1&&!gs&&v1(y1)}function g1(t,e){this.fun=t,this.array=e}function vi(){}function z_(t){throw new Error("process.binding is not supported")}function V_(){return"/"}function G_(t){throw new Error("process.chdir is not supported")}function X_(){return 0}function $_(t){var e=Y_.call(ys)*.001,r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r=r-t[0],n=n-t[1],n<0&&(r--,n+=1e9)),[r,n]}function Z_(){var t=new Date,e=t-J_;return e/1e3}var qn,Rn,Jr,gs,bi,Va,B_,P_,O_,M_,q_,R_,C_,N_,U_,D_,L_,H_,F_,K_,j_,W_,ys,Y_,J_,Q_,vo,w1=Gr(()=>{p();b();qn=p1,Rn=b1;typeof globalThis.setTimeout=="function"&&(qn=setTimeout);typeof globalThis.clearTimeout=="function"&&(Rn=clearTimeout);Jr=[],gs=!1,Va=-1;g1.prototype.run=function(){this.fun.apply(null,this.array)};B_="browser",P_="browser",O_=!0,M_={},q_=[],R_="",C_={},N_={},U_={};D_=vi,L_=vi,H_=vi,F_=vi,K_=vi,j_=vi,W_=vi;ys=globalThis.performance||{},Y_=ys.now||ys.mozNow||ys.msNow||ys.oNow||ys.webkitNow||function(){return new Date().getTime()};J_=new Date;Q_={nextTick:k_,title:B_,browser:O_,env:M_,argv:q_,version:R_,versions:C_,on:D_,addListener:L_,once:H_,off:F_,removeListener:K_,removeAllListeners:j_,emit:W_,binding:z_,cwd:V_,chdir:G_,umask:X_,hrtime:$_,platform:P_,release:N_,config:U_,uptime:Z_},vo=Q_});var dh,lh,m1=Gr(()=>{p();b();typeof Object.create=="function"?dh=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:dh=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e};lh=dh});var k1={};co(k1,{_extend:()=>xh,debuglog:()=>_1,default:()=>u7,deprecate:()=>gh,format:()=>$a,inherits:()=>lh,inspect:()=>Br,isArray:()=>wh,isBoolean:()=>Ja,isBuffer:()=>A1,isDate:()=>Ya,isError:()=>go,isFunction:()=>wo,isNull:()=>mo,isNullOrUndefined:()=>x1,isNumber:()=>mh,isObject:()=>yi,isPrimitive:()=>S1,isRegExp:()=>yo,isString:()=>_o,isSymbol:()=>E1,isUndefined:()=>kr,log:()=>I1});function $a(t){if(!_o(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(Br(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,s=String(t).replace(e7,function(a){if(a==="%%")return"%";if(r>=i)return a;switch(a){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return a}}),o=n[r];r<i;o=n[++r])mo(o)||!yi(o)?s+=" "+o:s+=" "+Br(o);return s}function gh(t,e){if(kr(globalThis.process))return function(){return gh(t,e).apply(this,arguments)};if(vo.noDeprecation===!0)return t;var r=!1;function n(){if(!r){if(vo.throwDeprecation)throw new Error(e);vo.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return n}function _1(t){if(kr(ph)&&(ph=vo.env.NODE_DEBUG||""),t=t.toUpperCase(),!Ga[t])if(new RegExp("\\b"+t+"\\b","i").test(ph)){var e=0;Ga[t]=function(){var r=$a.apply(null,arguments);console.error("%s %d: %s",t,e,r)}}else Ga[t]=function(){};return Ga[t]}function Br(t,e){var r={seen:[],stylize:r7};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Ja(e)?r.showHidden=e:e&&xh(r,e),kr(r.showHidden)&&(r.showHidden=!1),kr(r.depth)&&(r.depth=2),kr(r.colors)&&(r.colors=!1),kr(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=t7),Xa(r,t,r.depth)}function t7(t,e){var r=Br.styles[e];return r?"\x1B["+Br.colors[r][0]+"m"+t+"\x1B["+Br.colors[r][1]+"m":t}function r7(t,e){return t}function n7(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function Xa(t,e,r){if(t.customInspect&&e&&wo(e.inspect)&&e.inspect!==Br&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return _o(n)||(n=Xa(t,n,r)),n}var i=i7(t,e);if(i)return i;var s=Object.keys(e),o=n7(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),go(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return bh(e);if(s.length===0){if(wo(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(yo(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Ya(e))return t.stylize(Date.prototype.toString.call(e),"date");if(go(e))return bh(e)}var f="",c=!1,m=["{","}"];if(wh(e)&&(c=!0,m=["[","]"]),wo(e)){var v=e.name?": "+e.name:"";f=" [Function"+v+"]"}if(yo(e)&&(f=" "+RegExp.prototype.toString.call(e)),Ya(e)&&(f=" "+Date.prototype.toUTCString.call(e)),go(e)&&(f=" "+bh(e)),s.length===0&&(!c||e.length==0))return m[0]+f+m[1];if(r<0)return yo(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var x;return c?x=s7(t,e,r,o,s):x=s.map(function(I){return yh(t,e,r,o,I,c)}),t.seen.pop(),o7(x,f,m)}function i7(t,e){if(kr(e))return t.stylize("undefined","undefined");if(_o(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(mh(e))return t.stylize(""+e,"number");if(Ja(e))return t.stylize(""+e,"boolean");if(mo(e))return t.stylize("null","null")}function bh(t){return"["+Error.prototype.toString.call(t)+"]"}function s7(t,e,r,n,i){for(var s=[],o=0,a=e.length;o<a;++o)T1(e,String(o))?s.push(yh(t,e,r,n,String(o),!0)):s.push("");return i.forEach(function(f){f.match(/^\d+$/)||s.push(yh(t,e,r,n,f,!0))}),s}function yh(t,e,r,n,i,s){var o,a,f;if(f=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},f.get?f.set?a=t.stylize("[Getter/Setter]","special"):a=t.stylize("[Getter]","special"):f.set&&(a=t.stylize("[Setter]","special")),T1(n,i)||(o="["+i+"]"),a||(t.seen.indexOf(f.value)<0?(mo(r)?a=Xa(t,f.value,null):a=Xa(t,f.value,r-1),a.indexOf(`
`)>-1&&(s?a=a.split(`
`).map(function(c){return"  "+c}).join(`
`).substr(2):a=`
`+a.split(`
`).map(function(c){return"   "+c}).join(`
`))):a=t.stylize("[Circular]","special")),kr(o)){if(s&&i.match(/^\d+$/))return a;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function o7(t,e,r){var n=0,i=t.reduce(function(s,o){return n++,o.indexOf(`
`)>=0&&n++,s+o.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function wh(t){return Array.isArray(t)}function Ja(t){return typeof t=="boolean"}function mo(t){return t===null}function x1(t){return t==null}function mh(t){return typeof t=="number"}function _o(t){return typeof t=="string"}function E1(t){return typeof t=="symbol"}function kr(t){return t===void 0}function yo(t){return yi(t)&&_h(t)==="[object RegExp]"}function yi(t){return typeof t=="object"&&t!==null}function Ya(t){return yi(t)&&_h(t)==="[object Date]"}function go(t){return yi(t)&&(_h(t)==="[object Error]"||t instanceof Error)}function wo(t){return typeof t=="function"}function S1(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}function A1(t){return g.Buffer.isBuffer(t)}function _h(t){return Object.prototype.toString.call(t)}function vh(t){return t<10?"0"+t.toString(10):t.toString(10)}function f7(){var t=new Date,e=[vh(t.getHours()),vh(t.getMinutes()),vh(t.getSeconds())].join(":");return[t.getDate(),a7[t.getMonth()],e].join(" ")}function I1(){console.log("%s - %s",f7(),$a.apply(null,arguments))}function xh(t,e){if(!e||!yi(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}function T1(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var e7,Ga,ph,a7,u7,B1=Gr(()=>{p();b();w1();m1();e7=/%[sdj%]/g;Ga={};Br.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Br.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};a7=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];u7={inherits:lh,_extend:xh,log:I1,isBuffer:A1,isPrimitive:S1,isFunction:wo,isError:go,isDate:Ya,isObject:yi,isRegExp:yo,isUndefined:kr,isSymbol:E1,isString:_o,isNumber:mh,isNullOrUndefined:x1,isNull:mo,isBoolean:Ja,isArray:wh,inspect:Br,deprecate:gh,format:$a,debuglog:_1}});var Eh=M((eC,Za)=>{p();b();var gi=(B1(),ho(k1));if(gi&&gi.default){Za.exports=gi.default;for(let t in gi)Za.exports[t]=gi[t]}else gi&&(Za.exports=gi)});var O1=M((nC,Sh)=>{"use strict";p();b();function c7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var P1=bo().Buffer,xo=Eh();function h7(t,e,r){t.copy(e,r)}Sh.exports=function(){function t(){c7(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return P1.alloc(0);if(this.length===1)return this.head.data;for(var n=P1.allocUnsafe(r>>>0),i=this.head,s=0;i;)h7(i.data,n,s),s+=i.data.length,i=i.next;return n},t}();xo&&xo.inspect&&xo.inspect.custom&&(Sh.exports.prototype[xo.inspect.custom]=function(){var t=xo.inspect({length:this.length});return this.constructor.name+" "+t})});var Ah=M((oC,R1)=>{"use strict";p();b();var M1=po();function d7(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(!this._writableState||!this._writableState.errorEmitted)&&M1.nextTick(q1,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?(M1.nextTick(q1,r,s),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(s)}),this)}function l7(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function q1(t,e){t.emit("error",e)}R1.exports={destroy:d7,undestroy:l7}});var N1=M((uC,C1)=>{p();b();C1.exports=p7;function p7(t,e){if(Ih("noDeprecation"))return t;var r=!1;function n(){if(!r){if(Ih("throwDeprecation"))throw new Error(e);Ih("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function Ih(t){try{if(!globalThis.localStorage)return!1}catch{return!1}var e=globalThis.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var tf=M((dC,W1)=>{"use strict";p();b();var wi=po();W1.exports=ut;function D1(t){var e=this;this.next=null,this.entry=null,this.finish=function(){M7(e,t)}}var b7=!B.browser&&["v0.10","v0.9."].indexOf(B.version.slice(0,5))>-1?setImmediate:wi.nextTick,ws;ut.WritableState=So;var L1=Object.create(vs());L1.inherits=pe();var v7={deprecate:N1()},H1=ch(),ef=bo().Buffer,y7=globalThis.Uint8Array||function(){};function g7(t){return ef.from(t)}function w7(t){return ef.isBuffer(t)||t instanceof y7}var F1=Ah();L1.inherits(ut,H1);function m7(){}function So(t,e){ws=ws||Cn(),t=t||{};var r=e instanceof ws;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){T7(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new D1(this)}So.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(So.prototype,"buffer",{get:v7.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Qa;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Qa=Function.prototype[Symbol.hasInstance],Object.defineProperty(ut,Symbol.hasInstance,{value:function(t){return Qa.call(this,t)?!0:this!==ut?!1:t&&t._writableState instanceof So}})):Qa=function(t){return t instanceof this};function ut(t){if(ws=ws||Cn(),!Qa.call(ut,this)&&!(this instanceof ws))return new ut(t);this._writableState=new So(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),H1.call(this)}ut.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function _7(t,e){var r=new Error("write after end");t.emit("error",r),wi.nextTick(e,r)}function x7(t,e,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),wi.nextTick(n,s),i=!1),i}ut.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&w7(t);return s&&!ef.isBuffer(t)&&(t=g7(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=m7),n.ended?_7(this,r):(s||x7(this,n,t,r))&&(n.pendingcb++,i=S7(this,n,s,t,e,r)),i};ut.prototype.cork=function(){var t=this._writableState;t.corked++};ut.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.finished&&!t.bufferProcessing&&t.bufferedRequest&&K1(this,t))};ut.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function E7(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=ef.from(e,r)),e}Object.defineProperty(ut.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function S7(t,e,r,n,i,s){if(!r){var o=E7(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var f=e.length<e.highWaterMark;if(f||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Th(t,e,!1,a,n,i,s);return f}function Th(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function A7(t,e,r,n,i){--e.pendingcb,r?(wi.nextTick(i,n),wi.nextTick(Eo,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),Eo(t,e))}function I7(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function T7(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(I7(r),e)A7(t,r,n,e,i);else{var s=j1(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&K1(t,r),n?b7(U1,t,r,s,i):U1(t,r,s,i)}}function U1(t,e,r,n){r||k7(t,e),e.pendingcb--,n(),Eo(t,e)}function k7(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function K1(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,Th(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new D1(e),e.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,c=r.encoding,m=r.callback,v=e.objectMode?1:f.length;if(Th(t,e,!1,v,f,c,m),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}ut.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};ut.prototype._writev=null;ut.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&O7(this,n,r)};function j1(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function B7(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),Eo(t,e)})}function P7(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,wi.nextTick(B7,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Eo(t,e){var r=j1(e);return r&&(P7(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function O7(t,e,r){e.ending=!0,Eo(t,e),r&&(e.finished?wi.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function M7(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}Object.defineProperty(ut.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){!this._writableState||(this._writableState.destroyed=t)}});ut.prototype.destroy=F1.destroy;ut.prototype._undestroy=F1.undestroy;ut.prototype._destroy=function(t,e){this.end(),e(t)}});var Cn=M((bC,X1)=>{"use strict";p();b();var z1=po(),q7=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};X1.exports=Zr;var V1=Object.create(vs());V1.inherits=pe();var G1=Ph(),Bh=tf();V1.inherits(Zr,G1);for(kh=q7(Bh.prototype),rf=0;rf<kh.length;rf++)nf=kh[rf],Zr.prototype[nf]||(Zr.prototype[nf]=Bh.prototype[nf]);var kh,nf,rf;function Zr(t){if(!(this instanceof Zr))return new Zr(t);G1.call(this,t),Bh.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",R7)}Object.defineProperty(Zr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function R7(){this.allowHalfOpen||this._writableState.ended||z1.nextTick(C7,this)}function C7(t){t.end()}Object.defineProperty(Zr.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});Zr.prototype._destroy=function(t,e){this.push(null),this.end(),z1.nextTick(e,t)}});var qh=M($1=>{"use strict";p();b();var Mh=bo().Buffer,Y1=Mh.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function N7(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function U7(t){var e=N7(t);if(typeof e!="string"&&(Mh.isEncoding===Y1||!Y1(t)))throw new Error("Unknown encoding: "+t);return e||t}$1.StringDecoder=Ao;function Ao(t){this.encoding=U7(t);var e;switch(this.encoding){case"utf16le":this.text=j7,this.end=W7,e=4;break;case"utf8":this.fillLast=H7,e=4;break;case"base64":this.text=z7,this.end=V7,e=3;break;default:this.write=G7,this.end=X7;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Mh.allocUnsafe(e)}Ao.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Ao.prototype.end=K7;Ao.prototype.text=F7;Ao.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Oh(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function D7(t,e,r){var n=e.length-1;if(n<r)return 0;var i=Oh(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=Oh(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=Oh(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function L7(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function H7(t){var e=this.lastTotal-this.lastNeed,r=L7(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function F7(t,e){var r=D7(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function K7(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function j7(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function W7(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function z7(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function V7(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function G7(t){return t.toString(this.encoding)}function X7(t){return t&&t.length?this.write(t):""}});var Ph=M((xC,f2)=>{"use strict";p();b();var _s=po();f2.exports=Ce;var Y7=c1(),Io;Ce.ReadableState=n2;var _C=ja().EventEmitter,e2=function(t,e){return t.listeners(e).length},Dh=ch(),To=bo().Buffer,$7=globalThis.Uint8Array||function(){};function J7(t){return To.from(t)}function Z7(t){return To.isBuffer(t)||t instanceof $7}var t2=Object.create(vs());t2.inherits=pe();var Rh=Eh(),_e=void 0;Rh&&Rh.debuglog?_e=Rh.debuglog("stream"):_e=function(){};var Q7=O1(),r2=Ah(),ms;t2.inherits(Ce,Dh);var Ch=["error","close","destroy","pause","resume"];function e9(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Y7(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function n2(t,e){Io=Io||Cn(),t=t||{};var r=e instanceof Io;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Q7,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(ms||(ms=qh().StringDecoder),this.decoder=new ms(t.encoding),this.encoding=t.encoding)}function Ce(t){if(Io=Io||Cn(),!(this instanceof Ce))return new Ce(t);this._readableState=new n2(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Dh.call(this)}Object.defineProperty(Ce.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){!this._readableState||(this._readableState.destroyed=t)}});Ce.prototype.destroy=r2.destroy;Ce.prototype._undestroy=r2.undestroy;Ce.prototype._destroy=function(t,e){this.push(null),e(t)};Ce.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=To.from(t,e),e=""),n=!0),i2(this,t,e,!1,n)};Ce.prototype.unshift=function(t){return i2(this,t,null,!0,!1)};function i2(t,e,r,n,i){var s=t._readableState;if(e===null)s.reading=!1,i9(t,s);else{var o;i||(o=t9(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==To.prototype&&(e=J7(e)),n?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):Nh(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?Nh(t,s,e,!1):s2(t,s)):Nh(t,s,e,!1))):n||(s.reading=!1)}return r9(s)}function Nh(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&sf(t)),s2(t,e)}function t9(t,e){var r;return!Z7(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function r9(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}Ce.prototype.isPaused=function(){return this._readableState.flowing===!1};Ce.prototype.setEncoding=function(t){return ms||(ms=qh().StringDecoder),this._readableState.decoder=new ms(t),this._readableState.encoding=t,this};var J1=8388608;function n9(t){return t>=J1?t=J1:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function Z1(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=n9(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Ce.prototype.read=function(t){_e("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return _e("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Uh(this):sf(this),null;if(t=Z1(t,e),t===0&&e.ended)return e.length===0&&Uh(this),null;var n=e.needReadable;_e("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,_e("length less than watermark",n)),e.ended||e.reading?(n=!1,_e("reading or ended",n)):n&&(_e("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Z1(r,e)));var i;return t>0?i=o2(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Uh(this)),i!==null&&this.emit("data",i),i};function i9(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,sf(t)}}function sf(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(_e("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?_s.nextTick(Q1,t):Q1(t))}function Q1(t){_e("emit readable"),t.emit("readable"),Lh(t)}function s2(t,e){e.readingMore||(e.readingMore=!0,_s.nextTick(s9,t,e))}function s9(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(_e("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}Ce.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};Ce.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,_e("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==B.stdout&&t!==B.stderr,s=i?a:j;n.endEmitted?_s.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(z,X){_e("onunpipe"),z===r&&X&&X.hasUnpiped===!1&&(X.hasUnpiped=!0,m())}function a(){_e("onend"),t.end()}var f=o9(r);t.on("drain",f);var c=!1;function m(){_e("cleanup"),t.removeListener("close",N),t.removeListener("finish",F),t.removeListener("drain",f),t.removeListener("error",I),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",j),r.removeListener("data",x),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&f()}var v=!1;r.on("data",x);function x(z){_e("ondata"),v=!1;var X=t.write(z);X===!1&&!v&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&a2(n.pipes,t)!==-1)&&!c&&(_e("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,v=!0),r.pause())}function I(z){_e("onerror",z),j(),t.removeListener("error",I),e2(t,"error")===0&&t.emit("error",z)}e9(t,"error",I);function N(){t.removeListener("finish",F),j()}t.once("close",N);function F(){_e("onfinish"),t.removeListener("close",N),j()}t.once("finish",F);function j(){_e("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(_e("pipe resume"),r.resume()),t};function o9(t){return function(){var e=t._readableState;_e("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&e2(t,"data")&&(e.flowing=!0,Lh(t))}}Ce.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,r);return this}var o=a2(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Ce.prototype.on=function(t,e){var r=Dh.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&sf(this):_s.nextTick(a9,this))}return r};Ce.prototype.addListener=Ce.prototype.on;function a9(t){_e("readable nexttick read 0"),t.read(0)}Ce.prototype.resume=function(){var t=this._readableState;return t.flowing||(_e("resume"),t.flowing=!0,f9(this,t)),this};function f9(t,e){e.resumeScheduled||(e.resumeScheduled=!0,_s.nextTick(u9,t,e))}function u9(t,e){e.reading||(_e("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),Lh(t),e.flowing&&!e.reading&&t.read(0)}Ce.prototype.pause=function(){return _e("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(_e("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Lh(t){var e=t._readableState;for(_e("flow",e.flowing);e.flowing&&t.read()!==null;);}Ce.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(_e("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(_e("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(o){return function(){return t[o].apply(t,arguments)}}(i));for(var s=0;s<Ch.length;s++)t.on(Ch[s],this.emit.bind(this,Ch[s]));return this._read=function(o){_e("wrapped _read",o),n&&(n=!1,t.resume())},this};Object.defineProperty(Ce.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Ce._fromList=o2;function o2(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=c9(t,e.buffer,e.decoder),r}function c9(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?h9(t,e):d9(t,e),n}function h9(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?i+=s:i+=s.slice(0,t),t-=o,t===0){o===s.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++n}return e.length-=n,i}function d9(t,e){var r=To.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,o),t-=o,t===0){o===s.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(o));break}++i}return e.length-=i,r}function Uh(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,_s.nextTick(l9,e,t))}function l9(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function a2(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var Hh=M((AC,h2)=>{"use strict";p();b();h2.exports=Qr;var of=Cn(),c2=Object.create(vs());c2.inherits=pe();c2.inherits(Qr,of);function p9(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Qr(t){if(!(this instanceof Qr))return new Qr(t);of.call(this,t),this._transformState={afterTransform:p9.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",b9)}function b9(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){u2(t,e,r)}):u2(this,null,null)}Qr.prototype.push=function(t,e){return this._transformState.needTransform=!1,of.prototype.push.call(this,t,e)};Qr.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};Qr.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Qr.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Qr.prototype._destroy=function(t,e){var r=this;of.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function u2(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var b2=M((kC,p2)=>{"use strict";p();b();p2.exports=ko;var d2=Hh(),l2=Object.create(vs());l2.inherits=pe();l2.inherits(ko,d2);function ko(t){if(!(this instanceof ko))return new ko(t);d2.call(this,t)}ko.prototype._transform=function(t,e,r){r(null,t)}});var af=M((Pr,v2)=>{p();b();Pr=v2.exports=Ph();Pr.Stream=Pr;Pr.Readable=Pr;Pr.Writable=tf();Pr.Duplex=Cn();Pr.Transform=Hh();Pr.PassThrough=b2()});var g2=M((qC,y2)=>{p();b();y2.exports=tf()});var m2=M((NC,w2)=>{p();b();w2.exports=Cn()});var x2=M((LC,_2)=>{p();b();_2.exports=af().Transform});var S2=M((KC,E2)=>{p();b();E2.exports=af().PassThrough});var I2=M((zC,A2)=>{p();b();A2.exports=Or;var Fh=ja().EventEmitter,v9=pe();v9(Or,Fh);Or.Readable=af();Or.Writable=g2();Or.Duplex=m2();Or.Transform=x2();Or.PassThrough=S2();Or.Stream=Or;function Or(){Fh.call(this)}Or.prototype.pipe=function(t,e){var r=this;function n(m){t.writable&&t.write(m)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",a));var s=!1;function o(){s||(s=!0,t.end())}function a(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function f(m){if(c(),Fh.listenerCount(this,"error")===0)throw m}r.on("error",f),t.on("error",f);function c(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",f),t.removeListener("error",f),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t}});var uf=M((XC,ff)=>{p();b();var mi=I2();if(mi&&mi.default){ff.exports=mi.default;for(let t in mi)ff.exports[t]=mi[t]}else mi&&(ff.exports=mi)});var Kh=M((JC,k2)=>{"use strict";p();b();var cf=me().Buffer,T2=uf().Transform,y9=pe();function g9(t,e){if(!cf.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function Nn(t){T2.call(this),this._block=cf.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}y9(Nn,T2);Nn.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(i){n=i}r(n)};Nn.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};Nn.prototype.update=function(t,e){if(g9(t,"Data"),this._finalized)throw new Error("Digest already called");cf.isBuffer(t)||(t=cf.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var s=0,o=t.length*8;o>0;++s)this._length[s]+=o,o=this._length[s]/4294967296|0,o>0&&(this._length[s]-=4294967296*o);return this};Nn.prototype._update=function(){throw new Error("_update is not implemented")};Nn.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};Nn.prototype._digest=function(){throw new Error("_digest is not implemented")};k2.exports=Nn});var lf=M((eN,P2)=>{"use strict";p();b();var w9=pe(),B2=Kh(),m9=me().Buffer,_9=new Array(16);function hf(){B2.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}w9(hf,B2);hf.prototype._update=function(){for(var t=_9,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,s=this._d;r=Ot(r,n,i,s,t[0],3614090360,7),s=Ot(s,r,n,i,t[1],3905402710,12),i=Ot(i,s,r,n,t[2],606105819,17),n=Ot(n,i,s,r,t[3],3250441966,22),r=Ot(r,n,i,s,t[4],4118548399,7),s=Ot(s,r,n,i,t[5],1200080426,12),i=Ot(i,s,r,n,t[6],2821735955,17),n=Ot(n,i,s,r,t[7],4249261313,22),r=Ot(r,n,i,s,t[8],1770035416,7),s=Ot(s,r,n,i,t[9],2336552879,12),i=Ot(i,s,r,n,t[10],4294925233,17),n=Ot(n,i,s,r,t[11],2304563134,22),r=Ot(r,n,i,s,t[12],1804603682,7),s=Ot(s,r,n,i,t[13],4254626195,12),i=Ot(i,s,r,n,t[14],2792965006,17),n=Ot(n,i,s,r,t[15],1236535329,22),r=Mt(r,n,i,s,t[1],4129170786,5),s=Mt(s,r,n,i,t[6],3225465664,9),i=Mt(i,s,r,n,t[11],643717713,14),n=Mt(n,i,s,r,t[0],3921069994,20),r=Mt(r,n,i,s,t[5],3593408605,5),s=Mt(s,r,n,i,t[10],38016083,9),i=Mt(i,s,r,n,t[15],3634488961,14),n=Mt(n,i,s,r,t[4],3889429448,20),r=Mt(r,n,i,s,t[9],568446438,5),s=Mt(s,r,n,i,t[14],3275163606,9),i=Mt(i,s,r,n,t[3],4107603335,14),n=Mt(n,i,s,r,t[8],1163531501,20),r=Mt(r,n,i,s,t[13],2850285829,5),s=Mt(s,r,n,i,t[2],4243563512,9),i=Mt(i,s,r,n,t[7],1735328473,14),n=Mt(n,i,s,r,t[12],2368359562,20),r=qt(r,n,i,s,t[5],4294588738,4),s=qt(s,r,n,i,t[8],2272392833,11),i=qt(i,s,r,n,t[11],1839030562,16),n=qt(n,i,s,r,t[14],4259657740,23),r=qt(r,n,i,s,t[1],2763975236,4),s=qt(s,r,n,i,t[4],1272893353,11),i=qt(i,s,r,n,t[7],4139469664,16),n=qt(n,i,s,r,t[10],3200236656,23),r=qt(r,n,i,s,t[13],681279174,4),s=qt(s,r,n,i,t[0],3936430074,11),i=qt(i,s,r,n,t[3],3572445317,16),n=qt(n,i,s,r,t[6],76029189,23),r=qt(r,n,i,s,t[9],3654602809,4),s=qt(s,r,n,i,t[12],3873151461,11),i=qt(i,s,r,n,t[15],530742520,16),n=qt(n,i,s,r,t[2],3299628645,23),r=Rt(r,n,i,s,t[0],4096336452,6),s=Rt(s,r,n,i,t[7],1126891415,10),i=Rt(i,s,r,n,t[14],2878612391,15),n=Rt(n,i,s,r,t[5],4237533241,21),r=Rt(r,n,i,s,t[12],1700485571,6),s=Rt(s,r,n,i,t[3],2399980690,10),i=Rt(i,s,r,n,t[10],4293915773,15),n=Rt(n,i,s,r,t[1],2240044497,21),r=Rt(r,n,i,s,t[8],1873313359,6),s=Rt(s,r,n,i,t[15],4264355552,10),i=Rt(i,s,r,n,t[6],2734768916,15),n=Rt(n,i,s,r,t[13],1309151649,21),r=Rt(r,n,i,s,t[4],4149444226,6),s=Rt(s,r,n,i,t[11],3174756917,10),i=Rt(i,s,r,n,t[2],718787259,15),n=Rt(n,i,s,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0};hf.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=m9.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function df(t,e){return t<<e|t>>>32-e}function Ot(t,e,r,n,i,s,o){return df(t+(e&r|~e&n)+i+s|0,o)+e|0}function Mt(t,e,r,n,i,s,o){return df(t+(e&n|r&~n)+i+s|0,o)+e|0}function qt(t,e,r,n,i,s,o){return df(t+(e^r^n)+i+s|0,o)+e|0}function Rt(t,e,r,n,i,s,o){return df(t+(r^(e|~n))+i+s|0,o)+e|0}P2.exports=hf});var bf=M((nN,U2)=>{"use strict";p();b();var jh=On().Buffer,x9=pe(),N2=Kh(),E9=new Array(16),Bo=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Po=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Oo=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Mo=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],qo=[0,1518500249,1859775393,2400959708,2840853838],Ro=[1352829926,1548603684,1836072691,2053994217,0];function pf(){N2.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}x9(pf,N2);pf.prototype._update=function(){for(var t=E9,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._a|0,f=this._b|0,c=this._c|0,m=this._d|0,v=this._e|0,x=0;x<80;x+=1){var I,N;x<16?(I=O2(r,n,i,s,o,t[Bo[x]],qo[0],Oo[x]),N=C2(a,f,c,m,v,t[Po[x]],Ro[0],Mo[x])):x<32?(I=M2(r,n,i,s,o,t[Bo[x]],qo[1],Oo[x]),N=R2(a,f,c,m,v,t[Po[x]],Ro[1],Mo[x])):x<48?(I=q2(r,n,i,s,o,t[Bo[x]],qo[2],Oo[x]),N=q2(a,f,c,m,v,t[Po[x]],Ro[2],Mo[x])):x<64?(I=R2(r,n,i,s,o,t[Bo[x]],qo[3],Oo[x]),N=M2(a,f,c,m,v,t[Po[x]],Ro[3],Mo[x])):(I=C2(r,n,i,s,o,t[Bo[x]],qo[4],Oo[x]),N=O2(a,f,c,m,v,t[Po[x]],Ro[4],Mo[x])),r=o,o=s,s=_i(i,10),i=n,n=I,a=v,v=m,m=_i(c,10),c=f,f=N}var F=this._b+i+m|0;this._b=this._c+s+v|0,this._c=this._d+o+a|0,this._d=this._e+r+f|0,this._e=this._a+n+c|0,this._a=F};pf.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=jh.alloc?jh.alloc(20):new jh(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function _i(t,e){return t<<e|t>>>32-e}function O2(t,e,r,n,i,s,o,a){return _i(t+(e^r^n)+s+o|0,a)+i|0}function M2(t,e,r,n,i,s,o,a){return _i(t+(e&r|~e&n)+s+o|0,a)+i|0}function q2(t,e,r,n,i,s,o,a){return _i(t+((e|~r)^n)+s+o|0,a)+i|0}function R2(t,e,r,n,i,s,o,a){return _i(t+(e&n|r&~n)+s+o|0,a)+i|0}function C2(t,e,r,n,i,s,o,a){return _i(t+(e^(r|~n))+s+o|0,a)+i|0}U2.exports=pf});var xi=M((oN,L2)=>{p();b();var D2=me().Buffer;function vf(t,e){this._block=D2.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}vf.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=D2.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,f=Math.min(i-o,n-a),c=0;c<f;c++)r[a+c]=t[o+c];s+=f,o+=f,s%n===0&&this._update(r)}return this._len+=i,this};vf.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};vf.prototype._update=function(){throw new Error("_update must be implemented by subclass")};L2.exports=vf});var K2=M((uN,F2)=>{p();b();var S9=pe(),H2=xi(),A9=me().Buffer,I9=[1518500249,1859775393,-1894007588,-899497514],T9=new Array(80);function Co(){this.init(),this._w=T9,H2.call(this,64,56)}S9(Co,H2);Co.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function k9(t){return t<<5|t>>>27}function B9(t){return t<<30|t>>>2}function P9(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Co.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var f=0;f<80;++f){var c=~~(f/20),m=k9(r)+P9(c,n,i,s)+o+e[f]+I9[c]|0;o=s,s=i,i=B9(n),n=r,r=m}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Co.prototype._hash=function(){var t=A9.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};F2.exports=Co});var z2=M((dN,W2)=>{p();b();var O9=pe(),j2=xi(),M9=me().Buffer,q9=[1518500249,1859775393,-1894007588,-899497514],R9=new Array(80);function No(){this.init(),this._w=R9,j2.call(this,64,56)}O9(No,j2);No.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function C9(t){return t<<1|t>>>31}function N9(t){return t<<5|t>>>27}function U9(t){return t<<30|t>>>2}function D9(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}No.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=C9(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var f=0;f<80;++f){var c=~~(f/20),m=N9(r)+D9(c,n,i,s)+o+e[f]+q9[c]|0;o=s,s=i,i=U9(n),n=r,r=m}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};No.prototype._hash=function(){var t=M9.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};W2.exports=No});var Wh=M((bN,G2)=>{p();b();var L9=pe(),V2=xi(),H9=me().Buffer,F9=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],K9=new Array(64);function Uo(){this.init(),this._w=K9,V2.call(this,64,56)}L9(Uo,V2);Uo.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function j9(t,e,r){return r^t&(e^r)}function W9(t,e,r){return t&e|r&(t|e)}function z9(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function V9(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function G9(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function X9(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Uo.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,f=this._g|0,c=this._h|0,m=0;m<16;++m)e[m]=t.readInt32BE(m*4);for(;m<64;++m)e[m]=X9(e[m-2])+e[m-7]+G9(e[m-15])+e[m-16]|0;for(var v=0;v<64;++v){var x=c+V9(o)+j9(o,a,f)+F9[v]+e[v]|0,I=z9(r)+W9(r,n,i)|0;c=f,f=a,a=o,o=s+x|0,s=i,i=n,n=r,r=x+I|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=f+this._g|0,this._h=c+this._h|0};Uo.prototype._hash=function(){var t=H9.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};G2.exports=Uo});var Y2=M((gN,X2)=>{p();b();var Y9=pe(),$9=Wh(),J9=xi(),Z9=me().Buffer,Q9=new Array(64);function yf(){this.init(),this._w=Q9,J9.call(this,64,56)}Y9(yf,$9);yf.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};yf.prototype._hash=function(){var t=Z9.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};X2.exports=yf});var zh=M((_N,rb)=>{p();b();var ex=pe(),tb=xi(),tx=me().Buffer,$2=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],rx=new Array(160);function Do(){this.init(),this._w=rx,tb.call(this,128,112)}ex(Do,tb);Do.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function J2(t,e,r){return r^t&(e^r)}function Z2(t,e,r){return t&e|r&(t|e)}function Q2(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function eb(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function nx(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function ix(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function sx(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function ox(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function bt(t,e){return t>>>0<e>>>0?1:0}Do.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,f=this._gh|0,c=this._hh|0,m=this._al|0,v=this._bl|0,x=this._cl|0,I=this._dl|0,N=this._el|0,F=this._fl|0,j=this._gl|0,z=this._hl|0,X=0;X<32;X+=2)e[X]=t.readInt32BE(X*4),e[X+1]=t.readInt32BE(X*4+4);for(;X<160;X+=2){var oe=e[X-30],fe=e[X-15*2+1],ye=nx(oe,fe),de=ix(fe,oe);oe=e[X-2*2],fe=e[X-2*2+1];var ae=sx(oe,fe),Ie=ox(fe,oe),R=e[X-7*2],u=e[X-7*2+1],w=e[X-16*2],S=e[X-16*2+1],A=de+u|0,P=ye+R+bt(A,de)|0;A=A+Ie|0,P=P+ae+bt(A,Ie)|0,A=A+S|0,P=P+w+bt(A,S)|0,e[X]=P,e[X+1]=A}for(var q=0;q<160;q+=2){P=e[q],A=e[q+1];var D=Z2(r,n,i),k=Z2(m,v,x),d=Q2(r,m),O=Q2(m,r),$=eb(o,N),Z=eb(N,o),Q=$2[q],re=$2[q+1],ce=J2(o,a,f),le=J2(N,F,j),Ae=z+Z|0,l=c+$+bt(Ae,z)|0;Ae=Ae+le|0,l=l+ce+bt(Ae,le)|0,Ae=Ae+re|0,l=l+Q+bt(Ae,re)|0,Ae=Ae+A|0,l=l+P+bt(Ae,A)|0;var _=O+k|0,T=d+D+bt(_,O)|0;c=f,z=j,f=a,j=F,a=o,F=N,N=I+Ae|0,o=s+l+bt(N,I)|0,s=i,I=x,i=n,x=v,n=r,v=m,m=Ae+_|0,r=l+T+bt(m,Ae)|0}this._al=this._al+m|0,this._bl=this._bl+v|0,this._cl=this._cl+x|0,this._dl=this._dl+I|0,this._el=this._el+N|0,this._fl=this._fl+F|0,this._gl=this._gl+j|0,this._hl=this._hl+z|0,this._ah=this._ah+r+bt(this._al,m)|0,this._bh=this._bh+n+bt(this._bl,v)|0,this._ch=this._ch+i+bt(this._cl,x)|0,this._dh=this._dh+s+bt(this._dl,I)|0,this._eh=this._eh+o+bt(this._el,N)|0,this._fh=this._fh+a+bt(this._fl,F)|0,this._gh=this._gh+f+bt(this._gl,j)|0,this._hh=this._hh+c+bt(this._hl,z)|0};Do.prototype._hash=function(){var t=tx.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};rb.exports=Do});var ib=M((SN,nb)=>{p();b();var ax=pe(),fx=zh(),ux=xi(),cx=me().Buffer,hx=new Array(160);function gf(){this.init(),this._w=hx,ux.call(this,128,112)}ax(gf,fx);gf.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};gf.prototype._hash=function(){var t=cx.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};nb.exports=gf});var wf=M((en,sb)=>{p();b();var en=sb.exports=function(e){e=e.toLowerCase();var r=en[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};en.sha=K2();en.sha1=z2();en.sha224=Y2();en.sha256=Wh();en.sha384=ib();en.sha512=zh()});var ob={};co(ob,{StringDecoder:()=>mf});function lx(t){if(t&&!dx(t))throw new Error("Unknown encoding: "+t)}function mf(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),lx(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=bx;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=vx;break;default:this.write=px;return}this.charBuffer=new V(6),this.charReceived=0,this.charLength=0}function px(t){return t.toString(this.encoding)}function bx(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function vx(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var dx,ab=Gr(()=>{p();b();oh();dx=V.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};mf.prototype.write=function(t){for(var e="";this.charLength;){var r=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";t=t.slice(r,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var i=e.charCodeAt(e.length-1);if(i>=55296&&i<=56319){this.charLength+=this.surrogateSize,e="";continue}if(this.charReceived=this.charLength=0,t.length===0)return e;break}this.detectIncompleteChar(t);var n=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,n),n-=this.charReceived),e+=t.toString(this.encoding,0,n);var n=e.length-1,i=e.charCodeAt(n);if(i>=55296&&i<=56319){var s=this.surrogateSize;return this.charLength+=s,this.charReceived+=s,this.charBuffer.copy(this.charBuffer,s,0,s),t.copy(this.charBuffer,0,0,s),e.substring(0,n)}return e};mf.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var r=t[t.length-e];if(e==1&&r>>5==6){this.charLength=2;break}if(e<=2&&r>>4==14){this.charLength=3;break}if(e<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=e};mf.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;e+=n.slice(0,r).toString(i)}return e}});var fb=M((MN,_f)=>{p();b();var Ei=(ab(),ho(ob));if(Ei&&Ei.default){_f.exports=Ei.default;for(let t in Ei)_f.exports[t]=Ei[t]}else Ei&&(_f.exports=Ei)});var tn=M((CN,hb)=>{p();b();var ub=me().Buffer,cb=uf().Transform,yx=fb().StringDecoder,gx=pe();function cr(t){cb.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}gx(cr,cb);cr.prototype.update=function(t,e,r){typeof t=="string"&&(t=ub.from(t,e));var n=this._update(t);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)};cr.prototype.setAutoPadding=function(){};cr.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};cr.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};cr.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};cr.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){n=i}finally{r(n)}};cr.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};cr.prototype._finalOrDigest=function(t){var e=this.__final()||ub.alloc(0);return t&&(e=this._toString(e,t,!0)),e};cr.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new yx(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};hb.exports=cr});var rn=M((DN,lb)=>{"use strict";p();b();var wx=pe(),mx=lf(),_x=bf(),xx=wf(),db=tn();function xf(t){db.call(this,"digest"),this._hash=t}wx(xf,db);xf.prototype._update=function(t){this._hash.update(t)};xf.prototype._final=function(){return this._hash.digest()};lb.exports=function(e){return e=e.toLowerCase(),e==="md5"?new mx:e==="rmd160"||e==="ripemd160"?new _x:new xf(xx(e))}});var vb=M((FN,bb)=>{"use strict";p();b();var Ex=pe(),Si=me().Buffer,pb=tn(),Sx=Si.alloc(128),xs=64;function Ef(t,e){pb.call(this,"digest"),typeof e=="string"&&(e=Si.from(e)),this._alg=t,this._key=e,e.length>xs?e=t(e):e.length<xs&&(e=Si.concat([e,Sx],xs));for(var r=this._ipad=Si.allocUnsafe(xs),n=this._opad=Si.allocUnsafe(xs),i=0;i<xs;i++)r[i]=e[i]^54,n[i]=e[i]^92;this._hash=[r]}Ex(Ef,pb);Ef.prototype._update=function(t){this._hash.push(t)};Ef.prototype._final=function(){var t=this._alg(Si.concat(this._hash));return this._alg(Si.concat([this._opad,t]))};bb.exports=Ef});var Vh=M((WN,yb)=>{p();b();var Ax=lf();yb.exports=function(t){return new Ax().update(t).digest()}});var Fo=M((GN,wb)=>{"use strict";p();b();var Ix=pe(),Tx=vb(),gb=tn(),Lo=me().Buffer,kx=Vh(),Gh=bf(),Xh=wf(),Bx=Lo.alloc(128);function Ho(t,e){gb.call(this,"digest"),typeof e=="string"&&(e=Lo.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var n=t==="rmd160"?new Gh:Xh(t);e=n.update(e).digest()}else e.length<r&&(e=Lo.concat([e,Bx],r));for(var i=this._ipad=Lo.allocUnsafe(r),s=this._opad=Lo.allocUnsafe(r),o=0;o<r;o++)i[o]=e[o]^54,s[o]=e[o]^92;this._hash=t==="rmd160"?new Gh:Xh(t),this._hash.update(i)}Ix(Ho,gb);Ho.prototype._update=function(t){this._hash.update(t)};Ho.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new Gh:Xh(this._alg);return e.update(this._opad).update(t).digest()};wb.exports=function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new Ho("rmd160",r):e==="md5"?new Tx(kx,r):new Ho(e,r)}});var mb=M(Sf=>{"use strict";p();b();Object.defineProperty(Sf,"__esModule",{value:!0});var Yh=rn(),Px=Fo();function Ox(t){let e=Yh("sha256").update(t).digest();try{return Yh("rmd160").update(e).digest()}catch{return Yh("ripemd160").update(e).digest()}}Sf.hash160=Ox;function Mx(t,e){return Px("sha512",t).update(e).digest()}Sf.hmacSHA512=Mx});var xb=M((QN,_b)=>{"use strict";p();b();var Af=me().Buffer;function qx(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,a=t.charAt(0),f=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function m(I){if((Array.isArray(I)||I instanceof Uint8Array)&&(I=Af.from(I)),!Af.isBuffer(I))throw new TypeError("Expected Buffer");if(I.length===0)return"";for(var N=0,F=0,j=0,z=I.length;j!==z&&I[j]===0;)j++,N++;for(var X=(z-j)*c+1>>>0,oe=new Uint8Array(X);j!==z;){for(var fe=I[j],ye=0,de=X-1;(fe!==0||ye<F)&&de!==-1;de--,ye++)fe+=256*oe[de]>>>0,oe[de]=fe%o>>>0,fe=fe/o>>>0;if(fe!==0)throw new Error("Non-zero carry");F=ye,j++}for(var ae=X-F;ae!==X&&oe[ae]===0;)ae++;for(var Ie=a.repeat(N);ae<X;++ae)Ie+=t.charAt(oe[ae]);return Ie}function v(I){if(typeof I!="string")throw new TypeError("Expected String");if(I.length===0)return Af.alloc(0);var N=0;if(I[N]!==" "){for(var F=0,j=0;I[N]===a;)F++,N++;for(var z=(I.length-N)*f+1>>>0,X=new Uint8Array(z);I[N];){var oe=e[I.charCodeAt(N)];if(oe===255)return;for(var fe=0,ye=z-1;(oe!==0||fe<j)&&ye!==-1;ye--,fe++)oe+=o*X[ye]>>>0,X[ye]=oe%256>>>0,oe=oe/256>>>0;if(oe!==0)throw new Error("Non-zero carry");j=fe,N++}if(I[N]!==" "){for(var de=z-j;de!==z&&X[de]===0;)de++;var ae=Af.allocUnsafe(F+(z-de));ae.fill(0,0,F);for(var Ie=F;de!==z;)ae[Ie++]=X[de++];return ae}}}function x(I){var N=v(I);if(N)return N;throw new Error("Non-base"+o+" character")}return{encode:m,decodeUnsafe:v,decode:x}}_b.exports=qx});var Sb=M((rU,Eb)=>{p();b();var Rx=xb(),Cx="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Eb.exports=Rx(Cx)});var Ib=M((sU,Ab)=>{"use strict";p();b();var $h=Sb(),Nx=me().Buffer;Ab.exports=function(t){function e(s){var o=t(s);return $h.encode(Nx.concat([s,o],s.length+4))}function r(s){var o=s.slice(0,-4),a=s.slice(-4),f=t(o);if(!(a[0]^f[0]|a[1]^f[1]|a[2]^f[2]|a[3]^f[3]))return o}function n(s){var o=$h.decodeUnsafe(s);if(!!o)return r(o)}function i(s){var o=$h.decode(s),a=r(o,t);if(!a)throw new Error("Invalid checksum");return a}return{encode:e,decode:i,decodeUnsafe:n}}});var Es=M((fU,kb)=>{"use strict";p();b();var Tb=rn(),Ux=Ib();function Dx(t){var e=Tb("sha256").update(t).digest();return Tb("sha256").update(e).digest()}kb.exports=Ux(Dx)});var Fe=M((Bb,Jh)=>{p();b();(function(t,e){"use strict";function r(R,u){if(!R)throw new Error(u||"Assertion failed")}function n(R,u){R.super_=u;var w=function(){};w.prototype=u.prototype,R.prototype=new w,R.prototype.constructor=R}function i(R,u,w){if(i.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,R!==null&&((u==="le"||u==="be")&&(w=u,u=10),this._init(R||0,u||10,w||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{s=On().Buffer}catch{}i.isBN=function(u){return u instanceof i?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===i.wordSize&&Array.isArray(u.words)},i.max=function(u,w){return u.cmp(w)>0?u:w},i.min=function(u,w){return u.cmp(w)<0?u:w},i.prototype._init=function(u,w,S){if(typeof u=="number")return this._initNumber(u,w,S);if(typeof u=="object")return this._initArray(u,w,S);w==="hex"&&(w=16),r(w===(w|0)&&w>=2&&w<=36),u=u.toString().replace(/\s+/g,"");var A=0;u[0]==="-"&&A++,w===16?this._parseHex(u,A):this._parseBase(u,w,A),u[0]==="-"&&(this.negative=1),this.strip(),S==="le"&&this._initArray(this.toArray(),w,S)},i.prototype._initNumber=function(u,w,S){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(r(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),w,S)},i.prototype._initArray=function(u,w,S){if(r(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var P,q,D=0;if(S==="be")for(A=u.length-1,P=0;A>=0;A-=3)q=u[A]|u[A-1]<<8|u[A-2]<<16,this.words[P]|=q<<D&67108863,this.words[P+1]=q>>>26-D&67108863,D+=24,D>=26&&(D-=26,P++);else if(S==="le")for(A=0,P=0;A<u.length;A+=3)q=u[A]|u[A+1]<<8|u[A+2]<<16,this.words[P]|=q<<D&67108863,this.words[P+1]=q>>>26-D&67108863,D+=24,D>=26&&(D-=26,P++);return this.strip()};function o(R,u,w){for(var S=0,A=Math.min(R.length,w),P=u;P<A;P++){var q=R.charCodeAt(P)-48;S<<=4,q>=49&&q<=54?S|=q-49+10:q>=17&&q<=22?S|=q-17+10:S|=q&15}return S}i.prototype._parseHex=function(u,w){this.length=Math.ceil((u.length-w)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var A,P,q=0;for(S=u.length-6,A=0;S>=w;S-=6)P=o(u,S,S+6),this.words[A]|=P<<q&67108863,this.words[A+1]|=P>>>26-q&4194303,q+=24,q>=26&&(q-=26,A++);S+6!==w&&(P=o(u,w,S+6),this.words[A]|=P<<q&67108863,this.words[A+1]|=P>>>26-q&4194303),this.strip()};function a(R,u,w,S){for(var A=0,P=Math.min(R.length,w),q=u;q<P;q++){var D=R.charCodeAt(q)-48;A*=S,D>=49?A+=D-49+10:D>=17?A+=D-17+10:A+=D}return A}i.prototype._parseBase=function(u,w,S){this.words=[0],this.length=1;for(var A=0,P=1;P<=67108863;P*=w)A++;A--,P=P/w|0;for(var q=u.length-S,D=q%A,k=Math.min(q,q-D)+S,d=0,O=S;O<k;O+=A)d=a(u,O,O+A,w),this.imuln(P),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(D!==0){var $=1;for(d=a(u,O,u.length,w),O=0;O<D;O++)$*=w;this.imuln($),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}},i.prototype.copy=function(u){u.words=new Array(this.length);for(var w=0;w<this.length;w++)u.words[w]=this.words[w];u.length=this.length,u.negative=this.negative,u.red=this.red},i.prototype.clone=function(){var u=new i(null);return this.copy(u),u},i.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(u,w){u=u||10,w=w|0||1;var S;if(u===16||u==="hex"){S="";for(var A=0,P=0,q=0;q<this.length;q++){var D=this.words[q],k=((D<<A|P)&16777215).toString(16);P=D>>>24-A&16777215,P!==0||q!==this.length-1?S=f[6-k.length]+k+S:S=k+S,A+=2,A>=26&&(A-=26,q--)}for(P!==0&&(S=P.toString(16)+S);S.length%w!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(u===(u|0)&&u>=2&&u<=36){var d=c[u],O=m[u];S="";var $=this.clone();for($.negative=0;!$.isZero();){var Z=$.modn(O).toString(u);$=$.idivn(O),$.isZero()?S=Z+S:S=f[d-Z.length]+Z+S}for(this.isZero()&&(S="0"+S);S.length%w!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(u,w){return r(typeof s<"u"),this.toArrayLike(s,u,w)},i.prototype.toArray=function(u,w){return this.toArrayLike(Array,u,w)},i.prototype.toArrayLike=function(u,w,S){var A=this.byteLength(),P=S||Math.max(1,A);r(A<=P,"byte array longer than desired length"),r(P>0,"Requested array length <= 0"),this.strip();var q=w==="le",D=new u(P),k,d,O=this.clone();if(q){for(d=0;!O.isZero();d++)k=O.andln(255),O.iushrn(8),D[d]=k;for(;d<P;d++)D[d]=0}else{for(d=0;d<P-A;d++)D[d]=0;for(d=0;!O.isZero();d++)k=O.andln(255),O.iushrn(8),D[P-d-1]=k}return D},Math.clz32?i.prototype._countBits=function(u){return 32-Math.clz32(u)}:i.prototype._countBits=function(u){var w=u,S=0;return w>=4096&&(S+=13,w>>>=13),w>=64&&(S+=7,w>>>=7),w>=8&&(S+=4,w>>>=4),w>=2&&(S+=2,w>>>=2),S+w},i.prototype._zeroBits=function(u){if(u===0)return 26;var w=u,S=0;return(w&8191)===0&&(S+=13,w>>>=13),(w&127)===0&&(S+=7,w>>>=7),(w&15)===0&&(S+=4,w>>>=4),(w&3)===0&&(S+=2,w>>>=2),(w&1)===0&&S++,S},i.prototype.bitLength=function(){var u=this.words[this.length-1],w=this._countBits(u);return(this.length-1)*26+w};function v(R){for(var u=new Array(R.bitLength()),w=0;w<u.length;w++){var S=w/26|0,A=w%26;u[w]=(R.words[S]&1<<A)>>>A}return u}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,w=0;w<this.length;w++){var S=this._zeroBits(this.words[w]);if(u+=S,S!==26)break}return u},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},i.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var w=0;w<u.length;w++)this.words[w]=this.words[w]|u.words[w];return this.strip()},i.prototype.ior=function(u){return r((this.negative|u.negative)===0),this.iuor(u)},i.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},i.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},i.prototype.iuand=function(u){var w;this.length>u.length?w=u:w=this;for(var S=0;S<w.length;S++)this.words[S]=this.words[S]&u.words[S];return this.length=w.length,this.strip()},i.prototype.iand=function(u){return r((this.negative|u.negative)===0),this.iuand(u)},i.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},i.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},i.prototype.iuxor=function(u){var w,S;this.length>u.length?(w=this,S=u):(w=u,S=this);for(var A=0;A<S.length;A++)this.words[A]=w.words[A]^S.words[A];if(this!==w)for(;A<w.length;A++)this.words[A]=w.words[A];return this.length=w.length,this.strip()},i.prototype.ixor=function(u){return r((this.negative|u.negative)===0),this.iuxor(u)},i.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},i.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},i.prototype.inotn=function(u){r(typeof u=="number"&&u>=0);var w=Math.ceil(u/26)|0,S=u%26;this._expand(w),S>0&&w--;for(var A=0;A<w;A++)this.words[A]=~this.words[A]&67108863;return S>0&&(this.words[A]=~this.words[A]&67108863>>26-S),this.strip()},i.prototype.notn=function(u){return this.clone().inotn(u)},i.prototype.setn=function(u,w){r(typeof u=="number"&&u>=0);var S=u/26|0,A=u%26;return this._expand(S+1),w?this.words[S]=this.words[S]|1<<A:this.words[S]=this.words[S]&~(1<<A),this.strip()},i.prototype.iadd=function(u){var w;if(this.negative!==0&&u.negative===0)return this.negative=0,w=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,w=this.isub(u),u.negative=1,w._normSign();var S,A;this.length>u.length?(S=this,A=u):(S=u,A=this);for(var P=0,q=0;q<A.length;q++)w=(S.words[q]|0)+(A.words[q]|0)+P,this.words[q]=w&67108863,P=w>>>26;for(;P!==0&&q<S.length;q++)w=(S.words[q]|0)+P,this.words[q]=w&67108863,P=w>>>26;if(this.length=S.length,P!==0)this.words[this.length]=P,this.length++;else if(S!==this)for(;q<S.length;q++)this.words[q]=S.words[q];return this},i.prototype.add=function(u){var w;return u.negative!==0&&this.negative===0?(u.negative=0,w=this.sub(u),u.negative^=1,w):u.negative===0&&this.negative!==0?(this.negative=0,w=u.sub(this),this.negative=1,w):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},i.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var w=this.iadd(u);return u.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var S=this.cmp(u);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var A,P;S>0?(A=this,P=u):(A=u,P=this);for(var q=0,D=0;D<P.length;D++)w=(A.words[D]|0)-(P.words[D]|0)+q,q=w>>26,this.words[D]=w&67108863;for(;q!==0&&D<A.length;D++)w=(A.words[D]|0)+q,q=w>>26,this.words[D]=w&67108863;if(q===0&&D<A.length&&A!==this)for(;D<A.length;D++)this.words[D]=A.words[D];return this.length=Math.max(this.length,D),A!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(u){return this.clone().isub(u)};function x(R,u,w){w.negative=u.negative^R.negative;var S=R.length+u.length|0;w.length=S,S=S-1|0;var A=R.words[0]|0,P=u.words[0]|0,q=A*P,D=q&67108863,k=q/67108864|0;w.words[0]=D;for(var d=1;d<S;d++){for(var O=k>>>26,$=k&67108863,Z=Math.min(d,u.length-1),Q=Math.max(0,d-R.length+1);Q<=Z;Q++){var re=d-Q|0;A=R.words[re]|0,P=u.words[Q]|0,q=A*P+$,O+=q/67108864|0,$=q&67108863}w.words[d]=$|0,k=O|0}return k!==0?w.words[d]=k|0:w.length--,w.strip()}var I=function(u,w,S){var A=u.words,P=w.words,q=S.words,D=0,k,d,O,$=A[0]|0,Z=$&8191,Q=$>>>13,re=A[1]|0,ce=re&8191,le=re>>>13,Ae=A[2]|0,l=Ae&8191,_=Ae>>>13,T=A[3]|0,U=T&8191,K=T>>>13,W=A[4]|0,Y=W&8191,J=W>>>13,we=A[5]|0,ne=we&8191,te=we>>>13,h=A[6]|0,y=h&8191,E=h>>>13,C=A[7]|0,L=C&8191,H=C>>>13,G=A[8]|0,ee=G&8191,ie=G>>>13,De=A[9]|0,se=De&8191,ge=De>>>13,vp=P[0]|0,je=vp&8191,We=vp>>>13,yp=P[1]|0,ze=yp&8191,Ve=yp>>>13,gp=P[2]|0,Ge=gp&8191,Xe=gp>>>13,wp=P[3]|0,Ye=wp&8191,$e=wp>>>13,mp=P[4]|0,Je=mp&8191,Ze=mp>>>13,_p=P[5]|0,Qe=_p&8191,et=_p>>>13,xp=P[6]|0,tt=xp&8191,rt=xp>>>13,Ep=P[7]|0,nt=Ep&8191,it=Ep>>>13,Sp=P[8]|0,st=Sp&8191,ot=Sp>>>13,Ap=P[9]|0,at=Ap&8191,ft=Ap>>>13;S.negative=u.negative^w.negative,S.length=19,k=Math.imul(Z,je),d=Math.imul(Z,We),d=d+Math.imul(Q,je)|0,O=Math.imul(Q,We);var Cc=(D+k|0)+((d&8191)<<13)|0;D=(O+(d>>>13)|0)+(Cc>>>26)|0,Cc&=67108863,k=Math.imul(ce,je),d=Math.imul(ce,We),d=d+Math.imul(le,je)|0,O=Math.imul(le,We),k=k+Math.imul(Z,ze)|0,d=d+Math.imul(Z,Ve)|0,d=d+Math.imul(Q,ze)|0,O=O+Math.imul(Q,Ve)|0;var Nc=(D+k|0)+((d&8191)<<13)|0;D=(O+(d>>>13)|0)+(Nc>>>26)|0,Nc&=67108863,k=Math.imul(l,je),d=Math.imul(l,We),d=d+Math.imul(_,je)|0,O=Math.imul(_,We),k=k+Math.imul(ce,ze)|0,d=d+Math.imul(ce,Ve)|0,d=d+Math.imul(le,ze)|0,O=O+Math.imul(le,Ve)|0,k=k+Math.imul(Z,Ge)|0,d=d+Math.imul(Z,Xe)|0,d=d+Math.imul(Q,Ge)|0,O=O+Math.imul(Q,Xe)|0;var Uc=(D+k|0)+((d&8191)<<13)|0;D=(O+(d>>>13)|0)+(Uc>>>26)|0,Uc&=67108863,k=Math.imul(U,je),d=Math.imul(U,We),d=d+Math.imul(K,je)|0,O=Math.imul(K,We),k=k+Math.imul(l,ze)|0,d=d+Math.imul(l,Ve)|0,d=d+Math.imul(_,ze)|0,O=O+Math.imul(_,Ve)|0,k=k+Math.imul(ce,Ge)|0,d=d+Math.imul(ce,Xe)|0,d=d+Math.imul(le,Ge)|0,O=O+Math.imul(le,Xe)|0,k=k+Math.imul(Z,Ye)|0,d=d+Math.imul(Z,$e)|0,d=d+Math.imul(Q,Ye)|0,O=O+Math.imul(Q,$e)|0;var Dc=(D+k|0)+((d&8191)<<13)|0;D=(O+(d>>>13)|0)+(Dc>>>26)|0,Dc&=67108863,k=Math.imul(Y,je),d=Math.imul(Y,We),d=d+Math.imul(J,je)|0,O=Math.imul(J,We),k=k+Math.imul(U,ze)|0,d=d+Math.imul(U,Ve)|0,d=d+Math.imul(K,ze)|0,O=O+Math.imul(K,Ve)|0,k=k+Math.imul(l,Ge)|0,d=d+Math.imul(l,Xe)|0,d=d+Math.imul(_,Ge)|0,O=O+Math.imul(_,Xe)|0,k=k+Math.imul(ce,Ye)|0,d=d+Math.imul(ce,$e)|0,d=d+Math.imul(le,Ye)|0,O=O+Math.imul(le,$e)|0,k=k+Math.imul(Z,Je)|0,d=d+Math.imul(Z,Ze)|0,d=d+Math.imul(Q,Je)|0,O=O+Math.imul(Q,Ze)|0;var Lc=(D+k|0)+((d&8191)<<13)|0;D=(O+(d>>>13)|0)+(Lc>>>26)|0,Lc&=67108863,k=Math.imul(ne,je),d=Math.imul(ne,We),d=d+Math.imul(te,je)|0,O=Math.imul(te,We),k=k+Math.imul(Y,ze)|0,d=d+Math.imul(Y,Ve)|0,d=d+Math.imul(J,ze)|0,O=O+Math.imul(J,Ve)|0,k=k+Math.imul(U,Ge)|0,d=d+Math.imul(U,Xe)|0,d=d+Math.imul(K,Ge)|0,O=O+Math.imul(K,Xe)|0,k=k+Math.imul(l,Ye)|0,d=d+Math.imul(l,$e)|0,d=d+Math.imul(_,Ye)|0,O=O+Math.imul(_,$e)|0,k=k+Math.imul(ce,Je)|0,d=d+Math.imul(ce,Ze)|0,d=d+Math.imul(le,Je)|0,O=O+Math.imul(le,Ze)|0,k=k+Math.imul(Z,Qe)|0,d=d+Math.imul(Z,et)|0,d=d+Math.imul(Q,Qe)|0,O=O+Math.imul(Q,et)|0;var Hc=(D+k|0)+((d&8191)<<13)|0;D=(O+(d>>>13)|0)+(Hc>>>26)|0,Hc&=67108863,k=Math.imul(y,je),d=Math.imul(y,We),d=d+Math.imul(E,je)|0,O=Math.imul(E,We),k=k+Math.imul(ne,ze)|0,d=d+Math.imul(ne,Ve)|0,d=d+Math.imul(te,ze)|0,O=O+Math.imul(te,Ve)|0,k=k+Math.imul(Y,Ge)|0,d=d+Math.imul(Y,Xe)|0,d=d+Math.imul(J,Ge)|0,O=O+Math.imul(J,Xe)|0,k=k+Math.imul(U,Ye)|0,d=d+Math.imul(U,$e)|0,d=d+Math.imul(K,Ye)|0,O=O+Math.imul(K,$e)|0,k=k+Math.imul(l,Je)|0,d=d+Math.imul(l,Ze)|0,d=d+Math.imul(_,Je)|0,O=O+Math.imul(_,Ze)|0,k=k+Math.imul(ce,Qe)|0,d=d+Math.imul(ce,et)|0,d=d+Math.imul(le,Qe)|0,O=O+Math.imul(le,et)|0,k=k+Math.imul(Z,tt)|0,d=d+Math.imul(Z,rt)|0,d=d+Math.imul(Q,tt)|0,O=O+Math.imul(Q,rt)|0;var Fc=(D+k|0)+((d&8191)<<13)|0;D=(O+(d>>>13)|0)+(Fc>>>26)|0,Fc&=67108863,k=Math.imul(L,je),d=Math.imul(L,We),d=d+Math.imul(H,je)|0,O=Math.imul(H,We),k=k+Math.imul(y,ze)|0,d=d+Math.imul(y,Ve)|0,d=d+Math.imul(E,ze)|0,O=O+Math.imul(E,Ve)|0,k=k+Math.imul(ne,Ge)|0,d=d+Math.imul(ne,Xe)|0,d=d+Math.imul(te,Ge)|0,O=O+Math.imul(te,Xe)|0,k=k+Math.imul(Y,Ye)|0,d=d+Math.imul(Y,$e)|0,d=d+Math.imul(J,Ye)|0,O=O+Math.imul(J,$e)|0,k=k+Math.imul(U,Je)|0,d=d+Math.imul(U,Ze)|0,d=d+Math.imul(K,Je)|0,O=O+Math.imul(K,Ze)|0,k=k+Math.imul(l,Qe)|0,d=d+Math.imul(l,et)|0,d=d+Math.imul(_,Qe)|0,O=O+Math.imul(_,et)|0,k=k+Math.imul(ce,tt)|0,d=d+Math.imul(ce,rt)|0,d=d+Math.imul(le,tt)|0,O=O+Math.imul(le,rt)|0,k=k+Math.imul(Z,nt)|0,d=d+Math.imul(Z,it)|0,d=d+Math.imul(Q,nt)|0,O=O+Math.imul(Q,it)|0;var Kc=(D+k|0)+((d&8191)<<13)|0;D=(O+(d>>>13)|0)+(Kc>>>26)|0,Kc&=67108863,k=Math.imul(ee,je),d=Math.imul(ee,We),d=d+Math.imul(ie,je)|0,O=Math.imul(ie,We),k=k+Math.imul(L,ze)|0,d=d+Math.imul(L,Ve)|0,d=d+Math.imul(H,ze)|0,O=O+Math.imul(H,Ve)|0,k=k+Math.imul(y,Ge)|0,d=d+Math.imul(y,Xe)|0,d=d+Math.imul(E,Ge)|0,O=O+Math.imul(E,Xe)|0,k=k+Math.imul(ne,Ye)|0,d=d+Math.imul(ne,$e)|0,d=d+Math.imul(te,Ye)|0,O=O+Math.imul(te,$e)|0,k=k+Math.imul(Y,Je)|0,d=d+Math.imul(Y,Ze)|0,d=d+Math.imul(J,Je)|0,O=O+Math.imul(J,Ze)|0,k=k+Math.imul(U,Qe)|0,d=d+Math.imul(U,et)|0,d=d+Math.imul(K,Qe)|0,O=O+Math.imul(K,et)|0,k=k+Math.imul(l,tt)|0,d=d+Math.imul(l,rt)|0,d=d+Math.imul(_,tt)|0,O=O+Math.imul(_,rt)|0,k=k+Math.imul(ce,nt)|0,d=d+Math.imul(ce,it)|0,d=d+Math.imul(le,nt)|0,O=O+Math.imul(le,it)|0,k=k+Math.imul(Z,st)|0,d=d+Math.imul(Z,ot)|0,d=d+Math.imul(Q,st)|0,O=O+Math.imul(Q,ot)|0;var jc=(D+k|0)+((d&8191)<<13)|0;D=(O+(d>>>13)|0)+(jc>>>26)|0,jc&=67108863,k=Math.imul(se,je),d=Math.imul(se,We),d=d+Math.imul(ge,je)|0,O=Math.imul(ge,We),k=k+Math.imul(ee,ze)|0,d=d+Math.imul(ee,Ve)|0,d=d+Math.imul(ie,ze)|0,O=O+Math.imul(ie,Ve)|0,k=k+Math.imul(L,Ge)|0,d=d+Math.imul(L,Xe)|0,d=d+Math.imul(H,Ge)|0,O=O+Math.imul(H,Xe)|0,k=k+Math.imul(y,Ye)|0,d=d+Math.imul(y,$e)|0,d=d+Math.imul(E,Ye)|0,O=O+Math.imul(E,$e)|0,k=k+Math.imul(ne,Je)|0,d=d+Math.imul(ne,Ze)|0,d=d+Math.imul(te,Je)|0,O=O+Math.imul(te,Ze)|0,k=k+Math.imul(Y,Qe)|0,d=d+Math.imul(Y,et)|0,d=d+Math.imul(J,Qe)|0,O=O+Math.imul(J,et)|0,k=k+Math.imul(U,tt)|0,d=d+Math.imul(U,rt)|0,d=d+Math.imul(K,tt)|0,O=O+Math.imul(K,rt)|0,k=k+Math.imul(l,nt)|0,d=d+Math.imul(l,it)|0,d=d+Math.imul(_,nt)|0,O=O+Math.imul(_,it)|0,k=k+Math.imul(ce,st)|0,d=d+Math.imul(ce,ot)|0,d=d+Math.imul(le,st)|0,O=O+Math.imul(le,ot)|0,k=k+Math.imul(Z,at)|0,d=d+Math.imul(Z,ft)|0,d=d+Math.imul(Q,at)|0,O=O+Math.imul(Q,ft)|0;var Wc=(D+k|0)+((d&8191)<<13)|0;D=(O+(d>>>13)|0)+(Wc>>>26)|0,Wc&=67108863,k=Math.imul(se,ze),d=Math.imul(se,Ve),d=d+Math.imul(ge,ze)|0,O=Math.imul(ge,Ve),k=k+Math.imul(ee,Ge)|0,d=d+Math.imul(ee,Xe)|0,d=d+Math.imul(ie,Ge)|0,O=O+Math.imul(ie,Xe)|0,k=k+Math.imul(L,Ye)|0,d=d+Math.imul(L,$e)|0,d=d+Math.imul(H,Ye)|0,O=O+Math.imul(H,$e)|0,k=k+Math.imul(y,Je)|0,d=d+Math.imul(y,Ze)|0,d=d+Math.imul(E,Je)|0,O=O+Math.imul(E,Ze)|0,k=k+Math.imul(ne,Qe)|0,d=d+Math.imul(ne,et)|0,d=d+Math.imul(te,Qe)|0,O=O+Math.imul(te,et)|0,k=k+Math.imul(Y,tt)|0,d=d+Math.imul(Y,rt)|0,d=d+Math.imul(J,tt)|0,O=O+Math.imul(J,rt)|0,k=k+Math.imul(U,nt)|0,d=d+Math.imul(U,it)|0,d=d+Math.imul(K,nt)|0,O=O+Math.imul(K,it)|0,k=k+Math.imul(l,st)|0,d=d+Math.imul(l,ot)|0,d=d+Math.imul(_,st)|0,O=O+Math.imul(_,ot)|0,k=k+Math.imul(ce,at)|0,d=d+Math.imul(ce,ft)|0,d=d+Math.imul(le,at)|0,O=O+Math.imul(le,ft)|0;var zc=(D+k|0)+((d&8191)<<13)|0;D=(O+(d>>>13)|0)+(zc>>>26)|0,zc&=67108863,k=Math.imul(se,Ge),d=Math.imul(se,Xe),d=d+Math.imul(ge,Ge)|0,O=Math.imul(ge,Xe),k=k+Math.imul(ee,Ye)|0,d=d+Math.imul(ee,$e)|0,d=d+Math.imul(ie,Ye)|0,O=O+Math.imul(ie,$e)|0,k=k+Math.imul(L,Je)|0,d=d+Math.imul(L,Ze)|0,d=d+Math.imul(H,Je)|0,O=O+Math.imul(H,Ze)|0,k=k+Math.imul(y,Qe)|0,d=d+Math.imul(y,et)|0,d=d+Math.imul(E,Qe)|0,O=O+Math.imul(E,et)|0,k=k+Math.imul(ne,tt)|0,d=d+Math.imul(ne,rt)|0,d=d+Math.imul(te,tt)|0,O=O+Math.imul(te,rt)|0,k=k+Math.imul(Y,nt)|0,d=d+Math.imul(Y,it)|0,d=d+Math.imul(J,nt)|0,O=O+Math.imul(J,it)|0,k=k+Math.imul(U,st)|0,d=d+Math.imul(U,ot)|0,d=d+Math.imul(K,st)|0,O=O+Math.imul(K,ot)|0,k=k+Math.imul(l,at)|0,d=d+Math.imul(l,ft)|0,d=d+Math.imul(_,at)|0,O=O+Math.imul(_,ft)|0;var Vc=(D+k|0)+((d&8191)<<13)|0;D=(O+(d>>>13)|0)+(Vc>>>26)|0,Vc&=67108863,k=Math.imul(se,Ye),d=Math.imul(se,$e),d=d+Math.imul(ge,Ye)|0,O=Math.imul(ge,$e),k=k+Math.imul(ee,Je)|0,d=d+Math.imul(ee,Ze)|0,d=d+Math.imul(ie,Je)|0,O=O+Math.imul(ie,Ze)|0,k=k+Math.imul(L,Qe)|0,d=d+Math.imul(L,et)|0,d=d+Math.imul(H,Qe)|0,O=O+Math.imul(H,et)|0,k=k+Math.imul(y,tt)|0,d=d+Math.imul(y,rt)|0,d=d+Math.imul(E,tt)|0,O=O+Math.imul(E,rt)|0,k=k+Math.imul(ne,nt)|0,d=d+Math.imul(ne,it)|0,d=d+Math.imul(te,nt)|0,O=O+Math.imul(te,it)|0,k=k+Math.imul(Y,st)|0,d=d+Math.imul(Y,ot)|0,d=d+Math.imul(J,st)|0,O=O+Math.imul(J,ot)|0,k=k+Math.imul(U,at)|0,d=d+Math.imul(U,ft)|0,d=d+Math.imul(K,at)|0,O=O+Math.imul(K,ft)|0;var Gc=(D+k|0)+((d&8191)<<13)|0;D=(O+(d>>>13)|0)+(Gc>>>26)|0,Gc&=67108863,k=Math.imul(se,Je),d=Math.imul(se,Ze),d=d+Math.imul(ge,Je)|0,O=Math.imul(ge,Ze),k=k+Math.imul(ee,Qe)|0,d=d+Math.imul(ee,et)|0,d=d+Math.imul(ie,Qe)|0,O=O+Math.imul(ie,et)|0,k=k+Math.imul(L,tt)|0,d=d+Math.imul(L,rt)|0,d=d+Math.imul(H,tt)|0,O=O+Math.imul(H,rt)|0,k=k+Math.imul(y,nt)|0,d=d+Math.imul(y,it)|0,d=d+Math.imul(E,nt)|0,O=O+Math.imul(E,it)|0,k=k+Math.imul(ne,st)|0,d=d+Math.imul(ne,ot)|0,d=d+Math.imul(te,st)|0,O=O+Math.imul(te,ot)|0,k=k+Math.imul(Y,at)|0,d=d+Math.imul(Y,ft)|0,d=d+Math.imul(J,at)|0,O=O+Math.imul(J,ft)|0;var Xc=(D+k|0)+((d&8191)<<13)|0;D=(O+(d>>>13)|0)+(Xc>>>26)|0,Xc&=67108863,k=Math.imul(se,Qe),d=Math.imul(se,et),d=d+Math.imul(ge,Qe)|0,O=Math.imul(ge,et),k=k+Math.imul(ee,tt)|0,d=d+Math.imul(ee,rt)|0,d=d+Math.imul(ie,tt)|0,O=O+Math.imul(ie,rt)|0,k=k+Math.imul(L,nt)|0,d=d+Math.imul(L,it)|0,d=d+Math.imul(H,nt)|0,O=O+Math.imul(H,it)|0,k=k+Math.imul(y,st)|0,d=d+Math.imul(y,ot)|0,d=d+Math.imul(E,st)|0,O=O+Math.imul(E,ot)|0,k=k+Math.imul(ne,at)|0,d=d+Math.imul(ne,ft)|0,d=d+Math.imul(te,at)|0,O=O+Math.imul(te,ft)|0;var Yc=(D+k|0)+((d&8191)<<13)|0;D=(O+(d>>>13)|0)+(Yc>>>26)|0,Yc&=67108863,k=Math.imul(se,tt),d=Math.imul(se,rt),d=d+Math.imul(ge,tt)|0,O=Math.imul(ge,rt),k=k+Math.imul(ee,nt)|0,d=d+Math.imul(ee,it)|0,d=d+Math.imul(ie,nt)|0,O=O+Math.imul(ie,it)|0,k=k+Math.imul(L,st)|0,d=d+Math.imul(L,ot)|0,d=d+Math.imul(H,st)|0,O=O+Math.imul(H,ot)|0,k=k+Math.imul(y,at)|0,d=d+Math.imul(y,ft)|0,d=d+Math.imul(E,at)|0,O=O+Math.imul(E,ft)|0;var $c=(D+k|0)+((d&8191)<<13)|0;D=(O+(d>>>13)|0)+($c>>>26)|0,$c&=67108863,k=Math.imul(se,nt),d=Math.imul(se,it),d=d+Math.imul(ge,nt)|0,O=Math.imul(ge,it),k=k+Math.imul(ee,st)|0,d=d+Math.imul(ee,ot)|0,d=d+Math.imul(ie,st)|0,O=O+Math.imul(ie,ot)|0,k=k+Math.imul(L,at)|0,d=d+Math.imul(L,ft)|0,d=d+Math.imul(H,at)|0,O=O+Math.imul(H,ft)|0;var Jc=(D+k|0)+((d&8191)<<13)|0;D=(O+(d>>>13)|0)+(Jc>>>26)|0,Jc&=67108863,k=Math.imul(se,st),d=Math.imul(se,ot),d=d+Math.imul(ge,st)|0,O=Math.imul(ge,ot),k=k+Math.imul(ee,at)|0,d=d+Math.imul(ee,ft)|0,d=d+Math.imul(ie,at)|0,O=O+Math.imul(ie,ft)|0;var Zc=(D+k|0)+((d&8191)<<13)|0;D=(O+(d>>>13)|0)+(Zc>>>26)|0,Zc&=67108863,k=Math.imul(se,at),d=Math.imul(se,ft),d=d+Math.imul(ge,at)|0,O=Math.imul(ge,ft);var Qc=(D+k|0)+((d&8191)<<13)|0;return D=(O+(d>>>13)|0)+(Qc>>>26)|0,Qc&=67108863,q[0]=Cc,q[1]=Nc,q[2]=Uc,q[3]=Dc,q[4]=Lc,q[5]=Hc,q[6]=Fc,q[7]=Kc,q[8]=jc,q[9]=Wc,q[10]=zc,q[11]=Vc,q[12]=Gc,q[13]=Xc,q[14]=Yc,q[15]=$c,q[16]=Jc,q[17]=Zc,q[18]=Qc,D!==0&&(q[19]=D,S.length++),S};Math.imul||(I=x);function N(R,u,w){w.negative=u.negative^R.negative,w.length=R.length+u.length;for(var S=0,A=0,P=0;P<w.length-1;P++){var q=A;A=0;for(var D=S&67108863,k=Math.min(P,u.length-1),d=Math.max(0,P-R.length+1);d<=k;d++){var O=P-d,$=R.words[O]|0,Z=u.words[d]|0,Q=$*Z,re=Q&67108863;q=q+(Q/67108864|0)|0,re=re+D|0,D=re&67108863,q=q+(re>>>26)|0,A+=q>>>26,q&=67108863}w.words[P]=D,S=q,q=A}return S!==0?w.words[P]=S:w.length--,w.strip()}function F(R,u,w){var S=new j;return S.mulp(R,u,w)}i.prototype.mulTo=function(u,w){var S,A=this.length+u.length;return this.length===10&&u.length===10?S=I(this,u,w):A<63?S=x(this,u,w):A<1024?S=N(this,u,w):S=F(this,u,w),S};function j(R,u){this.x=R,this.y=u}j.prototype.makeRBT=function(u){for(var w=new Array(u),S=i.prototype._countBits(u)-1,A=0;A<u;A++)w[A]=this.revBin(A,S,u);return w},j.prototype.revBin=function(u,w,S){if(u===0||u===S-1)return u;for(var A=0,P=0;P<w;P++)A|=(u&1)<<w-P-1,u>>=1;return A},j.prototype.permute=function(u,w,S,A,P,q){for(var D=0;D<q;D++)A[D]=w[u[D]],P[D]=S[u[D]]},j.prototype.transform=function(u,w,S,A,P,q){this.permute(q,u,w,S,A,P);for(var D=1;D<P;D<<=1)for(var k=D<<1,d=Math.cos(2*Math.PI/k),O=Math.sin(2*Math.PI/k),$=0;$<P;$+=k)for(var Z=d,Q=O,re=0;re<D;re++){var ce=S[$+re],le=A[$+re],Ae=S[$+re+D],l=A[$+re+D],_=Z*Ae-Q*l;l=Z*l+Q*Ae,Ae=_,S[$+re]=ce+Ae,A[$+re]=le+l,S[$+re+D]=ce-Ae,A[$+re+D]=le-l,re!==k&&(_=d*Z-O*Q,Q=d*Q+O*Z,Z=_)}},j.prototype.guessLen13b=function(u,w){var S=Math.max(w,u)|1,A=S&1,P=0;for(S=S/2|0;S;S=S>>>1)P++;return 1<<P+1+A},j.prototype.conjugate=function(u,w,S){if(!(S<=1))for(var A=0;A<S/2;A++){var P=u[A];u[A]=u[S-A-1],u[S-A-1]=P,P=w[A],w[A]=-w[S-A-1],w[S-A-1]=-P}},j.prototype.normalize13b=function(u,w){for(var S=0,A=0;A<w/2;A++){var P=Math.round(u[2*A+1]/w)*8192+Math.round(u[2*A]/w)+S;u[A]=P&67108863,P<67108864?S=0:S=P/67108864|0}return u},j.prototype.convert13b=function(u,w,S,A){for(var P=0,q=0;q<w;q++)P=P+(u[q]|0),S[2*q]=P&8191,P=P>>>13,S[2*q+1]=P&8191,P=P>>>13;for(q=2*w;q<A;++q)S[q]=0;r(P===0),r((P&-8192)===0)},j.prototype.stub=function(u){for(var w=new Array(u),S=0;S<u;S++)w[S]=0;return w},j.prototype.mulp=function(u,w,S){var A=2*this.guessLen13b(u.length,w.length),P=this.makeRBT(A),q=this.stub(A),D=new Array(A),k=new Array(A),d=new Array(A),O=new Array(A),$=new Array(A),Z=new Array(A),Q=S.words;Q.length=A,this.convert13b(u.words,u.length,D,A),this.convert13b(w.words,w.length,O,A),this.transform(D,q,k,d,A,P),this.transform(O,q,$,Z,A,P);for(var re=0;re<A;re++){var ce=k[re]*$[re]-d[re]*Z[re];d[re]=k[re]*Z[re]+d[re]*$[re],k[re]=ce}return this.conjugate(k,d,A),this.transform(k,d,Q,q,A,P),this.conjugate(Q,q,A),this.normalize13b(Q,A),S.negative=u.negative^w.negative,S.length=u.length+w.length,S.strip()},i.prototype.mul=function(u){var w=new i(null);return w.words=new Array(this.length+u.length),this.mulTo(u,w)},i.prototype.mulf=function(u){var w=new i(null);return w.words=new Array(this.length+u.length),F(this,u,w)},i.prototype.imul=function(u){return this.clone().mulTo(u,this)},i.prototype.imuln=function(u){r(typeof u=="number"),r(u<67108864);for(var w=0,S=0;S<this.length;S++){var A=(this.words[S]|0)*u,P=(A&67108863)+(w&67108863);w>>=26,w+=A/67108864|0,w+=P>>>26,this.words[S]=P&67108863}return w!==0&&(this.words[S]=w,this.length++),this},i.prototype.muln=function(u){return this.clone().imuln(u)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(u){var w=v(u);if(w.length===0)return new i(1);for(var S=this,A=0;A<w.length&&w[A]===0;A++,S=S.sqr());if(++A<w.length)for(var P=S.sqr();A<w.length;A++,P=P.sqr())w[A]!==0&&(S=S.mul(P));return S},i.prototype.iushln=function(u){r(typeof u=="number"&&u>=0);var w=u%26,S=(u-w)/26,A=67108863>>>26-w<<26-w,P;if(w!==0){var q=0;for(P=0;P<this.length;P++){var D=this.words[P]&A,k=(this.words[P]|0)-D<<w;this.words[P]=k|q,q=D>>>26-w}q&&(this.words[P]=q,this.length++)}if(S!==0){for(P=this.length-1;P>=0;P--)this.words[P+S]=this.words[P];for(P=0;P<S;P++)this.words[P]=0;this.length+=S}return this.strip()},i.prototype.ishln=function(u){return r(this.negative===0),this.iushln(u)},i.prototype.iushrn=function(u,w,S){r(typeof u=="number"&&u>=0);var A;w?A=(w-w%26)/26:A=0;var P=u%26,q=Math.min((u-P)/26,this.length),D=67108863^67108863>>>P<<P,k=S;if(A-=q,A=Math.max(0,A),k){for(var d=0;d<q;d++)k.words[d]=this.words[d];k.length=q}if(q!==0)if(this.length>q)for(this.length-=q,d=0;d<this.length;d++)this.words[d]=this.words[d+q];else this.words[0]=0,this.length=1;var O=0;for(d=this.length-1;d>=0&&(O!==0||d>=A);d--){var $=this.words[d]|0;this.words[d]=O<<26-P|$>>>P,O=$&D}return k&&O!==0&&(k.words[k.length++]=O),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(u,w,S){return r(this.negative===0),this.iushrn(u,w,S)},i.prototype.shln=function(u){return this.clone().ishln(u)},i.prototype.ushln=function(u){return this.clone().iushln(u)},i.prototype.shrn=function(u){return this.clone().ishrn(u)},i.prototype.ushrn=function(u){return this.clone().iushrn(u)},i.prototype.testn=function(u){r(typeof u=="number"&&u>=0);var w=u%26,S=(u-w)/26,A=1<<w;if(this.length<=S)return!1;var P=this.words[S];return!!(P&A)},i.prototype.imaskn=function(u){r(typeof u=="number"&&u>=0);var w=u%26,S=(u-w)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(w!==0&&S++,this.length=Math.min(S,this.length),w!==0){var A=67108863^67108863>>>w<<w;this.words[this.length-1]&=A}return this.strip()},i.prototype.maskn=function(u){return this.clone().imaskn(u)},i.prototype.iaddn=function(u){return r(typeof u=="number"),r(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},i.prototype._iaddn=function(u){this.words[0]+=u;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},i.prototype.isubn=function(u){if(r(typeof u=="number"),r(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this.strip()},i.prototype.addn=function(u){return this.clone().iaddn(u)},i.prototype.subn=function(u){return this.clone().isubn(u)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(u,w,S){var A=u.length+S,P;this._expand(A);var q,D=0;for(P=0;P<u.length;P++){q=(this.words[P+S]|0)+D;var k=(u.words[P]|0)*w;q-=k&67108863,D=(q>>26)-(k/67108864|0),this.words[P+S]=q&67108863}for(;P<this.length-S;P++)q=(this.words[P+S]|0)+D,D=q>>26,this.words[P+S]=q&67108863;if(D===0)return this.strip();for(r(D===-1),D=0,P=0;P<this.length;P++)q=-(this.words[P]|0)+D,D=q>>26,this.words[P]=q&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(u,w){var S=this.length-u.length,A=this.clone(),P=u,q=P.words[P.length-1]|0,D=this._countBits(q);S=26-D,S!==0&&(P=P.ushln(S),A.iushln(S),q=P.words[P.length-1]|0);var k=A.length-P.length,d;if(w!=="mod"){d=new i(null),d.length=k+1,d.words=new Array(d.length);for(var O=0;O<d.length;O++)d.words[O]=0}var $=A.clone()._ishlnsubmul(P,1,k);$.negative===0&&(A=$,d&&(d.words[k]=1));for(var Z=k-1;Z>=0;Z--){var Q=(A.words[P.length+Z]|0)*67108864+(A.words[P.length+Z-1]|0);for(Q=Math.min(Q/q|0,67108863),A._ishlnsubmul(P,Q,Z);A.negative!==0;)Q--,A.negative=0,A._ishlnsubmul(P,1,Z),A.isZero()||(A.negative^=1);d&&(d.words[Z]=Q)}return d&&d.strip(),A.strip(),w!=="div"&&S!==0&&A.iushrn(S),{div:d||null,mod:A}},i.prototype.divmod=function(u,w,S){if(r(!u.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var A,P,q;return this.negative!==0&&u.negative===0?(q=this.neg().divmod(u,w),w!=="mod"&&(A=q.div.neg()),w!=="div"&&(P=q.mod.neg(),S&&P.negative!==0&&P.iadd(u)),{div:A,mod:P}):this.negative===0&&u.negative!==0?(q=this.divmod(u.neg(),w),w!=="mod"&&(A=q.div.neg()),{div:A,mod:q.mod}):(this.negative&u.negative)!==0?(q=this.neg().divmod(u.neg(),w),w!=="div"&&(P=q.mod.neg(),S&&P.negative!==0&&P.isub(u)),{div:q.div,mod:P}):u.length>this.length||this.cmp(u)<0?{div:new i(0),mod:this}:u.length===1?w==="div"?{div:this.divn(u.words[0]),mod:null}:w==="mod"?{div:null,mod:new i(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new i(this.modn(u.words[0]))}:this._wordDiv(u,w)},i.prototype.div=function(u){return this.divmod(u,"div",!1).div},i.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},i.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},i.prototype.divRound=function(u){var w=this.divmod(u);if(w.mod.isZero())return w.div;var S=w.div.negative!==0?w.mod.isub(u):w.mod,A=u.ushrn(1),P=u.andln(1),q=S.cmp(A);return q<0||P===1&&q===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},i.prototype.modn=function(u){r(u<=67108863);for(var w=(1<<26)%u,S=0,A=this.length-1;A>=0;A--)S=(w*S+(this.words[A]|0))%u;return S},i.prototype.idivn=function(u){r(u<=67108863);for(var w=0,S=this.length-1;S>=0;S--){var A=(this.words[S]|0)+w*67108864;this.words[S]=A/u|0,w=A%u}return this.strip()},i.prototype.divn=function(u){return this.clone().idivn(u)},i.prototype.egcd=function(u){r(u.negative===0),r(!u.isZero());var w=this,S=u.clone();w.negative!==0?w=w.umod(u):w=w.clone();for(var A=new i(1),P=new i(0),q=new i(0),D=new i(1),k=0;w.isEven()&&S.isEven();)w.iushrn(1),S.iushrn(1),++k;for(var d=S.clone(),O=w.clone();!w.isZero();){for(var $=0,Z=1;(w.words[0]&Z)===0&&$<26;++$,Z<<=1);if($>0)for(w.iushrn($);$-- >0;)(A.isOdd()||P.isOdd())&&(A.iadd(d),P.isub(O)),A.iushrn(1),P.iushrn(1);for(var Q=0,re=1;(S.words[0]&re)===0&&Q<26;++Q,re<<=1);if(Q>0)for(S.iushrn(Q);Q-- >0;)(q.isOdd()||D.isOdd())&&(q.iadd(d),D.isub(O)),q.iushrn(1),D.iushrn(1);w.cmp(S)>=0?(w.isub(S),A.isub(q),P.isub(D)):(S.isub(w),q.isub(A),D.isub(P))}return{a:q,b:D,gcd:S.iushln(k)}},i.prototype._invmp=function(u){r(u.negative===0),r(!u.isZero());var w=this,S=u.clone();w.negative!==0?w=w.umod(u):w=w.clone();for(var A=new i(1),P=new i(0),q=S.clone();w.cmpn(1)>0&&S.cmpn(1)>0;){for(var D=0,k=1;(w.words[0]&k)===0&&D<26;++D,k<<=1);if(D>0)for(w.iushrn(D);D-- >0;)A.isOdd()&&A.iadd(q),A.iushrn(1);for(var d=0,O=1;(S.words[0]&O)===0&&d<26;++d,O<<=1);if(d>0)for(S.iushrn(d);d-- >0;)P.isOdd()&&P.iadd(q),P.iushrn(1);w.cmp(S)>=0?(w.isub(S),A.isub(P)):(S.isub(w),P.isub(A))}var $;return w.cmpn(1)===0?$=A:$=P,$.cmpn(0)<0&&$.iadd(u),$},i.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var w=this.clone(),S=u.clone();w.negative=0,S.negative=0;for(var A=0;w.isEven()&&S.isEven();A++)w.iushrn(1),S.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;S.isEven();)S.iushrn(1);var P=w.cmp(S);if(P<0){var q=w;w=S,S=q}else if(P===0||S.cmpn(1)===0)break;w.isub(S)}while(!0);return S.iushln(A)},i.prototype.invm=function(u){return this.egcd(u).a.umod(u)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(u){return this.words[0]&u},i.prototype.bincn=function(u){r(typeof u=="number");var w=u%26,S=(u-w)/26,A=1<<w;if(this.length<=S)return this._expand(S+1),this.words[S]|=A,this;for(var P=A,q=S;P!==0&&q<this.length;q++){var D=this.words[q]|0;D+=P,P=D>>>26,D&=67108863,this.words[q]=D}return P!==0&&(this.words[q]=P,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(u){var w=u<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this.strip();var S;if(this.length>1)S=1;else{w&&(u=-u),r(u<=67108863,"Number is too big");var A=this.words[0]|0;S=A===u?0:A<u?-1:1}return this.negative!==0?-S|0:S},i.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var w=this.ucmp(u);return this.negative!==0?-w|0:w},i.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var w=0,S=this.length-1;S>=0;S--){var A=this.words[S]|0,P=u.words[S]|0;if(A!==P){A<P?w=-1:A>P&&(w=1);break}}return w},i.prototype.gtn=function(u){return this.cmpn(u)===1},i.prototype.gt=function(u){return this.cmp(u)===1},i.prototype.gten=function(u){return this.cmpn(u)>=0},i.prototype.gte=function(u){return this.cmp(u)>=0},i.prototype.ltn=function(u){return this.cmpn(u)===-1},i.prototype.lt=function(u){return this.cmp(u)===-1},i.prototype.lten=function(u){return this.cmpn(u)<=0},i.prototype.lte=function(u){return this.cmp(u)<=0},i.prototype.eqn=function(u){return this.cmpn(u)===0},i.prototype.eq=function(u){return this.cmp(u)===0},i.red=function(u){return new ae(u)},i.prototype.toRed=function(u){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(u){return this.red=u,this},i.prototype.forceRed=function(u){return r(!this.red,"Already a number in reduction context"),this._forceRed(u)},i.prototype.redAdd=function(u){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},i.prototype.redIAdd=function(u){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},i.prototype.redSub=function(u){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},i.prototype.redISub=function(u){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},i.prototype.redShl=function(u){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},i.prototype.redMul=function(u){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},i.prototype.redIMul=function(u){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(u){return r(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var z={k256:null,p224:null,p192:null,p25519:null};function X(R,u){this.name=R,this.p=new i(u,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}X.prototype._tmp=function(){var u=new i(null);return u.words=new Array(Math.ceil(this.n/13)),u},X.prototype.ireduce=function(u){var w=u,S;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),S=w.bitLength();while(S>this.n);var A=S<this.n?-1:w.ucmp(this.p);return A===0?(w.words[0]=0,w.length=1):A>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},X.prototype.split=function(u,w){u.iushrn(this.n,0,w)},X.prototype.imulK=function(u){return u.imul(this.k)};function oe(){X.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(oe,X),oe.prototype.split=function(u,w){for(var S=4194303,A=Math.min(u.length,9),P=0;P<A;P++)w.words[P]=u.words[P];if(w.length=A,u.length<=9){u.words[0]=0,u.length=1;return}var q=u.words[9];for(w.words[w.length++]=q&S,P=10;P<u.length;P++){var D=u.words[P]|0;u.words[P-10]=(D&S)<<4|q>>>22,q=D}q>>>=22,u.words[P-10]=q,q===0&&u.length>10?u.length-=10:u.length-=9},oe.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var w=0,S=0;S<u.length;S++){var A=u.words[S]|0;w+=A*977,u.words[S]=w&67108863,w=A*64+(w/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function fe(){X.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(fe,X);function ye(){X.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(ye,X);function de(){X.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(de,X),de.prototype.imulK=function(u){for(var w=0,S=0;S<u.length;S++){var A=(u.words[S]|0)*19+w,P=A&67108863;A>>>=26,u.words[S]=P,w=A}return w!==0&&(u.words[u.length++]=w),u},i._prime=function(u){if(z[u])return z[u];var w;if(u==="k256")w=new oe;else if(u==="p224")w=new fe;else if(u==="p192")w=new ye;else if(u==="p25519")w=new de;else throw new Error("Unknown prime "+u);return z[u]=w,w};function ae(R){if(typeof R=="string"){var u=i._prime(R);this.m=u.p,this.prime=u}else r(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}ae.prototype._verify1=function(u){r(u.negative===0,"red works only with positives"),r(u.red,"red works only with red numbers")},ae.prototype._verify2=function(u,w){r((u.negative|w.negative)===0,"red works only with positives"),r(u.red&&u.red===w.red,"red works only with red numbers")},ae.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},ae.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},ae.prototype.add=function(u,w){this._verify2(u,w);var S=u.add(w);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},ae.prototype.iadd=function(u,w){this._verify2(u,w);var S=u.iadd(w);return S.cmp(this.m)>=0&&S.isub(this.m),S},ae.prototype.sub=function(u,w){this._verify2(u,w);var S=u.sub(w);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},ae.prototype.isub=function(u,w){this._verify2(u,w);var S=u.isub(w);return S.cmpn(0)<0&&S.iadd(this.m),S},ae.prototype.shl=function(u,w){return this._verify1(u),this.imod(u.ushln(w))},ae.prototype.imul=function(u,w){return this._verify2(u,w),this.imod(u.imul(w))},ae.prototype.mul=function(u,w){return this._verify2(u,w),this.imod(u.mul(w))},ae.prototype.isqr=function(u){return this.imul(u,u.clone())},ae.prototype.sqr=function(u){return this.mul(u,u)},ae.prototype.sqrt=function(u){if(u.isZero())return u.clone();var w=this.m.andln(3);if(r(w%2===1),w===3){var S=this.m.add(new i(1)).iushrn(2);return this.pow(u,S)}for(var A=this.m.subn(1),P=0;!A.isZero()&&A.andln(1)===0;)P++,A.iushrn(1);r(!A.isZero());var q=new i(1).toRed(this),D=q.redNeg(),k=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new i(2*d*d).toRed(this);this.pow(d,k).cmp(D)!==0;)d.redIAdd(D);for(var O=this.pow(d,A),$=this.pow(u,A.addn(1).iushrn(1)),Z=this.pow(u,A),Q=P;Z.cmp(q)!==0;){for(var re=Z,ce=0;re.cmp(q)!==0;ce++)re=re.redSqr();r(ce<Q);var le=this.pow(O,new i(1).iushln(Q-ce-1));$=$.redMul(le),O=le.redSqr(),Z=Z.redMul(O),Q=ce}return $},ae.prototype.invm=function(u){var w=u._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},ae.prototype.pow=function(u,w){if(w.isZero())return new i(1).toRed(this);if(w.cmpn(1)===0)return u.clone();var S=4,A=new Array(1<<S);A[0]=new i(1).toRed(this),A[1]=u;for(var P=2;P<A.length;P++)A[P]=this.mul(A[P-1],u);var q=A[0],D=0,k=0,d=w.bitLength()%26;for(d===0&&(d=26),P=w.length-1;P>=0;P--){for(var O=w.words[P],$=d-1;$>=0;$--){var Z=O>>$&1;if(q!==A[0]&&(q=this.sqr(q)),Z===0&&D===0){k=0;continue}D<<=1,D|=Z,k++,!(k!==S&&(P!==0||$!==0))&&(q=this.mul(q,A[D]),k=0,D=0)}d=26}return q},ae.prototype.convertTo=function(u){var w=u.umod(this.m);return w===u?w.clone():w},ae.prototype.convertFrom=function(u){var w=u.clone();return w.red=null,w},i.mont=function(u){return new Ie(u)};function Ie(R){ae.call(this,R),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(Ie,ae),Ie.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},Ie.prototype.convertFrom=function(u){var w=this.imod(u.mul(this.rinv));return w.red=null,w},Ie.prototype.imul=function(u,w){if(u.isZero()||w.isZero())return u.words[0]=0,u.length=1,u;var S=u.imul(w),A=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=S.isub(A).iushrn(this.shift),q=P;return P.cmp(this.m)>=0?q=P.isub(this.m):P.cmpn(0)<0&&(q=P.iadd(this.m)),q._forceRed(this)},Ie.prototype.mul=function(u,w){if(u.isZero()||w.isZero())return new i(0)._forceRed(this);var S=u.mul(w),A=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=S.isub(A).iushrn(this.shift),q=P;return P.cmp(this.m)>=0?q=P.isub(this.m):P.cmpn(0)<0&&(q=P.iadd(this.m)),q._forceRed(this)},Ie.prototype.invm=function(u){var w=this.imod(u._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(typeof Jh>"u"||Jh,Bb)});var Pb=M((lU,Lx)=>{Lx.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var Vt=M((pU,Mb)=>{p();b();Mb.exports=Ob;function Ob(t,e){if(!t)throw new Error(e||"Assertion failed")}Ob.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)}});var Zh=M(Cb=>{"use strict";p();b();var If=Cb;function Hx(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var n=0;n<t.length;n++)r[n]=t[n]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),s=i>>8,o=i&255;s?r.push(s,o):r.push(o)}return r}If.toArray=Hx;function qb(t){return t.length===1?"0"+t:t}If.zero2=qb;function Rb(t){for(var e="",r=0;r<t.length;r++)e+=qb(t[r].toString(16));return e}If.toHex=Rb;If.encode=function(e,r){return r==="hex"?Rb(e):e}});var Gt=M(Nb=>{"use strict";p();b();var hr=Nb,Fx=Fe(),Kx=Vt(),Tf=Zh();hr.assert=Kx;hr.toArray=Tf.toArray;hr.zero2=Tf.zero2;hr.toHex=Tf.toHex;hr.encode=Tf.encode;function jx(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,s=t.clone(),o=0;o<n.length;o++){var a,f=s.andln(i-1);s.isOdd()?(f>(i>>1)-1?a=(i>>1)-f:a=f,s.isubn(a)):a=0,n[o]=a,s.iushrn(1)}return n}hr.getNAF=jx;function Wx(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,s;t.cmpn(-n)>0||e.cmpn(-i)>0;){var o=t.andln(3)+n&3,a=e.andln(3)+i&3;o===3&&(o=-1),a===3&&(a=-1);var f;(o&1)===0?f=0:(s=t.andln(7)+n&7,(s===3||s===5)&&a===2?f=-o:f=o),r[0].push(f);var c;(a&1)===0?c=0:(s=e.andln(7)+i&7,(s===3||s===5)&&o===2?c=-a:c=a),r[1].push(c),2*n===f+1&&(n=1-n),2*i===c+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}hr.getJSF=Wx;function zx(t,e,r){var n="_"+e;t.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}hr.cachedProperty=zx;function Vx(t){return typeof t=="string"?hr.toArray(t,"hex"):t}hr.parseBytes=Vx;function Gx(t){return new Fx(t,"hex","le")}hr.intFromLE=Gx});var Un=M((EU,e0)=>{"use strict";p();b();var Qh=65536,Xx=4294967295;function Yx(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var $x=me().Buffer,kf=globalThis.crypto||globalThis.msCrypto;kf&&kf.getRandomValues?e0.exports=Jx:e0.exports=Yx;function Jx(t,e){if(t>Xx)throw new RangeError("requested too many random bytes");var r=$x.allocUnsafe(t);if(t>0)if(t>Qh)for(var n=0;n<t;n+=Qh)kf.getRandomValues(r.slice(n,n+Qh));else kf.getRandomValues(r);return typeof e=="function"?B.nextTick(function(){e(null,r)}):r}});var t0=M((IU,Zx)=>{Zx.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var Db=M((TU,Ub)=>{p();b();Ub.exports=t0()});var r0=M((PU,Lb)=>{p();b();var Qx=Math.pow(2,30)-1;Lb.exports=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>Qx||e!==e)throw new TypeError("Bad key length")}});var n0=M((qU,Fb)=>{p();b();var Bf;B.browser?Bf="utf-8":B.version?(Hb=parseInt(B.version.split(".")[0].slice(1),10),Bf=Hb>=6?"utf-8":"binary"):Bf="utf-8";var Hb;Fb.exports=Bf});var s0=M((NU,Kb)=>{p();b();var i0=me().Buffer;Kb.exports=function(t,e,r){if(i0.isBuffer(t))return t;if(typeof t=="string")return i0.from(t,e);if(ArrayBuffer.isView(t))return i0.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}});var o0=M((LU,Vb)=>{p();b();var eE=Vh(),tE=bf(),rE=wf(),Ai=me().Buffer,nE=r0(),jb=n0(),Wb=s0(),iE=Ai.alloc(128),Pf={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function zb(t,e,r){var n=sE(t),i=t==="sha512"||t==="sha384"?128:64;e.length>i?e=n(e):e.length<i&&(e=Ai.concat([e,iE],i));for(var s=Ai.allocUnsafe(i+Pf[t]),o=Ai.allocUnsafe(i+Pf[t]),a=0;a<i;a++)s[a]=e[a]^54,o[a]=e[a]^92;var f=Ai.allocUnsafe(i+r+4);s.copy(f,0,0,i),this.ipad1=f,this.ipad2=s,this.opad=o,this.alg=t,this.blocksize=i,this.hash=n,this.size=Pf[t]}zb.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function sE(t){function e(n){return rE(t).update(n).digest()}function r(n){return new tE().update(n).digest()}return t==="rmd160"||t==="ripemd160"?r:t==="md5"?eE:e}function oE(t,e,r,n,i){nE(r,n),t=Wb(t,jb,"Password"),e=Wb(e,jb,"Salt"),i=i||"sha1";var s=new zb(i,t,e.length),o=Ai.allocUnsafe(n),a=Ai.allocUnsafe(e.length+4);e.copy(a,0,0,e.length);for(var f=0,c=Pf[i],m=Math.ceil(n/c),v=1;v<=m;v++){a.writeUInt32BE(v,e.length);for(var x=s.run(a,s.ipad1),I=x,N=1;N<r;N++){I=s.run(I,s.ipad2);for(var F=0;F<c;F++)x[F]^=I[F]}x.copy(o,f),f+=c}return o}Vb.exports=oE});var Qb=M((KU,Zb)=>{p();b();var $b=me().Buffer,aE=r0(),Gb=n0(),Xb=o0(),Yb=s0(),Of,Ko=globalThis.crypto&&globalThis.crypto.subtle,fE={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},a0=[];function uE(t){if(globalThis.process&&!globalThis.process.browser||!Ko||!Ko.importKey||!Ko.deriveBits)return Promise.resolve(!1);if(a0[t]!==void 0)return a0[t];Of=Of||$b.alloc(8);var e=Jb(Of,Of,10,128,t).then(function(){return!0}).catch(function(){return!1});return a0[t]=e,e}function Jb(t,e,r,n,i){return Ko.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(s){return Ko.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:i}},s,n<<3)}).then(function(s){return $b.from(s)})}function cE(t,e){t.then(function(r){B.nextTick(function(){e(null,r)})},function(r){B.nextTick(function(){e(r)})})}Zb.exports=function(t,e,r,n,i,s){typeof i=="function"&&(s=i,i=void 0),i=i||"sha1";var o=fE[i.toLowerCase()];if(!o||typeof globalThis.Promise!="function")return B.nextTick(function(){var a;try{a=Xb(t,e,r,n,i)}catch(f){return s(f)}s(null,a)});if(aE(r,n),t=Yb(t,Gb,"Password"),e=Yb(e,Gb,"Salt"),typeof s!="function")throw new Error("No callback provided to pbkdf2");cE(uE(o).then(function(a){return a?Jb(t,e,r,n,o):Xb(t,e,r,n,i)}),s)}});var u0=M(f0=>{p();b();f0.pbkdf2=Qb();f0.pbkdf2Sync=o0()});var jo=M((XU,ev)=>{p();b();var Ii=me().Buffer,hE=lf();function dE(t,e,r,n){if(Ii.isBuffer(t)||(t=Ii.from(t,"binary")),e&&(Ii.isBuffer(e)||(e=Ii.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,s=Ii.alloc(i),o=Ii.alloc(n||0),a=Ii.alloc(0);i>0||n>0;){var f=new hE;f.update(a),f.update(t),e&&f.update(e),a=f.digest();var c=0;if(i>0){var m=s.length-i;c=Math.min(i,a.length),a.copy(s,m,0,c),i-=c}if(c<a.length&&n>0){var v=o.length-n,x=Math.min(n,a.length-c);a.copy(o,v,c,c+x),n-=x}}return a.fill(0),{key:s,iv:o}}ev.exports=dE});var tv=M(c0=>{p();b();c0.encrypt=function(t,e){return t._cipher.encryptBlock(e)};c0.decrypt=function(t,e){return t._cipher.decryptBlock(e)}});var Ss=M((eD,rv)=>{p();b();rv.exports=function(e,r){for(var n=Math.min(e.length,r.length),i=new g.Buffer(n),s=0;s<n;++s)i[s]=e[s]^r[s];return i}});var iv=M(h0=>{p();b();var nv=Ss();h0.encrypt=function(t,e){var r=nv(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};h0.decrypt=function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return nv(n,r)}});var av=M(ov=>{p();b();var Wo=me().Buffer,lE=Ss();function sv(t,e,r){var n=e.length,i=lE(e,t._cache);return t._cache=t._cache.slice(n),t._prev=Wo.concat([t._prev,r?e:i]),i}ov.encrypt=function(t,e,r){for(var n=Wo.allocUnsafe(0),i;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=Wo.allocUnsafe(0)),t._cache.length<=e.length)i=t._cache.length,n=Wo.concat([n,sv(t,e.slice(0,i),r)]),e=e.slice(i);else{n=Wo.concat([n,sv(t,e,r)]);break}return n}});var uv=M(fv=>{p();b();var d0=me().Buffer;function pE(t,e,r){var n=t._cipher.encryptBlock(t._prev),i=n[0]^e;return t._prev=d0.concat([t._prev.slice(1),d0.from([r?e:i])]),i}fv.encrypt=function(t,e,r){for(var n=e.length,i=d0.allocUnsafe(n),s=-1;++s<n;)i[s]=pE(t,e[s],r);return i}});var hv=M(cv=>{p();b();var Mf=me().Buffer;function bE(t,e,r){for(var n,i=-1,s=8,o=0,a,f;++i<s;)n=t._cipher.encryptBlock(t._prev),a=e&1<<7-i?128:0,f=n[0]^a,o+=(f&128)>>i%8,t._prev=vE(t._prev,r?a:f);return o}function vE(t,e){var r=t.length,n=-1,i=Mf.allocUnsafe(t.length);for(t=Mf.concat([t,Mf.from([e])]);++n<r;)i[n]=t[n]<<1|t[n+1]>>7;return i}cv.encrypt=function(t,e,r){for(var n=e.length,i=Mf.allocUnsafe(n),s=-1;++s<n;)i[s]=bE(t,e[s],r);return i}});var lv=M(dv=>{p();b();var yE=Ss();function gE(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}dv.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=g.Buffer.concat([t._cache,gE(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),yE(e,r)}});var l0=M((gD,pv)=>{p();b();function wE(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}pv.exports=wE});var b0=M(vv=>{p();b();var mE=Ss(),bv=me().Buffer,_E=l0();function xE(t){var e=t._cipher.encryptBlockRaw(t._prev);return _E(t._prev),e}var p0=16;vv.encrypt=function(t,e){var r=Math.ceil(e.length/p0),n=t._cache.length;t._cache=bv.concat([t._cache,bv.allocUnsafe(r*p0)]);for(var i=0;i<r;i++){var s=xE(t),o=n+i*p0;t._cache.writeUInt32BE(s[0],o+0),t._cache.writeUInt32BE(s[1],o+4),t._cache.writeUInt32BE(s[2],o+8),t._cache.writeUInt32BE(s[3],o+12)}var a=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),mE(e,a)}});var v0=M((SD,EE)=>{EE.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var Rf=M((AD,yv)=>{p();b();var SE={ECB:tv(),CBC:iv(),CFB:av(),CFB8:uv(),CFB1:hv(),OFB:lv(),CTR:b0(),GCM:b0()},qf=v0();for(y0 in qf)qf[y0].module=SE[qf[y0].mode];var y0;yv.exports=qf});var zo=M((kD,wv)=>{p();b();var Cf=me().Buffer;function w0(t){Cf.isBuffer(t)||(t=Cf.from(t));for(var e=t.length/4|0,r=new Array(e),n=0;n<e;n++)r[n]=t.readUInt32BE(n*4);return r}function g0(t){for(var e=0;e<t.length;t++)t[e]=0}function gv(t,e,r,n,i){for(var s=r[0],o=r[1],a=r[2],f=r[3],c=t[0]^e[0],m=t[1]^e[1],v=t[2]^e[2],x=t[3]^e[3],I,N,F,j,z=4,X=1;X<i;X++)I=s[c>>>24]^o[m>>>16&255]^a[v>>>8&255]^f[x&255]^e[z++],N=s[m>>>24]^o[v>>>16&255]^a[x>>>8&255]^f[c&255]^e[z++],F=s[v>>>24]^o[x>>>16&255]^a[c>>>8&255]^f[m&255]^e[z++],j=s[x>>>24]^o[c>>>16&255]^a[m>>>8&255]^f[v&255]^e[z++],c=I,m=N,v=F,x=j;return I=(n[c>>>24]<<24|n[m>>>16&255]<<16|n[v>>>8&255]<<8|n[x&255])^e[z++],N=(n[m>>>24]<<24|n[v>>>16&255]<<16|n[x>>>8&255]<<8|n[c&255])^e[z++],F=(n[v>>>24]<<24|n[x>>>16&255]<<16|n[c>>>8&255]<<8|n[m&255])^e[z++],j=(n[x>>>24]<<24|n[c>>>16&255]<<16|n[m>>>8&255]<<8|n[v&255])^e[z++],I=I>>>0,N=N>>>0,F=F>>>0,j=j>>>0,[I,N,F,j]}var AE=[0,1,2,4,8,16,32,64,128,27,54],ct=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],n=[],i=[[],[],[],[]],s=[[],[],[],[]],o=0,a=0,f=0;f<256;++f){var c=a^a<<1^a<<2^a<<3^a<<4;c=c>>>8^c&255^99,r[o]=c,n[c]=o;var m=t[o],v=t[m],x=t[v],I=t[c]*257^c*16843008;i[0][o]=I<<24|I>>>8,i[1][o]=I<<16|I>>>16,i[2][o]=I<<8|I>>>24,i[3][o]=I,I=x*16843009^v*65537^m*257^o*16843008,s[0][c]=I<<24|I>>>8,s[1][c]=I<<16|I>>>16,s[2][c]=I<<8|I>>>24,s[3][c]=I,o===0?o=a=1:(o=m^t[t[t[x^m]]],a^=t[t[a]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:s}}();function tr(t){this._key=w0(t),this._reset()}tr.blockSize=4*4;tr.keySize=256/8;tr.prototype.blockSize=tr.blockSize;tr.prototype.keySize=tr.keySize;tr.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=(r+1)*4,i=[],s=0;s<e;s++)i[s]=t[s];for(s=e;s<n;s++){var o=i[s-1];s%e===0?(o=o<<8|o>>>24,o=ct.SBOX[o>>>24]<<24|ct.SBOX[o>>>16&255]<<16|ct.SBOX[o>>>8&255]<<8|ct.SBOX[o&255],o^=AE[s/e|0]<<24):e>6&&s%e===4&&(o=ct.SBOX[o>>>24]<<24|ct.SBOX[o>>>16&255]<<16|ct.SBOX[o>>>8&255]<<8|ct.SBOX[o&255]),i[s]=i[s-e]^o}for(var a=[],f=0;f<n;f++){var c=n-f,m=i[c-(f%4?0:4)];f<4||c<=4?a[f]=m:a[f]=ct.INV_SUB_MIX[0][ct.SBOX[m>>>24]]^ct.INV_SUB_MIX[1][ct.SBOX[m>>>16&255]]^ct.INV_SUB_MIX[2][ct.SBOX[m>>>8&255]]^ct.INV_SUB_MIX[3][ct.SBOX[m&255]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=a};tr.prototype.encryptBlockRaw=function(t){return t=w0(t),gv(t,this._keySchedule,ct.SUB_MIX,ct.SBOX,this._nRounds)};tr.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=Cf.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};tr.prototype.decryptBlock=function(t){t=w0(t);var e=t[1];t[1]=t[3],t[3]=e;var r=gv(t,this._invKeySchedule,ct.INV_SUB_MIX,ct.INV_SBOX,this._nRounds),n=Cf.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};tr.prototype.scrub=function(){g0(this._keySchedule),g0(this._invKeySchedule),g0(this._key)};wv.exports.AES=tr});var xv=M((OD,_v)=>{p();b();var As=me().Buffer,IE=As.alloc(16,0);function TE(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function mv(t){var e=As.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function Vo(t){this.h=t,this.state=As.alloc(16,0),this.cache=As.allocUnsafe(0)}Vo.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};Vo.prototype._multiply=function(){for(var t=TE(this.h),e=[0,0,0,0],r,n,i,s=-1;++s<128;){for(n=(this.state[~~(s/8)]&1<<7-s%8)!==0,n&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),i=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,i&&(t[0]=t[0]^225<<24)}this.state=mv(e)};Vo.prototype.update=function(t){this.cache=As.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};Vo.prototype.final=function(t,e){return this.cache.length&&this.ghash(As.concat([this.cache,IE],16)),this.ghash(mv([0,t,0,e])),this.state};_v.exports=Vo});var m0=M((RD,Av)=>{p();b();var kE=zo(),Ft=me().Buffer,Ev=tn(),BE=pe(),Sv=xv(),PE=Ss(),OE=l0();function ME(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),i=0;i<n;++i)r+=t[i]^e[i];return r}function qE(t,e,r){if(e.length===12)return t._finID=Ft.concat([e,Ft.from([0,0,0,1])]),Ft.concat([e,Ft.from([0,0,0,2])]);var n=new Sv(r),i=e.length,s=i%16;n.update(e),s&&(s=16-s,n.update(Ft.alloc(s,0))),n.update(Ft.alloc(8,0));var o=i*8,a=Ft.alloc(8);a.writeUIntBE(o,0,8),n.update(a),t._finID=n.state;var f=Ft.from(t._finID);return OE(f),f}function Ti(t,e,r,n){Ev.call(this);var i=Ft.alloc(4,0);this._cipher=new kE.AES(e);var s=this._cipher.encryptBlock(i);this._ghash=new Sv(s),r=qE(this,r,s),this._prev=Ft.from(r),this._cache=Ft.allocUnsafe(0),this._secCache=Ft.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}BE(Ti,Ev);Ti.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=Ft.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};Ti.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=PE(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&ME(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};Ti.prototype.getAuthTag=function(){if(this._decrypt||!Ft.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};Ti.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};Ti.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};Av.exports=Ti});var x0=M((UD,Tv)=>{p();b();var RE=zo(),_0=me().Buffer,Iv=tn(),CE=pe();function Nf(t,e,r,n){Iv.call(this),this._cipher=new RE.AES(e),this._prev=_0.from(r),this._cache=_0.allocUnsafe(0),this._secCache=_0.allocUnsafe(0),this._decrypt=n,this._mode=t}CE(Nf,Iv);Nf.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};Nf.prototype._final=function(){this._cipher.scrub()};Tv.exports=Nf});var Ov=M(E0=>{p();b();var kv=Rf(),NE=m0(),nn=me().Buffer,UE=x0(),Bv=tn(),DE=zo(),LE=jo(),HE=pe();function Go(t,e,r){Bv.call(this),this._cache=new Uf,this._cipher=new DE.AES(e),this._prev=nn.from(r),this._mode=t,this._autopadding=!0}HE(Go,Bv);Go.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return nn.concat(n)};var FE=nn.alloc(16,16);Go.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(FE))throw this._cipher.scrub(),new Error("data not multiple of block length")};Go.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function Uf(){this.cache=nn.allocUnsafe(0)}Uf.prototype.add=function(t){this.cache=nn.concat([this.cache,t])};Uf.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};Uf.prototype.flush=function(){for(var t=16-this.cache.length,e=nn.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return nn.concat([this.cache,e])};function Pv(t,e,r){var n=kv[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=nn.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=nn.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new UE(n.module,e,r):n.type==="auth"?new NE(n.module,e,r):new Go(n.module,e,r)}function KE(t,e){var r=kv[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=LE(e,!1,r.key,r.iv);return Pv(t,n.key,n.iv)}E0.createCipheriv=Pv;E0.createCipher=KE});var Cv=M(S0=>{p();b();var jE=m0(),Is=me().Buffer,Mv=Rf(),WE=x0(),qv=tn(),zE=zo(),VE=jo(),GE=pe();function Xo(t,e,r){qv.call(this),this._cache=new Df,this._last=void 0,this._cipher=new zE.AES(e),this._prev=Is.from(r),this._mode=t,this._autopadding=!0}GE(Xo,qv);Xo.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return Is.concat(n)};Xo.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return XE(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};Xo.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function Df(){this.cache=Is.allocUnsafe(0)}Df.prototype.add=function(t){this.cache=Is.concat([this.cache,t])};Df.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};Df.prototype.flush=function(){if(this.cache.length)return this.cache};function XE(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}function Rv(t,e,r){var n=Mv[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=Is.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=Is.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return n.type==="stream"?new WE(n.module,e,r,!0):n.type==="auth"?new jE(n.module,e,r,!0):new Xo(n.module,e,r)}function YE(t,e){var r=Mv[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=VE(e,!1,r.key,r.iv);return Rv(t,n.key,n.iv)}S0.createDecipher=YE;S0.createDecipheriv=Rv});var Lf=M(dr=>{p();b();var Nv=Ov(),Uv=Cv(),$E=v0();function JE(){return Object.keys($E)}dr.createCipher=dr.Cipher=Nv.createCipher;dr.createCipheriv=dr.Cipheriv=Nv.createCipheriv;dr.createDecipher=dr.Decipher=Uv.createDecipher;dr.createDecipheriv=dr.Decipheriv=Uv.createDecipheriv;dr.listCiphers=dr.getCiphers=JE});var Hv=M(rr=>{"use strict";p();b();rr.readUInt32BE=function(e,r){var n=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return n>>>0};rr.writeUInt32BE=function(e,r,n){e[0+n]=r>>>24,e[1+n]=r>>>16&255,e[2+n]=r>>>8&255,e[3+n]=r&255};rr.ip=function(e,r,n,i){for(var s=0,o=0,a=6;a>=0;a-=2){for(var f=0;f<=24;f+=8)s<<=1,s|=r>>>f+a&1;for(var f=0;f<=24;f+=8)s<<=1,s|=e>>>f+a&1}for(var a=6;a>=0;a-=2){for(var f=1;f<=25;f+=8)o<<=1,o|=r>>>f+a&1;for(var f=1;f<=25;f+=8)o<<=1,o|=e>>>f+a&1}n[i+0]=s>>>0,n[i+1]=o>>>0};rr.rip=function(e,r,n,i){for(var s=0,o=0,a=0;a<4;a++)for(var f=24;f>=0;f-=8)s<<=1,s|=r>>>f+a&1,s<<=1,s|=e>>>f+a&1;for(var a=4;a<8;a++)for(var f=24;f>=0;f-=8)o<<=1,o|=r>>>f+a&1,o<<=1,o|=e>>>f+a&1;n[i+0]=s>>>0,n[i+1]=o>>>0};rr.pc1=function(e,r,n,i){for(var s=0,o=0,a=7;a>=5;a--){for(var f=0;f<=24;f+=8)s<<=1,s|=r>>f+a&1;for(var f=0;f<=24;f+=8)s<<=1,s|=e>>f+a&1}for(var f=0;f<=24;f+=8)s<<=1,s|=r>>f+a&1;for(var a=1;a<=3;a++){for(var f=0;f<=24;f+=8)o<<=1,o|=r>>f+a&1;for(var f=0;f<=24;f+=8)o<<=1,o|=e>>f+a&1}for(var f=0;f<=24;f+=8)o<<=1,o|=e>>f+a&1;n[i+0]=s>>>0,n[i+1]=o>>>0};rr.r28shl=function(e,r){return e<<r&268435455|e>>>28-r};var Hf=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];rr.pc2=function(e,r,n,i){for(var s=0,o=0,a=Hf.length>>>1,f=0;f<a;f++)s<<=1,s|=e>>>Hf[f]&1;for(var f=a;f<Hf.length;f++)o<<=1,o|=r>>>Hf[f]&1;n[i+0]=s>>>0,n[i+1]=o>>>0};rr.expand=function(e,r,n){var i=0,s=0;i=(e&1)<<5|e>>>27;for(var o=23;o>=15;o-=4)i<<=6,i|=e>>>o&63;for(var o=11;o>=3;o-=4)s|=e>>>o&63,s<<=6;s|=(e&31)<<1|e>>>31,r[n+0]=i>>>0,r[n+1]=s>>>0};var Dv=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];rr.substitute=function(e,r){for(var n=0,i=0;i<4;i++){var s=e>>>18-i*6&63,o=Dv[i*64+s];n<<=4,n|=o}for(var i=0;i<4;i++){var s=r>>>18-i*6&63,o=Dv[4*64+i*64+s];n<<=4,n|=o}return n>>>0};var Lv=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];rr.permute=function(e){for(var r=0,n=0;n<Lv.length;n++)r<<=1,r|=e>>>Lv[n]&1;return r>>>0};rr.padSplit=function(e,r,n){for(var i=e.toString(2);i.length<r;)i="0"+i;for(var s=[],o=0;o<r;o+=n)s.push(i.slice(o,o+n));return s.join(" ")}});var Kv=M((ZD,Fv)=>{"use strict";p();b();var ZE=Vt();function nr(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}Fv.exports=nr;nr.prototype._init=function(){};nr.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};nr.prototype._buffer=function(e,r){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-r),i=0;i<n;i++)this.buffer[this.bufferOff+i]=e[r+i];return this.bufferOff+=n,n};nr.prototype._flushBuffer=function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize};nr.prototype._updateEncrypt=function(e){var r=0,n=0,i=(this.bufferOff+e.length)/this.blockSize|0,s=new Array(i*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(s,n)));for(var o=e.length-(e.length-r)%this.blockSize;r<o;r+=this.blockSize)this._update(e,r,s,n),n+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return s};nr.prototype._updateDecrypt=function(e){for(var r=0,n=0,i=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,s=new Array(i*this.blockSize);i>0;i--)r+=this._buffer(e,r),n+=this._flushBuffer(s,n);return r+=this._buffer(e,r),s};nr.prototype.final=function(e){var r;e&&(r=this.update(e));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n};nr.prototype._pad=function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0};nr.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};nr.prototype._unpad=function(e){return e};nr.prototype._finalDecrypt=function(){ZE.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}});var Gv=M((tL,Vv)=>{"use strict";p();b();var jv=Vt(),QE=pe(),Wv=Ff(),dt=Wv.utils,zv=Wv.Cipher;function eS(){this.tmp=new Array(2),this.keys=null}function Mr(t){zv.call(this,t);var e=new eS;this._desState=e,this.deriveKeys(e,t.key)}QE(Mr,zv);Vv.exports=Mr;Mr.create=function(e){return new Mr(e)};var tS=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];Mr.prototype.deriveKeys=function(e,r){e.keys=new Array(16*2),jv.equal(r.length,this.blockSize,"Invalid key length");var n=dt.readUInt32BE(r,0),i=dt.readUInt32BE(r,4);dt.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var o=tS[s>>>1];n=dt.r28shl(n,o),i=dt.r28shl(i,o),dt.pc2(n,i,e.keys,s)}};Mr.prototype._update=function(e,r,n,i){var s=this._desState,o=dt.readUInt32BE(e,r),a=dt.readUInt32BE(e,r+4);dt.ip(o,a,s.tmp,0),o=s.tmp[0],a=s.tmp[1],this.type==="encrypt"?this._encrypt(s,o,a,s.tmp,0):this._decrypt(s,o,a,s.tmp,0),o=s.tmp[0],a=s.tmp[1],dt.writeUInt32BE(n,o,i),dt.writeUInt32BE(n,a,i+4)};Mr.prototype._pad=function(e,r){for(var n=e.length-r,i=r;i<e.length;i++)e[i]=n;return!0};Mr.prototype._unpad=function(e){for(var r=e[e.length-1],n=e.length-r;n<e.length;n++)jv.equal(e[n],r);return e.slice(0,e.length-r)};Mr.prototype._encrypt=function(e,r,n,i,s){for(var o=r,a=n,f=0;f<e.keys.length;f+=2){var c=e.keys[f],m=e.keys[f+1];dt.expand(a,e.tmp,0),c^=e.tmp[0],m^=e.tmp[1];var v=dt.substitute(c,m),x=dt.permute(v),I=a;a=(o^x)>>>0,o=I}dt.rip(a,o,i,s)};Mr.prototype._decrypt=function(e,r,n,i,s){for(var o=n,a=r,f=e.keys.length-2;f>=0;f-=2){var c=e.keys[f],m=e.keys[f+1];dt.expand(o,e.tmp,0),c^=e.tmp[0],m^=e.tmp[1];var v=dt.substitute(c,m),x=dt.permute(v),I=o;o=(a^x)>>>0,a=I}dt.rip(o,a,i,s)}});var Yv=M(Xv=>{"use strict";p();b();var rS=Vt(),nS=pe(),Kf={};function iS(t){rS.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}function sS(t){function e(s){t.call(this,s),this._cbcInit()}nS(e,t);for(var r=Object.keys(Kf),n=0;n<r.length;n++){var i=r[n];e.prototype[i]=Kf[i]}return e.create=function(o){return new e(o)},e}Xv.instantiate=sS;Kf._cbcInit=function(){var e=new iS(this.options.iv);this._cbcState=e};Kf._update=function(e,r,n,i){var s=this._cbcState,o=this.constructor.super_.prototype,a=s.iv;if(this.type==="encrypt"){for(var f=0;f<this.blockSize;f++)a[f]^=e[r+f];o._update.call(this,a,0,n,i);for(var f=0;f<this.blockSize;f++)a[f]=n[i+f]}else{o._update.call(this,e,r,n,i);for(var f=0;f<this.blockSize;f++)n[i+f]^=a[f];for(var f=0;f<this.blockSize;f++)a[f]=e[r+f]}}});var Qv=M((aL,Zv)=>{"use strict";p();b();var oS=Vt(),aS=pe(),$v=Ff(),Jv=$v.Cipher,Dn=$v.DES;function fS(t,e){oS.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),n=e.slice(8,16),i=e.slice(16,24);t==="encrypt"?this.ciphers=[Dn.create({type:"encrypt",key:r}),Dn.create({type:"decrypt",key:n}),Dn.create({type:"encrypt",key:i})]:this.ciphers=[Dn.create({type:"decrypt",key:i}),Dn.create({type:"encrypt",key:n}),Dn.create({type:"decrypt",key:r})]}function ki(t){Jv.call(this,t);var e=new fS(this.type,this.options.key);this._edeState=e}aS(ki,Jv);Zv.exports=ki;ki.create=function(e){return new ki(e)};ki.prototype._update=function(e,r,n,i){var s=this._edeState;s.ciphers[0]._update(e,r,n,i),s.ciphers[1]._update(n,i,n,i),s.ciphers[2]._update(n,i,n,i)};ki.prototype._pad=Dn.prototype._pad;ki.prototype._unpad=Dn.prototype._unpad});var Ff=M(Ts=>{"use strict";p();b();Ts.utils=Hv();Ts.Cipher=Kv();Ts.DES=Gv();Ts.CBC=Yv();Ts.EDE=Qv()});var ry=M((lL,ty)=>{p();b();var ey=tn(),sn=Ff(),uS=pe(),Yo={"des-ede3-cbc":sn.CBC.instantiate(sn.EDE),"des-ede3":sn.EDE,"des-ede-cbc":sn.CBC.instantiate(sn.EDE),"des-ede":sn.EDE,"des-cbc":sn.CBC.instantiate(sn.DES),"des-ecb":sn.DES};Yo.des=Yo["des-cbc"];Yo.des3=Yo["des-ede3-cbc"];ty.exports=jf;uS(jf,ey);function jf(t){ey.call(this);var e=t.mode.toLowerCase(),r=Yo[e],n;t.decrypt?n="decrypt":n="encrypt";var i=t.key;(e==="des-ede"||e==="des-ede-cbc")&&(i=g.Buffer.concat([i,i.slice(0,8)]));var s=t.iv;this._des=r.create({key:i,iv:s,type:n})}jf.prototype._update=function(t){return new g.Buffer(this._des.update(t))};jf.prototype._final=function(){return new g.Buffer(this._des.final())}});var ny=M(on=>{p();b();on["des-ecb"]={key:8,iv:0};on["des-cbc"]=on.des={key:8,iv:8};on["des-ede3-cbc"]=on.des3={key:24,iv:8};on["des-ede3"]={key:24,iv:0};on["des-ede-cbc"]={key:16,iv:8};on["des-ede"]={key:16,iv:0}});var fy=M(lr=>{p();b();var iy=jo(),A0=Lf(),sy=ry(),an=ny(),Ln=Rf();function cS(t,e){var r,n;if(t=t.toLowerCase(),Ln[t])r=Ln[t].key,n=Ln[t].iv;else if(an[t])r=an[t].key*8,n=an[t].iv;else throw new TypeError("invalid suite type");var i=iy(e,!1,r,n);return oy(t,i.key,i.iv)}function hS(t,e){var r,n;if(t=t.toLowerCase(),Ln[t])r=Ln[t].key,n=Ln[t].iv;else if(an[t])r=an[t].key*8,n=an[t].iv;else throw new TypeError("invalid suite type");var i=iy(e,!1,r,n);return ay(t,i.key,i.iv)}function oy(t,e,r){if(t=t.toLowerCase(),Ln[t])return A0.createCipheriv(t,e,r);if(an[t])return new sy({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function ay(t,e,r){if(t=t.toLowerCase(),Ln[t])return A0.createDecipheriv(t,e,r);if(an[t])return new sy({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}lr.createCipher=lr.Cipher=cS;lr.createCipheriv=lr.Cipheriv=oy;lr.createDecipher=lr.Decipher=hS;lr.createDecipheriv=lr.Decipheriv=ay;function dS(){return Object.keys(an).concat(A0.getCiphers())}lr.listCiphers=lr.getCiphers=dS});var I0=M((xL,uy)=>{p();b();var Bi=Fe(),lS=Wf();function Pi(t){this.rand=t||new lS.Rand}uy.exports=Pi;Pi.create=function(e){return new Pi(e)};Pi.prototype._randbelow=function(e){var r=e.bitLength(),n=Math.ceil(r/8);do var i=new Bi(this.rand.generate(n));while(i.cmp(e)>=0);return i};Pi.prototype._randrange=function(e,r){var n=r.sub(e);return e.add(this._randbelow(n))};Pi.prototype.test=function(e,r,n){var i=e.bitLength(),s=Bi.mont(e),o=new Bi(1).toRed(s);r||(r=Math.max(1,i/48|0));for(var a=e.subn(1),f=0;!a.testn(f);f++);for(var c=e.shrn(f),m=a.toRed(s),v=!0;r>0;r--){var x=this._randrange(new Bi(2),a);n&&n(x);var I=x.toRed(s).redPow(c);if(!(I.cmp(o)===0||I.cmp(m)===0)){for(var N=1;N<f;N++){if(I=I.redSqr(),I.cmp(o)===0)return!1;if(I.cmp(m)===0)break}if(N===f)return!1}}return v};Pi.prototype.getDivisor=function(e,r){var n=e.bitLength(),i=Bi.mont(e),s=new Bi(1).toRed(i);r||(r=Math.max(1,n/48|0));for(var o=e.subn(1),a=0;!o.testn(a);a++);for(var f=e.shrn(a),c=o.toRed(i);r>0;r--){var m=this._randrange(new Bi(2),o),v=e.gcd(m);if(v.cmpn(1)!==0)return v;var x=m.toRed(i).redPow(f);if(!(x.cmp(s)===0||x.cmp(c)===0)){for(var I=1;I<a;I++){if(x=x.redSqr(),x.cmp(s)===0)return x.fromRed().subn(1).gcd(e);if(x.cmp(c)===0)break}if(I===a)return x=x.redSqr(),x.fromRed().subn(1).gcd(e)}}return!1}});var M0=M((BL,dy)=>{p();b();var pS=Un();dy.exports=O0;O0.simpleSieve=B0;O0.fermatTest=P0;var _t=Fe(),bS=new _t(24),vS=I0(),cy=new vS,yS=new _t(1),k0=new _t(2),gS=new _t(5),AL=new _t(16),IL=new _t(8),wS=new _t(10),mS=new _t(3),TL=new _t(7),_S=new _t(11),hy=new _t(4),kL=new _t(12),T0=null;function xS(){if(T0!==null)return T0;var t=1048576,e=[];e[0]=2;for(var r=1,n=3;n<t;n+=2){for(var i=Math.ceil(Math.sqrt(n)),s=0;s<r&&e[s]<=i&&n%e[s]!==0;s++);r!==s&&e[s]<=i||(e[r++]=n)}return T0=e,e}function B0(t){for(var e=xS(),r=0;r<e.length;r++)if(t.modn(e[r])===0)return t.cmpn(e[r])===0;return!0}function P0(t){var e=_t.mont(t);return k0.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)===0}function O0(t,e){if(t<16)return e===2||e===5?new _t([140,123]):new _t([140,39]);e=new _t(e);for(var r,n;;){for(r=new _t(pS(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(yS),r.testn(1)||r.iadd(k0),e.cmp(k0)){if(!e.cmp(gS))for(;r.mod(wS).cmp(mS);)r.iadd(hy)}else for(;r.mod(bS).cmp(_S);)r.iadd(hy);if(n=r.shrn(1),B0(n)&&B0(r)&&P0(n)&&P0(r)&&cy.test(n)&&cy.test(r))return r}}});var ly=M((ML,ES)=>{ES.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var yy=M((qL,vy)=>{p();b();var ir=Fe(),SS=I0(),py=new SS,AS=new ir(24),IS=new ir(11),TS=new ir(10),kS=new ir(3),BS=new ir(7),by=M0(),PS=Un();vy.exports=fn;function OS(t,e){return e=e||"utf8",g.Buffer.isBuffer(t)||(t=new g.Buffer(t,e)),this._pub=new ir(t),this}function MS(t,e){return e=e||"utf8",g.Buffer.isBuffer(t)||(t=new g.Buffer(t,e)),this._priv=new ir(t),this}var zf={};function qS(t,e){var r=e.toString("hex"),n=[r,t.toString(16)].join("_");if(n in zf)return zf[n];var i=0;if(t.isEven()||!by.simpleSieve||!by.fermatTest(t)||!py.test(t))return i+=1,r==="02"||r==="05"?i+=8:i+=4,zf[n]=i,i;py.test(t.shrn(1))||(i+=2);var s;switch(r){case"02":t.mod(AS).cmp(IS)&&(i+=8);break;case"05":s=t.mod(TS),s.cmp(kS)&&s.cmp(BS)&&(i+=8);break;default:i+=4}return zf[n]=i,i}function fn(t,e,r){this.setGenerator(e),this.__prime=new ir(t),this._prime=ir.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=OS,this.setPrivateKey=MS):this._primeCode=8}Object.defineProperty(fn.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=qS(this.__prime,this.__gen)),this._primeCode}});fn.prototype.generateKeys=function(){return this._priv||(this._priv=new ir(PS(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};fn.prototype.computeSecret=function(t){t=new ir(t),t=t.toRed(this._prime);var e=t.redPow(this._priv).fromRed(),r=new g.Buffer(e.toArray()),n=this.getPrime();if(r.length<n.length){var i=new g.Buffer(n.length-r.length);i.fill(0),r=g.Buffer.concat([i,r])}return r};fn.prototype.getPublicKey=function(e){return Vf(this._pub,e)};fn.prototype.getPrivateKey=function(e){return Vf(this._priv,e)};fn.prototype.getPrime=function(t){return Vf(this.__prime,t)};fn.prototype.getGenerator=function(t){return Vf(this._gen,t)};fn.prototype.setGenerator=function(t,e){return e=e||"utf8",g.Buffer.isBuffer(t)||(t=new g.Buffer(t,e)),this.__gen=t,this._gen=new ir(t),this};function Vf(t,e){var r=new g.Buffer(t.toArray());return e?r.toString(e):r}});var my=M(ks=>{p();b();var RS=M0(),gy=ly(),q0=yy();function CS(t){var e=new g.Buffer(gy[t].prime,"hex"),r=new g.Buffer(gy[t].gen,"hex");return new q0(e,r)}var NS={binary:!0,hex:!0,base64:!0};function wy(t,e,r,n){return g.Buffer.isBuffer(e)||NS[e]===void 0?wy(t,"binary",e,r):(e=e||"binary",n=n||"binary",r=r||new g.Buffer([2]),g.Buffer.isBuffer(r)||(r=new g.Buffer(r,n)),typeof t=="number"?new q0(RS(t,r),r,!0):(g.Buffer.isBuffer(t)||(t=new g.Buffer(t,e)),new q0(t,r,!0)))}ks.DiffieHellmanGroup=ks.createDiffieHellmanGroup=ks.getDiffieHellman=CS;ks.createDiffieHellman=ks.DiffieHellman=wy});var Gf=M((LL,Sy)=>{p();b();var Hn=Fe(),_y=Un();Sy.exports=xy;function US(t){var e=Ey(t),r=e.toRed(Hn.mont(t.modulus)).redPow(new Hn(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}function xy(t,e){var r=US(e),n=e.modulus.byteLength(),i=Hn.mont(e.modulus),s=new Hn(t).mul(r.blinder).umod(e.modulus),o=s.toRed(Hn.mont(e.prime1)),a=s.toRed(Hn.mont(e.prime2)),f=e.coefficient,c=e.prime1,m=e.prime2,v=o.redPow(e.exponent1),x=a.redPow(e.exponent2);v=v.fromRed(),x=x.fromRed();var I=v.isub(x).imul(f).umod(c);return I.imul(m),x.iadd(I),new g.Buffer(x.imul(r.unblinder).umod(e.modulus).toArray(!1,n))}xy.getr=Ey;function Ey(t){for(var e=t.modulus.byteLength(),r=new Hn(_y(e));r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2);)r=new Hn(_y(e));return r}});var Py={};co(Py,{Script:()=>pr,createContext:()=>C0,createScript:()=>Iy,default:()=>FS,isContext:()=>N0,runInContext:()=>Ty,runInNewContext:()=>By,runInThisContext:()=>ky});function Ps(t){if(Object.keys)return Object.keys(t);var e=[];for(var r in t)e.push(r);return e}function Bs(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e(t[r],r,t)}function DS(t,e,r){typeof R0!="function"&&(R0=LS),R0(t,e,r)}function LS(){try{return Object.defineProperty({},"_",{}),function(t,e,r){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch{return function(e,r,n){e[r]=n}}}function Xf(){}function pr(t){if(!(this instanceof pr))return new pr(t);this.code=t}function HS(t,e){var r=Ps(globalThis);r.push("with (this.__ctx__){return eval(this.__code__)}");var n=Function.apply(null,r);return n.apply({__code__:t,__ctx__:e})}function Iy(t){return new pr(t)}function C0(t){if(N0(t))return t;var e=new Xf;return typeof t=="object"&&Bs(Ps(t),function(r){e[r]=t[r]}),e}function Ty(t,e,r){var n=new pr(t,r);return n.runInContext(e,r)}function ky(t,e){var r=new pr(t,e);return r.runInThisContext(e)}function N0(t){return t instanceof Xf}function By(t,e,r){var n=new pr(t,r);return n.runInNewContext(e,r)}function jS(t,e){if(KS)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}var R0,Ay,FS,KS,Oy=Gr(()=>{p();b();Ay=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Xf.prototype={};pr.prototype.runInContext=function(t){if(!(t instanceof Xf))throw new TypeError("needs a 'context' argument.");if(globalThis.document){var e=globalThis.document.createElement("iframe");e.style||(e.style={}),e.style.display="none",globalThis.document.body.appendChild(e);var r=e.contentWindow,n=r.eval,i=r.execScript;!n&&i&&(i.call(r,"null"),n=r.eval),Bs(Ps(t),function(a){r[a]=t[a]}),Bs(Ay,function(a){t[a]&&(r[a]=t[a])});var s=Ps(r),o=n.call(r,this.code);return Bs(Ps(r),function(a){(a in t||jS(s,a)===-1)&&(t[a]=r[a])}),Bs(Ay,function(a){a in t||DS(t,a,r[a])}),globalThis.document.body.removeChild(e),o}return HS(this.code,t)};pr.prototype.runInThisContext=function(){var t=new Function("code","return eval(code);");return t.call(globalThis,this.code)};pr.prototype.runInNewContext=function(t){var e=C0(t),r=this.runInContext(e);return t&&Bs(Ps(e),function(n){t[n]=e[n]}),r};FS={runInContext:Ty,isContext:N0,createContext:C0,createScript:Iy,Script:pr,runInThisContext:ky,runInNewContext:By},KS=[].indexOf});var My=M((WL,Yf)=>{p();b();var Oi=(Oy(),ho(Py));if(Oi&&Oi.default){Yf.exports=Oi.default;for(let t in Oi)Yf.exports[t]=Oi[t]}else Oi&&(Yf.exports=Oi)});var Cy=M(Ry=>{p();b();var qy=Ms(),WS=pe(),zS=Ry;zS.define=function(e,r){return new Os(e,r)};function Os(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}Os.prototype._createNamed=function(e){var r;try{r=My().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{r=function(i){this._initNamed(i)}}return WS(r,e),r.prototype._initNamed=function(i){e.call(this,i)},new r(this)};Os.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(qy.decoders[e])),this.decoders[e]};Os.prototype.decode=function(e,r,n){return this._getDecoder(r).decode(e,n)};Os.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(qy.encoders[e])),this.encoders[e]};Os.prototype.encode=function(e,r,n){return this._getEncoder(r).encode(e,n)}});var Uy=M(Ny=>{p();b();var VS=pe();function sr(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}Ny.Reporter=sr;sr.prototype.isError=function(e){return e instanceof qs};sr.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};sr.prototype.restore=function(e){var r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};sr.prototype.enterKey=function(e){return this._reporterState.path.push(e)};sr.prototype.exitKey=function(e){var r=this._reporterState;r.path=r.path.slice(0,e-1)};sr.prototype.leaveKey=function(e,r,n){var i=this._reporterState;this.exitKey(e),i.obj!==null&&(i.obj[r]=n)};sr.prototype.path=function(){return this._reporterState.path.join("/")};sr.prototype.enterObject=function(){var e=this._reporterState,r=e.obj;return e.obj={},r};sr.prototype.leaveObject=function(e){var r=this._reporterState,n=r.obj;return r.obj=e,n};sr.prototype.error=function(e){var r,n=this._reporterState,i=e instanceof qs;if(i?r=e:r=new qs(n.path.map(function(s){return"["+JSON.stringify(s)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw r;return i||n.errors.push(r),r};sr.prototype.wrapResult=function(e){var r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function qs(t,e){this.path=t,this.rethrow(e)}VS(qs,Error);qs.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,qs),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this}});var D0=M(U0=>{p();b();var GS=pe(),Jf=Rs().Reporter,$o=On().Buffer;function qr(t,e){if(Jf.call(this,e),!$o.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}GS(qr,Jf);U0.DecoderBuffer=qr;qr.prototype.save=function(){return{offset:this.offset,reporter:Jf.prototype.save.call(this)}};qr.prototype.restore=function(e){var r=new qr(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,Jf.prototype.restore.call(this,e.reporter),r};qr.prototype.isEmpty=function(){return this.offset===this.length};qr.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};qr.prototype.skip=function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");var n=new qr(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n};qr.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function $f(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return r instanceof $f||(r=new $f(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=$o.byteLength(t);else if($o.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}U0.EncoderBuffer=$f;$f.prototype.join=function(e,r){return e||(e=new $o(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,r),r+=n.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):$o.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e}});var Hy=M((rH,Ly)=>{p();b();var XS=Rs().Reporter,YS=Rs().EncoderBuffer,$S=Rs().DecoderBuffer,Dt=Vt(),Dy=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],JS=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(Dy),ZS=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function ke(t,e){var r={};this._baseState=r,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}Ly.exports=ke;var QS=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];ke.prototype.clone=function(){var e=this._baseState,r={};QS.forEach(function(i){r[i]=e[i]});var n=new this.constructor(r.parent);return n._baseState=r,n};ke.prototype._wrap=function(){var e=this._baseState;JS.forEach(function(r){this[r]=function(){var i=new this.constructor(this);return e.children.push(i),i[r].apply(i,arguments)}},this)};ke.prototype._init=function(e){var r=this._baseState;Dt(r.parent===null),e.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),Dt.equal(r.children.length,1,"Root node can have only one child")};ke.prototype._useArgs=function(e){var r=this._baseState,n=e.filter(function(i){return i instanceof this.constructor},this);e=e.filter(function(i){return!(i instanceof this.constructor)},this),n.length!==0&&(Dt(r.children===null),r.children=n,n.forEach(function(i){i._baseState.parent=this},this)),e.length!==0&&(Dt(r.args===null),r.args=e,r.reverseArgs=e.map(function(i){if(typeof i!="object"||i.constructor!==Object)return i;var s={};return Object.keys(i).forEach(function(o){o==(o|0)&&(o|=0);var a=i[o];s[a]=o}),s}))};ZS.forEach(function(t){ke.prototype[t]=function(){var r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)}});Dy.forEach(function(t){ke.prototype[t]=function(){var r=this._baseState,n=Array.prototype.slice.call(arguments);return Dt(r.tag===null),r.tag=t,this._useArgs(n),this}});ke.prototype.use=function(e){Dt(e);var r=this._baseState;return Dt(r.use===null),r.use=e,this};ke.prototype.optional=function(){var e=this._baseState;return e.optional=!0,this};ke.prototype.def=function(e){var r=this._baseState;return Dt(r.default===null),r.default=e,r.optional=!0,this};ke.prototype.explicit=function(e){var r=this._baseState;return Dt(r.explicit===null&&r.implicit===null),r.explicit=e,this};ke.prototype.implicit=function(e){var r=this._baseState;return Dt(r.explicit===null&&r.implicit===null),r.implicit=e,this};ke.prototype.obj=function(){var e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this};ke.prototype.key=function(e){var r=this._baseState;return Dt(r.key===null),r.key=e,this};ke.prototype.any=function(){var e=this._baseState;return e.any=!0,this};ke.prototype.choice=function(e){var r=this._baseState;return Dt(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(n){return e[n]})),this};ke.prototype.contains=function(e){var r=this._baseState;return Dt(r.use===null),r.contains=e,this};ke.prototype._decode=function(e,r){var n=this._baseState;if(n.parent===null)return e.wrapResult(n.children[0]._decode(e,r));var i=n.default,s=!0,o=null;if(n.key!==null&&(o=e.enterKey(n.key)),n.optional){var a=null;if(n.explicit!==null?a=n.explicit:n.implicit!==null?a=n.implicit:n.tag!==null&&(a=n.tag),a===null&&!n.any){var f=e.save();try{n.choice===null?this._decodeGeneric(n.tag,e,r):this._decodeChoice(e,r),s=!0}catch{s=!1}e.restore(f)}else if(s=this._peekTag(e,a,n.any),e.isError(s))return s}var c;if(n.obj&&s&&(c=e.enterObject()),s){if(n.explicit!==null){var m=this._decodeTag(e,n.explicit);if(e.isError(m))return m;e=m}var v=e.offset;if(n.use===null&&n.choice===null){if(n.any)var f=e.save();var x=this._decodeTag(e,n.implicit!==null?n.implicit:n.tag,n.any);if(e.isError(x))return x;n.any?i=e.raw(f):e=x}if(r&&r.track&&n.tag!==null&&r.track(e.path(),v,e.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),n.any?i=i:n.choice===null?i=this._decodeGeneric(n.tag,e,r):i=this._decodeChoice(e,r),e.isError(i))return i;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(function(F){F._decode(e,r)}),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){var I=new $S(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(I,r)}}return n.obj&&s&&(i=e.leaveObject(c)),n.key!==null&&(i!==null||s===!0)?e.leaveKey(o,n.key,i):o!==null&&e.exitKey(o),i};ke.prototype._decodeGeneric=function(e,r,n){var i=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,i.args[0],n):/str$/.test(e)?this._decodeStr(r,e,n):e==="objid"&&i.args?this._decodeObjid(r,i.args[0],i.args[1],n):e==="objid"?this._decodeObjid(r,null,null,n):e==="gentime"||e==="utctime"?this._decodeTime(r,e,n):e==="null_"?this._decodeNull(r,n):e==="bool"?this._decodeBool(r,n):e==="objDesc"?this._decodeStr(r,e,n):e==="int"||e==="enum"?this._decodeInt(r,i.args&&i.args[0],n):i.use!==null?this._getUse(i.use,r._reporterState.obj)._decode(r,n):r.error("unknown tag: "+e)};ke.prototype._getUse=function(e,r){var n=this._baseState;return n.useDecoder=this._use(e,r),Dt(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder};ke.prototype._decodeChoice=function(e,r){var n=this._baseState,i=null,s=!1;return Object.keys(n.choice).some(function(o){var a=e.save(),f=n.choice[o];try{var c=f._decode(e,r);if(e.isError(c))return!1;i={type:o,value:c},s=!0}catch{return e.restore(a),!1}return!0},this),s?i:e.error("Choice not matched")};ke.prototype._createEncoderBuffer=function(e){return new YS(e,this.reporter)};ke.prototype._encode=function(e,r,n){var i=this._baseState;if(!(i.default!==null&&i.default===e)){var s=this._encodeValue(e,r,n);if(s!==void 0&&!this._skipDefault(s,r,n))return s}};ke.prototype._encodeValue=function(e,r,n){var i=this._baseState;if(i.parent===null)return i.children[0]._encode(e,r||new XS);var f=null;if(this.reporter=r,i.optional&&e===void 0)if(i.default!==null)e=i.default;else return;var s=null,o=!1;if(i.any)f=this._createEncoderBuffer(e);else if(i.choice)f=this._encodeChoice(e,r);else if(i.contains)s=this._getUse(i.contains,n)._encode(e,r),o=!0;else if(i.children)s=i.children.map(function(v){if(v._baseState.tag==="null_")return v._encode(null,r,e);if(v._baseState.key===null)return r.error("Child should have a key");var x=r.enterKey(v._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");var I=v._encode(e[v._baseState.key],r,e);return r.leaveKey(x),I},this).filter(function(v){return v}),s=this._createEncoderBuffer(s);else if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return r.error("Too many args for : "+i.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");var a=this.clone();a._baseState.implicit=null,s=this._createEncoderBuffer(e.map(function(v){var x=this._baseState;return this._getUse(x.args[0],e)._encode(v,r)},a))}else i.use!==null?f=this._getUse(i.use,n)._encode(e,r):(s=this._encodePrimitive(i.tag,e),o=!0);var f;if(!i.any&&i.choice===null){var c=i.implicit!==null?i.implicit:i.tag,m=i.implicit===null?"universal":"context";c===null?i.use===null&&r.error("Tag could be omitted only for .use()"):i.use===null&&(f=this._encodeComposite(c,o,m,s))}return i.explicit!==null&&(f=this._encodeComposite(i.explicit,!1,"context",f)),f};ke.prototype._encodeChoice=function(e,r){var n=this._baseState,i=n.choice[e.type];return i||Dt(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(e.value,r)};ke.prototype._encodePrimitive=function(e,r){var n=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)};ke.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};ke.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}});var Rs=M(Fy=>{p();b();var Zf=Fy;Zf.Reporter=Uy().Reporter;Zf.DecoderBuffer=D0().DecoderBuffer;Zf.EncoderBuffer=D0().EncoderBuffer;Zf.Node=Hy()});var jy=M(Mi=>{p();b();var Ky=L0();Mi.tagClass={0:"universal",1:"application",2:"context",3:"private"};Mi.tagClassByName=Ky._reverse(Mi.tagClass);Mi.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};Mi.tagByName=Ky._reverse(Mi.tag)});var L0=M(zy=>{p();b();var Wy=zy;Wy._reverse=function(e){var r={};return Object.keys(e).forEach(function(n){(n|0)==n&&(n=n|0);var i=e[n];r[i]=n}),r};Wy.der=jy()});var K0=M((pH,Yy)=>{p();b();var eA=pe(),H0=Ms(),Qf=H0.base,tA=H0.bignum,Vy=H0.constants.der;function Gy(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new Xt,this.tree._init(t.body)}Yy.exports=Gy;Gy.prototype.decode=function(e,r){return e instanceof Qf.DecoderBuffer||(e=new Qf.DecoderBuffer(e,r)),this.tree._decode(e,r)};function Xt(t){Qf.Node.call(this,"der",t)}eA(Xt,Qf.Node);Xt.prototype._peekTag=function(e,r,n){if(e.isEmpty())return!1;var i=e.save(),s=F0(e,'Failed to peek tag: "'+r+'"');return e.isError(s)?s:(e.restore(i),s.tag===r||s.tagStr===r||s.tagStr+"of"===r||n)};Xt.prototype._decodeTag=function(e,r,n){var i=F0(e,'Failed to decode tag of "'+r+'"');if(e.isError(i))return i;var s=Xy(e,i.primitive,'Failed to get length of "'+r+'"');if(e.isError(s))return s;if(!n&&i.tag!==r&&i.tagStr!==r&&i.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(i.primitive||s!==null)return e.skip(s,'Failed to match body of: "'+r+'"');var o=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(s=e.offset-o.offset,e.restore(o),e.skip(s,'Failed to match body of: "'+r+'"'))};Xt.prototype._skipUntilEnd=function(e,r){for(;;){var n=F0(e,r);if(e.isError(n))return n;var i=Xy(e,n.primitive,r);if(e.isError(i))return i;var s;if(n.primitive||i!==null?s=e.skip(i):s=this._skipUntilEnd(e,r),e.isError(s))return s;if(n.tagStr==="end")break}};Xt.prototype._decodeList=function(e,r,n,i){for(var s=[];!e.isEmpty();){var o=this._peekTag(e,"end");if(e.isError(o))return o;var a=n.decode(e,"der",i);if(e.isError(a)&&o)break;s.push(a)}return s};Xt.prototype._decodeStr=function(e,r){if(r==="bitstr"){var n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}else if(r==="bmpstr"){var i=e.raw();if(i.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");for(var s="",o=0;o<i.length/2;o++)s+=String.fromCharCode(i.readUInt16BE(o*2));return s}else if(r==="numstr"){var a=e.raw().toString("ascii");return this._isNumstr(a)?a:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){var f=e.raw().toString("ascii");return this._isPrintstr(f)?f:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}};Xt.prototype._decodeObjid=function(e,r,n){for(var i,s=[],o=0;!e.isEmpty();){var a=e.readUInt8();o<<=7,o|=a&127,(a&128)===0&&(s.push(o),o=0)}a&128&&s.push(o);var f=s[0]/40|0,c=s[0]%40;if(n?i=s:i=[f,c].concat(s.slice(1)),r){var m=r[i.join(" ")];m===void 0&&(m=r[i.join(".")]),m!==void 0&&(i=m)}return i};Xt.prototype._decodeTime=function(e,r){var n=e.raw().toString();if(r==="gentime")var i=n.slice(0,4)|0,s=n.slice(4,6)|0,o=n.slice(6,8)|0,a=n.slice(8,10)|0,f=n.slice(10,12)|0,c=n.slice(12,14)|0;else if(r==="utctime"){var i=n.slice(0,2)|0,s=n.slice(2,4)|0,o=n.slice(4,6)|0,a=n.slice(6,8)|0,f=n.slice(8,10)|0,c=n.slice(10,12)|0;i<70?i=2e3+i:i=1900+i}else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(i,s-1,o,a,f,c,0)};Xt.prototype._decodeNull=function(e){return null};Xt.prototype._decodeBool=function(e){var r=e.readUInt8();return e.isError(r)?r:r!==0};Xt.prototype._decodeInt=function(e,r){var n=e.raw(),i=new tA(n);return r&&(i=r[i.toString(10)]||i),i};Xt.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree};function F0(t,e){var r=t.readUInt8(e);if(t.isError(r))return r;var n=Vy.tagClass[r>>6],i=(r&32)===0;if((r&31)===31){var s=r;for(r=0;(s&128)===128;){if(s=t.readUInt8(e),t.isError(s))return s;r<<=7,r|=s&127}}else r&=31;var o=Vy.tag[r];return{cls:n,primitive:i,tag:r,tagStr:o}}function Xy(t,e,r){var n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&n===128)return null;if((n&128)===0)return n;var i=n&127;if(i>4)return t.error("length octect is too long");n=0;for(var s=0;s<i;s++){n<<=8;var o=t.readUInt8(r);if(t.isError(o))return o;n|=o}return n}});var Jy=M((yH,$y)=>{p();b();var rA=pe(),nA=On().Buffer,j0=K0();function W0(t){j0.call(this,t),this.enc="pem"}rA(W0,j0);$y.exports=W0;W0.prototype.decode=function(e,r){for(var n=e.toString().split(/[\r\n]+/g),i=r.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,o=-1,a=-1,f=0;f<n.length;f++){var c=n[f].match(s);if(c!==null&&c[2]===i)if(o===-1){if(c[1]!=="BEGIN")break;o=f}else{if(c[1]!=="END")break;a=f;break}}if(o===-1||a===-1)throw new Error("PEM section not found for: "+i);var m=n.slice(o+1,a).join("");m.replace(/[^a-z0-9\+\/=]+/gi,"");var v=new nA(m,"base64");return j0.prototype.decode.call(this,v,r)}});var e3=M(Qy=>{p();b();var Zy=Qy;Zy.der=K0();Zy.pem=Jy()});var V0=M((EH,i3)=>{p();b();var iA=pe(),un=On().Buffer,t3=Ms(),r3=t3.base,z0=t3.constants.der;function n3(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new br,this.tree._init(t.body)}i3.exports=n3;n3.prototype.encode=function(e,r){return this.tree._encode(e,r).join()};function br(t){r3.Node.call(this,"der",t)}iA(br,r3.Node);br.prototype._encodeComposite=function(e,r,n,i){var s=sA(e,r,n,this.reporter);if(i.length<128){var f=new un(2);return f[0]=s,f[1]=i.length,this._createEncoderBuffer([f,i])}for(var o=1,a=i.length;a>=256;a>>=8)o++;var f=new un(1+1+o);f[0]=s,f[1]=128|o;for(var a=1+o,c=i.length;c>0;a--,c>>=8)f[a]=c&255;return this._createEncoderBuffer([f,i])};br.prototype._encodeStr=function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){for(var n=new un(e.length*2),i=0;i<e.length;i++)n.writeUInt16BE(e.charCodeAt(i),i*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")};br.prototype._encodeObjid=function(e,r,n){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s\.]+/g);for(var i=0;i<e.length;i++)e[i]|=0}else if(Array.isArray(e)){e=e.slice();for(var i=0;i<e.length;i++)e[i]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}for(var s=0,i=0;i<e.length;i++){var o=e[i];for(s++;o>=128;o>>=7)s++}for(var a=new un(s),f=a.length-1,i=e.length-1;i>=0;i--){var o=e[i];for(a[f--]=o&127;(o>>=7)>0;)a[f--]=128|o&127}return this._createEncoderBuffer(a)};function or(t){return t<10?"0"+t:t}br.prototype._encodeTime=function(e,r){var n,i=new Date(e);return r==="gentime"?n=[or(i.getFullYear()),or(i.getUTCMonth()+1),or(i.getUTCDate()),or(i.getUTCHours()),or(i.getUTCMinutes()),or(i.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[or(i.getFullYear()%100),or(i.getUTCMonth()+1),or(i.getUTCDate()),or(i.getUTCHours()),or(i.getUTCMinutes()),or(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(n,"octstr")};br.prototype._encodeNull=function(){return this._createEncoderBuffer("")};br.prototype._encodeInt=function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!un.isBuffer(e)){var n=e.toArray();!e.sign&&n[0]&128&&n.unshift(0),e=new un(n)}if(un.isBuffer(e)){var i=e.length;e.length===0&&i++;var o=new un(i);return e.copy(o),e.length===0&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);for(var i=1,s=e;s>=256;s>>=8)i++;for(var o=new Array(i),s=o.length-1;s>=0;s--)o[s]=e&255,e>>=8;return o[0]&128&&o.unshift(0),this._createEncoderBuffer(new un(o))};br.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};br.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree};br.prototype._skipDefault=function(e,r,n){var i=this._baseState,s;if(i.default===null)return!1;var o=e.join();if(i.defaultBuffer===void 0&&(i.defaultBuffer=this._encodeValue(i.default,r,n).join()),o.length!==i.defaultBuffer.length)return!1;for(s=0;s<o.length;s++)if(o[s]!==i.defaultBuffer[s])return!1;return!0};function sA(t,e,r,n){var i;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),z0.tagByName.hasOwnProperty(t))i=z0.tagByName[t];else if(typeof t=="number"&&(t|0)===t)i=t;else return n.error("Unknown tag: "+t);return i>=31?n.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|=z0.tagClassByName[r||"universal"]<<6,i)}});var o3=M((IH,s3)=>{p();b();var oA=pe(),G0=V0();function X0(t){G0.call(this,t),this.enc="pem"}oA(X0,G0);s3.exports=X0;X0.prototype.encode=function(e,r){for(var n=G0.prototype.encode.call(this,e),i=n.toString("base64"),s=["-----BEGIN "+r.label+"-----"],o=0;o<i.length;o+=64)s.push(i.slice(o,o+64));return s.push("-----END "+r.label+"-----"),s.join(`
`)}});var u3=M(f3=>{p();b();var a3=f3;a3.der=V0();a3.pem=o3()});var Ms=M(c3=>{p();b();var Cs=c3;Cs.bignum=Fe();Cs.define=Cy().define;Cs.base=Rs();Cs.constants=L0();Cs.decoders=e3();Cs.encoders=u3()});var p3=M((CH,l3)=>{"use strict";p();b();var vr=Ms(),h3=vr.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),aA=vr.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),Y0=vr.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),fA=vr.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Y0),this.key("subjectPublicKey").bitstr())}),uA=vr.define("RelativeDistinguishedName",function(){this.setof(aA)}),cA=vr.define("RDNSequence",function(){this.seqof(uA)}),d3=vr.define("Name",function(){this.choice({rdnSequence:this.use(cA)})}),hA=vr.define("Validity",function(){this.seq().obj(this.key("notBefore").use(h3),this.key("notAfter").use(h3))}),dA=vr.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),lA=vr.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int(),this.key("serialNumber").int(),this.key("signature").use(Y0),this.key("issuer").use(d3),this.key("validity").use(hA),this.key("subject").use(d3),this.key("subjectPublicKeyInfo").use(fA),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(dA).optional())}),pA=vr.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(lA),this.key("signatureAlgorithm").use(Y0),this.key("signatureValue").bitstr())});l3.exports=pA});var v3=M(gr=>{"use strict";p();b();var yr=Ms();gr.certificate=p3();var bA=yr.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});gr.RSAPrivateKey=bA;var vA=yr.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});gr.RSAPublicKey=vA;var yA=yr.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(b3),this.key("subjectPublicKey").bitstr())});gr.PublicKey=yA;var b3=yr.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),gA=yr.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(b3),this.key("subjectPrivateKey").octstr())});gr.PrivateKey=gA;var wA=yr.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});gr.EncryptedPrivateKey=wA;var mA=yr.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});gr.DSAPrivateKey=mA;gr.DSAparam=yr.define("DSAparam",function(){this.int()});var _A=yr.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(xA),this.key("publicKey").optional().explicit(1).bitstr())});gr.ECPrivateKey=_A;var xA=yr.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});gr.signature=yr.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var y3=M((FH,EA)=>{EA.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var w3=M((KH,g3)=>{p();b();var SA=/Proc-Type: 4,ENCRYPTED\n\r?DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\n\r?\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?/m,AA=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n/m,IA=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?-----END \1-----$/m,TA=jo(),kA=Lf();g3.exports=function(t,e){var r=t.toString(),n=r.match(SA),i;if(n){var o="aes"+n[1],a=new g.Buffer(n[2],"hex"),f=new g.Buffer(n[3].replace(/\r?\n/g,""),"base64"),c=TA(e,a.slice(0,8),parseInt(n[1],10)).key,m=[],v=kA.createDecipheriv(o,c,a);m.push(v.update(f)),m.push(v.final()),i=g.Buffer.concat(m)}else{var s=r.match(IA);i=new g.Buffer(s[2].replace(/\r?\n/g,""),"base64")}var x=r.match(AA)[1];return{tag:x,data:i}}});var Jo=M((zH,_3)=>{p();b();var Kt=v3(),BA=y3(),PA=w3(),OA=Lf(),MA=u0();_3.exports=m3;function m3(t){var e;typeof t=="object"&&!g.Buffer.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=new g.Buffer(t));var r=PA(t,e),n=r.tag,i=r.data,s,o;switch(n){case"CERTIFICATE":o=Kt.certificate.decode(i,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(o||(o=Kt.PublicKey.decode(i,"der")),s=o.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return Kt.RSAPublicKey.decode(o.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return o.subjectPrivateKey=o.subjectPublicKey,{type:"ec",data:o};case"1.2.840.10040.4.1":return o.algorithm.params.pub_key=Kt.DSAparam.decode(o.subjectPublicKey.data,"der"),{type:"dsa",data:o.algorithm.params};default:throw new Error("unknown key id "+s)}throw new Error("unknown key type "+n);case"ENCRYPTED PRIVATE KEY":i=Kt.EncryptedPrivateKey.decode(i,"der"),i=qA(i,e);case"PRIVATE KEY":switch(o=Kt.PrivateKey.decode(i,"der"),s=o.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return Kt.RSAPrivateKey.decode(o.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:o.algorithm.curve,privateKey:Kt.ECPrivateKey.decode(o.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return o.algorithm.params.priv_key=Kt.DSAparam.decode(o.subjectPrivateKey,"der"),{type:"dsa",params:o.algorithm.params};default:throw new Error("unknown key id "+s)}throw new Error("unknown key type "+n);case"RSA PUBLIC KEY":return Kt.RSAPublicKey.decode(i,"der");case"RSA PRIVATE KEY":return Kt.RSAPrivateKey.decode(i,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:Kt.DSAPrivateKey.decode(i,"der")};case"EC PRIVATE KEY":return i=Kt.ECPrivateKey.decode(i,"der"),{curve:i.parameters.value,privateKey:i.privateKey};default:throw new Error("unknown key type "+n)}}m3.signature=Kt.signature;function qA(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=BA[t.algorithm.decrypt.cipher.algo.join(".")],s=t.algorithm.decrypt.cipher.iv,o=t.subjectPrivateKey,a=parseInt(i.split("-")[1],10)/8,f=MA.pbkdf2Sync(e,r,n,a),c=OA.createDecipheriv(i,f,s),m=[];return m.push(c.update(o)),m.push(c.final()),g.Buffer.concat(m)}});var $0=M((XH,RA)=>{RA.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var S3=M((YH,tu)=>{p();b();var qi=Fo(),CA=Gf(),NA=Zo().ec,eu=Fe(),UA=Jo(),DA=$0();function LA(t,e,r,n,i){var s=UA(e);if(s.curve){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");return HA(t,s)}else if(s.type==="dsa"){if(n!=="dsa")throw new Error("wrong private key type");return FA(t,s,r)}else if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");t=g.Buffer.concat([i,t]);for(var o=s.modulus.byteLength(),a=[0,1];t.length+a.length+1<o;)a.push(255);a.push(0);for(var f=-1;++f<t.length;)a.push(t[f]);var c=CA(a,s);return c}function HA(t,e){var r=DA[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var n=new NA(r),i=n.keyFromPrivate(e.privateKey),s=i.sign(t);return new g.Buffer(s.toDER())}function FA(t,e,r){for(var n=e.params.priv_key,i=e.params.p,s=e.params.q,o=e.params.g,a=new eu(0),f,c=J0(t,s).mod(s),m=!1,v=x3(n,s,t,r);m===!1;)f=E3(s,v,r),a=WA(o,f,i,s),m=f.invm(s).imul(c.add(n.mul(a))).mod(s),m.cmpn(0)===0&&(m=!1,a=new eu(0));return KA(a,m)}function KA(t,e){t=t.toArray(),e=e.toArray(),t[0]&128&&(t=[0].concat(t)),e[0]&128&&(e=[0].concat(e));var r=t.length+e.length+4,n=[48,r,2,t.length];return n=n.concat(t,[2,e.length],e),new g.Buffer(n)}function x3(t,e,r,n){if(t=new g.Buffer(t.toArray()),t.length<e.byteLength()){var i=new g.Buffer(e.byteLength()-t.length);i.fill(0),t=g.Buffer.concat([i,t])}var s=r.length,o=jA(r,e),a=new g.Buffer(s);a.fill(1);var f=new g.Buffer(s);return f.fill(0),f=qi(n,f).update(a).update(new g.Buffer([0])).update(t).update(o).digest(),a=qi(n,f).update(a).digest(),f=qi(n,f).update(a).update(new g.Buffer([1])).update(t).update(o).digest(),a=qi(n,f).update(a).digest(),{k:f,v:a}}function J0(t,e){var r=new eu(t),n=(t.length<<3)-e.bitLength();return n>0&&r.ishrn(n),r}function jA(t,e){t=J0(t,e),t=t.mod(e);var r=new g.Buffer(t.toArray());if(r.length<e.byteLength()){var n=new g.Buffer(e.byteLength()-r.length);n.fill(0),r=g.Buffer.concat([n,r])}return r}function E3(t,e,r){var n,i;do{for(n=new g.Buffer(0);n.length*8<t.bitLength();)e.v=qi(r,e.k).update(e.v).digest(),n=g.Buffer.concat([n,e.v]);i=J0(n,t),e.k=qi(r,e.k).update(e.v).update(new g.Buffer([0])).digest(),e.v=qi(r,e.k).update(e.v).digest()}while(i.cmp(t)!==-1);return i}function WA(t,e,r,n){return t.toRed(eu.mont(r)).redPow(e).fromRed().mod(n)}tu.exports=LA;tu.exports.getKey=x3;tu.exports.makeKey=E3});var k3=M((ZH,T3)=>{p();b();var Qo=Fe(),zA=Zo().ec,I3=Jo(),VA=$0();function GA(t,e,r,n,i){var s=I3(r);if(s.type==="ec"){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");return XA(t,e,s)}else if(s.type==="dsa"){if(n!=="dsa")throw new Error("wrong public key type");return YA(t,e,s)}else if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");e=g.Buffer.concat([i,e]);for(var o=s.modulus.byteLength(),a=[1],f=0;e.length+a.length+2<o;)a.push(255),f++;a.push(0);for(var c=-1;++c<e.length;)a.push(e[c]);a=new g.Buffer(a);var m=Qo.mont(s.modulus);t=new Qo(t).toRed(m),t=t.redPow(new Qo(s.publicExponent)),t=new g.Buffer(t.fromRed().toArray());var v=f<8?1:0;for(o=Math.min(t.length,a.length),t.length!==a.length&&(v=1),c=-1;++c<o;)v|=t[c]^a[c];return v===0}function XA(t,e,r){var n=VA[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new zA(n),s=r.data.subjectPrivateKey.data;return i.verify(e,t,s)}function YA(t,e,r){var n=r.data.p,i=r.data.q,s=r.data.g,o=r.data.pub_key,a=I3.signature.decode(t,"der"),f=a.s,c=a.r;A3(f,i),A3(c,i);var m=Qo.mont(n),v=f.invm(i),x=s.toRed(m).redPow(new Qo(e).mul(v).mod(i)).fromRed().mul(o.toRed(m).redPow(c.mul(v).mod(i)).fromRed()).mod(n).mod(i);return x.cmp(c)===0}function A3(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}T3.exports=GA});var R3=M((tF,q3)=>{p();b();var O3=rn(),ru=uf(),M3=pe(),$A=S3(),JA=k3(),Ri=t0();Object.keys(Ri).forEach(function(t){Ri[t].id=new g.Buffer(Ri[t].id,"hex"),Ri[t.toLowerCase()]=Ri[t]});function ea(t){ru.Writable.call(this);var e=Ri[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=O3(e.hash),this._tag=e.id,this._signType=e.sign}M3(ea,ru.Writable);ea.prototype._write=function(e,r,n){this._hash.update(e),n()};ea.prototype.update=function(e,r){return typeof e=="string"&&(e=new g.Buffer(e,r)),this._hash.update(e),this};ea.prototype.sign=function(e,r){this.end();var n=this._hash.digest(),i=$A(n,e,this._hashType,this._signType,this._tag);return r?i.toString(r):i};function ta(t){ru.Writable.call(this);var e=Ri[t];if(!e)throw new Error("Unknown message digest");this._hash=O3(e.hash),this._tag=e.id,this._signType=e.sign}M3(ta,ru.Writable);ta.prototype._write=function(e,r,n){this._hash.update(e),n()};ta.prototype.update=function(e,r){return typeof e=="string"&&(e=new g.Buffer(e,r)),this._hash.update(e),this};ta.prototype.verify=function(e,r,n){typeof r=="string"&&(r=new g.Buffer(r,n)),this.end();var i=this._hash.digest();return JA(r,i,e,this._signType,this._tag)};function B3(t){return new ea(t)}function P3(t){return new ta(t)}q3.exports={Sign:B3,Verify:P3,createSign:B3,createVerify:P3}});var N3=M((iF,C3)=>{p();b();var ZA=Zo(),QA=Fe();C3.exports=function(e){return new Ci(e)};var Yt={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};Yt.p224=Yt.secp224r1;Yt.p256=Yt.secp256r1=Yt.prime256v1;Yt.p192=Yt.secp192r1=Yt.prime192v1;Yt.p384=Yt.secp384r1;Yt.p521=Yt.secp521r1;function Ci(t){this.curveType=Yt[t],this.curveType||(this.curveType={name:t}),this.curve=new ZA.ec(this.curveType.name),this.keys=void 0}Ci.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)};Ci.prototype.computeSecret=function(t,e,r){e=e||"utf8",g.Buffer.isBuffer(t)||(t=new g.Buffer(t,e));var n=this.curve.keyFromPublic(t).getPublic(),i=n.mul(this.keys.getPrivate()).getX();return Z0(i,r,this.curveType.byteLength)};Ci.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic(e==="compressed",!0);return e==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),Z0(r,t)};Ci.prototype.getPrivateKey=function(t){return Z0(this.keys.getPrivate(),t)};Ci.prototype.setPublicKey=function(t,e){return e=e||"utf8",g.Buffer.isBuffer(t)||(t=new g.Buffer(t,e)),this.keys._importPublic(t),this};Ci.prototype.setPrivateKey=function(t,e){e=e||"utf8",g.Buffer.isBuffer(t)||(t=new g.Buffer(t,e));var r=new QA(t);return r=r.toString(16),this.keys._importPrivate(r),this};function Z0(t,e,r){Array.isArray(t)||(t=t.toArray());var n=new g.Buffer(t);if(r&&n.length<r){var i=new g.Buffer(r-n.length);i.fill(0),n=g.Buffer.concat([i,n])}return e?n.toString(e):n}});var Q0=M((aF,U3)=>{p();b();var eI=rn();U3.exports=function(t,e){for(var r=new g.Buffer(""),n=0,i;r.length<e;)i=tI(n++),r=g.Buffer.concat([r,eI("sha1").update(t).update(i).digest()]);return r.slice(0,e)};function tI(t){var e=new g.Buffer(4);return e.writeUInt32BE(t,0),e}});var ed=M((cF,D3)=>{p();b();D3.exports=function(e,r){for(var n=e.length,i=-1;++i<n;)e[i]^=r[i];return e}});var td=M((lF,H3)=>{p();b();var L3=Fe();function rI(t,e){return new g.Buffer(t.toRed(L3.mont(e.modulus)).redPow(new L3(e.publicExponent)).fromRed().toArray())}H3.exports=rI});var W3=M((vF,j3)=>{p();b();var nI=Jo(),rd=Un(),iI=rn(),F3=Q0(),K3=ed(),nd=Fe(),sI=td(),oI=Gf();j3.exports=function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var s=nI(e),o;if(i===4)o=aI(s,r);else if(i===1)o=fI(s,r,n);else if(i===3){if(o=new nd(r),o.cmp(s.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?oI(o,s):sI(o,s)};function aI(t,e){var r=t.modulus.byteLength(),n=e.length,i=iI("sha1").update(new g.Buffer("")).digest(),s=i.length,o=2*s;if(n>r-o-2)throw new Error("message too long");var a=new g.Buffer(r-n-o-2);a.fill(0);var f=r-s-1,c=rd(s),m=K3(g.Buffer.concat([i,a,new g.Buffer([1]),e],f),F3(c,f)),v=K3(c,F3(m,s));return new nd(g.Buffer.concat([new g.Buffer([0]),v,m],r))}function fI(t,e,r){var n=e.length,i=t.modulus.byteLength();if(n>i-11)throw new Error("message too long");var s;return r?(s=new g.Buffer(i-n-3),s.fill(255)):s=uI(i-n-3),new nd(g.Buffer.concat([new g.Buffer([0,r?1:2]),s,new g.Buffer([0]),e],i))}function uI(t,e){for(var r=new g.Buffer(t),n=0,i=rd(t*2),s=0,o;n<t;)s===i.length&&(i=rd(t*2),s=0),o=i[s++],o&&(r[n++]=o);return r}});var Y3=M((wF,X3)=>{p();b();var cI=Jo(),z3=Q0(),V3=ed(),G3=Fe(),hI=Gf(),dI=rn(),lI=td();X3.exports=function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var s=cI(e),o=s.modulus.byteLength();if(r.length>o||new G3(r).cmp(s.modulus)>=0)throw new Error("decryption error");var a;n?a=lI(new G3(r),s):a=hI(r,s);var f=new g.Buffer(o-a.length);if(f.fill(0),a=g.Buffer.concat([f,a],o),i===4)return pI(s,a);if(i===1)return bI(s,a,n);if(i===3)return a;throw new Error("unknown padding")};function pI(t,e){var r=t.modulus,n=t.modulus.byteLength(),i=e.length,s=dI("sha1").update(new g.Buffer("")).digest(),o=s.length,a=2*o;if(e[0]!==0)throw new Error("decryption error");var f=e.slice(1,o+1),c=e.slice(o+1),m=V3(f,z3(c,o)),v=V3(c,z3(m,n-o-1));if(vI(s,v.slice(0,o)))throw new Error("decryption error");for(var x=o;v[x]===0;)x++;if(v[x++]!==1)throw new Error("decryption error");return v.slice(x)}function bI(t,e,r){for(var n=e.slice(0,2),i=2,s=0;e[i++]!==0;)if(i>=e.length){s++;break}var o=e.slice(2,i-1),a=e.slice(i-1,i);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&s++,o.length<8&&s++,s)throw new Error("decryption error");return e.slice(i)}function vI(t,e){t=new g.Buffer(t),e=new g.Buffer(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));for(var i=-1;++i<n;)r+=t[i]^e[i];return r}});var $3=M(Ni=>{p();b();Ni.publicEncrypt=W3();Ni.privateDecrypt=Y3();Ni.privateEncrypt=function(e,r){return Ni.publicEncrypt(e,r,!0)};Ni.publicDecrypt=function(e,r){return Ni.privateDecrypt(e,r,!0)}});var o6=M(ra=>{"use strict";p();b();function J3(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var Q3=me(),Z3=Un(),e6=Q3.Buffer,t6=Q3.kMaxLength,id=globalThis.crypto||globalThis.msCrypto,r6=Math.pow(2,32)-1;function n6(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>r6||t<0)throw new TypeError("offset must be a uint32");if(t>t6||t>e)throw new RangeError("offset out of range")}function i6(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>r6||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>t6)throw new RangeError("buffer too small")}id&&id.getRandomValues||!B.browser?(ra.randomFill=yI,ra.randomFillSync=gI):(ra.randomFill=J3,ra.randomFillSync=J3);function yI(t,e,r,n){if(!e6.isBuffer(t)&&!(t instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")n=e,e=0,r=t.length;else if(typeof r=="function")n=r,r=t.length-e;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return n6(e,t.length),i6(r,e,t.length),s6(t,e,r,n)}function s6(t,e,r,n){if(B.browser){var i=t.buffer,s=new Uint8Array(i,e,r);if(id.getRandomValues(s),n){B.nextTick(function(){n(null,t)});return}return t}if(n){Z3(r,function(a,f){if(a)return n(a);f.copy(t,e),n(null,t)});return}var o=Z3(r);return o.copy(t,e),t}function gI(t,e,r){if(typeof e>"u"&&(e=0),!e6.isBuffer(t)&&!(t instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return n6(e,t.length),r===void 0&&(r=t.length-e),i6(r,e,t.length),s6(t,e,r)}});var u6=M(be=>{"use strict";p();b();be.randomBytes=be.rng=be.pseudoRandomBytes=be.prng=Un();be.createHash=be.Hash=rn();be.createHmac=be.Hmac=Fo();var wI=Db(),mI=Object.keys(wI),_I=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(mI);be.getHashes=function(){return _I};var a6=u0();be.pbkdf2=a6.pbkdf2;be.pbkdf2Sync=a6.pbkdf2Sync;var Rr=fy();be.Cipher=Rr.Cipher;be.createCipher=Rr.createCipher;be.Cipheriv=Rr.Cipheriv;be.createCipheriv=Rr.createCipheriv;be.Decipher=Rr.Decipher;be.createDecipher=Rr.createDecipher;be.Decipheriv=Rr.Decipheriv;be.createDecipheriv=Rr.createDecipheriv;be.getCiphers=Rr.getCiphers;be.listCiphers=Rr.listCiphers;var na=my();be.DiffieHellmanGroup=na.DiffieHellmanGroup;be.createDiffieHellmanGroup=na.createDiffieHellmanGroup;be.getDiffieHellman=na.getDiffieHellman;be.createDiffieHellman=na.createDiffieHellman;be.DiffieHellman=na.DiffieHellman;var nu=R3();be.createSign=nu.createSign;be.Sign=nu.Sign;be.createVerify=nu.createVerify;be.Verify=nu.Verify;be.createECDH=N3();var iu=$3();be.publicEncrypt=iu.publicEncrypt;be.privateEncrypt=iu.privateEncrypt;be.publicDecrypt=iu.publicDecrypt;be.privateDecrypt=iu.privateDecrypt;var f6=o6();be.randomFill=f6.randomFill;be.randomFillSync=f6.randomFillSync;be.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};be.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var c6=M((OF,su)=>{p();b();var Ui=u6();if(Ui&&Ui.default){su.exports=Ui.default;for(let t in Ui)su.exports[t]=Ui[t]}else Ui&&(su.exports=Ui)});var Wf=M((RF,ad)=>{p();b();var sd;ad.exports=function(e){return sd||(sd=new Fn(null)),sd.generate(e)};function Fn(t){this.rand=t}ad.exports.Rand=Fn;Fn.prototype.generate=function(e){return this._rand(e)};Fn.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Fn.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Fn.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Fn.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(od=c6(),typeof od.randomBytes!="function")throw new Error("Not supported");Fn.prototype._rand=function(e){return od.randomBytes(e)}}catch{}var od});var sa=M((UF,h6)=>{"use strict";p();b();var Di=Fe(),ia=Gt(),ou=ia.getNAF,xI=ia.getJSF,au=ia.assert;function Kn(t,e){this.type=t,this.p=new Di(e.p,16),this.red=e.prime?Di.red(e.prime):Di.mont(this.p),this.zero=new Di(0).toRed(this.red),this.one=new Di(1).toRed(this.red),this.two=new Di(2).toRed(this.red),this.n=e.n&&new Di(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}h6.exports=Kn;Kn.prototype.point=function(){throw new Error("Not implemented")};Kn.prototype.validate=function(){throw new Error("Not implemented")};Kn.prototype._fixedNafMul=function(e,r){au(e.precomputed);var n=e._getDoubles(),i=ou(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,f;for(a=0;a<i.length;a+=n.step){f=0;for(var c=a+n.step-1;c>=a;c--)f=(f<<1)+i[c];o.push(f)}for(var m=this.jpoint(null,null,null),v=this.jpoint(null,null,null),x=s;x>0;x--){for(a=0;a<o.length;a++)f=o[a],f===x?v=v.mixedAdd(n.points[a]):f===-x&&(v=v.mixedAdd(n.points[a].neg()));m=m.add(v)}return m.toP()};Kn.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=ou(r,n,this._bitLength),a=this.jpoint(null,null,null),f=o.length-1;f>=0;f--){for(var c=0;f>=0&&o[f]===0;f--)c++;if(f>=0&&c++,a=a.dblp(c),f<0)break;var m=o[f];au(m!==0),e.type==="affine"?m>0?a=a.mixedAdd(s[m-1>>1]):a=a.mixedAdd(s[-m-1>>1].neg()):m>0?a=a.add(s[m-1>>1]):a=a.add(s[-m-1>>1].neg())}return e.type==="affine"?a.toP():a};Kn.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,f=this._wnafT3,c=0,m,v,x;for(m=0;m<i;m++){x=r[m];var I=x._getNAFPoints(e);o[m]=I.wnd,a[m]=I.points}for(m=i-1;m>=1;m-=2){var N=m-1,F=m;if(o[N]!==1||o[F]!==1){f[N]=ou(n[N],o[N],this._bitLength),f[F]=ou(n[F],o[F],this._bitLength),c=Math.max(f[N].length,c),c=Math.max(f[F].length,c);continue}var j=[r[N],null,null,r[F]];r[N].y.cmp(r[F].y)===0?(j[1]=r[N].add(r[F]),j[2]=r[N].toJ().mixedAdd(r[F].neg())):r[N].y.cmp(r[F].y.redNeg())===0?(j[1]=r[N].toJ().mixedAdd(r[F]),j[2]=r[N].add(r[F].neg())):(j[1]=r[N].toJ().mixedAdd(r[F]),j[2]=r[N].toJ().mixedAdd(r[F].neg()));var z=[-3,-1,-5,-7,0,7,5,1,3],X=xI(n[N],n[F]);for(c=Math.max(X[0].length,c),f[N]=new Array(c),f[F]=new Array(c),v=0;v<c;v++){var oe=X[0][v]|0,fe=X[1][v]|0;f[N][v]=z[(oe+1)*3+(fe+1)],f[F][v]=0,a[N]=j}}var ye=this.jpoint(null,null,null),de=this._wnafT4;for(m=c;m>=0;m--){for(var ae=0;m>=0;){var Ie=!0;for(v=0;v<i;v++)de[v]=f[v][m]|0,de[v]!==0&&(Ie=!1);if(!Ie)break;ae++,m--}if(m>=0&&ae++,ye=ye.dblp(ae),m<0)break;for(v=0;v<i;v++){var R=de[v];R!==0&&(R>0?x=a[v][R-1>>1]:R<0&&(x=a[v][-R-1>>1].neg()),x.type==="affine"?ye=ye.mixedAdd(x):ye=ye.add(x))}}for(m=0;m<i;m++)a[m]=null;return s?ye:ye.toP()};function ar(t,e){this.curve=t,this.type=e,this.precomputed=null}Kn.BasePoint=ar;ar.prototype.eq=function(){throw new Error("Not implemented")};ar.prototype.validate=function(){return this.curve.validate(this)};Kn.prototype.decodePoint=function(e,r){e=ia.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?au(e[e.length-1]%2===0):e[0]===7&&au(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};ar.prototype.encodeCompressed=function(e){return this.encode(e,!0)};ar.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};ar.prototype.encode=function(e,r){return ia.encode(this._encode(r),e)};ar.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};ar.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};ar.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};ar.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};ar.prototype._getBeta=function(){return null};ar.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r}});var l6=M((HF,d6)=>{"use strict";p();b();var EI=Gt(),Ke=Fe(),fd=pe(),Ns=sa(),SI=EI.assert;function fr(t){Ns.call(this,"short",t),this.a=new Ke(t.a,16).toRed(this.red),this.b=new Ke(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}fd(fr,Ns);d6.exports=fr;fr.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Ke(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Ke(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],SI(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new Ke(a.a,16),b:new Ke(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};fr.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Ke.mont(e),n=new Ke(2).toRed(r).redInvm(),i=n.redNeg(),s=new Ke(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};fr.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new Ke(1),o=new Ke(0),a=new Ke(0),f=new Ke(1),c,m,v,x,I,N,F,j=0,z,X;n.cmpn(0)!==0;){var oe=i.div(n);z=i.sub(oe.mul(n)),X=a.sub(oe.mul(s));var fe=f.sub(oe.mul(o));if(!v&&z.cmp(r)<0)c=F.neg(),m=s,v=z.neg(),x=X;else if(v&&++j===2)break;F=z,i=n,n=z,a=s,s=X,f=o,o=fe}I=z.neg(),N=X;var ye=v.sqr().add(x.sqr()),de=I.sqr().add(N.sqr());return de.cmp(ye)>=0&&(I=c,N=m),v.negative&&(v=v.neg(),x=x.neg()),I.negative&&(I=I.neg(),N=N.neg()),[{a:v,b:x},{a:I,b:N}]};fr.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),f=o.mul(i.a),c=s.mul(n.b),m=o.mul(i.b),v=e.sub(a).sub(f),x=c.add(m).neg();return{k1:v,k2:x}};fr.prototype.pointFromX=function(e,r){e=new Ke(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};fr.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};fr.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),f=e[o],c=f._getBeta();a.k1.negative&&(a.k1.ineg(),f=f.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),i[o*2]=f,i[o*2+1]=c,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var m=this._wnafMulAdd(1,i,s,o*2,n),v=0;v<o*2;v++)i[v]=null,s[v]=null;return m};function vt(t,e,r,n){Ns.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ke(e,16),this.y=new Ke(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}fd(vt,Ns.BasePoint);fr.prototype.point=function(e,r,n){return new vt(this,e,r,n)};fr.prototype.pointFromJSON=function(e,r){return vt.fromJSON(this,e,r)};vt.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};vt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};vt.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};vt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};vt.prototype.isInfinity=function(){return this.inf};vt.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};vt.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};vt.prototype.getX=function(){return this.x.fromRed()};vt.prototype.getY=function(){return this.y.fromRed()};vt.prototype.mul=function(e){return e=new Ke(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};vt.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};vt.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};vt.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};vt.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};vt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function xt(t,e,r,n){Ns.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ke(0)):(this.x=new Ke(e,16),this.y=new Ke(r,16),this.z=new Ke(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}fd(xt,Ns.BasePoint);fr.prototype.jpoint=function(e,r,n){return new xt(this,e,r,n)};xt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};xt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};xt.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),f=i.redSub(s),c=o.redSub(a);if(f.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=f.redSqr(),v=m.redMul(f),x=i.redMul(m),I=c.redSqr().redIAdd(v).redISub(x).redISub(x),N=c.redMul(x.redISub(I)).redISub(o.redMul(v)),F=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(I,N,F)};xt.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),f=s.redSub(o);if(a.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),m=c.redMul(a),v=n.redMul(c),x=f.redSqr().redIAdd(m).redISub(v).redISub(v),I=f.redMul(v.redISub(x)).redISub(s.redMul(m)),N=this.z.redMul(a);return this.curve.jpoint(x,I,N)};xt.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,f=this.z,c=f.redSqr().redSqr(),m=a.redAdd(a);for(r=0;r<e;r++){var v=o.redSqr(),x=m.redSqr(),I=x.redSqr(),N=v.redAdd(v).redIAdd(v).redIAdd(i.redMul(c)),F=o.redMul(x),j=N.redSqr().redISub(F.redAdd(F)),z=F.redISub(j),X=N.redMul(z);X=X.redIAdd(X).redISub(I);var oe=m.redMul(f);r+1<e&&(c=c.redMul(I)),o=j,f=oe,m=X}return this.curve.jpoint(o,m.redMul(s),f)};xt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};xt.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var f=i.redAdd(i).redIAdd(i),c=f.redSqr().redISub(a).redISub(a),m=o.redIAdd(o);m=m.redIAdd(m),m=m.redIAdd(m),e=c,r=f.redMul(a.redISub(c)).redISub(m),n=this.y.redAdd(this.y)}else{var v=this.x.redSqr(),x=this.y.redSqr(),I=x.redSqr(),N=this.x.redAdd(x).redSqr().redISub(v).redISub(I);N=N.redIAdd(N);var F=v.redAdd(v).redIAdd(v),j=F.redSqr(),z=I.redIAdd(I);z=z.redIAdd(z),z=z.redIAdd(z),e=j.redISub(N).redISub(N),r=F.redMul(N.redISub(e)).redISub(z),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};xt.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=f.redSqr().redISub(a).redISub(a);e=c;var m=o.redIAdd(o);m=m.redIAdd(m),m=m.redIAdd(m),r=f.redMul(a.redISub(c)).redISub(m),n=this.y.redAdd(this.y)}else{var v=this.z.redSqr(),x=this.y.redSqr(),I=this.x.redMul(x),N=this.x.redSub(v).redMul(this.x.redAdd(v));N=N.redAdd(N).redIAdd(N);var F=I.redIAdd(I);F=F.redIAdd(F);var j=F.redAdd(F);e=N.redSqr().redISub(j),n=this.y.redAdd(this.z).redSqr().redISub(x).redISub(v);var z=x.redSqr();z=z.redIAdd(z),z=z.redIAdd(z),z=z.redIAdd(z),r=N.redMul(F.redISub(e)).redISub(z)}return this.curve.jpoint(e,r,n)};xt.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),f=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),c=r.redAdd(r);c=c.redIAdd(c);var m=c.redMul(a),v=f.redSqr().redISub(m.redAdd(m)),x=m.redISub(v),I=a.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var N=f.redMul(x).redISub(I),F=n.redAdd(n).redMul(i);return this.curve.jpoint(v,N,F)};xt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var f=a.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var m=s.redIAdd(a).redSqr().redISub(o).redISub(f).redISub(c),v=r.redMul(m);v=v.redIAdd(v),v=v.redIAdd(v);var x=this.x.redMul(f).redISub(v);x=x.redIAdd(x),x=x.redIAdd(x);var I=this.y.redMul(m.redMul(c.redISub(m)).redISub(a.redMul(f)));I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I);var N=this.z.redAdd(a).redSqr().redISub(n).redISub(f);return this.curve.jpoint(x,I,N)};xt.prototype.mul=function(e,r){return e=new Ke(e,r),this.curve._wnafMul(this,e)};xt.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};xt.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};xt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};xt.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var v6=M((jF,b6)=>{"use strict";p();b();var Us=Fe(),p6=pe(),fu=sa(),AI=Gt();function Ds(t){fu.call(this,"mont",t),this.a=new Us(t.a,16).toRed(this.red),this.b=new Us(t.b,16).toRed(this.red),this.i4=new Us(4).toRed(this.red).redInvm(),this.two=new Us(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}p6(Ds,fu);b6.exports=Ds;Ds.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0};function yt(t,e,r){fu.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Us(e,16),this.z=new Us(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}p6(yt,fu.BasePoint);Ds.prototype.decodePoint=function(e,r){return this.point(AI.toArray(e,r),1)};Ds.prototype.point=function(e,r){return new yt(this,e,r)};Ds.prototype.pointFromJSON=function(e){return yt.fromJSON(this,e)};yt.prototype.precompute=function(){};yt.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};yt.fromJSON=function(e,r){return new yt(e,r[0],r[1]||e.one)};yt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};yt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};yt.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),o=r.redMul(i),a=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,a)};yt.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};yt.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),o=e.x.redSub(e.z),a=o.redMul(n),f=s.redMul(i),c=r.z.redMul(a.redAdd(f).redSqr()),m=r.x.redMul(a.redISub(f).redSqr());return this.curve.point(c,m)};yt.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),s=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var a=o.length-1;a>=0;a--)o[a]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i};yt.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};yt.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};yt.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};yt.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};yt.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var w6=M((VF,g6)=>{"use strict";p();b();var II=Gt(),cn=Fe(),y6=pe(),uu=sa(),TI=II.assert;function Cr(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,uu.call(this,"edwards",t),this.a=new cn(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new cn(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new cn(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),TI(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}y6(Cr,uu);g6.exports=Cr;Cr.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Cr.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Cr.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};Cr.prototype.pointFromX=function(e,r){e=new cn(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(s.redInvm()),a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var f=a.fromRed().isOdd();return(r&&!f||!r&&f)&&(a=a.redNeg()),this.point(e,a)};Cr.prototype.pointFromY=function(e,r){e=new cn(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==r&&(a=a.redNeg()),this.point(a,e)};Cr.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0};function qe(t,e,r,n,i){uu.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new cn(e,16),this.y=new cn(r,16),this.z=n?new cn(n,16):this.curve.one,this.t=i&&new cn(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}y6(qe,uu.BasePoint);Cr.prototype.pointFromJSON=function(e){return qe.fromJSON(this,e)};Cr.prototype.point=function(e,r,n,i){return new qe(this,e,r,n,i)};qe.fromJSON=function(e,r){return new qe(e,r[0],r[1],r[2])};qe.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};qe.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};qe.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),o=i.redAdd(r),a=o.redSub(n),f=i.redSub(r),c=s.redMul(a),m=o.redMul(f),v=s.redMul(f),x=a.redMul(o);return this.curve.point(c,m,x,v)};qe.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,o,a,f,c;if(this.curve.twisted){a=this.curve._mulA(r);var m=a.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(m.redSub(this.curve.two)),s=m.redMul(a.redSub(n)),o=m.redSqr().redSub(m).redSub(m)):(f=this.z.redSqr(),c=m.redSub(f).redISub(f),i=e.redSub(r).redISub(n).redMul(c),s=m.redMul(a.redSub(n)),o=m.redMul(c))}else a=r.redAdd(n),f=this.curve._mulC(this.z).redSqr(),c=a.redSub(f).redSub(f),i=this.curve._mulC(e.redISub(a)).redMul(c),s=this.curve._mulC(a).redMul(r.redISub(n)),o=a.redMul(c);return this.curve.point(i,s,o)};qe.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};qe.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(r),a=s.redSub(i),f=s.redAdd(i),c=n.redAdd(r),m=o.redMul(a),v=f.redMul(c),x=o.redMul(c),I=a.redMul(f);return this.curve.point(m,v,I,x)};qe.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(i).redMul(s),a=n.redSub(o),f=n.redAdd(o),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),m=r.redMul(a).redMul(c),v,x;return this.curve.twisted?(v=r.redMul(f).redMul(s.redSub(this.curve._mulA(i))),x=a.redMul(f)):(v=r.redMul(f).redMul(s.redSub(i)),x=this.curve._mulC(a).redMul(f)),this.curve.point(m,v,x)};qe.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};qe.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};qe.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};qe.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};qe.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};qe.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};qe.prototype.getX=function(){return this.normalize(),this.x.fromRed()};qe.prototype.getY=function(){return this.normalize(),this.y.fromRed()};qe.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};qe.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};qe.prototype.toP=qe.prototype.normalize;qe.prototype.mixedAdd=qe.prototype.add});var ud=M(m6=>{"use strict";p();b();var cu=m6;cu.base=sa();cu.short=l6();cu.mont=v6();cu.edwards=w6()});var wr=M(Be=>{"use strict";p();b();var kI=Vt(),BI=pe();Be.inherits=BI;function PI(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function OI(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):PI(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Be.toArray=OI;function MI(t){for(var e="",r=0;r<t.length;r++)e+=x6(t[r].toString(16));return e}Be.toHex=MI;function _6(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Be.htonl=_6;function qI(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=_6(i)),r+=E6(i.toString(16))}return r}Be.toHex32=qI;function x6(t){return t.length===1?"0"+t:t}Be.zero2=x6;function E6(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Be.zero8=E6;function RI(t,e,r,n){var i=r-e;kI(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var f;n==="big"?f=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:f=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=f>>>0}return s}Be.join32=RI;function CI(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}Be.split32=CI;function NI(t,e){return t>>>e|t<<32-e}Be.rotr32=NI;function UI(t,e){return t<<e|t>>>32-e}Be.rotl32=UI;function DI(t,e){return t+e>>>0}Be.sum32=DI;function LI(t,e,r){return t+e+r>>>0}Be.sum32_3=LI;function HI(t,e,r,n){return t+e+r+n>>>0}Be.sum32_4=HI;function FI(t,e,r,n,i){return t+e+r+n+i>>>0}Be.sum32_5=FI;function KI(t,e,r,n){var i=t[e],s=t[e+1],o=n+s>>>0,a=(o<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=o}Be.sum64=KI;function jI(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}Be.sum64_hi=jI;function WI(t,e,r,n){var i=e+n;return i>>>0}Be.sum64_lo=WI;function zI(t,e,r,n,i,s,o,a){var f=0,c=e;c=c+n>>>0,f+=c<e?1:0,c=c+s>>>0,f+=c<s?1:0,c=c+a>>>0,f+=c<a?1:0;var m=t+r+i+o+f;return m>>>0}Be.sum64_4_hi=zI;function VI(t,e,r,n,i,s,o,a){var f=e+n+s+a;return f>>>0}Be.sum64_4_lo=VI;function GI(t,e,r,n,i,s,o,a,f,c){var m=0,v=e;v=v+n>>>0,m+=v<e?1:0,v=v+s>>>0,m+=v<s?1:0,v=v+a>>>0,m+=v<a?1:0,v=v+c>>>0,m+=v<c?1:0;var x=t+r+i+o+f+m;return x>>>0}Be.sum64_5_hi=GI;function XI(t,e,r,n,i,s,o,a,f,c){var m=e+n+s+a+c;return m>>>0}Be.sum64_5_lo=XI;function YI(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Be.rotr64_hi=YI;function $I(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Be.rotr64_lo=$I;function JI(t,e,r){return t>>>r}Be.shr64_hi=JI;function ZI(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Be.shr64_lo=ZI});var Ls=M(A6=>{"use strict";p();b();var S6=wr(),QI=Vt();function hu(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}A6.BlockHash=hu;hu.prototype.update=function(e,r){if(e=S6.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=S6.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};hu.prototype.digest=function(e){return this.update(this._pad()),QI(this.pending===null),this._digest(e)};hu.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i}});var cd=M(hn=>{"use strict";p();b();var eT=wr(),Nr=eT.rotr32;function tT(t,e,r,n){if(t===0)return I6(e,r,n);if(t===1||t===3)return k6(e,r,n);if(t===2)return T6(e,r,n)}hn.ft_1=tT;function I6(t,e,r){return t&e^~t&r}hn.ch32=I6;function T6(t,e,r){return t&e^t&r^e&r}hn.maj32=T6;function k6(t,e,r){return t^e^r}hn.p32=k6;function rT(t){return Nr(t,2)^Nr(t,13)^Nr(t,22)}hn.s0_256=rT;function nT(t){return Nr(t,6)^Nr(t,11)^Nr(t,25)}hn.s1_256=nT;function iT(t){return Nr(t,7)^Nr(t,18)^t>>>3}hn.g0_256=iT;function sT(t){return Nr(t,17)^Nr(t,19)^t>>>10}hn.g1_256=sT});var O6=M((aK,P6)=>{"use strict";p();b();var Hs=wr(),oT=Ls(),aT=cd(),hd=Hs.rotl32,oa=Hs.sum32,fT=Hs.sum32_5,uT=aT.ft_1,B6=oT.BlockHash,cT=[1518500249,1859775393,2400959708,3395469782];function Ur(){if(!(this instanceof Ur))return new Ur;B6.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Hs.inherits(Ur,B6);P6.exports=Ur;Ur.blockSize=512;Ur.outSize=160;Ur.hmacStrength=80;Ur.padLength=64;Ur.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=hd(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],f=this.h[3],c=this.h[4];for(i=0;i<n.length;i++){var m=~~(i/20),v=fT(hd(s,5),uT(m,o,a,f),c,n[i],cT[m]);c=f,f=a,a=hd(o,30),o=s,s=v}this.h[0]=oa(this.h[0],s),this.h[1]=oa(this.h[1],o),this.h[2]=oa(this.h[2],a),this.h[3]=oa(this.h[3],f),this.h[4]=oa(this.h[4],c)};Ur.prototype._digest=function(e){return e==="hex"?Hs.toHex32(this.h,"big"):Hs.split32(this.h,"big")}});var dd=M((cK,q6)=>{"use strict";p();b();var Fs=wr(),hT=Ls(),Ks=cd(),dT=Vt(),mr=Fs.sum32,lT=Fs.sum32_4,pT=Fs.sum32_5,bT=Ks.ch32,vT=Ks.maj32,yT=Ks.s0_256,gT=Ks.s1_256,wT=Ks.g0_256,mT=Ks.g1_256,M6=hT.BlockHash,_T=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Dr(){if(!(this instanceof Dr))return new Dr;M6.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=_T,this.W=new Array(64)}Fs.inherits(Dr,M6);q6.exports=Dr;Dr.blockSize=512;Dr.outSize=256;Dr.hmacStrength=192;Dr.padLength=64;Dr.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=lT(mT(n[i-2]),n[i-7],wT(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],f=this.h[3],c=this.h[4],m=this.h[5],v=this.h[6],x=this.h[7];for(dT(this.k.length===n.length),i=0;i<n.length;i++){var I=pT(x,gT(c),bT(c,m,v),this.k[i],n[i]),N=mr(yT(s),vT(s,o,a));x=v,v=m,m=c,c=mr(f,I),f=a,a=o,o=s,s=mr(I,N)}this.h[0]=mr(this.h[0],s),this.h[1]=mr(this.h[1],o),this.h[2]=mr(this.h[2],a),this.h[3]=mr(this.h[3],f),this.h[4]=mr(this.h[4],c),this.h[5]=mr(this.h[5],m),this.h[6]=mr(this.h[6],v),this.h[7]=mr(this.h[7],x)};Dr.prototype._digest=function(e){return e==="hex"?Fs.toHex32(this.h,"big"):Fs.split32(this.h,"big")}});var N6=M((lK,C6)=>{"use strict";p();b();var ld=wr(),R6=dd();function dn(){if(!(this instanceof dn))return new dn;R6.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}ld.inherits(dn,R6);C6.exports=dn;dn.blockSize=512;dn.outSize=224;dn.hmacStrength=192;dn.padLength=64;dn.prototype._digest=function(e){return e==="hex"?ld.toHex32(this.h.slice(0,7),"big"):ld.split32(this.h.slice(0,7),"big")}});var vd=M((vK,H6)=>{"use strict";p();b();var jt=wr(),xT=Ls(),ET=Vt(),Lr=jt.rotr64_hi,Hr=jt.rotr64_lo,U6=jt.shr64_hi,D6=jt.shr64_lo,jn=jt.sum64,pd=jt.sum64_hi,bd=jt.sum64_lo,ST=jt.sum64_4_hi,AT=jt.sum64_4_lo,IT=jt.sum64_5_hi,TT=jt.sum64_5_lo,L6=xT.BlockHash,kT=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function _r(){if(!(this instanceof _r))return new _r;L6.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=kT,this.W=new Array(160)}jt.inherits(_r,L6);H6.exports=_r;_r.blockSize=1024;_r.outSize=512;_r.hmacStrength=192;_r.padLength=128;_r.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=LT(n[i-4],n[i-3]),o=HT(n[i-4],n[i-3]),a=n[i-14],f=n[i-13],c=UT(n[i-30],n[i-29]),m=DT(n[i-30],n[i-29]),v=n[i-32],x=n[i-31];n[i]=ST(s,o,a,f,c,m,v,x),n[i+1]=AT(s,o,a,f,c,m,v,x)}};_r.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],f=this.h[4],c=this.h[5],m=this.h[6],v=this.h[7],x=this.h[8],I=this.h[9],N=this.h[10],F=this.h[11],j=this.h[12],z=this.h[13],X=this.h[14],oe=this.h[15];ET(this.k.length===n.length);for(var fe=0;fe<n.length;fe+=2){var ye=X,de=oe,ae=CT(x,I),Ie=NT(x,I),R=BT(x,I,N,F,j,z),u=PT(x,I,N,F,j,z),w=this.k[fe],S=this.k[fe+1],A=n[fe],P=n[fe+1],q=IT(ye,de,ae,Ie,R,u,w,S,A,P),D=TT(ye,de,ae,Ie,R,u,w,S,A,P);ye=qT(i,s),de=RT(i,s),ae=OT(i,s,o,a,f,c),Ie=MT(i,s,o,a,f,c);var k=pd(ye,de,ae,Ie),d=bd(ye,de,ae,Ie);X=j,oe=z,j=N,z=F,N=x,F=I,x=pd(m,v,q,D),I=bd(v,v,q,D),m=f,v=c,f=o,c=a,o=i,a=s,i=pd(q,D,k,d),s=bd(q,D,k,d)}jn(this.h,0,i,s),jn(this.h,2,o,a),jn(this.h,4,f,c),jn(this.h,6,m,v),jn(this.h,8,x,I),jn(this.h,10,N,F),jn(this.h,12,j,z),jn(this.h,14,X,oe)};_r.prototype._digest=function(e){return e==="hex"?jt.toHex32(this.h,"big"):jt.split32(this.h,"big")};function BT(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function PT(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function OT(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function MT(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function qT(t,e){var r=Lr(t,e,28),n=Lr(e,t,2),i=Lr(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function RT(t,e){var r=Hr(t,e,28),n=Hr(e,t,2),i=Hr(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function CT(t,e){var r=Lr(t,e,14),n=Lr(t,e,18),i=Lr(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function NT(t,e){var r=Hr(t,e,14),n=Hr(t,e,18),i=Hr(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function UT(t,e){var r=Lr(t,e,1),n=Lr(t,e,8),i=U6(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function DT(t,e){var r=Hr(t,e,1),n=Hr(t,e,8),i=D6(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function LT(t,e){var r=Lr(t,e,19),n=Lr(e,t,29),i=U6(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}function HT(t,e){var r=Hr(t,e,19),n=Hr(e,t,29),i=D6(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}});var j6=M((wK,K6)=>{"use strict";p();b();var yd=wr(),F6=vd();function ln(){if(!(this instanceof ln))return new ln;F6.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}yd.inherits(ln,F6);K6.exports=ln;ln.blockSize=1024;ln.outSize=384;ln.hmacStrength=192;ln.padLength=128;ln.prototype._digest=function(e){return e==="hex"?yd.toHex32(this.h.slice(0,12),"big"):yd.split32(this.h.slice(0,12),"big")}});var W6=M(js=>{"use strict";p();b();js.sha1=O6();js.sha224=N6();js.sha256=dd();js.sha384=j6();js.sha512=vd()});var $6=M(Y6=>{"use strict";p();b();var Li=wr(),FT=Ls(),du=Li.rotl32,z6=Li.sum32,aa=Li.sum32_3,V6=Li.sum32_4,X6=FT.BlockHash;function Fr(){if(!(this instanceof Fr))return new Fr;X6.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Li.inherits(Fr,X6);Y6.ripemd160=Fr;Fr.blockSize=512;Fr.outSize=160;Fr.hmacStrength=192;Fr.padLength=64;Fr.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],f=n,c=i,m=s,v=o,x=a,I=0;I<80;I++){var N=z6(du(V6(n,G6(I,i,s,o),e[WT[I]+r],KT(I)),VT[I]),a);n=a,a=o,o=du(s,10),s=i,i=N,N=z6(du(V6(f,G6(79-I,c,m,v),e[zT[I]+r],jT(I)),GT[I]),x),f=x,x=v,v=du(m,10),m=c,c=N}N=aa(this.h[1],s,v),this.h[1]=aa(this.h[2],o,x),this.h[2]=aa(this.h[3],a,f),this.h[3]=aa(this.h[4],n,c),this.h[4]=aa(this.h[0],i,m),this.h[0]=N};Fr.prototype._digest=function(e){return e==="hex"?Li.toHex32(this.h,"little"):Li.split32(this.h,"little")};function G6(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function KT(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function jT(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var WT=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zT=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],VT=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],GT=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var Z6=M((kK,J6)=>{"use strict";p();b();var XT=wr(),YT=Vt();function Ws(t,e,r){if(!(this instanceof Ws))return new Ws(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(XT.toArray(e,r))}J6.exports=Ws;Ws.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),YT(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Ws.prototype.update=function(e,r){return this.inner.update(e,r),this};Ws.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var lu=M(Q6=>{p();b();var Et=Q6;Et.utils=wr();Et.common=Ls();Et.sha=W6();Et.ripemd=$6();Et.hmac=Z6();Et.sha1=Et.sha.sha1;Et.sha256=Et.sha.sha256;Et.sha224=Et.sha.sha224;Et.sha384=Et.sha.sha384;Et.sha512=Et.sha.sha512;Et.ripemd160=Et.ripemd.ripemd160});var tg=M((RK,eg)=>{p();b();eg.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var pu=M(ig=>{"use strict";p();b();var wd=ig,Wn=lu(),gd=ud(),$T=Gt(),rg=$T.assert;function ng(t){t.type==="short"?this.curve=new gd.short(t):t.type==="edwards"?this.curve=new gd.edwards(t):this.curve=new gd.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,rg(this.g.validate(),"Invalid curve"),rg(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}wd.PresetCurve=ng;function zn(t,e){Object.defineProperty(wd,t,{configurable:!0,enumerable:!0,get:function(){var r=new ng(e);return Object.defineProperty(wd,t,{configurable:!0,enumerable:!0,value:r}),r}})}zn("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Wn.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});zn("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Wn.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});zn("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Wn.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});zn("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Wn.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});zn("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Wn.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});zn("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Wn.sha256,gRed:!1,g:["9"]});zn("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Wn.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var md;try{md=tg()}catch{md=void 0}zn("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Wn.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",md]})});var ag=M((HK,og)=>{"use strict";p();b();var JT=lu(),Hi=Zh(),sg=Vt();function Vn(t){if(!(this instanceof Vn))return new Vn(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Hi.toArray(t.entropy,t.entropyEnc||"hex"),r=Hi.toArray(t.nonce,t.nonceEnc||"hex"),n=Hi.toArray(t.pers,t.persEnc||"hex");sg(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}og.exports=Vn;Vn.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Vn.prototype._hmac=function(){return new JT.hmac(this.hash,this.K)};Vn.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Vn.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Hi.toArray(e,r),n=Hi.toArray(n,i),sg(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Vn.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Hi.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Hi.encode(o,r)}});var ug=M((jK,fg)=>{"use strict";p();b();var ZT=Fe(),QT=Gt(),_d=QT.assert;function Ct(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}fg.exports=Ct;Ct.fromPublic=function(e,r,n){return r instanceof Ct?r:new Ct(e,{pub:r,pubEnc:n})};Ct.fromPrivate=function(e,r,n){return r instanceof Ct?r:new Ct(e,{priv:r,privEnc:n})};Ct.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ct.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Ct.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ct.prototype._importPrivate=function(e,r){this.priv=new ZT(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Ct.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?_d(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&_d(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Ct.prototype.derive=function(e){return e.validate()||_d(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ct.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Ct.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Ct.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var dg=M((VK,hg)=>{"use strict";p();b();var bu=Fe(),Sd=Gt(),ek=Sd.assert;function vu(t,e){if(t instanceof vu)return t;this._importDER(t,e)||(ek(t.r&&t.s,"Signature without r or s"),this.r=new bu(t.r,16),this.s=new bu(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}hg.exports=vu;function tk(){this.place=0}function xd(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function cg(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}vu.prototype._importDER=function(e,r){e=Sd.toArray(e,r);var n=new tk;if(e[n.place++]!==48)return!1;var i=xd(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=xd(e,n);if(s===!1)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=xd(e,n);if(a===!1||e.length!==a+n.place)return!1;var f=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new bu(o),this.s=new bu(f),this.recoveryParam=null,!0};function Ed(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}vu.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=cg(r),n=cg(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Ed(i,r.length),i=i.concat(r),i.push(2),Ed(i,n.length);var s=i.concat(n),o=[48];return Ed(o,s.length),o=o.concat(s),Sd.encode(o,e)}});var vg=M((YK,bg)=>{"use strict";p();b();var Fi=Fe(),lg=ag(),rk=Gt(),Ad=pu(),nk=Wf(),pg=rk.assert,Id=ug(),yu=dg();function ur(t){if(!(this instanceof ur))return new ur(t);typeof t=="string"&&(pg(Object.prototype.hasOwnProperty.call(Ad,t),"Unknown curve "+t),t=Ad[t]),t instanceof Ad.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}bg.exports=ur;ur.prototype.keyPair=function(e){return new Id(this,e)};ur.prototype.keyFromPrivate=function(e,r){return Id.fromPrivate(this,e,r)};ur.prototype.keyFromPublic=function(e,r){return Id.fromPublic(this,e,r)};ur.prototype.genKeyPair=function(e){e||(e={});for(var r=new lg({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||nk(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Fi(2));;){var s=new Fi(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};ur.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};ur.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new Fi(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),a=e.toArray("be",s),f=new lg({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new Fi(1)),m=0;;m++){var v=i.k?i.k(m):new Fi(f.generate(this.n.byteLength()));if(v=this._truncateToN(v,!0),!(v.cmpn(1)<=0||v.cmp(c)>=0)){var x=this.g.mul(v);if(!x.isInfinity()){var I=x.getX(),N=I.umod(this.n);if(N.cmpn(0)!==0){var F=v.invm(this.n).mul(N.mul(r.getPrivate()).iadd(e));if(F=F.umod(this.n),F.cmpn(0)!==0){var j=(x.getY().isOdd()?1:0)|(I.cmp(N)!==0?2:0);return i.canonical&&F.cmp(this.nh)>0&&(F=this.n.sub(F),j^=1),new yu({r:N,s:F,recoveryParam:j})}}}}}};ur.prototype.verify=function(e,r,n,i){e=this._truncateToN(new Fi(e,16)),n=this.keyFromPublic(n,i),r=new yu(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),f=a.mul(e).umod(this.n),c=a.mul(s).umod(this.n),m;return this.curve._maxwellTrick?(m=this.g.jmulAdd(f,n.getPublic(),c),m.isInfinity()?!1:m.eqXToP(s)):(m=this.g.mulAdd(f,n.getPublic(),c),m.isInfinity()?!1:m.getX().umod(this.n).cmp(s)===0)};ur.prototype.recoverPubKey=function(t,e,r,n){pg((3&r)===r,"The recovery param is more than two bits"),e=new yu(e,n);var i=this.n,s=new Fi(t),o=e.r,a=e.s,f=r&1,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),f):o=this.curve.pointFromX(o,f);var m=e.r.invm(i),v=i.sub(s).mul(m).umod(i),x=a.mul(m).umod(i);return this.g.mulAdd(v,o,x)};ur.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new yu(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var mg=M((ZK,wg)=>{"use strict";p();b();var fa=Gt(),gg=fa.assert,yg=fa.parseBytes,zs=fa.cachedProperty;function gt(t,e){this.eddsa=t,this._secret=yg(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=yg(e.pub)}gt.fromPublic=function(e,r){return r instanceof gt?r:new gt(e,{pub:r})};gt.fromSecret=function(e,r){return r instanceof gt?r:new gt(e,{secret:r})};gt.prototype.secret=function(){return this._secret};zs(gt,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});zs(gt,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});zs(gt,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});zs(gt,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});zs(gt,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});zs(gt,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});gt.prototype.sign=function(e){return gg(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};gt.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};gt.prototype.getSecret=function(e){return gg(this._secret,"KeyPair is public only"),fa.encode(this.secret(),e)};gt.prototype.getPublic=function(e){return fa.encode(this.pubBytes(),e)};wg.exports=gt});var xg=M((tj,_g)=>{"use strict";p();b();var ik=Fe(),gu=Gt(),sk=gu.assert,wu=gu.cachedProperty,ok=gu.parseBytes;function Ki(t,e){this.eddsa=t,typeof e!="object"&&(e=ok(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),sk(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof ik&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}wu(Ki,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});wu(Ki,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});wu(Ki,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});wu(Ki,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Ki.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Ki.prototype.toHex=function(){return gu.encode(this.toBytes(),"hex").toUpperCase()};_g.exports=Ki});var Tg=M((ij,Ig)=>{"use strict";p();b();var ak=lu(),fk=pu(),Vs=Gt(),uk=Vs.assert,Sg=Vs.parseBytes,Ag=mg(),Eg=xg();function Wt(t){if(uk(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Wt))return new Wt(t);t=fk[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=ak.sha512}Ig.exports=Wt;Wt.prototype.sign=function(e,r){e=Sg(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),s=this.g.mul(i),o=this.encodePoint(s),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),f=i.add(a).umod(this.curve.n);return this.makeSignature({R:s,S:f,Rencoded:o})};Wt.prototype.verify=function(e,r,n){e=Sg(e),r=this.makeSignature(r);var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),e),o=this.g.mul(r.S()),a=r.R().add(i.pub().mul(s));return a.eq(o)};Wt.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Vs.intFromLE(e.digest()).umod(this.curve.n)};Wt.prototype.keyFromPublic=function(e){return Ag.fromPublic(this,e)};Wt.prototype.keyFromSecret=function(e){return Ag.fromSecret(this,e)};Wt.prototype.makeSignature=function(e){return e instanceof Eg?e:new Eg(this,e)};Wt.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Wt.prototype.decodePoint=function(e){e=Vs.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,s=Vs.intFromLE(n);return this.curve.pointFromY(s,i)};Wt.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Wt.prototype.decodeInt=function(e){return Vs.intFromLE(e)};Wt.prototype.isPoint=function(e){return e instanceof this.pointClass}});var Zo=M(kg=>{"use strict";p();b();var ji=kg;ji.version=Pb().version;ji.utils=Gt();ji.rand=Wf();ji.curve=ud();ji.curves=pu();ji.ec=vg();ji.eddsa=Tg()});var Og=M((cj,Pg)=>{p();b();var Gn=Fo(),ck=g.Buffer.alloc(1,1),Bg=g.Buffer.alloc(1,0);function hk(t,e,r,n,i){let s=g.Buffer.alloc(32,0),o=g.Buffer.alloc(32,1);s=Gn("sha256",s).update(o).update(Bg).update(e).update(t).update(i||"").digest(),o=Gn("sha256",s).update(o).digest(),s=Gn("sha256",s).update(o).update(ck).update(e).update(t).update(i||"").digest(),o=Gn("sha256",s).update(o).digest(),o=Gn("sha256",s).update(o).digest();let a=o;for(;!n(a)||!r(a);)s=Gn("sha256",s).update(o).update(Bg).digest(),o=Gn("sha256",s).update(o).digest(),o=Gn("sha256",s).update(o).digest(),a=o;return a}Pg.exports=hk});var pn=M((lj,Ng)=>{p();b();var dk=Fe(),lk=Zo().ec,Td=new lk("secp256k1"),pk=Og(),mu=g.Buffer.alloc(32,0),_u=g.Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),Mg=g.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex"),xr=Td.curve.n,bk=xr.shrn(1),Eu=Td.curve.g,Su="Expected Private",Wi="Expected Point",Au="Expected Tweak",qg="Expected Hash",vk="Expected Signature",yk="Expected Extra Data (32 bytes)";function ua(t){return g.Buffer.isBuffer(t)&&t.length===32}function Iu(t){return ua(t)?t.compare(_u)<0:!1}function Xn(t){if(!g.Buffer.isBuffer(t)||t.length<33)return!1;let e=t[0],r=t.slice(1,33);if(r.compare(mu)===0||r.compare(Mg)>=0)return!1;if((e===2||e===3)&&t.length===33){try{zi(t)}catch{return!1}return!0}let n=t.slice(33);return n.compare(mu)===0||n.compare(Mg)>=0?!1:e===4&&t.length===65}function Rg(t){return t[0]!==4}function gk(t){return Xn(t)?Rg(t):!1}function Yn(t){return ua(t)?t.compare(mu)>0&&t.compare(_u)<0:!1}function wk(t){let e=t.slice(0,32),r=t.slice(32,64);return g.Buffer.isBuffer(t)&&t.length===64&&e.compare(_u)<0&&r.compare(_u)<0}function Tu(t,e){return t===void 0&&e!==void 0?Rg(e):t===void 0?!0:t}function $t(t){return new dk(t)}function xu(t){return t.toArrayLike(g.Buffer,"be",32)}function zi(t){return Td.curve.decodePoint(t)}function Gs(t,e){return g.Buffer.from(t._encode(e))}function mk(t,e,r){if(!Xn(t))throw new TypeError(Wi);if(!Xn(e))throw new TypeError(Wi);let n=zi(t),i=zi(e),s=n.add(i);if(s.isInfinity())return null;let o=Tu(r,t);return Gs(s,o)}function _k(t,e,r){if(!Xn(t))throw new TypeError(Wi);if(!Iu(e))throw new TypeError(Au);let n=Tu(r,t),i=zi(t);if(e.compare(mu)===0)return Gs(i,n);let s=$t(e),o=Eu.mul(s),a=i.add(o);return a.isInfinity()?null:Gs(a,n)}function xk(t,e){if(!Xn(t))throw new TypeError(Wi);let r=zi(t);if(r.isInfinity())throw new TypeError(Wi);return Gs(r,e)}function Ek(t,e){if(!Yn(t))throw new TypeError(Su);let r=$t(t),n=Eu.mul(r);if(n.isInfinity())return null;let i=Tu(e);return Gs(n,i)}function Sk(t,e,r){if(!Xn(t))throw new TypeError(Wi);if(!Iu(e))throw new TypeError(Au);let n=Tu(r,t),i=zi(t),s=$t(e),o=i.mul(s);return o.isInfinity()?null:Gs(o,n)}function Ak(t,e){if(!Yn(t))throw new TypeError(Su);if(!Iu(e))throw new TypeError(Au);let r=$t(t),n=$t(e),i=xu(r.add(n).umod(xr));return Yn(i)?i:null}function Ik(t,e){if(!Yn(t))throw new TypeError(Su);if(!Iu(e))throw new TypeError(Au);let r=$t(t),n=$t(e),i=xu(r.sub(n).umod(xr));return Yn(i)?i:null}function Tk(t,e){return Cg(t,e)}function kk(t,e,r){return Cg(t,e,r)}function Cg(t,e,r){if(!ua(t))throw new TypeError(qg);if(!Yn(e))throw new TypeError(Su);if(r!==void 0&&!ua(r))throw new TypeError(yk);let n=$t(e),i=$t(t),s,o;pk(t,e,function(c){let m=$t(c),v=Eu.mul(m);return!(v.isInfinity()||(s=v.x.umod(xr),s.isZero()===0)||(o=m.invm(xr).mul(i.add(n.mul(s))).umod(xr),o.isZero()===0))},Yn,r),o.cmp(bk)>0&&(o=xr.sub(o));let f=g.Buffer.allocUnsafe(64);return xu(s).copy(f,0),xu(o).copy(f,32),f}function Bk(t,e,r){if(!ua(t))throw new TypeError(qg);if(!Xn(e))throw new TypeError(Wi);if(!wk(r))throw new TypeError(vk);let n=zi(e),i=$t(r.slice(0,32)),s=$t(r.slice(32,64));if(i.gtn(0)<=0||s.gtn(0)<=0)return!1;let o=$t(t),a=s.invm(xr),f=o.mul(a).umod(xr),c=i.mul(a).umod(xr),m=Eu.mulAdd(f,n,c);return m.isInfinity()?!1:m.x.umod(xr).eq(i)}Ng.exports={isPoint:Xn,isPointCompressed:gk,isPrivate:Yn,pointAdd:mk,pointAddScalar:_k,pointCompress:xk,pointFromScalar:Ek,pointMultiply:Sk,privateAdd:Ak,privateSub:Ik,sign:Tk,signWithEntropy:kk,verify:Bk}});var ku=M((vj,Ug)=>{p();b();var ca={Array:function(t){return t!=null&&t.constructor===Array},Boolean:function(t){return typeof t=="boolean"},Function:function(t){return typeof t=="function"},Nil:function(t){return t==null},Number:function(t){return typeof t=="number"},Object:function(t){return typeof t=="object"},String:function(t){return typeof t=="string"},"":function(){return!0}};ca.Null=ca.Nil;for(kd in ca)ca[kd].toJSON=function(t){return t}.bind(null,kd);var kd;Ug.exports=ca});var Od=M((wj,Hg)=>{p();b();var Vi=ku();function Dg(t){return t.name||t.toString().match(/function (.*?)\s*\(/)[1]}function Bd(t){return Vi.Nil(t)?"":Dg(t.constructor)}function Pk(t){return Vi.Function(t)?"":Vi.String(t)?JSON.stringify(t):t&&Vi.Object(t)?"":t}function Pd(t,e){Error.captureStackTrace&&Error.captureStackTrace(t,e)}function Bu(t){return Vi.Function(t)?t.toJSON?t.toJSON():Dg(t):Vi.Array(t)?"Array":t&&Vi.Object(t)?"Object":t!==void 0?t:""}function Lg(t,e,r){var n=Pk(e);return"Expected "+Bu(t)+", got"+(r!==""?" "+r:"")+(n!==""?" "+n:"")}function bn(t,e,r){r=r||Bd(e),this.message=Lg(t,e,r),Pd(this,bn),this.__type=t,this.__value=e,this.__valueTypeName=r}bn.prototype=Object.create(Error.prototype);bn.prototype.constructor=bn;function Ok(t,e,r,n,i){var s='" of type ';return e==="key"&&(s='" with key type '),Lg('property "'+Bu(r)+s+Bu(t),n,i)}function Xs(t,e,r,n,i){t?(i=i||Bd(n),this.message=Ok(t,r,e,n,i)):this.message='Unexpected property "'+e+'"',Pd(this,bn),this.__label=r,this.__property=e,this.__type=t,this.__value=n,this.__valueTypeName=i}Xs.prototype=Object.create(Error.prototype);Xs.prototype.constructor=bn;function Mk(t,e){return new bn(t,{},e)}function qk(t,e,r){return t instanceof Xs?(e=e+"."+t.__property,t=new Xs(t.__type,e,t.__label,t.__value,t.__valueTypeName)):t instanceof bn&&(t=new Xs(t.__type,e,r,t.__value,t.__valueTypeName)),Pd(t),t}Hg.exports={TfTypeError:bn,TfPropertyTypeError:Xs,tfCustomError:Mk,tfSubError:qk,tfJSON:Bu,getValueTypeName:Bd}});var Wg=M((xj,jg)=>{p();b();var Cd=ku(),Rk=Od();function Fg(t){return g.Buffer.isBuffer(t)}function Kg(t){return typeof t=="string"&&/^([0-9a-f]{2})+$/i.test(t)}function Pu(t,e){var r=t.toJSON();function n(i){if(!t(i))return!1;if(i.length===e)return!0;throw Rk.tfCustomError(r+"(Length: "+e+")",r+"(Length: "+i.length+")")}return n.toJSON=function(){return r},n}var Ck=Pu.bind(null,Cd.Array),Nk=Pu.bind(null,Fg),Uk=Pu.bind(null,Kg),Dk=Pu.bind(null,Cd.String);function Lk(t,e,r){r=r||Cd.Number;function n(i,s){return r(i,s)&&i>t&&i<e}return n.toJSON=function(){return`${r.toJSON()} between [${t}, ${e}]`},n}var qd=Math.pow(2,53)-1;function Hk(t){return typeof t=="number"&&isFinite(t)}function Fk(t){return t<<24>>24===t}function Kk(t){return t<<16>>16===t}function jk(t){return(t|0)===t}function Wk(t){return typeof t=="number"&&t>=-qd&&t<=qd&&Math.floor(t)===t}function zk(t){return(t&255)===t}function Vk(t){return(t&65535)===t}function Gk(t){return t>>>0===t}function Xk(t){return typeof t=="number"&&t>=0&&t<=qd&&Math.floor(t)===t}var Rd={ArrayN:Ck,Buffer:Fg,BufferN:Nk,Finite:Hk,Hex:Kg,HexN:Uk,Int8:Fk,Int16:Kk,Int32:jk,Int53:Wk,Range:Lk,StringN:Dk,UInt8:zk,UInt16:Vk,UInt32:Gk,UInt53:Xk};for(Md in Rd)Rd[Md].toJSON=function(t){return t}.bind(null,Md);var Md;jg.exports=Rd});var ht=M((Aj,Xg)=>{p();b();var da=Od(),St=ku(),vn=da.tfJSON,Vg=da.TfTypeError,Gg=da.TfPropertyTypeError,ha=da.tfSubError,Yk=da.getValueTypeName,yn={arrayOf:function(e,r){e=Kr(e),r=r||{};function n(i,s){return!St.Array(i)||St.Nil(i)||r.minLength!==void 0&&i.length<r.minLength||r.maxLength!==void 0&&i.length>r.maxLength||r.length!==void 0&&i.length!==r.length?!1:i.every(function(o,a){try{return Lt(e,o,s)}catch(f){throw ha(f,a)}})}return n.toJSON=function(){var i="["+vn(e)+"]";return r.length!==void 0?i+="{"+r.length+"}":(r.minLength!==void 0||r.maxLength!==void 0)&&(i+="{"+(r.minLength===void 0?0:r.minLength)+","+(r.maxLength===void 0?1/0:r.maxLength)+"}"),i},n},maybe:function t(e){e=Kr(e);function r(n,i){return St.Nil(n)||e(n,i,t)}return r.toJSON=function(){return"?"+vn(e)},r},map:function(e,r){e=Kr(e),r&&(r=Kr(r));function n(i,s){if(!St.Object(i)||St.Nil(i))return!1;for(var o in i){try{r&&Lt(r,o,s)}catch(f){throw ha(f,o,"key")}try{var a=i[o];Lt(e,a,s)}catch(f){throw ha(f,o)}}return!0}return r?n.toJSON=function(){return"{"+vn(r)+": "+vn(e)+"}"}:n.toJSON=function(){return"{"+vn(e)+"}"},n},object:function(e){var r={};for(var n in e)r[n]=Kr(e[n]);function i(s,o){if(!St.Object(s)||St.Nil(s))return!1;var a;try{for(a in r){var f=r[a],c=s[a];Lt(f,c,o)}}catch(m){throw ha(m,a)}if(o){for(a in s)if(!r[a])throw new Gg(void 0,a)}return!0}return i.toJSON=function(){return vn(r)},i},anyOf:function(){var e=[].slice.call(arguments).map(Kr);function r(n,i){return e.some(function(s){try{return Lt(s,n,i)}catch{return!1}})}return r.toJSON=function(){return e.map(vn).join("|")},r},allOf:function(){var e=[].slice.call(arguments).map(Kr);function r(n,i){return e.every(function(s){try{return Lt(s,n,i)}catch{return!1}})}return r.toJSON=function(){return e.map(vn).join(" & ")},r},quacksLike:function(e){function r(n){return e===Yk(n)}return r.toJSON=function(){return e},r},tuple:function(){var e=[].slice.call(arguments).map(Kr);function r(n,i){return St.Nil(n)||St.Nil(n.length)||i&&n.length!==e.length?!1:e.every(function(s,o){try{return Lt(s,n[o],i)}catch(a){throw ha(a,o)}})}return r.toJSON=function(){return"("+e.map(vn).join(", ")+")"},r},value:function(e){function r(n){return n===e}return r.toJSON=function(){return e},r}};yn.oneOf=yn.anyOf;function Kr(t){if(St.String(t))return t[0]==="?"?yn.maybe(t.slice(1)):St[t]||yn.quacksLike(t);if(t&&St.Object(t)){if(St.Array(t)){if(t.length!==1)throw new TypeError("Expected compile() parameter of type Array of length 1");return yn.arrayOf(t[0])}return yn.object(t)}else if(St.Function(t))return t;return yn.value(t)}function Lt(t,e,r,n){if(St.Function(t)){if(t(e,r))return!0;throw new Vg(n||t,e)}return Lt(Kr(t),e,r)}for(gn in St)Lt[gn]=St[gn];var gn;for(gn in yn)Lt[gn]=yn[gn];var zg=Wg();for(gn in zg)Lt[gn]=zg[gn];Lt.compile=Kr;Lt.TfTypeError=Vg;Lt.TfPropertyTypeError=Gg;Xg.exports=Lt});var Dd=M((kj,$g)=>{p();b();var Nd=Es();function Yg(t,e){if(e!==void 0&&t[0]!==e)throw new Error("Invalid network version");if(t.length===33)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(t.length!==34)throw new Error("Invalid WIF length");if(t[33]!==1)throw new Error("Invalid compression flag");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}function Ud(t,e,r){var n=new g.Buffer(r?34:33);return n.writeUInt8(t,0),e.copy(n,1),r&&(n[33]=1),n}function $k(t,e){return Yg(Nd.decode(t),e)}function Jk(t,e,r){return typeof t=="number"?Nd.encode(Ud(t,e,r)):Nd.encode(Ud(t.version,t.privateKey,t.compressed))}$g.exports={decode:$k,decodeRaw:Yg,encode:Jk,encodeRaw:Ud}});var e4=M(Ys=>{"use strict";p();b();Object.defineProperty(Ys,"__esModule",{value:!0});var Ld=mb(),Zg=Es(),jr=pn(),At=ht(),Zk=Dd(),Hd=At.BufferN(32),Qk=At.compile({wif:At.UInt8,bip32:{public:At.UInt32,private:At.UInt32}}),qu={wif:128,bip32:{public:76067358,private:76066276}},Jg=2147483648,eB=Math.pow(2,31)-1;function tB(t){return At.String(t)&&t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)!==null}function rB(t){return At.UInt32(t)&&t<=eB}var Ou=class{constructor(e,r,n,i,s=0,o=0,a=0){this.__D=e,this.__Q=r,this.chainCode=n,this.network=i,this.__DEPTH=s,this.__INDEX=o,this.__PARENT_FINGERPRINT=a,At(Qk,i),this.lowR=!1}get depth(){return this.__DEPTH}get index(){return this.__INDEX}get parentFingerprint(){return this.__PARENT_FINGERPRINT}get publicKey(){return this.__Q===void 0&&(this.__Q=jr.pointFromScalar(this.__D,!0)),this.__Q}get privateKey(){return this.__D}get identifier(){return Ld.hash160(this.publicKey)}get fingerprint(){return this.identifier.slice(0,4)}isNeutered(){return this.__D===void 0}neutered(){return Mu(this.publicKey,this.chainCode,this.network,this.depth,this.index,this.parentFingerprint)}toBase58(){let e=this.network,r=this.isNeutered()?e.bip32.public:e.bip32.private,n=g.Buffer.allocUnsafe(78);return n.writeUInt32BE(r,0),n.writeUInt8(this.depth,4),n.writeUInt32BE(this.parentFingerprint,5),n.writeUInt32BE(this.index,9),this.chainCode.copy(n,13),this.isNeutered()?this.publicKey.copy(n,45):(n.writeUInt8(0,45),this.privateKey.copy(n,46)),Zg.encode(n)}toWIF(){if(!this.privateKey)throw new TypeError("Missing private key");return Zk.encode(this.network.wif,this.privateKey,!0)}derive(e){At(At.UInt32,e);let r=e>=Jg,n=g.Buffer.allocUnsafe(37);if(r){if(this.isNeutered())throw new TypeError("Missing private key for hardened child key");n[0]=0,this.privateKey.copy(n,1),n.writeUInt32BE(e,33)}else this.publicKey.copy(n,0),n.writeUInt32BE(e,33);let i=Ld.hmacSHA512(this.chainCode,n),s=i.slice(0,32),o=i.slice(32);if(!jr.isPrivate(s))return this.derive(e+1);let a;if(this.isNeutered()){let f=jr.pointAddScalar(this.publicKey,s,!0);if(f===null)return this.derive(e+1);a=Mu(f,o,this.network,this.depth+1,e,this.fingerprint.readUInt32BE(0))}else{let f=jr.privateAdd(this.privateKey,s);if(f==null)return this.derive(e+1);a=Fd(f,o,this.network,this.depth+1,e,this.fingerprint.readUInt32BE(0))}return a}deriveHardened(e){return At(rB,e),this.derive(e+Jg)}derivePath(e){At(tB,e);let r=e.split("/");if(r[0]==="m"){if(this.parentFingerprint)throw new TypeError("Expected master, got child");r=r.slice(1)}return r.reduce((n,i)=>{let s;return i.slice(-1)==="'"?(s=parseInt(i.slice(0,-1),10),n.deriveHardened(s)):(s=parseInt(i,10),n.derive(s))},this)}sign(e,r){if(!this.privateKey)throw new Error("Missing private key");if(r===void 0&&(r=this.lowR),r===!1)return jr.sign(e,this.privateKey);{let n=jr.sign(e,this.privateKey),i=g.Buffer.alloc(32,0),s=0;for(;n[0]>127;)s++,i.writeUIntLE(s,0,6),n=jr.signWithEntropy(e,this.privateKey,i);return n}}verify(e,r){return jr.verify(e,this.publicKey,r)}};function nB(t,e){let r=Zg.decode(t);if(r.length!==78)throw new TypeError("Invalid buffer length");e=e||qu;let n=r.readUInt32BE(0);if(n!==e.bip32.private&&n!==e.bip32.public)throw new TypeError("Invalid network version");let i=r[4],s=r.readUInt32BE(5);if(i===0&&s!==0)throw new TypeError("Invalid parent fingerprint");let o=r.readUInt32BE(9);if(i===0&&o!==0)throw new TypeError("Invalid index");let a=r.slice(13,45),f;if(n===e.bip32.private){if(r.readUInt8(45)!==0)throw new TypeError("Invalid private key");let c=r.slice(46,78);f=Fd(c,a,e,i,o,s)}else{let c=r.slice(45,78);f=Mu(c,a,e,i,o,s)}return f}Ys.fromBase58=nB;function Qg(t,e,r){return Fd(t,e,r)}Ys.fromPrivateKey=Qg;function Fd(t,e,r,n,i,s){if(At({privateKey:Hd,chainCode:Hd},{privateKey:t,chainCode:e}),r=r||qu,!jr.isPrivate(t))throw new TypeError("Private key not in range [1, n)");return new Ou(t,void 0,e,r,n,i,s)}function iB(t,e,r){return Mu(t,e,r)}Ys.fromPublicKey=iB;function Mu(t,e,r,n,i,s){if(At({publicKey:At.BufferN(33),chainCode:Hd},{publicKey:t,chainCode:e}),r=r||qu,!jr.isPoint(t))throw new TypeError("Point is not on the curve");return new Ou(void 0,t,e,r,n,i,s)}function sB(t,e){if(At(At.Buffer,t),t.length<16)throw new TypeError("Seed should be at least 128 bits");if(t.length>64)throw new TypeError("Seed should be at most 512 bits");e=e||qu;let r=Ld.hmacSHA512(g.Buffer.from("Bitcoin seed","utf8"),t),n=r.slice(0,32),i=r.slice(32);return Qg(n,i,e)}Ys.fromSeed=sB});var t4=M($s=>{"use strict";p();b();Object.defineProperty($s,"__esModule",{value:!0});var Ru=e4();$s.fromSeed=Ru.fromSeed;$s.fromBase58=Ru.fromBase58;$s.fromPublicKey=Ru.fromPublicKey;$s.fromPrivateKey=Ru.fromPrivateKey});var Jt=M(la=>{"use strict";p();b();Object.defineProperty(la,"__esModule",{value:!0});la.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};la.regtest={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};la.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}});var r4=M(Cu=>{"use strict";p();b();Object.defineProperty(Cu,"__esModule",{value:!0});function oB(t,e,r){e=e||4,r=r===void 0?!0:r;let n=t.length;if(n===0)return 0;if(n>e)throw new TypeError("Script number overflow");if(r&&(t[n-1]&127)===0&&(n<=1||(t[n-2]&128)===0))throw new Error("Non-minimally encoded script number");if(n===5){let s=t.readUInt32LE(0),o=t.readUInt8(4);return o&128?-((o&-129)*4294967296+s):o*4294967296+s}let i=0;for(let s=0;s<n;++s)i|=t[s]<<8*s;return t[n-1]&128?-(i&~(128<<8*(n-1))):i}Cu.decode=oB;function aB(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}function fB(t){let e=Math.abs(t),r=aB(e),n=g.Buffer.allocUnsafe(r),i=t<0;for(let s=0;s<r;++s)n.writeUInt8(e&255,s),e>>=8;return n[r-1]&128?n.writeUInt8(i?128:0,r-1):i&&(n[r-1]|=128),n}Cu.encode=fB});var Er=M(Ne=>{"use strict";p();b();Object.defineProperty(Ne,"__esModule",{value:!0});var xe=ht(),uB=Math.pow(2,31)-1;function cB(t){return xe.UInt32(t)&&t<=uB}Ne.UInt31=cB;function n4(t){return xe.String(t)&&!!t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}Ne.BIP32Path=n4;n4.toJSON=()=>"BIP32 derivation path";function hB(t){return(xe.Buffer(t.publicKey)||typeof t.getPublicKey=="function")&&typeof t.sign=="function"}Ne.Signer=hB;var dB=21*1e14;function lB(t){return xe.UInt53(t)&&t<=dB}Ne.Satoshi=lB;Ne.ECPoint=xe.quacksLike("Point");Ne.Network=xe.compile({messagePrefix:xe.oneOf(xe.Buffer,xe.String),bip32:{public:xe.UInt32,private:xe.UInt32},pubKeyHash:xe.UInt8,scriptHash:xe.UInt8,wif:xe.UInt8});Ne.Buffer256bit=xe.BufferN(32);Ne.Hash160bit=xe.BufferN(20);Ne.Hash256bit=xe.BufferN(32);Ne.Number=xe.Number;Ne.Array=xe.Array;Ne.Boolean=xe.Boolean;Ne.String=xe.String;Ne.Buffer=xe.Buffer;Ne.Hex=xe.Hex;Ne.maybe=xe.maybe;Ne.tuple=xe.tuple;Ne.UInt8=xe.UInt8;Ne.UInt32=xe.UInt32;Ne.Function=xe.Function;Ne.BufferN=xe.BufferN;Ne.Null=xe.Null;Ne.oneOf=xe.oneOf});var Kd=M((Vj,i4)=>{p();b();var pB=me().Buffer;function bB(t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return!1;var e=t[3];if(e===0||5+e>=t.length||t[4+e]!==2)return!1;var r=t[5+e];return!(r===0||6+e+r!==t.length||t[4]&128||e>1&&t[4]===0&&!(t[5]&128)||t[e+6]&128||r>1&&t[e+6]===0&&!(t[e+7]&128))}function vB(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(t[0]!==48)throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(t[2]!==2)throw new Error("Expected DER integer");var e=t[3];if(e===0)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(t[4+e]!==2)throw new Error("Expected DER integer (2)");var r=t[5+e];if(r===0)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(t[4]&128)throw new Error("R value is negative");if(e>1&&t[4]===0&&!(t[5]&128))throw new Error("R value excessively padded");if(t[e+6]&128)throw new Error("S value is negative");if(r>1&&t[e+6]===0&&!(t[e+7]&128))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}}function yB(t,e){var r=t.length,n=e.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(t[0]&128)throw new Error("R value is negative");if(e[0]&128)throw new Error("S value is negative");if(r>1&&t[0]===0&&!(t[1]&128))throw new Error("R value excessively padded");if(n>1&&e[0]===0&&!(e[1]&128))throw new Error("S value excessively padded");var i=pB.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=t.length,t.copy(i,4),i[4+r]=2,i[5+r]=e.length,e.copy(i,6+r),i}i4.exports={check:bB,decode:vB,encode:yB}});var c4=M(Nu=>{"use strict";p();b();Object.defineProperty(Nu,"__esModule",{value:!0});var s4=Er(),u4=Kd(),gB=ht(),o4=g.Buffer.alloc(1,0);function a4(t){let e=0;for(;t[e]===0;)++e;return e===t.length?o4:(t=t.slice(e),t[0]&128?g.Buffer.concat([o4,t],1+t.length):t)}function f4(t){t[0]===0&&(t=t.slice(1));let e=g.Buffer.alloc(32,0),r=Math.max(0,32-t.length);return t.copy(e,r),e}function wB(t){let e=t.readUInt8(t.length-1),r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=u4.decode(t.slice(0,-1)),i=f4(n.r),s=f4(n.s);return{signature:g.Buffer.concat([i,s],64),hashType:e}}Nu.decode=wB;function mB(t,e){gB({signature:s4.BufferN(64),hashType:s4.UInt8},{signature:t,hashType:e});let r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=g.Buffer.allocUnsafe(1);n.writeUInt8(e,0);let i=a4(t.slice(0,32)),s=a4(t.slice(32,64));return g.Buffer.concat([u4.encode(i,s),n])}Nu.encode=mB});var Uu=M((Zj,_B)=>{_B.exports={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255}});var l4=M((Qj,d4)=>{p();b();var $n=Uu();function h4(t){return t<$n.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}function xB(t,e,r){var n=h4(e);return n===1?t.writeUInt8(e,r):n===2?(t.writeUInt8($n.OP_PUSHDATA1,r),t.writeUInt8(e,r+1)):n===3?(t.writeUInt8($n.OP_PUSHDATA2,r),t.writeUInt16LE(e,r+1)):(t.writeUInt8($n.OP_PUSHDATA4,r),t.writeUInt32LE(e,r+1)),n}function EB(t,e){var r=t.readUInt8(e),n,i;if(r<$n.OP_PUSHDATA1)n=r,i=1;else if(r===$n.OP_PUSHDATA1){if(e+2>t.length)return null;n=t.readUInt8(e+1),i=2}else if(r===$n.OP_PUSHDATA2){if(e+3>t.length)return null;n=t.readUInt16LE(e+1),i=3}else{if(e+5>t.length)return null;if(r!==$n.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=t.readUInt32LE(e+1),i=5}return{opcode:r,number:n,size:i}}d4.exports={encodingLength:h4,encode:xB,decode:EB}});var g4=M((rW,y4)=>{p();b();var p4=Uu(),v4={};for(jd in p4)b4=p4[jd],v4[b4]=jd;var b4,jd;y4.exports=v4});var ve=M(Re=>{"use strict";p();b();Object.defineProperty(Re,"__esModule",{value:!0});var w4=r4(),SB=c4(),Jn=Er(),AB=Kd(),IB=pn(),Wd=l4(),pa=ht();Re.OPS=Uu();var TB=g4(),m4=Re.OPS.OP_RESERVED;function kB(t){return Jn.Number(t)&&(t===Re.OPS.OP_0||t>=Re.OPS.OP_1&&t<=Re.OPS.OP_16||t===Re.OPS.OP_1NEGATE)}function BB(t){return Jn.Buffer(t)||kB(t)}function _4(t){return Jn.Array(t)&&t.every(BB)}Re.isPushOnly=_4;function Du(t){if(t.length===0)return Re.OPS.OP_0;if(t.length===1){if(t[0]>=1&&t[0]<=16)return m4+t[0];if(t[0]===129)return Re.OPS.OP_1NEGATE}}function x4(t){return g.Buffer.isBuffer(t)}function PB(t){return Jn.Array(t)}function Lu(t){return g.Buffer.isBuffer(t)}function E4(t){if(x4(t))return t;pa(Jn.Array,t);let e=t.reduce((i,s)=>Lu(s)?s.length===1&&Du(s)!==void 0?i+1:i+Wd.encodingLength(s.length)+s.length:i+1,0),r=g.Buffer.allocUnsafe(e),n=0;if(t.forEach(i=>{if(Lu(i)){let s=Du(i);if(s!==void 0){r.writeUInt8(s,n),n+=1;return}n+=Wd.encode(r,i.length,n),i.copy(r,n),n+=i.length}else r.writeUInt8(i,n),n+=1}),n!==r.length)throw new Error("Could not decode chunks");return r}Re.compile=E4;function zd(t){if(PB(t))return t;pa(Jn.Buffer,t);let e=[],r=0;for(;r<t.length;){let n=t[r];if(n>Re.OPS.OP_0&&n<=Re.OPS.OP_PUSHDATA4){let i=Wd.decode(t,r);if(i===null||(r+=i.size,r+i.number>t.length))return null;let s=t.slice(r,r+i.number);r+=i.number;let o=Du(s);o!==void 0?e.push(o):e.push(s)}else e.push(n),r+=1}return e}Re.decompile=zd;function OB(t){return x4(t)&&(t=zd(t)),t.map(e=>{if(Lu(e)){let r=Du(e);if(r===void 0)return e.toString("hex");e=r}return TB[e]}).join(" ")}Re.toASM=OB;function MB(t){return pa(Jn.String,t),E4(t.split(" ").map(e=>Re.OPS[e]!==void 0?Re.OPS[e]:(pa(Jn.Hex,e),g.Buffer.from(e,"hex"))))}Re.fromASM=MB;function qB(t){return t=zd(t),pa(_4,t),t.map(e=>Lu(e)?e:e===Re.OPS.OP_0?g.Buffer.allocUnsafe(0):w4.encode(e-m4))}Re.toStack=qB;function RB(t){return IB.isPoint(t)}Re.isCanonicalPubKey=RB;function S4(t){let e=t&-129;return e>0&&e<4}Re.isDefinedHashType=S4;function CB(t){return!g.Buffer.isBuffer(t)||!S4(t[t.length-1])?!1:AB.check(t.slice(0,-1))}Re.isCanonicalScriptSignature=CB;Re.number=w4;Re.signature=SB});var Zn=M(Hu=>{"use strict";p();b();Object.defineProperty(Hu,"__esModule",{value:!0});function NB(t,e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let n=r.call(this);return this[e]=n,n},set(n){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:n,writable:!0})}})}Hu.prop=NB;function UB(t){let e;return()=>(e!==void 0||(e=t()),e)}Hu.value=UB});var T4=M(Vd=>{"use strict";p();b();Object.defineProperty(Vd,"__esModule",{value:!0});var DB=Jt(),Fu=ve(),A4=Zn(),wn=ht(),I4=Fu.OPS;function LB(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function HB(t,e){if(!t.data&&!t.output)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),wn({network:wn.maybe(wn.Object),output:wn.maybe(wn.Buffer),data:wn.maybe(wn.arrayOf(wn.Buffer))},t);let r=t.network||DB.bitcoin,n={name:"embed",network:r};if(A4.prop(n,"output",()=>{if(!!t.data)return Fu.compile([I4.OP_RETURN].concat(t.data))}),A4.prop(n,"data",()=>{if(!!t.output)return Fu.decompile(t.output).slice(1)}),e.validate&&t.output){let i=Fu.decompile(t.output);if(i[0]!==I4.OP_RETURN)throw new TypeError("Output is invalid");if(!i.slice(1).every(wn.Buffer))throw new TypeError("Output is invalid");if(t.data&&!LB(t.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,t)}Vd.p2data=HB});var P4=M(Gd=>{"use strict";p();b();Object.defineProperty(Gd,"__esModule",{value:!0});var FB=Jt(),Js=ve(),Qn=Zn(),Zs=Js.OPS,It=ht(),k4=pn(),Ku=Zs.OP_RESERVED;function B4(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function KB(t,e){if(!t.input&&!t.output&&!(t.pubkeys&&t.m!==void 0)&&!t.signatures)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{});function r(f){return Js.isCanonicalScriptSignature(f)||(e.allowIncomplete&&f===Zs.OP_0)!==void 0}It({network:It.maybe(It.Object),m:It.maybe(It.Number),n:It.maybe(It.Number),output:It.maybe(It.Buffer),pubkeys:It.maybe(It.arrayOf(k4.isPoint)),signatures:It.maybe(It.arrayOf(r)),input:It.maybe(It.Buffer)},t);let i={network:t.network||FB.bitcoin},s=[],o=!1;function a(f){o||(o=!0,s=Js.decompile(f),i.m=s[0]-Ku,i.n=s[s.length-2]-Ku,i.pubkeys=s.slice(1,-2))}if(Qn.prop(i,"output",()=>{if(!!t.m&&!!i.n&&!!t.pubkeys)return Js.compile([].concat(Ku+t.m,t.pubkeys,Ku+i.n,Zs.OP_CHECKMULTISIG))}),Qn.prop(i,"m",()=>{if(!!i.output)return a(i.output),i.m}),Qn.prop(i,"n",()=>{if(!!i.pubkeys)return i.pubkeys.length}),Qn.prop(i,"pubkeys",()=>{if(!!t.output)return a(t.output),i.pubkeys}),Qn.prop(i,"signatures",()=>{if(!!t.input)return Js.decompile(t.input).slice(1)}),Qn.prop(i,"input",()=>{if(!!t.signatures)return Js.compile([Zs.OP_0].concat(t.signatures))}),Qn.prop(i,"witness",()=>{if(!!i.input)return[]}),Qn.prop(i,"name",()=>{if(!(!i.m||!i.n))return`p2ms(${i.m} of ${i.n})`}),e.validate){if(t.output){if(a(t.output),!It.Number(s[0]))throw new TypeError("Output is invalid");if(!It.Number(s[s.length-2]))throw new TypeError("Output is invalid");if(s[s.length-1]!==Zs.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(i.m<=0||i.n>16||i.m>i.n||i.n!==s.length-3)throw new TypeError("Output is invalid");if(!i.pubkeys.every(f=>k4.isPoint(f)))throw new TypeError("Output is invalid");if(t.m!==void 0&&t.m!==i.m)throw new TypeError("m mismatch");if(t.n!==void 0&&t.n!==i.n)throw new TypeError("n mismatch");if(t.pubkeys&&!B4(t.pubkeys,i.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(t.n!==void 0&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(i.n=t.pubkeys.length,i.n<i.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<i.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>i.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==Zs.OP_0)throw new TypeError("Input is invalid");if(i.signatures.length===0||!i.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!B4(t.signatures,i.signatures))throw new TypeError("Signature mismatch");if(t.m!==void 0&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(i,t)}Gd.p2ms=KB});var q4=M(Xd=>{"use strict";p();b();Object.defineProperty(Xd,"__esModule",{value:!0});var jB=Jt(),eo=ve(),Qs=Zn(),mn=ht(),O4=eo.OPS,M4=pn();function WB(t,e){if(!t.input&&!t.output&&!t.pubkey&&!t.input&&!t.signature)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),mn({network:mn.maybe(mn.Object),output:mn.maybe(mn.Buffer),pubkey:mn.maybe(M4.isPoint),signature:mn.maybe(eo.isCanonicalScriptSignature),input:mn.maybe(mn.Buffer)},t);let r=Qs.value(()=>eo.decompile(t.input)),n=t.network||jB.bitcoin,i={name:"p2pk",network:n};if(Qs.prop(i,"output",()=>{if(!!t.pubkey)return eo.compile([t.pubkey,O4.OP_CHECKSIG])}),Qs.prop(i,"pubkey",()=>{if(!!t.output)return t.output.slice(1,-1)}),Qs.prop(i,"signature",()=>{if(!!t.input)return r()[0]}),Qs.prop(i,"input",()=>{if(!!t.signature)return eo.compile([t.signature])}),Qs.prop(i,"witness",()=>{if(!!i.input)return[]}),e.validate){if(t.output){if(t.output[t.output.length-1]!==O4.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!M4.isPoint(i.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(i.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(i.input))throw new TypeError("Signature mismatch");if(t.input){if(r().length!==1)throw new TypeError("Input is invalid");if(!eo.isCanonicalScriptSignature(i.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(i,t)}Xd.p2pk=WB});var Wr=M(Gi=>{"use strict";p();b();Object.defineProperty(Gi,"__esModule",{value:!0});var ju=rn();function R4(t){try{return ju("rmd160").update(t).digest()}catch{return ju("ripemd160").update(t).digest()}}Gi.ripemd160=R4;function zB(t){return ju("sha1").update(t).digest()}Gi.sha1=zB;function Wu(t){return ju("sha256").update(t).digest()}Gi.sha256=Wu;function VB(t){return R4(Wu(t))}Gi.hash160=VB;function GB(t){return Wu(Wu(t))}Gi.hash256=GB});var U4=M($d=>{"use strict";p();b();Object.defineProperty($d,"__esModule",{value:!0});var Yd=Wr(),XB=Jt(),to=ve(),_n=Zn(),Zt=ht(),ei=to.OPS,C4=pn(),N4=Es();function YB(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),Zt({network:Zt.maybe(Zt.Object),address:Zt.maybe(Zt.String),hash:Zt.maybe(Zt.BufferN(20)),output:Zt.maybe(Zt.BufferN(25)),pubkey:Zt.maybe(C4.isPoint),signature:Zt.maybe(to.isCanonicalScriptSignature),input:Zt.maybe(Zt.Buffer)},t);let r=_n.value(()=>{let o=N4.decode(t.address),a=o.readUInt8(0),f=o.slice(1);return{version:a,hash:f}}),n=_n.value(()=>to.decompile(t.input)),i=t.network||XB.bitcoin,s={name:"p2pkh",network:i};if(_n.prop(s,"address",()=>{if(!s.hash)return;let o=g.Buffer.allocUnsafe(21);return o.writeUInt8(i.pubKeyHash,0),s.hash.copy(o,1),N4.encode(o)}),_n.prop(s,"hash",()=>{if(t.output)return t.output.slice(3,23);if(t.address)return r().hash;if(t.pubkey||s.pubkey)return Yd.hash160(t.pubkey||s.pubkey)}),_n.prop(s,"output",()=>{if(!!s.hash)return to.compile([ei.OP_DUP,ei.OP_HASH160,s.hash,ei.OP_EQUALVERIFY,ei.OP_CHECKSIG])}),_n.prop(s,"pubkey",()=>{if(!!t.input)return n()[1]}),_n.prop(s,"signature",()=>{if(!!t.input)return n()[0]}),_n.prop(s,"input",()=>{if(!!t.pubkey&&!!t.signature)return to.compile([t.signature,t.pubkey])}),_n.prop(s,"witness",()=>{if(!!s.input)return[]}),e.validate){let o=g.Buffer.from([]);if(t.address){if(r().version!==i.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(r().hash.length!==20)throw new TypeError("Invalid address");o=r().hash}if(t.hash){if(o.length>0&&!o.equals(t.hash))throw new TypeError("Hash mismatch");o=t.hash}if(t.output){if(t.output.length!==25||t.output[0]!==ei.OP_DUP||t.output[1]!==ei.OP_HASH160||t.output[2]!==20||t.output[23]!==ei.OP_EQUALVERIFY||t.output[24]!==ei.OP_CHECKSIG)throw new TypeError("Output is invalid");let a=t.output.slice(3,23);if(o.length>0&&!o.equals(a))throw new TypeError("Hash mismatch");o=a}if(t.pubkey){let a=Yd.hash160(t.pubkey);if(o.length>0&&!o.equals(a))throw new TypeError("Hash mismatch");o=a}if(t.input){let a=n();if(a.length!==2)throw new TypeError("Input is invalid");if(!to.isCanonicalScriptSignature(a[0]))throw new TypeError("Input has invalid signature");if(!C4.isPoint(a[1]))throw new TypeError("Input has invalid pubkey");if(t.signature&&!t.signature.equals(a[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(a[1]))throw new TypeError("Pubkey mismatch");let f=Yd.hash160(a[1]);if(o.length>0&&!o.equals(f))throw new TypeError("Hash mismatch")}}return Object.assign(s,t)}$d.p2pkh=YB});var H4=M(Jd=>{"use strict";p();b();Object.defineProperty(Jd,"__esModule",{value:!0});var D4=Wr(),$B=Jt(),xn=ve(),zr=Zn(),Le=ht(),zu=xn.OPS,L4=Es();function JB(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function ZB(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),Le({network:Le.maybe(Le.Object),address:Le.maybe(Le.String),hash:Le.maybe(Le.BufferN(20)),output:Le.maybe(Le.BufferN(23)),redeem:Le.maybe({network:Le.maybe(Le.Object),output:Le.maybe(Le.Buffer),input:Le.maybe(Le.Buffer),witness:Le.maybe(Le.arrayOf(Le.Buffer))}),input:Le.maybe(Le.Buffer),witness:Le.maybe(Le.arrayOf(Le.Buffer))},t);let r=t.network;r||(r=t.redeem&&t.redeem.network||$B.bitcoin);let n={network:r},i=zr.value(()=>{let a=L4.decode(t.address),f=a.readUInt8(0),c=a.slice(1);return{version:f,hash:c}}),s=zr.value(()=>xn.decompile(t.input)),o=zr.value(()=>{let a=s();return{network:r,output:a[a.length-1],input:xn.compile(a.slice(0,-1)),witness:t.witness||[]}});if(zr.prop(n,"address",()=>{if(!n.hash)return;let a=g.Buffer.allocUnsafe(21);return a.writeUInt8(n.network.scriptHash,0),n.hash.copy(a,1),L4.encode(a)}),zr.prop(n,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return i().hash;if(n.redeem&&n.redeem.output)return D4.hash160(n.redeem.output)}),zr.prop(n,"output",()=>{if(!!n.hash)return xn.compile([zu.OP_HASH160,n.hash,zu.OP_EQUAL])}),zr.prop(n,"redeem",()=>{if(!!t.input)return o()}),zr.prop(n,"input",()=>{if(!(!t.redeem||!t.redeem.input||!t.redeem.output))return xn.compile([].concat(xn.decompile(t.redeem.input),t.redeem.output))}),zr.prop(n,"witness",()=>{if(n.redeem&&n.redeem.witness)return n.redeem.witness;if(n.input)return[]}),zr.prop(n,"name",()=>{let a=["p2sh"];return n.redeem!==void 0&&a.push(n.redeem.name),a.join("-")}),e.validate){let a=g.Buffer.from([]);if(t.address){if(i().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(i().hash.length!==20)throw new TypeError("Invalid address");a=i().hash}if(t.hash){if(a.length>0&&!a.equals(t.hash))throw new TypeError("Hash mismatch");a=t.hash}if(t.output){if(t.output.length!==23||t.output[0]!==zu.OP_HASH160||t.output[1]!==20||t.output[22]!==zu.OP_EQUAL)throw new TypeError("Output is invalid");let c=t.output.slice(2,22);if(a.length>0&&!a.equals(c))throw new TypeError("Hash mismatch");a=c}let f=c=>{if(c.output){let m=xn.decompile(c.output);if(!m||m.length<1)throw new TypeError("Redeem.output too short");let v=D4.hash160(c.output);if(a.length>0&&!a.equals(v))throw new TypeError("Hash mismatch");a=v}if(c.input){let m=c.input.length>0,v=c.witness&&c.witness.length>0;if(!m&&!v)throw new TypeError("Empty input");if(m&&v)throw new TypeError("Input and witness provided");if(m){let x=xn.decompile(c.input);if(!xn.isPushOnly(x))throw new TypeError("Non push-only scriptSig")}}};if(t.input){let c=s();if(!c||c.length<1)throw new TypeError("Input too short");if(!g.Buffer.isBuffer(o().output))throw new TypeError("Input is invalid");f(o())}if(t.redeem){if(t.redeem.network&&t.redeem.network!==r)throw new TypeError("Network mismatch");if(t.input){let c=o();if(t.redeem.output&&!t.redeem.output.equals(c.output))throw new TypeError("Redeem.output mismatch");if(t.redeem.input&&!t.redeem.input.equals(c.input))throw new TypeError("Redeem.input mismatch")}f(t.redeem)}if(t.witness&&t.redeem&&t.redeem.witness&&!JB(t.redeem.witness,t.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,t)}Jd.p2sh=ZB});var Xu=M((BW,j4)=>{"use strict";p();b();var Gu="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Zd={};for(ba=0;ba<Gu.length;ba++){if(Vu=Gu.charAt(ba),Zd[Vu]!==void 0)throw new TypeError(Vu+" is ambiguous");Zd[Vu]=ba}var Vu,ba;function ro(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function F4(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)throw new Error("Invalid prefix ("+t+")");e=ro(e)^n>>5}for(e=ro(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=ro(e)^i&31}return e}function QB(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();for(var n=F4(t),i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5!==0)throw new Error("Non 5-bit word");n=ro(n)^o,i+=Gu.charAt(o)}for(s=0;s<6;++s)n=ro(n);for(n^=1,s=0;s<6;++s){var a=n>>(5-s)*5&31;i+=Gu.charAt(a)}return i}function eP(t,e){if(e=e||90,t.length<8)throw new TypeError(t+" too short");if(t.length>e)throw new TypeError("Exceeds length limit");var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)throw new Error("Mixed-case string "+t);t=r;var i=t.lastIndexOf("1");if(i===-1)throw new Error("No separator character for "+t);if(i===0)throw new Error("Missing prefix for "+t);var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)throw new Error("Data too short");for(var a=F4(s),f=[],c=0;c<o.length;++c){var m=o.charAt(c),v=Zd[m];if(v===void 0)throw new Error("Unknown character "+m);a=ro(a)^v,!(c+6>=o.length)&&f.push(v)}if(a!==1)throw new Error("Invalid checksum for "+t);return{prefix:s,words:f}}function K4(t,e,r,n){for(var i=0,s=0,o=(1<<r)-1,a=[],f=0;f<t.length;++f)for(i=i<<e|t[f],s+=e;s>=r;)s-=r,a.push(i>>s&o);if(n)s>0&&a.push(i<<r-s&o);else{if(s>=e)throw new Error("Excess padding");if(i<<r-s&o)throw new Error("Non-zero padding")}return a}function tP(t){return K4(t,8,5,!0)}function rP(t){return K4(t,5,8,!1)}j4.exports={decode:eP,encode:QB,toWords:tP,fromWords:rP}});var z4=M(tl=>{"use strict";p();b();Object.defineProperty(tl,"__esModule",{value:!0});var Qd=Wr(),nP=Jt(),$u=ve(),ti=Zn(),Nt=ht(),W4=$u.OPS,el=pn(),Yu=Xu(),iP=g.Buffer.alloc(0);function sP(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),Nt({address:Nt.maybe(Nt.String),hash:Nt.maybe(Nt.BufferN(20)),input:Nt.maybe(Nt.BufferN(0)),network:Nt.maybe(Nt.Object),output:Nt.maybe(Nt.BufferN(22)),pubkey:Nt.maybe(el.isPoint),signature:Nt.maybe($u.isCanonicalScriptSignature),witness:Nt.maybe(Nt.arrayOf(Nt.Buffer))},t);let r=ti.value(()=>{let s=Yu.decode(t.address),o=s.words.shift(),a=Yu.fromWords(s.words);return{version:o,prefix:s.prefix,data:g.Buffer.from(a)}}),n=t.network||nP.bitcoin,i={name:"p2wpkh",network:n};if(ti.prop(i,"address",()=>{if(!i.hash)return;let s=Yu.toWords(i.hash);return s.unshift(0),Yu.encode(n.bech32,s)}),ti.prop(i,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return r().data;if(t.pubkey||i.pubkey)return Qd.hash160(t.pubkey||i.pubkey)}),ti.prop(i,"output",()=>{if(!!i.hash)return $u.compile([W4.OP_0,i.hash])}),ti.prop(i,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(!!t.witness)return t.witness[1]}),ti.prop(i,"signature",()=>{if(!!t.witness)return t.witness[0]}),ti.prop(i,"input",()=>{if(!!i.witness)return iP}),ti.prop(i,"witness",()=>{if(!!t.pubkey&&!!t.signature)return[t.signature,t.pubkey]}),e.validate){let s=g.Buffer.from([]);if(t.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==20)throw new TypeError("Invalid address data");s=r().data}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==22||t.output[0]!==W4.OP_0||t.output[1]!==20)throw new TypeError("Output is invalid");if(s.length>0&&!s.equals(t.output.slice(2)))throw new TypeError("Hash mismatch");s=t.output.slice(2)}if(t.pubkey){let o=Qd.hash160(t.pubkey);if(s.length>0&&!s.equals(o))throw new TypeError("Hash mismatch");if(s=o,!el.isPoint(t.pubkey)||t.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(t.witness){if(t.witness.length!==2)throw new TypeError("Witness is invalid");if(!$u.isCanonicalScriptSignature(t.witness[0]))throw new TypeError("Witness has invalid signature");if(!el.isPoint(t.witness[1])||t.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(t.signature&&!t.signature.equals(t.witness[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(t.witness[1]))throw new TypeError("Pubkey mismatch");let o=Qd.hash160(t.witness[1]);if(s.length>0&&!s.equals(o))throw new TypeError("Hash mismatch")}}return Object.assign(i,t)}tl.p2wpkh=sP});var X4=M(nl=>{"use strict";p();b();Object.defineProperty(nl,"__esModule",{value:!0});var V4=Wr(),oP=Jt(),ri=ve(),En=Zn(),He=ht(),G4=ri.OPS,aP=pn(),Ju=Xu(),rl=g.Buffer.alloc(0);function fP(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function Zu(t){return!!(g.Buffer.isBuffer(t)&&t.length===65&&t[0]===4&&aP.isPoint(t))}function uP(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),He({network:He.maybe(He.Object),address:He.maybe(He.String),hash:He.maybe(He.BufferN(32)),output:He.maybe(He.BufferN(34)),redeem:He.maybe({input:He.maybe(He.Buffer),network:He.maybe(He.Object),output:He.maybe(He.Buffer),witness:He.maybe(He.arrayOf(He.Buffer))}),input:He.maybe(He.BufferN(0)),witness:He.maybe(He.arrayOf(He.Buffer))},t);let r=En.value(()=>{let o=Ju.decode(t.address),a=o.words.shift(),f=Ju.fromWords(o.words);return{version:a,prefix:o.prefix,data:g.Buffer.from(f)}}),n=En.value(()=>ri.decompile(t.redeem.input)),i=t.network;i||(i=t.redeem&&t.redeem.network||oP.bitcoin);let s={network:i};if(En.prop(s,"address",()=>{if(!s.hash)return;let o=Ju.toWords(s.hash);return o.unshift(0),Ju.encode(i.bech32,o)}),En.prop(s,"hash",()=>{if(t.output)return t.output.slice(2);if(t.address)return r().data;if(s.redeem&&s.redeem.output)return V4.sha256(s.redeem.output)}),En.prop(s,"output",()=>{if(!!s.hash)return ri.compile([G4.OP_0,s.hash])}),En.prop(s,"redeem",()=>{if(!!t.witness)return{output:t.witness[t.witness.length-1],input:rl,witness:t.witness.slice(0,-1)}}),En.prop(s,"input",()=>{if(!!s.witness)return rl}),En.prop(s,"witness",()=>{if(t.redeem&&t.redeem.input&&t.redeem.input.length>0&&t.redeem.output&&t.redeem.output.length>0){let o=ri.toStack(n());return s.redeem=Object.assign({witness:o},t.redeem),s.redeem.input=rl,[].concat(o,t.redeem.output)}if(!!t.redeem&&!!t.redeem.output&&!!t.redeem.witness)return[].concat(t.redeem.witness,t.redeem.output)}),En.prop(s,"name",()=>{let o=["p2wsh"];return s.redeem!==void 0&&o.push(s.redeem.name),o.join("-")}),e.validate){let o=g.Buffer.from([]);if(t.address){if(r().prefix!==i.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");o=r().data}if(t.hash){if(o.length>0&&!o.equals(t.hash))throw new TypeError("Hash mismatch");o=t.hash}if(t.output){if(t.output.length!==34||t.output[0]!==G4.OP_0||t.output[1]!==32)throw new TypeError("Output is invalid");let a=t.output.slice(2);if(o.length>0&&!o.equals(a))throw new TypeError("Hash mismatch");o=a}if(t.redeem){if(t.redeem.network&&t.redeem.network!==i)throw new TypeError("Network mismatch");if(t.redeem.input&&t.redeem.input.length>0&&t.redeem.witness&&t.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(t.redeem.output){if(ri.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");let a=V4.sha256(t.redeem.output);if(o.length>0&&!o.equals(a))throw new TypeError("Hash mismatch");o=a}if(t.redeem.input&&!ri.isPushOnly(n()))throw new TypeError("Non push-only scriptSig");if(t.witness&&t.redeem.witness&&!fP(t.witness,t.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(t.redeem.input&&n().some(Zu)||t.redeem.output&&(ri.decompile(t.redeem.output)||[]).some(Zu))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(t.witness&&t.witness.length>0){let a=t.witness[t.witness.length-1];if(t.redeem&&t.redeem.output&&!t.redeem.output.equals(a))throw new TypeError("Witness and redeem.output mismatch");if(t.witness.some(Zu)||(ri.decompile(a)||[]).some(Zu))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(s,t)}nl.p2wsh=uP});var va=M(Sn=>{"use strict";p();b();Object.defineProperty(Sn,"__esModule",{value:!0});var cP=T4();Sn.embed=cP.p2data;var hP=P4();Sn.p2ms=hP.p2ms;var dP=q4();Sn.p2pk=dP.p2pk;var lP=U4();Sn.p2pkh=lP.p2pkh;var pP=H4();Sn.p2sh=pP.p2sh;var bP=z4();Sn.p2wpkh=bP.p2wpkh;var vP=X4();Sn.p2wsh=vP.p2wsh});var ec=M(ii=>{"use strict";p();b();Object.defineProperty(ii,"__esModule",{value:!0});var Y4=Jt(),ni=va(),yP=ve(),il=Er(),Qu=Xu(),$4=Es(),gP=ht();function J4(t){let e=$4.decode(t);if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");let r=e.readUInt8(0),n=e.slice(1);return{version:r,hash:n}}ii.fromBase58Check=J4;function Z4(t){let e=Qu.decode(t),r=Qu.fromWords(e.words.slice(1));return{version:e.words[0],prefix:e.prefix,data:g.Buffer.from(r)}}ii.fromBech32=Z4;function wP(t,e){gP(il.tuple(il.Hash160bit,il.UInt8),arguments);let r=g.Buffer.allocUnsafe(21);return r.writeUInt8(e,0),t.copy(r,1),$4.encode(r)}ii.toBase58Check=wP;function mP(t,e,r){let n=Qu.toWords(t);return n.unshift(e),Qu.encode(r,n)}ii.toBech32=mP;function _P(t,e){e=e||Y4.bitcoin;try{return ni.p2pkh({output:t,network:e}).address}catch{}try{return ni.p2sh({output:t,network:e}).address}catch{}try{return ni.p2wpkh({output:t,network:e}).address}catch{}try{return ni.p2wsh({output:t,network:e}).address}catch{}throw new Error(yP.toASM(t)+" has no matching Address")}ii.fromOutputScript=_P;function xP(t,e){e=e||Y4.bitcoin;let r,n;try{r=J4(t)}catch{}if(r){if(r.version===e.pubKeyHash)return ni.p2pkh({hash:r.hash}).output;if(r.version===e.scriptHash)return ni.p2sh({hash:r.hash}).output}else{try{n=Z4(t)}catch{}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(n.version===0){if(n.data.length===20)return ni.p2wpkh({hash:n.data}).output;if(n.data.length===32)return ni.p2wsh({hash:n.data}).output}}}throw new Error(t+" has no matching Script")}ii.toOutputScript=xP});var rc=M(no=>{"use strict";p();b();Object.defineProperty(no,"__esModule",{value:!0});var Q4=Jt(),Xi=Er(),An=pn(),EP=Un(),si=ht(),e8=Dd(),sl=si.maybe(si.compile({compressed:Xi.maybe(Xi.Boolean),network:Xi.maybe(Xi.Network)})),tc=class{constructor(e,r,n){this.__D=e,this.__Q=r,this.lowR=!1,n===void 0&&(n={}),this.compressed=n.compressed===void 0?!0:n.compressed,this.network=n.network||Q4.bitcoin,r!==void 0&&(this.__Q=An.pointCompress(r,this.compressed))}get privateKey(){return this.__D}get publicKey(){return this.__Q||(this.__Q=An.pointFromScalar(this.__D,this.compressed)),this.__Q}toWIF(){if(!this.__D)throw new Error("Missing private key");return e8.encode(this.network.wif,this.__D,this.compressed)}sign(e,r){if(!this.__D)throw new Error("Missing private key");if(r===void 0&&(r=this.lowR),r===!1)return An.sign(e,this.__D);{let n=An.sign(e,this.__D),i=g.Buffer.alloc(32,0),s=0;for(;n[0]>127;)s++,i.writeUIntLE(s,0,6),n=An.signWithEntropy(e,this.__D,i);return n}}verify(e,r){return An.verify(e,this.publicKey,r)}};function ol(t,e){if(si(Xi.Buffer256bit,t),!An.isPrivate(t))throw new TypeError("Private key not in range [1, n)");return si(sl,e),new tc(t,void 0,e)}no.fromPrivateKey=ol;function SP(t,e){return si(An.isPoint,t),si(sl,e),new tc(void 0,t,e)}no.fromPublicKey=SP;function AP(t,e){let r=e8.decode(t),n=r.version;if(Xi.Array(e)){if(e=e.filter(i=>n===i.wif).pop(),!e)throw new Error("Unknown network version")}else if(e=e||Q4.bitcoin,n!==e.wif)throw new Error("Invalid network version");return ol(r.privateKey,{compressed:r.compressed,network:e})}no.fromWIF=AP;function IP(t){si(sl,t),t===void 0&&(t={});let e=t.rng||EP,r;do r=e(32),si(Xi.Buffer256bit,r);while(!An.isPrivate(r));return ol(r,t)}no.makeRandom=IP});var nc=M((GW,r8)=>{"use strict";p();b();var al=me().Buffer,TP=9007199254740991;function fl(t){if(t<0||t>TP||t%1!==0)throw new RangeError("value out of range")}function ya(t,e,r){if(fl(t),e||(e=al.allocUnsafe(t8(t))),!al.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),ya.bytes=1):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),ya.bytes=3):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),ya.bytes=5):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),ya.bytes=9),e}function ga(t,e){if(!al.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var r=t.readUInt8(e);if(r<253)return ga.bytes=1,r;if(r===253)return ga.bytes=3,t.readUInt16LE(e+1);if(r===254)return ga.bytes=5,t.readUInt32LE(e+1);ga.bytes=9;var n=t.readUInt32LE(e+1),i=t.readUInt32LE(e+5),s=i*4294967296+n;return fl(s),s}function t8(t){return fl(t),t<253?1:t<=65535?3:t<=4294967295?5:9}r8.exports={encode:ya,decode:ga,encodingLength:t8}});var wa=M(oi=>{"use strict";p();b();Object.defineProperty(oi,"__esModule",{value:!0});var io=Er(),n8=ht(),ic=nc();function i8(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function s8(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,i8(n+r,9007199254740991),n+r}oi.readUInt64LE=s8;function o8(t,e,r){return i8(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}oi.writeUInt64LE=o8;function kP(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}oi.reverseBuffer=kP;function BP(t){let e=g.Buffer.allocUnsafe(t.length);return t.copy(e),e}oi.cloneBuffer=BP;var ul=class{constructor(e,r=0){this.buffer=e,this.offset=r,n8(io.tuple(io.Buffer,io.UInt32),[e,r])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=o8(this.buffer,e,this.offset)}writeVarInt(e){ic.encode(e,this.buffer,this.offset),this.offset+=ic.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach(r=>this.writeVarSlice(r))}};oi.BufferWriter=ul;var cl=class{constructor(e,r=0){this.buffer=e,this.offset=r,n8(io.tuple(io.Buffer,io.UInt32),[e,r])}readUInt8(){let e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){let e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){let e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){let e=s8(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){let e=ic.decode(this.buffer,this.offset);return this.offset+=ic.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");let r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let e=this.readVarInt(),r=[];for(let n=0;n<e;n++)r.push(this.readVarSlice());return r}};oi.BufferReader=cl});var ma=M(ll=>{"use strict";p();b();Object.defineProperty(ll,"__esModule",{value:!0});var ai=wa(),Yi=Wr(),a8=ve(),PP=ve(),Pe=Er(),$i=ht(),sc=nc();function so(t){let e=t.length;return sc.encodingLength(e)+e}function OP(t){let e=t.length;return sc.encodingLength(e)+t.reduce((r,n)=>r+so(n),0)}var dl=g.Buffer.allocUnsafe(0),f8=[],hl=g.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),u8=g.Buffer.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),MP=g.Buffer.from("ffffffffffffffff","hex"),qP={script:dl,valueBuffer:MP};function RP(t){return t.value!==void 0}var Se=class{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,r){let n=new ai.BufferReader(e),i=new Se;i.version=n.readInt32();let s=n.readUInt8(),o=n.readUInt8(),a=!1;s===Se.ADVANCED_TRANSACTION_MARKER&&o===Se.ADVANCED_TRANSACTION_FLAG?a=!0:n.offset-=2;let f=n.readVarInt();for(let m=0;m<f;++m)i.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:f8});let c=n.readVarInt();for(let m=0;m<c;++m)i.outs.push({value:n.readUInt64(),script:n.readVarSlice()});if(a){for(let m=0;m<f;++m)i.ins[m].witness=n.readVector();if(!i.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(i.locktime=n.readUInt32(),r)return i;if(n.offset!==e.length)throw new Error("Transaction has unexpected data");return i}static fromHex(e){return Se.fromBuffer(g.Buffer.from(e,"hex"),!1)}static isCoinbaseHash(e){$i(Pe.Hash256bit,e);for(let r=0;r<32;++r)if(e[r]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&Se.isCoinbaseHash(this.ins[0].hash)}addInput(e,r,n,i){return $i(Pe.tuple(Pe.Hash256bit,Pe.UInt32,Pe.maybe(Pe.UInt32),Pe.maybe(Pe.Buffer)),arguments),Pe.Null(n)&&(n=Se.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:r,script:i||dl,sequence:n,witness:f8})-1}addOutput(e,r){return $i(Pe.tuple(Pe.Buffer,Pe.Satoshi),arguments),this.outs.push({script:e,value:r})-1}hasWitnesses(){return this.ins.some(e=>e.witness.length!==0)}weight(){let e=this.byteLength(!1),r=this.byteLength(!0);return e*3+r}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){let r=e&&this.hasWitnesses();return(r?10:8)+sc.encodingLength(this.ins.length)+sc.encodingLength(this.outs.length)+this.ins.reduce((n,i)=>n+40+so(i.script),0)+this.outs.reduce((n,i)=>n+8+so(i.script),0)+(r?this.ins.reduce((n,i)=>n+OP(i.witness),0):0)}clone(){let e=new Se;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map(r=>({hash:r.hash,index:r.index,script:r.script,sequence:r.sequence,witness:r.witness})),e.outs=this.outs.map(r=>({script:r.script,value:r.value})),e}hashForSignature(e,r,n){if($i(Pe.tuple(Pe.UInt32,Pe.Buffer,Pe.Number),arguments),e>=this.ins.length)return u8;let i=a8.compile(a8.decompile(r).filter(a=>a!==PP.OPS.OP_CODESEPARATOR)),s=this.clone();if((n&31)===Se.SIGHASH_NONE)s.outs=[],s.ins.forEach((a,f)=>{f!==e&&(a.sequence=0)});else if((n&31)===Se.SIGHASH_SINGLE){if(e>=this.outs.length)return u8;s.outs.length=e+1;for(let a=0;a<e;a++)s.outs[a]=qP;s.ins.forEach((a,f)=>{f!==e&&(a.sequence=0)})}n&Se.SIGHASH_ANYONECANPAY?(s.ins=[s.ins[e]],s.ins[0].script=i):(s.ins.forEach(a=>{a.script=dl}),s.ins[e].script=i);let o=g.Buffer.allocUnsafe(s.byteLength(!1)+4);return o.writeInt32LE(n,o.length-4),s.__toBuffer(o,0,!1),Yi.hash256(o)}hashForWitnessV0(e,r,n,i){$i(Pe.tuple(Pe.UInt32,Pe.Buffer,Pe.Satoshi,Pe.UInt32),arguments);let s=g.Buffer.from([]),o,a=hl,f=hl,c=hl;if(i&Se.SIGHASH_ANYONECANPAY||(s=g.Buffer.allocUnsafe(36*this.ins.length),o=new ai.BufferWriter(s,0),this.ins.forEach(v=>{o.writeSlice(v.hash),o.writeUInt32(v.index)}),f=Yi.hash256(s)),!(i&Se.SIGHASH_ANYONECANPAY)&&(i&31)!==Se.SIGHASH_SINGLE&&(i&31)!==Se.SIGHASH_NONE&&(s=g.Buffer.allocUnsafe(4*this.ins.length),o=new ai.BufferWriter(s,0),this.ins.forEach(v=>{o.writeUInt32(v.sequence)}),c=Yi.hash256(s)),(i&31)!==Se.SIGHASH_SINGLE&&(i&31)!==Se.SIGHASH_NONE){let v=this.outs.reduce((x,I)=>x+8+so(I.script),0);s=g.Buffer.allocUnsafe(v),o=new ai.BufferWriter(s,0),this.outs.forEach(x=>{o.writeUInt64(x.value),o.writeVarSlice(x.script)}),a=Yi.hash256(s)}else if((i&31)===Se.SIGHASH_SINGLE&&e<this.outs.length){let v=this.outs[e];s=g.Buffer.allocUnsafe(8+so(v.script)),o=new ai.BufferWriter(s,0),o.writeUInt64(v.value),o.writeVarSlice(v.script),a=Yi.hash256(s)}s=g.Buffer.allocUnsafe(156+so(r)),o=new ai.BufferWriter(s,0);let m=this.ins[e];return o.writeUInt32(this.version),o.writeSlice(f),o.writeSlice(c),o.writeSlice(m.hash),o.writeUInt32(m.index),o.writeVarSlice(r),o.writeUInt64(n),o.writeUInt32(m.sequence),o.writeSlice(a),o.writeUInt32(this.locktime),o.writeUInt32(i),Yi.hash256(s)}getHash(e){return e&&this.isCoinbase()?g.Buffer.alloc(32,0):Yi.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return ai.reverseBuffer(this.getHash(!1)).toString("hex")}toBuffer(e,r){return this.__toBuffer(e,r,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,r){$i(Pe.tuple(Pe.Number,Pe.Buffer),arguments),this.ins[e].script=r}setWitness(e,r){$i(Pe.tuple(Pe.Number,[Pe.Buffer]),arguments),this.ins[e].witness=r}__toBuffer(e,r,n=!1){e||(e=g.Buffer.allocUnsafe(this.byteLength(n)));let i=new ai.BufferWriter(e,r||0);i.writeInt32(this.version);let s=n&&this.hasWitnesses();return s&&(i.writeUInt8(Se.ADVANCED_TRANSACTION_MARKER),i.writeUInt8(Se.ADVANCED_TRANSACTION_FLAG)),i.writeVarInt(this.ins.length),this.ins.forEach(o=>{i.writeSlice(o.hash),i.writeUInt32(o.index),i.writeVarSlice(o.script),i.writeUInt32(o.sequence)}),i.writeVarInt(this.outs.length),this.outs.forEach(o=>{RP(o)?i.writeUInt64(o.value):i.writeSlice(o.valueBuffer),i.writeVarSlice(o.script)}),s&&this.ins.forEach(o=>{i.writeVector(o.witness)}),i.writeUInt32(this.locktime),r!==void 0?e.slice(r,i.offset):e}};Se.DEFAULT_SEQUENCE=4294967295;Se.SIGHASH_ALL=1;Se.SIGHASH_NONE=2;Se.SIGHASH_SINGLE=3;Se.SIGHASH_ANYONECANPAY=128;Se.ADVANCED_TRANSACTION_MARKER=0;Se.ADVANCED_TRANSACTION_FLAG=1;ll.Transaction=Se});var h8=M((rz,c8)=>{p();b();c8.exports=function(e,r){if(!Array.isArray(e))throw TypeError("Expected values Array");if(typeof r!="function")throw TypeError("Expected digest Function");for(var n=e.length,i=e.concat();n>1;){for(var s=0,o=0;o<n;o+=2,++s){var a=i[o],f=o+1===n?a:i[o+1],c=g.Buffer.concat([a,f]);i[s]=r(c)}n=s}return i[0]}});var p8=M(yl=>{"use strict";p();b();Object.defineProperty(yl,"__esModule",{value:!0});var oc=wa(),pl=Wr(),CP=ma(),NP=Er(),UP=h8(),DP=ht(),bl=nc(),vl=new TypeError("Cannot compute merkle root for zero transactions"),d8=new TypeError("Cannot compute witness commit for non-segwit block"),In=class{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(e){if(e.length<80)throw new Error("Buffer too small (< 80 bytes)");let r=new oc.BufferReader(e),n=new In;if(n.version=r.readInt32(),n.prevHash=r.readSlice(32),n.merkleRoot=r.readSlice(32),n.timestamp=r.readUInt32(),n.bits=r.readUInt32(),n.nonce=r.readUInt32(),e.length===80)return n;let i=()=>{let a=CP.Transaction.fromBuffer(r.buffer.slice(r.offset),!0);return r.offset+=a.byteLength(),a},s=r.readVarInt();n.transactions=[];for(let a=0;a<s;++a){let f=i();n.transactions.push(f)}let o=n.getWitnessCommit();return o&&(n.witnessCommit=o),n}static fromHex(e){return In.fromBuffer(g.Buffer.from(e,"hex"))}static calculateTarget(e){let r=((e&4278190080)>>24)-3,n=e&8388607,i=g.Buffer.alloc(32,0);return i.writeUIntBE(n,29-r,3),i}static calculateMerkleRoot(e,r){if(DP([{getHash:NP.Function}],e),e.length===0)throw vl;if(r&&!l8(e))throw d8;let n=e.map(s=>s.getHash(r)),i=UP(n,pl.hash256);return r?pl.hash256(g.Buffer.concat([i,e[0].ins[0].witness[0]])):i}getWitnessCommit(){if(!l8(this.transactions))return null;let e=this.transactions[0].outs.filter(n=>n.script.slice(0,6).equals(g.Buffer.from("6a24aa21a9ed","hex"))).map(n=>n.script.slice(6,38));if(e.length===0)return null;let r=e[e.length-1];return r instanceof g.Buffer&&r.length===32?r:null}hasWitnessCommit(){return this.witnessCommit instanceof g.Buffer&&this.witnessCommit.length===32||this.getWitnessCommit()!==null}hasWitness(){return LP(this.transactions)}weight(){let e=this.byteLength(!1,!1),r=this.byteLength(!1,!0);return e*3+r}byteLength(e,r=!0){return e||!this.transactions?80:80+bl.encodingLength(this.transactions.length)+this.transactions.reduce((n,i)=>n+i.byteLength(r),0)}getHash(){return pl.hash256(this.toBuffer(!0))}getId(){return oc.reverseBuffer(this.getHash()).toString("hex")}getUTCDate(){let e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){let r=g.Buffer.allocUnsafe(this.byteLength(e)),n=new oc.BufferWriter(r);return n.writeInt32(this.version),n.writeSlice(this.prevHash),n.writeSlice(this.merkleRoot),n.writeUInt32(this.timestamp),n.writeUInt32(this.bits),n.writeUInt32(this.nonce),e||!this.transactions||(bl.encode(this.transactions.length,r,n.offset),n.offset+=bl.encode.bytes,this.transactions.forEach(i=>{let s=i.byteLength();i.toBuffer(r,n.offset),n.offset+=s})),r}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){let e=this.hasWitnessCommit();return!e&&this.hasWitness()?!1:this.__checkMerkleRoot()&&(e?this.__checkWitnessCommit():!0)}checkProofOfWork(){let e=oc.reverseBuffer(this.getHash()),r=In.calculateTarget(this.bits);return e.compare(r)<=0}__checkMerkleRoot(){if(!this.transactions)throw vl;let e=In.calculateMerkleRoot(this.transactions);return this.merkleRoot.compare(e)===0}__checkWitnessCommit(){if(!this.transactions)throw vl;if(!this.hasWitnessCommit())throw d8;let e=In.calculateMerkleRoot(this.transactions,!0);return this.witnessCommit.compare(e)===0}};yl.Block=In;function l8(t){return t instanceof Array&&t[0]&&t[0].ins&&t[0].ins instanceof Array&&t[0].ins[0]&&t[0].ins[0].witness&&t[0].ins[0].witness instanceof Array&&t[0].ins[0].witness.length>0}function LP(t){return t instanceof Array&&t.some(e=>typeof e=="object"&&e.ins instanceof Array&&e.ins.some(r=>typeof r=="object"&&r.witness instanceof Array&&r.witness.length>0))}});var wt=M(Sr=>{"use strict";p();b();Object.defineProperty(Sr,"__esModule",{value:!0});var HP;(function(t){t[t.UNSIGNED_TX=0]="UNSIGNED_TX",t[t.GLOBAL_XPUB=1]="GLOBAL_XPUB"})(HP=Sr.GlobalTypes||(Sr.GlobalTypes={}));Sr.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"];var FP;(function(t){t[t.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",t[t.WITNESS_UTXO=1]="WITNESS_UTXO",t[t.PARTIAL_SIG=2]="PARTIAL_SIG",t[t.SIGHASH_TYPE=3]="SIGHASH_TYPE",t[t.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=6]="BIP32_DERIVATION",t[t.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",t[t.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",t[t.POR_COMMITMENT=9]="POR_COMMITMENT",t[t.TAP_KEY_SIG=19]="TAP_KEY_SIG",t[t.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",t[t.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",t[t.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",t[t.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"})(FP=Sr.InputTypes||(Sr.InputTypes={}));Sr.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"];var KP;(function(t){t[t.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=2]="BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",t[t.TAP_TREE=6]="TAP_TREE",t[t.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"})(KP=Sr.OutputTypes||(Sr.OutputTypes={}));Sr.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]});var v8=M(Ji=>{"use strict";p();b();Object.defineProperty(Ji,"__esModule",{value:!0});var b8=wt(),jP=t=>[...Array(t).keys()];function WP(t){if(t.key[0]!==b8.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(t.key.length!==79||![2,3].includes(t.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");let e=t.key.slice(1),r={masterFingerprint:t.value.slice(0,4),extendedPubkey:e,path:"m"};for(let n of jP(t.value.length/4-1)){let i=t.value.readUInt32LE(n*4+4),s=!!(i&2147483648),o=i&2147483647;r.path+="/"+o.toString(10)+(s?"'":"")}return r}Ji.decode=WP;function zP(t){let e=g.Buffer.from([b8.GlobalTypes.GLOBAL_XPUB]),r=g.Buffer.concat([e,t.extendedPubkey]),n=t.path.split("/"),i=g.Buffer.allocUnsafe(n.length*4);t.masterFingerprint.copy(i,0);let s=4;return n.slice(1).forEach(o=>{let a=o.slice(-1)==="'",f=2147483647&parseInt(a?o.slice(0,-1):o,10);a&&(f+=2147483648),i.writeUInt32LE(f,s),s+=4}),{key:r,value:i}}Ji.encode=zP;Ji.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }";function VP(t){let e=t.extendedPubkey,r=t.masterFingerprint,n=t.path;return g.Buffer.isBuffer(e)&&e.length===78&&[2,3].indexOf(e[45])>-1&&g.Buffer.isBuffer(r)&&r.length===4&&typeof n=="string"&&!!n.match(/^m(\/\d+'?)*$/)}Ji.check=VP;function GP(t,e,r){let n=e.extendedPubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.extendedPubkey.equals(e.extendedPubkey)).length===0)}Ji.canAddToArray=GP});var y8=M(gl=>{"use strict";p();b();Object.defineProperty(gl,"__esModule",{value:!0});var XP=wt();function YP(t){return{key:g.Buffer.from([XP.GlobalTypes.UNSIGNED_TX]),value:t.toBuffer()}}gl.encode=YP});var w8=M(Zi=>{"use strict";p();b();Object.defineProperty(Zi,"__esModule",{value:!0});var g8=wt();function $P(t){if(t.key[0]!==g8.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value}Zi.decode=$P;function JP(t){return{key:g.Buffer.from([g8.InputTypes.FINAL_SCRIPTSIG]),value:t}}Zi.encode=JP;Zi.expected="Buffer";function ZP(t){return g.Buffer.isBuffer(t)}Zi.check=ZP;function QP(t,e){return!!t&&!!e&&t.finalScriptSig===void 0}Zi.canAdd=QP});var _8=M(Qi=>{"use strict";p();b();Object.defineProperty(Qi,"__esModule",{value:!0});var m8=wt();function eO(t){if(t.key[0]!==m8.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value}Qi.decode=eO;function tO(t){return{key:g.Buffer.from([m8.InputTypes.FINAL_SCRIPTWITNESS]),value:t}}Qi.encode=tO;Qi.expected="Buffer";function rO(t){return g.Buffer.isBuffer(t)}Qi.check=rO;function nO(t,e){return!!t&&!!e&&t.finalScriptWitness===void 0}Qi.canAdd=nO});var E8=M(es=>{"use strict";p();b();Object.defineProperty(es,"__esModule",{value:!0});var x8=wt();function iO(t){if(t.key[0]!==x8.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value}es.decode=iO;function sO(t){return{key:g.Buffer.from([x8.InputTypes.NON_WITNESS_UTXO]),value:t}}es.encode=sO;es.expected="Buffer";function oO(t){return g.Buffer.isBuffer(t)}es.check=oO;function aO(t,e){return!!t&&!!e&&t.nonWitnessUtxo===void 0}es.canAdd=aO});var A8=M(ts=>{"use strict";p();b();Object.defineProperty(ts,"__esModule",{value:!0});var S8=wt();function fO(t){if(t.key[0]!==S8.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(!(t.key.length===34||t.key.length===66)||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}}ts.decode=fO;function uO(t){let e=g.Buffer.from([S8.InputTypes.PARTIAL_SIG]);return{key:g.Buffer.concat([e,t.pubkey]),value:t.signature}}ts.encode=uO;ts.expected="{ pubkey: Buffer; signature: Buffer; }";function cO(t){return g.Buffer.isBuffer(t.pubkey)&&g.Buffer.isBuffer(t.signature)&&[33,65].includes(t.pubkey.length)&&[2,3,4].includes(t.pubkey[0])&&hO(t.signature)}ts.check=cO;function hO(t){if(!g.Buffer.isBuffer(t)||t.length<9||t[0]!==48||t.length!==t[1]+3||t[2]!==2)return!1;let e=t[3];if(e>33||e<1||t[3+e+1]!==2)return!1;let r=t[3+e+2];return!(r>33||r<1||t.length!==3+e+2+r+2)}function dO(t,e,r){let n=e.pubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)).length===0)}ts.canAddToArray=dO});var T8=M(rs=>{"use strict";p();b();Object.defineProperty(rs,"__esModule",{value:!0});var I8=wt();function lO(t){if(t.key[0]!==I8.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")}rs.decode=lO;function pO(t){return{key:g.Buffer.from([I8.InputTypes.POR_COMMITMENT]),value:g.Buffer.from(t,"utf8")}}rs.encode=pO;rs.expected="string";function bO(t){return typeof t=="string"}rs.check=bO;function vO(t,e){return!!t&&!!e&&t.porCommitment===void 0}rs.canAdd=vO});var B8=M(ns=>{"use strict";p();b();Object.defineProperty(ns,"__esModule",{value:!0});var k8=wt();function yO(t){if(t.key[0]!==k8.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)}ns.decode=yO;function gO(t){let e=g.Buffer.from([k8.InputTypes.SIGHASH_TYPE]),r=g.Buffer.allocUnsafe(4);return r.writeUInt32LE(t,0),{key:e,value:r}}ns.encode=gO;ns.expected="number";function wO(t){return typeof t=="number"}ns.check=wO;function mO(t,e){return!!t&&!!e&&t.sighashType===void 0}ns.canAdd=mO});var M8=M(is=>{"use strict";p();b();Object.defineProperty(is,"__esModule",{value:!0});var P8=wt();function _O(t){if(t.key[0]!==P8.InputTypes.TAP_KEY_SIG||t.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+t.key.toString("hex"));if(!O8(t.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return t.value}is.decode=_O;function xO(t){return{key:g.Buffer.from([P8.InputTypes.TAP_KEY_SIG]),value:t}}is.encode=xO;is.expected="Buffer";function O8(t){return g.Buffer.isBuffer(t)&&(t.length===64||t.length===65)}is.check=O8;function EO(t,e){return!!t&&!!e&&t.tapKeySig===void 0}is.canAdd=EO});var R8=M(ss=>{"use strict";p();b();Object.defineProperty(ss,"__esModule",{value:!0});var q8=wt();function SO(t){if(t.key[0]!==q8.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+t.key.toString("hex"));if((t.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+t.key.toString("hex"));let e=t.value[t.value.length-1];if((t.key[1]&254)!==e)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+t.key.toString("hex"));let r=t.value.slice(0,-1);return{controlBlock:t.key.slice(1),script:r,leafVersion:e}}ss.decode=SO;function AO(t){let e=g.Buffer.from([q8.InputTypes.TAP_LEAF_SCRIPT]),r=g.Buffer.from([t.leafVersion]);return{key:g.Buffer.concat([e,t.controlBlock]),value:g.Buffer.concat([t.script,r])}}ss.encode=AO;ss.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }";function IO(t){return g.Buffer.isBuffer(t.controlBlock)&&(t.controlBlock.length-1)%32===0&&(t.controlBlock[0]&254)===t.leafVersion&&g.Buffer.isBuffer(t.script)}ss.check=IO;function TO(t,e,r){let n=e.controlBlock.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.controlBlock.equals(e.controlBlock)).length===0)}ss.canAddToArray=TO});var U8=M(os=>{"use strict";p();b();Object.defineProperty(os,"__esModule",{value:!0});var C8=wt();function kO(t){if(t.key[0]!==C8.InputTypes.TAP_MERKLE_ROOT||t.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+t.key.toString("hex"));if(!N8(t.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return t.value}os.decode=kO;function BO(t){return{key:g.Buffer.from([C8.InputTypes.TAP_MERKLE_ROOT]),value:t}}os.encode=BO;os.expected="Buffer";function N8(t){return g.Buffer.isBuffer(t)&&t.length===32}os.check=N8;function PO(t,e){return!!t&&!!e&&t.tapMerkleRoot===void 0}os.canAdd=PO});var L8=M(as=>{"use strict";p();b();Object.defineProperty(as,"__esModule",{value:!0});var D8=wt();function OO(t){if(t.key[0]!==D8.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+t.key.toString("hex"));if(t.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+t.key.toString("hex"));if(t.value.length!==64&&t.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+t.key.toString("hex"));let e=t.key.slice(1,33),r=t.key.slice(33);return{pubkey:e,leafHash:r,signature:t.value}}as.decode=OO;function MO(t){let e=g.Buffer.from([D8.InputTypes.TAP_SCRIPT_SIG]);return{key:g.Buffer.concat([e,t.pubkey,t.leafHash]),value:t.signature}}as.encode=MO;as.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }";function qO(t){return g.Buffer.isBuffer(t.pubkey)&&g.Buffer.isBuffer(t.leafHash)&&g.Buffer.isBuffer(t.signature)&&t.pubkey.length===32&&t.leafHash.length===32&&(t.signature.length===64||t.signature.length===65)}as.check=qO;function RO(t,e,r){let n=e.pubkey.toString("hex")+e.leafHash.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)&&i.leafHash.equals(e.leafHash)).length===0)}as.canAddToArray=RO});var fs=M(Ea=>{"use strict";p();b();Object.defineProperty(Ea,"__esModule",{value:!0});var CO=9007199254740991;function wl(t){if(t<0||t>CO||t%1!==0)throw new RangeError("value out of range")}function _a(t,e,r){if(wl(t),e||(e=g.Buffer.allocUnsafe(H8(t))),!g.Buffer.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Object.assign(_a,{bytes:1})):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Object.assign(_a,{bytes:3})):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Object.assign(_a,{bytes:5})):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Object.assign(_a,{bytes:9})),e}Ea.encode=_a;function xa(t,e){if(!g.Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);let r=t.readUInt8(e);if(r<253)return Object.assign(xa,{bytes:1}),r;if(r===253)return Object.assign(xa,{bytes:3}),t.readUInt16LE(e+1);if(r===254)return Object.assign(xa,{bytes:5}),t.readUInt32LE(e+1);{Object.assign(xa,{bytes:9});let n=t.readUInt32LE(e+1),s=t.readUInt32LE(e+5)*4294967296+n;return wl(s),s}}Ea.decode=xa;function H8(t){return wl(t),t<253?1:t<=65535?3:t<=4294967295?5:9}Ea.encodingLength=H8});var fc=M(fi=>{"use strict";p();b();Object.defineProperty(fi,"__esModule",{value:!0});var ac=fs();fi.range=t=>[...Array(t).keys()];function NO(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}fi.reverseBuffer=NO;function UO(t){let e=t.map(F8);return e.push(g.Buffer.from([0])),g.Buffer.concat(e)}fi.keyValsToBuffer=UO;function F8(t){let e=t.key.length,r=t.value.length,n=ac.encodingLength(e),i=ac.encodingLength(r),s=g.Buffer.allocUnsafe(n+e+i+r);return ac.encode(e,s,0),t.key.copy(s,n),ac.encode(r,s,n+e),t.value.copy(s,n+e+i),s}fi.keyValToBuffer=F8;function K8(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function DO(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,K8(n+r,9007199254740991),n+r}fi.readUInt64LE=DO;function LO(t,e,r){return K8(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}fi.writeUInt64LE=LO});var z8=M(us=>{"use strict";p();b();Object.defineProperty(us,"__esModule",{value:!0});var j8=wt(),W8=fc(),uc=fs();function HO(t){if(t.key[0]!==j8.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));let e=W8.readUInt64LE(t.value,0),r=8,n=uc.decode(t.value,r);r+=uc.encodingLength(n);let i=t.value.slice(r);if(i.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:i,value:e}}us.decode=HO;function FO(t){let{script:e,value:r}=t,n=uc.encodingLength(e.length),i=g.Buffer.allocUnsafe(8+n+e.length);return W8.writeUInt64LE(i,r,0),uc.encode(e.length,i,8),e.copy(i,8+n),{key:g.Buffer.from([j8.InputTypes.WITNESS_UTXO]),value:i}}us.encode=FO;us.expected="{ script: Buffer; value: number; }";function KO(t){return g.Buffer.isBuffer(t.script)&&typeof t.value=="number"}us.check=KO;function jO(t,e){return!!t&&!!e&&t.witnessUtxo===void 0}us.canAdd=jO});var G8=M(cs=>{"use strict";p();b();Object.defineProperty(cs,"__esModule",{value:!0});var V8=wt(),ml=fs();function WO(t){if(t.key[0]!==V8.OutputTypes.TAP_TREE||t.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+t.key.toString("hex"));let e=0,r=[];for(;e<t.value.length;){let n=t.value[e++],i=t.value[e++],s=ml.decode(t.value,e);e+=ml.encodingLength(s),r.push({depth:n,leafVersion:i,script:t.value.slice(e,e+s)}),e+=s}return{leaves:r}}cs.decode=WO;function zO(t){let e=g.Buffer.from([V8.OutputTypes.TAP_TREE]),r=[].concat(...t.leaves.map(n=>[g.Buffer.of(n.depth,n.leafVersion),ml.encode(n.script.length),n.script]));return{key:e,value:g.Buffer.concat(r)}}cs.encode=zO;cs.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }";function VO(t){return Array.isArray(t.leaves)&&t.leaves.every(e=>e.depth>=0&&e.depth<=128&&(e.leafVersion&254)===e.leafVersion&&g.Buffer.isBuffer(e.script))}cs.check=VO;function GO(t,e){return!!t&&!!e&&t.tapTree===void 0}cs.canAdd=GO});var xl=M(_l=>{"use strict";p();b();Object.defineProperty(_l,"__esModule",{value:!0});var XO=t=>[...Array(t).keys()],YO=t=>t.length===33&&[2,3].includes(t[0])||t.length===65&&t[0]===4;function $O(t,e=YO){function r(a){if(a.key[0]!==t)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+a.key.toString("hex"));let f=a.key.slice(1);if(!e(f))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+a.key.toString("hex"));if(a.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");let c={masterFingerprint:a.value.slice(0,4),pubkey:f,path:"m"};for(let m of XO(a.value.length/4-1)){let v=a.value.readUInt32LE(m*4+4),x=!!(v&2147483648),I=v&2147483647;c.path+="/"+I.toString(10)+(x?"'":"")}return c}function n(a){let f=g.Buffer.from([t]),c=g.Buffer.concat([f,a.pubkey]),m=a.path.split("/"),v=g.Buffer.allocUnsafe(m.length*4);a.masterFingerprint.copy(v,0);let x=4;return m.slice(1).forEach(I=>{let N=I.slice(-1)==="'",F=2147483647&parseInt(N?I.slice(0,-1):I,10);N&&(F+=2147483648),v.writeUInt32LE(F,x),x+=4}),{key:c,value:v}}let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function s(a){return g.Buffer.isBuffer(a.pubkey)&&g.Buffer.isBuffer(a.masterFingerprint)&&typeof a.path=="string"&&e(a.pubkey)&&a.masterFingerprint.length===4}function o(a,f,c){let m=f.pubkey.toString("hex");return c.has(m)?!1:(c.add(m),a.filter(v=>v.pubkey.equals(f.pubkey)).length===0)}return{decode:r,encode:n,check:s,expected:i,canAddToArray:o}}_l.makeConverter=$O});var X8=M(El=>{"use strict";p();b();Object.defineProperty(El,"__esModule",{value:!0});function JO(t){return e;function e(r){let n;if(t.includes(r.key[0])&&(n=r.key.slice(1),!(n.length===33||n.length===65)||![2,3,4].includes(n[0])))throw new Error("Format Error: invalid pubkey in key 0x"+r.key.toString("hex"));return n}}El.makeChecker=JO});var Y8=M(Sl=>{"use strict";p();b();Object.defineProperty(Sl,"__esModule",{value:!0});function ZO(t){function e(o){if(o.key[0]!==t)throw new Error("Decode Error: could not decode redeemScript with key 0x"+o.key.toString("hex"));return o.value}function r(o){return{key:g.Buffer.from([t]),value:o}}let n="Buffer";function i(o){return g.Buffer.isBuffer(o)}function s(o,a){return!!o&&!!a&&o.redeemScript===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:s}}Sl.makeConverter=ZO});var $8=M(Al=>{"use strict";p();b();Object.defineProperty(Al,"__esModule",{value:!0});var cc=fs(),QO=xl(),eM=t=>t.length===32;function tM(t){let e=QO.makeConverter(t,eM);function r(o){let a=cc.decode(o.value),f=cc.encodingLength(a),c=e.decode({key:o.key,value:o.value.slice(f+a*32)}),m=new Array(a);for(let v=0,x=f;v<a;v++,x+=32)m[v]=o.value.slice(x,x+32);return Object.assign({},c,{leafHashes:m})}function n(o){let a=e.encode(o),f=cc.encodingLength(o.leafHashes.length),c=g.Buffer.allocUnsafe(f);cc.encode(o.leafHashes.length,c);let m=g.Buffer.concat([c,...o.leafHashes,a.value]);return Object.assign({},a,{value:m})}let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }";function s(o){return Array.isArray(o.leafHashes)&&o.leafHashes.every(a=>g.Buffer.isBuffer(a)&&a.length===32)&&e.check(o)}return{decode:r,encode:n,check:s,expected:i,canAddToArray:e.canAddToArray}}Al.makeConverter=tM});var J8=M(Il=>{"use strict";p();b();Object.defineProperty(Il,"__esModule",{value:!0});function rM(t){function e(o){if(o.key[0]!==t||o.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+o.key.toString("hex"));if(o.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return o.value}function r(o){return{key:g.Buffer.from([t]),value:o}}let n="Buffer";function i(o){return g.Buffer.isBuffer(o)&&o.length===32}function s(o,a){return!!o&&!!a&&o.tapInternalKey===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:s}}Il.makeConverter=rM});var Z8=M(Tl=>{"use strict";p();b();Object.defineProperty(Tl,"__esModule",{value:!0});function nM(t){function e(o){if(o.key[0]!==t)throw new Error("Decode Error: could not decode witnessScript with key 0x"+o.key.toString("hex"));return o.value}function r(o){return{key:g.Buffer.from([t]),value:o}}let n="Buffer";function i(o){return g.Buffer.isBuffer(o)}function s(o,a){return!!o&&!!a&&o.witnessScript===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:s}}Tl.makeConverter=nM});var hc=M(Sa=>{"use strict";p();b();Object.defineProperty(Sa,"__esModule",{value:!0});var Qt=wt(),iM=v8(),sM=y8(),oM=w8(),aM=_8(),fM=E8(),uM=A8(),cM=T8(),hM=B8(),dM=M8(),lM=R8(),pM=U8(),bM=L8(),vM=z8(),yM=G8(),Q8=xl(),kl=X8(),ew=Y8(),tw=$8(),rw=J8(),nw=Z8(),gM={unsignedTx:sM,globalXpub:iM,checkPubkey:kl.makeChecker([])};Sa.globals=gM;var wM={nonWitnessUtxo:fM,partialSig:uM,sighashType:hM,finalScriptSig:oM,finalScriptWitness:aM,porCommitment:cM,witnessUtxo:vM,bip32Derivation:Q8.makeConverter(Qt.InputTypes.BIP32_DERIVATION),redeemScript:ew.makeConverter(Qt.InputTypes.REDEEM_SCRIPT),witnessScript:nw.makeConverter(Qt.InputTypes.WITNESS_SCRIPT),checkPubkey:kl.makeChecker([Qt.InputTypes.PARTIAL_SIG,Qt.InputTypes.BIP32_DERIVATION]),tapKeySig:dM,tapScriptSig:bM,tapLeafScript:lM,tapBip32Derivation:tw.makeConverter(Qt.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:rw.makeConverter(Qt.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:pM};Sa.inputs=wM;var mM={bip32Derivation:Q8.makeConverter(Qt.OutputTypes.BIP32_DERIVATION),redeemScript:ew.makeConverter(Qt.OutputTypes.REDEEM_SCRIPT),witnessScript:nw.makeConverter(Qt.OutputTypes.WITNESS_SCRIPT),checkPubkey:kl.makeChecker([Qt.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:tw.makeConverter(Qt.OutputTypes.TAP_BIP32_DERIVATION),tapTree:yM,tapInternalKey:rw.makeConverter(Qt.OutputTypes.TAP_INTERNAL_KEY)};Sa.outputs=mM});var ow=M(Aa=>{"use strict";p();b();Object.defineProperty(Aa,"__esModule",{value:!0});var Ue=hc(),dc=fc(),iw=fs(),he=wt();function _M(t,e){let r=0;function n(){let j=iw.decode(t,r);r+=iw.encodingLength(j);let z=t.slice(r,r+j);return r+=j,z}function i(){let j=t.readUInt32BE(r);return r+=4,j}function s(){let j=t.readUInt8(r);return r+=1,j}function o(){let j=n(),z=n();return{key:j,value:z}}function a(){if(r>=t.length)throw new Error("Format Error: Unexpected End of PSBT");let j=t.readUInt8(r)===0;return j&&r++,j}if(i()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(s()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");let f=[],c={};for(;!a();){let j=o(),z=j.key.toString("hex");if(c[z])throw new Error("Format Error: Keys must be unique for global keymap: key "+z);c[z]=1,f.push(j)}let m=f.filter(j=>j.key[0]===he.GlobalTypes.UNSIGNED_TX);if(m.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");let v=e(m[0].value),{inputCount:x,outputCount:I}=v.getInputOutputCounts(),N=[],F=[];for(let j of dc.range(x)){let z={},X=[];for(;!a();){let oe=o(),fe=oe.key.toString("hex");if(z[fe])throw new Error("Format Error: Keys must be unique for each input: input index "+j+" key "+fe);z[fe]=1,X.push(oe)}N.push(X)}for(let j of dc.range(I)){let z={},X=[];for(;!a();){let oe=o(),fe=oe.key.toString("hex");if(z[fe])throw new Error("Format Error: Keys must be unique for each output: output index "+j+" key "+fe);z[fe]=1,X.push(oe)}F.push(X)}return sw(v,{globalMapKeyVals:f,inputKeyVals:N,outputKeyVals:F})}Aa.psbtFromBuffer=_M;function Tt(t,e,r){if(!e.equals(g.Buffer.from([r])))throw new Error(`Format Error: Invalid ${t} key: ${e.toString("hex")}`)}Aa.checkKeyBuffer=Tt;function sw(t,{globalMapKeyVals:e,inputKeyVals:r,outputKeyVals:n}){let i={unsignedTx:t},s=0;for(let m of e)switch(m.key[0]){case he.GlobalTypes.UNSIGNED_TX:if(Tt("global",m.key,he.GlobalTypes.UNSIGNED_TX),s>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");s++;break;case he.GlobalTypes.GLOBAL_XPUB:i.globalXpub===void 0&&(i.globalXpub=[]),i.globalXpub.push(Ue.globals.globalXpub.decode(m));break;default:i.unknownKeyVals||(i.unknownKeyVals=[]),i.unknownKeyVals.push(m)}let o=r.length,a=n.length,f=[],c=[];for(let m of dc.range(o)){let v={};for(let x of r[m])switch(Ue.inputs.checkPubkey(x),x.key[0]){case he.InputTypes.NON_WITNESS_UTXO:if(Tt("input",x.key,he.InputTypes.NON_WITNESS_UTXO),v.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");v.nonWitnessUtxo=Ue.inputs.nonWitnessUtxo.decode(x);break;case he.InputTypes.WITNESS_UTXO:if(Tt("input",x.key,he.InputTypes.WITNESS_UTXO),v.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");v.witnessUtxo=Ue.inputs.witnessUtxo.decode(x);break;case he.InputTypes.PARTIAL_SIG:v.partialSig===void 0&&(v.partialSig=[]),v.partialSig.push(Ue.inputs.partialSig.decode(x));break;case he.InputTypes.SIGHASH_TYPE:if(Tt("input",x.key,he.InputTypes.SIGHASH_TYPE),v.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");v.sighashType=Ue.inputs.sighashType.decode(x);break;case he.InputTypes.REDEEM_SCRIPT:if(Tt("input",x.key,he.InputTypes.REDEEM_SCRIPT),v.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");v.redeemScript=Ue.inputs.redeemScript.decode(x);break;case he.InputTypes.WITNESS_SCRIPT:if(Tt("input",x.key,he.InputTypes.WITNESS_SCRIPT),v.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");v.witnessScript=Ue.inputs.witnessScript.decode(x);break;case he.InputTypes.BIP32_DERIVATION:v.bip32Derivation===void 0&&(v.bip32Derivation=[]),v.bip32Derivation.push(Ue.inputs.bip32Derivation.decode(x));break;case he.InputTypes.FINAL_SCRIPTSIG:Tt("input",x.key,he.InputTypes.FINAL_SCRIPTSIG),v.finalScriptSig=Ue.inputs.finalScriptSig.decode(x);break;case he.InputTypes.FINAL_SCRIPTWITNESS:Tt("input",x.key,he.InputTypes.FINAL_SCRIPTWITNESS),v.finalScriptWitness=Ue.inputs.finalScriptWitness.decode(x);break;case he.InputTypes.POR_COMMITMENT:Tt("input",x.key,he.InputTypes.POR_COMMITMENT),v.porCommitment=Ue.inputs.porCommitment.decode(x);break;case he.InputTypes.TAP_KEY_SIG:Tt("input",x.key,he.InputTypes.TAP_KEY_SIG),v.tapKeySig=Ue.inputs.tapKeySig.decode(x);break;case he.InputTypes.TAP_SCRIPT_SIG:v.tapScriptSig===void 0&&(v.tapScriptSig=[]),v.tapScriptSig.push(Ue.inputs.tapScriptSig.decode(x));break;case he.InputTypes.TAP_LEAF_SCRIPT:v.tapLeafScript===void 0&&(v.tapLeafScript=[]),v.tapLeafScript.push(Ue.inputs.tapLeafScript.decode(x));break;case he.InputTypes.TAP_BIP32_DERIVATION:v.tapBip32Derivation===void 0&&(v.tapBip32Derivation=[]),v.tapBip32Derivation.push(Ue.inputs.tapBip32Derivation.decode(x));break;case he.InputTypes.TAP_INTERNAL_KEY:Tt("input",x.key,he.InputTypes.TAP_INTERNAL_KEY),v.tapInternalKey=Ue.inputs.tapInternalKey.decode(x);break;case he.InputTypes.TAP_MERKLE_ROOT:Tt("input",x.key,he.InputTypes.TAP_MERKLE_ROOT),v.tapMerkleRoot=Ue.inputs.tapMerkleRoot.decode(x);break;default:v.unknownKeyVals||(v.unknownKeyVals=[]),v.unknownKeyVals.push(x)}f.push(v)}for(let m of dc.range(a)){let v={};for(let x of n[m])switch(Ue.outputs.checkPubkey(x),x.key[0]){case he.OutputTypes.REDEEM_SCRIPT:if(Tt("output",x.key,he.OutputTypes.REDEEM_SCRIPT),v.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");v.redeemScript=Ue.outputs.redeemScript.decode(x);break;case he.OutputTypes.WITNESS_SCRIPT:if(Tt("output",x.key,he.OutputTypes.WITNESS_SCRIPT),v.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");v.witnessScript=Ue.outputs.witnessScript.decode(x);break;case he.OutputTypes.BIP32_DERIVATION:v.bip32Derivation===void 0&&(v.bip32Derivation=[]),v.bip32Derivation.push(Ue.outputs.bip32Derivation.decode(x));break;case he.OutputTypes.TAP_INTERNAL_KEY:Tt("output",x.key,he.OutputTypes.TAP_INTERNAL_KEY),v.tapInternalKey=Ue.outputs.tapInternalKey.decode(x);break;case he.OutputTypes.TAP_TREE:Tt("output",x.key,he.OutputTypes.TAP_TREE),v.tapTree=Ue.outputs.tapTree.decode(x);break;case he.OutputTypes.TAP_BIP32_DERIVATION:v.tapBip32Derivation===void 0&&(v.tapBip32Derivation=[]),v.tapBip32Derivation.push(Ue.outputs.tapBip32Derivation.decode(x));break;default:v.unknownKeyVals||(v.unknownKeyVals=[]),v.unknownKeyVals.push(x)}c.push(v)}return{globalMap:i,inputs:f,outputs:c}}Aa.psbtFromKeyVals=sw});var uw=M(lc=>{"use strict";p();b();Object.defineProperty(lc,"__esModule",{value:!0});var Bl=hc(),aw=fc();function xM({globalMap:t,inputs:e,outputs:r}){let{globalKeyVals:n,inputKeyVals:i,outputKeyVals:s}=fw({globalMap:t,inputs:e,outputs:r}),o=aw.keyValsToBuffer(n),a=v=>v.length===0?[g.Buffer.from([0])]:v.map(aw.keyValsToBuffer),f=a(i),c=a(s),m=g.Buffer.allocUnsafe(5);return m.writeUIntBE(482972169471,0,5),g.Buffer.concat([m,o].concat(f,c))}lc.psbtToBuffer=xM;var EM=(t,e)=>t.key.compare(e.key);function Pl(t,e){let r=new Set,n=Object.entries(t).reduce((s,[o,a])=>{if(o==="unknownKeyVals")return s;let f=e[o];if(f===void 0)return s;let c=(Array.isArray(a)?a:[a]).map(f.encode);return c.map(v=>v.key.toString("hex")).forEach(v=>{if(r.has(v))throw new Error("Serialize Error: Duplicate key: "+v);r.add(v)}),s.concat(c)},[]),i=t.unknownKeyVals?t.unknownKeyVals.filter(s=>!r.has(s.key.toString("hex"))):[];return n.concat(i).sort(EM)}function fw({globalMap:t,inputs:e,outputs:r}){return{globalKeyVals:Pl(t,Bl.globals),inputKeyVals:e.map(n=>Pl(n,Bl.inputs)),outputKeyVals:r.map(n=>Pl(n,Bl.outputs))}}lc.psbtToKeyVals=fw});var Ol=M(pc=>{"use strict";p();b();function cw(t){for(var e in t)pc.hasOwnProperty(e)||(pc[e]=t[e])}Object.defineProperty(pc,"__esModule",{value:!0});cw(ow());cw(uw())});var dw=M(Rl=>{"use strict";p();b();Object.defineProperty(Rl,"__esModule",{value:!0});var Ml=Ol();function SM(t){let e=t[0],r=Ml.psbtToKeyVals(e),n=t.slice(1);if(n.length===0)throw new Error("Combine: Nothing to combine");let i=hw(e);if(i===void 0)throw new Error("Combine: Self missing transaction");let s=oo(r.globalKeyVals),o=r.inputKeyVals.map(oo),a=r.outputKeyVals.map(oo);for(let f of n){let c=hw(f);if(c===void 0||!c.toBuffer().equals(i.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");let m=Ml.psbtToKeyVals(f);oo(m.globalKeyVals).forEach(ql(s,r.globalKeyVals,m.globalKeyVals)),m.inputKeyVals.map(oo).forEach((N,F)=>N.forEach(ql(o[F],r.inputKeyVals[F],m.inputKeyVals[F]))),m.outputKeyVals.map(oo).forEach((N,F)=>N.forEach(ql(a[F],r.outputKeyVals[F],m.outputKeyVals[F])))}return Ml.psbtFromKeyVals(i,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}Rl.combine=SM;function ql(t,e,r){return n=>{if(t.has(n))return;let i=r.filter(s=>s.key.toString("hex")===n)[0];e.push(i),t.add(n)}}function hw(t){return t.globalMap.unsignedTx}function oo(t){let e=new Set;return t.forEach(r=>{let n=r.key.toString("hex");if(e.has(n))throw new Error("Combine: KeyValue Map keys should be unique");e.add(n)}),e}});var Nl=M(Ut=>{"use strict";p();b();Object.defineProperty(Ut,"__esModule",{value:!0});var AM=hc();function pw(t,e){let r=t[e];if(r===void 0)throw new Error(`No input #${e}`);return r}Ut.checkForInput=pw;function bw(t,e){let r=t[e];if(r===void 0)throw new Error(`No output #${e}`);return r}Ut.checkForOutput=bw;function IM(t,e,r){if(t.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(e&&e.filter(n=>n.key.equals(t.key)).length!==0)throw new Error(`Duplicate Key: ${t.key.toString("hex")}`)}Ut.checkHasKey=IM;function TM(t){let e=0;return Object.keys(t).forEach(r=>{Number(isNaN(Number(r)))&&e++}),e}Ut.getEnumLength=TM;function kM(t,e){let r=!1;if(e.nonWitnessUtxo||e.witnessUtxo){let n=!!e.redeemScript,i=!!e.witnessScript,s=!n||!!e.finalScriptSig,o=!i||!!e.finalScriptWitness,a=!!e.finalScriptSig||!!e.finalScriptWitness;r=s&&o&&a}if(r===!1)throw new Error(`Input #${t} has too much or too little data to clean`)}Ut.inputCheckUncleanFinalized=kM;function lw(t,e,r,n){throw new Error(`Data for ${t} key ${e} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function Cl(t){return(e,r)=>{for(let n of Object.keys(e)){let i=e[n],{canAdd:s,canAddToArray:o,check:a,expected:f}=AM[t+"s"][n]||{},c=!!o;if(a)if(c){if(!Array.isArray(i)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);i.every(a)||lw(t,n,f,i);let m=r[n]||[],v=new Set;if(!i.every(x=>o(m,x,v)))throw new Error("Can not add duplicate data to array");r[n]=m.concat(i)}else{if(a(i)||lw(t,n,f,i),!s(r,i))throw new Error(`Can not add duplicate data to ${t}`);r[n]=i}}}}Ut.updateGlobal=Cl("global");Ut.updateInput=Cl("input");Ut.updateOutput=Cl("output");function BM(t,e){let r=t.length-1,n=pw(t,r);Ut.updateInput(e,n)}Ut.addInputAttributes=BM;function PM(t,e){let r=t.length-1,n=bw(t,r);Ut.updateOutput(e,n)}Ut.addOutputAttributes=PM;function OM(t,e){if(!g.Buffer.isBuffer(e)||e.length<4)throw new Error("Set Version: Invalid Transaction");return e.writeUInt32LE(t,0),e}Ut.defaultVersionSetter=OM;function MM(t,e){if(!g.Buffer.isBuffer(e)||e.length<4)throw new Error("Set Locktime: Invalid Transaction");return e.writeUInt32LE(t,e.length-4),e}Ut.defaultLocktimeSetter=MM});var yw=M(Ll=>{"use strict";p();b();Object.defineProperty(Ll,"__esModule",{value:!0});var qM=dw(),vw=Ol(),Ul=wt(),kt=Nl(),Dl=class{constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,r){let n=g.Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r){let n=g.Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r){let n=vw.psbtFromBuffer(e,r),i=new this(n.globalMap.unsignedTx);return Object.assign(i,n),i}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return vw.psbtToBuffer(this)}updateGlobal(e){return kt.updateGlobal(e,this.globalMap),this}updateInput(e,r){let n=kt.checkForInput(this.inputs,e);return kt.updateInput(r,n),this}updateOutput(e,r){let n=kt.checkForOutput(this.outputs,e);return kt.updateOutput(r,n),this}addUnknownKeyValToGlobal(e){return kt.checkHasKey(e,this.globalMap.unknownKeyVals,kt.getEnumLength(Ul.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,r){let n=kt.checkForInput(this.inputs,e);return kt.checkHasKey(r,n.unknownKeyVals,kt.getEnumLength(Ul.InputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addUnknownKeyValToOutput(e,r){let n=kt.checkForOutput(this.outputs,e);return kt.checkHasKey(r,n.unknownKeyVals,kt.getEnumLength(Ul.OutputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.inputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToInput(n,i)),kt.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.outputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToInput(n,i)),kt.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){let r=kt.checkForInput(this.inputs,e);kt.inputCheckUncleanFinalized(e,r);for(let n of Object.keys(r))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(n)||delete r[n];return this}combine(...e){let r=qM.combine([this].concat(e));return Object.assign(this,r),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};Ll.Psbt=Dl});var Fw=M(jl=>{"use strict";p();b();Object.defineProperty(jl,"__esModule",{value:!0});var gw=yw(),vc=fs(),Vr=Nl(),ww=ec(),yc=wa(),RM=Wr(),Bw=rc(),CM=Jt(),Bt=va(),zt=ve(),lt=ma(),NM={network:CM.bitcoin,maximumFeeRate:5e3},ao=class{constructor(e={},r=new gw.Psbt(new gc)){this.data=r,this.opts=Object.assign({},NM,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);let n=(i,s,o,a)=>Object.defineProperty(i,s,{enumerable:o,writable:a});n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}static fromBase64(e,r={}){let n=g.Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r={}){let n=g.Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r={}){let n=gw.Psbt.fromBuffer(e,UM),i=new ao(r,n);return zM(i.__CACHE.__TX,i.__CACHE),i}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map(e=>({hash:yc.cloneBuffer(e.hash),index:e.index,sequence:e.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(e=>{let r;try{r=ww.fromOutputScript(e.script,this.opts.network)}catch{}return{script:yc.cloneBuffer(e.script),value:e.value,address:r}})}combine(...e){return this.data.combine(...e.map(r=>r.data)),this}clone(){let e=ao.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){bc(e),this.opts.maximumFeeRate=e}setVersion(e){bc(e),Ia(this.data.inputs,"setVersion");let r=this.__CACHE;return r.__TX.version=e,r.__EXTRACTED_TX=void 0,this}setLocktime(e){bc(e),Ia(this.data.inputs,"setLocktime");let r=this.__CACHE;return r.__TX.locktime=e,r.__EXTRACTED_TX=void 0,this}setInputSequence(e,r){bc(r),Ia(this.data.inputs,"setInputSequence");let n=this.__CACHE;if(n.__TX.ins.length<=e)throw new Error("Input index too high");return n.__TX.ins[e].sequence=r,n.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach(r=>this.addInput(r)),this}addInput(e){if(arguments.length>1||!e||e.hash===void 0||e.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");Ia(this.data.inputs,"addInput"),e.witnessScript&&wc(e.witnessScript);let r=this.__CACHE;this.data.addInput(e);let n=r.__TX.ins[r.__TX.ins.length-1];qw(r,n);let i=this.data.inputs.length-1,s=this.data.inputs[i];return s.nonWitnessUtxo&&Fl(this.__CACHE,s,i),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach(r=>this.addOutput(r)),this}addOutput(e){if(arguments.length>1||!e||e.value===void 0||e.address===void 0&&e.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");Ia(this.data.inputs,"addOutput");let{address:r}=e;if(typeof r=="string"){let{network:i}=this.opts,s=ww.toOutputScript(r,i);e=Object.assign(e,{script:s})}let n=this.__CACHE;return this.data.addOutput(e),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(Pw))throw new Error("Not finalized");let r=this.__CACHE;if(e||KM(this,r,this.opts),r.__EXTRACTED_TX)return r.__EXTRACTED_TX;let n=r.__TX.clone();return Uw(this.data.inputs,n,r,!0),n}getFeeRate(){return Aw("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return Aw("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return Vr.checkForInput(this.data.inputs,0),Ta(this.data.inputs.length).forEach(e=>this.finalizeInput(e)),this}finalizeInput(e,r=VM){let n=Vr.checkForInput(this.data.inputs,e),{script:i,isP2SH:s,isP2WSH:o,isSegwit:a}=$M(e,n,this.__CACHE);if(!i)throw new Error(`No script found for input #${e}`);jM(n);let{finalScriptSig:f,finalScriptWitness:c}=r(e,n,i,a,s,o);if(f&&this.data.updateInput(e,{finalScriptSig:f}),c&&this.data.updateInput(e,{finalScriptWitness:c}),!f&&!c)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}getInputType(e){let r=Vr.checkForInput(this.data.inputs,e),n=Dw(e,r,this.__CACHE),i=xc(n,e,"input",r.redeemScript||tq(r.finalScriptSig),r.witnessScript||rq(r.finalScriptWitness)),s=i.type==="raw"?"":i.type+"-",o=Hw(i.meaningfulScript);return s+o}inputHasPubkey(e,r){let n=Vr.checkForInput(this.data.inputs,e);return QM(r,n,e,this.__CACHE)}inputHasHDKey(e,r){let n=Vr.checkForInput(this.data.inputs,e),i=xw(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}outputHasPubkey(e,r){let n=Vr.checkForOutput(this.data.outputs,e);return eq(r,n,e,this.__CACHE)}outputHasHDKey(e,r){let n=Vr.checkForOutput(this.data.outputs,e),i=xw(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}validateSignaturesOfAllInputs(){return Vr.checkForInput(this.data.inputs,0),Ta(this.data.inputs.length).map(r=>this.validateSignaturesOfInput(r)).reduce((r,n)=>n===!0&&r,!0)}validateSignaturesOfInput(e,r){let n=this.data.inputs[e],i=(n||{}).partialSig;if(!n||!i||i.length<1)throw new Error("No signatures to validate");let s=r?i.filter(m=>m.pubkey.equals(r)):i;if(s.length<1)throw new Error("No signatures for this pubkey");let o=[],a,f,c;for(let m of s){let v=zt.signature.decode(m.signature),{hash:x,script:I}=c!==v.hashType?Cw(e,Object.assign({},n,{sighashType:v.hashType}),this.__CACHE,!0):{hash:a,script:f};c=v.hashType,a=x,f=I,Mw(m.pubkey,I,"verify");let N=Bw.fromPublicKey(m.pubkey);o.push(N.verify(x,v.signature))}return o.every(m=>m===!0)}signAllInputsHD(e,r=[lt.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");let n=[];for(let i of Ta(this.data.inputs.length))try{this.signInputHD(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,r=[lt.Transaction.SIGHASH_ALL]){return new Promise((n,i)=>{if(!e||!e.publicKey||!e.fingerprint)return i(new Error("Need HDSigner to sign input"));let s=[],o=[];for(let a of Ta(this.data.inputs.length))o.push(this.signInputHDAsync(a,e,r).then(()=>{s.push(!0)},()=>{s.push(!1)}));return Promise.all(o).then(()=>{if(s.every(a=>a===!1))return i(new Error("No inputs were signed"));n()})})}signInputHD(e,r,n=[lt.Transaction.SIGHASH_ALL]){if(!r||!r.publicKey||!r.fingerprint)throw new Error("Need HDSigner to sign input");return Tw(e,this.data.inputs,r).forEach(s=>this.signInput(e,s,n)),this}signInputHDAsync(e,r,n=[lt.Transaction.SIGHASH_ALL]){return new Promise((i,s)=>{if(!r||!r.publicKey||!r.fingerprint)return s(new Error("Need HDSigner to sign input"));let a=Tw(e,this.data.inputs,r).map(f=>this.signInputAsync(e,f,n));return Promise.all(a).then(()=>{i()}).catch(s)})}signAllInputs(e,r=[lt.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");let n=[];for(let i of Ta(this.data.inputs.length))try{this.signInput(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,r=[lt.Transaction.SIGHASH_ALL]){return new Promise((n,i)=>{if(!e||!e.publicKey)return i(new Error("Need Signer to sign input"));let s=[],o=[];for(let[a]of this.data.inputs.entries())o.push(this.signInputAsync(a,e,r).then(()=>{s.push(!0)},()=>{s.push(!1)}));return Promise.all(o).then(()=>{if(s.every(a=>a===!1))return i(new Error("No inputs were signed"));n()})})}signInput(e,r,n=[lt.Transaction.SIGHASH_ALL]){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let{hash:i,sighashType:s}=Iw(this.data.inputs,e,r.publicKey,this.__CACHE,n),o=[{pubkey:r.publicKey,signature:zt.signature.encode(r.sign(i),s)}];return this.data.updateInput(e,{partialSig:o}),this}signInputAsync(e,r,n=[lt.Transaction.SIGHASH_ALL]){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let{hash:i,sighashType:s}=Iw(this.data.inputs,e,r.publicKey,this.__CACHE,n);return Promise.resolve(r.sign(i)).then(o=>{let a=[{pubkey:r.publicKey,signature:zt.signature.encode(o,s)}];this.data.updateInput(e,{partialSig:a})})})}toBuffer(){return Hl(this.__CACHE),this.data.toBuffer()}toHex(){return Hl(this.__CACHE),this.data.toHex()}toBase64(){return Hl(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,r){return r.witnessScript&&wc(r.witnessScript),this.data.updateInput(e,r),r.nonWitnessUtxo&&Fl(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,r){return this.data.updateOutput(e,r),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,r){return this.data.addUnknownKeyValToInput(e,r),this}addUnknownKeyValToOutput(e,r){return this.data.addUnknownKeyValToOutput(e,r),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}};jl.Psbt=ao;var UM=t=>new gc(t),gc=class{constructor(e=g.Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=lt.Transaction.fromBuffer(e),WM(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(e.hash===void 0||e.index===void 0||!g.Buffer.isBuffer(e.hash)&&typeof e.hash!="string"||typeof e.index!="number")throw new Error("Error adding input.");let r=typeof e.hash=="string"?yc.reverseBuffer(g.Buffer.from(e.hash,"hex")):e.hash;this.tx.addInput(r,e.index,e.sequence)}addOutput(e){if(e.script===void 0||e.value===void 0||!g.Buffer.isBuffer(e.script)||typeof e.value!="number")throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}};function DM(t,e,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return mw(1,t.partialSig);case"multisig":let n=Bt.p2ms({output:e});return mw(n.m,t.partialSig,n.pubkeys);default:return!1}}function Hl(t){if(t.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}function mw(t,e,r){if(!e)return!1;let n;if(r?n=r.map(i=>{let s=Bw.fromPublicKey(i,{compressed:!0}).publicKey;return e.find(o=>o.pubkey.equals(s))}).filter(i=>!!i):n=e,n.length>t)throw new Error("Too many signatures");return n.length===t}function Pw(t){return!!t.finalScriptSig||!!t.finalScriptWitness}function fo(t){return e=>{try{return t({output:e}),!0}catch{return!1}}}var LM=fo(Bt.p2ms),HM=fo(Bt.p2pk),FM=fo(Bt.p2pkh),mc=fo(Bt.p2wpkh),_w=fo(Bt.p2wsh),Ow=fo(Bt.p2sh);function xw(t){return e=>!(!e.masterFingerprint.equals(t.fingerprint)||!t.derivePath(e.path).publicKey.equals(e.pubkey))}function bc(t){if(typeof t!="number"||t!==Math.floor(t)||t>4294967295||t<0)throw new Error("Invalid 32 bit integer")}function KM(t,e,r){let n=e.__FEE_RATE||t.getFeeRate(),i=e.__EXTRACTED_TX.virtualSize(),s=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(s/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function Ia(t,e){t.forEach(r=>{let n=!1,i=[];if((r.partialSig||[]).length===0){if(!r.finalScriptSig&&!r.finalScriptWitness)return;i=YM(r)}else i=r.partialSig;if(i.forEach(s=>{let{hashType:o}=zt.signature.decode(s.signature),a=[];switch(o&lt.Transaction.SIGHASH_ANYONECANPAY&&a.push("addInput"),o&31){case lt.Transaction.SIGHASH_ALL:break;case lt.Transaction.SIGHASH_SINGLE:case lt.Transaction.SIGHASH_NONE:a.push("addOutput"),a.push("setInputSequence");break}a.indexOf(e)===-1&&(n=!0)}),n)throw new Error("Can not modify transaction, signatures exist.")})}function jM(t){if(!t.sighashType||!t.partialSig)return;let{partialSig:e,sighashType:r}=t;e.forEach(n=>{let{hashType:i}=zt.signature.decode(n.signature);if(r!==i)throw new Error("Signature sighash does not match input sighash type")})}function Mw(t,e,r){if(!Kl(t,e))throw new Error(`Can not ${r} for this input with the key ${t.toString("hex")}`)}function WM(t){if(!t.ins.every(r=>r.script&&r.script.length===0&&r.witness&&r.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function zM(t,e){t.ins.forEach(r=>{qw(e,r)})}function qw(t,e){let r=yc.reverseBuffer(g.Buffer.from(e.hash)).toString("hex")+":"+e.index;if(t.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");t.__TX_IN_CACHE[r]=1}function Rw(t,e){return(r,n,i,s)=>{let o=t({redeem:{output:i}}).output;if(!n.equals(o))throw new Error(`${e} for ${s} #${r} doesn't match the scriptPubKey in the prevout`)}}var Ew=Rw(Bt.p2sh,"Redeem script"),Sw=Rw(Bt.p2wsh,"Witness script");function Aw(t,e,r,n){if(!r.every(Pw))throw new Error(`PSBT must be finalized to calculate ${e}`);if(t==="__FEE_RATE"&&n.__FEE_RATE)return n.__FEE_RATE;if(t==="__FEE"&&n.__FEE)return n.__FEE;let i,s=!0;if(n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,s=!1):i=n.__TX.clone(),Uw(r,i,n,s),t==="__FEE_RATE")return n.__FEE_RATE;if(t==="__FEE")return n.__FEE}function VM(t,e,r,n,i,s){let o=Hw(r);if(!DM(e,r,o))throw new Error(`Can not finalize input #${t}`);return GM(r,o,e.partialSig,n,i,s)}function GM(t,e,r,n,i,s){let o,a,f=XM(t,e,r),c=s?Bt.p2wsh({redeem:f}):null,m=i?Bt.p2sh({redeem:c||f}):null;return n?(c?a=kw(c.witness):a=kw(f.witness),m&&(o=m.input)):m?o=m.input:o=f.input,{finalScriptSig:o,finalScriptWitness:a}}function Iw(t,e,r,n,i){let s=Vr.checkForInput(t,e),{hash:o,sighashType:a,script:f}=Cw(e,s,n,!1,i);return Mw(r,f,"sign"),{hash:o,sighashType:a}}function Cw(t,e,r,n,i){let s=r.__TX,o=e.sighashType||lt.Transaction.SIGHASH_ALL;if(i&&i.indexOf(o)<0){let v=ZM(o);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${v}`)}let a,f;if(e.nonWitnessUtxo){let v=_c(r,e,t),x=s.ins[t].hash,I=v.getHash();if(!x.equals(I))throw new Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);let N=s.ins[t].index;f=v.outs[N]}else if(e.witnessUtxo)f=e.witnessUtxo;else throw new Error("Need a Utxo input item for signing");let{meaningfulScript:c,type:m}=xc(f.script,t,"input",e.redeemScript,e.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(m)>=0)a=s.hashForWitnessV0(t,c,f.value,o);else if(mc(c)){let v=Bt.p2pkh({hash:c.slice(2)}).output;a=s.hashForWitnessV0(t,v,f.value,o)}else{if(e.nonWitnessUtxo===void 0&&r.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${t} has witnessUtxo but non-segwit script: ${c.toString("hex")}`);!n&&r.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as the old TransactionBuilder class when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),a=s.hashForSignature(t,c,o)}return{script:c,sighashType:o,hash:a}}function XM(t,e,r){let n;switch(e){case"multisig":let i=JM(t,r);n=Bt.p2ms({output:t,signatures:i});break;case"pubkey":n=Bt.p2pk({output:t,signature:r[0].signature});break;case"pubkeyhash":n=Bt.p2pkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=Bt.p2wpkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break}return n}function YM(t){let e=t.finalScriptSig?zt.decompile(t.finalScriptSig)||[]:[],r=t.finalScriptWitness?zt.decompile(t.finalScriptWitness)||[]:[];return e.concat(r).filter(n=>g.Buffer.isBuffer(n)&&zt.isCanonicalScriptSignature(n)).map(n=>({signature:n}))}function $M(t,e,r){let n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!e.redeemScript,i.isP2WSH=!!e.witnessScript,e.witnessScript)i.script=e.witnessScript;else if(e.redeemScript)i.script=e.redeemScript;else if(e.nonWitnessUtxo){let s=_c(r,e,t),o=n.ins[t].index;i.script=s.outs[o].script}else e.witnessUtxo&&(i.script=e.witnessUtxo.script);return(e.witnessScript||mc(i.script))&&(i.isSegwit=!0),i}function Tw(t,e,r){let n=Vr.checkForInput(e,t);if(!n.bip32Derivation||n.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");let i=n.bip32Derivation.map(o=>{if(o.masterFingerprint.equals(r.fingerprint))return o}).filter(o=>!!o);if(i.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map(o=>{let a=r.derivePath(o.path);if(!o.pubkey.equals(a.publicKey))throw new Error("pubkey did not match bip32Derivation");return a})}function JM(t,e){return Bt.p2ms({output:t}).pubkeys.map(n=>(e.filter(i=>i.pubkey.equals(n))[0]||{}).signature).filter(n=>!!n)}function Nw(t){let e=0;function r(o){return e+=o,t.slice(e-o,e)}function n(){let o=vc.decode(t,e);return e+=vc.decode.bytes,o}function i(){return r(n())}function s(){let o=n(),a=[];for(let f=0;f<o;f++)a.push(i());return a}return s()}function ZM(t){let e=t&lt.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(t&31){case lt.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case lt.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case lt.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE";break}return e}function kw(t){let e=g.Buffer.allocUnsafe(0);function r(o){e=g.Buffer.concat([e,g.Buffer.from(o)])}function n(o){let a=e.length,f=vc.encodingLength(o);e=g.Buffer.concat([e,g.Buffer.allocUnsafe(f)]),vc.encode(o,e,a)}function i(o){n(o.length),r(o)}function s(o){n(o.length),o.forEach(i)}return s(t),e}function Fl(t,e,r){t.__NON_WITNESS_UTXO_BUF_CACHE[r]=e.nonWitnessUtxo;let n=lt.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[r]=n;let i=t,s=r;delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get(){let o=i.__NON_WITNESS_UTXO_BUF_CACHE[s],a=i.__NON_WITNESS_UTXO_TX_CACHE[s];if(o!==void 0)return o;{let f=a.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[s]=f,f}},set(o){i.__NON_WITNESS_UTXO_BUF_CACHE[s]=o}})}function Uw(t,e,r,n){let i=0;t.forEach((f,c)=>{if(n&&f.finalScriptSig&&(e.ins[c].script=f.finalScriptSig),n&&f.finalScriptWitness&&(e.ins[c].witness=Nw(f.finalScriptWitness)),f.witnessUtxo)i+=f.witnessUtxo.value;else if(f.nonWitnessUtxo){let m=_c(r,f,c),v=e.ins[c].index;i+=m.outs[v].value}});let s=e.outs.reduce((f,c)=>f+c.value,0),o=i-s;if(o<0)throw new Error("Outputs are spending more than Inputs");let a=e.virtualSize();r.__FEE=o,r.__EXTRACTED_TX=e,r.__FEE_RATE=Math.floor(o/a)}function _c(t,e,r){let n=t.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||Fl(t,e,r),n[r]}function Dw(t,e,r){if(e.witnessUtxo!==void 0)return e.witnessUtxo.script;if(e.nonWitnessUtxo!==void 0)return _c(r,e,t).outs[r.__TX.ins[t].index].script;throw new Error("Can't find pubkey in input without Utxo data")}function QM(t,e,r,n){let i=Dw(r,e,n),{meaningfulScript:s}=xc(i,r,"input",e.redeemScript,e.witnessScript);return Kl(t,s)}function eq(t,e,r,n){let i=n.__TX.outs[r].script,{meaningfulScript:s}=xc(i,r,"output",e.redeemScript,e.witnessScript);return Kl(t,s)}function tq(t){if(!t)return;let e=zt.decompile(t);if(!e)return;let r=e[e.length-1];if(!(!g.Buffer.isBuffer(r)||Lw(r)||nq(r)||!zt.decompile(r)))return r}function rq(t){if(!t)return;let e=Nw(t),r=e[e.length-1];if(!(Lw(r)||!zt.decompile(r)))return r}function Lw(t){return t.length===33&&zt.isCanonicalPubKey(t)}function nq(t){return zt.isCanonicalScriptSignature(t)}function xc(t,e,r,n,i){let s=Ow(t),o=s&&n&&_w(n),a=_w(t);if(s&&n===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((a||o)&&i===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let f;return o?(f=i,Ew(e,t,n,r),Sw(e,n,i,r),wc(f)):a?(f=i,Sw(e,t,i,r),wc(f)):s?(f=n,Ew(e,t,n,r)):f=t,{meaningfulScript:f,type:o?"p2sh-p2wsh":s?"p2sh":a?"p2wsh":"raw"}}function wc(t){if(mc(t)||Ow(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function Kl(t,e){let r=RM.hash160(t),n=zt.decompile(e);if(n===null)throw new Error("Unknown script error");return n.some(i=>typeof i=="number"?!1:i.equals(t)||i.equals(r))}function Hw(t){return mc(t)?"witnesspubkeyhash":FM(t)?"pubkeyhash":LM(t)?"multisig":HM(t)?"pubkey":"nonstandard"}function Ta(t){return[...Array(t).keys()]}});var Ww=M(zl=>{"use strict";p();b();Object.defineProperty(zl,"__esModule",{value:!0});var Wl=ve(),Kw=ve();function iq(t){return t===Kw.OPS.OP_0||Wl.isCanonicalScriptSignature(t)}function jw(t,e){let r=Wl.decompile(t);return r.length<2||r[0]!==Kw.OPS.OP_0?!1:e?r.slice(1).every(iq):r.slice(1).every(Wl.isCanonicalScriptSignature)}zl.check=jw;jw.toJSON=()=>"multisig input"});var $w=M(Vl=>{"use strict";p();b();Object.defineProperty(Vl,"__esModule",{value:!0});var zw=ve(),Xw=ve(),Vw=Er(),Gw=Xw.OPS.OP_RESERVED;function Yw(t,e){let r=zw.decompile(t);if(r.length<4||r[r.length-1]!==Xw.OPS.OP_CHECKMULTISIG||!Vw.Number(r[0])||!Vw.Number(r[r.length-2]))return!1;let n=r[0]-Gw,i=r[r.length-2]-Gw;return n<=0||i>16||n>i||i!==r.length-3?!1:e?!0:r.slice(1,-2).every(zw.isCanonicalPubKey)}Vl.check=Yw;Yw.toJSON=()=>"multi-sig output"});var Sc=M(Ec=>{"use strict";p();b();Object.defineProperty(Ec,"__esModule",{value:!0});var sq=Ww();Ec.input=sq;var oq=$w();Ec.output=oq});var Zw=M(Ac=>{"use strict";p();b();Object.defineProperty(Ac,"__esModule",{value:!0});var Jw=ve(),aq=Jw.OPS;function Gl(t){let e=Jw.compile(t);return e.length>1&&e[0]===aq.OP_RETURN}Ac.check=Gl;Gl.toJSON=()=>"null data output";var fq={check:Gl};Ac.output=fq});var t5=M(Xl=>{"use strict";p();b();Object.defineProperty(Xl,"__esModule",{value:!0});var Qw=ve();function e5(t){let e=Qw.decompile(t);return e.length===1&&Qw.isCanonicalScriptSignature(e[0])}Xl.check=e5;e5.toJSON=()=>"pubKey input"});var i5=M(Yl=>{"use strict";p();b();Object.defineProperty(Yl,"__esModule",{value:!0});var r5=ve(),uq=ve();function n5(t){let e=r5.decompile(t);return e.length===2&&r5.isCanonicalPubKey(e[0])&&e[1]===uq.OPS.OP_CHECKSIG}Yl.check=n5;n5.toJSON=()=>"pubKey output"});var Tc=M(Ic=>{"use strict";p();b();Object.defineProperty(Ic,"__esModule",{value:!0});var cq=t5();Ic.input=cq;var hq=i5();Ic.output=hq});var o5=M(Jl=>{"use strict";p();b();Object.defineProperty(Jl,"__esModule",{value:!0});var $l=ve();function s5(t){let e=$l.decompile(t);return e.length===2&&$l.isCanonicalScriptSignature(e[0])&&$l.isCanonicalPubKey(e[1])}Jl.check=s5;s5.toJSON=()=>"pubKeyHash input"});var f5=M(Zl=>{"use strict";p();b();Object.defineProperty(Zl,"__esModule",{value:!0});var dq=ve(),kc=ve();function a5(t){let e=dq.compile(t);return e.length===25&&e[0]===kc.OPS.OP_DUP&&e[1]===kc.OPS.OP_HASH160&&e[2]===20&&e[23]===kc.OPS.OP_EQUALVERIFY&&e[24]===kc.OPS.OP_CHECKSIG}Zl.check=a5;a5.toJSON=()=>"pubKeyHash output"});var Pc=M(Bc=>{"use strict";p();b();Object.defineProperty(Bc,"__esModule",{value:!0});var lq=o5();Bc.input=lq;var pq=f5();Bc.output=pq});var ep=M(Ql=>{"use strict";p();b();Object.defineProperty(Ql,"__esModule",{value:!0});var bq=ve(),vq=ve();function u5(t){let e=bq.compile(t);return e.length===22&&e[0]===vq.OPS.OP_0&&e[1]===20}Ql.check=u5;u5.toJSON=()=>"Witness pubKeyHash output"});var rp=M(tp=>{"use strict";p();b();Object.defineProperty(tp,"__esModule",{value:!0});var yq=ve(),gq=ve();function c5(t){let e=yq.compile(t);return e.length===34&&e[0]===gq.OPS.OP_0&&e[1]===32}tp.check=c5;c5.toJSON=()=>"Witness scriptHash output"});var b5=M(np=>{"use strict";p();b();Object.defineProperty(np,"__esModule",{value:!0});var ka=ve(),h5=Sc(),d5=Tc(),l5=Pc(),wq=ep(),mq=rp();function p5(t,e){let r=ka.decompile(t);if(r.length<1)return!1;let n=r[r.length-1];if(!g.Buffer.isBuffer(n))return!1;let i=ka.decompile(ka.compile(r.slice(0,-1))),s=ka.decompile(n);return!s||!ka.isPushOnly(i)?!1:r.length===1?mq.check(s)||wq.check(s):!!(l5.input.check(i)&&l5.output.check(s)||h5.input.check(i,e)&&h5.output.check(s)||d5.input.check(i)&&d5.output.check(s))}np.check=p5;p5.toJSON=()=>"scriptHash input"});var g5=M(ip=>{"use strict";p();b();Object.defineProperty(ip,"__esModule",{value:!0});var _q=ve(),v5=ve();function y5(t){let e=_q.compile(t);return e.length===23&&e[0]===v5.OPS.OP_HASH160&&e[1]===20&&e[22]===v5.OPS.OP_EQUAL}ip.check=y5;y5.toJSON=()=>"scriptHash output"});var w5=M(Oc=>{"use strict";p();b();Object.defineProperty(Oc,"__esModule",{value:!0});var xq=b5();Oc.input=xq;var Eq=g5();Oc.output=Eq});var E5=M(Ba=>{"use strict";p();b();Object.defineProperty(Ba,"__esModule",{value:!0});var sp=ve(),m5=ve(),Sq=Er(),_5=ht(),x5=g.Buffer.from("aa21a9ed","hex");function op(t){let e=sp.compile(t);return e.length>37&&e[0]===m5.OPS.OP_RETURN&&e[1]===36&&e.slice(2,6).equals(x5)}Ba.check=op;op.toJSON=()=>"Witness commitment output";function Aq(t){_5(Sq.Hash256bit,t);let e=g.Buffer.allocUnsafe(36);return x5.copy(e,0),t.copy(e,4),sp.compile([m5.OPS.OP_RETURN,e])}Ba.encode=Aq;function Iq(t){return _5(op,t),sp.decompile(t)[1].slice(4,36)}Ba.decode=Iq});var S5=M(ap=>{"use strict";p();b();Object.defineProperty(ap,"__esModule",{value:!0});var Tq=E5();ap.output=Tq});var I5=M(up=>{"use strict";p();b();Object.defineProperty(up,"__esModule",{value:!0});var fp=ve();function kq(t){return fp.isCanonicalPubKey(t)&&t.length===33}function A5(t){let e=fp.decompile(t);return e.length===2&&fp.isCanonicalScriptSignature(e[0])&&kq(e[1])}up.check=A5;A5.toJSON=()=>"witnessPubKeyHash input"});var T5=M(Mc=>{"use strict";p();b();Object.defineProperty(Mc,"__esModule",{value:!0});var Bq=I5();Mc.input=Bq;var Pq=ep();Mc.output=Pq});var R5=M(cp=>{"use strict";p();b();Object.defineProperty(cp,"__esModule",{value:!0});var k5=ve(),B5=ht(),P5=Sc(),O5=Tc(),M5=Pc();function q5(t,e){if(B5(B5.Array,t),t.length<1)return!1;let r=t[t.length-1];if(!g.Buffer.isBuffer(r))return!1;let n=k5.decompile(r);if(!n||n.length===0)return!1;let i=k5.compile(t.slice(0,-1));return!!(M5.input.check(i)&&M5.output.check(n)||P5.input.check(i,e)&&P5.output.check(n)||O5.input.check(i)&&O5.output.check(n))}cp.check=q5;q5.toJSON=()=>"witnessScriptHash input"});var C5=M(qc=>{"use strict";p();b();Object.defineProperty(qc,"__esModule",{value:!0});var Oq=R5();qc.input=Oq;var Mq=rp();qc.output=Mq});var K5=M(uo=>{"use strict";p();b();Object.defineProperty(uo,"__esModule",{value:!0});var hp=ve(),N5=Sc(),qq=Zw(),U5=Tc(),D5=Pc(),L5=w5(),Rq=S5(),H5=T5(),F5=C5(),mt={P2MS:"multisig",NONSTANDARD:"nonstandard",NULLDATA:"nulldata",P2PK:"pubkey",P2PKH:"pubkeyhash",P2SH:"scripthash",P2WPKH:"witnesspubkeyhash",P2WSH:"witnessscripthash",WITNESS_COMMITMENT:"witnesscommitment"};uo.types=mt;function Cq(t){if(H5.output.check(t))return mt.P2WPKH;if(F5.output.check(t))return mt.P2WSH;if(D5.output.check(t))return mt.P2PKH;if(L5.output.check(t))return mt.P2SH;let e=hp.decompile(t);if(!e)throw new TypeError("Invalid script");return N5.output.check(e)?mt.P2MS:U5.output.check(e)?mt.P2PK:Rq.output.check(e)?mt.WITNESS_COMMITMENT:qq.output.check(e)?mt.NULLDATA:mt.NONSTANDARD}uo.output=Cq;function Nq(t,e){let r=hp.decompile(t);if(!r)throw new TypeError("Invalid script");return D5.input.check(r)?mt.P2PKH:L5.input.check(r,e)?mt.P2SH:N5.input.check(r,e)?mt.P2MS:U5.input.check(r)?mt.P2PK:mt.NONSTANDARD}uo.input=Nq;function Uq(t,e){let r=hp.decompile(t);if(!r)throw new TypeError("Invalid script");return H5.input.check(r)?mt.P2WPKH:F5.input.check(r,e)?mt.P2WSH:mt.NONSTANDARD}uo.witness=Uq});var W5=M(bp=>{"use strict";p();b();Object.defineProperty(bp,"__esModule",{value:!0});var Dq=ec(),Lq=wa(),hs=K5(),j5=Wr(),Hq=rc(),Fq=Jt(),Me=va(),ds=ve(),Kq=ve(),Tn=ma(),kn=Er(),Ee=ht(),ue=hs.types,jq=new Set(["p2pkh","p2pk","p2wpkh","p2ms","p2sh-p2pkh","p2sh-p2pk","p2sh-p2wpkh","p2sh-p2ms","p2wsh-p2pkh","p2wsh-p2pk","p2wsh-p2ms","p2sh-p2wsh-p2pkh","p2sh-p2wsh-p2pk","p2sh-p2wsh-p2ms"]);function Oe(t,e,r){try{Ee(t,e)}catch{throw new Error(r)}}function Wq(t){return typeof t=="string"||t instanceof String}function zq(t){return t instanceof Tn.Transaction}var Oa=class{constructor(e=Fq.bitcoin,r=2500){this.network=e,this.maximumFeeRate=r,this.__PREV_TX_SET={},this.__INPUTS=[],this.__TX=new Tn.Transaction,this.__TX.version=2,this.__USE_LOW_R=!1,console.warn("Deprecation Warning: TransactionBuilder will be removed in the future. (v6.x.x or later) Please use the Psbt class instead. Examples of usage are available in the transactions-psbt.js integration test file on our Github. A high level explanation is available in the psbt.ts and psbt.js files as well.")}static fromTransaction(e,r){let n=new Oa(r);return n.setVersion(e.version),n.setLockTime(e.locktime),e.outs.forEach(i=>{n.addOutput(i.script,i.value)}),e.ins.forEach(i=>{n.__addInputUnsafe(i.hash,i.index,{sequence:i.sequence,script:i.script,witness:i.witness})}),n.__INPUTS.forEach((i,s)=>{Vq(i,e,s)}),n}setLowR(e){return Ee(Ee.maybe(Ee.Boolean),e),e===void 0&&(e=!0),this.__USE_LOW_R=e,e}setLockTime(e){if(Ee(kn.UInt32,e),this.__INPUTS.some(r=>r.signatures?r.signatures.some(n=>n!==void 0):!1))throw new Error("No, this would invalidate signatures");this.__TX.locktime=e}setVersion(e){Ee(kn.UInt32,e),this.__TX.version=e}addInput(e,r,n,i){if(!this.__canModifyInputs())throw new Error("No, this would invalidate signatures");let s;if(Wq(e))e=Lq.reverseBuffer(g.Buffer.from(e,"hex"));else if(zq(e)){let o=e.outs[r];i=o.script,s=o.value,e=e.getHash(!1)}return this.__addInputUnsafe(e,r,{sequence:n,prevOutScript:i,value:s})}addOutput(e,r){if(!this.__canModifyOutputs())throw new Error("No, this would invalidate signatures");return typeof e=="string"&&(e=Dq.toOutputScript(e,this.network)),this.__TX.addOutput(e,r)}build(){return this.__build(!1)}buildIncomplete(){return this.__build(!0)}sign(e,r,n,i,s,o){Yq($q(this.network,this.__INPUTS,this.__needsOutputs.bind(this),this.__TX,e,r,n,i,s,o,this.__USE_LOW_R))}__addInputUnsafe(e,r,n){if(Tn.Transaction.isCoinbaseHash(e))throw new Error("coinbase inputs not supported");let i=e.toString("hex")+":"+r;if(this.__PREV_TX_SET[i]!==void 0)throw new Error("Duplicate TxOut: "+i);let s={};if(n.script!==void 0&&(s=Rc(n.script,n.witness||[])),n.value!==void 0&&(s.value=n.value),!s.prevOutScript&&n.prevOutScript){let a;if(!s.pubkeys&&!s.signatures){let f=Pa(n.prevOutScript);f.pubkeys&&(s.pubkeys=f.pubkeys,s.signatures=f.signatures),a=f.type}s.prevOutScript=n.prevOutScript,s.prevOutType=a||hs.output(n.prevOutScript)}let o=this.__TX.addInput(e,r,n.sequence,n.scriptSig);return this.__INPUTS[o]=s,this.__PREV_TX_SET[i]=!0,o}__build(e){if(!e){if(!this.__TX.ins.length)throw new Error("Transaction has no inputs");if(!this.__TX.outs.length)throw new Error("Transaction has no outputs")}let r=this.__TX.clone();if(this.__INPUTS.forEach((n,i)=>{if(!n.prevOutType&&!e)throw new Error("Transaction is not complete");let s=pp(n.prevOutType,n,e);if(!s){if(!e&&n.prevOutType===ue.NONSTANDARD)throw new Error("Unknown input type");if(!e)throw new Error("Not enough information");return}r.setInputScript(i,s.input),r.setWitness(i,s.witness)}),!e&&this.__overMaximumFees(r.virtualSize()))throw new Error("Transaction has absurd fees");return r}__canModifyInputs(){return this.__INPUTS.every(e=>e.signatures?e.signatures.every(r=>r?(lp(r)&Tn.Transaction.SIGHASH_ANYONECANPAY)!==0:!0):!0)}__needsOutputs(e){return e===Tn.Transaction.SIGHASH_ALL?this.__TX.outs.length===0:this.__TX.outs.length===0&&this.__INPUTS.some(r=>r.signatures?r.signatures.some(n=>!(!n||lp(n)&Tn.Transaction.SIGHASH_NONE)):!1)}__canModifyOutputs(){let e=this.__TX.ins.length,r=this.__TX.outs.length;return this.__INPUTS.every(n=>n.signatures===void 0?!0:n.signatures.every(i=>{if(!i)return!0;let o=lp(i)&31;return o===Tn.Transaction.SIGHASH_NONE?!0:o===Tn.Transaction.SIGHASH_SINGLE?e<=r:!1}))}__overMaximumFees(e){let r=this.__INPUTS.reduce((o,a)=>o+(a.value>>>0),0),n=this.__TX.outs.reduce((o,a)=>o+a.value,0);return(r-n)/e>this.maximumFeeRate}};bp.TransactionBuilder=Oa;function Rc(t,e,r,n){if(t.length===0&&e.length===0)return{};if(!r){let i=hs.input(t,!0),s=hs.witness(e,!0);i===ue.NONSTANDARD&&(i=void 0),s===ue.NONSTANDARD&&(s=void 0),r=i||s}switch(r){case ue.P2WPKH:{let{output:i,pubkey:s,signature:o}=Me.p2wpkh({witness:e});return{prevOutScript:i,prevOutType:ue.P2WPKH,pubkeys:[s],signatures:[o]}}case ue.P2PKH:{let{output:i,pubkey:s,signature:o}=Me.p2pkh({input:t});return{prevOutScript:i,prevOutType:ue.P2PKH,pubkeys:[s],signatures:[o]}}case ue.P2PK:{let{signature:i}=Me.p2pk({input:t});return{prevOutType:ue.P2PK,pubkeys:[void 0],signatures:[i]}}case ue.P2MS:{let{m:i,pubkeys:s,signatures:o}=Me.p2ms({input:t,output:n},{allowIncomplete:!0});return{prevOutType:ue.P2MS,pubkeys:s,signatures:o,maxSignatures:i}}}if(r===ue.P2SH){let{output:i,redeem:s}=Me.p2sh({input:t,witness:e}),o=hs.output(s.output),a=Rc(s.input,s.witness,o,s.output);return a.prevOutType?{prevOutScript:i,prevOutType:ue.P2SH,redeemScript:s.output,redeemScriptType:a.prevOutType,witnessScript:a.witnessScript,witnessScriptType:a.witnessScriptType,pubkeys:a.pubkeys,signatures:a.signatures}:{}}if(r===ue.P2WSH){let{output:i,redeem:s}=Me.p2wsh({input:t,witness:e}),o=hs.output(s.output),a;return o===ue.P2WPKH?a=Rc(s.input,s.witness,o):a=Rc(ds.compile(s.witness),[],o,s.output),a.prevOutType?{prevOutScript:i,prevOutType:ue.P2WSH,witnessScript:s.output,witnessScriptType:a.prevOutType,pubkeys:a.pubkeys,signatures:a.signatures}:{}}return{prevOutType:ue.NONSTANDARD,prevOutScript:t}}function Vq(t,e,r){if(t.redeemScriptType!==ue.P2MS||!t.redeemScript||t.pubkeys.length===t.signatures.length)return;let n=t.signatures.concat();t.signatures=t.pubkeys.map(i=>{let s=Hq.fromPublicKey(i),o;return n.some((a,f)=>{if(!a)return!1;let c=ds.signature.decode(a),m=e.hashForSignature(r,t.redeemScript,c.hashType);return s.verify(m,c.signature)?(n[f]=void 0,o=a,!0):!1}),o})}function Pa(t,e){Ee(kn.Buffer,t);let r=hs.output(t);switch(r){case ue.P2PKH:{if(!e)return{type:r};let n=Me.p2pkh({output:t}).hash,i=j5.hash160(e);return n.equals(i)?{type:r,pubkeys:[e],signatures:[void 0]}:{type:r}}case ue.P2WPKH:{if(!e)return{type:r};let n=Me.p2wpkh({output:t}).hash,i=j5.hash160(e);return n.equals(i)?{type:r,pubkeys:[e],signatures:[void 0]}:{type:r}}case ue.P2PK:{let n=Me.p2pk({output:t});return{type:r,pubkeys:[n.pubkey],signatures:[void 0]}}case ue.P2MS:{let n=Me.p2ms({output:t});return{type:r,pubkeys:n.pubkeys,signatures:n.pubkeys.map(()=>{}),maxSignatures:n.m}}}return{type:r}}function Gq(t,e,r,n){if(r&&n){let s=Me.p2wsh({redeem:{output:n}}),o=Me.p2wsh({output:r}),a=Me.p2sh({redeem:{output:r}}),f=Me.p2sh({redeem:s});if(!s.hash.equals(o.hash))throw new Error("Witness script inconsistent with prevOutScript");if(!a.hash.equals(f.hash))throw new Error("Redeem script inconsistent with prevOutScript");let c=Pa(s.redeem.output,e);if(!c.pubkeys)throw new Error(c.type+" not supported as witnessScript ("+ds.toASM(n)+")");t.signatures&&t.signatures.some(v=>v!==void 0)&&(c.signatures=t.signatures);let m=n;if(c.type===ue.P2WPKH)throw new Error("P2SH(P2WSH(P2WPKH)) is a consensus failure");return{redeemScript:r,redeemScriptType:ue.P2WSH,witnessScript:n,witnessScriptType:c.type,prevOutType:ue.P2SH,prevOutScript:a.output,hasWitness:!0,signScript:m,signType:c.type,pubkeys:c.pubkeys,signatures:c.signatures,maxSignatures:c.maxSignatures}}if(r){let s=Me.p2sh({redeem:{output:r}});if(t.prevOutScript){let f;try{f=Me.p2sh({output:t.prevOutScript})}catch{throw new Error("PrevOutScript must be P2SH")}if(!s.hash.equals(f.hash))throw new Error("Redeem script inconsistent with prevOutScript")}let o=Pa(s.redeem.output,e);if(!o.pubkeys)throw new Error(o.type+" not supported as redeemScript ("+ds.toASM(r)+")");t.signatures&&t.signatures.some(f=>f!==void 0)&&(o.signatures=t.signatures);let a=r;return o.type===ue.P2WPKH&&(a=Me.p2pkh({pubkey:o.pubkeys[0]}).output),{redeemScript:r,redeemScriptType:o.type,prevOutType:ue.P2SH,prevOutScript:s.output,hasWitness:o.type===ue.P2WPKH,signScript:a,signType:o.type,pubkeys:o.pubkeys,signatures:o.signatures,maxSignatures:o.maxSignatures}}if(n){let s=Me.p2wsh({redeem:{output:n}});if(t.prevOutScript){let f=Me.p2wsh({output:t.prevOutScript});if(!s.hash.equals(f.hash))throw new Error("Witness script inconsistent with prevOutScript")}let o=Pa(s.redeem.output,e);if(!o.pubkeys)throw new Error(o.type+" not supported as witnessScript ("+ds.toASM(n)+")");t.signatures&&t.signatures.some(f=>f!==void 0)&&(o.signatures=t.signatures);let a=n;if(o.type===ue.P2WPKH)throw new Error("P2WSH(P2WPKH) is a consensus failure");return{witnessScript:n,witnessScriptType:o.type,prevOutType:ue.P2WSH,prevOutScript:s.output,hasWitness:!0,signScript:a,signType:o.type,pubkeys:o.pubkeys,signatures:o.signatures,maxSignatures:o.maxSignatures}}if(t.prevOutType&&t.prevOutScript){if(t.prevOutType===ue.P2SH)throw new Error("PrevOutScript is "+t.prevOutType+", requires redeemScript");if(t.prevOutType===ue.P2WSH)throw new Error("PrevOutScript is "+t.prevOutType+", requires witnessScript");if(!t.prevOutScript)throw new Error("PrevOutScript is missing");let s=Pa(t.prevOutScript,e);if(!s.pubkeys)throw new Error(s.type+" not supported ("+ds.toASM(t.prevOutScript)+")");t.signatures&&t.signatures.some(a=>a!==void 0)&&(s.signatures=t.signatures);let o=t.prevOutScript;return s.type===ue.P2WPKH&&(o=Me.p2pkh({pubkey:s.pubkeys[0]}).output),{prevOutType:s.type,prevOutScript:t.prevOutScript,hasWitness:s.type===ue.P2WPKH,signScript:o,signType:s.type,pubkeys:s.pubkeys,signatures:s.signatures,maxSignatures:s.maxSignatures}}let i=Me.p2pkh({pubkey:e}).output;return{prevOutType:ue.P2PKH,prevOutScript:i,hasWitness:!1,signScript:i,signType:ue.P2PKH,pubkeys:[e],signatures:[void 0]}}function pp(t,e,r){let n=e.pubkeys||[],i=e.signatures||[];switch(t){case ue.P2PKH:{if(n.length===0||i.length===0)break;return Me.p2pkh({pubkey:n[0],signature:i[0]})}case ue.P2WPKH:{if(n.length===0||i.length===0)break;return Me.p2wpkh({pubkey:n[0],signature:i[0]})}case ue.P2PK:{if(n.length===0||i.length===0)break;return Me.p2pk({signature:i[0]})}case ue.P2MS:{let s=e.maxSignatures;r?i=i.map(a=>a||Kq.OPS.OP_0):i=i.filter(a=>a);let o=!r||s===i.length;return Me.p2ms({m:s,pubkeys:n,signatures:i},{allowIncomplete:r,validate:o})}case ue.P2SH:{let s=pp(e.redeemScriptType,e,r);return s?Me.p2sh({redeem:{output:s.output||e.redeemScript,input:s.input,witness:s.witness}}):void 0}case ue.P2WSH:{let s=pp(e.witnessScriptType,e,r);return s?Me.p2wsh({redeem:{output:e.witnessScript,input:s.input,witness:s.witness}}):void 0}}}function dp(t){return t.signScript!==void 0&&t.signType!==void 0&&t.pubkeys!==void 0&&t.signatures!==void 0&&t.signatures.length===t.pubkeys.length&&t.pubkeys.length>0&&(t.hasWitness===!1||t.value!==void 0)}function lp(t){return t.readUInt8(t.length-1)}function Xq(t,e){if(!jq.has(e.prevOutScriptType))throw new TypeError(`Unknown prevOutScriptType "${e.prevOutScriptType}"`);Oe(Ee.Number,e.vin,"sign must include vin parameter as Number (input index)"),Oe(kn.Signer,e.keyPair,"sign must include keyPair parameter as Signer interface"),Oe(Ee.maybe(Ee.Number),e.hashType,"sign hashType parameter must be a number");let r=(t[e.vin]||[]).prevOutType,n=e.prevOutScriptType;switch(n){case"p2pkh":if(r&&r!=="pubkeyhash")throw new TypeError(`input #${e.vin} is not of type p2pkh: ${r}`);Oe(Ee.value(void 0),e.witnessScript,`${n} requires NO witnessScript`),Oe(Ee.value(void 0),e.redeemScript,`${n} requires NO redeemScript`),Oe(Ee.value(void 0),e.witnessValue,`${n} requires NO witnessValue`);break;case"p2pk":if(r&&r!=="pubkey")throw new TypeError(`input #${e.vin} is not of type p2pk: ${r}`);Oe(Ee.value(void 0),e.witnessScript,`${n} requires NO witnessScript`),Oe(Ee.value(void 0),e.redeemScript,`${n} requires NO redeemScript`),Oe(Ee.value(void 0),e.witnessValue,`${n} requires NO witnessValue`);break;case"p2wpkh":if(r&&r!=="witnesspubkeyhash")throw new TypeError(`input #${e.vin} is not of type p2wpkh: ${r}`);Oe(Ee.value(void 0),e.witnessScript,`${n} requires NO witnessScript`),Oe(Ee.value(void 0),e.redeemScript,`${n} requires NO redeemScript`),Oe(kn.Satoshi,e.witnessValue,`${n} requires witnessValue`);break;case"p2ms":if(r&&r!=="multisig")throw new TypeError(`input #${e.vin} is not of type p2ms: ${r}`);Oe(Ee.value(void 0),e.witnessScript,`${n} requires NO witnessScript`),Oe(Ee.value(void 0),e.redeemScript,`${n} requires NO redeemScript`),Oe(Ee.value(void 0),e.witnessValue,`${n} requires NO witnessValue`);break;case"p2sh-p2wpkh":if(r&&r!=="scripthash")throw new TypeError(`input #${e.vin} is not of type p2sh-p2wpkh: ${r}`);Oe(Ee.value(void 0),e.witnessScript,`${n} requires NO witnessScript`),Oe(Ee.Buffer,e.redeemScript,`${n} requires redeemScript`),Oe(kn.Satoshi,e.witnessValue,`${n} requires witnessValue`);break;case"p2sh-p2ms":case"p2sh-p2pk":case"p2sh-p2pkh":if(r&&r!=="scripthash")throw new TypeError(`input #${e.vin} is not of type ${n}: ${r}`);Oe(Ee.value(void 0),e.witnessScript,`${n} requires NO witnessScript`),Oe(Ee.Buffer,e.redeemScript,`${n} requires redeemScript`),Oe(Ee.value(void 0),e.witnessValue,`${n} requires NO witnessValue`);break;case"p2wsh-p2ms":case"p2wsh-p2pk":case"p2wsh-p2pkh":if(r&&r!=="witnessscripthash")throw new TypeError(`input #${e.vin} is not of type ${n}: ${r}`);Oe(Ee.Buffer,e.witnessScript,`${n} requires witnessScript`),Oe(Ee.value(void 0),e.redeemScript,`${n} requires NO redeemScript`),Oe(kn.Satoshi,e.witnessValue,`${n} requires witnessValue`);break;case"p2sh-p2wsh-p2ms":case"p2sh-p2wsh-p2pk":case"p2sh-p2wsh-p2pkh":if(r&&r!=="scripthash")throw new TypeError(`input #${e.vin} is not of type ${n}: ${r}`);Oe(Ee.Buffer,e.witnessScript,`${n} requires witnessScript`),Oe(Ee.Buffer,e.redeemScript,`${n} requires witnessScript`),Oe(kn.Satoshi,e.witnessValue,`${n} requires witnessScript`);break}}function Yq({input:t,ourPubKey:e,keyPair:r,signatureHash:n,hashType:i,useLowR:s}){let o=!1;for(let[a,f]of t.pubkeys.entries()){if(!e.equals(f))continue;if(t.signatures[a])throw new Error("Signature already exists");if(e.length!==33&&t.hasWitness)throw new Error("BIP143 rejects uncompressed public keys in P2WPKH or P2WSH");let c=r.sign(n,s);t.signatures[a]=ds.signature.encode(c,i),o=!0}if(!o)throw new Error("Key pair cannot sign for this input")}function $q(t,e,r,n,i,s,o,a,f,c,m){let v;if(typeof i=="number")console.warn("DEPRECATED: TransactionBuilder sign method arguments will change in v6, please use the TxbSignArg interface"),v=i;else if(typeof i=="object")Xq(e,i),{vin:v,keyPair:s,redeemScript:o,hashType:a,witnessValue:f,witnessScript:c}=i;else throw new TypeError("TransactionBuilder sign first arg must be TxbSignArg or number");if(s===void 0)throw new Error("sign requires keypair");if(s.network&&s.network!==t)throw new TypeError("Inconsistent network");if(!e[v])throw new Error("No input at index: "+v);if(a=a||Tn.Transaction.SIGHASH_ALL,r(a))throw new Error("Transaction needs outputs");let x=e[v];if(x.redeemScript!==void 0&&o&&!x.redeemScript.equals(o))throw new Error("Inconsistent redeemScript");let I=s.publicKey||s.getPublicKey&&s.getPublicKey();if(!dp(x)){if(f!==void 0){if(x.value!==void 0&&x.value!==f)throw new Error("Input did not match witnessValue");Ee(kn.Satoshi,f),x.value=f}if(!dp(x)){let F=Gq(x,I,o,c);Object.assign(x,F)}if(!dp(x))throw Error(x.prevOutType+" not supported")}let N;return x.hasWitness?N=n.hashForWitnessV0(v,x.signScript,x.value,a):N=n.hashForSignature(v,x.signScript,a),{input:x,ourPubKey:I,keyPair:s,signatureHash:N,hashType:a,useLowR:!!m}}});p();b();Object.defineProperty(exports,"__esModule",{value:!0});var Jq=t4();exports.bip32=Jq;var Zq=ec();exports.address=Zq;var Qq=Wr();exports.crypto=Qq;var eR=rc();exports.ECPair=eR;var tR=Jt();exports.networks=tR;var rR=va();exports.payments=rR;var nR=ve();exports.script=nR;var iR=p8();exports.Block=iR.Block;var sR=Fw();exports.Psbt=sR.Psbt;var oR=ve();exports.opcodes=oR.OPS;var aR=ma();exports.Transaction=aR.Transaction;var fR=W5();exports.TransactionBuilder=fR.TransactionBuilder;
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
if (typeof module.exports == "object" && typeof exports == "object") {
  var __cp = (to, from, except, desc) => {
    if ((from && typeof from === "object") || typeof from === "function") {
      for (let key of Object.getOwnPropertyNames(from)) {
        if (!Object.prototype.hasOwnProperty.call(to, key) && key !== except)
        Object.defineProperty(to, key, {
          get: () => from[key],
          enumerable: !(desc = Object.getOwnPropertyDescriptor(from, key)) || desc.enumerable,
        });
      }
    }
    return to;
  };
  module.exports = __cp(module.exports, exports);
}
return module.exports;
}))
