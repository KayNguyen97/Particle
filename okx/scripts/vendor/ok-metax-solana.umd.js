(function (g, f) {
    if ("object" == typeof exports && "object" == typeof module) {
      module.exports = f();
    } else if ("function" == typeof define && define.amd) {
      define("ok-metax-solana", [], f);
    } else if ("object" == typeof exports) {
      exports["ok-metax-solana"] = f();
    } else {
      g["ok-metax-solana"] = f();
    }
  }(this, () => {
var exports = {};
var module = { exports };
"use strict";var V0=Object.create;var ys=Object.defineProperty;var Y0=Object.getOwnPropertyDescriptor;var $0=Object.getOwnPropertyNames;var W0=Object.getPrototypeOf,G0=Object.prototype.hasOwnProperty;var ui=(r,e)=>()=>(r&&(e=r(r=0)),e);var G=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Pc=(r,e)=>{for(var t in e)ys(r,t,{get:e[t],enumerable:!0})},xc=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of $0(e))!G0.call(r,i)&&i!==t&&ys(r,i,{get:()=>e[i],enumerable:!(n=Y0(e,i))||n.enumerable});return r};var H0=(r,e,t)=>(t=r!=null?V0(W0(r)):{},xc(e||!r||!r.__esModule?ys(t,"default",{value:r,enumerable:!0}):t,r)),Oc=r=>xc(ys({},"__esModule",{value:!0}),r);function Uc(){throw new Error("setTimeout has not been defined")}function Cc(){throw new Error("clearTimeout has not been defined")}function Dc(r){if(wn===setTimeout)return setTimeout(r,0);if((wn===Uc||!wn)&&setTimeout)return wn=setTimeout,setTimeout(r,0);try{return wn(r,0)}catch{try{return wn.call(null,r,0)}catch{return wn.call(this,r,0)}}}function Z0(r){if(_n===clearTimeout)return clearTimeout(r);if((_n===Cc||!_n)&&clearTimeout)return _n=clearTimeout,clearTimeout(r);try{return _n(r)}catch{try{return _n.call(null,r)}catch{return _n.call(this,r)}}}function J0(){!Oi||!fi||(Oi=!1,fi.length?rn=fi.concat(rn):bs=-1,rn.length&&Rc())}function Rc(){if(!Oi){var r=Dc(J0);Oi=!0;for(var e=rn.length;e;){for(fi=rn,rn=[];++bs<e;)fi&&fi[bs].run();bs=-1,e=rn.length}fi=null,Oi=!1,Z0(r)}}function X0(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];rn.push(new Lc(r,e)),rn.length===1&&!Oi&&Dc(Rc)}function Lc(r,e){this.fun=r,this.array=e}function ci(){}function gp(r){throw new Error("process.binding is not supported")}function yp(){return"/"}function bp(r){throw new Error("process.chdir is not supported")}function mp(){return 0}function wp(r){var e=vp.call(xi)*.001,t=Math.floor(e),n=Math.floor(e%1*1e9);return r&&(t=t-r[0],n=n-r[1],n<0&&(t--,n+=1e9)),[t,n]}function Mp(){var r=new Date,e=r-_p;return e/1e3}var wn,_n,rn,Oi,fi,bs,Q0,ep,tp,rp,np,ip,op,sp,ap,up,fp,cp,lp,hp,dp,pp,xi,vp,_p,j,kc,B=ui(()=>{wn=Uc,_n=Cc;typeof globalThis.setTimeout=="function"&&(wn=setTimeout);typeof globalThis.clearTimeout=="function"&&(_n=clearTimeout);rn=[],Oi=!1,bs=-1;Lc.prototype.run=function(){this.fun.apply(null,this.array)};Q0="browser",ep="browser",tp=!0,rp={},np=[],ip="",op={},sp={},ap={};up=ci,fp=ci,cp=ci,lp=ci,hp=ci,dp=ci,pp=ci;xi=globalThis.performance||{},vp=xi.now||xi.mozNow||xi.msNow||xi.oNow||xi.webkitNow||function(){return new Date().getTime()};_p=new Date;j={nextTick:X0,title:Q0,browser:tp,env:rp,argv:np,version:ip,versions:op,on:up,addListener:fp,once:cp,off:lp,removeListener:hp,removeAllListeners:dp,emit:pp,binding:gp,cwd:yp,chdir:bp,umask:mp,hrtime:wp,platform:ep,release:sp,config:ap,uptime:Mp},kc={version:"2.99.0","env.PROJECT":"okxwallet-extension","env.NODE_ENV":"","env.SOURCEMAP":"","env.DEV_TARGET":"","env.APP_VERSION":"2.99.0","env.COMMIT_HASH":"fc3e","env.REDUX_DEVTOOLS":"","env.ASSETS_BUILD_TYPE":"publish"};Object.keys(kc).forEach(r=>{let e=r.split("."),t=j;for(let n=0;n<e.length;n++){let i=e[n];n===e.length-1?t[i]=kc[r]:t=t[i]||(t[i]={})}})});var qc=G((Fc,lu)=>{B();I();(function(r){typeof Fc=="object"&&typeof lu<"u"?lu.exports=r():typeof define=="function"&&define.amd?define([],r):(typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:this).buffer=r()})(function(){return function(){return function r(e,t,n){function i(S,w){if(!t[S]){if(!e[S]){var A=typeof require=="function"&&require;if(!w&&A)return A(S,!0);if(u)return u(S,!0);var R=new Error("Cannot find module '"+S+"'");throw R.code="MODULE_NOT_FOUND",R}var x=t[S]={exports:{}};e[S][0].call(x.exports,function(L){return i(e[S][1][L]||L)},x,x.exports,r,e,t,n)}return t[S].exports}for(var u=typeof require=="function"&&require,h=0;h<n.length;h++)i(n[h]);return i}}()({1:[function(r,e,t){"use strict";t.byteLength=function(x){var L=A(x),k=L[0],Y=L[1];return 3*(k+Y)/4-Y},t.toByteArray=function(x){var L,k,Y=A(x),z=Y[0],$=Y[1],H=new u(function(ue,Ze,ae){return 3*(Ze+ae)/4-ae}(0,z,$)),ie=0,Ke=$>0?z-4:z;for(k=0;k<Ke;k+=4)L=i[x.charCodeAt(k)]<<18|i[x.charCodeAt(k+1)]<<12|i[x.charCodeAt(k+2)]<<6|i[x.charCodeAt(k+3)],H[ie++]=L>>16&255,H[ie++]=L>>8&255,H[ie++]=255&L;return $===2&&(L=i[x.charCodeAt(k)]<<2|i[x.charCodeAt(k+1)]>>4,H[ie++]=255&L),$===1&&(L=i[x.charCodeAt(k)]<<10|i[x.charCodeAt(k+1)]<<4|i[x.charCodeAt(k+2)]>>2,H[ie++]=L>>8&255,H[ie++]=255&L),H},t.fromByteArray=function(x){for(var L,k=x.length,Y=k%3,z=[],$=0,H=k-Y;$<H;$+=16383)z.push(R(x,$,$+16383>H?H:$+16383));return Y===1?(L=x[k-1],z.push(n[L>>2]+n[L<<4&63]+"==")):Y===2&&(L=(x[k-2]<<8)+x[k-1],z.push(n[L>>10]+n[L>>4&63]+n[L<<2&63]+"=")),z.join("")};for(var n=[],i=[],u=typeof Uint8Array<"u"?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0,w=h.length;S<w;++S)n[S]=h[S],i[h.charCodeAt(S)]=S;function A(x){var L=x.length;if(L%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=x.indexOf("=");return k===-1&&(k=L),[k,k===L?0:4-k%4]}function R(x,L,k){for(var Y,z,$=[],H=L;H<k;H+=3)Y=(x[H]<<16&16711680)+(x[H+1]<<8&65280)+(255&x[H+2]),$.push(n[(z=Y)>>18&63]+n[z>>12&63]+n[z>>6&63]+n[63&z]);return $.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(r,e,t){(function(w){"use strict";var i=r("base64-js"),u=r("ieee754");t.Buffer=w,t.SlowBuffer=function(d){return+d!=d&&(d=0),w.alloc(+d)},t.INSPECT_MAX_BYTES=50;var h=2147483647;function S(d){if(d>h)throw new RangeError('The value "'+d+'" is invalid for option "size"');var v=new Uint8Array(d);return v.__proto__=w.prototype,v}function w(d,v,T){if(typeof d=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(d)}return A(d,v,T)}function A(d,v,T){if(typeof d=="string")return function(D,Q){if(typeof Q=="string"&&Q!==""||(Q="utf8"),!w.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);var X=0|Y(D,Q),te=S(X),De=te.write(D,Q);return De!==X&&(te=te.slice(0,De)),te}(d,v);if(ArrayBuffer.isView(d))return L(d);if(d==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);if(W(d,ArrayBuffer)||d&&W(d.buffer,ArrayBuffer))return function(D,Q,X){if(Q<0||D.byteLength<Q)throw new RangeError('"offset" is outside of buffer bounds');if(D.byteLength<Q+(X||0))throw new RangeError('"length" is outside of buffer bounds');var te;return te=Q===void 0&&X===void 0?new Uint8Array(D):X===void 0?new Uint8Array(D,Q):new Uint8Array(D,Q,X),te.__proto__=w.prototype,te}(d,v,T);if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var O=d.valueOf&&d.valueOf();if(O!=null&&O!==d)return w.from(O,v,T);var C=function(D){if(w.isBuffer(D)){var Q=0|k(D.length),X=S(Q);return X.length===0||D.copy(X,0,0,Q),X}if(D.length!==void 0)return typeof D.length!="number"||Z(D.length)?S(0):L(D);if(D.type==="Buffer"&&Array.isArray(D.data))return L(D.data)}(d);if(C)return C;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof d[Symbol.toPrimitive]=="function")return w.from(d[Symbol.toPrimitive]("string"),v,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d)}function R(d){if(typeof d!="number")throw new TypeError('"size" argument must be of type number');if(d<0)throw new RangeError('The value "'+d+'" is invalid for option "size"')}function x(d){return R(d),S(d<0?0:0|k(d))}function L(d){for(var v=d.length<0?0:0|k(d.length),T=S(v),O=0;O<v;O+=1)T[O]=255&d[O];return T}function k(d){if(d>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return 0|d}function Y(d,v){if(w.isBuffer(d))return d.length;if(ArrayBuffer.isView(d)||W(d,ArrayBuffer))return d.byteLength;if(typeof d!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof d);var T=d.length,O=arguments.length>2&&arguments[2]===!0;if(!O&&T===0)return 0;for(var C=!1;;)switch(v){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return s(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*T;case"hex":return T>>>1;case"base64":return y(d).length;default:if(C)return O?-1:s(d).length;v=(""+v).toLowerCase(),C=!0}}function z(d,v,T){var O=d[v];d[v]=d[T],d[T]=O}function $(d,v,T,O,C){if(d.length===0)return-1;if(typeof T=="string"?(O=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),Z(T=+T)&&(T=C?0:d.length-1),T<0&&(T=d.length+T),T>=d.length){if(C)return-1;T=d.length-1}else if(T<0){if(!C)return-1;T=0}if(typeof v=="string"&&(v=w.from(v,O)),w.isBuffer(v))return v.length===0?-1:H(d,v,T,O,C);if(typeof v=="number")return v&=255,typeof Uint8Array.prototype.indexOf=="function"?C?Uint8Array.prototype.indexOf.call(d,v,T):Uint8Array.prototype.lastIndexOf.call(d,v,T):H(d,[v],T,O,C);throw new TypeError("val must be string, number or Buffer")}function H(d,v,T,O,C){var D,Q=1,X=d.length,te=v.length;if(O!==void 0&&((O=String(O).toLowerCase())==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(d.length<2||v.length<2)return-1;Q=2,X/=2,te/=2,T/=2}function De(M,P){return Q===1?M[P]:M.readUInt16BE(P*Q)}if(C){var ee=-1;for(D=T;D<X;D++)if(De(d,D)===De(v,ee===-1?0:D-ee)){if(ee===-1&&(ee=D),D-ee+1===te)return ee*Q}else ee!==-1&&(D-=D-ee),ee=-1}else for(T+te>X&&(T=X-te),D=T;D>=0;D--){for(var c=!0,m=0;m<te;m++)if(De(d,D+m)!==De(v,m)){c=!1;break}if(c)return D}return-1}function ie(d,v,T,O){T=Number(T)||0;var C=d.length-T;O?(O=Number(O))>C&&(O=C):O=C;var D=v.length;O>D/2&&(O=D/2);for(var Q=0;Q<O;++Q){var X=parseInt(v.substr(2*Q,2),16);if(Z(X))return Q;d[T+Q]=X}return Q}function Ke(d,v,T,O){return V(s(v,d.length-T),d,T,O)}function ue(d,v,T,O){return V(function(C){for(var D=[],Q=0;Q<C.length;++Q)D.push(255&C.charCodeAt(Q));return D}(v),d,T,O)}function Ze(d,v,T,O){return ue(d,v,T,O)}function ae(d,v,T,O){return V(y(v),d,T,O)}function Ge(d,v,T,O){return V(function(C,D){for(var Q,X,te,De=[],ee=0;ee<C.length&&!((D-=2)<0);++ee)Q=C.charCodeAt(ee),X=Q>>8,te=Q%256,De.push(te),De.push(X);return De}(v,d.length-T),d,T,O)}function ht(d,v,T){return v===0&&T===d.length?i.fromByteArray(d):i.fromByteArray(d.slice(v,T))}function ar(d,v,T){T=Math.min(d.length,T);for(var O=[],C=v;C<T;){var D,Q,X,te,De=d[C],ee=null,c=De>239?4:De>223?3:De>191?2:1;if(C+c<=T)switch(c){case 1:De<128&&(ee=De);break;case 2:(192&(D=d[C+1]))==128&&(te=(31&De)<<6|63&D)>127&&(ee=te);break;case 3:D=d[C+1],Q=d[C+2],(192&D)==128&&(192&Q)==128&&(te=(15&De)<<12|(63&D)<<6|63&Q)>2047&&(te<55296||te>57343)&&(ee=te);break;case 4:D=d[C+1],Q=d[C+2],X=d[C+3],(192&D)==128&&(192&Q)==128&&(192&X)==128&&(te=(15&De)<<18|(63&D)<<12|(63&Q)<<6|63&X)>65535&&te<1114112&&(ee=te)}ee===null?(ee=65533,c=1):ee>65535&&(ee-=65536,O.push(ee>>>10&1023|55296),ee=56320|1023&ee),O.push(ee),C+=c}return function(m){var M=m.length;if(M<=Ht)return String.fromCharCode.apply(String,m);for(var P="",F=0;F<M;)P+=String.fromCharCode.apply(String,m.slice(F,F+=Ht));return P}(O)}t.kMaxLength=h,w.TYPED_ARRAY_SUPPORT=function(){try{var d=new Uint8Array(1);return d.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},d.foo()===42}catch{return!1}}(),w.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(w.prototype,"parent",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.buffer}}),Object.defineProperty(w.prototype,"offset",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&w[Symbol.species]===w&&Object.defineProperty(w,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),w.poolSize=8192,w.from=function(d,v,T){return A(d,v,T)},w.prototype.__proto__=Uint8Array.prototype,w.__proto__=Uint8Array,w.alloc=function(d,v,T){return function(O,C,D){return R(O),O<=0?S(O):C!==void 0?typeof D=="string"?S(O).fill(C,D):S(O).fill(C):S(O)}(d,v,T)},w.allocUnsafe=function(d){return x(d)},w.allocUnsafeSlow=function(d){return x(d)},w.isBuffer=function(d){return d!=null&&d._isBuffer===!0&&d!==w.prototype},w.compare=function(d,v){if(W(d,Uint8Array)&&(d=w.from(d,d.offset,d.byteLength)),W(v,Uint8Array)&&(v=w.from(v,v.offset,v.byteLength)),!w.isBuffer(d)||!w.isBuffer(v))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===v)return 0;for(var T=d.length,O=v.length,C=0,D=Math.min(T,O);C<D;++C)if(d[C]!==v[C]){T=d[C],O=v[C];break}return T<O?-1:O<T?1:0},w.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(d,v){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return w.alloc(0);var T;if(v===void 0)for(v=0,T=0;T<d.length;++T)v+=d[T].length;var O=w.allocUnsafe(v),C=0;for(T=0;T<d.length;++T){var D=d[T];if(W(D,Uint8Array)&&(D=w.from(D)),!w.isBuffer(D))throw new TypeError('"list" argument must be an Array of Buffers');D.copy(O,C),C+=D.length}return O},w.byteLength=Y,w.prototype._isBuffer=!0,w.prototype.swap16=function(){var d=this.length;if(d%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var v=0;v<d;v+=2)z(this,v,v+1);return this},w.prototype.swap32=function(){var d=this.length;if(d%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var v=0;v<d;v+=4)z(this,v,v+3),z(this,v+1,v+2);return this},w.prototype.swap64=function(){var d=this.length;if(d%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var v=0;v<d;v+=8)z(this,v,v+7),z(this,v+1,v+6),z(this,v+2,v+5),z(this,v+3,v+4);return this},w.prototype.toString=function(){var d=this.length;return d===0?"":arguments.length===0?ar(this,0,d):function(v,T,O){var C=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((O===void 0||O>this.length)&&(O=this.length),O<=0)||(O>>>=0)<=(T>>>=0))return"";for(v||(v="utf8");;)switch(v){case"hex":return b(this,T,O);case"utf8":case"utf-8":return ar(this,T,O);case"ascii":return fe(this,T,O);case"latin1":case"binary":return at(this,T,O);case"base64":return ht(this,T,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o(this,T,O);default:if(C)throw new TypeError("Unknown encoding: "+v);v=(v+"").toLowerCase(),C=!0}}.apply(this,arguments)},w.prototype.toLocaleString=w.prototype.toString,w.prototype.equals=function(d){if(!w.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d||w.compare(this,d)===0},w.prototype.inspect=function(){var d="",v=t.INSPECT_MAX_BYTES;return d=this.toString("hex",0,v).replace(/(.{2})/g,"$1 ").trim(),this.length>v&&(d+=" ... "),"<Buffer "+d+">"},w.prototype.compare=function(d,v,T,O,C){if(W(d,Uint8Array)&&(d=w.from(d,d.offset,d.byteLength)),!w.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(v===void 0&&(v=0),T===void 0&&(T=d?d.length:0),O===void 0&&(O=0),C===void 0&&(C=this.length),v<0||T>d.length||O<0||C>this.length)throw new RangeError("out of range index");if(O>=C&&v>=T)return 0;if(O>=C)return-1;if(v>=T)return 1;if(this===d)return 0;for(var D=(C>>>=0)-(O>>>=0),Q=(T>>>=0)-(v>>>=0),X=Math.min(D,Q),te=this.slice(O,C),De=d.slice(v,T),ee=0;ee<X;++ee)if(te[ee]!==De[ee]){D=te[ee],Q=De[ee];break}return D<Q?-1:Q<D?1:0},w.prototype.includes=function(d,v,T){return this.indexOf(d,v,T)!==-1},w.prototype.indexOf=function(d,v,T){return $(this,d,v,T,!0)},w.prototype.lastIndexOf=function(d,v,T){return $(this,d,v,T,!1)},w.prototype.write=function(d,v,T,O){if(v===void 0)O="utf8",T=this.length,v=0;else if(T===void 0&&typeof v=="string")O=v,T=this.length,v=0;else{if(!isFinite(v))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");v>>>=0,isFinite(T)?(T>>>=0,O===void 0&&(O="utf8")):(O=T,T=void 0)}var C=this.length-v;if((T===void 0||T>C)&&(T=C),d.length>0&&(T<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");O||(O="utf8");for(var D=!1;;)switch(O){case"hex":return ie(this,d,v,T);case"utf8":case"utf-8":return Ke(this,d,v,T);case"ascii":return ue(this,d,v,T);case"latin1":case"binary":return Ze(this,d,v,T);case"base64":return ae(this,d,v,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ge(this,d,v,T);default:if(D)throw new TypeError("Unknown encoding: "+O);O=(""+O).toLowerCase(),D=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Ht=4096;function fe(d,v,T){var O="";T=Math.min(d.length,T);for(var C=v;C<T;++C)O+=String.fromCharCode(127&d[C]);return O}function at(d,v,T){var O="";T=Math.min(d.length,T);for(var C=v;C<T;++C)O+=String.fromCharCode(d[C]);return O}function b(d,v,T){var O=d.length;(!v||v<0)&&(v=0),(!T||T<0||T>O)&&(T=O);for(var C="",D=v;D<T;++D)C+=p(d[D]);return C}function o(d,v,T){for(var O=d.slice(v,T),C="",D=0;D<O.length;D+=2)C+=String.fromCharCode(O[D]+256*O[D+1]);return C}function a(d,v,T){if(d%1!=0||d<0)throw new RangeError("offset is not uint");if(d+v>T)throw new RangeError("Trying to access beyond buffer length")}function f(d,v,T,O,C,D){if(!w.isBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>C||v<D)throw new RangeError('"value" argument is out of bounds');if(T+O>d.length)throw new RangeError("Index out of range")}function l(d,v,T,O,C,D){if(T+O>d.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function g(d,v,T,O,C){return v=+v,T>>>=0,C||l(d,0,T,4),u.write(d,v,T,O,23,4),T+4}function _(d,v,T,O,C){return v=+v,T>>>=0,C||l(d,0,T,8),u.write(d,v,T,O,52,8),T+8}w.prototype.slice=function(d,v){var T=this.length;(d=~~d)<0?(d+=T)<0&&(d=0):d>T&&(d=T),(v=v===void 0?T:~~v)<0?(v+=T)<0&&(v=0):v>T&&(v=T),v<d&&(v=d);var O=this.subarray(d,v);return O.__proto__=w.prototype,O},w.prototype.readUIntLE=function(d,v,T){d>>>=0,v>>>=0,T||a(d,v,this.length);for(var O=this[d],C=1,D=0;++D<v&&(C*=256);)O+=this[d+D]*C;return O},w.prototype.readUIntBE=function(d,v,T){d>>>=0,v>>>=0,T||a(d,v,this.length);for(var O=this[d+--v],C=1;v>0&&(C*=256);)O+=this[d+--v]*C;return O},w.prototype.readUInt8=function(d,v){return d>>>=0,v||a(d,1,this.length),this[d]},w.prototype.readUInt16LE=function(d,v){return d>>>=0,v||a(d,2,this.length),this[d]|this[d+1]<<8},w.prototype.readUInt16BE=function(d,v){return d>>>=0,v||a(d,2,this.length),this[d]<<8|this[d+1]},w.prototype.readUInt32LE=function(d,v){return d>>>=0,v||a(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+16777216*this[d+3]},w.prototype.readUInt32BE=function(d,v){return d>>>=0,v||a(d,4,this.length),16777216*this[d]+(this[d+1]<<16|this[d+2]<<8|this[d+3])},w.prototype.readIntLE=function(d,v,T){d>>>=0,v>>>=0,T||a(d,v,this.length);for(var O=this[d],C=1,D=0;++D<v&&(C*=256);)O+=this[d+D]*C;return O>=(C*=128)&&(O-=Math.pow(2,8*v)),O},w.prototype.readIntBE=function(d,v,T){d>>>=0,v>>>=0,T||a(d,v,this.length);for(var O=v,C=1,D=this[d+--O];O>0&&(C*=256);)D+=this[d+--O]*C;return D>=(C*=128)&&(D-=Math.pow(2,8*v)),D},w.prototype.readInt8=function(d,v){return d>>>=0,v||a(d,1,this.length),128&this[d]?-1*(255-this[d]+1):this[d]},w.prototype.readInt16LE=function(d,v){d>>>=0,v||a(d,2,this.length);var T=this[d]|this[d+1]<<8;return 32768&T?4294901760|T:T},w.prototype.readInt16BE=function(d,v){d>>>=0,v||a(d,2,this.length);var T=this[d+1]|this[d]<<8;return 32768&T?4294901760|T:T},w.prototype.readInt32LE=function(d,v){return d>>>=0,v||a(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},w.prototype.readInt32BE=function(d,v){return d>>>=0,v||a(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},w.prototype.readFloatLE=function(d,v){return d>>>=0,v||a(d,4,this.length),u.read(this,d,!0,23,4)},w.prototype.readFloatBE=function(d,v){return d>>>=0,v||a(d,4,this.length),u.read(this,d,!1,23,4)},w.prototype.readDoubleLE=function(d,v){return d>>>=0,v||a(d,8,this.length),u.read(this,d,!0,52,8)},w.prototype.readDoubleBE=function(d,v){return d>>>=0,v||a(d,8,this.length),u.read(this,d,!1,52,8)},w.prototype.writeUIntLE=function(d,v,T,O){d=+d,v>>>=0,T>>>=0,O||f(this,d,v,T,Math.pow(2,8*T)-1,0);var C=1,D=0;for(this[v]=255&d;++D<T&&(C*=256);)this[v+D]=d/C&255;return v+T},w.prototype.writeUIntBE=function(d,v,T,O){d=+d,v>>>=0,T>>>=0,O||f(this,d,v,T,Math.pow(2,8*T)-1,0);var C=T-1,D=1;for(this[v+C]=255&d;--C>=0&&(D*=256);)this[v+C]=d/D&255;return v+T},w.prototype.writeUInt8=function(d,v,T){return d=+d,v>>>=0,T||f(this,d,v,1,255,0),this[v]=255&d,v+1},w.prototype.writeUInt16LE=function(d,v,T){return d=+d,v>>>=0,T||f(this,d,v,2,65535,0),this[v]=255&d,this[v+1]=d>>>8,v+2},w.prototype.writeUInt16BE=function(d,v,T){return d=+d,v>>>=0,T||f(this,d,v,2,65535,0),this[v]=d>>>8,this[v+1]=255&d,v+2},w.prototype.writeUInt32LE=function(d,v,T){return d=+d,v>>>=0,T||f(this,d,v,4,4294967295,0),this[v+3]=d>>>24,this[v+2]=d>>>16,this[v+1]=d>>>8,this[v]=255&d,v+4},w.prototype.writeUInt32BE=function(d,v,T){return d=+d,v>>>=0,T||f(this,d,v,4,4294967295,0),this[v]=d>>>24,this[v+1]=d>>>16,this[v+2]=d>>>8,this[v+3]=255&d,v+4},w.prototype.writeIntLE=function(d,v,T,O){if(d=+d,v>>>=0,!O){var C=Math.pow(2,8*T-1);f(this,d,v,T,C-1,-C)}var D=0,Q=1,X=0;for(this[v]=255&d;++D<T&&(Q*=256);)d<0&&X===0&&this[v+D-1]!==0&&(X=1),this[v+D]=(d/Q>>0)-X&255;return v+T},w.prototype.writeIntBE=function(d,v,T,O){if(d=+d,v>>>=0,!O){var C=Math.pow(2,8*T-1);f(this,d,v,T,C-1,-C)}var D=T-1,Q=1,X=0;for(this[v+D]=255&d;--D>=0&&(Q*=256);)d<0&&X===0&&this[v+D+1]!==0&&(X=1),this[v+D]=(d/Q>>0)-X&255;return v+T},w.prototype.writeInt8=function(d,v,T){return d=+d,v>>>=0,T||f(this,d,v,1,127,-128),d<0&&(d=255+d+1),this[v]=255&d,v+1},w.prototype.writeInt16LE=function(d,v,T){return d=+d,v>>>=0,T||f(this,d,v,2,32767,-32768),this[v]=255&d,this[v+1]=d>>>8,v+2},w.prototype.writeInt16BE=function(d,v,T){return d=+d,v>>>=0,T||f(this,d,v,2,32767,-32768),this[v]=d>>>8,this[v+1]=255&d,v+2},w.prototype.writeInt32LE=function(d,v,T){return d=+d,v>>>=0,T||f(this,d,v,4,2147483647,-2147483648),this[v]=255&d,this[v+1]=d>>>8,this[v+2]=d>>>16,this[v+3]=d>>>24,v+4},w.prototype.writeInt32BE=function(d,v,T){return d=+d,v>>>=0,T||f(this,d,v,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[v]=d>>>24,this[v+1]=d>>>16,this[v+2]=d>>>8,this[v+3]=255&d,v+4},w.prototype.writeFloatLE=function(d,v,T){return g(this,d,v,!0,T)},w.prototype.writeFloatBE=function(d,v,T){return g(this,d,v,!1,T)},w.prototype.writeDoubleLE=function(d,v,T){return _(this,d,v,!0,T)},w.prototype.writeDoubleBE=function(d,v,T){return _(this,d,v,!1,T)},w.prototype.copy=function(d,v,T,O){if(!w.isBuffer(d))throw new TypeError("argument should be a Buffer");if(T||(T=0),O||O===0||(O=this.length),v>=d.length&&(v=d.length),v||(v=0),O>0&&O<T&&(O=T),O===T||d.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(T<0||T>=this.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("sourceEnd out of bounds");O>this.length&&(O=this.length),d.length-v<O-T&&(O=d.length-v+T);var C=O-T;if(this===d&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(v,T,O);else if(this===d&&T<v&&v<O)for(var D=C-1;D>=0;--D)d[D+v]=this[D+T];else Uint8Array.prototype.set.call(d,this.subarray(T,O),v);return C},w.prototype.fill=function(d,v,T,O){if(typeof d=="string"){if(typeof v=="string"?(O=v,v=0,T=this.length):typeof T=="string"&&(O=T,T=this.length),O!==void 0&&typeof O!="string")throw new TypeError("encoding must be a string");if(typeof O=="string"&&!w.isEncoding(O))throw new TypeError("Unknown encoding: "+O);if(d.length===1){var C=d.charCodeAt(0);(O==="utf8"&&C<128||O==="latin1")&&(d=C)}}else typeof d=="number"&&(d&=255);if(v<0||this.length<v||this.length<T)throw new RangeError("Out of range index");if(T<=v)return this;var D;if(v>>>=0,T=T===void 0?this.length:T>>>0,d||(d=0),typeof d=="number")for(D=v;D<T;++D)this[D]=d;else{var Q=w.isBuffer(d)?d:w.from(d,O),X=Q.length;if(X===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(D=0;D<T-v;++D)this[D+v]=Q[D%X]}return this};var E=/[^+\/0-9A-Za-z-_]/g;function p(d){return d<16?"0"+d.toString(16):d.toString(16)}function s(d,v){var T;v=v||1/0;for(var O=d.length,C=null,D=[],Q=0;Q<O;++Q){if((T=d.charCodeAt(Q))>55295&&T<57344){if(!C){if(T>56319){(v-=3)>-1&&D.push(239,191,189);continue}if(Q+1===O){(v-=3)>-1&&D.push(239,191,189);continue}C=T;continue}if(T<56320){(v-=3)>-1&&D.push(239,191,189),C=T;continue}T=65536+(C-55296<<10|T-56320)}else C&&(v-=3)>-1&&D.push(239,191,189);if(C=null,T<128){if((v-=1)<0)break;D.push(T)}else if(T<2048){if((v-=2)<0)break;D.push(T>>6|192,63&T|128)}else if(T<65536){if((v-=3)<0)break;D.push(T>>12|224,T>>6&63|128,63&T|128)}else{if(!(T<1114112))throw new Error("Invalid code point");if((v-=4)<0)break;D.push(T>>18|240,T>>12&63|128,T>>6&63|128,63&T|128)}}return D}function y(d){return i.toByteArray(function(v){if((v=(v=v.split("=")[0]).trim().replace(E,"")).length<2)return"";for(;v.length%4!=0;)v+="=";return v}(d))}function V(d,v,T,O){for(var C=0;C<O&&!(C+T>=v.length||C>=d.length);++C)v[C+T]=d[C];return C}function W(d,v){return d instanceof v||d!=null&&d.constructor!=null&&d.constructor.name!=null&&d.constructor.name===v.name}function Z(d){return d!=d}}).call(this,r("buffer").Buffer)},{"base64-js":1,buffer:2,ieee754:3}],3:[function(r,e,t){t.read=function(n,i,u,h,S){var w,A,R=8*S-h-1,x=(1<<R)-1,L=x>>1,k=-7,Y=u?S-1:0,z=u?-1:1,$=n[i+Y];for(Y+=z,w=$&(1<<-k)-1,$>>=-k,k+=R;k>0;w=256*w+n[i+Y],Y+=z,k-=8);for(A=w&(1<<-k)-1,w>>=-k,k+=h;k>0;A=256*A+n[i+Y],Y+=z,k-=8);if(w===0)w=1-L;else{if(w===x)return A?NaN:1/0*($?-1:1);A+=Math.pow(2,h),w-=L}return($?-1:1)*A*Math.pow(2,w-h)},t.write=function(n,i,u,h,S,w){var A,R,x,L=8*w-S-1,k=(1<<L)-1,Y=k>>1,z=S===23?Math.pow(2,-24)-Math.pow(2,-77):0,$=h?0:w-1,H=h?1:-1,ie=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(R=isNaN(i)?1:0,A=k):(A=Math.floor(Math.log(i)/Math.LN2),i*(x=Math.pow(2,-A))<1&&(A--,x*=2),(i+=A+Y>=1?z/x:z*Math.pow(2,1-Y))*x>=2&&(A++,x/=2),A+Y>=k?(R=0,A=k):A+Y>=1?(R=(i*x-1)*Math.pow(2,S),A+=Y):(R=i*Math.pow(2,Y-1)*Math.pow(2,S),A=0));S>=8;n[u+$]=255&R,$+=H,R/=256,S-=8);for(A=A<<S|R,L+=S;L>0;n[u+$]=255&A,$+=H,A/=256,L-=8);n[u+$-H]|=128*ie}},{}],4:[function(r,e,t){(function(A){"use strict";let i=r("base64-js"),u=r("ieee754"),h=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=A,t.SlowBuffer=function(c){return+c!=c&&(c=0),A.alloc(+c)},t.INSPECT_MAX_BYTES=50;let S=2147483647;function w(c){if(c>S)throw new RangeError('The value "'+c+'" is invalid for option "size"');let m=new Uint8Array(c);return Object.setPrototypeOf(m,A.prototype),m}function A(c,m,M){if(typeof c=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return L(c)}return R(c,m,M)}function R(c,m,M){if(typeof c=="string")return function(U,N){if(typeof N=="string"&&N!==""||(N="utf8"),!A.isEncoding(N))throw new TypeError("Unknown encoding: "+N);let ce=0|$(U,N),re=w(ce),oe=re.write(U,N);return oe!==ce&&(re=re.slice(0,oe)),re}(c,m);if(ArrayBuffer.isView(c))return function(U){if(Q(U,Uint8Array)){let N=new Uint8Array(U);return Y(N.buffer,N.byteOffset,N.byteLength)}return k(U)}(c);if(c==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);if(Q(c,ArrayBuffer)||c&&Q(c.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Q(c,SharedArrayBuffer)||c&&Q(c.buffer,SharedArrayBuffer)))return Y(c,m,M);if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let P=c.valueOf&&c.valueOf();if(P!=null&&P!==c)return A.from(P,m,M);let F=function(U){if(A.isBuffer(U)){let N=0|z(U.length),ce=w(N);return ce.length===0||U.copy(ce,0,0,N),ce}if(U.length!==void 0)return typeof U.length!="number"||X(U.length)?w(0):k(U);if(U.type==="Buffer"&&Array.isArray(U.data))return k(U.data)}(c);if(F)return F;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof c[Symbol.toPrimitive]=="function")return A.from(c[Symbol.toPrimitive]("string"),m,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c)}function x(c){if(typeof c!="number")throw new TypeError('"size" argument must be of type number');if(c<0)throw new RangeError('The value "'+c+'" is invalid for option "size"')}function L(c){return x(c),w(c<0?0:0|z(c))}function k(c){let m=c.length<0?0:0|z(c.length),M=w(m);for(let P=0;P<m;P+=1)M[P]=255&c[P];return M}function Y(c,m,M){if(m<0||c.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(c.byteLength<m+(M||0))throw new RangeError('"length" is outside of buffer bounds');let P;return P=m===void 0&&M===void 0?new Uint8Array(c):M===void 0?new Uint8Array(c,m):new Uint8Array(c,m,M),Object.setPrototypeOf(P,A.prototype),P}function z(c){if(c>=S)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+S.toString(16)+" bytes");return 0|c}function $(c,m){if(A.isBuffer(c))return c.length;if(ArrayBuffer.isView(c)||Q(c,ArrayBuffer))return c.byteLength;if(typeof c!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof c);let M=c.length,P=arguments.length>2&&arguments[2]===!0;if(!P&&M===0)return 0;let F=!1;for(;;)switch(m){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return O(c).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return C(c).length;default:if(F)return P?-1:O(c).length;m=(""+m).toLowerCase(),F=!0}}function H(c,m,M){let P=c[m];c[m]=c[M],c[M]=P}function ie(c,m,M,P,F){if(c.length===0)return-1;if(typeof M=="string"?(P=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),X(M=+M)&&(M=F?0:c.length-1),M<0&&(M=c.length+M),M>=c.length){if(F)return-1;M=c.length-1}else if(M<0){if(!F)return-1;M=0}if(typeof m=="string"&&(m=A.from(m,P)),A.isBuffer(m))return m.length===0?-1:Ke(c,m,M,P,F);if(typeof m=="number")return m&=255,typeof Uint8Array.prototype.indexOf=="function"?F?Uint8Array.prototype.indexOf.call(c,m,M):Uint8Array.prototype.lastIndexOf.call(c,m,M):Ke(c,[m],M,P,F);throw new TypeError("val must be string, number or Buffer")}function Ke(c,m,M,P,F){let U,N=1,ce=c.length,re=m.length;if(P!==void 0&&((P=String(P).toLowerCase())==="ucs2"||P==="ucs-2"||P==="utf16le"||P==="utf-16le")){if(c.length<2||m.length<2)return-1;N=2,ce/=2,re/=2,M/=2}function oe(Le,se){return N===1?Le[se]:Le.readUInt16BE(se*N)}if(F){let Le=-1;for(U=M;U<ce;U++)if(oe(c,U)===oe(m,Le===-1?0:U-Le)){if(Le===-1&&(Le=U),U-Le+1===re)return Le*N}else Le!==-1&&(U-=U-Le),Le=-1}else for(M+re>ce&&(M=ce-re),U=M;U>=0;U--){let Le=!0;for(let se=0;se<re;se++)if(oe(c,U+se)!==oe(m,se)){Le=!1;break}if(Le)return U}return-1}function ue(c,m,M,P){M=Number(M)||0;let F=c.length-M;P?(P=Number(P))>F&&(P=F):P=F;let U=m.length,N;for(P>U/2&&(P=U/2),N=0;N<P;++N){let ce=parseInt(m.substr(2*N,2),16);if(X(ce))return N;c[M+N]=ce}return N}function Ze(c,m,M,P){return D(O(m,c.length-M),c,M,P)}function ae(c,m,M,P){return D(function(F){let U=[];for(let N=0;N<F.length;++N)U.push(255&F.charCodeAt(N));return U}(m),c,M,P)}function Ge(c,m,M,P){return D(C(m),c,M,P)}function ht(c,m,M,P){return D(function(F,U){let N,ce,re,oe=[];for(let Le=0;Le<F.length&&!((U-=2)<0);++Le)N=F.charCodeAt(Le),ce=N>>8,re=N%256,oe.push(re),oe.push(ce);return oe}(m,c.length-M),c,M,P)}function ar(c,m,M){return m===0&&M===c.length?i.fromByteArray(c):i.fromByteArray(c.slice(m,M))}function Ht(c,m,M){M=Math.min(c.length,M);let P=[],F=m;for(;F<M;){let U=c[F],N=null,ce=U>239?4:U>223?3:U>191?2:1;if(F+ce<=M){let re,oe,Le,se;switch(ce){case 1:U<128&&(N=U);break;case 2:(192&(re=c[F+1]))==128&&(se=(31&U)<<6|63&re)>127&&(N=se);break;case 3:re=c[F+1],oe=c[F+2],(192&re)==128&&(192&oe)==128&&(se=(15&U)<<12|(63&re)<<6|63&oe)>2047&&(se<55296||se>57343)&&(N=se);break;case 4:re=c[F+1],oe=c[F+2],Le=c[F+3],(192&re)==128&&(192&oe)==128&&(192&Le)==128&&(se=(15&U)<<18|(63&re)<<12|(63&oe)<<6|63&Le)>65535&&se<1114112&&(N=se)}}N===null?(N=65533,ce=1):N>65535&&(N-=65536,P.push(N>>>10&1023|55296),N=56320|1023&N),P.push(N),F+=ce}return function(U){let N=U.length;if(N<=fe)return String.fromCharCode.apply(String,U);let ce="",re=0;for(;re<N;)ce+=String.fromCharCode.apply(String,U.slice(re,re+=fe));return ce}(P)}t.kMaxLength=S,A.TYPED_ARRAY_SUPPORT=function(){try{let c=new Uint8Array(1),m={foo:function(){return 42}};return Object.setPrototypeOf(m,Uint8Array.prototype),Object.setPrototypeOf(c,m),c.foo()===42}catch{return!1}}(),A.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(c,m,M){return R(c,m,M)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(c,m,M){return function(P,F,U){return x(P),P<=0?w(P):F!==void 0?typeof U=="string"?w(P).fill(F,U):w(P).fill(F):w(P)}(c,m,M)},A.allocUnsafe=function(c){return L(c)},A.allocUnsafeSlow=function(c){return L(c)},A.isBuffer=function(c){return c!=null&&c._isBuffer===!0&&c!==A.prototype},A.compare=function(c,m){if(Q(c,Uint8Array)&&(c=A.from(c,c.offset,c.byteLength)),Q(m,Uint8Array)&&(m=A.from(m,m.offset,m.byteLength)),!A.isBuffer(c)||!A.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===m)return 0;let M=c.length,P=m.length;for(let F=0,U=Math.min(M,P);F<U;++F)if(c[F]!==m[F]){M=c[F],P=m[F];break}return M<P?-1:P<M?1:0},A.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(c,m){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return A.alloc(0);let M;if(m===void 0)for(m=0,M=0;M<c.length;++M)m+=c[M].length;let P=A.allocUnsafe(m),F=0;for(M=0;M<c.length;++M){let U=c[M];if(Q(U,Uint8Array))F+U.length>P.length?(A.isBuffer(U)||(U=A.from(U)),U.copy(P,F)):Uint8Array.prototype.set.call(P,U,F);else{if(!A.isBuffer(U))throw new TypeError('"list" argument must be an Array of Buffers');U.copy(P,F)}F+=U.length}return P},A.byteLength=$,A.prototype._isBuffer=!0,A.prototype.swap16=function(){let c=this.length;if(c%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<c;m+=2)H(this,m,m+1);return this},A.prototype.swap32=function(){let c=this.length;if(c%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<c;m+=4)H(this,m,m+3),H(this,m+1,m+2);return this},A.prototype.swap64=function(){let c=this.length;if(c%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<c;m+=8)H(this,m,m+7),H(this,m+1,m+6),H(this,m+2,m+5),H(this,m+3,m+4);return this},A.prototype.toString=function(){let c=this.length;return c===0?"":arguments.length===0?Ht(this,0,c):function(m,M,P){let F=!1;if((M===void 0||M<0)&&(M=0),M>this.length||((P===void 0||P>this.length)&&(P=this.length),P<=0)||(P>>>=0)<=(M>>>=0))return"";for(m||(m="utf8");;)switch(m){case"hex":return o(this,M,P);case"utf8":case"utf-8":return Ht(this,M,P);case"ascii":return at(this,M,P);case"latin1":case"binary":return b(this,M,P);case"base64":return ar(this,M,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,M,P);default:if(F)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase(),F=!0}}.apply(this,arguments)},A.prototype.toLocaleString=A.prototype.toString,A.prototype.equals=function(c){if(!A.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c||A.compare(this,c)===0},A.prototype.inspect=function(){let c="",m=t.INSPECT_MAX_BYTES;return c=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(c+=" ... "),"<Buffer "+c+">"},h&&(A.prototype[h]=A.prototype.inspect),A.prototype.compare=function(c,m,M,P,F){if(Q(c,Uint8Array)&&(c=A.from(c,c.offset,c.byteLength)),!A.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(m===void 0&&(m=0),M===void 0&&(M=c?c.length:0),P===void 0&&(P=0),F===void 0&&(F=this.length),m<0||M>c.length||P<0||F>this.length)throw new RangeError("out of range index");if(P>=F&&m>=M)return 0;if(P>=F)return-1;if(m>=M)return 1;if(this===c)return 0;let U=(F>>>=0)-(P>>>=0),N=(M>>>=0)-(m>>>=0),ce=Math.min(U,N),re=this.slice(P,F),oe=c.slice(m,M);for(let Le=0;Le<ce;++Le)if(re[Le]!==oe[Le]){U=re[Le],N=oe[Le];break}return U<N?-1:N<U?1:0},A.prototype.includes=function(c,m,M){return this.indexOf(c,m,M)!==-1},A.prototype.indexOf=function(c,m,M){return ie(this,c,m,M,!0)},A.prototype.lastIndexOf=function(c,m,M){return ie(this,c,m,M,!1)},A.prototype.write=function(c,m,M,P){if(m===void 0)P="utf8",M=this.length,m=0;else if(M===void 0&&typeof m=="string")P=m,M=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(M)?(M>>>=0,P===void 0&&(P="utf8")):(P=M,M=void 0)}let F=this.length-m;if((M===void 0||M>F)&&(M=F),c.length>0&&(M<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");P||(P="utf8");let U=!1;for(;;)switch(P){case"hex":return ue(this,c,m,M);case"utf8":case"utf-8":return Ze(this,c,m,M);case"ascii":case"latin1":case"binary":return ae(this,c,m,M);case"base64":return Ge(this,c,m,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ht(this,c,m,M);default:if(U)throw new TypeError("Unknown encoding: "+P);P=(""+P).toLowerCase(),U=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};let fe=4096;function at(c,m,M){let P="";M=Math.min(c.length,M);for(let F=m;F<M;++F)P+=String.fromCharCode(127&c[F]);return P}function b(c,m,M){let P="";M=Math.min(c.length,M);for(let F=m;F<M;++F)P+=String.fromCharCode(c[F]);return P}function o(c,m,M){let P=c.length;(!m||m<0)&&(m=0),(!M||M<0||M>P)&&(M=P);let F="";for(let U=m;U<M;++U)F+=te[c[U]];return F}function a(c,m,M){let P=c.slice(m,M),F="";for(let U=0;U<P.length-1;U+=2)F+=String.fromCharCode(P[U]+256*P[U+1]);return F}function f(c,m,M){if(c%1!=0||c<0)throw new RangeError("offset is not uint");if(c+m>M)throw new RangeError("Trying to access beyond buffer length")}function l(c,m,M,P,F,U){if(!A.isBuffer(c))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>F||m<U)throw new RangeError('"value" argument is out of bounds');if(M+P>c.length)throw new RangeError("Index out of range")}function g(c,m,M,P,F){Z(m,P,F,c,M,7);let U=Number(m&BigInt(4294967295));c[M++]=U,U>>=8,c[M++]=U,U>>=8,c[M++]=U,U>>=8,c[M++]=U;let N=Number(m>>BigInt(32)&BigInt(4294967295));return c[M++]=N,N>>=8,c[M++]=N,N>>=8,c[M++]=N,N>>=8,c[M++]=N,M}function _(c,m,M,P,F){Z(m,P,F,c,M,7);let U=Number(m&BigInt(4294967295));c[M+7]=U,U>>=8,c[M+6]=U,U>>=8,c[M+5]=U,U>>=8,c[M+4]=U;let N=Number(m>>BigInt(32)&BigInt(4294967295));return c[M+3]=N,N>>=8,c[M+2]=N,N>>=8,c[M+1]=N,N>>=8,c[M]=N,M+8}function E(c,m,M,P,F,U){if(M+P>c.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function p(c,m,M,P,F){return m=+m,M>>>=0,F||E(c,0,M,4),u.write(c,m,M,P,23,4),M+4}function s(c,m,M,P,F){return m=+m,M>>>=0,F||E(c,0,M,8),u.write(c,m,M,P,52,8),M+8}A.prototype.slice=function(c,m){let M=this.length;(c=~~c)<0?(c+=M)<0&&(c=0):c>M&&(c=M),(m=m===void 0?M:~~m)<0?(m+=M)<0&&(m=0):m>M&&(m=M),m<c&&(m=c);let P=this.subarray(c,m);return Object.setPrototypeOf(P,A.prototype),P},A.prototype.readUintLE=A.prototype.readUIntLE=function(c,m,M){c>>>=0,m>>>=0,M||f(c,m,this.length);let P=this[c],F=1,U=0;for(;++U<m&&(F*=256);)P+=this[c+U]*F;return P},A.prototype.readUintBE=A.prototype.readUIntBE=function(c,m,M){c>>>=0,m>>>=0,M||f(c,m,this.length);let P=this[c+--m],F=1;for(;m>0&&(F*=256);)P+=this[c+--m]*F;return P},A.prototype.readUint8=A.prototype.readUInt8=function(c,m){return c>>>=0,m||f(c,1,this.length),this[c]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(c,m){return c>>>=0,m||f(c,2,this.length),this[c]|this[c+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(c,m){return c>>>=0,m||f(c,2,this.length),this[c]<<8|this[c+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(c,m){return c>>>=0,m||f(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+16777216*this[c+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(c,m){return c>>>=0,m||f(c,4,this.length),16777216*this[c]+(this[c+1]<<16|this[c+2]<<8|this[c+3])},A.prototype.readBigUInt64LE=De(function(c){d(c>>>=0,"offset");let m=this[c],M=this[c+7];m!==void 0&&M!==void 0||v(c,this.length-8);let P=m+256*this[++c]+65536*this[++c]+this[++c]*2**24,F=this[++c]+256*this[++c]+65536*this[++c]+M*2**24;return BigInt(P)+(BigInt(F)<<BigInt(32))}),A.prototype.readBigUInt64BE=De(function(c){d(c>>>=0,"offset");let m=this[c],M=this[c+7];m!==void 0&&M!==void 0||v(c,this.length-8);let P=m*2**24+65536*this[++c]+256*this[++c]+this[++c],F=this[++c]*2**24+65536*this[++c]+256*this[++c]+M;return(BigInt(P)<<BigInt(32))+BigInt(F)}),A.prototype.readIntLE=function(c,m,M){c>>>=0,m>>>=0,M||f(c,m,this.length);let P=this[c],F=1,U=0;for(;++U<m&&(F*=256);)P+=this[c+U]*F;return P>=(F*=128)&&(P-=Math.pow(2,8*m)),P},A.prototype.readIntBE=function(c,m,M){c>>>=0,m>>>=0,M||f(c,m,this.length);let P=m,F=1,U=this[c+--P];for(;P>0&&(F*=256);)U+=this[c+--P]*F;return U>=(F*=128)&&(U-=Math.pow(2,8*m)),U},A.prototype.readInt8=function(c,m){return c>>>=0,m||f(c,1,this.length),128&this[c]?-1*(255-this[c]+1):this[c]},A.prototype.readInt16LE=function(c,m){c>>>=0,m||f(c,2,this.length);let M=this[c]|this[c+1]<<8;return 32768&M?4294901760|M:M},A.prototype.readInt16BE=function(c,m){c>>>=0,m||f(c,2,this.length);let M=this[c+1]|this[c]<<8;return 32768&M?4294901760|M:M},A.prototype.readInt32LE=function(c,m){return c>>>=0,m||f(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},A.prototype.readInt32BE=function(c,m){return c>>>=0,m||f(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},A.prototype.readBigInt64LE=De(function(c){d(c>>>=0,"offset");let m=this[c],M=this[c+7];m!==void 0&&M!==void 0||v(c,this.length-8);let P=this[c+4]+256*this[c+5]+65536*this[c+6]+(M<<24);return(BigInt(P)<<BigInt(32))+BigInt(m+256*this[++c]+65536*this[++c]+this[++c]*2**24)}),A.prototype.readBigInt64BE=De(function(c){d(c>>>=0,"offset");let m=this[c],M=this[c+7];m!==void 0&&M!==void 0||v(c,this.length-8);let P=(m<<24)+65536*this[++c]+256*this[++c]+this[++c];return(BigInt(P)<<BigInt(32))+BigInt(this[++c]*2**24+65536*this[++c]+256*this[++c]+M)}),A.prototype.readFloatLE=function(c,m){return c>>>=0,m||f(c,4,this.length),u.read(this,c,!0,23,4)},A.prototype.readFloatBE=function(c,m){return c>>>=0,m||f(c,4,this.length),u.read(this,c,!1,23,4)},A.prototype.readDoubleLE=function(c,m){return c>>>=0,m||f(c,8,this.length),u.read(this,c,!0,52,8)},A.prototype.readDoubleBE=function(c,m){return c>>>=0,m||f(c,8,this.length),u.read(this,c,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(c,m,M,P){c=+c,m>>>=0,M>>>=0,!P&&l(this,c,m,M,Math.pow(2,8*M)-1,0);let F=1,U=0;for(this[m]=255&c;++U<M&&(F*=256);)this[m+U]=c/F&255;return m+M},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(c,m,M,P){c=+c,m>>>=0,M>>>=0,!P&&l(this,c,m,M,Math.pow(2,8*M)-1,0);let F=M-1,U=1;for(this[m+F]=255&c;--F>=0&&(U*=256);)this[m+F]=c/U&255;return m+M},A.prototype.writeUint8=A.prototype.writeUInt8=function(c,m,M){return c=+c,m>>>=0,M||l(this,c,m,1,255,0),this[m]=255&c,m+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(c,m,M){return c=+c,m>>>=0,M||l(this,c,m,2,65535,0),this[m]=255&c,this[m+1]=c>>>8,m+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(c,m,M){return c=+c,m>>>=0,M||l(this,c,m,2,65535,0),this[m]=c>>>8,this[m+1]=255&c,m+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(c,m,M){return c=+c,m>>>=0,M||l(this,c,m,4,4294967295,0),this[m+3]=c>>>24,this[m+2]=c>>>16,this[m+1]=c>>>8,this[m]=255&c,m+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(c,m,M){return c=+c,m>>>=0,M||l(this,c,m,4,4294967295,0),this[m]=c>>>24,this[m+1]=c>>>16,this[m+2]=c>>>8,this[m+3]=255&c,m+4},A.prototype.writeBigUInt64LE=De(function(c,m=0){return g(this,c,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=De(function(c,m=0){return _(this,c,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(c,m,M,P){if(c=+c,m>>>=0,!P){let ce=Math.pow(2,8*M-1);l(this,c,m,M,ce-1,-ce)}let F=0,U=1,N=0;for(this[m]=255&c;++F<M&&(U*=256);)c<0&&N===0&&this[m+F-1]!==0&&(N=1),this[m+F]=(c/U>>0)-N&255;return m+M},A.prototype.writeIntBE=function(c,m,M,P){if(c=+c,m>>>=0,!P){let ce=Math.pow(2,8*M-1);l(this,c,m,M,ce-1,-ce)}let F=M-1,U=1,N=0;for(this[m+F]=255&c;--F>=0&&(U*=256);)c<0&&N===0&&this[m+F+1]!==0&&(N=1),this[m+F]=(c/U>>0)-N&255;return m+M},A.prototype.writeInt8=function(c,m,M){return c=+c,m>>>=0,M||l(this,c,m,1,127,-128),c<0&&(c=255+c+1),this[m]=255&c,m+1},A.prototype.writeInt16LE=function(c,m,M){return c=+c,m>>>=0,M||l(this,c,m,2,32767,-32768),this[m]=255&c,this[m+1]=c>>>8,m+2},A.prototype.writeInt16BE=function(c,m,M){return c=+c,m>>>=0,M||l(this,c,m,2,32767,-32768),this[m]=c>>>8,this[m+1]=255&c,m+2},A.prototype.writeInt32LE=function(c,m,M){return c=+c,m>>>=0,M||l(this,c,m,4,2147483647,-2147483648),this[m]=255&c,this[m+1]=c>>>8,this[m+2]=c>>>16,this[m+3]=c>>>24,m+4},A.prototype.writeInt32BE=function(c,m,M){return c=+c,m>>>=0,M||l(this,c,m,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[m]=c>>>24,this[m+1]=c>>>16,this[m+2]=c>>>8,this[m+3]=255&c,m+4},A.prototype.writeBigInt64LE=De(function(c,m=0){return g(this,c,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=De(function(c,m=0){return _(this,c,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeFloatLE=function(c,m,M){return p(this,c,m,!0,M)},A.prototype.writeFloatBE=function(c,m,M){return p(this,c,m,!1,M)},A.prototype.writeDoubleLE=function(c,m,M){return s(this,c,m,!0,M)},A.prototype.writeDoubleBE=function(c,m,M){return s(this,c,m,!1,M)},A.prototype.copy=function(c,m,M,P){if(!A.isBuffer(c))throw new TypeError("argument should be a Buffer");if(M||(M=0),P||P===0||(P=this.length),m>=c.length&&(m=c.length),m||(m=0),P>0&&P<M&&(P=M),P===M||c.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("sourceEnd out of bounds");P>this.length&&(P=this.length),c.length-m<P-M&&(P=c.length-m+M);let F=P-M;return this===c&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,M,P):Uint8Array.prototype.set.call(c,this.subarray(M,P),m),F},A.prototype.fill=function(c,m,M,P){if(typeof c=="string"){if(typeof m=="string"?(P=m,m=0,M=this.length):typeof M=="string"&&(P=M,M=this.length),P!==void 0&&typeof P!="string")throw new TypeError("encoding must be a string");if(typeof P=="string"&&!A.isEncoding(P))throw new TypeError("Unknown encoding: "+P);if(c.length===1){let U=c.charCodeAt(0);(P==="utf8"&&U<128||P==="latin1")&&(c=U)}}else typeof c=="number"?c&=255:typeof c=="boolean"&&(c=Number(c));if(m<0||this.length<m||this.length<M)throw new RangeError("Out of range index");if(M<=m)return this;let F;if(m>>>=0,M=M===void 0?this.length:M>>>0,c||(c=0),typeof c=="number")for(F=m;F<M;++F)this[F]=c;else{let U=A.isBuffer(c)?c:A.from(c,P),N=U.length;if(N===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(F=0;F<M-m;++F)this[F+m]=U[F%N]}return this};let y={};function V(c,m,M){y[c]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:m.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${c}]`,this.stack,delete this.name}get code(){return c}set code(P){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:P,writable:!0})}toString(){return`${this.name} [${c}]: ${this.message}`}}}function W(c){let m="",M=c.length,P=c[0]==="-"?1:0;for(;M>=P+4;M-=3)m=`_${c.slice(M-3,M)}${m}`;return`${c.slice(0,M)}${m}`}function Z(c,m,M,P,F,U){if(c>M||c<m){let N=typeof m=="bigint"?"n":"",ce;throw ce=U>3?m===0||m===BigInt(0)?`>= 0${N} and < 2${N} ** ${8*(U+1)}${N}`:`>= -(2${N} ** ${8*(U+1)-1}${N}) and < 2 ** ${8*(U+1)-1}${N}`:`>= ${m}${N} and <= ${M}${N}`,new y.ERR_OUT_OF_RANGE("value",ce,c)}(function(N,ce,re){d(ce,"offset"),N[ce]!==void 0&&N[ce+re]!==void 0||v(ce,N.length-(re+1))})(P,F,U)}function d(c,m){if(typeof c!="number")throw new y.ERR_INVALID_ARG_TYPE(m,"number",c)}function v(c,m,M){throw Math.floor(c)!==c?(d(c,M),new y.ERR_OUT_OF_RANGE(M||"offset","an integer",c)):m<0?new y.ERR_BUFFER_OUT_OF_BOUNDS:new y.ERR_OUT_OF_RANGE(M||"offset",`>= ${M?1:0} and <= ${m}`,c)}V("ERR_BUFFER_OUT_OF_BOUNDS",function(c){return c?`${c} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),V("ERR_INVALID_ARG_TYPE",function(c,m){return`The "${c}" argument must be of type number. Received type ${typeof m}`},TypeError),V("ERR_OUT_OF_RANGE",function(c,m,M){let P=`The value of "${c}" is out of range.`,F=M;return Number.isInteger(M)&&Math.abs(M)>2**32?F=W(String(M)):typeof M=="bigint"&&(F=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(F=W(F)),F+="n"),P+=` It must be ${m}. Received ${F}`},RangeError);let T=/[^+\/0-9A-Za-z-_]/g;function O(c,m){let M;m=m||1/0;let P=c.length,F=null,U=[];for(let N=0;N<P;++N){if((M=c.charCodeAt(N))>55295&&M<57344){if(!F){if(M>56319){(m-=3)>-1&&U.push(239,191,189);continue}if(N+1===P){(m-=3)>-1&&U.push(239,191,189);continue}F=M;continue}if(M<56320){(m-=3)>-1&&U.push(239,191,189),F=M;continue}M=65536+(F-55296<<10|M-56320)}else F&&(m-=3)>-1&&U.push(239,191,189);if(F=null,M<128){if((m-=1)<0)break;U.push(M)}else if(M<2048){if((m-=2)<0)break;U.push(M>>6|192,63&M|128)}else if(M<65536){if((m-=3)<0)break;U.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((m-=4)<0)break;U.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return U}function C(c){return i.toByteArray(function(m){if((m=(m=m.split("=")[0]).trim().replace(T,"")).length<2)return"";for(;m.length%4!=0;)m+="=";return m}(c))}function D(c,m,M,P){let F;for(F=0;F<P&&!(F+M>=m.length||F>=c.length);++F)m[F+M]=c[F];return F}function Q(c,m){return c instanceof m||c!=null&&c.constructor!=null&&c.constructor.name!=null&&c.constructor.name===m.name}function X(c){return c!=c}let te=function(){let c=new Array(256);for(let m=0;m<16;++m){let M=16*m;for(let P=0;P<16;++P)c[M+P]="0123456789abcdef"[m]+"0123456789abcdef"[P]}return c}();function De(c){return typeof BigInt>"u"?ee:c}function ee(){throw new Error("BigInt not supported")}}).call(this,r("buffer").Buffer)},{"base64-js":5,buffer:2,ieee754:6}],5:[function(r,e,t){"use strict";t.byteLength=function(x){var L=A(x),k=L[0],Y=L[1];return 3*(k+Y)/4-Y},t.toByteArray=function(x){var L,k,Y=A(x),z=Y[0],$=Y[1],H=new u(function(ue,Ze,ae){return 3*(Ze+ae)/4-ae}(0,z,$)),ie=0,Ke=$>0?z-4:z;for(k=0;k<Ke;k+=4)L=i[x.charCodeAt(k)]<<18|i[x.charCodeAt(k+1)]<<12|i[x.charCodeAt(k+2)]<<6|i[x.charCodeAt(k+3)],H[ie++]=L>>16&255,H[ie++]=L>>8&255,H[ie++]=255&L;return $===2&&(L=i[x.charCodeAt(k)]<<2|i[x.charCodeAt(k+1)]>>4,H[ie++]=255&L),$===1&&(L=i[x.charCodeAt(k)]<<10|i[x.charCodeAt(k+1)]<<4|i[x.charCodeAt(k+2)]>>2,H[ie++]=L>>8&255,H[ie++]=255&L),H},t.fromByteArray=function(x){for(var L,k=x.length,Y=k%3,z=[],$=0,H=k-Y;$<H;$+=16383)z.push(R(x,$,$+16383>H?H:$+16383));return Y===1?(L=x[k-1],z.push(n[L>>2]+n[L<<4&63]+"==")):Y===2&&(L=(x[k-2]<<8)+x[k-1],z.push(n[L>>10]+n[L>>4&63]+n[L<<2&63]+"=")),z.join("")};for(var n=[],i=[],u=typeof Uint8Array<"u"?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0,w=h.length;S<w;++S)n[S]=h[S],i[h.charCodeAt(S)]=S;function A(x){var L=x.length;if(L%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=x.indexOf("=");return k===-1&&(k=L),[k,k===L?0:4-k%4]}function R(x,L,k){for(var Y,z,$=[],H=L;H<k;H+=3)Y=(x[H]<<16&16711680)+(x[H+1]<<8&65280)+(255&x[H+2]),$.push(n[(z=Y)>>18&63]+n[z>>12&63]+n[z>>6&63]+n[63&z]);return $.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],6:[function(r,e,t){t.read=function(n,i,u,h,S){var w,A,R=8*S-h-1,x=(1<<R)-1,L=x>>1,k=-7,Y=u?S-1:0,z=u?-1:1,$=n[i+Y];for(Y+=z,w=$&(1<<-k)-1,$>>=-k,k+=R;k>0;w=256*w+n[i+Y],Y+=z,k-=8);for(A=w&(1<<-k)-1,w>>=-k,k+=h;k>0;A=256*A+n[i+Y],Y+=z,k-=8);if(w===0)w=1-L;else{if(w===x)return A?NaN:1/0*($?-1:1);A+=Math.pow(2,h),w-=L}return($?-1:1)*A*Math.pow(2,w-h)},t.write=function(n,i,u,h,S,w){var A,R,x,L=8*w-S-1,k=(1<<L)-1,Y=k>>1,z=S===23?Math.pow(2,-24)-Math.pow(2,-77):0,$=h?0:w-1,H=h?1:-1,ie=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(R=isNaN(i)?1:0,A=k):(A=Math.floor(Math.log(i)/Math.LN2),i*(x=Math.pow(2,-A))<1&&(A--,x*=2),(i+=A+Y>=1?z/x:z*Math.pow(2,1-Y))*x>=2&&(A++,x/=2),A+Y>=k?(R=0,A=k):A+Y>=1?(R=(i*x-1)*Math.pow(2,S),A+=Y):(R=i*Math.pow(2,Y-1)*Math.pow(2,S),A=0));S>=8;n[u+$]=255&R,$+=H,R/=256,S-=8);for(A=A<<S|R,L+=S;L>0;n[u+$]=255&A,$+=H,A/=256,L-=8);n[u+$-H]|=128*ie}},{}]},{},[4])(4)})});var q,I=ui(()=>{q=H0(qc())});var Zt=G((s_,Kc)=>{B();I();Kc.exports=globalThis["ok-metax-crypto"]});var zc=G(Nc=>{"use strict";B();I();Object.defineProperty(Nc,"__esModule",{value:!0})});var al={};Pc(al,{Buffer:()=>J,INSPECT_MAX_BYTES:()=>Hc,SlowBuffer:()=>Up,isBuffer:()=>Mn,kMaxLength:()=>Ip});function $c(){du=!0;for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,t=r.length;e<t;++e)Cr[e]=r[e],ur[r.charCodeAt(e)]=e;ur["-".charCodeAt(0)]=62,ur["_".charCodeAt(0)]=63}function Ap(r){du||$c();var e,t,n,i,u,h,S=r.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");u=r[S-2]==="="?2:r[S-1]==="="?1:0,h=new Sp(S*3/4-u),n=u>0?S-4:S;var w=0;for(e=0,t=0;e<n;e+=4,t+=3)i=ur[r.charCodeAt(e)]<<18|ur[r.charCodeAt(e+1)]<<12|ur[r.charCodeAt(e+2)]<<6|ur[r.charCodeAt(e+3)],h[w++]=i>>16&255,h[w++]=i>>8&255,h[w++]=i&255;return u===2?(i=ur[r.charCodeAt(e)]<<2|ur[r.charCodeAt(e+1)]>>4,h[w++]=i&255):u===1&&(i=ur[r.charCodeAt(e)]<<10|ur[r.charCodeAt(e+1)]<<4|ur[r.charCodeAt(e+2)]>>2,h[w++]=i>>8&255,h[w++]=i&255),h}function Ep(r){return Cr[r>>18&63]+Cr[r>>12&63]+Cr[r>>6&63]+Cr[r&63]}function Tp(r,e,t){for(var n,i=[],u=e;u<t;u+=3)n=(r[u]<<16)+(r[u+1]<<8)+r[u+2],i.push(Ep(n));return i.join("")}function jc(r){du||$c();for(var e,t=r.length,n=t%3,i="",u=[],h=16383,S=0,w=t-n;S<w;S+=h)u.push(Tp(r,S,S+h>w?w:S+h));return n===1?(e=r[t-1],i+=Cr[e>>2],i+=Cr[e<<4&63],i+="=="):n===2&&(e=(r[t-2]<<8)+r[t-1],i+=Cr[e>>10],i+=Cr[e>>4&63],i+=Cr[e<<2&63],i+="="),u.push(i),u.join("")}function ws(r,e,t,n,i){var u,h,S=i*8-n-1,w=(1<<S)-1,A=w>>1,R=-7,x=t?i-1:0,L=t?-1:1,k=r[e+x];for(x+=L,u=k&(1<<-R)-1,k>>=-R,R+=S;R>0;u=u*256+r[e+x],x+=L,R-=8);for(h=u&(1<<-R)-1,u>>=-R,R+=n;R>0;h=h*256+r[e+x],x+=L,R-=8);if(u===0)u=1-A;else{if(u===w)return h?NaN:(k?-1:1)*(1/0);h=h+Math.pow(2,n),u=u-A}return(k?-1:1)*h*Math.pow(2,u-n)}function Wc(r,e,t,n,i,u){var h,S,w,A=u*8-i-1,R=(1<<A)-1,x=R>>1,L=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,k=n?0:u-1,Y=n?1:-1,z=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(S=isNaN(e)?1:0,h=R):(h=Math.floor(Math.log(e)/Math.LN2),e*(w=Math.pow(2,-h))<1&&(h--,w*=2),h+x>=1?e+=L/w:e+=L*Math.pow(2,1-x),e*w>=2&&(h++,w/=2),h+x>=R?(S=0,h=R):h+x>=1?(S=(e*w-1)*Math.pow(2,i),h=h+x):(S=e*Math.pow(2,x-1)*Math.pow(2,i),h=0));i>=8;r[t+k]=S&255,k+=Y,S/=256,i-=8);for(h=h<<i|S,A+=i;A>0;r[t+k]=h&255,k+=Y,h/=256,A-=8);r[t+k-Y]|=z*128}function ms(){return J.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function nn(r,e){if(ms()<e)throw new RangeError("Invalid typed array length");return J.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(e),r.__proto__=J.prototype):(r===null&&(r=new J(e)),r.length=e),r}function J(r,e,t){if(!J.TYPED_ARRAY_SUPPORT&&!(this instanceof J))return new J(r,e,t);if(typeof r=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return pu(this,r)}return Zc(this,r,e,t)}function Zc(r,e,t,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?Op(r,e,t,n):typeof e=="string"?xp(r,e,t):kp(r,e)}function Jc(r){if(typeof r!="number")throw new TypeError('"size" argument must be a number');if(r<0)throw new RangeError('"size" argument must not be negative')}function Pp(r,e,t,n){return Jc(e),e<=0?nn(r,e):t!==void 0?typeof n=="string"?nn(r,e).fill(t,n):nn(r,e).fill(t):nn(r,e)}function pu(r,e){if(Jc(e),r=nn(r,e<0?0:gu(e)|0),!J.TYPED_ARRAY_SUPPORT)for(var t=0;t<e;++t)r[t]=0;return r}function xp(r,e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!J.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var n=Xc(e,t)|0;r=nn(r,n);var i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}function hu(r,e){var t=e.length<0?0:gu(e.length)|0;r=nn(r,t);for(var n=0;n<t;n+=1)r[n]=e[n]&255;return r}function Op(r,e,t,n){if(e.byteLength,t<0||e.byteLength<t)throw new RangeError("'offset' is out of bounds");if(e.byteLength<t+(n||0))throw new RangeError("'length' is out of bounds");return t===void 0&&n===void 0?e=new Uint8Array(e):n===void 0?e=new Uint8Array(e,t):e=new Uint8Array(e,t,n),J.TYPED_ARRAY_SUPPORT?(r=e,r.__proto__=J.prototype):r=hu(r,e),r}function kp(r,e){if(Dr(e)){var t=gu(e.length)|0;return r=nn(r,t),r.length===0||e.copy(r,0,0,t),r}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||Xp(e.length)?nn(r,0):hu(r,e);if(e.type==="Buffer"&&Gc(e.data))return hu(r,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function gu(r){if(r>=ms())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ms().toString(16)+" bytes");return r|0}function Up(r){return+r!=r&&(r=0),J.alloc(+r)}function Dr(r){return!!(r!=null&&r._isBuffer)}function Xc(r,e){if(Dr(r))return r.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;typeof r!="string"&&(r=""+r);var t=r.length;if(t===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":case void 0:return vs(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return ol(r).length;default:if(n)return vs(r).length;e=(""+e).toLowerCase(),n=!0}}function Cp(r,e,t){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return Vp(this,e,t);case"utf8":case"utf-8":return tl(this,e,t);case"ascii":return zp(this,e,t);case"latin1":case"binary":return jp(this,e,t);case"base64":return Kp(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Yp(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}function li(r,e,t){var n=r[e];r[e]=r[t],r[t]=n}function Qc(r,e,t,n,i){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=i?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(i)return-1;t=r.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e=="string"&&(e=J.from(e,n)),Dr(e))return e.length===0?-1:Vc(r,e,t,n,i);if(typeof e=="number")return e=e&255,J.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):Vc(r,[e],t,n,i);throw new TypeError("val must be string, number or Buffer")}function Vc(r,e,t,n,i){var u=1,h=r.length,S=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;u=2,h/=2,S/=2,t/=2}function w(k,Y){return u===1?k[Y]:k.readUInt16BE(Y*u)}var A;if(i){var R=-1;for(A=t;A<h;A++)if(w(r,A)===w(e,R===-1?0:A-R)){if(R===-1&&(R=A),A-R+1===S)return R*u}else R!==-1&&(A-=A-R),R=-1}else for(t+S>h&&(t=h-S),A=t;A>=0;A--){for(var x=!0,L=0;L<S;L++)if(w(r,A+L)!==w(e,L)){x=!1;break}if(x)return A}return-1}function Dp(r,e,t,n){t=Number(t)||0;var i=r.length-t;n?(n=Number(n),n>i&&(n=i)):n=i;var u=e.length;if(u%2!==0)throw new TypeError("Invalid hex string");n>u/2&&(n=u/2);for(var h=0;h<n;++h){var S=parseInt(e.substr(h*2,2),16);if(isNaN(S))return h;r[t+h]=S}return h}function Rp(r,e,t,n){return Ss(vs(e,r.length-t),r,t,n)}function el(r,e,t,n){return Ss(Zp(e),r,t,n)}function Lp(r,e,t,n){return el(r,e,t,n)}function Fp(r,e,t,n){return Ss(ol(e),r,t,n)}function qp(r,e,t,n){return Ss(Jp(e,r.length-t),r,t,n)}function Kp(r,e,t){return e===0&&t===r.length?jc(r):jc(r.slice(e,t))}function tl(r,e,t){t=Math.min(r.length,t);for(var n=[],i=e;i<t;){var u=r[i],h=null,S=u>239?4:u>223?3:u>191?2:1;if(i+S<=t){var w,A,R,x;switch(S){case 1:u<128&&(h=u);break;case 2:w=r[i+1],(w&192)===128&&(x=(u&31)<<6|w&63,x>127&&(h=x));break;case 3:w=r[i+1],A=r[i+2],(w&192)===128&&(A&192)===128&&(x=(u&15)<<12|(w&63)<<6|A&63,x>2047&&(x<55296||x>57343)&&(h=x));break;case 4:w=r[i+1],A=r[i+2],R=r[i+3],(w&192)===128&&(A&192)===128&&(R&192)===128&&(x=(u&15)<<18|(w&63)<<12|(A&63)<<6|R&63,x>65535&&x<1114112&&(h=x))}}h===null?(h=65533,S=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|h&1023),n.push(h),i+=S}return Np(n)}function Np(r){var e=r.length;if(e<=Yc)return String.fromCharCode.apply(String,r);for(var t="",n=0;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=Yc));return t}function zp(r,e,t){var n="";t=Math.min(r.length,t);for(var i=e;i<t;++i)n+=String.fromCharCode(r[i]&127);return n}function jp(r,e,t){var n="";t=Math.min(r.length,t);for(var i=e;i<t;++i)n+=String.fromCharCode(r[i]);return n}function Vp(r,e,t){var n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);for(var i="",u=e;u<t;++u)i+=Hp(r[u]);return i}function Yp(r,e,t){for(var n=r.slice(e,t),i="",u=0;u<n.length;u+=2)i+=String.fromCharCode(n[u]+n[u+1]*256);return i}function ft(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}function kt(r,e,t,n,i,u){if(!Dr(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<u)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}function _s(r,e,t,n){e<0&&(e=65535+e+1);for(var i=0,u=Math.min(r.length-t,2);i<u;++i)r[t+i]=(e&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}function Ms(r,e,t,n){e<0&&(e=4294967295+e+1);for(var i=0,u=Math.min(r.length-t,4);i<u;++i)r[t+i]=e>>>(n?i:3-i)*8&255}function rl(r,e,t,n,i,u){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function nl(r,e,t,n,i){return i||rl(r,e,t,4),Wc(r,e,t,n,23,4),t+4}function il(r,e,t,n,i){return i||rl(r,e,t,8),Wc(r,e,t,n,52,8),t+8}function Wp(r){if(r=Gp(r).replace($p,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Gp(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function Hp(r){return r<16?"0"+r.toString(16):r.toString(16)}function vs(r,e){e=e||1/0;for(var t,n=r.length,i=null,u=[],h=0;h<n;++h){if(t=r.charCodeAt(h),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&u.push(239,191,189);continue}else if(h+1===n){(e-=3)>-1&&u.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&u.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&u.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;u.push(t)}else if(t<2048){if((e-=2)<0)break;u.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;u.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;u.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return u}function Zp(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function Jp(r,e){for(var t,n,i,u=[],h=0;h<r.length&&!((e-=2)<0);++h)t=r.charCodeAt(h),n=t>>8,i=t%256,u.push(i),u.push(n);return u}function ol(r){return Ap(Wp(r))}function Ss(r,e,t,n){for(var i=0;i<n&&!(i+t>=e.length||i>=r.length);++i)e[i+t]=r[i];return i}function Xp(r){return r!==r}function Mn(r){return r!=null&&(!!r._isBuffer||sl(r)||Qp(r))}function sl(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function Qp(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&sl(r.slice(0,0))}var Cr,ur,Sp,du,Bp,Gc,Hc,Ip,Yc,$p,yu=ui(()=>{B();I();Cr=[],ur=[],Sp=typeof Uint8Array<"u"?Uint8Array:Array,du=!1;Bp={}.toString,Gc=Array.isArray||function(r){return Bp.call(r)=="[object Array]"};Hc=50;J.TYPED_ARRAY_SUPPORT=globalThis.TYPED_ARRAY_SUPPORT!==void 0?globalThis.TYPED_ARRAY_SUPPORT:!0;Ip=ms();J.poolSize=8192;J._augment=function(r){return r.__proto__=J.prototype,r};J.from=function(r,e,t){return Zc(null,r,e,t)};J.TYPED_ARRAY_SUPPORT&&(J.prototype.__proto__=Uint8Array.prototype,J.__proto__=Uint8Array);J.alloc=function(r,e,t){return Pp(null,r,e,t)};J.allocUnsafe=function(r){return pu(null,r)};J.allocUnsafeSlow=function(r){return pu(null,r)};J.isBuffer=Mn;J.compare=function(e,t){if(!Dr(e)||!Dr(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,u=0,h=Math.min(n,i);u<h;++u)if(e[u]!==t[u]){n=e[u],i=t[u];break}return n<i?-1:i<n?1:0};J.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};J.concat=function(e,t){if(!Gc(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return J.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=J.allocUnsafe(t),u=0;for(n=0;n<e.length;++n){var h=e[n];if(!Dr(h))throw new TypeError('"list" argument must be an Array of Buffers');h.copy(i,u),u+=h.length}return i};J.byteLength=Xc;J.prototype._isBuffer=!0;J.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)li(this,t,t+1);return this};J.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)li(this,t,t+3),li(this,t+1,t+2);return this};J.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)li(this,t,t+7),li(this,t+1,t+6),li(this,t+2,t+5),li(this,t+3,t+4);return this};J.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?tl(this,0,e):Cp.apply(this,arguments)};J.prototype.equals=function(e){if(!Dr(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:J.compare(this,e)===0};J.prototype.inspect=function(){var e="",t=Hc;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"};J.prototype.compare=function(e,t,n,i,u){if(!Dr(e))throw new TypeError("Argument must be a Buffer");if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),u===void 0&&(u=this.length),t<0||n>e.length||i<0||u>this.length)throw new RangeError("out of range index");if(i>=u&&t>=n)return 0;if(i>=u)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,u>>>=0,this===e)return 0;for(var h=u-i,S=n-t,w=Math.min(h,S),A=this.slice(i,u),R=e.slice(t,n),x=0;x<w;++x)if(A[x]!==R[x]){h=A[x],S=R[x];break}return h<S?-1:S<h?1:0};J.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};J.prototype.indexOf=function(e,t,n){return Qc(this,e,t,n,!0)};J.prototype.lastIndexOf=function(e,t,n){return Qc(this,e,t,n,!1)};J.prototype.write=function(e,t,n,i){if(t===void 0)i="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")i=t,n=this.length,t=0;else if(isFinite(t))t=t|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var u=this.length-t;if((n===void 0||n>u)&&(n=u),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var h=!1;;)switch(i){case"hex":return Dp(this,e,t,n);case"utf8":case"utf-8":return Rp(this,e,t,n);case"ascii":return el(this,e,t,n);case"latin1":case"binary":return Lp(this,e,t,n);case"base64":return Fp(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qp(this,e,t,n);default:if(h)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),h=!0}};J.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};Yc=4096;J.prototype.slice=function(e,t){var n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var i;if(J.TYPED_ARRAY_SUPPORT)i=this.subarray(e,t),i.__proto__=J.prototype;else{var u=t-e;i=new J(u,void 0);for(var h=0;h<u;++h)i[h]=this[h+e]}return i};J.prototype.readUIntLE=function(e,t,n){e=e|0,t=t|0,n||ft(e,t,this.length);for(var i=this[e],u=1,h=0;++h<t&&(u*=256);)i+=this[e+h]*u;return i};J.prototype.readUIntBE=function(e,t,n){e=e|0,t=t|0,n||ft(e,t,this.length);for(var i=this[e+--t],u=1;t>0&&(u*=256);)i+=this[e+--t]*u;return i};J.prototype.readUInt8=function(e,t){return t||ft(e,1,this.length),this[e]};J.prototype.readUInt16LE=function(e,t){return t||ft(e,2,this.length),this[e]|this[e+1]<<8};J.prototype.readUInt16BE=function(e,t){return t||ft(e,2,this.length),this[e]<<8|this[e+1]};J.prototype.readUInt32LE=function(e,t){return t||ft(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};J.prototype.readUInt32BE=function(e,t){return t||ft(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};J.prototype.readIntLE=function(e,t,n){e=e|0,t=t|0,n||ft(e,t,this.length);for(var i=this[e],u=1,h=0;++h<t&&(u*=256);)i+=this[e+h]*u;return u*=128,i>=u&&(i-=Math.pow(2,8*t)),i};J.prototype.readIntBE=function(e,t,n){e=e|0,t=t|0,n||ft(e,t,this.length);for(var i=t,u=1,h=this[e+--i];i>0&&(u*=256);)h+=this[e+--i]*u;return u*=128,h>=u&&(h-=Math.pow(2,8*t)),h};J.prototype.readInt8=function(e,t){return t||ft(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};J.prototype.readInt16LE=function(e,t){t||ft(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};J.prototype.readInt16BE=function(e,t){t||ft(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};J.prototype.readInt32LE=function(e,t){return t||ft(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};J.prototype.readInt32BE=function(e,t){return t||ft(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};J.prototype.readFloatLE=function(e,t){return t||ft(e,4,this.length),ws(this,e,!0,23,4)};J.prototype.readFloatBE=function(e,t){return t||ft(e,4,this.length),ws(this,e,!1,23,4)};J.prototype.readDoubleLE=function(e,t){return t||ft(e,8,this.length),ws(this,e,!0,52,8)};J.prototype.readDoubleBE=function(e,t){return t||ft(e,8,this.length),ws(this,e,!1,52,8)};J.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t=t|0,n=n|0,!i){var u=Math.pow(2,8*n)-1;kt(this,e,t,n,u,0)}var h=1,S=0;for(this[t]=e&255;++S<n&&(h*=256);)this[t+S]=e/h&255;return t+n};J.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t=t|0,n=n|0,!i){var u=Math.pow(2,8*n)-1;kt(this,e,t,n,u,0)}var h=n-1,S=1;for(this[t+h]=e&255;--h>=0&&(S*=256);)this[t+h]=e/S&255;return t+n};J.prototype.writeUInt8=function(e,t,n){return e=+e,t=t|0,n||kt(this,e,t,1,255,0),J.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=e&255,t+1};J.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t|0,n||kt(this,e,t,2,65535,0),J.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8):_s(this,e,t,!0),t+2};J.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t|0,n||kt(this,e,t,2,65535,0),J.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e&255):_s(this,e,t,!1),t+2};J.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t|0,n||kt(this,e,t,4,4294967295,0),J.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255):Ms(this,e,t,!0),t+4};J.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t|0,n||kt(this,e,t,4,4294967295,0),J.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255):Ms(this,e,t,!1),t+4};J.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=t|0,!i){var u=Math.pow(2,8*n-1);kt(this,e,t,n,u-1,-u)}var h=0,S=1,w=0;for(this[t]=e&255;++h<n&&(S*=256);)e<0&&w===0&&this[t+h-1]!==0&&(w=1),this[t+h]=(e/S>>0)-w&255;return t+n};J.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=t|0,!i){var u=Math.pow(2,8*n-1);kt(this,e,t,n,u-1,-u)}var h=n-1,S=1,w=0;for(this[t+h]=e&255;--h>=0&&(S*=256);)e<0&&w===0&&this[t+h+1]!==0&&(w=1),this[t+h]=(e/S>>0)-w&255;return t+n};J.prototype.writeInt8=function(e,t,n){return e=+e,t=t|0,n||kt(this,e,t,1,127,-128),J.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=e&255,t+1};J.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t|0,n||kt(this,e,t,2,32767,-32768),J.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8):_s(this,e,t,!0),t+2};J.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t|0,n||kt(this,e,t,2,32767,-32768),J.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e&255):_s(this,e,t,!1),t+2};J.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t|0,n||kt(this,e,t,4,2147483647,-2147483648),J.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Ms(this,e,t,!0),t+4};J.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t|0,n||kt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),J.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255):Ms(this,e,t,!1),t+4};J.prototype.writeFloatLE=function(e,t,n){return nl(this,e,t,!0,n)};J.prototype.writeFloatBE=function(e,t,n){return nl(this,e,t,!1,n)};J.prototype.writeDoubleLE=function(e,t,n){return il(this,e,t,!0,n)};J.prototype.writeDoubleBE=function(e,t,n){return il(this,e,t,!1,n)};J.prototype.copy=function(e,t,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var u=i-n,h;if(this===e&&n<t&&t<i)for(h=u-1;h>=0;--h)e[h+t]=this[h+n];else if(u<1e3||!J.TYPED_ARRAY_SUPPORT)for(h=0;h<u;++h)e[h+t]=this[h+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+u),t);return u};J.prototype.fill=function(e,t,n,i){if(typeof e=="string"){if(typeof t=="string"?(i=t,t=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),e.length===1){var u=e.charCodeAt(0);u<256&&(e=u)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!J.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof e=="number"&&(e=e&255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var h;if(typeof e=="number")for(h=t;h<n;++h)this[h]=e;else{var S=Dr(e)?e:vs(new J(e,i).toString()),w=S.length;for(h=0;h<n-t;++h)this[h+t]=S[h%w]}return this};$p=/[^+\/0-9A-Za-z-_]/g});var mt=G((p_,As)=>{B();I();var hi=(yu(),Oc(al));if(hi&&hi.default){As.exports=hi.default;for(let r in hi)As.exports[r]=hi[r]}else hi&&(As.exports=hi)});var Di=G(K=>{"use strict";B();I();Object.defineProperty(K,"__esModule",{value:!0});K.s16=K.s8=K.nu64be=K.u48be=K.u40be=K.u32be=K.u24be=K.u16be=K.nu64=K.u48=K.u40=K.u32=K.u24=K.u16=K.u8=K.offset=K.greedy=K.Constant=K.UTF8=K.CString=K.Blob=K.Boolean=K.BitField=K.BitStructure=K.VariantLayout=K.Union=K.UnionLayoutDiscriminator=K.UnionDiscriminator=K.Structure=K.Sequence=K.DoubleBE=K.Double=K.FloatBE=K.Float=K.NearInt64BE=K.NearInt64=K.NearUInt64BE=K.NearUInt64=K.IntBE=K.Int=K.UIntBE=K.UInt=K.OffsetLayout=K.GreedyCount=K.ExternalLayout=K.bindConstructorLayout=K.nameWithProperty=K.Layout=K.uint8ArrayToBuffer=K.checkUint8Array=void 0;K.constant=K.utf8=K.cstr=K.blob=K.unionLayoutDiscriminator=K.union=K.seq=K.bits=K.struct=K.f64be=K.f64=K.f32be=K.f32=K.ns64be=K.s48be=K.s40be=K.s32be=K.s24be=K.s16be=K.ns64=K.s48=K.s40=K.s32=K.s24=void 0;var mu=mt();function Ci(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}K.checkUint8Array=Ci;function ze(r){return Ci(r),mu.Buffer.from(r.buffer,r.byteOffset,r.length)}K.uint8ArrayToBuffer=ze;var Ve=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};K.Layout=Ve;function vu(r,e){return e.property?r+"["+e.property+"]":r}K.nameWithProperty=vu;function eg(r,e){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Ve))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=e,e.boundConstructor_=r,e.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(r,"decode",{value(t,n){return e.decode(t,n)},writable:!0})}K.bindConstructorLayout=eg;var vt=class extends Ve{isCount(){throw new Error("ExternalLayout is abstract")}};K.ExternalLayout=vt;var Es=class extends vt{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){Ci(e);let n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}};K.GreedyCount=Es;var Co=class extends vt{constructor(e,t=0,n){if(!(e instanceof Ve))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Ut||this.layout instanceof Jt}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}};K.OffsetLayout=Co;var Ut=class extends Ve{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return ze(e).readUIntLE(t,this.span)}encode(e,t,n=0){return ze(t).writeUIntLE(e,n,this.span),this.span}};K.UInt=Ut;var Jt=class extends Ve{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return ze(e).readUIntBE(t,this.span)}encode(e,t,n=0){return ze(t).writeUIntBE(e,n,this.span),this.span}};K.UIntBE=Jt;var on=class extends Ve{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return ze(e).readIntLE(t,this.span)}encode(e,t,n=0){return ze(t).writeIntLE(e,n,this.span),this.span}};K.Int=on;var Sn=class extends Ve{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return ze(e).readIntBE(t,this.span)}encode(e,t,n=0){return ze(t).writeIntBE(e,n,this.span),this.span}};K.IntBE=Sn;var bu=Math.pow(2,32);function zs(r){let e=Math.floor(r/bu),t=r-e*bu;return{hi32:e,lo32:t}}function js(r,e){return r*bu+e}var Ts=class extends Ve{constructor(e){super(8,e)}decode(e,t=0){let n=ze(e),i=n.readUInt32LE(t),u=n.readUInt32LE(t+4);return js(u,i)}encode(e,t,n=0){let i=zs(e),u=ze(t);return u.writeUInt32LE(i.lo32,n),u.writeUInt32LE(i.hi32,n+4),8}};K.NearUInt64=Ts;var Bs=class extends Ve{constructor(e){super(8,e)}decode(e,t=0){let n=ze(e),i=n.readUInt32BE(t),u=n.readUInt32BE(t+4);return js(i,u)}encode(e,t,n=0){let i=zs(e),u=ze(t);return u.writeUInt32BE(i.hi32,n),u.writeUInt32BE(i.lo32,n+4),8}};K.NearUInt64BE=Bs;var Is=class extends Ve{constructor(e){super(8,e)}decode(e,t=0){let n=ze(e),i=n.readUInt32LE(t),u=n.readInt32LE(t+4);return js(u,i)}encode(e,t,n=0){let i=zs(e),u=ze(t);return u.writeUInt32LE(i.lo32,n),u.writeInt32LE(i.hi32,n+4),8}};K.NearInt64=Is;var Ps=class extends Ve{constructor(e){super(8,e)}decode(e,t=0){let n=ze(e),i=n.readInt32BE(t),u=n.readUInt32BE(t+4);return js(i,u)}encode(e,t,n=0){let i=zs(e),u=ze(t);return u.writeInt32BE(i.hi32,n),u.writeUInt32BE(i.lo32,n+4),8}};K.NearInt64BE=Ps;var xs=class extends Ve{constructor(e){super(4,e)}decode(e,t=0){return ze(e).readFloatLE(t)}encode(e,t,n=0){return ze(t).writeFloatLE(e,n),4}};K.Float=xs;var Os=class extends Ve{constructor(e){super(4,e)}decode(e,t=0){return ze(e).readFloatBE(t)}encode(e,t,n=0){return ze(t).writeFloatBE(e,n),4}};K.FloatBE=Os;var ks=class extends Ve{constructor(e){super(8,e)}decode(e,t=0){return ze(e).readDoubleLE(t)}encode(e,t,n=0){return ze(t).writeDoubleLE(e,n),8}};K.Double=ks;var Us=class extends Ve{constructor(e){super(8,e)}decode(e,t=0){return ze(e).readDoubleBE(t)}encode(e,t,n=0){return ze(t).writeDoubleBE(e,n),8}};K.DoubleBE=Us;var Cs=class extends Ve{constructor(e,t,n){if(!(e instanceof Ve))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof vt&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(t instanceof vt)&&0<e.span&&(i=t*e.span),super(i,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof vt&&(i=i.decode(e,t)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let u=0;for(;u<i;)n+=this.elementLayout.getSpan(e,t+n),++u}return n}decode(e,t=0){let n=[],i=0,u=this.count;for(u instanceof vt&&(u=u.decode(e,t));i<u;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),i+=1;return n}encode(e,t,n=0){let i=this.elementLayout,u=e.reduce((h,S)=>h+i.encode(S,t,n+h),0);return this.count instanceof vt&&this.count.encode(e.length,t,n),u}};K.Sequence=Cs;var Ds=class extends Ve{constructor(e,t,n){if(!(Array.isArray(e)&&e.reduce((u,h)=>u&&h instanceof Ve,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&n===void 0&&(n=t,t=void 0);for(let u of e)if(0>u.span&&u.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((u,h)=>u+h.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,u)=>{let h=u.getSpan(e,t);return t+=h,i+h},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,t=0){Ci(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){let i=n,u=0,h=0;for(let S of this.fields){let w=S.span;if(h=0<w?w:0,S.property!==void 0){let A=e[S.property];A!==void 0&&(h=S.encode(A,t,n),0>w&&(w=S.getSpan(t,n)))}u=n,n+=w}return u+h-i}fromArray(e){let t=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(t[n.property]=e.shift());return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(let n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}};K.Structure=Ds;var Do=class{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}};K.UnionDiscriminator=Do;var Ui=class extends Do{constructor(e,t){if(!(e instanceof vt&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}};K.UnionLayoutDiscriminator=Ui;var Ro=class extends Ve{constructor(e,t,n){let i;if(e instanceof Ut||e instanceof Jt)i=new Ui(new Co(e));else if(e instanceof vt&&e.isCount())i=new Ui(e);else if(e instanceof Do)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Ve))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let u=-1;t&&(u=t.span,0<=u&&(e instanceof Ut||e instanceof Jt)&&(u+=i.layout.span)),super(u,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Ut||e instanceof Jt,this.defaultLayout=t,this.registry={};let h=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(S){return h(S)},this.configGetSourceVariant=function(S){h=S.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n,i=this.discriminator,u=i.decode(e,t),h=this.registry[u];if(h===void 0){let S=this.defaultLayout,w=0;this.usesPrefixDiscriminator&&(w=i.layout.span),n=this.makeDestinationObject(),n[i.property]=u,n[S.property]=S.decode(e,t+w)}else n=h.decode(e,t);return n}encode(e,t,n=0){let i=this.getSourceVariant(e);if(i===void 0){let u=this.discriminator,h=this.defaultLayout,S=0;return this.usesPrefixDiscriminator&&(S=u.layout.span),u.encode(e[u.property],t,n),S+h.encode(e[h.property],t,n+S)}return i.encode(e,t,n)}addVariant(e,t,n){let i=new Rs(this,e,t,n);return this.registry[e]=i,i}getVariant(e,t=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,t):n=e,this.registry[n]}};K.Union=Ro;var Rs=class extends Ve{constructor(e,t,n,i){if(!(e instanceof Ro))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Ve))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let u=e.span;0>e.span&&(u=n?n.span:0,0<=u&&e.usesPrefixDiscriminator&&(u+=e.discriminator.layout.span)),super(u,i),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,t+n)),n+i}decode(e,t=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let u=i;if(this.layout&&(this.layout.encode(e[this.property],t,n+i),u+=this.layout.getSpan(t,n+i),0<=this.union.span&&u>this.union.span))throw new Error("encoded variant overruns containing union");return u}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};K.VariantLayout=Rs;function ki(r){return 0>r&&(r+=4294967296),r}var Lo=class extends Ve{constructor(e,t,n){if(!(e instanceof Ut||e instanceof Jt))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&n===void 0&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let i=0;this._packedSetValue=function(u){return i=ki(u),this},this._packedGetValue=function(){return i}}decode(e,t=0){let n=this.makeDestinationObject(),i=this.word.decode(e,t);this._packedSetValue(i);for(let u of this.fields)u.property!==void 0&&(n[u.property]=u.decode(e));return n}encode(e,t,n=0){let i=this.word.decode(t,n);this._packedSetValue(i);for(let u of this.fields)if(u.property!==void 0){let h=e[u.property];h!==void 0&&u.encode(h)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){let n=new Fo(this,e,t);return this.fields.push(n),n}addBoolean(e){let t=new Ls(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}};K.BitStructure=Lo;var Fo=class{constructor(e,t,n){if(!(e instanceof Lo))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");let i=8*e.span,u=e.fields.reduce((h,S)=>h+S.bits,0);if(t+u>i)throw new Error("bits too long for span remainder ("+(i-u)+" of "+i+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=u,this.container.msb&&(this.start=i-u-t),this.wordMask=ki(this.valueMask<<this.start),this.property=n}decode(e,t){let n=this.container._packedGetValue();return ki(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==ki(e&this.valueMask))throw new TypeError(vu("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),n=ki(e<<this.start);this.container._packedSetValue(ki(t&~this.wordMask)|n)}};K.BitField=Fo;var Ls=class extends Fo{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};K.Boolean=Ls;var Fs=class extends Ve{constructor(e,t){if(!(e instanceof vt&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof vt||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),ze(e).slice(t,t+n)}encode(e,t,n){let i=this.length;if(this.length instanceof vt&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(vu("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>t.length)throw new RangeError("encoding overruns Uint8Array");let u=ze(e);return ze(t).write(u.toString("hex"),n,i,"hex"),this.length instanceof vt&&this.length.encode(i,t,n),i}};K.Blob=Fs;var qs=class extends Ve{constructor(e){super(-1,e)}getSpan(e,t=0){Ci(e);let n=t;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-t}decode(e,t=0){let n=this.getSpan(e,t);return ze(e).slice(t,t+n-1).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let i=mu.Buffer.from(e,"utf8"),u=i.length;if(n+u>t.length)throw new RangeError("encoding overruns Buffer");let h=ze(t);return i.copy(h,n),h[n+u]=0,u+1}};K.CString=qs;var Ks=class extends Ve{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return Ci(e),e.length-t}decode(e,t=0){let n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return ze(e).slice(t,t+n).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let i=mu.Buffer.from(e,"utf8"),u=i.length;if(0<=this.maxSpan&&this.maxSpan<u)throw new RangeError("text length exceeds maxSpan");if(n+u>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(ze(t),n),u}};K.UTF8=Ks;var Ns=class extends Ve{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}};K.Constant=Ns;K.greedy=(r,e)=>new Es(r,e);K.offset=(r,e,t)=>new Co(r,e,t);K.u8=r=>new Ut(1,r);K.u16=r=>new Ut(2,r);K.u24=r=>new Ut(3,r);K.u32=r=>new Ut(4,r);K.u40=r=>new Ut(5,r);K.u48=r=>new Ut(6,r);K.nu64=r=>new Ts(r);K.u16be=r=>new Jt(2,r);K.u24be=r=>new Jt(3,r);K.u32be=r=>new Jt(4,r);K.u40be=r=>new Jt(5,r);K.u48be=r=>new Jt(6,r);K.nu64be=r=>new Bs(r);K.s8=r=>new on(1,r);K.s16=r=>new on(2,r);K.s24=r=>new on(3,r);K.s32=r=>new on(4,r);K.s40=r=>new on(5,r);K.s48=r=>new on(6,r);K.ns64=r=>new Is(r);K.s16be=r=>new Sn(2,r);K.s24be=r=>new Sn(3,r);K.s32be=r=>new Sn(4,r);K.s40be=r=>new Sn(5,r);K.s48be=r=>new Sn(6,r);K.ns64be=r=>new Ps(r);K.f32=r=>new xs(r);K.f32be=r=>new Os(r);K.f64=r=>new ks(r);K.f64be=r=>new Us(r);K.struct=(r,e,t)=>new Ds(r,e,t);K.bits=(r,e,t)=>new Lo(r,e,t);K.seq=(r,e,t)=>new Cs(r,e,t);K.union=(r,e,t)=>new Ro(r,e,t);K.unionLayoutDiscriminator=(r,e)=>new Ui(r,e);K.blob=(r,e)=>new Fs(r,e);K.cstr=r=>new qs(r);K.utf8=(r,e)=>new Ks(r,e);K.constant=(r,e)=>new Ns(r,e)});var Ri=G(Vs=>{"use strict";B();I();Object.defineProperty(Vs,"__esModule",{value:!0});Vs.encodeDecode=void 0;var tg=r=>{let e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}};Vs.encodeDecode=tg});var $s=G(Li=>{"use strict";B();I();Object.defineProperty(Li,"__esModule",{value:!0});var Ys;function rg(r){{let e=q.Buffer.from(r);e.reverse();let t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}return Ys.toBigInt(r,!1)}Li.toBigIntLE=rg;function ng(r){{let e=r.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}return Ys.toBigInt(r,!0)}Li.toBigIntBE=ng;function ig(r,e){{let t=r.toString(16),n=q.Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}return Ys.fromBigInt(r,q.Buffer.allocUnsafe(e),!1)}Li.toBufferLE=ig;function og(r,e){{let t=r.toString(16);return q.Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex")}return Ys.fromBigInt(r,q.Buffer.allocUnsafe(e),!0)}Li.toBufferBE=og});var wu=G(Ye=>{"use strict";B();I();Object.defineProperty(Ye,"__esModule",{value:!0});Ye.u256be=Ye.u256=Ye.u192be=Ye.u192=Ye.u128be=Ye.u128=Ye.u64be=Ye.u64=Ye.bigIntBE=Ye.bigInt=void 0;var ul=mt(),fl=Di(),Ws=$s(),cl=Ri(),sg=r=>e=>{let t=(0,fl.blob)(r,e),{encode:n,decode:i}=(0,cl.encodeDecode)(t),u=t;return u.decode=(h,S)=>{let w=i(h,S);return(0,Ws.toBigIntLE)(ul.Buffer.from(w))},u.encode=(h,S,w)=>{let A=(0,Ws.toBufferLE)(h,r);return n(A,S,w)},u};Ye.bigInt=sg;var ag=r=>e=>{let t=(0,fl.blob)(r,e),{encode:n,decode:i}=(0,cl.encodeDecode)(t),u=t;return u.decode=(h,S)=>{let w=i(h,S);return(0,Ws.toBigIntBE)(ul.Buffer.from(w))},u.encode=(h,S,w)=>{let A=(0,Ws.toBufferBE)(h,r);return n(A,S,w)},u};Ye.bigIntBE=ag;Ye.u64=(0,Ye.bigInt)(8);Ye.u64be=(0,Ye.bigIntBE)(8);Ye.u128=(0,Ye.bigInt)(16);Ye.u128be=(0,Ye.bigIntBE)(16);Ye.u192=(0,Ye.bigInt)(24);Ye.u192be=(0,Ye.bigIntBE)(24);Ye.u256=(0,Ye.bigInt)(32);Ye.u256be=(0,Ye.bigIntBE)(32)});var hl=G(An=>{"use strict";B();I();Object.defineProperty(An,"__esModule",{value:!0});An.decimal=An.WAD=void 0;var ll=Zt(),ug=Ri(),fg=wu();An.WAD=new ll.BigNumber("1e+18");var cg=r=>{let e=(0,fg.u128)(r),{encode:t,decode:n}=(0,ug.encodeDecode)(e),i=e;return i.decode=(u,h)=>{let S=n(u,h).toString();return new ll.BigNumber(S).div(An.WAD)},i.encode=(u,h,S)=>{let w=BigInt(u.times(An.WAD).integerValue().toString());return t(w,h,S)},i};An.decimal=cg});var dl=G(Gs=>{"use strict";B();I();Object.defineProperty(Gs,"__esModule",{value:!0});Gs.bool=void 0;var lg=Di(),hg=Ri(),dg=r=>{let e=(0,lg.u8)(r),{encode:t,decode:n}=(0,hg.encodeDecode)(e),i=e;return i.decode=(u,h)=>!!n(u,h),i.encode=(u,h,S)=>{let w=Number(u);return t(w,h,S)},i};Gs.bool=dg});var pl=G(Hs=>{"use strict";B();I();Object.defineProperty(Hs,"__esModule",{value:!0});Hs.publicKey=void 0;var pg=Di(),gg=et(),yg=Ri(),bg=r=>{let e=(0,pg.blob)(32,r),{encode:t,decode:n}=(0,yg.encodeDecode)(e),i=e;return i.decode=(u,h)=>{let S=n(u,h);return new gg.PublicKey(S)},i.encode=(u,h,S)=>{let w=u.toBuffer();return t(w,h,S)},i};Hs.publicKey=bg});var gl=G(fr=>{"use strict";B();I();var mg=fr&&fr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Fi=fr&&fr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&mg(e,r,t)};Object.defineProperty(fr,"__esModule",{value:!0});Fi(Ri(),fr);Fi(wu(),fr);Fi(hl(),fr);Fi(dl(),fr);Fi(pl(),fr);Fi(Di(),fr)});var ct=G(En=>{"use strict";B();I();var vg=En&&En.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),yl=En&&En.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&vg(e,r,t)};Object.defineProperty(En,"__esModule",{value:!0});yl(Di(),En);yl(gl(),En)});var _u=G(Rr=>{"use strict";B();I();var wg=Rr&&Rr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_g=Rr&&Rr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Mg=Rr&&Rr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&wg(e,r,t);return _g(e,r),e};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.FeeCalculatorLayout=void 0;var Sg=Mg(ct());Rr.FeeCalculatorLayout=Sg.nu64("lamportsPerSignature")});var ml=G((bl,Mu)=>{B();I();(function(r,e){"use strict";function t(b,o){if(!b)throw new Error(o||"Assertion failed")}function n(b,o){b.super_=o;var a=function(){};a.prototype=o.prototype,b.prototype=new a,b.prototype.constructor=b}function i(b,o,a){if(i.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((o==="le"||o==="be")&&(a=o,o=10),this._init(b||0,o||10,a||"be"))}typeof r=="object"?r.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=mt().Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,a){return o.cmp(a)>0?o:a},i.min=function(o,a){return o.cmp(a)<0?o:a},i.prototype._init=function(o,a,f){if(typeof o=="number")return this._initNumber(o,a,f);if(typeof o=="object")return this._initArray(o,a,f);a==="hex"&&(a=16),t(a===(a|0)&&a>=2&&a<=36),o=o.toString().replace(/\s+/g,"");var l=0;o[0]==="-"&&(l++,this.negative=1),l<o.length&&(a===16?this._parseHex(o,l,f):(this._parseBase(o,a,l),f==="le"&&this._initArray(this.toArray(),a,f)))},i.prototype._initNumber=function(o,a,f){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(t(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),a,f)},i.prototype._initArray=function(o,a,f){if(t(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var g,_,E=0;if(f==="be")for(l=o.length-1,g=0;l>=0;l-=3)_=o[l]|o[l-1]<<8|o[l-2]<<16,this.words[g]|=_<<E&67108863,this.words[g+1]=_>>>26-E&67108863,E+=24,E>=26&&(E-=26,g++);else if(f==="le")for(l=0,g=0;l<o.length;l+=3)_=o[l]|o[l+1]<<8|o[l+2]<<16,this.words[g]|=_<<E&67108863,this.words[g+1]=_>>>26-E&67108863,E+=24,E>=26&&(E-=26,g++);return this._strip()};function h(b,o){var a=b.charCodeAt(o);if(a>=48&&a<=57)return a-48;if(a>=65&&a<=70)return a-55;if(a>=97&&a<=102)return a-87;t(!1,"Invalid character in "+b)}function S(b,o,a){var f=h(b,a);return a-1>=o&&(f|=h(b,a-1)<<4),f}i.prototype._parseHex=function(o,a,f){this.length=Math.ceil((o.length-a)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var g=0,_=0,E;if(f==="be")for(l=o.length-1;l>=a;l-=2)E=S(o,a,l)<<g,this.words[_]|=E&67108863,g>=18?(g-=18,_+=1,this.words[_]|=E>>>26):g+=8;else{var p=o.length-a;for(l=p%2===0?a+1:a;l<o.length;l+=2)E=S(o,a,l)<<g,this.words[_]|=E&67108863,g>=18?(g-=18,_+=1,this.words[_]|=E>>>26):g+=8}this._strip()};function w(b,o,a,f){for(var l=0,g=0,_=Math.min(b.length,a),E=o;E<_;E++){var p=b.charCodeAt(E)-48;l*=f,p>=49?g=p-49+10:p>=17?g=p-17+10:g=p,t(p>=0&&g<f,"Invalid character"),l+=g}return l}i.prototype._parseBase=function(o,a,f){this.words=[0],this.length=1;for(var l=0,g=1;g<=67108863;g*=a)l++;l--,g=g/a|0;for(var _=o.length-f,E=_%l,p=Math.min(_,_-E)+f,s=0,y=f;y<p;y+=l)s=w(o,y,y+l,a),this.imuln(g),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(E!==0){var V=1;for(s=w(o,y,o.length,a),y=0;y<E;y++)V*=a;this.imuln(V),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this._strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var a=0;a<this.length;a++)o.words[a]=this.words[a];o.length=this.length,o.negative=this.negative,o.red=this.red};function A(b,o){b.words=o.words,b.length=o.length,b.negative=o.negative,b.red=o.red}if(i.prototype._move=function(o){A(o,this)},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=R}catch{i.prototype.inspect=R}else i.prototype.inspect=R;function R(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],L=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,a){o=o||10,a=a|0||1;var f;if(o===16||o==="hex"){f="";for(var l=0,g=0,_=0;_<this.length;_++){var E=this.words[_],p=((E<<l|g)&16777215).toString(16);g=E>>>24-l&16777215,l+=2,l>=26&&(l-=26,_--),g!==0||_!==this.length-1?f=x[6-p.length]+p+f:f=p+f}for(g!==0&&(f=g.toString(16)+f);f.length%a!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(o===(o|0)&&o>=2&&o<=36){var s=L[o],y=k[o];f="";var V=this.clone();for(V.negative=0;!V.isZero();){var W=V.modrn(y).toString(o);V=V.idivn(y),V.isZero()?f=W+f:f=x[s-W.length]+W+f}for(this.isZero()&&(f="0"+f);f.length%a!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}t(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16,2)},u&&(i.prototype.toBuffer=function(o,a){return this.toArrayLike(u,o,a)}),i.prototype.toArray=function(o,a){return this.toArrayLike(Array,o,a)};var Y=function(o,a){return o.allocUnsafe?o.allocUnsafe(a):new o(a)};i.prototype.toArrayLike=function(o,a,f){this._strip();var l=this.byteLength(),g=f||Math.max(1,l);t(l<=g,"byte array longer than desired length"),t(g>0,"Requested array length <= 0");var _=Y(o,g),E=a==="le"?"LE":"BE";return this["_toArrayLike"+E](_,l),_},i.prototype._toArrayLikeLE=function(o,a){for(var f=0,l=0,g=0,_=0;g<this.length;g++){var E=this.words[g]<<_|l;o[f++]=E&255,f<o.length&&(o[f++]=E>>8&255),f<o.length&&(o[f++]=E>>16&255),_===6?(f<o.length&&(o[f++]=E>>24&255),l=0,_=0):(l=E>>>24,_+=2)}if(f<o.length)for(o[f++]=l;f<o.length;)o[f++]=0},i.prototype._toArrayLikeBE=function(o,a){for(var f=o.length-1,l=0,g=0,_=0;g<this.length;g++){var E=this.words[g]<<_|l;o[f--]=E&255,f>=0&&(o[f--]=E>>8&255),f>=0&&(o[f--]=E>>16&255),_===6?(f>=0&&(o[f--]=E>>24&255),l=0,_=0):(l=E>>>24,_+=2)}if(f>=0)for(o[f--]=l;f>=0;)o[f--]=0},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var a=o,f=0;return a>=4096&&(f+=13,a>>>=13),a>=64&&(f+=7,a>>>=7),a>=8&&(f+=4,a>>>=4),a>=2&&(f+=2,a>>>=2),f+a},i.prototype._zeroBits=function(o){if(o===0)return 26;var a=o,f=0;return(a&8191)===0&&(f+=13,a>>>=13),(a&127)===0&&(f+=7,a>>>=7),(a&15)===0&&(f+=4,a>>>=4),(a&3)===0&&(f+=2,a>>>=2),(a&1)===0&&f++,f},i.prototype.bitLength=function(){var o=this.words[this.length-1],a=this._countBits(o);return(this.length-1)*26+a};function z(b){for(var o=new Array(b.bitLength()),a=0;a<o.length;a++){var f=a/26|0,l=a%26;o[a]=b.words[f]>>>l&1}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,a=0;a<this.length;a++){var f=this._zeroBits(this.words[a]);if(o+=f,f!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var a=0;a<o.length;a++)this.words[a]=this.words[a]|o.words[a];return this._strip()},i.prototype.ior=function(o){return t((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var a;this.length>o.length?a=o:a=this;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]&o.words[f];return this.length=a.length,this._strip()},i.prototype.iand=function(o){return t((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var a,f;this.length>o.length?(a=this,f=o):(a=o,f=this);for(var l=0;l<f.length;l++)this.words[l]=a.words[l]^f.words[l];if(this!==a)for(;l<a.length;l++)this.words[l]=a.words[l];return this.length=a.length,this._strip()},i.prototype.ixor=function(o){return t((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){t(typeof o=="number"&&o>=0);var a=Math.ceil(o/26)|0,f=o%26;this._expand(a),f>0&&a--;for(var l=0;l<a;l++)this.words[l]=~this.words[l]&67108863;return f>0&&(this.words[l]=~this.words[l]&67108863>>26-f),this._strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,a){t(typeof o=="number"&&o>=0);var f=o/26|0,l=o%26;return this._expand(f+1),a?this.words[f]=this.words[f]|1<<l:this.words[f]=this.words[f]&~(1<<l),this._strip()},i.prototype.iadd=function(o){var a;if(this.negative!==0&&o.negative===0)return this.negative=0,a=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,a=this.isub(o),o.negative=1,a._normSign();var f,l;this.length>o.length?(f=this,l=o):(f=o,l=this);for(var g=0,_=0;_<l.length;_++)a=(f.words[_]|0)+(l.words[_]|0)+g,this.words[_]=a&67108863,g=a>>>26;for(;g!==0&&_<f.length;_++)a=(f.words[_]|0)+g,this.words[_]=a&67108863,g=a>>>26;if(this.length=f.length,g!==0)this.words[this.length]=g,this.length++;else if(f!==this)for(;_<f.length;_++)this.words[_]=f.words[_];return this},i.prototype.add=function(o){var a;return o.negative!==0&&this.negative===0?(o.negative=0,a=this.sub(o),o.negative^=1,a):o.negative===0&&this.negative!==0?(this.negative=0,a=o.sub(this),this.negative=1,a):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var a=this.iadd(o);return o.negative=1,a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var f=this.cmp(o);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,g;f>0?(l=this,g=o):(l=o,g=this);for(var _=0,E=0;E<g.length;E++)a=(l.words[E]|0)-(g.words[E]|0)+_,_=a>>26,this.words[E]=a&67108863;for(;_!==0&&E<l.length;E++)a=(l.words[E]|0)+_,_=a>>26,this.words[E]=a&67108863;if(_===0&&E<l.length&&l!==this)for(;E<l.length;E++)this.words[E]=l.words[E];return this.length=Math.max(this.length,E),l!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function $(b,o,a){a.negative=o.negative^b.negative;var f=b.length+o.length|0;a.length=f,f=f-1|0;var l=b.words[0]|0,g=o.words[0]|0,_=l*g,E=_&67108863,p=_/67108864|0;a.words[0]=E;for(var s=1;s<f;s++){for(var y=p>>>26,V=p&67108863,W=Math.min(s,o.length-1),Z=Math.max(0,s-b.length+1);Z<=W;Z++){var d=s-Z|0;l=b.words[d]|0,g=o.words[Z]|0,_=l*g+V,y+=_/67108864|0,V=_&67108863}a.words[s]=V|0,p=y|0}return p!==0?a.words[s]=p|0:a.length--,a._strip()}var H=function(o,a,f){var l=o.words,g=a.words,_=f.words,E=0,p,s,y,V=l[0]|0,W=V&8191,Z=V>>>13,d=l[1]|0,v=d&8191,T=d>>>13,O=l[2]|0,C=O&8191,D=O>>>13,Q=l[3]|0,X=Q&8191,te=Q>>>13,De=l[4]|0,ee=De&8191,c=De>>>13,m=l[5]|0,M=m&8191,P=m>>>13,F=l[6]|0,U=F&8191,N=F>>>13,ce=l[7]|0,re=ce&8191,oe=ce>>>13,Le=l[8]|0,se=Le&8191,le=Le>>>13,So=l[9]|0,he=So&8191,de=So>>>13,Ao=g[0]|0,pe=Ao&8191,ge=Ao>>>13,Eo=g[1]|0,ye=Eo&8191,be=Eo>>>13,To=g[2]|0,me=To&8191,ve=To>>>13,Bo=g[3]|0,we=Bo&8191,_e=Bo>>>13,Io=g[4]|0,Me=Io&8191,Se=Io>>>13,Po=g[5]|0,Ae=Po&8191,Ee=Po>>>13,xo=g[6]|0,Te=xo&8191,Be=xo>>>13,Oo=g[7]|0,Ie=Oo&8191,Pe=Oo>>>13,ko=g[8]|0,xe=ko&8191,Oe=ko>>>13,Uo=g[9]|0,ke=Uo&8191,Ue=Uo>>>13;f.negative=o.negative^a.negative,f.length=19,p=Math.imul(W,pe),s=Math.imul(W,ge),s=s+Math.imul(Z,pe)|0,y=Math.imul(Z,ge);var jn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(jn>>>26)|0,jn&=67108863,p=Math.imul(v,pe),s=Math.imul(v,ge),s=s+Math.imul(T,pe)|0,y=Math.imul(T,ge),p=p+Math.imul(W,ye)|0,s=s+Math.imul(W,be)|0,s=s+Math.imul(Z,ye)|0,y=y+Math.imul(Z,be)|0;var Vn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,p=Math.imul(C,pe),s=Math.imul(C,ge),s=s+Math.imul(D,pe)|0,y=Math.imul(D,ge),p=p+Math.imul(v,ye)|0,s=s+Math.imul(v,be)|0,s=s+Math.imul(T,ye)|0,y=y+Math.imul(T,be)|0,p=p+Math.imul(W,me)|0,s=s+Math.imul(W,ve)|0,s=s+Math.imul(Z,me)|0,y=y+Math.imul(Z,ve)|0;var Yn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,p=Math.imul(X,pe),s=Math.imul(X,ge),s=s+Math.imul(te,pe)|0,y=Math.imul(te,ge),p=p+Math.imul(C,ye)|0,s=s+Math.imul(C,be)|0,s=s+Math.imul(D,ye)|0,y=y+Math.imul(D,be)|0,p=p+Math.imul(v,me)|0,s=s+Math.imul(v,ve)|0,s=s+Math.imul(T,me)|0,y=y+Math.imul(T,ve)|0,p=p+Math.imul(W,we)|0,s=s+Math.imul(W,_e)|0,s=s+Math.imul(Z,we)|0,y=y+Math.imul(Z,_e)|0;var $n=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+($n>>>26)|0,$n&=67108863,p=Math.imul(ee,pe),s=Math.imul(ee,ge),s=s+Math.imul(c,pe)|0,y=Math.imul(c,ge),p=p+Math.imul(X,ye)|0,s=s+Math.imul(X,be)|0,s=s+Math.imul(te,ye)|0,y=y+Math.imul(te,be)|0,p=p+Math.imul(C,me)|0,s=s+Math.imul(C,ve)|0,s=s+Math.imul(D,me)|0,y=y+Math.imul(D,ve)|0,p=p+Math.imul(v,we)|0,s=s+Math.imul(v,_e)|0,s=s+Math.imul(T,we)|0,y=y+Math.imul(T,_e)|0,p=p+Math.imul(W,Me)|0,s=s+Math.imul(W,Se)|0,s=s+Math.imul(Z,Me)|0,y=y+Math.imul(Z,Se)|0;var Wn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,p=Math.imul(M,pe),s=Math.imul(M,ge),s=s+Math.imul(P,pe)|0,y=Math.imul(P,ge),p=p+Math.imul(ee,ye)|0,s=s+Math.imul(ee,be)|0,s=s+Math.imul(c,ye)|0,y=y+Math.imul(c,be)|0,p=p+Math.imul(X,me)|0,s=s+Math.imul(X,ve)|0,s=s+Math.imul(te,me)|0,y=y+Math.imul(te,ve)|0,p=p+Math.imul(C,we)|0,s=s+Math.imul(C,_e)|0,s=s+Math.imul(D,we)|0,y=y+Math.imul(D,_e)|0,p=p+Math.imul(v,Me)|0,s=s+Math.imul(v,Se)|0,s=s+Math.imul(T,Me)|0,y=y+Math.imul(T,Se)|0,p=p+Math.imul(W,Ae)|0,s=s+Math.imul(W,Ee)|0,s=s+Math.imul(Z,Ae)|0,y=y+Math.imul(Z,Ee)|0;var Gn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,p=Math.imul(U,pe),s=Math.imul(U,ge),s=s+Math.imul(N,pe)|0,y=Math.imul(N,ge),p=p+Math.imul(M,ye)|0,s=s+Math.imul(M,be)|0,s=s+Math.imul(P,ye)|0,y=y+Math.imul(P,be)|0,p=p+Math.imul(ee,me)|0,s=s+Math.imul(ee,ve)|0,s=s+Math.imul(c,me)|0,y=y+Math.imul(c,ve)|0,p=p+Math.imul(X,we)|0,s=s+Math.imul(X,_e)|0,s=s+Math.imul(te,we)|0,y=y+Math.imul(te,_e)|0,p=p+Math.imul(C,Me)|0,s=s+Math.imul(C,Se)|0,s=s+Math.imul(D,Me)|0,y=y+Math.imul(D,Se)|0,p=p+Math.imul(v,Ae)|0,s=s+Math.imul(v,Ee)|0,s=s+Math.imul(T,Ae)|0,y=y+Math.imul(T,Ee)|0,p=p+Math.imul(W,Te)|0,s=s+Math.imul(W,Be)|0,s=s+Math.imul(Z,Te)|0,y=y+Math.imul(Z,Be)|0;var Hn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,p=Math.imul(re,pe),s=Math.imul(re,ge),s=s+Math.imul(oe,pe)|0,y=Math.imul(oe,ge),p=p+Math.imul(U,ye)|0,s=s+Math.imul(U,be)|0,s=s+Math.imul(N,ye)|0,y=y+Math.imul(N,be)|0,p=p+Math.imul(M,me)|0,s=s+Math.imul(M,ve)|0,s=s+Math.imul(P,me)|0,y=y+Math.imul(P,ve)|0,p=p+Math.imul(ee,we)|0,s=s+Math.imul(ee,_e)|0,s=s+Math.imul(c,we)|0,y=y+Math.imul(c,_e)|0,p=p+Math.imul(X,Me)|0,s=s+Math.imul(X,Se)|0,s=s+Math.imul(te,Me)|0,y=y+Math.imul(te,Se)|0,p=p+Math.imul(C,Ae)|0,s=s+Math.imul(C,Ee)|0,s=s+Math.imul(D,Ae)|0,y=y+Math.imul(D,Ee)|0,p=p+Math.imul(v,Te)|0,s=s+Math.imul(v,Be)|0,s=s+Math.imul(T,Te)|0,y=y+Math.imul(T,Be)|0,p=p+Math.imul(W,Ie)|0,s=s+Math.imul(W,Pe)|0,s=s+Math.imul(Z,Ie)|0,y=y+Math.imul(Z,Pe)|0;var Zn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,p=Math.imul(se,pe),s=Math.imul(se,ge),s=s+Math.imul(le,pe)|0,y=Math.imul(le,ge),p=p+Math.imul(re,ye)|0,s=s+Math.imul(re,be)|0,s=s+Math.imul(oe,ye)|0,y=y+Math.imul(oe,be)|0,p=p+Math.imul(U,me)|0,s=s+Math.imul(U,ve)|0,s=s+Math.imul(N,me)|0,y=y+Math.imul(N,ve)|0,p=p+Math.imul(M,we)|0,s=s+Math.imul(M,_e)|0,s=s+Math.imul(P,we)|0,y=y+Math.imul(P,_e)|0,p=p+Math.imul(ee,Me)|0,s=s+Math.imul(ee,Se)|0,s=s+Math.imul(c,Me)|0,y=y+Math.imul(c,Se)|0,p=p+Math.imul(X,Ae)|0,s=s+Math.imul(X,Ee)|0,s=s+Math.imul(te,Ae)|0,y=y+Math.imul(te,Ee)|0,p=p+Math.imul(C,Te)|0,s=s+Math.imul(C,Be)|0,s=s+Math.imul(D,Te)|0,y=y+Math.imul(D,Be)|0,p=p+Math.imul(v,Ie)|0,s=s+Math.imul(v,Pe)|0,s=s+Math.imul(T,Ie)|0,y=y+Math.imul(T,Pe)|0,p=p+Math.imul(W,xe)|0,s=s+Math.imul(W,Oe)|0,s=s+Math.imul(Z,xe)|0,y=y+Math.imul(Z,Oe)|0;var Jn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,p=Math.imul(he,pe),s=Math.imul(he,ge),s=s+Math.imul(de,pe)|0,y=Math.imul(de,ge),p=p+Math.imul(se,ye)|0,s=s+Math.imul(se,be)|0,s=s+Math.imul(le,ye)|0,y=y+Math.imul(le,be)|0,p=p+Math.imul(re,me)|0,s=s+Math.imul(re,ve)|0,s=s+Math.imul(oe,me)|0,y=y+Math.imul(oe,ve)|0,p=p+Math.imul(U,we)|0,s=s+Math.imul(U,_e)|0,s=s+Math.imul(N,we)|0,y=y+Math.imul(N,_e)|0,p=p+Math.imul(M,Me)|0,s=s+Math.imul(M,Se)|0,s=s+Math.imul(P,Me)|0,y=y+Math.imul(P,Se)|0,p=p+Math.imul(ee,Ae)|0,s=s+Math.imul(ee,Ee)|0,s=s+Math.imul(c,Ae)|0,y=y+Math.imul(c,Ee)|0,p=p+Math.imul(X,Te)|0,s=s+Math.imul(X,Be)|0,s=s+Math.imul(te,Te)|0,y=y+Math.imul(te,Be)|0,p=p+Math.imul(C,Ie)|0,s=s+Math.imul(C,Pe)|0,s=s+Math.imul(D,Ie)|0,y=y+Math.imul(D,Pe)|0,p=p+Math.imul(v,xe)|0,s=s+Math.imul(v,Oe)|0,s=s+Math.imul(T,xe)|0,y=y+Math.imul(T,Oe)|0,p=p+Math.imul(W,ke)|0,s=s+Math.imul(W,Ue)|0,s=s+Math.imul(Z,ke)|0,y=y+Math.imul(Z,Ue)|0;var Xn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,p=Math.imul(he,ye),s=Math.imul(he,be),s=s+Math.imul(de,ye)|0,y=Math.imul(de,be),p=p+Math.imul(se,me)|0,s=s+Math.imul(se,ve)|0,s=s+Math.imul(le,me)|0,y=y+Math.imul(le,ve)|0,p=p+Math.imul(re,we)|0,s=s+Math.imul(re,_e)|0,s=s+Math.imul(oe,we)|0,y=y+Math.imul(oe,_e)|0,p=p+Math.imul(U,Me)|0,s=s+Math.imul(U,Se)|0,s=s+Math.imul(N,Me)|0,y=y+Math.imul(N,Se)|0,p=p+Math.imul(M,Ae)|0,s=s+Math.imul(M,Ee)|0,s=s+Math.imul(P,Ae)|0,y=y+Math.imul(P,Ee)|0,p=p+Math.imul(ee,Te)|0,s=s+Math.imul(ee,Be)|0,s=s+Math.imul(c,Te)|0,y=y+Math.imul(c,Be)|0,p=p+Math.imul(X,Ie)|0,s=s+Math.imul(X,Pe)|0,s=s+Math.imul(te,Ie)|0,y=y+Math.imul(te,Pe)|0,p=p+Math.imul(C,xe)|0,s=s+Math.imul(C,Oe)|0,s=s+Math.imul(D,xe)|0,y=y+Math.imul(D,Oe)|0,p=p+Math.imul(v,ke)|0,s=s+Math.imul(v,Ue)|0,s=s+Math.imul(T,ke)|0,y=y+Math.imul(T,Ue)|0;var Qn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,p=Math.imul(he,me),s=Math.imul(he,ve),s=s+Math.imul(de,me)|0,y=Math.imul(de,ve),p=p+Math.imul(se,we)|0,s=s+Math.imul(se,_e)|0,s=s+Math.imul(le,we)|0,y=y+Math.imul(le,_e)|0,p=p+Math.imul(re,Me)|0,s=s+Math.imul(re,Se)|0,s=s+Math.imul(oe,Me)|0,y=y+Math.imul(oe,Se)|0,p=p+Math.imul(U,Ae)|0,s=s+Math.imul(U,Ee)|0,s=s+Math.imul(N,Ae)|0,y=y+Math.imul(N,Ee)|0,p=p+Math.imul(M,Te)|0,s=s+Math.imul(M,Be)|0,s=s+Math.imul(P,Te)|0,y=y+Math.imul(P,Be)|0,p=p+Math.imul(ee,Ie)|0,s=s+Math.imul(ee,Pe)|0,s=s+Math.imul(c,Ie)|0,y=y+Math.imul(c,Pe)|0,p=p+Math.imul(X,xe)|0,s=s+Math.imul(X,Oe)|0,s=s+Math.imul(te,xe)|0,y=y+Math.imul(te,Oe)|0,p=p+Math.imul(C,ke)|0,s=s+Math.imul(C,Ue)|0,s=s+Math.imul(D,ke)|0,y=y+Math.imul(D,Ue)|0;var ei=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ei>>>26)|0,ei&=67108863,p=Math.imul(he,we),s=Math.imul(he,_e),s=s+Math.imul(de,we)|0,y=Math.imul(de,_e),p=p+Math.imul(se,Me)|0,s=s+Math.imul(se,Se)|0,s=s+Math.imul(le,Me)|0,y=y+Math.imul(le,Se)|0,p=p+Math.imul(re,Ae)|0,s=s+Math.imul(re,Ee)|0,s=s+Math.imul(oe,Ae)|0,y=y+Math.imul(oe,Ee)|0,p=p+Math.imul(U,Te)|0,s=s+Math.imul(U,Be)|0,s=s+Math.imul(N,Te)|0,y=y+Math.imul(N,Be)|0,p=p+Math.imul(M,Ie)|0,s=s+Math.imul(M,Pe)|0,s=s+Math.imul(P,Ie)|0,y=y+Math.imul(P,Pe)|0,p=p+Math.imul(ee,xe)|0,s=s+Math.imul(ee,Oe)|0,s=s+Math.imul(c,xe)|0,y=y+Math.imul(c,Oe)|0,p=p+Math.imul(X,ke)|0,s=s+Math.imul(X,Ue)|0,s=s+Math.imul(te,ke)|0,y=y+Math.imul(te,Ue)|0;var ti=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ti>>>26)|0,ti&=67108863,p=Math.imul(he,Me),s=Math.imul(he,Se),s=s+Math.imul(de,Me)|0,y=Math.imul(de,Se),p=p+Math.imul(se,Ae)|0,s=s+Math.imul(se,Ee)|0,s=s+Math.imul(le,Ae)|0,y=y+Math.imul(le,Ee)|0,p=p+Math.imul(re,Te)|0,s=s+Math.imul(re,Be)|0,s=s+Math.imul(oe,Te)|0,y=y+Math.imul(oe,Be)|0,p=p+Math.imul(U,Ie)|0,s=s+Math.imul(U,Pe)|0,s=s+Math.imul(N,Ie)|0,y=y+Math.imul(N,Pe)|0,p=p+Math.imul(M,xe)|0,s=s+Math.imul(M,Oe)|0,s=s+Math.imul(P,xe)|0,y=y+Math.imul(P,Oe)|0,p=p+Math.imul(ee,ke)|0,s=s+Math.imul(ee,Ue)|0,s=s+Math.imul(c,ke)|0,y=y+Math.imul(c,Ue)|0;var ri=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ri>>>26)|0,ri&=67108863,p=Math.imul(he,Ae),s=Math.imul(he,Ee),s=s+Math.imul(de,Ae)|0,y=Math.imul(de,Ee),p=p+Math.imul(se,Te)|0,s=s+Math.imul(se,Be)|0,s=s+Math.imul(le,Te)|0,y=y+Math.imul(le,Be)|0,p=p+Math.imul(re,Ie)|0,s=s+Math.imul(re,Pe)|0,s=s+Math.imul(oe,Ie)|0,y=y+Math.imul(oe,Pe)|0,p=p+Math.imul(U,xe)|0,s=s+Math.imul(U,Oe)|0,s=s+Math.imul(N,xe)|0,y=y+Math.imul(N,Oe)|0,p=p+Math.imul(M,ke)|0,s=s+Math.imul(M,Ue)|0,s=s+Math.imul(P,ke)|0,y=y+Math.imul(P,Ue)|0;var ni=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ni>>>26)|0,ni&=67108863,p=Math.imul(he,Te),s=Math.imul(he,Be),s=s+Math.imul(de,Te)|0,y=Math.imul(de,Be),p=p+Math.imul(se,Ie)|0,s=s+Math.imul(se,Pe)|0,s=s+Math.imul(le,Ie)|0,y=y+Math.imul(le,Pe)|0,p=p+Math.imul(re,xe)|0,s=s+Math.imul(re,Oe)|0,s=s+Math.imul(oe,xe)|0,y=y+Math.imul(oe,Oe)|0,p=p+Math.imul(U,ke)|0,s=s+Math.imul(U,Ue)|0,s=s+Math.imul(N,ke)|0,y=y+Math.imul(N,Ue)|0;var ii=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ii>>>26)|0,ii&=67108863,p=Math.imul(he,Ie),s=Math.imul(he,Pe),s=s+Math.imul(de,Ie)|0,y=Math.imul(de,Pe),p=p+Math.imul(se,xe)|0,s=s+Math.imul(se,Oe)|0,s=s+Math.imul(le,xe)|0,y=y+Math.imul(le,Oe)|0,p=p+Math.imul(re,ke)|0,s=s+Math.imul(re,Ue)|0,s=s+Math.imul(oe,ke)|0,y=y+Math.imul(oe,Ue)|0;var oi=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(oi>>>26)|0,oi&=67108863,p=Math.imul(he,xe),s=Math.imul(he,Oe),s=s+Math.imul(de,xe)|0,y=Math.imul(de,Oe),p=p+Math.imul(se,ke)|0,s=s+Math.imul(se,Ue)|0,s=s+Math.imul(le,ke)|0,y=y+Math.imul(le,Ue)|0;var si=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(si>>>26)|0,si&=67108863,p=Math.imul(he,ke),s=Math.imul(he,Ue),s=s+Math.imul(de,ke)|0,y=Math.imul(de,Ue);var ai=(E+p|0)+((s&8191)<<13)|0;return E=(y+(s>>>13)|0)+(ai>>>26)|0,ai&=67108863,_[0]=jn,_[1]=Vn,_[2]=Yn,_[3]=$n,_[4]=Wn,_[5]=Gn,_[6]=Hn,_[7]=Zn,_[8]=Jn,_[9]=Xn,_[10]=Qn,_[11]=ei,_[12]=ti,_[13]=ri,_[14]=ni,_[15]=ii,_[16]=oi,_[17]=si,_[18]=ai,E!==0&&(_[19]=E,f.length++),f};Math.imul||(H=$);function ie(b,o,a){a.negative=o.negative^b.negative,a.length=b.length+o.length;for(var f=0,l=0,g=0;g<a.length-1;g++){var _=l;l=0;for(var E=f&67108863,p=Math.min(g,o.length-1),s=Math.max(0,g-b.length+1);s<=p;s++){var y=g-s,V=b.words[y]|0,W=o.words[s]|0,Z=V*W,d=Z&67108863;_=_+(Z/67108864|0)|0,d=d+E|0,E=d&67108863,_=_+(d>>>26)|0,l+=_>>>26,_&=67108863}a.words[g]=E,f=_,_=l}return f!==0?a.words[g]=f:a.length--,a._strip()}function Ke(b,o,a){return ie(b,o,a)}i.prototype.mulTo=function(o,a){var f,l=this.length+o.length;return this.length===10&&o.length===10?f=H(this,o,a):l<63?f=$(this,o,a):l<1024?f=ie(this,o,a):f=Ke(this,o,a),f};function ue(b,o){this.x=b,this.y=o}ue.prototype.makeRBT=function(o){for(var a=new Array(o),f=i.prototype._countBits(o)-1,l=0;l<o;l++)a[l]=this.revBin(l,f,o);return a},ue.prototype.revBin=function(o,a,f){if(o===0||o===f-1)return o;for(var l=0,g=0;g<a;g++)l|=(o&1)<<a-g-1,o>>=1;return l},ue.prototype.permute=function(o,a,f,l,g,_){for(var E=0;E<_;E++)l[E]=a[o[E]],g[E]=f[o[E]]},ue.prototype.transform=function(o,a,f,l,g,_){this.permute(_,o,a,f,l,g);for(var E=1;E<g;E<<=1)for(var p=E<<1,s=Math.cos(2*Math.PI/p),y=Math.sin(2*Math.PI/p),V=0;V<g;V+=p)for(var W=s,Z=y,d=0;d<E;d++){var v=f[V+d],T=l[V+d],O=f[V+d+E],C=l[V+d+E],D=W*O-Z*C;C=W*C+Z*O,O=D,f[V+d]=v+O,l[V+d]=T+C,f[V+d+E]=v-O,l[V+d+E]=T-C,d!==p&&(D=s*W-y*Z,Z=s*Z+y*W,W=D)}},ue.prototype.guessLen13b=function(o,a){var f=Math.max(a,o)|1,l=f&1,g=0;for(f=f/2|0;f;f=f>>>1)g++;return 1<<g+1+l},ue.prototype.conjugate=function(o,a,f){if(!(f<=1))for(var l=0;l<f/2;l++){var g=o[l];o[l]=o[f-l-1],o[f-l-1]=g,g=a[l],a[l]=-a[f-l-1],a[f-l-1]=-g}},ue.prototype.normalize13b=function(o,a){for(var f=0,l=0;l<a/2;l++){var g=Math.round(o[2*l+1]/a)*8192+Math.round(o[2*l]/a)+f;o[l]=g&67108863,g<67108864?f=0:f=g/67108864|0}return o},ue.prototype.convert13b=function(o,a,f,l){for(var g=0,_=0;_<a;_++)g=g+(o[_]|0),f[2*_]=g&8191,g=g>>>13,f[2*_+1]=g&8191,g=g>>>13;for(_=2*a;_<l;++_)f[_]=0;t(g===0),t((g&-8192)===0)},ue.prototype.stub=function(o){for(var a=new Array(o),f=0;f<o;f++)a[f]=0;return a},ue.prototype.mulp=function(o,a,f){var l=2*this.guessLen13b(o.length,a.length),g=this.makeRBT(l),_=this.stub(l),E=new Array(l),p=new Array(l),s=new Array(l),y=new Array(l),V=new Array(l),W=new Array(l),Z=f.words;Z.length=l,this.convert13b(o.words,o.length,E,l),this.convert13b(a.words,a.length,y,l),this.transform(E,_,p,s,l,g),this.transform(y,_,V,W,l,g);for(var d=0;d<l;d++){var v=p[d]*V[d]-s[d]*W[d];s[d]=p[d]*W[d]+s[d]*V[d],p[d]=v}return this.conjugate(p,s,l),this.transform(p,s,Z,_,l,g),this.conjugate(Z,_,l),this.normalize13b(Z,l),f.negative=o.negative^a.negative,f.length=o.length+a.length,f._strip()},i.prototype.mul=function(o){var a=new i(null);return a.words=new Array(this.length+o.length),this.mulTo(o,a)},i.prototype.mulf=function(o){var a=new i(null);return a.words=new Array(this.length+o.length),Ke(this,o,a)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){var a=o<0;a&&(o=-o),t(typeof o=="number"),t(o<67108864);for(var f=0,l=0;l<this.length;l++){var g=(this.words[l]|0)*o,_=(g&67108863)+(f&67108863);f>>=26,f+=g/67108864|0,f+=_>>>26,this.words[l]=_&67108863}return f!==0&&(this.words[l]=f,this.length++),a?this.ineg():this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var a=z(o);if(a.length===0)return new i(1);for(var f=this,l=0;l<a.length&&a[l]===0;l++,f=f.sqr());if(++l<a.length)for(var g=f.sqr();l<a.length;l++,g=g.sqr())a[l]!==0&&(f=f.mul(g));return f},i.prototype.iushln=function(o){t(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26,l=67108863>>>26-a<<26-a,g;if(a!==0){var _=0;for(g=0;g<this.length;g++){var E=this.words[g]&l,p=(this.words[g]|0)-E<<a;this.words[g]=p|_,_=E>>>26-a}_&&(this.words[g]=_,this.length++)}if(f!==0){for(g=this.length-1;g>=0;g--)this.words[g+f]=this.words[g];for(g=0;g<f;g++)this.words[g]=0;this.length+=f}return this._strip()},i.prototype.ishln=function(o){return t(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,a,f){t(typeof o=="number"&&o>=0);var l;a?l=(a-a%26)/26:l=0;var g=o%26,_=Math.min((o-g)/26,this.length),E=67108863^67108863>>>g<<g,p=f;if(l-=_,l=Math.max(0,l),p){for(var s=0;s<_;s++)p.words[s]=this.words[s];p.length=_}if(_!==0)if(this.length>_)for(this.length-=_,s=0;s<this.length;s++)this.words[s]=this.words[s+_];else this.words[0]=0,this.length=1;var y=0;for(s=this.length-1;s>=0&&(y!==0||s>=l);s--){var V=this.words[s]|0;this.words[s]=y<<26-g|V>>>g,y=V&E}return p&&y!==0&&(p.words[p.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(o,a,f){return t(this.negative===0),this.iushrn(o,a,f)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){t(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26,l=1<<a;if(this.length<=f)return!1;var g=this.words[f];return!!(g&l)},i.prototype.imaskn=function(o){t(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(a!==0&&f++,this.length=Math.min(f,this.length),a!==0){var l=67108863^67108863>>>a<<a;this.words[this.length-1]&=l}return this._strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return t(typeof o=="number"),t(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var a=0;a<this.length&&this.words[a]>=67108864;a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=Math.max(this.length,a+1),this},i.prototype.isubn=function(o){if(t(typeof o=="number"),t(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&this.words[a]<0;a++)this.words[a]+=67108864,this.words[a+1]-=1;return this._strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,a,f){var l=o.length+f,g;this._expand(l);var _,E=0;for(g=0;g<o.length;g++){_=(this.words[g+f]|0)+E;var p=(o.words[g]|0)*a;_-=p&67108863,E=(_>>26)-(p/67108864|0),this.words[g+f]=_&67108863}for(;g<this.length-f;g++)_=(this.words[g+f]|0)+E,E=_>>26,this.words[g+f]=_&67108863;if(E===0)return this._strip();for(t(E===-1),E=0,g=0;g<this.length;g++)_=-(this.words[g]|0)+E,E=_>>26,this.words[g]=_&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(o,a){var f=this.length-o.length,l=this.clone(),g=o,_=g.words[g.length-1]|0,E=this._countBits(_);f=26-E,f!==0&&(g=g.ushln(f),l.iushln(f),_=g.words[g.length-1]|0);var p=l.length-g.length,s;if(a!=="mod"){s=new i(null),s.length=p+1,s.words=new Array(s.length);for(var y=0;y<s.length;y++)s.words[y]=0}var V=l.clone()._ishlnsubmul(g,1,p);V.negative===0&&(l=V,s&&(s.words[p]=1));for(var W=p-1;W>=0;W--){var Z=(l.words[g.length+W]|0)*67108864+(l.words[g.length+W-1]|0);for(Z=Math.min(Z/_|0,67108863),l._ishlnsubmul(g,Z,W);l.negative!==0;)Z--,l.negative=0,l._ishlnsubmul(g,1,W),l.isZero()||(l.negative^=1);s&&(s.words[W]=Z)}return s&&s._strip(),l._strip(),a!=="div"&&f!==0&&l.iushrn(f),{div:s||null,mod:l}},i.prototype.divmod=function(o,a,f){if(t(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var l,g,_;return this.negative!==0&&o.negative===0?(_=this.neg().divmod(o,a),a!=="mod"&&(l=_.div.neg()),a!=="div"&&(g=_.mod.neg(),f&&g.negative!==0&&g.iadd(o)),{div:l,mod:g}):this.negative===0&&o.negative!==0?(_=this.divmod(o.neg(),a),a!=="mod"&&(l=_.div.neg()),{div:l,mod:_.mod}):(this.negative&o.negative)!==0?(_=this.neg().divmod(o.neg(),a),a!=="div"&&(g=_.mod.neg(),f&&g.negative!==0&&g.isub(o)),{div:_.div,mod:g}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?a==="div"?{div:this.divn(o.words[0]),mod:null}:a==="mod"?{div:null,mod:new i(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modrn(o.words[0]))}:this._wordDiv(o,a)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var a=this.divmod(o);if(a.mod.isZero())return a.div;var f=a.div.negative!==0?a.mod.isub(o):a.mod,l=o.ushrn(1),g=o.andln(1),_=f.cmp(l);return _<0||g===1&&_===0?a.div:a.div.negative!==0?a.div.isubn(1):a.div.iaddn(1)},i.prototype.modrn=function(o){var a=o<0;a&&(o=-o),t(o<=67108863);for(var f=(1<<26)%o,l=0,g=this.length-1;g>=0;g--)l=(f*l+(this.words[g]|0))%o;return a?-l:l},i.prototype.modn=function(o){return this.modrn(o)},i.prototype.idivn=function(o){var a=o<0;a&&(o=-o),t(o<=67108863);for(var f=0,l=this.length-1;l>=0;l--){var g=(this.words[l]|0)+f*67108864;this.words[l]=g/o|0,f=g%o}return this._strip(),a?this.ineg():this},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){t(o.negative===0),t(!o.isZero());var a=this,f=o.clone();a.negative!==0?a=a.umod(o):a=a.clone();for(var l=new i(1),g=new i(0),_=new i(0),E=new i(1),p=0;a.isEven()&&f.isEven();)a.iushrn(1),f.iushrn(1),++p;for(var s=f.clone(),y=a.clone();!a.isZero();){for(var V=0,W=1;(a.words[0]&W)===0&&V<26;++V,W<<=1);if(V>0)for(a.iushrn(V);V-- >0;)(l.isOdd()||g.isOdd())&&(l.iadd(s),g.isub(y)),l.iushrn(1),g.iushrn(1);for(var Z=0,d=1;(f.words[0]&d)===0&&Z<26;++Z,d<<=1);if(Z>0)for(f.iushrn(Z);Z-- >0;)(_.isOdd()||E.isOdd())&&(_.iadd(s),E.isub(y)),_.iushrn(1),E.iushrn(1);a.cmp(f)>=0?(a.isub(f),l.isub(_),g.isub(E)):(f.isub(a),_.isub(l),E.isub(g))}return{a:_,b:E,gcd:f.iushln(p)}},i.prototype._invmp=function(o){t(o.negative===0),t(!o.isZero());var a=this,f=o.clone();a.negative!==0?a=a.umod(o):a=a.clone();for(var l=new i(1),g=new i(0),_=f.clone();a.cmpn(1)>0&&f.cmpn(1)>0;){for(var E=0,p=1;(a.words[0]&p)===0&&E<26;++E,p<<=1);if(E>0)for(a.iushrn(E);E-- >0;)l.isOdd()&&l.iadd(_),l.iushrn(1);for(var s=0,y=1;(f.words[0]&y)===0&&s<26;++s,y<<=1);if(s>0)for(f.iushrn(s);s-- >0;)g.isOdd()&&g.iadd(_),g.iushrn(1);a.cmp(f)>=0?(a.isub(f),l.isub(g)):(f.isub(a),g.isub(l))}var V;return a.cmpn(1)===0?V=l:V=g,V.cmpn(0)<0&&V.iadd(o),V},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var a=this.clone(),f=o.clone();a.negative=0,f.negative=0;for(var l=0;a.isEven()&&f.isEven();l++)a.iushrn(1),f.iushrn(1);do{for(;a.isEven();)a.iushrn(1);for(;f.isEven();)f.iushrn(1);var g=a.cmp(f);if(g<0){var _=a;a=f,f=_}else if(g===0||f.cmpn(1)===0)break;a.isub(f)}while(!0);return f.iushln(l)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){t(typeof o=="number");var a=o%26,f=(o-a)/26,l=1<<a;if(this.length<=f)return this._expand(f+1),this.words[f]|=l,this;for(var g=l,_=f;g!==0&&_<this.length;_++){var E=this.words[_]|0;E+=g,g=E>>>26,E&=67108863,this.words[_]=E}return g!==0&&(this.words[_]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var a=o<0;if(this.negative!==0&&!a)return-1;if(this.negative===0&&a)return 1;this._strip();var f;if(this.length>1)f=1;else{a&&(o=-o),t(o<=67108863,"Number is too big");var l=this.words[0]|0;f=l===o?0:l<o?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var a=this.ucmp(o);return this.negative!==0?-a|0:a},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var a=0,f=this.length-1;f>=0;f--){var l=this.words[f]|0,g=o.words[f]|0;if(l!==g){l<g?a=-1:l>g&&(a=1);break}}return a},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new fe(o)},i.prototype.toRed=function(o){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return t(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return t(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var Ze={k256:null,p224:null,p192:null,p25519:null};function ae(b,o){this.name=b,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ae.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},ae.prototype.ireduce=function(o){var a=o,f;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),f=a.bitLength();while(f>this.n);var l=f<this.n?-1:a.ucmp(this.p);return l===0?(a.words[0]=0,a.length=1):l>0?a.isub(this.p):a.strip!==void 0?a.strip():a._strip(),a},ae.prototype.split=function(o,a){o.iushrn(this.n,0,a)},ae.prototype.imulK=function(o){return o.imul(this.k)};function Ge(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(Ge,ae),Ge.prototype.split=function(o,a){for(var f=4194303,l=Math.min(o.length,9),g=0;g<l;g++)a.words[g]=o.words[g];if(a.length=l,o.length<=9){o.words[0]=0,o.length=1;return}var _=o.words[9];for(a.words[a.length++]=_&f,g=10;g<o.length;g++){var E=o.words[g]|0;o.words[g-10]=(E&f)<<4|_>>>22,_=E}_>>>=22,o.words[g-10]=_,_===0&&o.length>10?o.length-=10:o.length-=9},Ge.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var a=0,f=0;f<o.length;f++){var l=o.words[f]|0;a+=l*977,o.words[f]=a&67108863,a=l*64+(a/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function ht(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(ht,ae);function ar(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(ar,ae);function Ht(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(Ht,ae),Ht.prototype.imulK=function(o){for(var a=0,f=0;f<o.length;f++){var l=(o.words[f]|0)*19+a,g=l&67108863;l>>>=26,o.words[f]=g,a=l}return a!==0&&(o.words[o.length++]=a),o},i._prime=function(o){if(Ze[o])return Ze[o];var a;if(o==="k256")a=new Ge;else if(o==="p224")a=new ht;else if(o==="p192")a=new ar;else if(o==="p25519")a=new Ht;else throw new Error("Unknown prime "+o);return Ze[o]=a,a};function fe(b){if(typeof b=="string"){var o=i._prime(b);this.m=o.p,this.prime=o}else t(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}fe.prototype._verify1=function(o){t(o.negative===0,"red works only with positives"),t(o.red,"red works only with red numbers")},fe.prototype._verify2=function(o,a){t((o.negative|a.negative)===0,"red works only with positives"),t(o.red&&o.red===a.red,"red works only with red numbers")},fe.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(A(o,o.umod(this.m)._forceRed(this)),o)},fe.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},fe.prototype.add=function(o,a){this._verify2(o,a);var f=o.add(a);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},fe.prototype.iadd=function(o,a){this._verify2(o,a);var f=o.iadd(a);return f.cmp(this.m)>=0&&f.isub(this.m),f},fe.prototype.sub=function(o,a){this._verify2(o,a);var f=o.sub(a);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},fe.prototype.isub=function(o,a){this._verify2(o,a);var f=o.isub(a);return f.cmpn(0)<0&&f.iadd(this.m),f},fe.prototype.shl=function(o,a){return this._verify1(o),this.imod(o.ushln(a))},fe.prototype.imul=function(o,a){return this._verify2(o,a),this.imod(o.imul(a))},fe.prototype.mul=function(o,a){return this._verify2(o,a),this.imod(o.mul(a))},fe.prototype.isqr=function(o){return this.imul(o,o.clone())},fe.prototype.sqr=function(o){return this.mul(o,o)},fe.prototype.sqrt=function(o){if(o.isZero())return o.clone();var a=this.m.andln(3);if(t(a%2===1),a===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(o,f)}for(var l=this.m.subn(1),g=0;!l.isZero()&&l.andln(1)===0;)g++,l.iushrn(1);t(!l.isZero());var _=new i(1).toRed(this),E=_.redNeg(),p=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new i(2*s*s).toRed(this);this.pow(s,p).cmp(E)!==0;)s.redIAdd(E);for(var y=this.pow(s,l),V=this.pow(o,l.addn(1).iushrn(1)),W=this.pow(o,l),Z=g;W.cmp(_)!==0;){for(var d=W,v=0;d.cmp(_)!==0;v++)d=d.redSqr();t(v<Z);var T=this.pow(y,new i(1).iushln(Z-v-1));V=V.redMul(T),y=T.redSqr(),W=W.redMul(y),Z=v}return V},fe.prototype.invm=function(o){var a=o._invmp(this.m);return a.negative!==0?(a.negative=0,this.imod(a).redNeg()):this.imod(a)},fe.prototype.pow=function(o,a){if(a.isZero())return new i(1).toRed(this);if(a.cmpn(1)===0)return o.clone();var f=4,l=new Array(1<<f);l[0]=new i(1).toRed(this),l[1]=o;for(var g=2;g<l.length;g++)l[g]=this.mul(l[g-1],o);var _=l[0],E=0,p=0,s=a.bitLength()%26;for(s===0&&(s=26),g=a.length-1;g>=0;g--){for(var y=a.words[g],V=s-1;V>=0;V--){var W=y>>V&1;if(_!==l[0]&&(_=this.sqr(_)),W===0&&E===0){p=0;continue}E<<=1,E|=W,p++,!(p!==f&&(g!==0||V!==0))&&(_=this.mul(_,l[E]),p=0,E=0)}s=26}return _},fe.prototype.convertTo=function(o){var a=o.umod(this.m);return a===o?a.clone():a},fe.prototype.convertFrom=function(o){var a=o.clone();return a.red=null,a},i.mont=function(o){return new at(o)};function at(b){fe.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(at,fe),at.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},at.prototype.convertFrom=function(o){var a=this.imod(o.mul(this.rinv));return a.red=null,a},at.prototype.imul=function(o,a){if(o.isZero()||a.isZero())return o.words[0]=0,o.length=1,o;var f=o.imul(a),l=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(l).iushrn(this.shift),_=g;return g.cmp(this.m)>=0?_=g.isub(this.m):g.cmpn(0)<0&&(_=g.iadd(this.m)),_._forceRed(this)},at.prototype.mul=function(o,a){if(o.isZero()||a.isZero())return new i(0)._forceRed(this);var f=o.mul(a),l=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(l).iushrn(this.shift),_=g;return g.cmp(this.m)>=0?_=g.isub(this.m):g.cmpn(0)<0&&(_=g.iadd(this.m)),_._forceRed(this)},at.prototype.invm=function(o){var a=this.imod(o._invmp(this.m).mul(this.r2));return a._forceRed(this)}})(typeof Mu>"u"||Mu,bl)});var _l=G((Su,wl)=>{B();I();var Zs=mt(),Lr=Zs.Buffer;function vl(r,e){for(var t in r)e[t]=r[t]}Lr.from&&Lr.alloc&&Lr.allocUnsafe&&Lr.allocUnsafeSlow?wl.exports=Zs:(vl(Zs,Su),Su.Buffer=di);function di(r,e,t){return Lr(r,e,t)}di.prototype=Object.create(Lr.prototype);vl(Lr,di);di.from=function(r,e,t){if(typeof r=="number")throw new TypeError("Argument must not be a number");return Lr(r,e,t)};di.alloc=function(r,e,t){if(typeof r!="number")throw new TypeError("Argument must be a number");var n=Lr(r);return e!==void 0?typeof t=="string"?n.fill(e,t):n.fill(e):n.fill(0),n};di.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return Lr(r)};di.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return Zs.SlowBuffer(r)}});var Sl=G((J_,Ml)=>{"use strict";B();I();var Js=_l().Buffer;function Ag(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),u=i.charCodeAt(0);if(e[u]!==255)throw new TypeError(i+" is ambiguous");e[u]=n}var h=r.length,S=r.charAt(0),w=Math.log(h)/Math.log(256),A=Math.log(256)/Math.log(h);function R(k){if((Array.isArray(k)||k instanceof Uint8Array)&&(k=Js.from(k)),!Js.isBuffer(k))throw new TypeError("Expected Buffer");if(k.length===0)return"";for(var Y=0,z=0,$=0,H=k.length;$!==H&&k[$]===0;)$++,Y++;for(var ie=(H-$)*A+1>>>0,Ke=new Uint8Array(ie);$!==H;){for(var ue=k[$],Ze=0,ae=ie-1;(ue!==0||Ze<z)&&ae!==-1;ae--,Ze++)ue+=256*Ke[ae]>>>0,Ke[ae]=ue%h>>>0,ue=ue/h>>>0;if(ue!==0)throw new Error("Non-zero carry");z=Ze,$++}for(var Ge=ie-z;Ge!==ie&&Ke[Ge]===0;)Ge++;for(var ht=S.repeat(Y);Ge<ie;++Ge)ht+=r.charAt(Ke[Ge]);return ht}function x(k){if(typeof k!="string")throw new TypeError("Expected String");if(k.length===0)return Js.alloc(0);var Y=0;if(k[Y]!==" "){for(var z=0,$=0;k[Y]===S;)z++,Y++;for(var H=(k.length-Y)*w+1>>>0,ie=new Uint8Array(H);k[Y];){var Ke=e[k.charCodeAt(Y)];if(Ke===255)return;for(var ue=0,Ze=H-1;(Ke!==0||ue<$)&&Ze!==-1;Ze--,ue++)Ke+=h*ie[Ze]>>>0,ie[Ze]=Ke%256>>>0,Ke=Ke/256>>>0;if(Ke!==0)throw new Error("Non-zero carry");$=ue,Y++}if(k[Y]!==" "){for(var ae=H-$;ae!==H&&ie[ae]===0;)ae++;var Ge=Js.allocUnsafe(z+(H-ae));Ge.fill(0,0,z);for(var ht=z;ae!==H;)Ge[ht++]=ie[ae++];return Ge}}}function L(k){var Y=x(k);if(Y)return Y;throw new Error("Non-base"+h+" character")}return{encode:R,decodeUnsafe:x,decode:L}}Ml.exports=Ag});var El=G((eM,Al)=>{B();I();var Eg=Sl(),Tg="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Al.exports=Eg(Tg)});var Tl=G(Tu=>{"use strict";B();I();function sn(r,e,t){return e<=r&&r<=t}function ra(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function Bg(r){for(var e=String(r),t=e.length,n=0,i=[];n<t;){var u=e.charCodeAt(n);if(u<55296||u>57343)i.push(u);else if(56320<=u&&u<=57343)i.push(65533);else if(55296<=u&&u<=56319)if(n===t-1)i.push(65533);else{var h=r.charCodeAt(n+1);if(56320<=h&&h<=57343){var S=u&1023,w=h&1023;i.push(65536+(S<<10)+w),n+=1}else i.push(65533)}n+=1}return i}function Ig(r){for(var e="",t=0;t<r.length;++t){var n=r[t];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var Xs=-1;function Eu(r){this.tokens=[].slice.call(r)}Eu.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Xs},prepend:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.push(e.shift());else this.tokens.push(r)}};var qi=-1;function Au(r,e){if(r)throw TypeError("Decoder error");return e||65533}var Qs="utf-8";function ea(r,e){if(!(this instanceof ea))return new ea(r,e);if(r=r!==void 0?String(r).toLowerCase():Qs,r!==Qs)throw new Error("Encoding not supported. Only utf-8 is supported");e=ra(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}ea.prototype={decode:function(e,t){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),t=ra(t),this._streaming||(this._decoder=new Pg({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var i=new Eu(n),u=[],h;!i.endOfStream()&&(h=this._decoder.handler(i,i.read()),h!==qi);)h!==null&&(Array.isArray(h)?u.push.apply(u,h):u.push(h));if(!this._streaming){do{if(h=this._decoder.handler(i,i.read()),h===qi)break;h!==null&&(Array.isArray(h)?u.push.apply(u,h):u.push(h))}while(!i.endOfStream());this._decoder=null}return u.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(u[0]===65279?(this._BOMseen=!0,u.shift()):this._BOMseen=!0),Ig(u)}};function ta(r,e){if(!(this instanceof ta))return new ta(r,e);if(r=r!==void 0?String(r).toLowerCase():Qs,r!==Qs)throw new Error("Encoding not supported. Only utf-8 is supported");e=ra(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}ta.prototype={encode:function(e,t){e=e?String(e):"",t=ra(t),this._streaming||(this._encoder=new xg(this._options)),this._streaming=Boolean(t.stream);for(var n=[],i=new Eu(Bg(e)),u;!i.endOfStream()&&(u=this._encoder.handler(i,i.read()),u!==qi);)Array.isArray(u)?n.push.apply(n,u):n.push(u);if(!this._streaming){for(;u=this._encoder.handler(i,i.read()),u!==qi;)Array.isArray(u)?n.push.apply(n,u):n.push(u);this._encoder=null}return new Uint8Array(n)}};function Pg(r){var e=r.fatal,t=0,n=0,i=0,u=128,h=191;this.handler=function(S,w){if(w===Xs&&i!==0)return i=0,Au(e);if(w===Xs)return qi;if(i===0){if(sn(w,0,127))return w;if(sn(w,194,223))i=1,t=w-192;else if(sn(w,224,239))w===224&&(u=160),w===237&&(h=159),i=2,t=w-224;else if(sn(w,240,244))w===240&&(u=144),w===244&&(h=143),i=3,t=w-240;else return Au(e);return t=t<<6*i,null}if(!sn(w,u,h))return t=i=n=0,u=128,h=191,S.prepend(w),Au(e);if(u=128,h=191,n+=1,t+=w-128<<6*(i-n),n!==i)return null;var A=t;return t=i=n=0,A}}function xg(r){var e=r.fatal;this.handler=function(t,n){if(n===Xs)return qi;if(sn(n,0,127))return n;var i,u;sn(n,128,2047)?(i=1,u=192):sn(n,2048,65535)?(i=2,u=224):sn(n,65536,1114111)&&(i=3,u=240);for(var h=[(n>>6*i)+u];i>0;){var S=n>>6*(i-1);h.push(128|S&63),i-=1}return h}}Tu.TextEncoder=ta;Tu.TextDecoder=ea});var Ol=G(We=>{"use strict";B();I();var Og=We&&We.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),kg=We&&We.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Fr=We&&We.__decorate||function(r,e,t,n){var i=arguments.length,u=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(r,e,t,n);else for(var S=r.length-1;S>=0;S--)(h=r[S])&&(u=(i<3?h(u):i>3?h(e,t,u):h(e,t))||u);return i>3&&u&&Object.defineProperty(e,t,u),u},Ug=We&&We.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.hasOwnProperty.call(r,t)&&Og(e,r,t);return kg(e,r),e},Bl=We&&We.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(We,"__esModule",{value:!0});We.deserializeUnchecked=We.deserialize=We.serialize=We.BinaryReader=We.BinaryWriter=We.BorshError=We.baseDecode=We.baseEncode=void 0;var Tn=Bl(ml()),Il=Bl(El()),Cg=Ug(Tl()),Dg=typeof TextDecoder!="function"?Cg.TextDecoder:TextDecoder,Rg=new Dg("utf-8",{fatal:!0});function Lg(r){return typeof r=="string"&&(r=q.Buffer.from(r,"utf8")),Il.default.encode(q.Buffer.from(r))}We.baseEncode=Lg;function Fg(r){return q.Buffer.from(Il.default.decode(r))}We.baseDecode=Fg;var Bu=1024,dt=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};We.BorshError=dt;var na=class{constructor(){this.buf=q.Buffer.alloc(Bu),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=q.Buffer.concat([this.buf,q.Buffer.alloc(Bu)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(q.Buffer.from(new Tn.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(q.Buffer.from(new Tn.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(q.Buffer.from(new Tn.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(q.Buffer.from(new Tn.default(e).toArray("le",64)))}writeBuffer(e){this.buf=q.Buffer.concat([q.Buffer.from(this.buf.subarray(0,this.length)),e,q.Buffer.alloc(Bu)]),this.length+=e.length}writeString(e){this.maybeResize();let t=q.Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(q.Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}};We.BinaryWriter=na;function qr(r,e,t){let n=t.value;t.value=function(...i){try{return n.apply(this,i)}catch(u){if(u instanceof RangeError){let h=u.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(h)>=0)throw new dt("Reached the end of buffer when deserializing")}throw u}}}var At=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new Tn.default(e,"le")}readU128(){let e=this.readBuffer(16);return new Tn.default(e,"le")}readU256(){let e=this.readBuffer(32);return new Tn.default(e,"le")}readU512(){let e=this.readBuffer(64);return new Tn.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new dt(`Expected buffer length ${e} isn't within bounds`);let t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){let e=this.readU32(),t=this.readBuffer(e);try{return Rg.decode(t)}catch(n){throw new dt(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let t=this.readU32(),n=Array();for(let i=0;i<t;++i)n.push(e());return n}};Fr([qr],At.prototype,"readU8",null);Fr([qr],At.prototype,"readU16",null);Fr([qr],At.prototype,"readU32",null);Fr([qr],At.prototype,"readU64",null);Fr([qr],At.prototype,"readU128",null);Fr([qr],At.prototype,"readU256",null);Fr([qr],At.prototype,"readU512",null);Fr([qr],At.prototype,"readString",null);Fr([qr],At.prototype,"readFixedArray",null);Fr([qr],At.prototype,"readArray",null);We.BinaryReader=At;function Pl(r){return r.charAt(0).toUpperCase()+r.slice(1)}function pi(r,e,t,n,i){try{if(typeof n=="string")i[`write${Pl(n)}`](t);else if(n instanceof Array)if(typeof n[0]=="number"){if(t.length!==n[0])throw new dt(`Expecting byte array of length ${n[0]}, but got ${t.length} bytes`);i.writeFixedArray(t)}else if(n.length===2&&typeof n[1]=="number"){if(t.length!==n[1])throw new dt(`Expecting byte array of length ${n[1]}, but got ${t.length} bytes`);for(let u=0;u<n[1];u++)pi(r,null,t[u],n[0],i)}else i.writeArray(t,u=>{pi(r,e,u,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{t==null?i.writeU8(0):(i.writeU8(1),pi(r,e,t,n.type,i));break}case"map":{i.writeU32(t.size),t.forEach((u,h)=>{pi(r,e,h,n.key,i),pi(r,e,u,n.value,i)});break}default:throw new dt(`FieldType ${n} unrecognized`)}else xl(r,t,i)}catch(u){throw u instanceof dt&&u.addToFieldPath(e),u}}function xl(r,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}let n=r.get(e.constructor);if(!n)throw new dt(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,u])=>{pi(r,i,e[i],u,t)});else if(n.kind==="enum"){let i=e[n.field];for(let u=0;u<n.values.length;++u){let[h,S]=n.values[u];if(h===i){t.writeU8(u),pi(r,h,e[h],S,t);break}}}else throw new dt(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function qg(r,e,t=na){let n=new t;return xl(r,e,n),n.toArray()}We.serialize=qg;function gi(r,e,t,n){try{if(typeof t=="string")return n[`read${Pl(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return n.readFixedArray(t[0]);if(typeof t[1]=="number"){let i=[];for(let u=0;u<t[1];u++)i.push(gi(r,null,t[0],n));return i}else return n.readArray(()=>gi(r,e,t[0],n))}if(t.kind==="option")return n.readU8()?gi(r,e,t.type,n):void 0;if(t.kind==="map"){let i=new Map,u=n.readU32();for(let h=0;h<u;h++){let S=gi(r,e,t.key,n),w=gi(r,e,t.value,n);i.set(S,w)}return i}return Iu(r,t,n)}catch(i){throw i instanceof dt&&i.addToFieldPath(e),i}}function Iu(r,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);let n=r.get(e);if(!n)throw new dt(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let i={};for(let[u,h]of r.get(e).fields)i[u]=gi(r,u,h,t);return new e(i)}if(n.kind==="enum"){let i=t.readU8();if(i>=n.values.length)throw new dt(`Enum index: ${i} is out of range`);let[u,h]=n.values[i],S=gi(r,u,h,t);return new e({[u]:S})}throw new dt(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function Kg(r,e,t,n=At){let i=new n(t),u=Iu(r,e,i);if(i.offset<t.length)throw new dt(`Unexpected ${t.length-i.offset} bytes after deserialized data`);return u}We.deserialize=Kg;function Ng(r,e,t,n=At){let i=new n(t);return Iu(r,e,i)}We.deserializeUnchecked=Ng});var kl=G(Ar=>{"use strict";B();I();Object.defineProperty(Ar,"__esModule",{value:!0});Ar.SOLANA_SCHEMA=Ar.Enum=Ar.Struct=void 0;var zg=mt(),Pu=Ol(),ia=class{constructor(e){Object.assign(this,e)}encode(){return zg.Buffer.from((0,Pu.serialize)(Ar.SOLANA_SCHEMA,this))}static decode(e){return(0,Pu.deserialize)(Ar.SOLANA_SCHEMA,this,e)}static decodeUnchecked(e){return(0,Pu.deserializeUnchecked)(Ar.SOLANA_SCHEMA,this,e)}};Ar.Struct=ia;var xu=class extends ia{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}};Ar.Enum=xu;Ar.SOLANA_SCHEMA=new Map});var yi=G(oa=>{"use strict";B();I();Object.defineProperty(oa,"__esModule",{value:!0});oa.toBuffer=void 0;var Ou=mt(),jg=r=>Ou.Buffer.isBuffer(r)?r:r instanceof Uint8Array?Ou.Buffer.from(r.buffer,r.byteOffset,r.byteLength):Ou.Buffer.from(r);oa.toBuffer=jg});var Xt=G(lr=>{"use strict";B();I();Object.defineProperty(lr,"__esModule",{value:!0});lr.PublicKey=lr.PUBLIC_KEY_LENGTH=lr.MAX_SEED_LENGTH=void 0;var Ul=Zt(),an=mt(),Rl=kl(),Vg=yi(),qo=Zt();lr.MAX_SEED_LENGTH=32;lr.PUBLIC_KEY_LENGTH=32;function Yg(r){return r._bn!==void 0}var Cl=1,cr=class extends Rl.Struct{constructor(e){if(super({}),Yg(e))this._bn=e._bn;else{if(typeof e=="string"){let t=qo.base.fromBase58(e);if(t.length!=lr.PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input");this._bn=new Ul.BN(t)}else this._bn=new Ul.BN(e);if(this._bn.byteLength()>lr.PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input")}}static unique(){let e=new cr(Cl);return Cl+=1,new cr(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return qo.base.toBase58(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(an.Buffer);if(e.length===lr.PUBLIC_KEY_LENGTH)return e;let t=an.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){let i=an.Buffer.concat([e.toBuffer(),an.Buffer.from(t),n.toBuffer()]),u=qo.base.sha256(i);return new cr(u)}static createProgramAddressSync(e,t){let n=an.Buffer.alloc(0);e.forEach(function(u){if(u.length>lr.MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");n=an.Buffer.concat([n,(0,Vg.toBuffer)(u)])}),n=an.Buffer.concat([n,t.toBuffer(),an.Buffer.from("ProgramDerivedAddress")]);let i=qo.base.sha256(n);if(Dl(i))throw new Error("Invalid seeds, address must fall off the curve");return new cr(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n=255,i;for(;n!=0;){try{let u=e.concat(an.Buffer.from([n]));i=this.createProgramAddressSync(u,t)}catch(u){if(u instanceof TypeError)throw u;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){let t=new cr(e);return Dl(t.toBytes())==1}};lr.PublicKey=cr;cr.default=new cr("11111111111111111111111111111111");Rl.SOLANA_SCHEMA.set(cr,{kind:"struct",fields:[["_bn","u256"]]});function Dl(r){try{return qo.signUtil.ed25519.publicKeyVerify(r)?1:0}catch{return 0}}});var Ll=G(aa=>{"use strict";B();I();Object.defineProperty(aa,"__esModule",{value:!0});aa.Keypair=void 0;var $g=Xt(),sa=Zt(),Ko=class{constructor(e){this._keypair=e}static fromSecretKey(e,t){if(!t||!t.skipValidation){let u=new TextEncoder().encode("@solana/web3.js-validation-v1"),h=sa.signUtil.ed25519.sign(u,e),S=sa.signUtil.ed25519.publicKeyCreate(e);if(!sa.signUtil.ed25519.verify(u,h,S))throw new Error("provided secretKey is invalid")}let n=sa.signUtil.ed25519.publicKeyCreate(e);return new Ko({publicKey:n,secretKey:e})}get publicKey(){return new $g.PublicKey(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}};aa.Keypair=Ko});var fa=G(ua=>{"use strict";B();I();Object.defineProperty(ua,"__esModule",{value:!0});ua.MessageAccountKeys=void 0;var ku=class{constructor(e,t){this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((u,h)=>{n.set(u.toBase58(),h)});let i=u=>{let h=n.get(u.toBase58());if(h===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return h};return e.map(u=>({programIdIndex:i(u.programId),accountKeyIndexes:u.keys.map(h=>i(h.pubkey)),data:u.data}))}};ua.MessageAccountKeys=ku});var un=G($e=>{"use strict";B();I();var Wg=$e&&$e.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Gg=$e&&$e.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Hg=$e&&$e.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Wg(e,r,t);return Gg(e,r),e};Object.defineProperty($e,"__esModule",{value:!0});$e.getAlloc=$e.voteInit=$e.lockup=$e.authorized=$e.rustString=$e.uint64=$e.signature=$e.publicKey=void 0;var Fl=mt(),pt=Hg(ct()),Zg=(r="publicKey")=>pt.blob(32,r);$e.publicKey=Zg;var Jg=(r="signature")=>pt.blob(64,r);$e.signature=Jg;var Xg=(r="uint64")=>pt.blob(8,r);$e.uint64=Xg;var Qg=(r="string")=>{let e=pt.struct([pt.u32("length"),pt.u32("lengthPadding"),pt.blob(pt.offset(pt.u32(),-8),"chars")],r),t=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(u,h)=>t(u,h).chars.toString(),i.encode=(u,h,S)=>{let w={chars:Fl.Buffer.from(u,"utf8")};return n(w,h,S)},i.alloc=u=>pt.u32().span+pt.u32().span+Fl.Buffer.from(u,"utf8").length,i};$e.rustString=Qg;var ey=(r="authorized")=>pt.struct([(0,$e.publicKey)("staker"),(0,$e.publicKey)("withdrawer")],r);$e.authorized=ey;var ty=(r="lockup")=>pt.struct([pt.ns64("unixTimestamp"),pt.ns64("epoch"),(0,$e.publicKey)("custodian")],r);$e.lockup=ty;var ry=(r="voteInit")=>pt.struct([(0,$e.publicKey)("nodePubkey"),(0,$e.publicKey)("authorizedVoter"),(0,$e.publicKey)("authorizedWithdrawer"),pt.u8("commission")],r);$e.voteInit=ry;function ql(r,e){let t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let u=e[i.property];if(Array.isArray(u))return u.length*t(i.elementLayout)}else if("fields"in i)return ql({layout:i},e[i.property]);return 0},n=0;return r.layout.fields.forEach(i=>{n+=t(i)}),n}$e.getAlloc=ql});var bi=G(Bn=>{"use strict";B();I();Object.defineProperty(Bn,"__esModule",{value:!0});Bn.SIGNATURE_LENGTH_IN_BYTES=Bn.VERSION_PREFIX_MASK=Bn.PACKET_DATA_SIZE=void 0;Bn.PACKET_DATA_SIZE=1280-40-8;Bn.VERSION_PREFIX_MASK=127;Bn.SIGNATURE_LENGTH_IN_BYTES=64});var No=G(Ki=>{"use strict";B();I();Object.defineProperty(Ki,"__esModule",{value:!0});Ki.encodeLength=Ki.decodeLength=void 0;function ny(r){let e=0,t=0;for(;;){let n=r.shift();if(e|=(n&127)<<t*7,t+=1,(n&128)===0)break}return e}Ki.decodeLength=ny;function iy(r,e){let t=e;for(;;){let n=t&127;if(t>>=7,t==0){r.push(n);break}else n|=128,r.push(n)}}Ki.encodeLength=iy});var mi=G(Uu=>{"use strict";B();I();Object.defineProperty(Uu,"__esModule",{value:!0});function oy(r,e){if(!r)throw new Error(e||"Assertion failed")}Uu.default=oy});var Cu=G(Ni=>{"use strict";B();I();var sy=Ni&&Ni.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.CompiledKeys=void 0;var ca=sy(mi()),zo=Xt(),jo=class{constructor(e,t){this.payer=e,this.keyMetaMap=t}static compile(e,t){let n=new Map,i=h=>{let S=h.toBase58(),w=n.get(S);return w===void 0&&(w={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(S,w)),w},u=i(t);u.isSigner=!0,u.isWritable=!0;for(let h of e){i(h.programId).isInvoked=!0;for(let S of h.keys){let w=i(S.pubkey);w.isSigner||(w.isSigner=S.isSigner),w.isWritable||(w.isWritable=S.isWritable)}}return new jo(t,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];(0,ca.default)(e.length<=256,"Max static account keys length exceeded");let t=e.filter(([,w])=>w.isSigner&&w.isWritable),n=e.filter(([,w])=>w.isSigner&&!w.isWritable),i=e.filter(([,w])=>!w.isSigner&&w.isWritable),u=e.filter(([,w])=>!w.isSigner&&!w.isWritable),h={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:u.length};{(0,ca.default)(t.length>0,"Expected at least one writable signer key");let[w]=t[0];(0,ca.default)(w===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let S=[...t.map(([w])=>new zo.PublicKey(w)),...n.map(([w])=>new zo.PublicKey(w)),...i.map(([w])=>new zo.PublicKey(w)),...u.map(([w])=>new zo.PublicKey(w))];return[h,S]}extractTableLookup(e){let[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,h=>!h.isSigner&&!h.isInvoked&&h.isWritable),[i,u]=this.drainKeysFoundInLookupTable(e.state.addresses,h=>!h.isSigner&&!h.isInvoked&&!h.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:n,readonly:u}]}drainKeysFoundInLookupTable(e,t){let n=new Array,i=new Array;for(let[u,h]of this.keyMetaMap.entries())if(t(h)){let S=new zo.PublicKey(u),w=e.findIndex(A=>A.equals(S));w>=0&&((0,ca.default)(w<256,"Max lookup table index exceeded"),n.push(w),i.push(S),this.keyMetaMap.delete(u))}return[n,i]}};Ni.CompiledKeys=jo});var Ru=G(Kr=>{"use strict";B();I();var ay=Kr&&Kr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),uy=Kr&&Kr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Du=Kr&&Kr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ay(e,r,t);return uy(e,r),e};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.Message=void 0;var zi=Zt(),hr=mt(),Ct=Du(ct()),ji=Xt(),Kl=Du(un()),Nl=bi(),In=Du(No()),fy=yi(),cy=Cu(),zl=fa(),Vi=class{constructor(e){this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new ji.PublicKey(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:zi.base.fromBase58(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new zl.MessageAccountKeys(this.staticAccountKeys)}static compile(e){let t=cy.CompiledKeys.compile(e.instructions,e.payerKey),[n,i]=t.getMessageComponents(),h=new zl.MessageAccountKeys(i).compileInstructions(e.instructions).map(S=>({programIdIndex:S.programIdIndex,accounts:S.accountKeyIndexes,data:zi.base.toBase58(S.data)}));return new Vi({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:h})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-t,u=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return n<u}else{let n=t-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){let e=this.accountKeys.length,t=[];In.encodeLength(t,e);let n=this.instructions.map(x=>{let{accounts:L,programIdIndex:k}=x,Y=Array.from(zi.base.fromBase58(x.data)),z=[];In.encodeLength(z,L.length);let $=[];return In.encodeLength($,Y.length),{programIdIndex:k,keyIndicesCount:hr.Buffer.from(z),keyIndices:L,dataLength:hr.Buffer.from($),data:Y}}),i=[];In.encodeLength(i,n.length);let u=hr.Buffer.alloc(Nl.PACKET_DATA_SIZE);hr.Buffer.from(i).copy(u);let h=i.length;n.forEach(x=>{h+=Ct.struct([Ct.u8("programIdIndex"),Ct.blob(x.keyIndicesCount.length,"keyIndicesCount"),Ct.seq(Ct.u8("keyIndex"),x.keyIndices.length,"keyIndices"),Ct.blob(x.dataLength.length,"dataLength"),Ct.seq(Ct.u8("userdatum"),x.data.length,"data")]).encode(x,u,h)}),u=u.slice(0,h);let S=Ct.struct([Ct.blob(1,"numRequiredSignatures"),Ct.blob(1,"numReadonlySignedAccounts"),Ct.blob(1,"numReadonlyUnsignedAccounts"),Ct.blob(t.length,"keyCount"),Ct.seq(Kl.publicKey("key"),e,"keys"),Kl.publicKey("recentBlockhash")]),w={numRequiredSignatures:hr.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:hr.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:hr.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:hr.Buffer.from(t),keys:this.accountKeys.map(x=>(0,fy.toBuffer)(x.toBytes())),recentBlockhash:zi.base.fromBase58(this.recentBlockhash)},A=hr.Buffer.alloc(2048),R=S.encode(w,A);return u.copy(A,R),A.slice(0,R+u.length)}static from(e){let t=[...e],n=t.shift();if(n!==(n&Nl.VERSION_PREFIX_MASK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=t.shift(),u=t.shift(),h=In.decodeLength(t),S=[];for(let L=0;L<h;L++){let k=t.slice(0,ji.PUBLIC_KEY_LENGTH);t=t.slice(ji.PUBLIC_KEY_LENGTH),S.push(new ji.PublicKey(hr.Buffer.from(k)))}let w=t.slice(0,ji.PUBLIC_KEY_LENGTH);t=t.slice(ji.PUBLIC_KEY_LENGTH);let A=In.decodeLength(t),R=[];for(let L=0;L<A;L++){let k=t.shift(),Y=In.decodeLength(t),z=t.slice(0,Y);t=t.slice(Y);let $=In.decodeLength(t),H=t.slice(0,$),ie=zi.base.toBase58(hr.Buffer.from(H));t=t.slice($),R.push({programIdIndex:k,accounts:z,data:ie})}let x={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:u},recentBlockhash:zi.base.toBase58(hr.Buffer.from(w)),accountKeys:S,instructions:R};return new Vi(x)}};Kr.Message=Vi});var qu=G(dr=>{"use strict";B();I();var ly=dr&&dr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),hy=dr&&dr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Fu=dr&&dr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ly(e,r,t);return hy(e,r),e},dy=dr&&dr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(dr,"__esModule",{value:!0});dr.MessageV0=void 0;var jl=Zt(),He=Fu(ct()),Lu=Fu(un()),Vo=Xt(),Dt=Fu(No()),Vl=dy(mi()),la=bi(),py=Cu(),Yl=fa(),Yi=class{constructor(e){this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Yl.MessageAccountKeys(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,u=this.addressTableLookups.reduce((h,S)=>h+S.writableIndexes.length,0);return i<u}else if(e>=this.header.numRequiredSignatures){let i=e-t,h=n-t-this.header.numReadonlyUnsignedAccounts;return i<h}else{let i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let t={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(u=>u.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let u of n.writableIndexes)if(u<i.state.addresses.length)t.writable.push(i.state.addresses[u]);else throw new Error(`Failed to find address for index ${u} in address lookup table ${n.accountKey.toBase58()}`);for(let u of n.readonlyIndexes)if(u<i.state.addresses.length)t.readonly.push(i.state.addresses[u]);else throw new Error(`Failed to find address for index ${u} in address lookup table ${n.accountKey.toBase58()}`)}return t}static compile(e){let t=py.CompiledKeys.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},u=e.addressLookupTableAccounts||[];for(let R of u){let x=t.extractTableLookup(R);if(x!==void 0){let[L,{writable:k,readonly:Y}]=x;n.push(L),i.writable.push(...k),i.readonly.push(...Y)}}let[h,S]=t.getMessageComponents(),A=new Yl.MessageAccountKeys(S,i).compileInstructions(e.instructions);return new Yi({header:h,staticAccountKeys:S,recentBlockhash:e.recentBlockhash,compiledInstructions:A,addressTableLookups:n})}serialize(){let e=Array();Dt.encodeLength(e,this.staticAccountKeys.length);let t=this.serializeInstructions(),n=Array();Dt.encodeLength(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),u=Array();Dt.encodeLength(u,this.addressTableLookups.length);let h=He.struct([He.u8("prefix"),He.struct([He.u8("numRequiredSignatures"),He.u8("numReadonlySignedAccounts"),He.u8("numReadonlyUnsignedAccounts")],"header"),He.blob(e.length,"staticAccountKeysLength"),He.seq(Lu.publicKey(),this.staticAccountKeys.length,"staticAccountKeys"),Lu.publicKey("recentBlockhash"),He.blob(n.length,"instructionsLength"),He.blob(t.length,"serializedInstructions"),He.blob(u.length,"addressTableLookupsLength"),He.blob(i.length,"serializedAddressTableLookups")]),S=new Uint8Array(la.PACKET_DATA_SIZE),w=1<<7,A=h.encode({prefix:w,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(R=>R.toBytes()),recentBlockhash:jl.base.fromBase58(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(u),serializedAddressTableLookups:i},S);return S.slice(0,A)}serializeInstructions(){let e=0,t=new Uint8Array(la.PACKET_DATA_SIZE);for(let n of this.compiledInstructions){let i=Array();Dt.encodeLength(i,n.accountKeyIndexes.length);let u=Array();Dt.encodeLength(u,n.data.length),e+=He.struct([He.u8("programIdIndex"),He.blob(i.length,"encodedAccountKeyIndexesLength"),He.seq(He.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),He.blob(u.length,"encodedDataLength"),He.blob(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(u),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0,t=new Uint8Array(la.PACKET_DATA_SIZE);for(let n of this.addressTableLookups){let i=Array();Dt.encodeLength(i,n.writableIndexes.length);let u=Array();Dt.encodeLength(u,n.readonlyIndexes.length),e+=He.struct([Lu.publicKey("accountKey"),He.blob(i.length,"encodedWritableIndexesLength"),He.seq(He.u8(),n.writableIndexes.length,"writableIndexes"),He.blob(u.length,"encodedReadonlyIndexesLength"),He.seq(He.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(u),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e],n=t.shift(),i=n&la.VERSION_PREFIX_MASK;(0,Vl.default)(n!==i,"Expected versioned message but received legacy message");let u=i;(0,Vl.default)(u===0,`Expected versioned message with version 0 but found version ${u}`);let h={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},S=[],w=Dt.decodeLength(t);for(let Y=0;Y<w;Y++)S.push(new Vo.PublicKey(t.splice(0,Vo.PUBLIC_KEY_LENGTH)));let A=jl.base.toBase58(t.splice(0,Vo.PUBLIC_KEY_LENGTH)),R=Dt.decodeLength(t),x=[];for(let Y=0;Y<R;Y++){let z=t.shift(),$=Dt.decodeLength(t),H=t.splice(0,$),ie=Dt.decodeLength(t),Ke=new Uint8Array(t.splice(0,ie));x.push({programIdIndex:z,accountKeyIndexes:H,data:Ke})}let L=Dt.decodeLength(t),k=[];for(let Y=0;Y<L;Y++){let z=new Vo.PublicKey(t.splice(0,Vo.PUBLIC_KEY_LENGTH)),$=Dt.decodeLength(t),H=t.splice(0,$),ie=Dt.decodeLength(t),Ke=t.splice(0,ie);k.push({accountKey:z,writableIndexes:H,readonlyIndexes:Ke})}return new Yi({header:h,staticAccountKeys:S,recentBlockhash:A,compiledInstructions:x,addressTableLookups:k})}};dr.MessageV0=Yi});var Ku=G(Yo=>{"use strict";B();I();Object.defineProperty(Yo,"__esModule",{value:!0});Yo.VersionedMessage=void 0;var gy=bi(),yy=Ru(),by=qu();Yo.VersionedMessage={deserializeMessageVersion(r){let e=r[0],t=e&gy.VERSION_PREFIX_MASK;return t===e?"legacy":t},deserialize:r=>{let e=Yo.VersionedMessage.deserializeMessageVersion(r);if(e==="legacy")return yy.Message.from(r);if(e===0)return by.MessageV0.deserialize(r);throw new Error(`Transaction message version ${e} deserialization is not supported`)}}});var da=G(Nr=>{"use strict";B();I();var my=Nr&&Nr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ha=Nr&&Nr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&my(e,r,t)};Object.defineProperty(Nr,"__esModule",{value:!0});ha(fa(),Nr);ha(Ru(),Nr);ha(Ku(),Nr);ha(qu(),Nr)});var Nu=G(pr=>{"use strict";B();I();var vy=pr&&pr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),wy=pr&&pr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Gl=pr&&pr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&vy(e,r,t);return wy(e,r),e};Object.defineProperty(pr,"__esModule",{value:!0});pr.NonceAccount=pr.NONCE_ACCOUNT_LENGTH=void 0;var pa=Gl(ct()),$l=Gl(un()),Wl=Xt(),_y=_u(),My=yi(),Hl=pa.struct([pa.u32("version"),pa.u32("state"),$l.publicKey("authorizedPubkey"),$l.publicKey("nonce"),pa.struct([_y.FeeCalculatorLayout],"feeCalculator")]);pr.NONCE_ACCOUNT_LENGTH=Hl.span;var $o=class{constructor(e){this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let t=Hl.decode((0,My.toBuffer)(e),0);return new $o({authorizedPubkey:new Wl.PublicKey(t.authorizedPubkey),nonce:new Wl.PublicKey(t.nonce).toString(),feeCalculator:t.feeCalculator})}};pr.NonceAccount=$o});var Wo=G(zr=>{"use strict";B();I();Object.defineProperty(zr,"__esModule",{value:!0});zr.u256=zr.u192=zr.u128=zr.u64=void 0;var Sy=mt(),Ay=ct(),Zl=$s(),Ey=r=>{let e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}},ga=r=>e=>{let t=(0,Ay.blob)(r,e),{encode:n,decode:i}=Ey(t),u=t;return u.decode=(h,S)=>{let w=i(h,S);return(0,Zl.toBigIntLE)(Sy.Buffer.from(w))},u.encode=(h,S,w)=>{let A=(0,Zl.toBufferLE)(h,r);return n(A,S,w)},u};zr.u64=ga(8);zr.u128=ga(16);zr.u192=ga(24);zr.u256=ga(32)});var Go=G(gr=>{"use strict";B();I();var Ty=gr&&gr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),By=gr&&gr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Iy=gr&&gr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Ty(e,r,t);return By(e,r),e};Object.defineProperty(gr,"__esModule",{value:!0});gr.decodeData=gr.encodeData=void 0;var Py=mt(),xy=Iy(un());function Oy(r,e){let t=r.layout.span>=0?r.layout.span:xy.getAlloc(r,e),n=Py.Buffer.alloc(t),i=Object.assign({instruction:r.index},e);return r.layout.encode(i,n),n}gr.encodeData=Oy;function ky(r,e){let t;try{t=r.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(t.instruction!==r.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${r.index}`);return t}gr.decodeData=ky});var zu=G(ot=>{"use strict";B();I();Object.defineProperty(ot,"__esModule",{value:!0});ot.SYSVAR_STAKE_HISTORY_PUBKEY=ot.SYSVAR_SLOT_HISTORY_PUBKEY=ot.SYSVAR_SLOT_HASHES_PUBKEY=ot.SYSVAR_REWARDS_PUBKEY=ot.SYSVAR_RENT_PUBKEY=ot.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=ot.SYSVAR_INSTRUCTIONS_PUBKEY=ot.SYSVAR_EPOCH_SCHEDULE_PUBKEY=ot.SYSVAR_CLOCK_PUBKEY=void 0;var fn=Xt();ot.SYSVAR_CLOCK_PUBKEY=new fn.PublicKey("SysvarC1ock11111111111111111111111111111111");ot.SYSVAR_EPOCH_SCHEDULE_PUBKEY=new fn.PublicKey("SysvarEpochSchedu1e111111111111111111111111");ot.SYSVAR_INSTRUCTIONS_PUBKEY=new fn.PublicKey("Sysvar1nstructions1111111111111111111111111");ot.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=new fn.PublicKey("SysvarRecentB1ockHashes11111111111111111111");ot.SYSVAR_RENT_PUBKEY=new fn.PublicKey("SysvarRent111111111111111111111111111111111");ot.SYSVAR_REWARDS_PUBKEY=new fn.PublicKey("SysvarRewards111111111111111111111111111111");ot.SYSVAR_SLOT_HASHES_PUBKEY=new fn.PublicKey("SysvarS1otHashes111111111111111111111111111");ot.SYSVAR_SLOT_HISTORY_PUBKEY=new fn.PublicKey("SysvarS1otHistory11111111111111111111111111");ot.SYSVAR_STAKE_HISTORY_PUBKEY=new fn.PublicKey("SysvarStakeHistory1111111111111111111111111")});var Jl=G(Pn=>{"use strict";B();I();Object.defineProperty(Pn,"__esModule",{value:!0});Pn.TransactionExpiredNonceInvalidError=Pn.TransactionExpiredTimeoutError=Pn.TransactionExpiredBlockheightExceededError=void 0;var ya=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=e}};Pn.TransactionExpiredBlockheightExceededError=ya;Object.defineProperty(ya.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var ba=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=e}};Pn.TransactionExpiredTimeoutError=ba;Object.defineProperty(ba.prototype,"name",{value:"TransactionExpiredTimeoutError"});var ma=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=e}};Pn.TransactionExpiredNonceInvalidError=ma;Object.defineProperty(ma.prototype,"name",{value:"TransactionExpiredNonceInvalidError"})});var ju=G(Rt=>{"use strict";B();I();var Uy=Rt&&Rt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Cy=Rt&&Rt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Dy=Rt&&Rt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Uy(e,r,t);return Cy(e,r),e},Ry=Rt&&Rt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.Transaction=Rt.TransactionInstruction=void 0;var ln=mt(),Ho=bi(),Xl=da(),Ly=Xt(),Ql=Dy(No()),Fy=yi(),cn=Ry(mi()),vi=Zt(),qy=ln.Buffer.alloc(Ho.SIGNATURE_LENGTH_IN_BYTES).fill(0),Zo=class{constructor(e){this.data=ln.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}};Rt.TransactionInstruction=Zo;var $i=class{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.instructions=[],!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{let{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Zo(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let z=0;z<t.length;z++)if(t[z].programId===void 0)throw new Error(`Transaction instruction index ${z} has undefined program id`);let i=[],u=[];t.forEach(z=>{z.keys.forEach(H=>{u.push({...H})});let $=z.programId.toString();i.includes($)||i.push($)}),i.forEach(z=>{u.push({pubkey:new Ly.PublicKey(z),isSigner:!1,isWritable:!1})});let h=[];u.forEach(z=>{let $=z.pubkey.toString(),H=h.findIndex(ie=>ie.pubkey.toString()===$);H>-1?(h[H].isWritable=h[H].isWritable||z.isWritable,h[H].isSigner=h[H].isSigner||z.isSigner):h.push(z)}),h.sort(function(z,$){return z.isSigner!==$.isSigner?z.isSigner?-1:1:z.isWritable!==$.isWritable?z.isWritable?-1:1:z.pubkey.toBase58().localeCompare($.pubkey.toBase58())});let S=h.findIndex(z=>z.pubkey.equals(n));if(S>-1){let[z]=h.splice(S,1);z.isSigner=!0,z.isWritable=!0,h.unshift(z)}else h.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let z of this.signatures){let $=h.findIndex(H=>H.pubkey.equals(z.publicKey));if($>-1)h[$].isSigner||(h[$].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${z.publicKey.toString()}`)}let w=0,A=0,R=0,x=[],L=[];h.forEach(({pubkey:z,isSigner:$,isWritable:H})=>{$?(x.push(z.toString()),w+=1,H||(A+=1)):(L.push(z.toString()),H||(R+=1))});let k=x.concat(L),Y=t.map(z=>{let{data:$,programId:H}=z;return{programIdIndex:k.indexOf(H.toString()),accounts:z.keys.map(ie=>k.indexOf(ie.pubkey.toString())),data:vi.base.toBase58($)}});return Y.forEach(z=>{(0,cn.default)(z.programIdIndex>=0),z.accounts.forEach($=>(0,cn.default)($>=0))}),new Xl.Message({header:{numRequiredSignatures:w,numReadonlySignedAccounts:A,numReadonlyUnsignedAccounts:R},accountKeys:k,recentBlockhash:e,instructions:Y})}_compile(){let e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,u)=>t[u].equals(i.publicKey))||(this.signatures=t.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}setSigners(...e){if(e.length===0)throw new Error("No signers");let t=new Set;this.signatures=e.filter(n=>{let i=n.toString();return t.has(i)?!1:(t.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let u of e){let h=u.publicKey.toString();t.has(h)||(t.add(h),n.push(u))}this.signatures=n.map(u=>({signature:null,publicKey:u.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let u of e){let h=u.publicKey.toString();t.has(h)||(t.add(h),n.push(u))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...t){let n=e.serialize();t.forEach(i=>{let u=vi.signUtil.ed25519.sign(n,i.secretKey);this._addSignature(i.publicKey,(0,Fy.toBuffer)(u))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){(0,cn.default)(t.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=ln.Buffer.from(t)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,t){for(let{signature:n,publicKey:i}of this.signatures)if(n===null){if(t)return!1}else if(!vi.signUtil.ed25519.verify(e,n,i.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n&&!this._verifySignatures(i,t))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){let{signatures:t}=this,n=[];Ql.encodeLength(n,t.length);let i=n.length+t.length*64+e.length,u=ln.Buffer.alloc(i);return(0,cn.default)(t.length<256),ln.Buffer.from(n).copy(u,0),t.forEach(({signature:h},S)=>{h!==null&&((0,cn.default)(h.length===64,"signature has invalid length"),ln.Buffer.from(h).copy(u,n.length+S*64))}),e.copy(u,n.length+t.length*64),(0,cn.default)(u.length<=Ho.PACKET_DATA_SIZE,`Transaction too large: ${u.length} > ${Ho.PACKET_DATA_SIZE}`),u}get keys(){return(0,cn.default)(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return(0,cn.default)(this.instructions.length===1),this.instructions[0].programId}get data(){return(0,cn.default)(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e],n=Ql.decodeLength(t),i=[];for(let u=0;u<n;u++){let h=t.slice(0,Ho.SIGNATURE_LENGTH_IN_BYTES);t=t.slice(Ho.SIGNATURE_LENGTH_IN_BYTES),i.push(vi.base.toBase58(ln.Buffer.from(h)))}return $i.populate(Xl.Message.from(t),i)}static populate(e,t=[]){let n=new $i;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach((i,u)=>{let h={signature:i==vi.base.toBase58(qy)?null:ln.Buffer.from(vi.base.fromBase58(i)),publicKey:e.accountKeys[u]};n.signatures.push(h)}),e.instructions.forEach(i=>{let u=i.accounts.map(h=>{let S=e.accountKeys[h];return{pubkey:S,isSigner:n.signatures.some(w=>w.publicKey.toString()===S.toString())||e.isAccountSigner(h),isWritable:e.isAccountWritable(h)}});n.instructions.push(new Zo({keys:u,programId:e.accountKeys[i.programIdIndex],data:ln.Buffer.from(vi.base.fromBase58(i.data))}))}),n._message=e,n._json=n.toJSON(),n}};Rt.Transaction=$i});var rh=G(Wi=>{"use strict";B();I();var Ky=Wi&&Wi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.TransactionMessage=void 0;var eh=Ky(mi()),Ny=yi(),th=da(),zy=ju(),Jo=class{constructor(e){this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){let{header:n,compiledInstructions:i,recentBlockhash:u}=e,{numRequiredSignatures:h,numReadonlySignedAccounts:S,numReadonlyUnsignedAccounts:w}=n,A=h-S;(0,eh.default)(A>0,"Message header is invalid");let R=e.staticAccountKeys.length-h-w;(0,eh.default)(R>=0,"Message header is invalid");let x=e.getAccountKeys(t),L=x.get(0);if(L===void 0)throw new Error("Failed to decompile message because no account keys were found");let k=[];for(let Y of i){let z=[];for(let H of Y.accountKeyIndexes){let ie=x.get(H);if(ie===void 0)throw new Error(`Failed to find key for account key index ${H}`);let Ke=H<h,ue;Ke?ue=H<A:H<x.staticAccountKeys.length?ue=H-h<R:ue=H-x.staticAccountKeys.length<x.accountKeysFromLookups.writable.length,z.push({pubkey:ie,isSigner:H<n.numRequiredSignatures,isWritable:ue})}let $=x.get(Y.programIdIndex);if($===void 0)throw new Error(`Failed to find program id for program id index ${Y.programIdIndex}`);k.push(new zy.TransactionInstruction({programId:$,data:(0,Ny.toBuffer)(Y.data),keys:z}))}return new Jo({payerKey:L,instructions:k,recentBlockhash:u})}compileToLegacyMessage(){return th.Message.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return th.MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}};Wi.TransactionMessage=Jo});var oh=G(yr=>{"use strict";B();I();var jy=yr&&yr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Vy=yr&&yr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Vu=yr&&yr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&jy(e,r,t);return Vy(e,r),e},Yy=yr&&yr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yr,"__esModule",{value:!0});yr.VersionedTransaction=void 0;var va=Vu(ct()),wa=Yy(mi()),$y=Ku(),nh=bi(),ih=Vu(No()),Wy=Vu(un()),Gy=Zt(),Hy=mt(),Xo=class{get signature(){return this.signatures.length>0?Hy.Buffer.from(this.signatures[0]):null}get version(){return this.message.version}constructor(e,t){if(t!==void 0)(0,wa.default)(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(nh.SIGNATURE_LENGTH_IN_BYTES));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),t=Array();ih.encodeLength(t,this.signatures.length);let n=va.struct([va.blob(t.length,"encodedSignaturesLength"),va.seq(Wy.signature(),this.signatures.length,"signatures"),va.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),u=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,u)}static deserialize(e){let t=[...e],n=[],i=ih.decodeLength(t);for(let h=0;h<i;h++)n.push(new Uint8Array(t.splice(0,nh.SIGNATURE_LENGTH_IN_BYTES)));let u=$y.VersionedMessage.deserialize(new Uint8Array(t));return new Xo(u,n)}sign(e){let t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let u=n.findIndex(h=>h.equals(i.publicKey));(0,wa.default)(u>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[u]=Gy.signUtil.ed25519.sign(t,i.secretKey)}}addSignature(e,t){(0,wa.default)(t.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(u=>u.equals(e));(0,wa.default)(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}};yr.VersionedTransaction=Xo});var es=G(Er=>{"use strict";B();I();var Zy=Er&&Er.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Qo=Er&&Er.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Zy(e,r,t)};Object.defineProperty(Er,"__esModule",{value:!0});Qo(bi(),Er);Qo(Jl(),Er);Qo(ju(),Er);Qo(rh(),Er);Qo(oh(),Er)});var $u=G(Ce=>{"use strict";B();I();var Jy=Ce&&Ce.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Xy=Ce&&Ce.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),uh=Ce&&Ce.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Jy(e,r,t);return Xy(e,r),e};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.SystemProgram=Ce.SYSTEM_INSTRUCTION_LAYOUTS=Ce.SystemInstruction=void 0;var Ne=uh(ct()),Xe=Go(),Et=uh(un()),sh=Nu(),br=Xt(),ts=zu(),jr=es(),Tr=yi(),ah=Wo(),Yu=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=Ne.u32("instruction").decode(e.data),i;for(let[u,h]of Object.entries(Ce.SYSTEM_INSTRUCTION_LAYOUTS))if(h.index==n){i=u;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:t,space:n,programId:i}=(0,Xe.decodeData)(Ce.SYSTEM_INSTRUCTION_LAYOUTS.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:n,programId:new br.PublicKey(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:t}=(0,Xe.decodeData)(Ce.SYSTEM_INSTRUCTION_LAYOUTS.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:t,seed:n,programId:i}=(0,Xe.decodeData)(Ce.SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:n,programId:new br.PublicKey(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:t}=(0,Xe.decodeData)(Ce.SYSTEM_INSTRUCTION_LAYOUTS.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:t,seed:n,space:i,programId:u}=(0,Xe.decodeData)(Ce.SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new br.PublicKey(t),seed:n,space:i,programId:new br.PublicKey(u)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:t}=(0,Xe.decodeData)(Ce.SYSTEM_INSTRUCTION_LAYOUTS.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new br.PublicKey(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:t,seed:n,programId:i}=(0,Xe.decodeData)(Ce.SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new br.PublicKey(t),seed:n,programId:new br.PublicKey(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:t,seed:n,lamports:i,space:u,programId:h}=(0,Xe.decodeData)(Ce.SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new br.PublicKey(t),seed:n,lamports:i,space:u,programId:new br.PublicKey(h)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:t}=(0,Xe.decodeData)(Ce.SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new br.PublicKey(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),(0,Xe.decodeData)(Ce.SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:t}=(0,Xe.decodeData)(Ce.SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:t}=(0,Xe.decodeData)(Ce.SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new br.PublicKey(t)}}static checkProgramId(e){if(!e.equals(xn.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};Ce.SystemInstruction=Yu;Ce.SYSTEM_INSTRUCTION_LAYOUTS=Object.freeze({Create:{index:0,layout:Ne.struct([Ne.u32("instruction"),Ne.ns64("lamports"),Ne.ns64("space"),Et.publicKey("programId")])},Assign:{index:1,layout:Ne.struct([Ne.u32("instruction"),Et.publicKey("programId")])},Transfer:{index:2,layout:Ne.struct([Ne.u32("instruction"),(0,ah.u64)("lamports")])},CreateWithSeed:{index:3,layout:Ne.struct([Ne.u32("instruction"),Et.publicKey("base"),Et.rustString("seed"),Ne.ns64("lamports"),Ne.ns64("space"),Et.publicKey("programId")])},AdvanceNonceAccount:{index:4,layout:Ne.struct([Ne.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:Ne.struct([Ne.u32("instruction"),Ne.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:Ne.struct([Ne.u32("instruction"),Et.publicKey("authorized")])},AuthorizeNonceAccount:{index:7,layout:Ne.struct([Ne.u32("instruction"),Et.publicKey("authorized")])},Allocate:{index:8,layout:Ne.struct([Ne.u32("instruction"),Ne.ns64("space")])},AllocateWithSeed:{index:9,layout:Ne.struct([Ne.u32("instruction"),Et.publicKey("base"),Et.rustString("seed"),Ne.ns64("space"),Et.publicKey("programId")])},AssignWithSeed:{index:10,layout:Ne.struct([Ne.u32("instruction"),Et.publicKey("base"),Et.rustString("seed"),Et.publicKey("programId")])},TransferWithSeed:{index:11,layout:Ne.struct([Ne.u32("instruction"),(0,ah.u64)("lamports"),Et.rustString("seed"),Et.publicKey("programId")])},UpgradeNonceAccount:{index:12,layout:Ne.struct([Ne.u32("instruction")])}});var xn=class{constructor(){}static createAccount(e){let t=Ce.SYSTEM_INSTRUCTION_LAYOUTS.Create,n=(0,Xe.encodeData)(t,{lamports:e.lamports,space:e.space,programId:(0,Tr.toBuffer)(e.programId.toBuffer())});return new jr.TransactionInstruction({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let t,n;if("basePubkey"in e){let i=Ce.SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed;t=(0,Xe.encodeData)(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:(0,Tr.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=Ce.SYSTEM_INSTRUCTION_LAYOUTS.Transfer;t=(0,Xe.encodeData)(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new jr.TransactionInstruction({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){let i=Ce.SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed;t=(0,Xe.encodeData)(i,{base:(0,Tr.toBuffer)(e.basePubkey.toBuffer()),seed:e.seed,programId:(0,Tr.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Ce.SYSTEM_INSTRUCTION_LAYOUTS.Assign;t=(0,Xe.encodeData)(i,{programId:(0,Tr.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new jr.TransactionInstruction({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){let t=Ce.SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,n=(0,Xe.encodeData)(t,{base:(0,Tr.toBuffer)(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:(0,Tr.toBuffer)(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new jr.TransactionInstruction({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let t=new jr.Transaction;"basePubkey"in e&&"seed"in e?t.add(xn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:sh.NONCE_ACCOUNT_LENGTH,programId:this.programId})):t.add(xn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:sh.NONCE_ACCOUNT_LENGTH,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){let t=Ce.SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,n=(0,Xe.encodeData)(t,{authorized:(0,Tr.toBuffer)(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ts.SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:ts.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new jr.TransactionInstruction(i)}static nonceAdvance(e){let t=Ce.SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,n=(0,Xe.encodeData)(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ts.SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new jr.TransactionInstruction(i)}static nonceWithdraw(e){let t=Ce.SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,n=(0,Xe.encodeData)(t,{lamports:e.lamports});return new jr.TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:ts.SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:ts.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let t=Ce.SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,n=(0,Xe.encodeData)(t,{authorized:(0,Tr.toBuffer)(e.newAuthorizedPubkey.toBuffer())});return new jr.TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let t,n;if("basePubkey"in e){let i=Ce.SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed;t=(0,Xe.encodeData)(i,{base:(0,Tr.toBuffer)(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:(0,Tr.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=Ce.SYSTEM_INSTRUCTION_LAYOUTS.Allocate;t=(0,Xe.encodeData)(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new jr.TransactionInstruction({keys:n,programId:this.programId,data:t})}};Ce.SystemProgram=xn;xn.programId=new br.PublicKey("11111111111111111111111111111111")});var fh=G(_a=>{"use strict";B();I();Object.defineProperty(_a,"__esModule",{value:!0});_a.decodeData=void 0;function Qy(r,e){let t;try{t=r.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(t.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${r.index}`);return t}_a.decodeData=Qy});var gh=G(mr=>{"use strict";B();I();var e1=mr&&mr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),t1=mr&&mr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),dh=mr&&mr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&e1(e,r,t);return t1(e,r),e},r1=mr&&mr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(mr,"__esModule",{value:!0});mr.AddressLookupTableAccount=void 0;var Vr=dh(ct()),ch=r1(mi()),ph=dh(un()),lh=Xt(),n1=Wo(),i1=fh(),hh=56,Wu=class{constructor(e){this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let t=(0,i1.decodeData)(o1,e),n=e.length-hh;(0,ch.default)(n>=0,"lookup table is invalid"),(0,ch.default)(n%32===0,"lookup table is invalid");let i=n/32,{addresses:u}=Vr.struct([Vr.seq(ph.publicKey(),i,"addresses")]).decode(e.slice(hh));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new lh.PublicKey(t.authority[0]):void 0,addresses:u.map(h=>new lh.PublicKey(h))}}};mr.AddressLookupTableAccount=Wu;var o1={index:1,layout:Vr.struct([Vr.u32("typeIndex"),(0,n1.u64)("deactivationSlot"),Vr.nu64("lastExtendedSlot"),Vr.u8("lastExtendedStartIndex"),Vr.u8(),Vr.seq(ph.publicKey(),Vr.offset(Vr.u8(),-1),"authority")])}});var vh=G(Je=>{"use strict";B();I();var mh=Je&&Je.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),s1=Je&&Je.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Hu=Je&&Je.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&mh(e,r,t);return s1(e,r),e},a1=Je&&Je.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&mh(e,r,t)};Object.defineProperty(Je,"__esModule",{value:!0});Je.AddressLookupTableProgram=Je.AddressLookupTableInstruction=Je.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=void 0;var u1=$s(),Tt=Hu(ct()),f1=Hu(un()),Zu=Xt(),yh=Hu(Wo()),bh=$u(),rs=es(),wi=Go();a1(gh(),Je);Je.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Object.freeze({CreateLookupTable:{index:0,layout:Tt.struct([Tt.u32("instruction"),yh.u64("recentSlot"),Tt.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Tt.struct([Tt.u32("instruction")])},ExtendLookupTable:{index:2,layout:Tt.struct([Tt.u32("instruction"),yh.u64(),Tt.seq(f1.publicKey(),Tt.offset(Tt.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Tt.struct([Tt.u32("instruction")])},CloseLookupTable:{index:4,layout:Tt.struct([Tt.u32("instruction")])}});var Gu=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=Tt.u32("instruction").decode(e.data),i;for(let[u,h]of Object.entries(Je.LOOKUP_TABLE_INSTRUCTION_LAYOUTS))if(h.index==n){i=u;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:t}=(0,wi.decodeData)(Je.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:t}=(0,wi.decodeData)(Je.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(n=>new Zu.PublicKey(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(ns.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};Je.AddressLookupTableInstruction=Gu;var ns=class{constructor(){}static createLookupTable(e){let[t,n]=Zu.PublicKey.findProgramAddressSync([e.authority.toBuffer(),(0,u1.toBufferLE)(BigInt(e.recentSlot),8)],this.programId),i=Je.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,u=(0,wi.encodeData)(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),h=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:bh.SystemProgram.programId,isSigner:!1,isWritable:!1}];return[new rs.TransactionInstruction({programId:this.programId,keys:h,data:u}),t]}static freezeLookupTable(e){let t=Je.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.FreezeLookupTable,n=(0,wi.encodeData)(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new rs.TransactionInstruction({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let t=Je.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,n=(0,wi.encodeData)(t,{addresses:e.addresses.map(u=>u.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:bh.SystemProgram.programId,isSigner:!1,isWritable:!1}),new rs.TransactionInstruction({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let t=Je.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.DeactivateLookupTable,n=(0,wi.encodeData)(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new rs.TransactionInstruction({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let t=Je.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CloseLookupTable,n=(0,wi.encodeData)(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new rs.TransactionInstruction({programId:this.programId,keys:i,data:n})}};Je.AddressLookupTableProgram=ns;ns.programId=new Zu.PublicKey("AddressLookupTab1e1111111111111111111111111")});var Sa=G(tt=>{"use strict";B();I();var c1=tt&&tt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),l1=tt&&tt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),h1=tt&&tt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&c1(e,r,t);return l1(e,r),e};Object.defineProperty(tt,"__esModule",{value:!0});tt.ComputeBudgetProgram=tt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=tt.ComputeBudgetInstruction=void 0;var Qt=h1(ct()),On=Go(),d1=Xt(),Ma=es(),p1=Wo(),Ju=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=Qt.u8("instruction").decode(e.data),i;for(let[u,h]of Object.entries(tt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS))if(h.index==n){i=u;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:t,additionalFee:n}=(0,On.decodeData)(tt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,e.data);return{units:t,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:t}=(0,On.decodeData)(tt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:t}=(0,On.decodeData)(tt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:t}=(0,On.decodeData)(tt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(is.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}};tt.ComputeBudgetInstruction=Ju;tt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Object.freeze({RequestUnits:{index:0,layout:Qt.struct([Qt.u8("instruction"),Qt.u32("units"),Qt.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:Qt.struct([Qt.u8("instruction"),Qt.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:Qt.struct([Qt.u8("instruction"),Qt.u32("units")])},SetComputeUnitPrice:{index:3,layout:Qt.struct([Qt.u8("instruction"),(0,p1.u64)("microLamports")])}});var is=class{constructor(){}static requestUnits(e){let t=tt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,n=(0,On.encodeData)(t,e);return new Ma.TransactionInstruction({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let t=tt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,n=(0,On.encodeData)(t,e);return new Ma.TransactionInstruction({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let t=tt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,n=(0,On.encodeData)(t,e);return new Ma.TransactionInstruction({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let t=tt.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,n=(0,On.encodeData)(t,{microLamports:BigInt(e.microLamports)});return new Ma.TransactionInstruction({keys:[],programId:this.programId,data:n})}};tt.ComputeBudgetProgram=is;is.programId=new d1.PublicKey("ComputeBudget111111111111111111111111111111")});var wh=G(hn=>{"use strict";B();I();var g1=hn&&hn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Xu=hn&&hn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&g1(e,r,t)};Object.defineProperty(hn,"__esModule",{value:!0});Xu(vh(),hn);Xu($u(),hn);Xu(Sa(),hn)});var et=G(gt=>{"use strict";B();I();var y1=gt&&gt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),dn=gt&&gt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&y1(e,r,t)};Object.defineProperty(gt,"__esModule",{value:!0});gt.LAMPORTS_PER_SOL=void 0;dn(zc(),gt);dn(_u(),gt);dn(Ll(),gt);dn(da(),gt);dn(Nu(),gt);dn(wh(),gt);dn(Xt(),gt);dn(es(),gt);dn(zu(),gt);gt.LAMPORTS_PER_SOL=1e9});var Yr=G(Bt=>{"use strict";B();I();Object.defineProperty(Bt,"__esModule",{value:!0});Bt.programSupportsExtensions=Bt.NATIVE_MINT_2022=Bt.NATIVE_MINT=Bt.ASSOCIATED_TOKEN_PROGRAM_ID=Bt.TOKEN_2022_PROGRAM_ID=Bt.TOKEN_PROGRAM_ID=void 0;var os=et();Bt.TOKEN_PROGRAM_ID=new os.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");Bt.TOKEN_2022_PROGRAM_ID=new os.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");Bt.ASSOCIATED_TOKEN_PROGRAM_ID=new os.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");Bt.NATIVE_MINT=new os.PublicKey("So11111111111111111111111111111111111111112");Bt.NATIVE_MINT_2022=new os.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");function b1(r){return r!==Bt.TOKEN_PROGRAM_ID}Bt.programSupportsExtensions=b1});var pn=G(Qe=>{"use strict";B();I();Object.defineProperty(Qe,"__esModule",{value:!0});Qe.TokenInvalidInstructionTypeError=Qe.TokenInvalidInstructionDataError=Qe.TokenInvalidInstructionKeysError=Qe.TokenInvalidInstructionProgramError=Qe.TokenOwnerOffCurveError=Qe.TokenInvalidOwnerError=Qe.TokenInvalidMintError=Qe.TokenInvalidAccountSizeError=Qe.TokenInvalidAccountOwnerError=Qe.TokenAccountNotFoundError=Qe.TokenError=void 0;var er=class extends Error{constructor(e){super(e)}};Qe.TokenError=er;var Qu=class extends er{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}};Qe.TokenAccountNotFoundError=Qu;var ef=class extends er{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}};Qe.TokenInvalidAccountOwnerError=ef;var tf=class extends er{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}};Qe.TokenInvalidAccountSizeError=tf;var rf=class extends er{constructor(){super(...arguments),this.name="TokenInvalidMintError"}};Qe.TokenInvalidMintError=rf;var nf=class extends er{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}};Qe.TokenInvalidOwnerError=nf;var of=class extends er{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}};Qe.TokenOwnerOffCurveError=of;var sf=class extends er{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}};Qe.TokenInvalidInstructionProgramError=sf;var af=class extends er{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}};Qe.TokenInvalidInstructionKeysError=af;var uf=class extends er{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}};Qe.TokenInvalidInstructionDataError=uf;var ff=class extends er{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}};Qe.TokenInvalidInstructionTypeError=ff});var kn=G(ss=>{"use strict";B();I();Object.defineProperty(ss,"__esModule",{value:!0});ss.TokenInstruction=void 0;var m1;(function(r){r[r.InitializeMint=0]="InitializeMint",r[r.InitializeAccount=1]="InitializeAccount",r[r.InitializeMultisig=2]="InitializeMultisig",r[r.Transfer=3]="Transfer",r[r.Approve=4]="Approve",r[r.Revoke=5]="Revoke",r[r.SetAuthority=6]="SetAuthority",r[r.MintTo=7]="MintTo",r[r.Burn=8]="Burn",r[r.CloseAccount=9]="CloseAccount",r[r.FreezeAccount=10]="FreezeAccount",r[r.ThawAccount=11]="ThawAccount",r[r.TransferChecked=12]="TransferChecked",r[r.ApproveChecked=13]="ApproveChecked",r[r.MintToChecked=14]="MintToChecked",r[r.BurnChecked=15]="BurnChecked",r[r.InitializeAccount2=16]="InitializeAccount2",r[r.SyncNative=17]="SyncNative",r[r.InitializeAccount3=18]="InitializeAccount3",r[r.InitializeMultisig2=19]="InitializeMultisig2",r[r.InitializeMint2=20]="InitializeMint2"})(m1=ss.TokenInstruction||(ss.TokenInstruction={}))});var _i=G(Aa=>{"use strict";B();I();Object.defineProperty(Aa,"__esModule",{value:!0});Aa.addSigners=void 0;var v1=et();function w1(r,e,t){if(t.length){r.push({pubkey:e,isSigner:!1,isWritable:!1});for(let n of t)r.push({pubkey:n instanceof v1.PublicKey?n:n.publicKey,isSigner:!0,isWritable:!1})}else r.push({pubkey:e,isSigner:!0,isWritable:!1});return r}Aa.addSigners=w1});var Ah=G(Lt=>{"use strict";B();I();Object.defineProperty(Lt,"__esModule",{value:!0});Lt.decodeTransferInstructionUnchecked=Lt.decodeTransferInstruction=Lt.createTransferInstruction=Lt.transferInstructionData=void 0;var cf=ct(),_1=et(),_h=Yr(),Ea=pn(),M1=_i(),Mh=kn();Lt.transferInstructionData=(0,cf.struct)([(0,cf.u8)("instruction"),(0,cf.u64)("amount")]);function S1(r,e,t,n,i=[],u=_h.TOKEN_PROGRAM_ID){let h=(0,M1.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,i),S=q.Buffer.alloc(Lt.transferInstructionData.span);return Lt.transferInstructionData.encode({instruction:Mh.TokenInstruction.Transfer,amount:BigInt(n)},S),new _1.TransactionInstruction({keys:h,programId:u,data:S})}Lt.createTransferInstruction=S1;function A1(r,e=_h.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new Ea.TokenInvalidInstructionProgramError;if(r.data.length!==Lt.transferInstructionData.span)throw new Ea.TokenInvalidInstructionDataError;let{keys:{source:t,destination:n,owner:i,multiSigners:u},data:h}=Sh(r);if(h.instruction!==Mh.TokenInstruction.Transfer)throw new Ea.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new Ea.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:t,destination:n,owner:i,multiSigners:u},data:h}}Lt.decodeTransferInstruction=A1;function Sh({programId:r,keys:[e,t,n,...i],data:u}){return{programId:r,keys:{source:e,destination:t,owner:n,multiSigners:i},data:Lt.transferInstructionData.decode(u)}}Lt.decodeTransferInstructionUnchecked=Sh});var Ih=G(Ft=>{"use strict";B();I();Object.defineProperty(Ft,"__esModule",{value:!0});Ft.decodeTransferCheckedInstructionUnchecked=Ft.decodeTransferCheckedInstruction=Ft.createTransferCheckedInstruction=Ft.transferCheckedInstructionData=void 0;var Ta=ct(),E1=et(),Eh=Yr(),Ba=pn(),T1=_i(),Th=kn();Ft.transferCheckedInstructionData=(0,Ta.struct)([(0,Ta.u8)("instruction"),(0,Ta.u64)("amount"),(0,Ta.u8)("decimals")]);function B1(r,e,t,n,i,u,h=[],S=Eh.TOKEN_PROGRAM_ID){let w=(0,T1.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0}],n,h),A=q.Buffer.alloc(Ft.transferCheckedInstructionData.span);return Ft.transferCheckedInstructionData.encode({instruction:Th.TokenInstruction.TransferChecked,amount:BigInt(i),decimals:u},A),new E1.TransactionInstruction({keys:w,programId:S,data:A})}Ft.createTransferCheckedInstruction=B1;function I1(r,e=Eh.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new Ba.TokenInvalidInstructionProgramError;if(r.data.length!==Ft.transferCheckedInstructionData.span)throw new Ba.TokenInvalidInstructionDataError;let{keys:{source:t,mint:n,destination:i,owner:u,multiSigners:h},data:S}=Bh(r);if(S.instruction!==Th.TokenInstruction.TransferChecked)throw new Ba.TokenInvalidInstructionTypeError;if(!t||!n||!i||!u)throw new Ba.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:t,mint:n,destination:i,owner:u,multiSigners:h},data:S}}Ft.decodeTransferCheckedInstruction=I1;function Bh({programId:r,keys:[e,t,n,i,...u],data:h}){return{programId:r,keys:{source:e,mint:t,destination:n,owner:i,multiSigners:u},data:Ft.transferCheckedInstructionData.decode(h)}}Ft.decodeTransferCheckedInstructionUnchecked=Bh});var xh=G(Ia=>{"use strict";B();I();Object.defineProperty(Ia,"__esModule",{value:!0});Ia.createAssociatedTokenAccountInstruction=void 0;var lf=et(),Ph=Yr();function P1(r,e,t,n,i=Ph.TOKEN_PROGRAM_ID,u=Ph.ASSOCIATED_TOKEN_PROGRAM_ID){let h=[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:lf.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:lf.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new lf.TransactionInstruction({keys:h,programId:u,data:q.Buffer.alloc(0)})}Ia.createAssociatedTokenAccountInstruction=P1});var Ch=G(qt=>{"use strict";B();I();Object.defineProperty(qt,"__esModule",{value:!0});qt.decodeBurnInstructionUnchecked=qt.decodeBurnInstruction=qt.createBurnInstruction=qt.burnInstructionData=void 0;var hf=ct(),x1=et(),Oh=Yr(),Pa=pn(),O1=_i(),kh=kn();qt.burnInstructionData=(0,hf.struct)([(0,hf.u8)("instruction"),(0,hf.u64)("amount")]);function k1(r,e,t,n,i=[],u=Oh.TOKEN_PROGRAM_ID){let h=(0,O1.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,i),S=q.Buffer.alloc(qt.burnInstructionData.span);return qt.burnInstructionData.encode({instruction:kh.TokenInstruction.Burn,amount:BigInt(n)},S),new x1.TransactionInstruction({keys:h,programId:u,data:S})}qt.createBurnInstruction=k1;function U1(r,e=Oh.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new Pa.TokenInvalidInstructionProgramError;if(r.data.length!==qt.burnInstructionData.span)throw new Pa.TokenInvalidInstructionDataError;let{keys:{account:t,mint:n,owner:i,multiSigners:u},data:h}=Uh(r);if(h.instruction!==kh.TokenInstruction.Burn)throw new Pa.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new Pa.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:t,mint:n,owner:i,multiSigners:u},data:h}}qt.decodeBurnInstruction=U1;function Uh({programId:r,keys:[e,t,n,...i],data:u}){return{programId:r,keys:{account:e,mint:t,owner:n,multiSigners:i},data:qt.burnInstructionData.decode(u)}}qt.decodeBurnInstructionUnchecked=Uh});var Fh=G(Kt=>{"use strict";B();I();Object.defineProperty(Kt,"__esModule",{value:!0});Kt.decodeBurnCheckedInstructionUnchecked=Kt.decodeBurnCheckedInstruction=Kt.createBurnCheckedInstruction=Kt.burnCheckedInstructionData=void 0;var xa=ct(),C1=et(),Dh=Yr(),Oa=pn(),D1=_i(),Rh=kn();Kt.burnCheckedInstructionData=(0,xa.struct)([(0,xa.u8)("instruction"),(0,xa.u64)("amount"),(0,xa.u8)("decimals")]);function R1(r,e,t,n,i,u=[],h=Dh.TOKEN_PROGRAM_ID){let S=(0,D1.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,u),w=q.Buffer.alloc(Kt.burnCheckedInstructionData.span);return Kt.burnCheckedInstructionData.encode({instruction:Rh.TokenInstruction.BurnChecked,amount:BigInt(n),decimals:i},w),new C1.TransactionInstruction({keys:S,programId:h,data:w})}Kt.createBurnCheckedInstruction=R1;function L1(r,e=Dh.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new Oa.TokenInvalidInstructionProgramError;if(r.data.length!==Kt.burnCheckedInstructionData.span)throw new Oa.TokenInvalidInstructionDataError;let{keys:{account:t,mint:n,owner:i,multiSigners:u},data:h}=Lh(r);if(h.instruction!==Rh.TokenInstruction.BurnChecked)throw new Oa.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new Oa.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:t,mint:n,owner:i,multiSigners:u},data:h}}Kt.decodeBurnCheckedInstruction=L1;function Lh({programId:r,keys:[e,t,n,...i],data:u}){return{programId:r,keys:{account:e,mint:t,owner:n,multiSigners:i},data:Kt.burnCheckedInstructionData.decode(u)}}Kt.decodeBurnCheckedInstructionUnchecked=Lh});var zh=G(Nt=>{"use strict";B();I();Object.defineProperty(Nt,"__esModule",{value:!0});Nt.decodeMintToInstructionUnchecked=Nt.decodeMintToInstruction=Nt.createMintToInstruction=Nt.mintToInstructionData=void 0;var df=ct(),F1=et(),qh=Yr(),ka=pn(),q1=_i(),Kh=kn();Nt.mintToInstructionData=(0,df.struct)([(0,df.u8)("instruction"),(0,df.u64)("amount")]);function K1(r,e,t,n,i=[],u=qh.TOKEN_PROGRAM_ID){let h=(0,q1.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,i),S=q.Buffer.alloc(Nt.mintToInstructionData.span);return Nt.mintToInstructionData.encode({instruction:Kh.TokenInstruction.MintTo,amount:BigInt(n)},S),new F1.TransactionInstruction({keys:h,programId:u,data:S})}Nt.createMintToInstruction=K1;function N1(r,e=qh.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new ka.TokenInvalidInstructionProgramError;if(r.data.length!==Nt.mintToInstructionData.span)throw new ka.TokenInvalidInstructionDataError;let{keys:{mint:t,destination:n,authority:i,multiSigners:u},data:h}=Nh(r);if(h.instruction!==Kh.TokenInstruction.MintTo)throw new ka.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new ka.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:t,destination:n,authority:i,multiSigners:u},data:h}}Nt.decodeMintToInstruction=N1;function Nh({programId:r,keys:[e,t,n,...i],data:u}){return{programId:r,keys:{mint:e,destination:t,authority:n,multiSigners:i},data:Nt.mintToInstructionData.decode(u)}}Nt.decodeMintToInstructionUnchecked=Nh});var $h=G(zt=>{"use strict";B();I();Object.defineProperty(zt,"__esModule",{value:!0});zt.decodeMintToCheckedInstructionUnchecked=zt.decodeMintToCheckedInstruction=zt.createMintToCheckedInstruction=zt.mintToCheckedInstructionData=void 0;var Ua=ct(),z1=et(),jh=Yr(),Ca=pn(),j1=_i(),Vh=kn();zt.mintToCheckedInstructionData=(0,Ua.struct)([(0,Ua.u8)("instruction"),(0,Ua.u64)("amount"),(0,Ua.u8)("decimals")]);function V1(r,e,t,n,i,u=[],h=jh.TOKEN_PROGRAM_ID){let S=(0,j1.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,u),w=q.Buffer.alloc(zt.mintToCheckedInstructionData.span);return zt.mintToCheckedInstructionData.encode({instruction:Vh.TokenInstruction.MintToChecked,amount:BigInt(n),decimals:i},w),new z1.TransactionInstruction({keys:S,programId:h,data:w})}zt.createMintToCheckedInstruction=V1;function Y1(r,e=jh.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new Ca.TokenInvalidInstructionProgramError;if(r.data.length!==zt.mintToCheckedInstructionData.span)throw new Ca.TokenInvalidInstructionDataError;let{keys:{mint:t,destination:n,authority:i,multiSigners:u},data:h}=Yh(r);if(h.instruction!==Vh.TokenInstruction.MintToChecked)throw new Ca.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new Ca.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:t,destination:n,authority:i,multiSigners:u},data:h}}zt.decodeMintToCheckedInstruction=Y1;function Yh({programId:r,keys:[e,t,n,...i],data:u}){return{programId:r,keys:{mint:e,destination:t,authority:n,multiSigners:i},data:zt.mintToCheckedInstructionData.decode(u)}}zt.decodeMintToCheckedInstructionUnchecked=Yh});var Wh=G(jt=>{"use strict";B();I();var $1=jt&&jt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Un=jt&&jt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&$1(e,r,t)};Object.defineProperty(jt,"__esModule",{value:!0});Un(kn(),jt);Un(Ah(),jt);Un(Ih(),jt);Un(xh(),jt);Un(Ch(),jt);Un(Fh(),jt);Un(zh(),jt);Un($h(),jt)});var Da=G(Br=>{"use strict";B();I();var W1=Br&&Br.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),pf=Br&&Br.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&W1(e,r,t)};Object.defineProperty(Br,"__esModule",{value:!0});Br.getAssociatedTokenAddress=void 0;var Gh=et(),Hh=Yr(),G1=pn();pf(Wh(),Br);pf(Yr(),Br);pf(pn(),Br);async function H1(r,e,t=!1,n=Hh.TOKEN_PROGRAM_ID,i=Hh.ASSOCIATED_TOKEN_PROGRAM_ID){if(!t&&!Gh.PublicKey.isOnCurve(e.toBuffer()))throw new G1.TokenOwnerOffCurveError;let[u]=await Gh.PublicKey.findProgramAddress([e.toBuffer(),n.toBuffer(),r.toBuffer()],i);return u}Br.getAssociatedTokenAddress=H1});function Z1(){throw new Error("setTimeout has not been defined")}function J1(){throw new Error("clearTimeout has not been defined")}function eb(r,e){this.fun=r,this.array=e}var X1,Q1,as,xA,OA,Zh=ui(()=>{B();I();X1=Z1,Q1=J1;typeof globalThis.setTimeout=="function"&&(X1=setTimeout);typeof globalThis.clearTimeout=="function"&&(Q1=clearTimeout);eb.prototype.run=function(){this.fun.apply(null,this.array)};as=globalThis.performance||{},xA=as.now||as.mozNow||as.msNow||as.oNow||as.webkitNow||function(){return new Date().getTime()},OA=new Date});var gf,yf,Jh=ui(()=>{B();I();typeof Object.create=="function"?gf=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:gf=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};yf=gf});function Cn(r,e){var t={seen:[],stylize:rb};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),Xh(e)?t.showHidden=e:e&&fb(t,e),Gi(t.showHidden)&&(t.showHidden=!1),Gi(t.depth)&&(t.depth=2),Gi(t.colors)&&(t.colors=!1),Gi(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=tb),Ra(t,r,t.depth)}function tb(r,e){var t=Cn.styles[e];return t?"\x1B["+Cn.colors[t][0]+"m"+r+"\x1B["+Cn.colors[t][1]+"m":r}function rb(r,e){return r}function nb(r){var e={};return r.forEach(function(t,n){e[t]=!0}),e}function Ra(r,e,t){if(r.customInspect&&e&&Zi(e.inspect)&&e.inspect!==Cn&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(t,r);return ed(n)||(n=Ra(r,n,t)),n}var i=ib(r,e);if(i)return i;var u=Object.keys(e),h=nb(u);if(r.showHidden&&(u=Object.getOwnPropertyNames(e)),us(e)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return bf(e);if(u.length===0){if(Zi(e)){var S=e.name?": "+e.name:"";return r.stylize("[Function"+S+"]","special")}if(Hi(e))return r.stylize(RegExp.prototype.toString.call(e),"regexp");if(fs(e))return r.stylize(Date.prototype.toString.call(e),"date");if(us(e))return bf(e)}var w="",A=!1,R=["{","}"];if(ab(e)&&(A=!0,R=["[","]"]),Zi(e)){var x=e.name?": "+e.name:"";w=" [Function"+x+"]"}if(Hi(e)&&(w=" "+RegExp.prototype.toString.call(e)),fs(e)&&(w=" "+Date.prototype.toUTCString.call(e)),us(e)&&(w=" "+bf(e)),u.length===0&&(!A||e.length==0))return R[0]+w+R[1];if(t<0)return Hi(e)?r.stylize(RegExp.prototype.toString.call(e),"regexp"):r.stylize("[Object]","special");r.seen.push(e);var L;return A?L=ob(r,e,t,h,u):L=u.map(function(k){return mf(r,e,t,h,k,A)}),r.seen.pop(),sb(L,w,R)}function ib(r,e){if(Gi(e))return r.stylize("undefined","undefined");if(ed(e)){var t="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return r.stylize(t,"string")}if(ub(e))return r.stylize(""+e,"number");if(Xh(e))return r.stylize(""+e,"boolean");if(Qh(e))return r.stylize("null","null")}function bf(r){return"["+Error.prototype.toString.call(r)+"]"}function ob(r,e,t,n,i){for(var u=[],h=0,S=e.length;h<S;++h)td(e,String(h))?u.push(mf(r,e,t,n,String(h),!0)):u.push("");return i.forEach(function(w){w.match(/^\d+$/)||u.push(mf(r,e,t,n,w,!0))}),u}function mf(r,e,t,n,i,u){var h,S,w;if(w=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},w.get?w.set?S=r.stylize("[Getter/Setter]","special"):S=r.stylize("[Getter]","special"):w.set&&(S=r.stylize("[Setter]","special")),td(n,i)||(h="["+i+"]"),S||(r.seen.indexOf(w.value)<0?(Qh(t)?S=Ra(r,w.value,null):S=Ra(r,w.value,t-1),S.indexOf(`
`)>-1&&(u?S=S.split(`
`).map(function(A){return"  "+A}).join(`
`).substr(2):S=`
`+S.split(`
`).map(function(A){return"   "+A}).join(`
`))):S=r.stylize("[Circular]","special")),Gi(h)){if(u&&i.match(/^\d+$/))return S;h=JSON.stringify(""+i),h.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(h=h.substr(1,h.length-2),h=r.stylize(h,"name")):(h=h.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),h=r.stylize(h,"string"))}return h+": "+S}function sb(r,e,t){var n=0,i=r.reduce(function(u,h){return n++,h.indexOf(`
`)>=0&&n++,u+h.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?t[0]+(e===""?"":e+`
 `)+" "+r.join(`,
  `)+" "+t[1]:t[0]+e+" "+r.join(", ")+" "+t[1]}function ab(r){return Array.isArray(r)}function Xh(r){return typeof r=="boolean"}function Qh(r){return r===null}function ub(r){return typeof r=="number"}function ed(r){return typeof r=="string"}function Gi(r){return r===void 0}function Hi(r){return La(r)&&wf(r)==="[object RegExp]"}function La(r){return typeof r=="object"&&r!==null}function fs(r){return La(r)&&wf(r)==="[object Date]"}function us(r){return La(r)&&(wf(r)==="[object Error]"||r instanceof Error)}function Zi(r){return typeof r=="function"}function vf(r){return r===null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="symbol"||typeof r>"u"}function wf(r){return Object.prototype.toString.call(r)}function fb(r,e){if(!e||!La(e))return r;for(var t=Object.keys(e),n=t.length;n--;)r[t[n]]=e[t[n]];return r}function td(r,e){return Object.prototype.hasOwnProperty.call(r,e)}var rd=ui(()=>{B();I();Zh();Jh();Cn.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Cn.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"}});var md={};Pc(md,{AssertionError:()=>Fa,assert:()=>qa,deepEqual:()=>Af,deepStrictEqual:()=>Ef,default:()=>lb,doesNotThrow:()=>yd,equal:()=>Mf,fail:()=>It,ifError:()=>bd,notDeepEqual:()=>Tf,notDeepStrictEqual:()=>Bf,notEqual:()=>Sf,notStrictEqual:()=>Pf,ok:()=>qa,strictEqual:()=>If,throws:()=>gd});function nd(r,e){if(r===e)return 0;for(var t=r.length,n=e.length,i=0,u=Math.min(t,n);i<u;++i)if(r[i]!==e[i]){t=r[i],n=e[i];break}return t<n?-1:n<t?1:0}function hd(){return typeof _f<"u"?_f:_f=function(){return function(){}.name==="foo"}()}function sd(r){return Object.prototype.toString.call(r)}function ad(r){return Mn(r)||typeof globalThis.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r?!!(r instanceof DataView||r.buffer&&r.buffer instanceof ArrayBuffer):!1}function Pt(r,e){r||It(r,!0,e,"==",qa)}function dd(r){if(!!Zi(r)){if(hd())return r.name;var e=r.toString(),t=e.match(hb);return t&&t[1]}}function Fa(r){this.name="AssertionError",this.actual=r.actual,this.expected=r.expected,this.operator=r.operator,r.message?(this.message=r.message,this.generatedMessage=!1):(this.message=db(this),this.generatedMessage=!0);var e=r.stackStartFunction||It;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var t=new Error;if(t.stack){var n=t.stack,i=dd(e),u=n.indexOf(`
`+i);if(u>=0){var h=n.indexOf(`
`,u+1);n=n.substring(h+1)}this.stack=n}}}function ud(r,e){return typeof r=="string"?r.length<e?r:r.slice(0,e):r}function fd(r){if(hd()||!Zi(r))return Cn(r);var e=dd(r),t=e?": "+e:"";return"[Function"+t+"]"}function db(r){return ud(fd(r.actual),128)+" "+r.operator+" "+ud(fd(r.expected),128)}function It(r,e,t,n,i){throw new Fa({message:t,actual:r,expected:e,operator:n,stackStartFunction:i})}function qa(r,e){r||It(r,!0,e,"==",qa)}function Mf(r,e,t){r!=e&&It(r,e,t,"==",Mf)}function Sf(r,e,t){r==e&&It(r,e,t,"!=",Sf)}function Af(r,e,t){Ji(r,e,!1)||It(r,e,t,"deepEqual",Af)}function Ef(r,e,t){Ji(r,e,!0)||It(r,e,t,"deepStrictEqual",Ef)}function Ji(r,e,t,n){if(r===e)return!0;if(Mn(r)&&Mn(e))return nd(r,e)===0;if(fs(r)&&fs(e))return r.getTime()===e.getTime();if(Hi(r)&&Hi(e))return r.source===e.source&&r.global===e.global&&r.multiline===e.multiline&&r.lastIndex===e.lastIndex&&r.ignoreCase===e.ignoreCase;if((r===null||typeof r!="object")&&(e===null||typeof e!="object"))return t?r===e:r==e;if(ad(r)&&ad(e)&&sd(r)===sd(e)&&!(r instanceof Float32Array||r instanceof Float64Array))return nd(new Uint8Array(r.buffer),new Uint8Array(e.buffer))===0;if(Mn(r)!==Mn(e))return!1;n=n||{actual:[],expected:[]};var i=n.actual.indexOf(r);return i!==-1&&i===n.expected.indexOf(e)?!0:(n.actual.push(r),n.expected.push(e),pb(r,e,t,n))}function cd(r){return Object.prototype.toString.call(r)=="[object Arguments]"}function pb(r,e,t,n){if(r==null||e===null||e===void 0)return!1;if(vf(r)||vf(e))return r===e;if(t&&Object.getPrototypeOf(r)!==Object.getPrototypeOf(e))return!1;var i=cd(r),u=cd(e);if(i&&!u||!i&&u)return!1;if(i)return r=od.call(r),e=od.call(e),Ji(r,e,t);var h=id(r),S=id(e),w,A;if(h.length!==S.length)return!1;for(h.sort(),S.sort(),A=h.length-1;A>=0;A--)if(h[A]!==S[A])return!1;for(A=h.length-1;A>=0;A--)if(w=h[A],!Ji(r[w],e[w],t,n))return!1;return!0}function Tf(r,e,t){Ji(r,e,!1)&&It(r,e,t,"notDeepEqual",Tf)}function Bf(r,e,t){Ji(r,e,!0)&&It(r,e,t,"notDeepStrictEqual",Bf)}function If(r,e,t){r!==e&&It(r,e,t,"===",If)}function Pf(r,e,t){r===e&&It(r,e,t,"!==",Pf)}function ld(r,e){if(!r||!e)return!1;if(Object.prototype.toString.call(e)=="[object RegExp]")return e.test(r);try{if(r instanceof e)return!0}catch{}return Error.isPrototypeOf(e)?!1:e.call({},r)===!0}function gb(r){var e;try{r()}catch(t){e=t}return e}function pd(r,e,t,n){var i;if(typeof e!="function")throw new TypeError('"block" argument must be a function');typeof t=="string"&&(n=t,t=null),i=gb(e),n=(t&&t.name?" ("+t.name+").":".")+(n?" "+n:"."),r&&!i&&It(i,t,"Missing expected exception"+n);var u=typeof n=="string",h=!r&&us(i),S=!r&&i&&!t;if((h&&u&&ld(i,t)||S)&&It(i,t,"Got unwanted exception"+n),r&&i&&t&&!ld(i,t)||!r&&i)throw i}function gd(r,e,t){pd(!0,r,e,t)}function yd(r,e,t){pd(!1,r,e,t)}function bd(r){if(r)throw r}var cb,id,od,_f,lb,hb,vd=ui(()=>{B();I();yu();rd();cb=Object.prototype.hasOwnProperty,id=Object.keys||function(r){var e=[];for(var t in r)cb.call(r,t)&&e.push(t);return e},od=Array.prototype.slice;lb=Pt,hb=/\s*function\s+([^\(\s]*)\s*/;Pt.AssertionError=Fa;yf(Fa,Error);Pt.fail=It;Pt.ok=qa;Pt.equal=Mf;Pt.notEqual=Sf;Pt.deepEqual=Af;Pt.deepStrictEqual=Ef;Pt.notDeepEqual=Tf;Pt.notDeepStrictEqual=Bf;Pt.strictEqual=If;Pt.notStrictEqual=Pf;Pt.throws=gd;Pt.doesNotThrow=yd;Pt.ifError=bd});var Ir=G((GA,Ka)=>{B();I();var Mi=(vd(),Oc(md));if(Mi&&Mi.default){Ka.exports=Mi.default;for(let r in Mi)Ka.exports[r]=Mi[r]}else Mi&&(Ka.exports=Mi)});var _t=G(wt=>{"use strict";B();I();Object.defineProperty(wt,"__esModule",{value:!0});wt.isElementCollectionFixedSizeBeet=wt.isFixableBeet=wt.assertFixedSizeBeet=wt.isFixedSizeBeet=wt.BEET_TYPE_ARG_INNER=wt.BEET_TYPE_ARG_LEN=wt.BEET_PACKAGE=void 0;var yb=Ir();wt.BEET_PACKAGE="@metaplex-foundation/beet";wt.BEET_TYPE_ARG_LEN="len";wt.BEET_TYPE_ARG_INNER="Beet<{innner}>";function wd(r){return Object.keys(r).includes("byteSize")}wt.isFixedSizeBeet=wd;function bb(r,e=`${r} should have been a fixed beet`){(0,yb.strict)(wd(r),e)}wt.assertFixedSizeBeet=bb;function mb(r){return typeof r.toFixedFromData=="function"&&typeof r.toFixedFromValue=="function"}wt.isFixableBeet=mb;function vb(r){let e=Object.keys(r);return e.includes("length")&&e.includes("elementByteSize")&&e.includes("lenPrefixByteSize")}wt.isElementCollectionFixedSizeBeet=vb});var Md=G((_d,xf)=>{B();I();(function(r,e){"use strict";function t(b,o){if(!b)throw new Error(o||"Assertion failed")}function n(b,o){b.super_=o;var a=function(){};a.prototype=o.prototype,b.prototype=new a,b.prototype.constructor=b}function i(b,o,a){if(i.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((o==="le"||o==="be")&&(a=o,o=10),this._init(b||0,o||10,a||"be"))}typeof r=="object"?r.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=mt().Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,a){return o.cmp(a)>0?o:a},i.min=function(o,a){return o.cmp(a)<0?o:a},i.prototype._init=function(o,a,f){if(typeof o=="number")return this._initNumber(o,a,f);if(typeof o=="object")return this._initArray(o,a,f);a==="hex"&&(a=16),t(a===(a|0)&&a>=2&&a<=36),o=o.toString().replace(/\s+/g,"");var l=0;o[0]==="-"&&(l++,this.negative=1),l<o.length&&(a===16?this._parseHex(o,l,f):(this._parseBase(o,a,l),f==="le"&&this._initArray(this.toArray(),a,f)))},i.prototype._initNumber=function(o,a,f){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(t(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),a,f)},i.prototype._initArray=function(o,a,f){if(t(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var g,_,E=0;if(f==="be")for(l=o.length-1,g=0;l>=0;l-=3)_=o[l]|o[l-1]<<8|o[l-2]<<16,this.words[g]|=_<<E&67108863,this.words[g+1]=_>>>26-E&67108863,E+=24,E>=26&&(E-=26,g++);else if(f==="le")for(l=0,g=0;l<o.length;l+=3)_=o[l]|o[l+1]<<8|o[l+2]<<16,this.words[g]|=_<<E&67108863,this.words[g+1]=_>>>26-E&67108863,E+=24,E>=26&&(E-=26,g++);return this._strip()};function h(b,o){var a=b.charCodeAt(o);if(a>=48&&a<=57)return a-48;if(a>=65&&a<=70)return a-55;if(a>=97&&a<=102)return a-87;t(!1,"Invalid character in "+b)}function S(b,o,a){var f=h(b,a);return a-1>=o&&(f|=h(b,a-1)<<4),f}i.prototype._parseHex=function(o,a,f){this.length=Math.ceil((o.length-a)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var g=0,_=0,E;if(f==="be")for(l=o.length-1;l>=a;l-=2)E=S(o,a,l)<<g,this.words[_]|=E&67108863,g>=18?(g-=18,_+=1,this.words[_]|=E>>>26):g+=8;else{var p=o.length-a;for(l=p%2===0?a+1:a;l<o.length;l+=2)E=S(o,a,l)<<g,this.words[_]|=E&67108863,g>=18?(g-=18,_+=1,this.words[_]|=E>>>26):g+=8}this._strip()};function w(b,o,a,f){for(var l=0,g=0,_=Math.min(b.length,a),E=o;E<_;E++){var p=b.charCodeAt(E)-48;l*=f,p>=49?g=p-49+10:p>=17?g=p-17+10:g=p,t(p>=0&&g<f,"Invalid character"),l+=g}return l}i.prototype._parseBase=function(o,a,f){this.words=[0],this.length=1;for(var l=0,g=1;g<=67108863;g*=a)l++;l--,g=g/a|0;for(var _=o.length-f,E=_%l,p=Math.min(_,_-E)+f,s=0,y=f;y<p;y+=l)s=w(o,y,y+l,a),this.imuln(g),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(E!==0){var V=1;for(s=w(o,y,o.length,a),y=0;y<E;y++)V*=a;this.imuln(V),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this._strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var a=0;a<this.length;a++)o.words[a]=this.words[a];o.length=this.length,o.negative=this.negative,o.red=this.red};function A(b,o){b.words=o.words,b.length=o.length,b.negative=o.negative,b.red=o.red}if(i.prototype._move=function(o){A(o,this)},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=R}catch{i.prototype.inspect=R}else i.prototype.inspect=R;function R(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],L=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,a){o=o||10,a=a|0||1;var f;if(o===16||o==="hex"){f="";for(var l=0,g=0,_=0;_<this.length;_++){var E=this.words[_],p=((E<<l|g)&16777215).toString(16);g=E>>>24-l&16777215,l+=2,l>=26&&(l-=26,_--),g!==0||_!==this.length-1?f=x[6-p.length]+p+f:f=p+f}for(g!==0&&(f=g.toString(16)+f);f.length%a!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(o===(o|0)&&o>=2&&o<=36){var s=L[o],y=k[o];f="";var V=this.clone();for(V.negative=0;!V.isZero();){var W=V.modrn(y).toString(o);V=V.idivn(y),V.isZero()?f=W+f:f=x[s-W.length]+W+f}for(this.isZero()&&(f="0"+f);f.length%a!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}t(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16,2)},u&&(i.prototype.toBuffer=function(o,a){return this.toArrayLike(u,o,a)}),i.prototype.toArray=function(o,a){return this.toArrayLike(Array,o,a)};var Y=function(o,a){return o.allocUnsafe?o.allocUnsafe(a):new o(a)};i.prototype.toArrayLike=function(o,a,f){this._strip();var l=this.byteLength(),g=f||Math.max(1,l);t(l<=g,"byte array longer than desired length"),t(g>0,"Requested array length <= 0");var _=Y(o,g),E=a==="le"?"LE":"BE";return this["_toArrayLike"+E](_,l),_},i.prototype._toArrayLikeLE=function(o,a){for(var f=0,l=0,g=0,_=0;g<this.length;g++){var E=this.words[g]<<_|l;o[f++]=E&255,f<o.length&&(o[f++]=E>>8&255),f<o.length&&(o[f++]=E>>16&255),_===6?(f<o.length&&(o[f++]=E>>24&255),l=0,_=0):(l=E>>>24,_+=2)}if(f<o.length)for(o[f++]=l;f<o.length;)o[f++]=0},i.prototype._toArrayLikeBE=function(o,a){for(var f=o.length-1,l=0,g=0,_=0;g<this.length;g++){var E=this.words[g]<<_|l;o[f--]=E&255,f>=0&&(o[f--]=E>>8&255),f>=0&&(o[f--]=E>>16&255),_===6?(f>=0&&(o[f--]=E>>24&255),l=0,_=0):(l=E>>>24,_+=2)}if(f>=0)for(o[f--]=l;f>=0;)o[f--]=0},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var a=o,f=0;return a>=4096&&(f+=13,a>>>=13),a>=64&&(f+=7,a>>>=7),a>=8&&(f+=4,a>>>=4),a>=2&&(f+=2,a>>>=2),f+a},i.prototype._zeroBits=function(o){if(o===0)return 26;var a=o,f=0;return(a&8191)===0&&(f+=13,a>>>=13),(a&127)===0&&(f+=7,a>>>=7),(a&15)===0&&(f+=4,a>>>=4),(a&3)===0&&(f+=2,a>>>=2),(a&1)===0&&f++,f},i.prototype.bitLength=function(){var o=this.words[this.length-1],a=this._countBits(o);return(this.length-1)*26+a};function z(b){for(var o=new Array(b.bitLength()),a=0;a<o.length;a++){var f=a/26|0,l=a%26;o[a]=b.words[f]>>>l&1}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,a=0;a<this.length;a++){var f=this._zeroBits(this.words[a]);if(o+=f,f!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var a=0;a<o.length;a++)this.words[a]=this.words[a]|o.words[a];return this._strip()},i.prototype.ior=function(o){return t((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var a;this.length>o.length?a=o:a=this;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]&o.words[f];return this.length=a.length,this._strip()},i.prototype.iand=function(o){return t((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var a,f;this.length>o.length?(a=this,f=o):(a=o,f=this);for(var l=0;l<f.length;l++)this.words[l]=a.words[l]^f.words[l];if(this!==a)for(;l<a.length;l++)this.words[l]=a.words[l];return this.length=a.length,this._strip()},i.prototype.ixor=function(o){return t((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){t(typeof o=="number"&&o>=0);var a=Math.ceil(o/26)|0,f=o%26;this._expand(a),f>0&&a--;for(var l=0;l<a;l++)this.words[l]=~this.words[l]&67108863;return f>0&&(this.words[l]=~this.words[l]&67108863>>26-f),this._strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,a){t(typeof o=="number"&&o>=0);var f=o/26|0,l=o%26;return this._expand(f+1),a?this.words[f]=this.words[f]|1<<l:this.words[f]=this.words[f]&~(1<<l),this._strip()},i.prototype.iadd=function(o){var a;if(this.negative!==0&&o.negative===0)return this.negative=0,a=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,a=this.isub(o),o.negative=1,a._normSign();var f,l;this.length>o.length?(f=this,l=o):(f=o,l=this);for(var g=0,_=0;_<l.length;_++)a=(f.words[_]|0)+(l.words[_]|0)+g,this.words[_]=a&67108863,g=a>>>26;for(;g!==0&&_<f.length;_++)a=(f.words[_]|0)+g,this.words[_]=a&67108863,g=a>>>26;if(this.length=f.length,g!==0)this.words[this.length]=g,this.length++;else if(f!==this)for(;_<f.length;_++)this.words[_]=f.words[_];return this},i.prototype.add=function(o){var a;return o.negative!==0&&this.negative===0?(o.negative=0,a=this.sub(o),o.negative^=1,a):o.negative===0&&this.negative!==0?(this.negative=0,a=o.sub(this),this.negative=1,a):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var a=this.iadd(o);return o.negative=1,a._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var f=this.cmp(o);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,g;f>0?(l=this,g=o):(l=o,g=this);for(var _=0,E=0;E<g.length;E++)a=(l.words[E]|0)-(g.words[E]|0)+_,_=a>>26,this.words[E]=a&67108863;for(;_!==0&&E<l.length;E++)a=(l.words[E]|0)+_,_=a>>26,this.words[E]=a&67108863;if(_===0&&E<l.length&&l!==this)for(;E<l.length;E++)this.words[E]=l.words[E];return this.length=Math.max(this.length,E),l!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function $(b,o,a){a.negative=o.negative^b.negative;var f=b.length+o.length|0;a.length=f,f=f-1|0;var l=b.words[0]|0,g=o.words[0]|0,_=l*g,E=_&67108863,p=_/67108864|0;a.words[0]=E;for(var s=1;s<f;s++){for(var y=p>>>26,V=p&67108863,W=Math.min(s,o.length-1),Z=Math.max(0,s-b.length+1);Z<=W;Z++){var d=s-Z|0;l=b.words[d]|0,g=o.words[Z]|0,_=l*g+V,y+=_/67108864|0,V=_&67108863}a.words[s]=V|0,p=y|0}return p!==0?a.words[s]=p|0:a.length--,a._strip()}var H=function(o,a,f){var l=o.words,g=a.words,_=f.words,E=0,p,s,y,V=l[0]|0,W=V&8191,Z=V>>>13,d=l[1]|0,v=d&8191,T=d>>>13,O=l[2]|0,C=O&8191,D=O>>>13,Q=l[3]|0,X=Q&8191,te=Q>>>13,De=l[4]|0,ee=De&8191,c=De>>>13,m=l[5]|0,M=m&8191,P=m>>>13,F=l[6]|0,U=F&8191,N=F>>>13,ce=l[7]|0,re=ce&8191,oe=ce>>>13,Le=l[8]|0,se=Le&8191,le=Le>>>13,So=l[9]|0,he=So&8191,de=So>>>13,Ao=g[0]|0,pe=Ao&8191,ge=Ao>>>13,Eo=g[1]|0,ye=Eo&8191,be=Eo>>>13,To=g[2]|0,me=To&8191,ve=To>>>13,Bo=g[3]|0,we=Bo&8191,_e=Bo>>>13,Io=g[4]|0,Me=Io&8191,Se=Io>>>13,Po=g[5]|0,Ae=Po&8191,Ee=Po>>>13,xo=g[6]|0,Te=xo&8191,Be=xo>>>13,Oo=g[7]|0,Ie=Oo&8191,Pe=Oo>>>13,ko=g[8]|0,xe=ko&8191,Oe=ko>>>13,Uo=g[9]|0,ke=Uo&8191,Ue=Uo>>>13;f.negative=o.negative^a.negative,f.length=19,p=Math.imul(W,pe),s=Math.imul(W,ge),s=s+Math.imul(Z,pe)|0,y=Math.imul(Z,ge);var jn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(jn>>>26)|0,jn&=67108863,p=Math.imul(v,pe),s=Math.imul(v,ge),s=s+Math.imul(T,pe)|0,y=Math.imul(T,ge),p=p+Math.imul(W,ye)|0,s=s+Math.imul(W,be)|0,s=s+Math.imul(Z,ye)|0,y=y+Math.imul(Z,be)|0;var Vn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,p=Math.imul(C,pe),s=Math.imul(C,ge),s=s+Math.imul(D,pe)|0,y=Math.imul(D,ge),p=p+Math.imul(v,ye)|0,s=s+Math.imul(v,be)|0,s=s+Math.imul(T,ye)|0,y=y+Math.imul(T,be)|0,p=p+Math.imul(W,me)|0,s=s+Math.imul(W,ve)|0,s=s+Math.imul(Z,me)|0,y=y+Math.imul(Z,ve)|0;var Yn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,p=Math.imul(X,pe),s=Math.imul(X,ge),s=s+Math.imul(te,pe)|0,y=Math.imul(te,ge),p=p+Math.imul(C,ye)|0,s=s+Math.imul(C,be)|0,s=s+Math.imul(D,ye)|0,y=y+Math.imul(D,be)|0,p=p+Math.imul(v,me)|0,s=s+Math.imul(v,ve)|0,s=s+Math.imul(T,me)|0,y=y+Math.imul(T,ve)|0,p=p+Math.imul(W,we)|0,s=s+Math.imul(W,_e)|0,s=s+Math.imul(Z,we)|0,y=y+Math.imul(Z,_e)|0;var $n=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+($n>>>26)|0,$n&=67108863,p=Math.imul(ee,pe),s=Math.imul(ee,ge),s=s+Math.imul(c,pe)|0,y=Math.imul(c,ge),p=p+Math.imul(X,ye)|0,s=s+Math.imul(X,be)|0,s=s+Math.imul(te,ye)|0,y=y+Math.imul(te,be)|0,p=p+Math.imul(C,me)|0,s=s+Math.imul(C,ve)|0,s=s+Math.imul(D,me)|0,y=y+Math.imul(D,ve)|0,p=p+Math.imul(v,we)|0,s=s+Math.imul(v,_e)|0,s=s+Math.imul(T,we)|0,y=y+Math.imul(T,_e)|0,p=p+Math.imul(W,Me)|0,s=s+Math.imul(W,Se)|0,s=s+Math.imul(Z,Me)|0,y=y+Math.imul(Z,Se)|0;var Wn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,p=Math.imul(M,pe),s=Math.imul(M,ge),s=s+Math.imul(P,pe)|0,y=Math.imul(P,ge),p=p+Math.imul(ee,ye)|0,s=s+Math.imul(ee,be)|0,s=s+Math.imul(c,ye)|0,y=y+Math.imul(c,be)|0,p=p+Math.imul(X,me)|0,s=s+Math.imul(X,ve)|0,s=s+Math.imul(te,me)|0,y=y+Math.imul(te,ve)|0,p=p+Math.imul(C,we)|0,s=s+Math.imul(C,_e)|0,s=s+Math.imul(D,we)|0,y=y+Math.imul(D,_e)|0,p=p+Math.imul(v,Me)|0,s=s+Math.imul(v,Se)|0,s=s+Math.imul(T,Me)|0,y=y+Math.imul(T,Se)|0,p=p+Math.imul(W,Ae)|0,s=s+Math.imul(W,Ee)|0,s=s+Math.imul(Z,Ae)|0,y=y+Math.imul(Z,Ee)|0;var Gn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,p=Math.imul(U,pe),s=Math.imul(U,ge),s=s+Math.imul(N,pe)|0,y=Math.imul(N,ge),p=p+Math.imul(M,ye)|0,s=s+Math.imul(M,be)|0,s=s+Math.imul(P,ye)|0,y=y+Math.imul(P,be)|0,p=p+Math.imul(ee,me)|0,s=s+Math.imul(ee,ve)|0,s=s+Math.imul(c,me)|0,y=y+Math.imul(c,ve)|0,p=p+Math.imul(X,we)|0,s=s+Math.imul(X,_e)|0,s=s+Math.imul(te,we)|0,y=y+Math.imul(te,_e)|0,p=p+Math.imul(C,Me)|0,s=s+Math.imul(C,Se)|0,s=s+Math.imul(D,Me)|0,y=y+Math.imul(D,Se)|0,p=p+Math.imul(v,Ae)|0,s=s+Math.imul(v,Ee)|0,s=s+Math.imul(T,Ae)|0,y=y+Math.imul(T,Ee)|0,p=p+Math.imul(W,Te)|0,s=s+Math.imul(W,Be)|0,s=s+Math.imul(Z,Te)|0,y=y+Math.imul(Z,Be)|0;var Hn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,p=Math.imul(re,pe),s=Math.imul(re,ge),s=s+Math.imul(oe,pe)|0,y=Math.imul(oe,ge),p=p+Math.imul(U,ye)|0,s=s+Math.imul(U,be)|0,s=s+Math.imul(N,ye)|0,y=y+Math.imul(N,be)|0,p=p+Math.imul(M,me)|0,s=s+Math.imul(M,ve)|0,s=s+Math.imul(P,me)|0,y=y+Math.imul(P,ve)|0,p=p+Math.imul(ee,we)|0,s=s+Math.imul(ee,_e)|0,s=s+Math.imul(c,we)|0,y=y+Math.imul(c,_e)|0,p=p+Math.imul(X,Me)|0,s=s+Math.imul(X,Se)|0,s=s+Math.imul(te,Me)|0,y=y+Math.imul(te,Se)|0,p=p+Math.imul(C,Ae)|0,s=s+Math.imul(C,Ee)|0,s=s+Math.imul(D,Ae)|0,y=y+Math.imul(D,Ee)|0,p=p+Math.imul(v,Te)|0,s=s+Math.imul(v,Be)|0,s=s+Math.imul(T,Te)|0,y=y+Math.imul(T,Be)|0,p=p+Math.imul(W,Ie)|0,s=s+Math.imul(W,Pe)|0,s=s+Math.imul(Z,Ie)|0,y=y+Math.imul(Z,Pe)|0;var Zn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,p=Math.imul(se,pe),s=Math.imul(se,ge),s=s+Math.imul(le,pe)|0,y=Math.imul(le,ge),p=p+Math.imul(re,ye)|0,s=s+Math.imul(re,be)|0,s=s+Math.imul(oe,ye)|0,y=y+Math.imul(oe,be)|0,p=p+Math.imul(U,me)|0,s=s+Math.imul(U,ve)|0,s=s+Math.imul(N,me)|0,y=y+Math.imul(N,ve)|0,p=p+Math.imul(M,we)|0,s=s+Math.imul(M,_e)|0,s=s+Math.imul(P,we)|0,y=y+Math.imul(P,_e)|0,p=p+Math.imul(ee,Me)|0,s=s+Math.imul(ee,Se)|0,s=s+Math.imul(c,Me)|0,y=y+Math.imul(c,Se)|0,p=p+Math.imul(X,Ae)|0,s=s+Math.imul(X,Ee)|0,s=s+Math.imul(te,Ae)|0,y=y+Math.imul(te,Ee)|0,p=p+Math.imul(C,Te)|0,s=s+Math.imul(C,Be)|0,s=s+Math.imul(D,Te)|0,y=y+Math.imul(D,Be)|0,p=p+Math.imul(v,Ie)|0,s=s+Math.imul(v,Pe)|0,s=s+Math.imul(T,Ie)|0,y=y+Math.imul(T,Pe)|0,p=p+Math.imul(W,xe)|0,s=s+Math.imul(W,Oe)|0,s=s+Math.imul(Z,xe)|0,y=y+Math.imul(Z,Oe)|0;var Jn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,p=Math.imul(he,pe),s=Math.imul(he,ge),s=s+Math.imul(de,pe)|0,y=Math.imul(de,ge),p=p+Math.imul(se,ye)|0,s=s+Math.imul(se,be)|0,s=s+Math.imul(le,ye)|0,y=y+Math.imul(le,be)|0,p=p+Math.imul(re,me)|0,s=s+Math.imul(re,ve)|0,s=s+Math.imul(oe,me)|0,y=y+Math.imul(oe,ve)|0,p=p+Math.imul(U,we)|0,s=s+Math.imul(U,_e)|0,s=s+Math.imul(N,we)|0,y=y+Math.imul(N,_e)|0,p=p+Math.imul(M,Me)|0,s=s+Math.imul(M,Se)|0,s=s+Math.imul(P,Me)|0,y=y+Math.imul(P,Se)|0,p=p+Math.imul(ee,Ae)|0,s=s+Math.imul(ee,Ee)|0,s=s+Math.imul(c,Ae)|0,y=y+Math.imul(c,Ee)|0,p=p+Math.imul(X,Te)|0,s=s+Math.imul(X,Be)|0,s=s+Math.imul(te,Te)|0,y=y+Math.imul(te,Be)|0,p=p+Math.imul(C,Ie)|0,s=s+Math.imul(C,Pe)|0,s=s+Math.imul(D,Ie)|0,y=y+Math.imul(D,Pe)|0,p=p+Math.imul(v,xe)|0,s=s+Math.imul(v,Oe)|0,s=s+Math.imul(T,xe)|0,y=y+Math.imul(T,Oe)|0,p=p+Math.imul(W,ke)|0,s=s+Math.imul(W,Ue)|0,s=s+Math.imul(Z,ke)|0,y=y+Math.imul(Z,Ue)|0;var Xn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,p=Math.imul(he,ye),s=Math.imul(he,be),s=s+Math.imul(de,ye)|0,y=Math.imul(de,be),p=p+Math.imul(se,me)|0,s=s+Math.imul(se,ve)|0,s=s+Math.imul(le,me)|0,y=y+Math.imul(le,ve)|0,p=p+Math.imul(re,we)|0,s=s+Math.imul(re,_e)|0,s=s+Math.imul(oe,we)|0,y=y+Math.imul(oe,_e)|0,p=p+Math.imul(U,Me)|0,s=s+Math.imul(U,Se)|0,s=s+Math.imul(N,Me)|0,y=y+Math.imul(N,Se)|0,p=p+Math.imul(M,Ae)|0,s=s+Math.imul(M,Ee)|0,s=s+Math.imul(P,Ae)|0,y=y+Math.imul(P,Ee)|0,p=p+Math.imul(ee,Te)|0,s=s+Math.imul(ee,Be)|0,s=s+Math.imul(c,Te)|0,y=y+Math.imul(c,Be)|0,p=p+Math.imul(X,Ie)|0,s=s+Math.imul(X,Pe)|0,s=s+Math.imul(te,Ie)|0,y=y+Math.imul(te,Pe)|0,p=p+Math.imul(C,xe)|0,s=s+Math.imul(C,Oe)|0,s=s+Math.imul(D,xe)|0,y=y+Math.imul(D,Oe)|0,p=p+Math.imul(v,ke)|0,s=s+Math.imul(v,Ue)|0,s=s+Math.imul(T,ke)|0,y=y+Math.imul(T,Ue)|0;var Qn=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,p=Math.imul(he,me),s=Math.imul(he,ve),s=s+Math.imul(de,me)|0,y=Math.imul(de,ve),p=p+Math.imul(se,we)|0,s=s+Math.imul(se,_e)|0,s=s+Math.imul(le,we)|0,y=y+Math.imul(le,_e)|0,p=p+Math.imul(re,Me)|0,s=s+Math.imul(re,Se)|0,s=s+Math.imul(oe,Me)|0,y=y+Math.imul(oe,Se)|0,p=p+Math.imul(U,Ae)|0,s=s+Math.imul(U,Ee)|0,s=s+Math.imul(N,Ae)|0,y=y+Math.imul(N,Ee)|0,p=p+Math.imul(M,Te)|0,s=s+Math.imul(M,Be)|0,s=s+Math.imul(P,Te)|0,y=y+Math.imul(P,Be)|0,p=p+Math.imul(ee,Ie)|0,s=s+Math.imul(ee,Pe)|0,s=s+Math.imul(c,Ie)|0,y=y+Math.imul(c,Pe)|0,p=p+Math.imul(X,xe)|0,s=s+Math.imul(X,Oe)|0,s=s+Math.imul(te,xe)|0,y=y+Math.imul(te,Oe)|0,p=p+Math.imul(C,ke)|0,s=s+Math.imul(C,Ue)|0,s=s+Math.imul(D,ke)|0,y=y+Math.imul(D,Ue)|0;var ei=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ei>>>26)|0,ei&=67108863,p=Math.imul(he,we),s=Math.imul(he,_e),s=s+Math.imul(de,we)|0,y=Math.imul(de,_e),p=p+Math.imul(se,Me)|0,s=s+Math.imul(se,Se)|0,s=s+Math.imul(le,Me)|0,y=y+Math.imul(le,Se)|0,p=p+Math.imul(re,Ae)|0,s=s+Math.imul(re,Ee)|0,s=s+Math.imul(oe,Ae)|0,y=y+Math.imul(oe,Ee)|0,p=p+Math.imul(U,Te)|0,s=s+Math.imul(U,Be)|0,s=s+Math.imul(N,Te)|0,y=y+Math.imul(N,Be)|0,p=p+Math.imul(M,Ie)|0,s=s+Math.imul(M,Pe)|0,s=s+Math.imul(P,Ie)|0,y=y+Math.imul(P,Pe)|0,p=p+Math.imul(ee,xe)|0,s=s+Math.imul(ee,Oe)|0,s=s+Math.imul(c,xe)|0,y=y+Math.imul(c,Oe)|0,p=p+Math.imul(X,ke)|0,s=s+Math.imul(X,Ue)|0,s=s+Math.imul(te,ke)|0,y=y+Math.imul(te,Ue)|0;var ti=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ti>>>26)|0,ti&=67108863,p=Math.imul(he,Me),s=Math.imul(he,Se),s=s+Math.imul(de,Me)|0,y=Math.imul(de,Se),p=p+Math.imul(se,Ae)|0,s=s+Math.imul(se,Ee)|0,s=s+Math.imul(le,Ae)|0,y=y+Math.imul(le,Ee)|0,p=p+Math.imul(re,Te)|0,s=s+Math.imul(re,Be)|0,s=s+Math.imul(oe,Te)|0,y=y+Math.imul(oe,Be)|0,p=p+Math.imul(U,Ie)|0,s=s+Math.imul(U,Pe)|0,s=s+Math.imul(N,Ie)|0,y=y+Math.imul(N,Pe)|0,p=p+Math.imul(M,xe)|0,s=s+Math.imul(M,Oe)|0,s=s+Math.imul(P,xe)|0,y=y+Math.imul(P,Oe)|0,p=p+Math.imul(ee,ke)|0,s=s+Math.imul(ee,Ue)|0,s=s+Math.imul(c,ke)|0,y=y+Math.imul(c,Ue)|0;var ri=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ri>>>26)|0,ri&=67108863,p=Math.imul(he,Ae),s=Math.imul(he,Ee),s=s+Math.imul(de,Ae)|0,y=Math.imul(de,Ee),p=p+Math.imul(se,Te)|0,s=s+Math.imul(se,Be)|0,s=s+Math.imul(le,Te)|0,y=y+Math.imul(le,Be)|0,p=p+Math.imul(re,Ie)|0,s=s+Math.imul(re,Pe)|0,s=s+Math.imul(oe,Ie)|0,y=y+Math.imul(oe,Pe)|0,p=p+Math.imul(U,xe)|0,s=s+Math.imul(U,Oe)|0,s=s+Math.imul(N,xe)|0,y=y+Math.imul(N,Oe)|0,p=p+Math.imul(M,ke)|0,s=s+Math.imul(M,Ue)|0,s=s+Math.imul(P,ke)|0,y=y+Math.imul(P,Ue)|0;var ni=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ni>>>26)|0,ni&=67108863,p=Math.imul(he,Te),s=Math.imul(he,Be),s=s+Math.imul(de,Te)|0,y=Math.imul(de,Be),p=p+Math.imul(se,Ie)|0,s=s+Math.imul(se,Pe)|0,s=s+Math.imul(le,Ie)|0,y=y+Math.imul(le,Pe)|0,p=p+Math.imul(re,xe)|0,s=s+Math.imul(re,Oe)|0,s=s+Math.imul(oe,xe)|0,y=y+Math.imul(oe,Oe)|0,p=p+Math.imul(U,ke)|0,s=s+Math.imul(U,Ue)|0,s=s+Math.imul(N,ke)|0,y=y+Math.imul(N,Ue)|0;var ii=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(ii>>>26)|0,ii&=67108863,p=Math.imul(he,Ie),s=Math.imul(he,Pe),s=s+Math.imul(de,Ie)|0,y=Math.imul(de,Pe),p=p+Math.imul(se,xe)|0,s=s+Math.imul(se,Oe)|0,s=s+Math.imul(le,xe)|0,y=y+Math.imul(le,Oe)|0,p=p+Math.imul(re,ke)|0,s=s+Math.imul(re,Ue)|0,s=s+Math.imul(oe,ke)|0,y=y+Math.imul(oe,Ue)|0;var oi=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(oi>>>26)|0,oi&=67108863,p=Math.imul(he,xe),s=Math.imul(he,Oe),s=s+Math.imul(de,xe)|0,y=Math.imul(de,Oe),p=p+Math.imul(se,ke)|0,s=s+Math.imul(se,Ue)|0,s=s+Math.imul(le,ke)|0,y=y+Math.imul(le,Ue)|0;var si=(E+p|0)+((s&8191)<<13)|0;E=(y+(s>>>13)|0)+(si>>>26)|0,si&=67108863,p=Math.imul(he,ke),s=Math.imul(he,Ue),s=s+Math.imul(de,ke)|0,y=Math.imul(de,Ue);var ai=(E+p|0)+((s&8191)<<13)|0;return E=(y+(s>>>13)|0)+(ai>>>26)|0,ai&=67108863,_[0]=jn,_[1]=Vn,_[2]=Yn,_[3]=$n,_[4]=Wn,_[5]=Gn,_[6]=Hn,_[7]=Zn,_[8]=Jn,_[9]=Xn,_[10]=Qn,_[11]=ei,_[12]=ti,_[13]=ri,_[14]=ni,_[15]=ii,_[16]=oi,_[17]=si,_[18]=ai,E!==0&&(_[19]=E,f.length++),f};Math.imul||(H=$);function ie(b,o,a){a.negative=o.negative^b.negative,a.length=b.length+o.length;for(var f=0,l=0,g=0;g<a.length-1;g++){var _=l;l=0;for(var E=f&67108863,p=Math.min(g,o.length-1),s=Math.max(0,g-b.length+1);s<=p;s++){var y=g-s,V=b.words[y]|0,W=o.words[s]|0,Z=V*W,d=Z&67108863;_=_+(Z/67108864|0)|0,d=d+E|0,E=d&67108863,_=_+(d>>>26)|0,l+=_>>>26,_&=67108863}a.words[g]=E,f=_,_=l}return f!==0?a.words[g]=f:a.length--,a._strip()}function Ke(b,o,a){return ie(b,o,a)}i.prototype.mulTo=function(o,a){var f,l=this.length+o.length;return this.length===10&&o.length===10?f=H(this,o,a):l<63?f=$(this,o,a):l<1024?f=ie(this,o,a):f=Ke(this,o,a),f};function ue(b,o){this.x=b,this.y=o}ue.prototype.makeRBT=function(o){for(var a=new Array(o),f=i.prototype._countBits(o)-1,l=0;l<o;l++)a[l]=this.revBin(l,f,o);return a},ue.prototype.revBin=function(o,a,f){if(o===0||o===f-1)return o;for(var l=0,g=0;g<a;g++)l|=(o&1)<<a-g-1,o>>=1;return l},ue.prototype.permute=function(o,a,f,l,g,_){for(var E=0;E<_;E++)l[E]=a[o[E]],g[E]=f[o[E]]},ue.prototype.transform=function(o,a,f,l,g,_){this.permute(_,o,a,f,l,g);for(var E=1;E<g;E<<=1)for(var p=E<<1,s=Math.cos(2*Math.PI/p),y=Math.sin(2*Math.PI/p),V=0;V<g;V+=p)for(var W=s,Z=y,d=0;d<E;d++){var v=f[V+d],T=l[V+d],O=f[V+d+E],C=l[V+d+E],D=W*O-Z*C;C=W*C+Z*O,O=D,f[V+d]=v+O,l[V+d]=T+C,f[V+d+E]=v-O,l[V+d+E]=T-C,d!==p&&(D=s*W-y*Z,Z=s*Z+y*W,W=D)}},ue.prototype.guessLen13b=function(o,a){var f=Math.max(a,o)|1,l=f&1,g=0;for(f=f/2|0;f;f=f>>>1)g++;return 1<<g+1+l},ue.prototype.conjugate=function(o,a,f){if(!(f<=1))for(var l=0;l<f/2;l++){var g=o[l];o[l]=o[f-l-1],o[f-l-1]=g,g=a[l],a[l]=-a[f-l-1],a[f-l-1]=-g}},ue.prototype.normalize13b=function(o,a){for(var f=0,l=0;l<a/2;l++){var g=Math.round(o[2*l+1]/a)*8192+Math.round(o[2*l]/a)+f;o[l]=g&67108863,g<67108864?f=0:f=g/67108864|0}return o},ue.prototype.convert13b=function(o,a,f,l){for(var g=0,_=0;_<a;_++)g=g+(o[_]|0),f[2*_]=g&8191,g=g>>>13,f[2*_+1]=g&8191,g=g>>>13;for(_=2*a;_<l;++_)f[_]=0;t(g===0),t((g&-8192)===0)},ue.prototype.stub=function(o){for(var a=new Array(o),f=0;f<o;f++)a[f]=0;return a},ue.prototype.mulp=function(o,a,f){var l=2*this.guessLen13b(o.length,a.length),g=this.makeRBT(l),_=this.stub(l),E=new Array(l),p=new Array(l),s=new Array(l),y=new Array(l),V=new Array(l),W=new Array(l),Z=f.words;Z.length=l,this.convert13b(o.words,o.length,E,l),this.convert13b(a.words,a.length,y,l),this.transform(E,_,p,s,l,g),this.transform(y,_,V,W,l,g);for(var d=0;d<l;d++){var v=p[d]*V[d]-s[d]*W[d];s[d]=p[d]*W[d]+s[d]*V[d],p[d]=v}return this.conjugate(p,s,l),this.transform(p,s,Z,_,l,g),this.conjugate(Z,_,l),this.normalize13b(Z,l),f.negative=o.negative^a.negative,f.length=o.length+a.length,f._strip()},i.prototype.mul=function(o){var a=new i(null);return a.words=new Array(this.length+o.length),this.mulTo(o,a)},i.prototype.mulf=function(o){var a=new i(null);return a.words=new Array(this.length+o.length),Ke(this,o,a)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){var a=o<0;a&&(o=-o),t(typeof o=="number"),t(o<67108864);for(var f=0,l=0;l<this.length;l++){var g=(this.words[l]|0)*o,_=(g&67108863)+(f&67108863);f>>=26,f+=g/67108864|0,f+=_>>>26,this.words[l]=_&67108863}return f!==0&&(this.words[l]=f,this.length++),a?this.ineg():this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var a=z(o);if(a.length===0)return new i(1);for(var f=this,l=0;l<a.length&&a[l]===0;l++,f=f.sqr());if(++l<a.length)for(var g=f.sqr();l<a.length;l++,g=g.sqr())a[l]!==0&&(f=f.mul(g));return f},i.prototype.iushln=function(o){t(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26,l=67108863>>>26-a<<26-a,g;if(a!==0){var _=0;for(g=0;g<this.length;g++){var E=this.words[g]&l,p=(this.words[g]|0)-E<<a;this.words[g]=p|_,_=E>>>26-a}_&&(this.words[g]=_,this.length++)}if(f!==0){for(g=this.length-1;g>=0;g--)this.words[g+f]=this.words[g];for(g=0;g<f;g++)this.words[g]=0;this.length+=f}return this._strip()},i.prototype.ishln=function(o){return t(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,a,f){t(typeof o=="number"&&o>=0);var l;a?l=(a-a%26)/26:l=0;var g=o%26,_=Math.min((o-g)/26,this.length),E=67108863^67108863>>>g<<g,p=f;if(l-=_,l=Math.max(0,l),p){for(var s=0;s<_;s++)p.words[s]=this.words[s];p.length=_}if(_!==0)if(this.length>_)for(this.length-=_,s=0;s<this.length;s++)this.words[s]=this.words[s+_];else this.words[0]=0,this.length=1;var y=0;for(s=this.length-1;s>=0&&(y!==0||s>=l);s--){var V=this.words[s]|0;this.words[s]=y<<26-g|V>>>g,y=V&E}return p&&y!==0&&(p.words[p.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(o,a,f){return t(this.negative===0),this.iushrn(o,a,f)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){t(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26,l=1<<a;if(this.length<=f)return!1;var g=this.words[f];return!!(g&l)},i.prototype.imaskn=function(o){t(typeof o=="number"&&o>=0);var a=o%26,f=(o-a)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(a!==0&&f++,this.length=Math.min(f,this.length),a!==0){var l=67108863^67108863>>>a<<a;this.words[this.length-1]&=l}return this._strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return t(typeof o=="number"),t(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var a=0;a<this.length&&this.words[a]>=67108864;a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=Math.max(this.length,a+1),this},i.prototype.isubn=function(o){if(t(typeof o=="number"),t(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&this.words[a]<0;a++)this.words[a]+=67108864,this.words[a+1]-=1;return this._strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,a,f){var l=o.length+f,g;this._expand(l);var _,E=0;for(g=0;g<o.length;g++){_=(this.words[g+f]|0)+E;var p=(o.words[g]|0)*a;_-=p&67108863,E=(_>>26)-(p/67108864|0),this.words[g+f]=_&67108863}for(;g<this.length-f;g++)_=(this.words[g+f]|0)+E,E=_>>26,this.words[g+f]=_&67108863;if(E===0)return this._strip();for(t(E===-1),E=0,g=0;g<this.length;g++)_=-(this.words[g]|0)+E,E=_>>26,this.words[g]=_&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(o,a){var f=this.length-o.length,l=this.clone(),g=o,_=g.words[g.length-1]|0,E=this._countBits(_);f=26-E,f!==0&&(g=g.ushln(f),l.iushln(f),_=g.words[g.length-1]|0);var p=l.length-g.length,s;if(a!=="mod"){s=new i(null),s.length=p+1,s.words=new Array(s.length);for(var y=0;y<s.length;y++)s.words[y]=0}var V=l.clone()._ishlnsubmul(g,1,p);V.negative===0&&(l=V,s&&(s.words[p]=1));for(var W=p-1;W>=0;W--){var Z=(l.words[g.length+W]|0)*67108864+(l.words[g.length+W-1]|0);for(Z=Math.min(Z/_|0,67108863),l._ishlnsubmul(g,Z,W);l.negative!==0;)Z--,l.negative=0,l._ishlnsubmul(g,1,W),l.isZero()||(l.negative^=1);s&&(s.words[W]=Z)}return s&&s._strip(),l._strip(),a!=="div"&&f!==0&&l.iushrn(f),{div:s||null,mod:l}},i.prototype.divmod=function(o,a,f){if(t(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var l,g,_;return this.negative!==0&&o.negative===0?(_=this.neg().divmod(o,a),a!=="mod"&&(l=_.div.neg()),a!=="div"&&(g=_.mod.neg(),f&&g.negative!==0&&g.iadd(o)),{div:l,mod:g}):this.negative===0&&o.negative!==0?(_=this.divmod(o.neg(),a),a!=="mod"&&(l=_.div.neg()),{div:l,mod:_.mod}):(this.negative&o.negative)!==0?(_=this.neg().divmod(o.neg(),a),a!=="div"&&(g=_.mod.neg(),f&&g.negative!==0&&g.isub(o)),{div:_.div,mod:g}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?a==="div"?{div:this.divn(o.words[0]),mod:null}:a==="mod"?{div:null,mod:new i(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modrn(o.words[0]))}:this._wordDiv(o,a)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var a=this.divmod(o);if(a.mod.isZero())return a.div;var f=a.div.negative!==0?a.mod.isub(o):a.mod,l=o.ushrn(1),g=o.andln(1),_=f.cmp(l);return _<0||g===1&&_===0?a.div:a.div.negative!==0?a.div.isubn(1):a.div.iaddn(1)},i.prototype.modrn=function(o){var a=o<0;a&&(o=-o),t(o<=67108863);for(var f=(1<<26)%o,l=0,g=this.length-1;g>=0;g--)l=(f*l+(this.words[g]|0))%o;return a?-l:l},i.prototype.modn=function(o){return this.modrn(o)},i.prototype.idivn=function(o){var a=o<0;a&&(o=-o),t(o<=67108863);for(var f=0,l=this.length-1;l>=0;l--){var g=(this.words[l]|0)+f*67108864;this.words[l]=g/o|0,f=g%o}return this._strip(),a?this.ineg():this},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){t(o.negative===0),t(!o.isZero());var a=this,f=o.clone();a.negative!==0?a=a.umod(o):a=a.clone();for(var l=new i(1),g=new i(0),_=new i(0),E=new i(1),p=0;a.isEven()&&f.isEven();)a.iushrn(1),f.iushrn(1),++p;for(var s=f.clone(),y=a.clone();!a.isZero();){for(var V=0,W=1;(a.words[0]&W)===0&&V<26;++V,W<<=1);if(V>0)for(a.iushrn(V);V-- >0;)(l.isOdd()||g.isOdd())&&(l.iadd(s),g.isub(y)),l.iushrn(1),g.iushrn(1);for(var Z=0,d=1;(f.words[0]&d)===0&&Z<26;++Z,d<<=1);if(Z>0)for(f.iushrn(Z);Z-- >0;)(_.isOdd()||E.isOdd())&&(_.iadd(s),E.isub(y)),_.iushrn(1),E.iushrn(1);a.cmp(f)>=0?(a.isub(f),l.isub(_),g.isub(E)):(f.isub(a),_.isub(l),E.isub(g))}return{a:_,b:E,gcd:f.iushln(p)}},i.prototype._invmp=function(o){t(o.negative===0),t(!o.isZero());var a=this,f=o.clone();a.negative!==0?a=a.umod(o):a=a.clone();for(var l=new i(1),g=new i(0),_=f.clone();a.cmpn(1)>0&&f.cmpn(1)>0;){for(var E=0,p=1;(a.words[0]&p)===0&&E<26;++E,p<<=1);if(E>0)for(a.iushrn(E);E-- >0;)l.isOdd()&&l.iadd(_),l.iushrn(1);for(var s=0,y=1;(f.words[0]&y)===0&&s<26;++s,y<<=1);if(s>0)for(f.iushrn(s);s-- >0;)g.isOdd()&&g.iadd(_),g.iushrn(1);a.cmp(f)>=0?(a.isub(f),l.isub(g)):(f.isub(a),g.isub(l))}var V;return a.cmpn(1)===0?V=l:V=g,V.cmpn(0)<0&&V.iadd(o),V},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var a=this.clone(),f=o.clone();a.negative=0,f.negative=0;for(var l=0;a.isEven()&&f.isEven();l++)a.iushrn(1),f.iushrn(1);do{for(;a.isEven();)a.iushrn(1);for(;f.isEven();)f.iushrn(1);var g=a.cmp(f);if(g<0){var _=a;a=f,f=_}else if(g===0||f.cmpn(1)===0)break;a.isub(f)}while(!0);return f.iushln(l)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){t(typeof o=="number");var a=o%26,f=(o-a)/26,l=1<<a;if(this.length<=f)return this._expand(f+1),this.words[f]|=l,this;for(var g=l,_=f;g!==0&&_<this.length;_++){var E=this.words[_]|0;E+=g,g=E>>>26,E&=67108863,this.words[_]=E}return g!==0&&(this.words[_]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var a=o<0;if(this.negative!==0&&!a)return-1;if(this.negative===0&&a)return 1;this._strip();var f;if(this.length>1)f=1;else{a&&(o=-o),t(o<=67108863,"Number is too big");var l=this.words[0]|0;f=l===o?0:l<o?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var a=this.ucmp(o);return this.negative!==0?-a|0:a},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var a=0,f=this.length-1;f>=0;f--){var l=this.words[f]|0,g=o.words[f]|0;if(l!==g){l<g?a=-1:l>g&&(a=1);break}}return a},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new fe(o)},i.prototype.toRed=function(o){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return t(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return t(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var Ze={k256:null,p224:null,p192:null,p25519:null};function ae(b,o){this.name=b,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ae.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},ae.prototype.ireduce=function(o){var a=o,f;do this.split(a,this.tmp),a=this.imulK(a),a=a.iadd(this.tmp),f=a.bitLength();while(f>this.n);var l=f<this.n?-1:a.ucmp(this.p);return l===0?(a.words[0]=0,a.length=1):l>0?a.isub(this.p):a.strip!==void 0?a.strip():a._strip(),a},ae.prototype.split=function(o,a){o.iushrn(this.n,0,a)},ae.prototype.imulK=function(o){return o.imul(this.k)};function Ge(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(Ge,ae),Ge.prototype.split=function(o,a){for(var f=4194303,l=Math.min(o.length,9),g=0;g<l;g++)a.words[g]=o.words[g];if(a.length=l,o.length<=9){o.words[0]=0,o.length=1;return}var _=o.words[9];for(a.words[a.length++]=_&f,g=10;g<o.length;g++){var E=o.words[g]|0;o.words[g-10]=(E&f)<<4|_>>>22,_=E}_>>>=22,o.words[g-10]=_,_===0&&o.length>10?o.length-=10:o.length-=9},Ge.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var a=0,f=0;f<o.length;f++){var l=o.words[f]|0;a+=l*977,o.words[f]=a&67108863,a=l*64+(a/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function ht(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(ht,ae);function ar(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(ar,ae);function Ht(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(Ht,ae),Ht.prototype.imulK=function(o){for(var a=0,f=0;f<o.length;f++){var l=(o.words[f]|0)*19+a,g=l&67108863;l>>>=26,o.words[f]=g,a=l}return a!==0&&(o.words[o.length++]=a),o},i._prime=function(o){if(Ze[o])return Ze[o];var a;if(o==="k256")a=new Ge;else if(o==="p224")a=new ht;else if(o==="p192")a=new ar;else if(o==="p25519")a=new Ht;else throw new Error("Unknown prime "+o);return Ze[o]=a,a};function fe(b){if(typeof b=="string"){var o=i._prime(b);this.m=o.p,this.prime=o}else t(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}fe.prototype._verify1=function(o){t(o.negative===0,"red works only with positives"),t(o.red,"red works only with red numbers")},fe.prototype._verify2=function(o,a){t((o.negative|a.negative)===0,"red works only with positives"),t(o.red&&o.red===a.red,"red works only with red numbers")},fe.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(A(o,o.umod(this.m)._forceRed(this)),o)},fe.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},fe.prototype.add=function(o,a){this._verify2(o,a);var f=o.add(a);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},fe.prototype.iadd=function(o,a){this._verify2(o,a);var f=o.iadd(a);return f.cmp(this.m)>=0&&f.isub(this.m),f},fe.prototype.sub=function(o,a){this._verify2(o,a);var f=o.sub(a);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},fe.prototype.isub=function(o,a){this._verify2(o,a);var f=o.isub(a);return f.cmpn(0)<0&&f.iadd(this.m),f},fe.prototype.shl=function(o,a){return this._verify1(o),this.imod(o.ushln(a))},fe.prototype.imul=function(o,a){return this._verify2(o,a),this.imod(o.imul(a))},fe.prototype.mul=function(o,a){return this._verify2(o,a),this.imod(o.mul(a))},fe.prototype.isqr=function(o){return this.imul(o,o.clone())},fe.prototype.sqr=function(o){return this.mul(o,o)},fe.prototype.sqrt=function(o){if(o.isZero())return o.clone();var a=this.m.andln(3);if(t(a%2===1),a===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(o,f)}for(var l=this.m.subn(1),g=0;!l.isZero()&&l.andln(1)===0;)g++,l.iushrn(1);t(!l.isZero());var _=new i(1).toRed(this),E=_.redNeg(),p=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new i(2*s*s).toRed(this);this.pow(s,p).cmp(E)!==0;)s.redIAdd(E);for(var y=this.pow(s,l),V=this.pow(o,l.addn(1).iushrn(1)),W=this.pow(o,l),Z=g;W.cmp(_)!==0;){for(var d=W,v=0;d.cmp(_)!==0;v++)d=d.redSqr();t(v<Z);var T=this.pow(y,new i(1).iushln(Z-v-1));V=V.redMul(T),y=T.redSqr(),W=W.redMul(y),Z=v}return V},fe.prototype.invm=function(o){var a=o._invmp(this.m);return a.negative!==0?(a.negative=0,this.imod(a).redNeg()):this.imod(a)},fe.prototype.pow=function(o,a){if(a.isZero())return new i(1).toRed(this);if(a.cmpn(1)===0)return o.clone();var f=4,l=new Array(1<<f);l[0]=new i(1).toRed(this),l[1]=o;for(var g=2;g<l.length;g++)l[g]=this.mul(l[g-1],o);var _=l[0],E=0,p=0,s=a.bitLength()%26;for(s===0&&(s=26),g=a.length-1;g>=0;g--){for(var y=a.words[g],V=s-1;V>=0;V--){var W=y>>V&1;if(_!==l[0]&&(_=this.sqr(_)),W===0&&E===0){p=0;continue}E<<=1,E|=W,p++,!(p!==f&&(g!==0||V!==0))&&(_=this.mul(_,l[E]),p=0,E=0)}s=26}return _},fe.prototype.convertTo=function(o){var a=o.umod(this.m);return a===o?a.clone():a},fe.prototype.convertFrom=function(o){var a=o.clone();return a.red=null,a},i.mont=function(o){return new at(o)};function at(b){fe.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(at,fe),at.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},at.prototype.convertFrom=function(o){var a=this.imod(o.mul(this.rinv));return a.red=null,a},at.prototype.imul=function(o,a){if(o.isZero()||a.isZero())return o.words[0]=0,o.length=1,o;var f=o.imul(a),l=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(l).iushrn(this.shift),_=g;return g.cmp(this.m)>=0?_=g.isub(this.m):g.cmpn(0)<0&&(_=g.iadd(this.m)),_._forceRed(this)},at.prototype.mul=function(o,a){if(o.isZero()||a.isZero())return new i(0)._forceRed(this);var f=o.mul(a),l=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(l).iushrn(this.shift),_=g;return g.cmp(this.m)>=0?_=g.isub(this.m):g.cmpn(0)<0&&(_=g.iadd(this.m)),_._forceRed(this)},at.prototype.invm=function(o){var a=this.imod(o._invmp(this.m).mul(this.r2));return a._forceRed(this)}})(typeof xf>"u"||xf,_d)});var Dn=G(Re=>{"use strict";B();I();var wb=Re&&Re.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Re,"__esModule",{value:!0});Re.numbersTypeMap=Re.bool=Re.i512=Re.i256=Re.i128=Re.i64=Re.i32=Re.i16=Re.i8=Re.u512=Re.u256=Re.u128=Re.u64=Re.u32=Re.u16=Re.u8=void 0;var Xi=wb(Md()),rt=_t();Re.u8={write:function(r,e,t){r.writeUInt8(t,e)},read:function(r,e){return r.readUInt8(e)},byteSize:1,description:"u8"};Re.u16={write:function(r,e,t){r.writeUInt16LE(t,e)},read:function(r,e){return r.readUInt16LE(e)},byteSize:2,description:"u16"};Re.u32={write:function(r,e,t){r.writeUInt32LE(t,e)},read:function(r,e){return r.readUInt32LE(e)},byteSize:4,description:"u32"};function Na(r,e){return{write:function(t,n,i){let h=(Xi.default.isBN(i)?i:new Xi.default(i)).toArray("le",this.byteSize);q.Buffer.from(h).copy(t,n,0,this.byteSize)},read:function(t,n){let i=t.slice(n,n+this.byteSize);return new Xi.default(i,"le")},byteSize:r,description:e}}Re.u64=Na(8,"u64");Re.u128=Na(16,"u128");Re.u256=Na(32,"u256");Re.u512=Na(64,"u512");Re.i8={write:function(r,e,t){r.writeInt8(t,e)},read:function(r,e){return r.readInt8(e)},byteSize:1,description:"i8"};Re.i16={write:function(r,e,t){r.writeInt16LE(t,e)},read:function(r,e){return r.readInt16LE(e)},byteSize:2,description:"i16"};Re.i32={write:function(r,e,t){r.writeInt32LE(t,e)},read:function(r,e){return r.readInt32LE(e)},byteSize:4,description:"i32"};function za(r,e){let t=r*8;return{write:function(n,i,u){let S=(Xi.default.isBN(u)?u:new Xi.default(u)).toTwos(t).toArray("le",this.byteSize);q.Buffer.from(S).copy(n,i,0,this.byteSize)},read:function(n,i){let u=n.slice(i,i+this.byteSize);return new Xi.default(u,"le").fromTwos(t)},byteSize:r,description:e}}Re.i64=za(8,"i64");Re.i128=za(16,"i128");Re.i256=za(32,"i256");Re.i512=za(64,"i512");Re.bool={write:function(r,e,t){let n=t?1:0;Re.u8.write(r,e,n)},read:function(r,e){return Re.u8.read(r,e)===1},byteSize:1,description:"bool"};Re.numbersTypeMap={u8:{beet:"u8",isFixable:!1,sourcePack:rt.BEET_PACKAGE,ts:"number"},u16:{beet:"u16",isFixable:!1,sourcePack:rt.BEET_PACKAGE,ts:"number"},u32:{beet:"u32",isFixable:!1,sourcePack:rt.BEET_PACKAGE,ts:"number"},i8:{beet:"i8",isFixable:!1,sourcePack:rt.BEET_PACKAGE,ts:"number"},i16:{beet:"i16",isFixable:!1,sourcePack:rt.BEET_PACKAGE,ts:"number"},i32:{beet:"i32",isFixable:!1,sourcePack:rt.BEET_PACKAGE,ts:"number"},bool:{beet:"bool",isFixable:!1,sourcePack:rt.BEET_PACKAGE,ts:"boolean"},u64:{beet:"u64",isFixable:!1,sourcePack:rt.BEET_PACKAGE,ts:"bignum",pack:rt.BEET_PACKAGE},u128:{beet:"u128",isFixable:!1,sourcePack:rt.BEET_PACKAGE,ts:"bignum",pack:rt.BEET_PACKAGE},u256:{beet:"u256",isFixable:!1,sourcePack:rt.BEET_PACKAGE,ts:"bignum",pack:rt.BEET_PACKAGE},u512:{beet:"u512",isFixable:!1,sourcePack:rt.BEET_PACKAGE,ts:"bignum",pack:rt.BEET_PACKAGE},i64:{beet:"i64",isFixable:!1,sourcePack:rt.BEET_PACKAGE,ts:"bignum",pack:rt.BEET_PACKAGE},i128:{beet:"i128",isFixable:!1,sourcePack:rt.BEET_PACKAGE,ts:"bignum",pack:rt.BEET_PACKAGE},i256:{beet:"i256",isFixable:!1,sourcePack:rt.BEET_PACKAGE,ts:"bignum",pack:rt.BEET_PACKAGE},i512:{beet:"i512",isFixable:!1,sourcePack:rt.BEET_PACKAGE,ts:"bignum",pack:rt.BEET_PACKAGE}}});var Ad=G((oE,Sd)=>{B();I();var Qi=1e3,eo=Qi*60,to=eo*60,Si=to*24,_b=Si*7,Mb=Si*365.25;Sd.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return Sb(r);if(t==="number"&&isFinite(r))return e.long?Eb(r):Ab(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function Sb(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(!!e){var t=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*Mb;case"weeks":case"week":case"w":return t*_b;case"days":case"day":case"d":return t*Si;case"hours":case"hour":case"hrs":case"hr":case"h":return t*to;case"minutes":case"minute":case"mins":case"min":case"m":return t*eo;case"seconds":case"second":case"secs":case"sec":case"s":return t*Qi;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function Ab(r){var e=Math.abs(r);return e>=Si?Math.round(r/Si)+"d":e>=to?Math.round(r/to)+"h":e>=eo?Math.round(r/eo)+"m":e>=Qi?Math.round(r/Qi)+"s":r+"ms"}function Eb(r){var e=Math.abs(r);return e>=Si?ja(r,e,Si,"day"):e>=to?ja(r,e,to,"hour"):e>=eo?ja(r,e,eo,"minute"):e>=Qi?ja(r,e,Qi,"second"):r+" ms"}function ja(r,e,t,n){var i=e>=t*1.5;return Math.round(r/t)+" "+n+(i?"s":"")}});var Td=G((uE,Ed)=>{B();I();function Tb(r){t.debug=t,t.default=t,t.coerce=w,t.disable=u,t.enable=i,t.enabled=h,t.humanize=Ad(),t.destroy=A,Object.keys(r).forEach(R=>{t[R]=r[R]}),t.names=[],t.skips=[],t.formatters={};function e(R){let x=0;for(let L=0;L<R.length;L++)x=(x<<5)-x+R.charCodeAt(L),x|=0;return t.colors[Math.abs(x)%t.colors.length]}t.selectColor=e;function t(R){let x,L=null,k,Y;function z(...$){if(!z.enabled)return;let H=z,ie=Number(new Date),Ke=ie-(x||ie);H.diff=Ke,H.prev=x,H.curr=ie,x=ie,$[0]=t.coerce($[0]),typeof $[0]!="string"&&$.unshift("%O");let ue=0;$[0]=$[0].replace(/%([a-zA-Z%])/g,(ae,Ge)=>{if(ae==="%%")return"%";ue++;let ht=t.formatters[Ge];if(typeof ht=="function"){let ar=$[ue];ae=ht.call(H,ar),$.splice(ue,1),ue--}return ae}),t.formatArgs.call(H,$),(H.log||t.log).apply(H,$)}return z.namespace=R,z.useColors=t.useColors(),z.color=t.selectColor(R),z.extend=n,z.destroy=t.destroy,Object.defineProperty(z,"enabled",{enumerable:!0,configurable:!1,get:()=>L!==null?L:(k!==t.namespaces&&(k=t.namespaces,Y=t.enabled(R)),Y),set:$=>{L=$}}),typeof t.init=="function"&&t.init(z),z}function n(R,x){let L=t(this.namespace+(typeof x>"u"?":":x)+R);return L.log=this.log,L}function i(R){t.save(R),t.namespaces=R,t.names=[],t.skips=[];let x,L=(typeof R=="string"?R:"").split(/[\s,]+/),k=L.length;for(x=0;x<k;x++)!L[x]||(R=L[x].replace(/\*/g,".*?"),R[0]==="-"?t.skips.push(new RegExp("^"+R.slice(1)+"$")):t.names.push(new RegExp("^"+R+"$")))}function u(){let R=[...t.names.map(S),...t.skips.map(S).map(x=>"-"+x)].join(",");return t.enable(""),R}function h(R){if(R[R.length-1]==="*")return!0;let x,L;for(x=0,L=t.skips.length;x<L;x++)if(t.skips[x].test(R))return!1;for(x=0,L=t.names.length;x<L;x++)if(t.names[x].test(R))return!0;return!1}function S(R){return R.toString().substring(2,R.toString().length-2).replace(/\.\*\?$/,"*")}function w(R){return R instanceof Error?R.stack||R.message:R}function A(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}Ed.exports=Tb});var Bd=G((tr,Va)=>{B();I();tr.formatArgs=Ib;tr.save=Pb;tr.load=xb;tr.useColors=Bb;tr.storage=Ob();tr.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();tr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Bb(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Ib(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+Va.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,n=0;r[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(n=t))}),r.splice(n,0,e)}tr.log=console.debug||console.log||(()=>{});function Pb(r){try{r?tr.storage.setItem("debug",r):tr.storage.removeItem("debug")}catch{}}function xb(){let r;try{r=tr.storage.getItem("debug")}catch{}return!r&&typeof j<"u"&&"env"in j&&(r=j.env.DEBUG),r}function Ob(){try{return localStorage}catch{}}Va.exports=Td()(tr);var{formatters:kb}=Va.exports;kb.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Uf=G((dE,xd)=>{"use strict";B();I();var Id={white:37,black:30,blue:34,cyan:36,green:32,magenta:35,red:31,yellow:33,brightBlack:90,brightRed:91,brightGreen:92,brightYellow:93,brightBlue:94,brightMagenta:95,brightCyan:96,brightWhite:97},Pd={bgBlack:40,bgRed:41,bgGreen:42,bgYellow:43,bgBlue:44,bgMagenta:45,bgCyan:46,bgWhite:47,bgBrightBlack:100,bgBrightRed:101,bgBrightGreen:102,bgBrightYellow:103,bgBrightBlue:104,bgBrightMagenta:105,bgBrightCyan:106,bgBrightWhite:107},Of={},kf={},cs={};Object.keys(Id).forEach(function(r){var e=Of[r]="\x1B["+Id[r]+"m",t=kf[r]="\x1B[39m";cs[r]=function(n){return e+n+t}});Object.keys(Pd).forEach(function(r){var e=Of[r]="\x1B["+Pd[r]+"m",t=kf[r]="\x1B[49m";cs[r]=function(n){return e+n+t}});xd.exports=cs;cs.open=Of;cs.close=kf});var gn=G(st=>{"use strict";B();I();var kd=st&&st.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(st,"__esModule",{value:!0});st.UnreachableCaseError=st.stringify=st.bytes=st.beetBytes=st.logTrace=st.logDebug=st.logInfo=st.logError=void 0;var Ya=kd(Bd()),Ub=kd(Uf()),Od=_t(),{brightBlack:Ud}=Ub.default;st.logError=(0,Ya.default)("beet:error");st.logInfo=(0,Ya.default)("beet:info");st.logDebug=(0,Ya.default)("beet:debug");st.logTrace=(0,Ya.default)("beet:trace");function Cb(r,e=!1){let t;if((0,Od.isFixableBeet)(r))t="? B";else if((0,Od.isElementCollectionFixedSizeBeet)(r)){let n=e?"length":r.length,i=r.lenPrefixByteSize;t=i>0?`${i} + (${r.elementByteSize} * ${n}) B  (${r.byteSize} B)`:`(${r.elementByteSize} * ${n}) B (${r.byteSize} B)`}else t=`${r.byteSize} B`;return Ud(t)}st.beetBytes=Cb;function Db(r){return Ud(`${r} B`)}st.bytes=Db;function Rb(r){return r.toString==="function"?r.toString():r}st.stringify=Rb;var Cf=class extends Error{constructor(e){super(`Unreachable case: ${e}`)}};st.UnreachableCaseError=Cf});var no=G(ro=>{"use strict";B();I();Object.defineProperty(ro,"__esModule",{value:!0});ro.fixBeetFromValue=ro.fixBeetFromData=void 0;var $a=_t(),Cd=gn();function Lb(r,e,t){if((0,$a.isFixedSizeBeet)(r))return r;if((0,$a.isFixableBeet)(r))return r.toFixedFromData(e,t);throw new Cd.UnreachableCaseError(r)}ro.fixBeetFromData=Lb;function Fb(r,e){if((0,$a.isFixedSizeBeet)(r))return r;if((0,$a.isFixableBeet)(r))return r.toFixedFromValue(e);throw new Cd.UnreachableCaseError(r)}ro.fixBeetFromValue=Fb});var Wa=G(Mt=>{"use strict";B();I();Object.defineProperty(Mt,"__esModule",{value:!0});Mt.collectionsTypeMap=Mt.uint8Array=Mt.fixedSizeUint8Array=Mt.fixedSizeBuffer=Mt.array=Mt.fixedSizeArray=Mt.uniformFixedSizeArray=void 0;var io=_t(),Ai=Ir(),Rn=Dn(),oo=_t(),Rd=gn(),Dd=no();function qb(r,e,t=!1){let n=r.byteSize*e,i=t?4+n:n;return{write:function(u,h,S){Ai.strict.equal(S.length,e,`array length ${S.length} should match len ${e}`),t&&(Rn.u32.write(u,h,e),h+=4);for(let w=0;w<e;w++)r.write(u,h+w*r.byteSize,S[w])},read:function(u,h){if(t){let w=Rn.u32.read(u,h);Ai.strict.equal(w,e,"invalid byte size"),h+=4}let S=new Array(e);for(let w=0;w<e;w++)S[w]=r.read(u,h+w*r.byteSize);return S},byteSize:i,length:e,elementByteSize:r.byteSize,lenPrefixByteSize:4,description:`Array<${r.description}>(${e})`}}Mt.uniformFixedSizeArray=qb;function Df(r,e){let t=r.length,n=t===0?"<EMPTY>":r[0].description;return{write:function(i,u,h){Ai.strict.equal(h.length,t,`array length ${h.length} should match len ${t}`),Rn.u32.write(i,u,t);let S=u+4;for(let w=0;w<t;w++){let A=r[w];A.write(i,S,h[w]),S+=A.byteSize}},read:function(i,u){let h=Rn.u32.read(i,u);Ai.strict.equal(h,t,"invalid byte size");let S=u+4,w=new Array(t);for(let A=0;A<t;A++){let R=r[A];w[A]=R.read(i,S),S+=R.byteSize}return w},byteSize:4+e,length:t,description:`Array<${n}>(${t})[ 4 + ${e} ]`}}Mt.fixedSizeArray=Df;function Kb(r){return{toFixedFromData(e,t){let n=Rn.u32.read(e,t);(0,Rd.logTrace)(`${this.description}[${n}]`);let i=t+4,u=i,h=new Array(n);for(let S=0;S<n;S++){let w=(0,Dd.fixBeetFromData)(r,e,u);h[S]=w,u+=w.byteSize}return Df(h,u-i)},toFixedFromValue(e){(0,Ai.strict)(Array.isArray(e),`${e} should be an array`);let t=0,n=new Array(e.length);for(let i=0;i<e.length;i++){let u=(0,Dd.fixBeetFromValue)(r,e[i]);n[i]=u,t+=u.byteSize}return Df(n,t)},description:"array"}}Mt.array=Kb;function Ld(r){return{write:function(e,t,n){n.copy(e,t,0,r)},read:function(e,t){return e.slice(t,t+r)},byteSize:r,description:`Buffer(${r})`}}Mt.fixedSizeBuffer=Ld;function Rf(r,e=!1){let t=Ld(r),n=e?r+4:r;return{write:function(i,u,h){Ai.strict.equal(h.byteLength,r,`Uint8Array length ${h.byteLength} should match len ${r}`),e&&(Rn.u32.write(i,u,r),u+=4);let S=q.Buffer.from(h);t.write(i,u,S)},read:function(i,u){if(e){let S=Rn.u32.read(i,u);Ai.strict.equal(S,r,"invalid byte size"),u+=4}let h=t.read(i,u);return Uint8Array.from(h)},byteSize:n,description:`Uint8Array(${r})`}}Mt.fixedSizeUint8Array=Rf;Mt.uint8Array={toFixedFromData(r,e){let t=Rn.u32.read(r,e);return(0,Rd.logTrace)(`${this.description}[${t}]`),Rf(t,!0)},toFixedFromValue(r){let e=r.byteLength;return Rf(e,!0)},description:"Uint8Array"};Mt.collectionsTypeMap={Array:{beet:"array",isFixable:!0,sourcePack:oo.BEET_PACKAGE,ts:"Array",arg:io.BEET_TYPE_ARG_LEN},FixedSizeArray:{beet:"fixedSizeArray",isFixable:!1,sourcePack:oo.BEET_PACKAGE,ts:"Array",arg:io.BEET_TYPE_ARG_LEN},UniformFixedSizeArray:{beet:"uniformFixedSizeArray",isFixable:!1,sourcePack:oo.BEET_PACKAGE,ts:"Array",arg:io.BEET_TYPE_ARG_LEN},Buffer:{beet:"fixedSizeBuffer",isFixable:!1,sourcePack:oo.BEET_PACKAGE,ts:"Buffer",arg:io.BEET_TYPE_ARG_LEN},FixedSizeUint8Array:{beet:"fixedSizeUint8Array",isFixable:!1,sourcePack:oo.BEET_PACKAGE,ts:"Uint8Array",arg:io.BEET_TYPE_ARG_LEN},Uint8Array:{beet:"uint8Array",isFixable:!0,sourcePack:oo.BEET_PACKAGE,ts:"Uint8Array",arg:io.BEET_TYPE_ARG_LEN}}});var zf=G(Vt=>{"use strict";B();I();Object.defineProperty(Vt,"__esModule",{value:!0});Vt.compositesTypeMap=Vt.coption=Vt.coptionSome=Vt.coptionNone=Vt.isNoneBuffer=Vt.isSomeBuffer=void 0;var ls=Ir(),Lf=_t(),Fd=_t(),Kd=gn(),qd=no(),Nd=0,zd=1;function Kf(r,e){return r[e]===zd}Vt.isSomeBuffer=Kf;function Nf(r,e){return r[e]===Nd}Vt.isNoneBuffer=Nf;function Ff(r){return(0,Kd.logTrace)(`coptionNone(${r})`),{write:function(e,t,n){(0,ls.strict)(n==null,"coptionNone can only handle `null` values"),e[t]=Nd},read:function(e,t){return(0,ls.strict)(Nf(e,t),"coptionNone can only handle `NONE` data"),null},byteSize:1,description:`COption<None(${r})>`}}Vt.coptionNone=Ff;function qf(r){let e=1+r.byteSize,t={write:function(n,i,u){(0,Lf.assertFixedSizeBeet)(r,`coption inner type ${r.description} needs to be fixed before calling write`),(0,ls.strict)(u!=null,"coptionSome cannot handle `null` values"),n[i]=zd,r.write(n,i+1,u)},read:function(n,i){return(0,Lf.assertFixedSizeBeet)(r,`coption inner type ${r.description} needs to be fixed before calling read`),(0,ls.strict)(Kf(n,i),"coptionSome can only handle `SOME` data"),r.read(n,i+1)},description:`COption<${r.description}>[1 + ${r.byteSize}]`,byteSize:e,inner:r};return(0,Kd.logTrace)(t.description),t}Vt.coptionSome=qf;function Nb(r){return{toFixedFromData(e,t){if(Kf(e,t)){let n=(0,qd.fixBeetFromData)(r,e,t+1);return qf(n)}else return(0,ls.strict)(Nf(e,t),`Expected ${e} to hold a COption`),Ff(r.description)},toFixedFromValue(e){return e==null?Ff(r.description):qf((0,qd.fixBeetFromValue)(r,e))},description:`COption<${r.description}>`}}Vt.coption=Nb;Vt.compositesTypeMap={option:{beet:"coption",isFixable:!0,sourcePack:Fd.BEET_PACKAGE,ts:"COption<Inner>",arg:Lf.BEET_TYPE_ARG_INNER,pack:Fd.BEET_PACKAGE}}});var Yf=G($r=>{"use strict";B();I();Object.defineProperty($r,"__esModule",{value:!0});$r.stringTypeMap=$r.utf8String=$r.fixedSizeUtf8String=void 0;var jf=_t(),jd=Ir(),Vf=Dn(),zb=gn(),jb=r=>({write:function(e,t,n){let i=q.Buffer.from(n,"utf8");jd.strict.equal(i.byteLength,r,`${n} has invalid byte size`),Vf.u32.write(e,t,r),i.copy(e,t+4,0,r)},read:function(e,t){let n=Vf.u32.read(e,t);return jd.strict.equal(n,r,"invalid byte size"),e.slice(t+4,t+4+r).toString("utf8")},elementByteSize:1,length:r,lenPrefixByteSize:4,byteSize:4+r,description:`Utf8String(4 + ${r})`});$r.fixedSizeUtf8String=jb;$r.utf8String={toFixedFromData(r,e){let t=Vf.u32.read(r,e);return(0,zb.logTrace)(`${this.description}[${t}]`),(0,$r.fixedSizeUtf8String)(t)},toFixedFromValue(r){let e=q.Buffer.from(r).byteLength;return(0,$r.fixedSizeUtf8String)(e)},description:"Utf8String"};$r.stringTypeMap={fixedSizeString:{beet:"fixedSizeUtf8String",isFixable:!1,sourcePack:jf.BEET_PACKAGE,ts:"string",arg:jf.BEET_TYPE_ARG_LEN},string:{beet:"utf8String",isFixable:!0,sourcePack:jf.BEET_PACKAGE,ts:"string"}}});var Gf=G(so=>{"use strict";B();I();Object.defineProperty(so,"__esModule",{value:!0});so.BeetReader=so.BeetWriter=void 0;var Vb=Ir(),$f=class{constructor(e){this.buf=q.Buffer.alloc(e),this._offset=0}get buffer(){return this.buf}get offset(){return this._offset}maybeResize(e){this._offset+e>this.buf.length&&Vb.strict.fail(`We shouldn't ever need to resize, but ${this._offset+e} > ${this.buf.length}`)}write(e,t){this.maybeResize(e.byteSize),e.write(this.buf,this._offset,t),this._offset+=e.byteSize}writeStruct(e,t){for(let[n,i]of t){let u=e[n];this.write(i,u)}}};so.BeetWriter=$f;var Wf=class{constructor(e,t=0){this.buffer=e,this._offset=t}get offset(){return this._offset}read(e){let t=e.read(this.buffer,this._offset);return this._offset+=e.byteSize,t}readStruct(e){let t={};for(let[n,i]of e)t[n]=this.read(i);return t}};so.BeetReader=Wf});var Ga=G(Ln=>{"use strict";B();I();Object.defineProperty(Ln,"__esModule",{value:!0});Ln.BeetArgsStruct=Ln.isBeetStruct=Ln.BeetStruct=void 0;var Vd=Gf(),yn=gn(),Wr=class{constructor(e,t,n=Wr.description){if(this.fields=e,this.construct=t,this.description=n,this.byteSize=this.getByteSize(),yn.logDebug.enabled){let i=e.map(([u,h])=>`${String(u)}: ${h.description} ${(0,yn.beetBytes)(h)}`).join(`
  `);(0,yn.logDebug)(`struct ${n} {
  ${i}
} ${(0,yn.beetBytes)(this)}`)}}read(e,t){let[n]=this.deserialize(e,t);return n}write(e,t,n){let[i,u]=this.serialize(n);i.copy(e,t,0,u)}deserialize(e,t=0){yn.logTrace.enabled&&((0,yn.logTrace)("deserializing [%s] from %d bytes buffer",this.description,e.byteLength),(0,yn.logTrace)(e),(0,yn.logTrace)(e.toJSON().data));let n=new Vd.BeetReader(e,t),i=n.readStruct(this.fields);return[this.construct(i),n.offset]}serialize(e,t=this.byteSize){(0,yn.logTrace)("serializing [%s] %o to %d bytes buffer",this.description,e,t);let n=new Vd.BeetWriter(t);return n.writeStruct(e,this.fields),[n.buffer,n.offset]}getByteSize(){return this.fields.reduce((e,[t,n])=>e+n.byteSize,0)}get type(){return Wr.TYPE}};Ln.BeetStruct=Wr;Wr.description="BeetStruct";Wr.TYPE="BeetStruct";function Yb(r){return r.type===Wr.TYPE}Ln.isBeetStruct=Yb;var ao=class extends Wr{constructor(e,t=ao.description){super(e,n=>n,t)}};Ln.BeetArgsStruct=ao;ao.description="BeetArgsStruct"});var Zf=G(Gr=>{"use strict";B();I();var $b=Gr&&Gr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.FixableBeetArgsStruct=Gr.isFixableBeetStruct=Gr.FixableBeetStruct=void 0;var Yd=no(),Ha=Ga(),Wb=_t(),Gb=Ir(),Hf=gn(),Hb=$b(Uf()),{brightBlack:Zb}=Hb.default,vr=class{constructor(e,t,n=vr.description){this.fields=e,this.construct=t,this.description=n;let i=0;if(Hf.logDebug.enabled){let u=e.map(([S,w])=>((0,Wb.isFixedSizeBeet)(w)&&(i+=w.byteSize),`${S}: ${w.description} ${(0,Hf.beetBytes)(w)}`)).join(`
  `),h=`> ${i} B`;(0,Hf.logDebug)(`struct ${n} {
  ${u}
} ${Zb(h)}`)}}deserialize(e,t=0){return this.toFixedFromData(e,t).deserialize(e,t)}serialize(e,t){return this.toFixedFromValue(e).serialize(e,t)}toFixedFromData(e,t){let n=t,i=new Array(this.fields.length);for(let u=0;u<this.fields.length;u++){let[h,S]=this.fields[u],w=(0,Yd.fixBeetFromData)(S,e,n);i[u]=[h,w],n+=w.byteSize}return this.description!==vr.description?new Ha.BeetStruct(i,this.construct,this.description):new Ha.BeetStruct(i,this.construct)}toFixedFromValue(e){let t=Object.keys(e),n=new Array(this.fields.length);for(let i=0;i<this.fields.length;i++){let[u,h]=this.fields[i];(0,Gb.strict)(t.includes(u),`Value with keys [ ${t} ] should include struct key '${u}' but doesn't.`);let S=e[u],w=(0,Yd.fixBeetFromValue)(h,S);n[i]=[u,w]}return this.description!==vr.description?new Ha.BeetStruct(n,this.construct,this.description):new Ha.BeetStruct(n,this.construct)}get type(){return vr.TYPE}};Gr.FixableBeetStruct=vr;vr.description="FixableBeetStruct";vr.TYPE="FixableBeetStruct";function Jb(r){return r.type===vr.TYPE}Gr.isFixableBeetStruct=Jb;var uo=class extends vr{constructor(e,t=uo.description){super(e,n=>n,t)}};Gr.FixableBeetArgsStruct=uo;uo.description="FixableBeetArgsStruct"});var Za=G(fo=>{"use strict";B();I();Object.defineProperty(fo,"__esModule",{value:!0});fo.unitTypeMap=fo.unit=void 0;var Xb=_t();fo.unit={write:function(r,e,t){},read:function(r,e){},byteSize:0,description:"unit"};fo.unitTypeMap={unit:{beet:"unit",isFixable:!1,sourcePack:Xb.BEET_PACKAGE,ts:"void"}}});var Jf=G(Hr=>{"use strict";B();I();Object.defineProperty(Hr,"__esModule",{value:!0});Hr.enumsTypeMap=Hr.dataEnum=Hr.uniformDataEnum=Hr.fixedScalarEnum=void 0;var Fn=_t(),Pr=Dn(),co=Ir(),Qb=Ga(),em=Zf(),tm=Za();function $d(r,e){return e?`${r}`:r}function rm(r){let e=Object.keys(r);return{write(t,n,i){let u=typeof i=="number",h=$d(i,u);if(e.includes(h)||co.fail(`${i} should be a variant of the provided enum type, i.e. [ ${Object.values(r).join(", ")} ], but isn't`),u)Pr.u8.write(t,n,i);else{let S=r[h];Pr.u8.write(t,n,S)}},read(t,n){let i=Pr.u8.read(t,n),u=typeof i=="number",h=$d(i,u);return e.includes(h)||co.fail(`${i} should be a of a variant of the provided enum type, i.e. [ ${Object.values(r).join(", ")} ], but isn't`),u?i:r[h]},byteSize:Pr.u8.byteSize,description:"Enum"}}Hr.fixedScalarEnum=rm;function nm(r){return{write:function(e,t,n){Pr.u8.write(e,t,n.kind),r.write(e,t+1,n.data)},read:function(e,t){let n=Pr.u8.read(e,t),i=r.read(e,t+1);return{kind:n,data:i}},byteSize:1+r.byteSize,description:`UniformDataEnum<${r.description}>`}}Hr.uniformDataEnum=nm;function Wd(r,e,t){return{write(n,i,u){Pr.u8.write(n,i,e),r.write(n,i+Pr.u8.byteSize,u)},read(n,i){let u=r.read(n,i+Pr.u8.byteSize);return{__kind:t,...u}},byteSize:r.byteSize+Pr.u8.byteSize,description:`EnumData<${r.description}>`}}function im(r){for(let[e,t]of r)co((0,Qb.isBeetStruct)(t)||(0,em.isFixableBeetStruct)(t)||t===tm.unit,"dataEnum: variants must be a data beet struct or a scalar unit");return{toFixedFromData(e,t){let n=Pr.u8.read(e,t),i=r[n];co(i!=null,`Discriminant ${n} out of range for ${r.length} variants`);let[u,h]=i,S=(0,Fn.isFixedSizeBeet)(h)?h:h.toFixedFromData(e,t+1);return Wd(S,n,u)},toFixedFromValue(e){if(e.__kind==null){let A=Object.keys(e).join(", "),R=r.map(([x])=>x).join(", ");co.fail(`Value with fields [ ${A} ] is missing __kind, which needs to be set to one of [ ${R} ]`)}let t=r.findIndex(([A])=>A===e.__kind);if(t<0){let A=r.map(([R])=>R).join(", ");co.fail(`${e.__kind} is not a valid kind, needs to be one of [ ${A} ]`)}let n=r[t],{__kind:i,...u}=e,[h,S]=n,w=(0,Fn.isFixedSizeBeet)(S)?S:S.toFixedFromValue(u);return Wd(w,t,h)},description:`DataEnum<${r.length} variants>`}}Hr.dataEnum=im;Hr.enumsTypeMap={fixedScalarEnum:{beet:"fixedScalarEnum",isFixable:!1,sourcePack:Fn.BEET_PACKAGE,ts:"<TypeName>",arg:Fn.BEET_TYPE_ARG_INNER,pack:Fn.BEET_PACKAGE},dataEnum:{beet:"dataEnum",isFixable:!1,sourcePack:Fn.BEET_PACKAGE,ts:"DataEnum<Kind, Inner>",arg:Fn.BEET_TYPE_ARG_INNER,pack:Fn.BEET_PACKAGE}}});var Xf=G(lo=>{"use strict";B();I();Object.defineProperty(lo,"__esModule",{value:!0});lo.aliasesTypeMap=lo.bytes=void 0;var Gd=Wa();lo.bytes=Gd.uint8Array;lo.aliasesTypeMap={bytes:Gd.collectionsTypeMap.Uint8Array}});var tc=G(qn=>{"use strict";B();I();Object.defineProperty(qn,"__esModule",{value:!0});qn.tuplesTypeMap=qn.tuple=qn.fixedSizeTuple=void 0;var Hd=_t(),Qf=Ir(),Zd=no();function ec(r){let e=r.length,t=r.map(u=>u.description),n=r.map(u=>u.byteSize),i=n.reduce((u,h)=>u+h,0);return{write:function(u,h,S){Qf.strict.equal(S.length,e,`tuple value element size ${S.length} should match len ${e}`);let w=h;for(let A=0;A<e;A++){let R=S[A],x=r[A];x.write(u,w,R),w+=x.byteSize}},read:function(u,h){let S=[],w=h;for(let A=0;A<e;A++){let R=r[A];S[A]=R.read(u,w),w+=R.byteSize}return S},byteSize:i,length:e,description:`FixedSizeTuple<${t.join(",")}>[ ${n.join(", ")} ]`}}qn.fixedSizeTuple=ec;function om(r){let e=r.length,t=r.map(n=>n.description);return{toFixedFromData(n,i){let u=i,h=new Array(e);for(let S=0;S<e;S++){let w=(0,Zd.fixBeetFromData)(r[S],n,u);h[S]=w,u+=w.byteSize}return ec(h)},toFixedFromValue(n){(0,Qf.strict)(Array.isArray(n),`${n} should be an array of tuple values`),Qf.strict.equal(n.length,e,`There should be ${e} tuple values, but there are ${n.length}`);let i=new Array(e);for(let u=0;u<n.length;u++){let h=(0,Zd.fixBeetFromValue)(r[u],n[u]);i[u]=h}return ec(i)},description:`Tuple<${t.join(",")}>`}}qn.tuple=om;qn.tuplesTypeMap={Tuple:{beet:"tuple",isFixable:!0,sourcePack:Hd.BEET_PACKAGE,ts:"[__tuple_elements__]"},FixedSizeTuple:{beet:"fixedSizeTuple",isFixable:!1,sourcePack:Hd.BEET_PACKAGE,ts:"[__tuple_elements__]"}}});var ic=G(ho=>{"use strict";B();I();Object.defineProperty(ho,"__esModule",{value:!0});ho.mapsTypeMap=ho.map=void 0;var hs=_t(),nc=Dn(),sm=gn(),rc=Ir();function Ja(r,e,t,n){let i=(0,hs.isFixedSizeBeet)(r),u=(0,hs.isFixedSizeBeet)(e);function h(){if(i&&u){let A=r.byteSize+e.byteSize;return{elementByteSize:A,byteSize:4+n*A}}else if(i){let A=0;for(let[x,L]of t.values())A+=L.byteSize;return{elementByteSize:r.byteSize+Math.ceil(A/n),byteSize:4+r.byteSize*n+A}}else if(u){let A=0;for(let[x,L]of t.values())A+=x.byteSize;return{elementByteSize:Math.ceil(A/n)+e.byteSize,byteSize:4+A+e.byteSize*n}}else{let A=0,R=0;for(let[L,k]of t.values())A+=L.byteSize,R+=k.byteSize;return{elementByteSize:Math.ceil(A/n+R/n),byteSize:4+A+R}}}let{elementByteSize:S,byteSize:w}=h();return{write:function(A,R,x){let L=R+4,k=0;for(let[Y,z]of x.entries()){let $=i?r:null,H=u?e:null;if($==null||H==null){let ie=t.get(Y);(0,rc.strict)(ie!=null,`Should be able to find beet els for ${(0,sm.stringify)(Y)}, but could not`),$??($=ie[0]),H??(H=ie[1])}$.write(A,L,Y),L+=$.byteSize,H.write(A,L,z),L+=H.byteSize,k++}nc.u32.write(A,R,k),rc.strict.equal(k,n,`Expected map to have size ${n}, but has ${k}.`)},read:function(A,R){let x=nc.u32.read(A,R);rc.strict.equal(x,n,`Expected map to have size ${n}, but has ${x}.`);let L=R+4,k=new Map;for(let Y=0;Y<x;Y++){let z=i?r:r.toFixedFromData(A,L),$=z.read(A,L);L+=z.byteSize;let H=u?e:e.toFixedFromData(A,L),ie=H.read(A,L);L+=H.byteSize,k.set($,ie)}return k},elementByteSize:S,byteSize:w,length:n,lenPrefixByteSize:4,description:`Map<${r.description}, ${e.description}>`}}function am(r,e){let t=(0,hs.isFixedSizeBeet)(r),n=(0,hs.isFixedSizeBeet)(e);return{toFixedFromData(i,u){let h=nc.u32.read(i,u),S=u+4;if(t&&n)return Ja(r,e,new Map,h);let w=new Map;for(let A=0;A<h;A++){let R=t?r:r.toFixedFromData(i,S),x=R.read(i,S);S+=R.byteSize;let L=n?e:e.toFixedFromData(i,S);S+=L.byteSize,w.set(x,[R,L])}return Ja(r,e,w,h)},toFixedFromValue(i){let u=i.size;if(t&&n)return Ja(r,e,new Map,u);let h=new Map;for(let[S,w]of i){let A=t?r:r.toFixedFromValue(S),R=n?e:e.toFixedFromValue(w);h.set(S,[A,R])}return Ja(r,e,h,u)},description:`FixableMap<${r.description}, ${e.description}>`}}ho.map=am;ho.mapsTypeMap={Map:{beet:"map",isFixable:!0,sourcePack:hs.BEET_PACKAGE,ts:"Map"}}});var uc=G(po=>{"use strict";B();I();Object.defineProperty(po,"__esModule",{value:!0});po.setsTypeMap=po.set=void 0;var ac=_t(),sc=Dn(),um=gn(),oc=Ir();function Xa(r,e,t){let n=(0,ac.isFixedSizeBeet)(r);function i(){if(n){let S=r.byteSize;return{elementByteSize:S,byteSize:4+t*S}}else{let S=0;for(let A of e.values())S+=A.byteSize;return{elementByteSize:Math.ceil(S/t),byteSize:4+S}}}let{elementByteSize:u,byteSize:h}=i();return{write:function(S,w,A){let R=w+4,x=0;for(let L of A.keys()){let k=n?r:null;if(k==null){let Y=e.get(L);(0,oc.strict)(Y!=null,`Should be able to find beet el for ${(0,um.stringify)(L)}, but could not`),k??(k=Y)}k.write(S,R,L),R+=k.byteSize,x++}sc.u32.write(S,w,x),oc.strict.equal(x,t,`Expected set to have size ${t}, but has ${x}.`)},read:function(S,w){let A=sc.u32.read(S,w);oc.strict.equal(A,t,`Expected set to have size ${t}, but has ${A}.`);let R=w+4,x=new Set;for(let L=0;L<A;L++){let k=n?r:r.toFixedFromData(S,R),Y=k.read(S,R);R+=k.byteSize,x.add(Y)}return x},elementByteSize:u,byteSize:h,length:t,lenPrefixByteSize:4,description:`Set<${r.description}>`}}function fm(r){let e=(0,ac.isFixedSizeBeet)(r);return{toFixedFromData(t,n){let i=sc.u32.read(t,n),u=n+4;if(e)return Xa(r,new Map,i);let h=new Map;for(let S=0;S<i;S++){let w=e?r:r.toFixedFromData(t,u),A=w.read(t,u);u+=w.byteSize,h.set(A,w)}return Xa(r,h,i)},toFixedFromValue(t){let n=t.size;if(e)return Xa(r,new Map,n);let i=new Map;for(let u of t){let h=e?r:r.toFixedFromValue(u);i.set(u,h)}return Xa(r,i,n)},description:`FixableSet<${r.description}>`}}po.set=fm;po.setsTypeMap={Set:{beet:"set",isFixable:!0,sourcePack:ac.BEET_PACKAGE,ts:"Set"}}});var Yt=G(nt=>{"use strict";B();I();var cm=nt&&nt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),xt=nt&&nt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&cm(e,r,t)};Object.defineProperty(nt,"__esModule",{value:!0});nt.supportedTypeMap=void 0;var lm=Wa(),hm=zf(),dm=Dn(),pm=Yf(),gm=Jf(),ym=Xf(),bm=tc(),mm=ic(),vm=Za(),wm=uc();xt(Xf(),nt);xt(Wa(),nt);xt(zf(),nt);xt(Jf(),nt);xt(ic(),nt);xt(Dn(),nt);xt(uc(),nt);xt(Yf(),nt);xt(tc(),nt);xt(Za(),nt);xt(no(),nt);xt(Gf(),nt);xt(Ga(),nt);xt(Zf(),nt);xt(_t(),nt);nt.supportedTypeMap={...lm.collectionsTypeMap,...pm.stringTypeMap,...hm.compositesTypeMap,...gm.enumsTypeMap,...dm.numbersTypeMap,...ym.aliasesTypeMap,...bm.tuplesTypeMap,...mm.mapsTypeMap,...wm.setsTypeMap,...vm.unitTypeMap}});var eu=G(Qa=>{"use strict";B();I();Object.defineProperty(Qa,"__esModule",{value:!0});Qa.publicKey=void 0;var _m=et(),Mm=Yt(),fc=(0,Mm.fixedSizeUint8Array)(32);Qa.publicKey={write:function(r,e,t){let n=t.toBytes();fc.write(r,e,n)},read:function(r,e){let t=fc.read(r,e);return new _m.PublicKey(t)},byteSize:fc.byteSize,description:"PublicKey"}});var lc=G(Zr=>{"use strict";B();I();var Sm=Zr&&Zr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Am=Zr&&Zr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Em=Zr&&Zr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Sm(e,r,t);return Am(e,r),e};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.seedsVecBeet=void 0;var cc=Em(Yt());Zr.seedsVecBeet=new cc.FixableBeetArgsStruct([["seeds",cc.array(cc.bytes)]],"SeedsVec")});var hc=G(Jr=>{"use strict";B();I();var Tm=Jr&&Jr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Bm=Jr&&Jr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Im=Jr&&Jr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Tm(e,r,t);return Bm(e,r),e};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.leafInfoBeet=void 0;var go=Im(Yt());Jr.leafInfoBeet=new go.FixableBeetArgsStruct([["leaf",go.uniformFixedSizeArray(go.u8,32)],["proof",go.array(go.uniformFixedSizeArray(go.u8,32))]],"LeafInfo")});var dc=G(lt=>{"use strict";B();I();var Pm=lt&&lt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),xm=lt&&lt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Jd=lt&&lt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Pm(e,r,t);return xm(e,r),e};Object.defineProperty(lt,"__esModule",{value:!0});lt.payloadTypeBeet=lt.isPayloadTypeNumber=lt.isPayloadTypeMerkleProof=lt.isPayloadTypeSeeds=lt.isPayloadTypePubkey=void 0;var Xr=Jd(Yt()),Om=Jd(eu()),km=lc(),Um=hc(),Cm=r=>r.__kind==="Pubkey";lt.isPayloadTypePubkey=Cm;var Dm=r=>r.__kind==="Seeds";lt.isPayloadTypeSeeds=Dm;var Rm=r=>r.__kind==="MerkleProof";lt.isPayloadTypeMerkleProof=Rm;var Lm=r=>r.__kind==="Number";lt.isPayloadTypeNumber=Lm;lt.payloadTypeBeet=Xr.dataEnum([["Pubkey",new Xr.BeetArgsStruct([["fields",Xr.fixedSizeTuple([Om.publicKey])]],'PayloadTypeRecord["Pubkey"]')],["Seeds",new Xr.FixableBeetArgsStruct([["fields",Xr.tuple([km.seedsVecBeet])]],'PayloadTypeRecord["Seeds"]')],["MerkleProof",new Xr.FixableBeetArgsStruct([["fields",Xr.tuple([Um.leafInfoBeet])]],'PayloadTypeRecord["MerkleProof"]')],["Number",new Xr.BeetArgsStruct([["fields",Xr.fixedSizeTuple([Xr.u64])]],'PayloadTypeRecord["Number"]')]])});var gc=G(Qr=>{"use strict";B();I();var Fm=Qr&&Qr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),qm=Qr&&Qr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Km=Qr&&Qr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Fm(e,r,t);return qm(e,r),e};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.payloadBeet=void 0;var pc=Km(Yt()),Nm=dc();Qr.payloadBeet=new pc.FixableBeetArgsStruct([["map",pc.map(pc.utf8String,Nm.payloadTypeBeet)]],"Payload")});var tu=G(en=>{"use strict";B();I();var zm=en&&en.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),jm=en&&en.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Vm=en&&en.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&zm(e,r,t);return jm(e,r),e};Object.defineProperty(en,"__esModule",{value:!0});en.authorizationDataBeet=void 0;var Ym=Vm(Yt()),$m=gc();en.authorizationDataBeet=new Ym.FixableBeetArgsStruct([["payload",$m.payloadBeet]],"AuthorizationData")});var yc=G(wr=>{"use strict";B();I();var Wm=wr&&wr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Gm=wr&&wr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Hm=wr&&wr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Wm(e,r,t);return Gm(e,r),e};Object.defineProperty(wr,"__esModule",{value:!0});wr.transferArgsBeet=wr.isTransferArgsV1=void 0;var ru=Hm(Yt()),Zm=tu(),Jm=r=>r.__kind==="V1";wr.isTransferArgsV1=Jm;wr.transferArgsBeet=ru.dataEnum([["V1",new ru.FixableBeetArgsStruct([["amount",ru.u64],["authorizationData",ru.coption(Zm.authorizationDataBeet)]],'TransferArgsRecord["V1"]')]])});var e0=G(St=>{"use strict";B();I();var Xm=St&&St.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Qm=St&&St.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Qd=St&&St.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Xm(e,r,t);return Qm(e,r),e};Object.defineProperty(St,"__esModule",{value:!0});St.createTransferInstruction=St.transferInstructionDiscriminator=St.TransferStruct=void 0;var Xd=Qd(Yt()),bc=Qd(et()),ev=yc();St.TransferStruct=new Xd.FixableBeetArgsStruct([["instructionDiscriminator",Xd.u8],["transferArgs",ev.transferArgsBeet]],"TransferInstructionArgs");St.transferInstructionDiscriminator=49;function tv(r,e,t=new bc.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[n]=St.TransferStruct.serialize({instructionDiscriminator:St.transferInstructionDiscriminator,...e}),i=[{pubkey:r.token,isWritable:!0,isSigner:!1},{pubkey:r.tokenOwner,isWritable:!1,isSigner:!1},{pubkey:r.destination,isWritable:!0,isSigner:!1},{pubkey:r.destinationOwner,isWritable:!1,isSigner:!1},{pubkey:r.mint,isWritable:!1,isSigner:!1},{pubkey:r.metadata,isWritable:!0,isSigner:!1},{pubkey:r.edition??t,isWritable:!1,isSigner:!1},{pubkey:r.ownerTokenRecord??t,isWritable:r.ownerTokenRecord!=null,isSigner:!1},{pubkey:r.destinationTokenRecord??t,isWritable:r.destinationTokenRecord!=null,isSigner:!1},{pubkey:r.authority,isWritable:!1,isSigner:!0},{pubkey:r.payer,isWritable:!0,isSigner:!0},{pubkey:r.systemProgram??bc.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:r.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:r.splTokenProgram,isWritable:!1,isSigner:!1},{pubkey:r.splAtaProgram,isWritable:!1,isSigner:!1},{pubkey:r.authorizationRulesProgram??t,isWritable:!1,isSigner:!1},{pubkey:r.authorizationRules??t,isWritable:!1,isSigner:!1}];return new bc.TransactionInstruction({programId:t,keys:i,data:n})}St.createTransferInstruction=tv});var t0=G(Ei=>{"use strict";B();I();var rv=Ei&&Ei.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),nv=Ei&&Ei.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&rv(e,r,t)};Object.defineProperty(Ei,"__esModule",{value:!0});nv(e0(),Ei)});var n0=G(rr=>{"use strict";B();I();var iv=rr&&rr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ov=rr&&rr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),sv=rr&&rr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&iv(e,r,t);return ov(e,r),e};Object.defineProperty(rr,"__esModule",{value:!0});rr.authorityTypeBeet=rr.AuthorityType=void 0;var av=sv(Yt()),r0;(function(r){r[r.None=0]="None",r[r.Metadata=1]="Metadata",r[r.Holder=2]="Holder",r[r.MetadataDelegate=3]="MetadataDelegate",r[r.TokenDelegate=4]="TokenDelegate"})(r0=rr.AuthorityType||(rr.AuthorityType={}));rr.authorityTypeBeet=av.fixedScalarEnum(r0)});var o0=G(Fe=>{"use strict";B();I();var uv=Fe&&Fe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),fv=Fe&&Fe.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),i0=Fe&&Fe.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&uv(e,r,t);return fv(e,r),e};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.delegateArgsBeet=Fe.isDelegateArgsProgrammableConfigItemV1=Fe.isDelegateArgsCollectionItemV1=Fe.isDelegateArgsDataItemV1=Fe.isDelegateArgsAuthorityItemV1=Fe.isDelegateArgsProgrammableConfigV1=Fe.isDelegateArgsLockedTransferV1=Fe.isDelegateArgsStandardV1=Fe.isDelegateArgsStakingV1=Fe.isDelegateArgsUtilityV1=Fe.isDelegateArgsDataV1=Fe.isDelegateArgsTransferV1=Fe.isDelegateArgsSaleV1=Fe.isDelegateArgsCollectionV1=void 0;var je=i0(Yt()),cv=i0(eu()),_r=tu(),lv=r=>r.__kind==="CollectionV1";Fe.isDelegateArgsCollectionV1=lv;var hv=r=>r.__kind==="SaleV1";Fe.isDelegateArgsSaleV1=hv;var dv=r=>r.__kind==="TransferV1";Fe.isDelegateArgsTransferV1=dv;var pv=r=>r.__kind==="DataV1";Fe.isDelegateArgsDataV1=pv;var gv=r=>r.__kind==="UtilityV1";Fe.isDelegateArgsUtilityV1=gv;var yv=r=>r.__kind==="StakingV1";Fe.isDelegateArgsStakingV1=yv;var bv=r=>r.__kind==="StandardV1";Fe.isDelegateArgsStandardV1=bv;var mv=r=>r.__kind==="LockedTransferV1";Fe.isDelegateArgsLockedTransferV1=mv;var vv=r=>r.__kind==="ProgrammableConfigV1";Fe.isDelegateArgsProgrammableConfigV1=vv;var wv=r=>r.__kind==="AuthorityItemV1";Fe.isDelegateArgsAuthorityItemV1=wv;var _v=r=>r.__kind==="DataItemV1";Fe.isDelegateArgsDataItemV1=_v;var Mv=r=>r.__kind==="CollectionItemV1";Fe.isDelegateArgsCollectionItemV1=Mv;var Sv=r=>r.__kind==="ProgrammableConfigItemV1";Fe.isDelegateArgsProgrammableConfigItemV1=Sv;Fe.delegateArgsBeet=je.dataEnum([["CollectionV1",new je.FixableBeetArgsStruct([["authorizationData",je.coption(_r.authorizationDataBeet)]],'DelegateArgsRecord["CollectionV1"]')],["SaleV1",new je.FixableBeetArgsStruct([["amount",je.u64],["authorizationData",je.coption(_r.authorizationDataBeet)]],'DelegateArgsRecord["SaleV1"]')],["TransferV1",new je.FixableBeetArgsStruct([["amount",je.u64],["authorizationData",je.coption(_r.authorizationDataBeet)]],'DelegateArgsRecord["TransferV1"]')],["DataV1",new je.FixableBeetArgsStruct([["authorizationData",je.coption(_r.authorizationDataBeet)]],'DelegateArgsRecord["DataV1"]')],["UtilityV1",new je.FixableBeetArgsStruct([["amount",je.u64],["authorizationData",je.coption(_r.authorizationDataBeet)]],'DelegateArgsRecord["UtilityV1"]')],["StakingV1",new je.FixableBeetArgsStruct([["amount",je.u64],["authorizationData",je.coption(_r.authorizationDataBeet)]],'DelegateArgsRecord["StakingV1"]')],["StandardV1",new je.BeetArgsStruct([["amount",je.u64]],'DelegateArgsRecord["StandardV1"]')],["LockedTransferV1",new je.FixableBeetArgsStruct([["amount",je.u64],["lockedAddress",cv.publicKey],["authorizationData",je.coption(_r.authorizationDataBeet)]],'DelegateArgsRecord["LockedTransferV1"]')],["ProgrammableConfigV1",new je.FixableBeetArgsStruct([["authorizationData",je.coption(_r.authorizationDataBeet)]],'DelegateArgsRecord["ProgrammableConfigV1"]')],["AuthorityItemV1",new je.FixableBeetArgsStruct([["authorizationData",je.coption(_r.authorizationDataBeet)]],'DelegateArgsRecord["AuthorityItemV1"]')],["DataItemV1",new je.FixableBeetArgsStruct([["authorizationData",je.coption(_r.authorizationDataBeet)]],'DelegateArgsRecord["DataItemV1"]')],["CollectionItemV1",new je.FixableBeetArgsStruct([["authorizationData",je.coption(_r.authorizationDataBeet)]],'DelegateArgsRecord["CollectionItemV1"]')],["ProgrammableConfigItemV1",new je.FixableBeetArgsStruct([["authorizationData",je.coption(_r.authorizationDataBeet)]],'DelegateArgsRecord["ProgrammableConfigItemV1"]')]])});var a0=G(nr=>{"use strict";B();I();var Av=nr&&nr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ev=nr&&nr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Tv=nr&&nr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Av(e,r,t);return Ev(e,r),e};Object.defineProperty(nr,"__esModule",{value:!0});nr.metadataDelegateRoleBeet=nr.MetadataDelegateRole=void 0;var Bv=Tv(Yt()),s0;(function(r){r[r.AuthorityItem=0]="AuthorityItem",r[r.Collection=1]="Collection",r[r.Use=2]="Use",r[r.Data=3]="Data",r[r.ProgrammableConfig=4]="ProgrammableConfig",r[r.DataItem=5]="DataItem",r[r.CollectionItem=6]="CollectionItem",r[r.ProgrammableConfigItem=7]="ProgrammableConfigItem"})(s0=nr.MetadataDelegateRole||(nr.MetadataDelegateRole={}));nr.metadataDelegateRoleBeet=Bv.fixedScalarEnum(s0)});var f0=G(ir=>{"use strict";B();I();var Iv=ir&&ir.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Pv=ir&&ir.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),xv=ir&&ir.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Iv(e,r,t);return Pv(e,r),e};Object.defineProperty(ir,"__esModule",{value:!0});ir.tokenDelegateRoleBeet=ir.TokenDelegateRole=void 0;var Ov=xv(Yt()),u0;(function(r){r[r.Sale=0]="Sale",r[r.Transfer=1]="Transfer",r[r.Utility=2]="Utility",r[r.Staking=3]="Staking",r[r.Standard=4]="Standard",r[r.LockedTransfer=5]="LockedTransfer",r[r.Migration=6]="Migration"})(u0=ir.TokenDelegateRole||(ir.TokenDelegateRole={}));ir.tokenDelegateRoleBeet=Ov.fixedScalarEnum(u0)});var l0=G(or=>{"use strict";B();I();var kv=or&&or.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Uv=or&&or.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Cv=or&&or.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&kv(e,r,t);return Uv(e,r),e};Object.defineProperty(or,"__esModule",{value:!0});or.tokenStandardBeet=or.TokenStandard=void 0;var Dv=Cv(Yt()),c0;(function(r){r[r.NonFungible=0]="NonFungible",r[r.FungibleAsset=1]="FungibleAsset",r[r.Fungible=2]="Fungible",r[r.NonFungibleEdition=3]="NonFungibleEdition",r[r.ProgrammableNonFungible=4]="ProgrammableNonFungible"})(c0=or.TokenStandard||(or.TokenStandard={}));or.tokenStandardBeet=Dv.fixedScalarEnum(c0)});var h0=G(yt=>{"use strict";B();I();var Rv=yt&&yt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),xr=yt&&yt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Rv(e,r,t)};Object.defineProperty(yt,"__esModule",{value:!0});xr(n0(),yt);xr(tu(),yt);xr(o0(),yt);xr(hc(),yt);xr(a0(),yt);xr(gc(),yt);xr(dc(),yt);xr(lc(),yt);xr(f0(),yt);xr(l0(),yt);xr(yc(),yt)});var Kn=G(sr=>{"use strict";B();I();var Lv=sr&&sr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),d0=sr&&sr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Lv(e,r,t)};Object.defineProperty(sr,"__esModule",{value:!0});sr.PROGRAM_ID=sr.PROGRAM_ADDRESS=void 0;var Fv=et();d0(t0(),sr);d0(h0(),sr);sr.PROGRAM_ADDRESS="metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s";sr.PROGRAM_ID=new Fv.PublicKey(sr.PROGRAM_ADDRESS)});var mc=G(bn=>{"use strict";B();I();Object.defineProperty(bn,"__esModule",{value:!0});bn.isBigNumber=bn.toOptionBigNumber=bn.toBigNumber=void 0;var qv=Zt(),Kv=(r,e)=>new qv.BN(r,e);bn.toBigNumber=Kv;var Nv=r=>r===null?null:(0,bn.toBigNumber)(r);bn.toOptionBigNumber=Nv;var zv=r=>r?.__opaque__==="BigNumber";bn.isBigNumber=zv});var g0=G(nu=>{"use strict";B();I();Object.defineProperty(nu,"__esModule",{value:!0});nu.token=void 0;var p0=mc(),jv=(r,e=0,t="Token")=>(typeof r!="number"&&(r=(0,p0.toBigNumber)(r).toNumber()),{basisPoints:(0,p0.toBigNumber)(r*Math.pow(10,e)),currency:{symbol:t,decimals:e,namespace:"spl-token"}});nu.token=jv});var b0=G(iu=>{"use strict";B();I();Object.defineProperty(iu,"__esModule",{value:!0});iu.Pda=void 0;var y0=et(),ds=class extends y0.PublicKey{constructor(e,t){super(e),this.bump=t}static find(e,t){let[n,i]=y0.PublicKey.findProgramAddressSync(t,e);return new ds(n,i)}};iu.Pda=ds});var v0=G(tn=>{"use strict";B();I();Object.defineProperty(tn,"__esModule",{value:!0});tn.systemProgram=tn.associatedTokenProgram=tn.tokenProgram=tn.tokenMetadataProgram=void 0;var Vv=et(),Yv=Kn(),m0=Da();tn.tokenMetadataProgram={name:"TokenMetadataProgram",address:Yv.PROGRAM_ID};tn.tokenProgram={name:"TokenProgram",address:m0.TOKEN_PROGRAM_ID};tn.associatedTokenProgram={name:"AssociatedTokenProgram",address:m0.ASSOCIATED_TOKEN_PROGRAM_ID};tn.systemProgram={name:"SystemProgram",address:Vv.SystemProgram.programId}});var w0=G(yo=>{"use strict";B();I();Object.defineProperty(yo,"__esModule",{value:!0});yo.toPublicKey=yo.PublicKey=void 0;var $v=et(),Wv=et();Object.defineProperty(yo,"PublicKey",{enumerable:!0,get:function(){return Wv.PublicKey}});var Gv=r=>typeof r=="object"&&"publicKey"in r?r.publicKey:typeof r=="object"&&"address"in r?r.address:new $v.PublicKey(r);yo.toPublicKey=Gv});var _0=G(Ot=>{"use strict";B();I();Object.defineProperty(Ot,"__esModule",{value:!0});Ot.getSignerHistogram=Ot.isIdentitySigner=Ot.isKeypairSigner=Ot.isSigner=void 0;var Hv=r=>typeof r=="object"&&"publicKey"in r&&("secretKey"in r||"signTransaction"in r);Ot.isSigner=Hv;var Zv=r=>(0,Ot.isSigner)(r)&&"secretKey"in r&&r.secretKey!=null;Ot.isKeypairSigner=Zv;var Jv=r=>(0,Ot.isSigner)(r)&&!(0,Ot.isKeypairSigner)(r);Ot.isIdentitySigner=Jv;var Xv=r=>r.reduce((e,t)=>{let n=e.all.findIndex(({publicKey:S})=>S.equals(t.publicKey)),i=e.all[n]??null,u=i?(0,Ot.isIdentitySigner)(i):!1,h=(0,Ot.isIdentitySigner)(t);if(!i)e.all.push(t),h?e.identities.push(t):e.keypairs.push(t);else if(u&&!h){let S=e.identities.findIndex(({publicKey:w})=>w.equals(t.publicKey));e.all.splice(n,1),e.identities.splice(S,1),e.all.push(t),e.keypairs.push(t)}return e},{all:[],keypairs:[],identities:[]});Ot.getSignerHistogram=Xv});var mo=G(Mr=>{"use strict";B();I();var Qv=Mr&&Mr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),bo=Mr&&Mr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Qv(e,r,t)};Object.defineProperty(Mr,"__esModule",{value:!0});bo(g0(),Mr);bo(mc(),Mr);bo(b0(),Mr);bo(v0(),Mr);bo(w0(),Mr);bo(_0(),Mr)});var M0=G(Or=>{"use strict";B();I();Object.defineProperty(Or,"__esModule",{value:!0});Or.getDefaultDelegateArgs=Or.getMetadataDelegateRoleSeed=Or.getMetadataDelegateRole=Or.getTokenDelegateRole=void 0;var bt=Kn(),ew={StandardV1:bt.TokenDelegateRole.Standard,TransferV1:bt.TokenDelegateRole.Transfer,LockedTransferV1:bt.TokenDelegateRole.LockedTransfer,SaleV1:bt.TokenDelegateRole.Sale,UtilityV1:bt.TokenDelegateRole.Utility,StakingV1:bt.TokenDelegateRole.Staking},tw={CollectionV1:bt.MetadataDelegateRole.Collection,DataV1:bt.MetadataDelegateRole.Data,ProgrammableConfigV1:bt.MetadataDelegateRole.ProgrammableConfig},rw={[bt.MetadataDelegateRole.AuthorityItem]:"authority_item_delegate",[bt.MetadataDelegateRole.Collection]:"collection_delegate",[bt.MetadataDelegateRole.Use]:"use_delegate",[bt.MetadataDelegateRole.Data]:"data_delegate",[bt.MetadataDelegateRole.ProgrammableConfig]:"programmable_config_delegate",[bt.MetadataDelegateRole.DataItem]:"data_item_delegate",[bt.MetadataDelegateRole.CollectionItem]:"collection_item_delegate",[bt.MetadataDelegateRole.ProgrammableConfigItem]:"prog_config_item_delegate"},nw={CollectionV1:!1,DataV1:!1,ProgrammableConfigV1:!1,StandardV1:!0,TransferV1:!0,SaleV1:!0,UtilityV1:!0,StakingV1:!0,LockedTransferV1:!0},iw=r=>{let e=ew[r];if(!e)throw new Error(`UnreachableCaseError: ${r}`);return e};Or.getTokenDelegateRole=iw;var ow=r=>{let e=tw[r];if(!e)throw new Error(`UnreachableCaseError: ${r}`);return e};Or.getMetadataDelegateRole=ow;var sw=r=>rw[(0,Or.getMetadataDelegateRole)(r)];Or.getMetadataDelegateRoleSeed=sw;var aw=r=>{let e=nw[r];if(e===void 0)throw new Error(`UnreachableCaseError: ${r}`);if(e)throw new Error(`DelegateRoleRequiredDataError: ${r}`);return{__kind:r}};Or.getDefaultDelegateArgs=aw});var vc=G(Sr=>{"use strict";B();I();Object.defineProperty(Sr,"__esModule",{value:!0});Sr.getMetadataDelegateRecord=Sr.getTokenRecord=Sr.getAssociatedTokenAccount=Sr.getMasterEdition=Sr.getMetadata=void 0;var Bi=mt(),ou=Kn(),Ti=mo(),uw=M0(),fw=r=>{let e=ou.PROGRAM_ID;return Ti.Pda.find(e,[Bi.Buffer.from("metadata","utf8"),e.toBuffer(),r.toBuffer()])};Sr.getMetadata=fw;var cw=r=>{let e=ou.PROGRAM_ID;return Ti.Pda.find(e,[Bi.Buffer.from("metadata","utf8"),e.toBuffer(),r.toBuffer(),Bi.Buffer.from("edition","utf8")])};Sr.getMasterEdition=cw;var lw=r=>Ti.Pda.find(Ti.associatedTokenProgram.address,[r.owner.toBuffer(),Ti.tokenProgram.address.toBuffer(),r.mint.toBuffer()]);Sr.getAssociatedTokenAccount=lw;var hw=r=>{let e=ou.PROGRAM_ID;return Ti.Pda.find(e,[Bi.Buffer.from("metadata","utf8"),e.toBuffer(),r.mint.toBuffer(),Bi.Buffer.from("token_record","utf8"),r.token.toBuffer()])};Sr.getTokenRecord=hw;var dw=r=>{let e=ou.PROGRAM_ID;return Ti.Pda.find(e,[Bi.Buffer.from("metadata","utf8"),e.toBuffer(),r.mint.toBuffer(),Bi.Buffer.from((0,uw.getMetadataDelegateRoleSeed)(r.type),"utf8"),r.updateAuthority.toBuffer(),r.delegate.toBuffer()])};Sr.getMetadataDelegateRecord=dw});var S0=G(su=>{"use strict";B();I();Object.defineProperty(su,"__esModule",{value:!0});su.parseTokenMetadataDelegateInput=void 0;var pw=mo(),wc=vc(),gw=(r,e,t)=>{if("updateAuthority"in e)return{isTokenDelegate:!1,delegate:e.delegate,approver:e.updateAuthority,delegateRecord:(0,wc.getMetadataDelegateRecord)({mint:r,type:e.type,updateAuthority:e.updateAuthority,delegate:(0,pw.isSigner)(e.delegate)?e.delegate.publicKey:e.delegate,programs:t})};let n=e.token??(0,wc.getAssociatedTokenAccount)({mint:r,owner:e.owner,programs:t});return{isTokenDelegate:!0,delegate:e.delegate,approver:e.owner,delegateRecord:(0,wc.getTokenRecord)({mint:r,token:n,programs:t}),tokenAccount:n}};su.parseTokenMetadataDelegateInput=gw});var E0=G(vo=>{"use strict";B();I();Object.defineProperty(vo,"__esModule",{value:!0});vo.getSignerFromTokenMetadataAuthority=vo.parseTokenMetadataAuthorization=void 0;var au=Kn(),A0=S0(),yw=r=>{let e={accounts:{authorizationRules:r.authorizationDetails?.rules??null},signers:[],data:{authorizationData:r.authorizationDetails?.data??null}};if(r.authority.__kind==="metadata")e.accounts.authority=r.authority.updateAuthority.publicKey,e.accounts.token=r.authority.token,e.signers.push(r.authority.updateAuthority),e.data.authorityType=au.AuthorityType.Metadata;else if(r.authority.__kind==="metadataDelegate"){let{delegateRecord:t,approver:n}=(0,A0.parseTokenMetadataDelegateInput)(r.mint,r.authority,r.programs);e.accounts.authority=r.authority.delegate.publicKey,e.accounts.delegateRecord=t,e.accounts.approver=n,e.signers.push(r.authority.delegate),e.data.authorityType=au.AuthorityType.MetadataDelegate}else if(r.authority.__kind==="tokenDelegate"){let{delegateRecord:t,approver:n,tokenAccount:i}=(0,A0.parseTokenMetadataDelegateInput)(r.mint,r.authority,r.programs);e.accounts.authority=r.authority.delegate.publicKey,e.accounts.token=i,e.accounts.delegateRecord=t,e.accounts.approver=n,e.signers.push(r.authority.delegate),e.data.authorityType=au.AuthorityType.TokenDelegate}else if(r.authority.__kind==="holder")e.accounts.authority=r.authority.owner.publicKey,e.accounts.token=r.authority.token,e.signers.push(r.authority.owner),e.data.authorityType=au.AuthorityType.Holder;else throw new Error(`UnreachableCaseError: ${r.authority.__kind}`);return e};vo.parseTokenMetadataAuthorization=yw;var bw=r=>{if(!("__kind"in r))return r;switch(r.__kind){case"metadata":return r.updateAuthority;case"metadataDelegate":case"tokenDelegate":return r.delegate;case"holder":return r.owner;default:throw new Error(`UnreachableCaseError: ${r.__kind}`)}};vo.getSignerFromTokenMetadataAuthority=bw});var T0=G(wo=>{"use strict";B();I();Object.defineProperty(wo,"__esModule",{value:!0});wo.getSignedTransaction=wo.TransactionBuilder=void 0;var mw=et(),vw=mo(),ww=Zt(),mn=class{constructor(e={}){this.records=[],this.feePayer=void 0,this.context={},this.transactionOptions=e}static make(e){return new mn(e)}prepend(...e){let t=e.flatMap(n=>n instanceof mn?n.getInstructionsWithSigners():[n]);return this.records=[...t,...this.records],this}append(...e){let t=e.flatMap(n=>n instanceof mn?n.getInstructionsWithSigners():[n]);return this.records=[...this.records,...t],this}add(...e){return this.append(...e)}splitUsingKey(e,t=!0){let n=new mn(this.transactionOptions),i=new mn(this.transactionOptions),u=this.records.findIndex(h=>h.key===e);return u>-1?(u+=t?1:0,n.add(...this.records.slice(0,u)),i.add(...this.records.slice(u))):n.add(this),[n,i]}splitBeforeKey(e){return this.splitUsingKey(e,!1)}splitAfterKey(e){return this.splitUsingKey(e,!0)}getInstructionsWithSigners(){return this.records}getInstructions(){return this.records.map(e=>e.instruction)}getInstructionCount(){return this.records.length}isEmpty(){return this.getInstructionCount()===0}getSigners(){let e=this.feePayer==null?[]:[this.feePayer],t=this.records.flatMap(n=>n.signers);return[...e,...t]}setTransactionOptions(e){return this.transactionOptions=e,this}getTransactionOptions(){return this.transactionOptions}setFeePayer(e){return this.feePayer=e,this}getFeePayer(){return this.feePayer}setContext(e){return this.context=e,this}getContext(){return this.context}when(e,t){return e?t(this):this}unless(e,t){return this.when(!e,t)}toTransaction(e,t={}){t={...this.getTransactionOptions(),...t};let n=new mw.Transaction({feePayer:this.getFeePayer()?.publicKey,signatures:t.signatures,blockhash:e.blockhash,lastValidBlockHeight:e.lastValidBlockHeight});return n.add(...this.getInstructions()),n}};wo.TransactionBuilder=mn;function _w(r,e,t){return!("records"in r)&&r.recentBlockhash&&r.lastValidBlockHeight&&(t={blockhash:r.recentBlockhash,lastValidBlockHeight:r.lastValidBlockHeight}),"records"in r&&(e=[...r.getSigners(),...e],r=r.toTransaction(t)),{transaction:r,signers:e,blockhashWithExpiryBlockHeight:t}}function Mw(r,e){let{keypairs:t}=(0,vw.getSignerHistogram)(e);return t.length>0&&r.partialSign(...t),r}function Sw(r,e=[],t){let n=_w(r,e,t);return r=n.transaction,e=n.signers,r=Mw(r,e),ww.base.toBase58(r.serialize())}wo.getSignedTransaction=Sw});var I0=G(B0=>{"use strict";B();I();Object.defineProperty(B0,"__esModule",{value:!0})});var _c=G(Nn=>{"use strict";B();I();var Aw=Nn&&Nn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),P0=Nn&&Nn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Aw(e,r,t)};Object.defineProperty(Nn,"__esModule",{value:!0});P0(T0(),Nn);P0(I0(),Nn)});var x0=G(_o=>{"use strict";B();I();Object.defineProperty(_o,"__esModule",{value:!0});_o.isProgrammable=_o.isNonFungible=void 0;var uu=Kn(),Ew=r=>r.tokenStandard===null||r.tokenStandard===uu.TokenStandard.NonFungible||r.tokenStandard===uu.TokenStandard.NonFungibleEdition||r.tokenStandard===uu.TokenStandard.ProgrammableNonFungible;_o.isNonFungible=Ew;var Tw=r=>r.tokenStandard===uu.TokenStandard.ProgrammableNonFungible;_o.isProgrammable=Tw});var O0=G(Ii=>{"use strict";B();I();var Bw=Ii&&Ii.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Iw=Ii&&Ii.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Bw(e,r,t)};Object.defineProperty(Ii,"__esModule",{value:!0});Iw(x0(),Ii)});var C0=G(fu=>{"use strict";B();I();Object.defineProperty(fu,"__esModule",{value:!0});fu.transferNftBuilder=void 0;var Pw=Kn(),U0=et(),ps=mo(),Mo=vc(),k0=E0(),xw=_c(),Mc=O0(),Ow=new U0.PublicKey("auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),kw=(r,e,t)=>{let{nftOrSft:n,authority:i,toOwner:u,amount:h=(0,ps.token)(1),authorizationDetails:S}=r,w=r.fromOwner??(0,k0.getSignerFromTokenMetadataAuthority)(i).publicKey,A=(0,Mo.getMetadata)(n.address),R=(0,Mo.getMasterEdition)(n.address),x=r.fromToken??(0,Mo.getAssociatedTokenAccount)({mint:n.address,owner:w}),L=r.toToken??(0,Mo.getAssociatedTokenAccount)({mint:n.address,owner:u}),k=(0,Mo.getTokenRecord)({mint:n.address,token:x}),Y=(0,Mo.getTokenRecord)({mint:n.address,token:L}),z=(0,k0.parseTokenMetadataAuthorization)({mint:n.address,authority:"__kind"in i?i:{__kind:"holder",owner:i,token:x},authorizationDetails:S,programs:t});return xw.TransactionBuilder.make().setFeePayer(e).add({instruction:(0,Pw.createTransferInstruction)({token:x,tokenOwner:w,destination:L,destinationOwner:u,mint:n.address,metadata:A,edition:(0,Mc.isNonFungible)(n)?R:void 0,ownerTokenRecord:(0,Mc.isProgrammable)(n)?k:void 0,destinationTokenRecord:(0,Mc.isProgrammable)(n)?Y:void 0,authority:z.accounts.authority,payer:e.publicKey,systemProgram:ps.systemProgram.address,sysvarInstructions:U0.SYSVAR_INSTRUCTIONS_PUBKEY,splTokenProgram:ps.tokenProgram.address,splAtaProgram:ps.associatedTokenProgram.address,authorizationRules:z.accounts.authorizationRules,authorizationRulesProgram:Ow},{transferArgs:{__kind:"V1",amount:h.basisPoints,...z.data}},ps.tokenMetadataProgram.address),signers:[e,...z.signers],key:r.instructionKey??"transferNft"})};fu.transferNftBuilder=kw});var Sc=G(kr=>{"use strict";B();I();var Uw=kr&&kr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),gs=kr&&kr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Uw(e,r,t)};Object.defineProperty(kr,"__esModule",{value:!0});gs(eu(),kr);gs(Kn(),kr);gs(C0(),kr);gs(_c(),kr);gs(mo(),kr)});var Ec=G($t=>{"use strict";B();I();var Cw=$t&&$t.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Dw=$t&&$t.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ac=$t&&$t.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Cw(e,r,t);return Dw(e,r),e};Object.defineProperty($t,"__esModule",{value:!0});$t.metaplex=$t.web3=$t.spl=void 0;$t.spl=Ac(Da());$t.web3=Ac(et());$t.metaplex=Ac(Sc())});var R0=G(qe=>{"use strict";B();I();Object.defineProperty(qe,"__esModule",{value:!0});qe.validSignedTransaction=qe.signMplTransaction=qe.createAndSignVersionedTransaction=qe.signTokenTransferVersionedTransaction=qe.signTransferVersionedTransaction=qe.getHardwareTransaction=qe.deserializeMessages=qe.signMessage=qe.appendTokenBurnInstruction=qe.appendTokenMintToInstruction=qe.appendTokenTransferInstruction=qe.appendTransferInstruction=qe.signTransaction=qe.appendInstruction=qe.createRawTransaction=qe.validAddress=qe.getNewAddress=void 0;var it=Zt(),ne=Ec(),Ur=et(),Tc=Sc(),zn=Da(),vn=Sa(),D0=Go();function Rw(r){let e=it.signUtil.ed25519.publicKeyCreate(it.base.fromBase58(r));return it.base.toBase58(e)}qe.getNewAddress=Rw;function Lw(r){try{return it.base.fromBase58(r).length==32}catch{return!1}}qe.validAddress=Lw;function Fw(r,e){return new ne.web3.Transaction({feePayer:new ne.web3.PublicKey(r),blockhash:e,lastValidBlockHeight:0})}qe.createRawTransaction=Fw;async function qw(r,...e){r.add(...e)}qe.appendInstruction=qw;async function Kw(r,...e){let t=[];return e.forEach(n=>{t.push(ne.web3.Keypair.fromSecretKey(it.base.fromBase58(n)))}),r.sign(...t),r.signature?Promise.resolve(it.base.toBase58(r.serialize())):Promise.reject("sign error")}qe.signTransaction=Kw;async function Nw(r,e,t,n){r.add(ne.web3.SystemProgram.transfer({fromPubkey:new ne.web3.PublicKey(e),toPubkey:new ne.web3.PublicKey(t),lamports:n}))}qe.appendTransferInstruction=Nw;async function zw(r,e,t,n,i,u,h,S){let w=h===!0?zn.TOKEN_2022_PROGRAM_ID:zn.TOKEN_PROGRAM_ID,A=await ne.spl.getAssociatedTokenAddress(new ne.web3.PublicKey(n),new ne.web3.PublicKey(e),!1,w),R=await ne.spl.getAssociatedTokenAddress(new ne.web3.PublicKey(n),new ne.web3.PublicKey(t),!1,w);if(u&&r.add(ne.spl.createAssociatedTokenAccountInstruction(new ne.web3.PublicKey(e),new ne.web3.PublicKey(R),new ne.web3.PublicKey(t),new ne.web3.PublicKey(n),new ne.web3.PublicKey(w))),h){if(!S)throw new Error("invalid decimal for token 2022");r.add(ne.spl.createTransferCheckedInstruction(new ne.web3.PublicKey(A),new ne.web3.PublicKey(n),new ne.web3.PublicKey(R),new ne.web3.PublicKey(e),i,S,[],new ne.web3.PublicKey(w)))}else r.add(ne.spl.createTransferInstruction(new ne.web3.PublicKey(A),new ne.web3.PublicKey(R),new ne.web3.PublicKey(e),i,[],new ne.web3.PublicKey(w)))}qe.appendTokenTransferInstruction=zw;async function jw(r,e,t,n,i,u,h,S){let w=S===!0?zn.TOKEN_2022_PROGRAM_ID:zn.TOKEN_PROGRAM_ID,A=await ne.spl.getAssociatedTokenAddress(new ne.web3.PublicKey(n),new ne.web3.PublicKey(t),!1,w);h&&r.add(ne.spl.createAssociatedTokenAccountInstruction(new ne.web3.PublicKey(e),new ne.web3.PublicKey(A),new ne.web3.PublicKey(t),new ne.web3.PublicKey(n),new ne.web3.PublicKey(w))),r.add(ne.spl.createMintToInstruction(new ne.web3.PublicKey(n),new ne.web3.PublicKey(A),new ne.web3.PublicKey(i),u,[],new ne.web3.PublicKey(w)))}qe.appendTokenMintToInstruction=jw;async function Vw(r,e,t,n,i,u){let h=u===!0?zn.TOKEN_2022_PROGRAM_ID:zn.TOKEN_PROGRAM_ID;r.add(ne.spl.createBurnInstruction(new ne.web3.PublicKey(t),new ne.web3.PublicKey(n),new ne.web3.PublicKey(e),i,[],new ne.web3.PublicKey(h)))}qe.appendTokenBurnInstruction=Vw;async function Yw(r,e){let t=it.base.fromBase58(r),n=it.signUtil.ed25519.sign(t,it.base.fromBase58(e));return Promise.resolve(it.base.toBase58(n))}qe.signMessage=Yw;async function $w(r){let e=[];for(let t=0;t<r.length;t++){let n=!0,i=0,u=!1,h=0,S=r[t];try{let A=ne.web3.VersionedTransaction.deserialize(it.base.fromBase58(S)).message;for(let R=0;R<A.compiledInstructions.length;R++){let x=A.compiledInstructions[R];if(A.staticAccountKeys[x.programIdIndex].toBase58()==vn.ComputeBudgetProgram.programId.toBase58()){let L=q.Buffer.from(x.data);try{let{units:k}=(0,D0.decodeData)(vn.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,L);i=k,u=!0}catch{}try{let{microLamports:k}=(0,D0.decodeData)(vn.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,L);h=k}catch{}}}u||(i=0,A.compiledInstructions.length>1&&(i=(A.compiledInstructions.length-1)*2e5))}catch(w){console.log(w),n=!1}e.push({deserialized:n,computeUnitLimit:i.toString(),computeUnitPrice:h.toString()})}return Promise.resolve(e)}qe.deserializeMessages=$w;async function Ww(r,e,t){let n=ne.web3.Transaction.from(it.base.fromHex(r));return n.addSignature(new Ur.PublicKey(e),it.base.fromHex(t)),n.signature?Promise.resolve(it.base.toBase58(n.serialize())):Promise.reject("getHardwareTransaction error")}qe.getHardwareTransaction=Ww;async function Gw(r,...e){let t=[];if(r.computeUnitLimit&&r.computeUnitPrice){let n=vn.ComputeBudgetProgram.setComputeUnitLimit({units:r.computeUnitLimit}),i=vn.ComputeBudgetProgram.setComputeUnitPrice({microLamports:r.computeUnitPrice});t.push(n),t.push(i)}return t.push(ne.web3.SystemProgram.transfer({fromPubkey:new ne.web3.PublicKey(r.from),toPubkey:new ne.web3.PublicKey(r.to),lamports:r.amount})),Bc(r.payer,r.blockHash,t,e)}qe.signTransferVersionedTransaction=Gw;async function Hw(r,...e){let t=r.token2022===!0?zn.TOKEN_2022_PROGRAM_ID:zn.TOKEN_PROGRAM_ID,n=await ne.spl.getAssociatedTokenAddress(new ne.web3.PublicKey(r.mint),new ne.web3.PublicKey(r.from),!1,t),i=await ne.spl.getAssociatedTokenAddress(new ne.web3.PublicKey(r.mint),new ne.web3.PublicKey(r.to),!1,t),u=[];if(r.computeUnitLimit&&r.computeUnitPrice){let h=vn.ComputeBudgetProgram.setComputeUnitLimit({units:r.computeUnitLimit}),S=vn.ComputeBudgetProgram.setComputeUnitPrice({microLamports:r.computeUnitPrice});u.push(h),u.push(S)}return r.createAssociatedAddress&&u.push(ne.spl.createAssociatedTokenAccountInstruction(new ne.web3.PublicKey(r.from),new ne.web3.PublicKey(i),new ne.web3.PublicKey(r.to),new ne.web3.PublicKey(r.mint),new ne.web3.PublicKey(t))),u.push(ne.spl.createTransferInstruction(new ne.web3.PublicKey(n),new ne.web3.PublicKey(i),new ne.web3.PublicKey(r.from),r.amount,[],new ne.web3.PublicKey(t))),Bc(r.payer,r.blockHash,u,e)}qe.signTokenTransferVersionedTransaction=Hw;async function Bc(r,e,t,n){let i=new Ur.TransactionMessage({payerKey:new Ur.PublicKey(r),recentBlockhash:e,instructions:t}).compileToV0Message(),u=new Ur.VersionedTransaction(i),h=[];return n.forEach(S=>{let w=Ur.Keypair.fromSecretKey(it.base.fromBase58(S));h.push({publicKey:w.publicKey,secretKey:w.secretKey})}),u.sign(h),u.signature?Promise.resolve(it.base.toBase58(u.serialize())):Promise.reject("sign error")}qe.createAndSignVersionedTransaction=Bc;async function Zw(r,e,t,n,i,u,h=Tc.TokenStandard.ProgrammableNonFungible,S,w){let A={tokenStandard:h,address:new Ur.PublicKey(n)},R={publicKey:new Ur.PublicKey(e),secretKey:it.base.fromBase58(u)},x=(0,Tc.transferNftBuilder)({nftOrSft:A,authority:R,fromOwner:new Ur.PublicKey(e),toOwner:new Ur.PublicKey(t)},R);if(S&&w){let L=vn.ComputeBudgetProgram.setComputeUnitLimit({units:S}),k=vn.ComputeBudgetProgram.setComputeUnitPrice({microLamports:w});x.add({instruction:L,signers:[]}),x.add({instruction:k,signers:[]})}return(0,Tc.getSignedTransaction)(x,void 0,{blockhash:i,lastValidBlockHeight:0})}qe.signMplTransaction=Zw;function Jw(r,e,t){if(e){let S=Ur.VersionedTransaction.deserialize(it.base.fromBase58(r)),w=S.signature,A=S.message.serialize(),R=S.message.getAccountKeys().get(0)?.toBytes();if(!t&&!it.signUtil.ed25519.verify(A,w,R))throw Error("signature error");return S}let n=Ur.Transaction.from(it.base.fromBase58(r)),i=n.signature,u=n.serializeMessage(),h=n.feePayer.toBytes();if(!t&&!it.signUtil.ed25519.verify(u,i,h))throw Error("signature error");return n}qe.validSignedTransaction=Jw});var F0=G((aB,L0)=>{B();I();L0.exports=globalThis["ok-metax-base"]});var K0=G(cu=>{"use strict";B();I();Object.defineProperty(cu,"__esModule",{value:!0});cu.SolWallet=void 0;var ut=F0(),Pi=Zt(),Wt=N0(),q0=Sa(),Ic=class extends ut.BaseWallet{async getDerivedPath(e){return`m/44'/501'/${e.index}'/0'`}async getRandomPrivateKey(){try{return Promise.resolve((0,ut.ed25519_getRandomPrivateKey)(!0,"base58"))}catch{return Promise.reject(ut.GenPrivateKeyError)}}async getDerivedPrivateKey(e){try{let t=await(0,ut.ed25519_getDerivedPrivateKey)(e,!0,"base58");return Promise.resolve(t)}catch{return Promise.reject(ut.GenPrivateKeyError)}}checkPrivateKey(e){return Pi.base.fromBase58(e).length==64}async getNewAddress(e){try{if(!this.checkPrivateKey(e.privateKey))return Promise.reject(ut.NewAddressError);let t=Wt.api.getNewAddress(e.privateKey),n={address:t,publicKey:Pi.base.toHex(Pi.base.fromBase58(t))};return Promise.resolve(n)}catch{return Promise.reject(ut.NewAddressError)}}async validAddress(e){let t;try{t=Pi.base.fromBase58(e.address).length==32}catch{t=!1}let n={isValid:t,address:e.address};return Promise.resolve(n)}async signTransaction(e){try{let t=e.data,n=Wt.api.createRawTransaction(t.payer,t.blockHash);if(t.computeUnitLimit&&t.computeUnitPrice){let u=q0.ComputeBudgetProgram.setComputeUnitLimit({units:t.computeUnitLimit}),h=q0.ComputeBudgetProgram.setComputeUnitPrice({microLamports:t.computeUnitPrice});n.add(u).add(h)}if(t.type==="transfer"){if(t.from==null||t.to==null||t.amount==null)return Promise.reject(ut.SignTxError);if(t.version===0)return Wt.api.signTransferVersionedTransaction(e.data,e.privateKey);await Wt.api.appendTransferInstruction(n,t.from,t.to,t.amount)}else if(t.type==="tokenTransfer"){if(t.from==null||t.to==null||t.mint==null||t.amount==null||t.createAssociatedAddress==null)return Promise.reject(ut.SignTxError);if(t.version===0)return Wt.api.signTokenTransferVersionedTransaction(e.data,e.privateKey);await Wt.api.appendTokenTransferInstruction(n,t.from,t.to,t.mint,t.amount,t.createAssociatedAddress,t.token2022,t.decimal)}else return t.type==="mplTransfer"?t.from==null||t.to==null||t.mint==null?Promise.reject(ut.SignTxError):await Wt.api.signMplTransaction(t.payer,t.from,t.to,t.mint,t.blockHash,e.privateKey,t.computeUnitLimit,t.computeUnitPrice):Promise.reject(ut.SignTxError);if(!e.privateKey)return Promise.resolve(Pi.base.toHex(n.serialize({verifySignatures:!1})));let i=await Wt.api.signTransaction(n,e.privateKey);return Promise.resolve(i)}catch{return Promise.reject(ut.SignTxError)}}async signMessage(e){try{let t=e.data,n=await Wt.api.signMessage(t,e.privateKey);return Promise.resolve(n)}catch{return Promise.reject(ut.SignTxError)}}async deserializeMessages(e){try{let t=await Wt.api.deserializeMessages(e.data);return Promise.resolve(t)}catch{return Promise.reject("deserializeMessages error")}}async calcTxHash(e){try{let t=Pi.base.fromBase58(e.data),n;try{n=Wt.web3.Transaction.from(t)}catch{n=Wt.web3.VersionedTransaction.deserialize(t)}return n.signature==null?Promise.reject(ut.CalcTxHashError):Promise.resolve(Pi.base.toBase58(n.signature))}catch{return Promise.reject(ut.CalcTxHashError)}}async getHardWareRawTransaction(e){try{return this.signTransaction(e)}catch{return Promise.reject(ut.GetHardwareRawTransactionError)}}async getHardWareSignedTransaction(e){try{let t=Wt.api.getHardwareTransaction(e.raw,e.pubKey,e.sig);return Promise.resolve(t)}catch{return Promise.reject(ut.GetHardwareSignedTransactionError)}}async validSignedTransaction(e){try{let t=e.data?e.data.version:void 0,n=e.data?e.data.skipCheckSign:void 0,i=Wt.api.validSignedTransaction(e.tx,t||!1,n||!1);return Promise.resolve((0,ut.jsonStringifyUniform)(i))}catch{return Promise.reject(ut.validSignedTransactionError)}}};cu.SolWallet=Ic});var N0=G(Gt=>{B();I();var z0=Gt&&Gt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Xw=Gt&&Gt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Qw=Gt&&Gt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&z0(e,r,t);return Xw(e,r),e},j0=Gt&&Gt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&z0(e,r,t)};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.api=void 0;Gt.api=Qw(R0());j0(Ec(),Gt);j0(K0(),Gt)});module.exports=N0();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
if (typeof module.exports == "object" && typeof exports == "object") {
  var __cp = (to, from, except, desc) => {
    if ((from && typeof from === "object") || typeof from === "function") {
      for (let key of Object.getOwnPropertyNames(from)) {
        if (!Object.prototype.hasOwnProperty.call(to, key) && key !== except)
        Object.defineProperty(to, key, {
          get: () => from[key],
          enumerable: !(desc = Object.getOwnPropertyDescriptor(from, key)) || desc.enumerable,
        });
      }
    }
    return to;
  };
  module.exports = __cp(module.exports, exports);
}
return module.exports;
}))
