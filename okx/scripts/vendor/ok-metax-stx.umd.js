(function (g, f) {
    if ("object" == typeof exports && "object" == typeof module) {
      module.exports = f();
    } else if ("function" == typeof define && define.amd) {
      define("ok-metax-stx", [], f);
    } else if ("object" == typeof exports) {
      exports["ok-metax-stx"] = f();
    } else {
      g["ok-metax-stx"] = f();
    }
  }(this, () => {
var exports = {};
var module = { exports };
"use strict";var rf=Object.create;var aa=Object.defineProperty;var nf=Object.getOwnPropertyDescriptor;var of=Object.getOwnPropertyNames;var sf=Object.getPrototypeOf,af=Object.prototype.hasOwnProperty;var ca=(e,t)=>()=>(e&&(t=e(e=0)),t);var V=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var cf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of of(t))!af.call(e,s)&&s!==r&&aa(e,s,{get:()=>t[s],enumerable:!(n=nf(t,s))||n.enumerable});return e};var uf=(e,t,r)=>(r=e!=null?rf(sf(e)):{},cf(t||!e||!e.__esModule?aa(r,"default",{value:e,enumerable:!0}):r,e));function la(){throw new Error("setTimeout has not been defined")}function fa(){throw new Error("clearTimeout has not been defined")}function da(e){if(zt===setTimeout)return setTimeout(e,0);if((zt===la||!zt)&&setTimeout)return zt=setTimeout,setTimeout(e,0);try{return zt(e,0)}catch{try{return zt.call(null,e,0)}catch{return zt.call(this,e,0)}}}function lf(e){if(qt===clearTimeout)return clearTimeout(e);if((qt===fa||!qt)&&clearTimeout)return qt=clearTimeout,clearTimeout(e);try{return qt(e)}catch{try{return qt.call(null,e)}catch{return qt.call(this,e)}}}function ff(){!wr||!fr||(wr=!1,fr.length?Rt=fr.concat(Rt):Fn=-1,Rt.length&&ha())}function ha(){if(!wr){var e=da(ff);wr=!0;for(var t=Rt.length;t;){for(fr=Rt,Rt=[];++Fn<t;)fr&&fr[Fn].run();Fn=-1,t=Rt.length}fr=null,wr=!1,lf(e)}}function df(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Rt.push(new pa(e,t)),Rt.length===1&&!wr&&da(ha)}function pa(e,t){this.fun=e,this.array=t}function dr(){}function Of(e){throw new Error("process.binding is not supported")}function Bf(){return"/"}function Rf(e){throw new Error("process.chdir is not supported")}function Nf(){return 0}function xf(e){var t=Mf.call(Ar)*.001,r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r=r-e[0],n=n-e[1],n<0&&(r--,n+=1e9)),[r,n]}function Uf(){var e=new Date,t=e-Lf;return t/1e3}var zt,qt,Rt,wr,fr,Fn,hf,pf,yf,gf,Tf,Sf,Cf,bf,Ef,_f,mf,Pf,Af,wf,If,vf,Ar,Mf,Lf,L,ua,b=ca(()=>{zt=la,qt=fa;typeof globalThis.setTimeout=="function"&&(zt=setTimeout);typeof globalThis.clearTimeout=="function"&&(qt=clearTimeout);Rt=[],wr=!1,Fn=-1;pa.prototype.run=function(){this.fun.apply(null,this.array)};hf="browser",pf="browser",yf=!0,gf={},Tf=[],Sf="",Cf={},bf={},Ef={};_f=dr,mf=dr,Pf=dr,Af=dr,wf=dr,If=dr,vf=dr;Ar=globalThis.performance||{},Mf=Ar.now||Ar.mozNow||Ar.msNow||Ar.oNow||Ar.webkitNow||function(){return new Date().getTime()};Lf=new Date;L={nextTick:df,title:hf,browser:yf,env:gf,argv:Tf,version:Sf,versions:Cf,on:_f,addListener:mf,once:Pf,off:Af,removeListener:wf,removeAllListeners:If,emit:vf,binding:Of,cwd:Bf,chdir:Rf,umask:Nf,hrtime:xf,platform:pf,release:bf,config:Ef,uptime:Uf},ua={version:"2.99.0","env.PROJECT":"okxwallet-extension","env.NODE_ENV":"","env.SOURCEMAP":"","env.DEV_TARGET":"","env.APP_VERSION":"2.99.0","env.COMMIT_HASH":"fc3e","env.REDUX_DEVTOOLS":"","env.ASSETS_BUILD_TYPE":"publish"};Object.keys(ua).forEach(e=>{let t=e.split("."),r=L;for(let n=0;n<t.length;n++){let s=t[n];n===t.length-1?r[s]=ua[e]:r=r[s]||(r[s]={})}})});var ga=V((ya,Wi)=>{b();E();(function(e){typeof ya=="object"&&typeof Wi<"u"?Wi.exports=e():typeof define=="function"&&define.amd?define([],e):(typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:this).buffer=e()})(function(){return function(){return function e(t,r,n){function s(T,h){if(!r[T]){if(!t[T]){var f=typeof require=="function"&&require;if(!h&&f)return f(T,!0);if(d)return d(T,!0);var M=new Error("Cannot find module '"+T+"'");throw M.code="MODULE_NOT_FOUND",M}var A=r[T]={exports:{}};t[T][0].call(A.exports,function(w){return s(t[T][1][w]||w)},A,A.exports,e,t,r,n)}return r[T].exports}for(var d=typeof require=="function"&&require,y=0;y<n.length;y++)s(n[y]);return s}}()({1:[function(e,t,r){"use strict";r.byteLength=function(A){var w=f(A),_=w[0],v=w[1];return 3*(_+v)/4-v},r.toByteArray=function(A){var w,_,v=f(A),B=v[0],O=v[1],x=new d(function(xe,Ve,Ie){return 3*(Ve+Ie)/4-Ie}(0,B,O)),J=0,ve=O>0?B-4:B;for(_=0;_<ve;_+=4)w=s[A.charCodeAt(_)]<<18|s[A.charCodeAt(_+1)]<<12|s[A.charCodeAt(_+2)]<<6|s[A.charCodeAt(_+3)],x[J++]=w>>16&255,x[J++]=w>>8&255,x[J++]=255&w;return O===2&&(w=s[A.charCodeAt(_)]<<2|s[A.charCodeAt(_+1)]>>4,x[J++]=255&w),O===1&&(w=s[A.charCodeAt(_)]<<10|s[A.charCodeAt(_+1)]<<4|s[A.charCodeAt(_+2)]>>2,x[J++]=w>>8&255,x[J++]=255&w),x},r.fromByteArray=function(A){for(var w,_=A.length,v=_%3,B=[],O=0,x=_-v;O<x;O+=16383)B.push(M(A,O,O+16383>x?x:O+16383));return v===1?(w=A[_-1],B.push(n[w>>2]+n[w<<4&63]+"==")):v===2&&(w=(A[_-2]<<8)+A[_-1],B.push(n[w>>10]+n[w>>4&63]+n[w<<2&63]+"=")),B.join("")};for(var n=[],s=[],d=typeof Uint8Array<"u"?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=0,h=y.length;T<h;++T)n[T]=y[T],s[y.charCodeAt(T)]=T;function f(A){var w=A.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=A.indexOf("=");return _===-1&&(_=w),[_,_===w?0:4-_%4]}function M(A,w,_){for(var v,B,O=[],x=w;x<_;x+=3)v=(A[x]<<16&16711680)+(A[x+1]<<8&65280)+(255&A[x+2]),O.push(n[(B=v)>>18&63]+n[B>>12&63]+n[B>>6&63]+n[63&B]);return O.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},{}],2:[function(e,t,r){(function(h){"use strict";var s=e("base64-js"),d=e("ieee754");r.Buffer=h,r.SlowBuffer=function(o){return+o!=o&&(o=0),h.alloc(+o)},r.INSPECT_MAX_BYTES=50;var y=2147483647;function T(o){if(o>y)throw new RangeError('The value "'+o+'" is invalid for option "size"');var c=new Uint8Array(o);return c.__proto__=h.prototype,c}function h(o,c,l){if(typeof o=="number"){if(typeof c=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return A(o)}return f(o,c,l)}function f(o,c,l){if(typeof o=="string")return function(m,R){if(typeof R=="string"&&R!==""||(R="utf8"),!h.isEncoding(R))throw new TypeError("Unknown encoding: "+R);var X=0|v(m,R),ue=T(X),le=ue.write(m,R);return le!==X&&(ue=ue.slice(0,le)),ue}(o,c);if(ArrayBuffer.isView(o))return w(o);if(o==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o);if(bt(o,ArrayBuffer)||o&&bt(o.buffer,ArrayBuffer))return function(m,R,X){if(R<0||m.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(m.byteLength<R+(X||0))throw new RangeError('"length" is outside of buffer bounds');var ue;return ue=R===void 0&&X===void 0?new Uint8Array(m):X===void 0?new Uint8Array(m,R):new Uint8Array(m,R,X),ue.__proto__=h.prototype,ue}(o,c,l);if(typeof o=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var g=o.valueOf&&o.valueOf();if(g!=null&&g!==o)return h.from(g,c,l);var P=function(m){if(h.isBuffer(m)){var R=0|_(m.length),X=T(R);return X.length===0||m.copy(X,0,0,R),X}if(m.length!==void 0)return typeof m.length!="number"||Pr(m.length)?T(0):w(m);if(m.type==="Buffer"&&Array.isArray(m.data))return w(m.data)}(o);if(P)return P;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof o[Symbol.toPrimitive]=="function")return h.from(o[Symbol.toPrimitive]("string"),c,l);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o)}function M(o){if(typeof o!="number")throw new TypeError('"size" argument must be of type number');if(o<0)throw new RangeError('The value "'+o+'" is invalid for option "size"')}function A(o){return M(o),T(o<0?0:0|_(o))}function w(o){for(var c=o.length<0?0:0|_(o.length),l=T(c),g=0;g<c;g+=1)l[g]=255&o[g];return l}function _(o){if(o>=y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+y.toString(16)+" bytes");return 0|o}function v(o,c){if(h.isBuffer(o))return o.length;if(ArrayBuffer.isView(o)||bt(o,ArrayBuffer))return o.byteLength;if(typeof o!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof o);var l=o.length,g=arguments.length>2&&arguments[2]===!0;if(!g&&l===0)return 0;for(var P=!1;;)switch(c){case"ascii":case"latin1":case"binary":return l;case"utf8":case"utf-8":return mr(o).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*l;case"hex":return l>>>1;case"base64":return Bt(o).length;default:if(P)return g?-1:mr(o).length;c=(""+c).toLowerCase(),P=!0}}function B(o,c,l){var g=o[c];o[c]=o[l],o[l]=g}function O(o,c,l,g,P){if(o.length===0)return-1;if(typeof l=="string"?(g=l,l=0):l>2147483647?l=2147483647:l<-2147483648&&(l=-2147483648),Pr(l=+l)&&(l=P?0:o.length-1),l<0&&(l=o.length+l),l>=o.length){if(P)return-1;l=o.length-1}else if(l<0){if(!P)return-1;l=0}if(typeof c=="string"&&(c=h.from(c,g)),h.isBuffer(c))return c.length===0?-1:x(o,c,l,g,P);if(typeof c=="number")return c&=255,typeof Uint8Array.prototype.indexOf=="function"?P?Uint8Array.prototype.indexOf.call(o,c,l):Uint8Array.prototype.lastIndexOf.call(o,c,l):x(o,[c],l,g,P);throw new TypeError("val must be string, number or Buffer")}function x(o,c,l,g,P){var m,R=1,X=o.length,ue=c.length;if(g!==void 0&&((g=String(g).toLowerCase())==="ucs2"||g==="ucs-2"||g==="utf16le"||g==="utf-16le")){if(o.length<2||c.length<2)return-1;R=2,X/=2,ue/=2,l/=2}function le(u,p){return R===1?u[p]:u.readUInt16BE(p*R)}if(P){var ie=-1;for(m=l;m<X;m++)if(le(o,m)===le(c,ie===-1?0:m-ie)){if(ie===-1&&(ie=m),m-ie+1===ue)return ie*R}else ie!==-1&&(m-=m-ie),ie=-1}else for(l+ue>X&&(l=X-ue),m=l;m>=0;m--){for(var i=!0,a=0;a<ue;a++)if(le(o,m+a)!==le(c,a)){i=!1;break}if(i)return m}return-1}function J(o,c,l,g){l=Number(l)||0;var P=o.length-l;g?(g=Number(g))>P&&(g=P):g=P;var m=c.length;g>m/2&&(g=m/2);for(var R=0;R<g;++R){var X=parseInt(c.substr(2*R,2),16);if(Pr(X))return R;o[l+R]=X}return R}function ve(o,c,l,g){return Ft(mr(c,o.length-l),o,l,g)}function xe(o,c,l,g){return Ft(function(P){for(var m=[],R=0;R<P.length;++R)m.push(255&P.charCodeAt(R));return m}(c),o,l,g)}function Ve(o,c,l,g){return xe(o,c,l,g)}function Ie(o,c,l,g){return Ft(Bt(c),o,l,g)}function ot(o,c,l,g){return Ft(function(P,m){for(var R,X,ue,le=[],ie=0;ie<P.length&&!((m-=2)<0);++ie)R=P.charCodeAt(ie),X=R>>8,ue=R%256,le.push(ue),le.push(X);return le}(c,o.length-l),o,l,g)}function Kt(o,c,l){return c===0&&l===o.length?s.fromByteArray(o):s.fromByteArray(o.slice(c,l))}function Dn(o,c,l){l=Math.min(o.length,l);for(var g=[],P=c;P<l;){var m,R,X,ue,le=o[P],ie=null,i=le>239?4:le>223?3:le>191?2:1;if(P+i<=l)switch(i){case 1:le<128&&(ie=le);break;case 2:(192&(m=o[P+1]))==128&&(ue=(31&le)<<6|63&m)>127&&(ie=ue);break;case 3:m=o[P+1],R=o[P+2],(192&m)==128&&(192&R)==128&&(ue=(15&le)<<12|(63&m)<<6|63&R)>2047&&(ue<55296||ue>57343)&&(ie=ue);break;case 4:m=o[P+1],R=o[P+2],X=o[P+3],(192&m)==128&&(192&R)==128&&(192&X)==128&&(ue=(15&le)<<18|(63&m)<<12|(63&R)<<6|63&X)>65535&&ue<1114112&&(ie=ue)}ie===null?(ie=65533,i=1):ie>65535&&(ie-=65536,g.push(ie>>>10&1023|55296),ie=56320|1023&ie),g.push(ie),P+=i}return function(a){var u=a.length;if(u<=hn)return String.fromCharCode.apply(String,a);for(var p="",S=0;S<u;)p+=String.fromCharCode.apply(String,a.slice(S,S+=hn));return p}(g)}r.kMaxLength=y,h.TYPED_ARRAY_SUPPORT=function(){try{var o=new Uint8Array(1);return o.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},o.foo()===42}catch{return!1}}(),h.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192,h.from=function(o,c,l){return f(o,c,l)},h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,h.alloc=function(o,c,l){return function(g,P,m){return M(g),g<=0?T(g):P!==void 0?typeof m=="string"?T(g).fill(P,m):T(g).fill(P):T(g)}(o,c,l)},h.allocUnsafe=function(o){return A(o)},h.allocUnsafeSlow=function(o){return A(o)},h.isBuffer=function(o){return o!=null&&o._isBuffer===!0&&o!==h.prototype},h.compare=function(o,c){if(bt(o,Uint8Array)&&(o=h.from(o,o.offset,o.byteLength)),bt(c,Uint8Array)&&(c=h.from(c,c.offset,c.byteLength)),!h.isBuffer(o)||!h.isBuffer(c))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(o===c)return 0;for(var l=o.length,g=c.length,P=0,m=Math.min(l,g);P<m;++P)if(o[P]!==c[P]){l=o[P],g=c[P];break}return l<g?-1:g<l?1:0},h.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(o,c){if(!Array.isArray(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return h.alloc(0);var l;if(c===void 0)for(c=0,l=0;l<o.length;++l)c+=o[l].length;var g=h.allocUnsafe(c),P=0;for(l=0;l<o.length;++l){var m=o[l];if(bt(m,Uint8Array)&&(m=h.from(m)),!h.isBuffer(m))throw new TypeError('"list" argument must be an Array of Buffers');m.copy(g,P),P+=m.length}return g},h.byteLength=v,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var o=this.length;if(o%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var c=0;c<o;c+=2)B(this,c,c+1);return this},h.prototype.swap32=function(){var o=this.length;if(o%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var c=0;c<o;c+=4)B(this,c,c+3),B(this,c+1,c+2);return this},h.prototype.swap64=function(){var o=this.length;if(o%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var c=0;c<o;c+=8)B(this,c,c+7),B(this,c+1,c+6),B(this,c+2,c+5),B(this,c+3,c+4);return this},h.prototype.toString=function(){var o=this.length;return o===0?"":arguments.length===0?Dn(this,0,o):function(c,l,g){var P=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0)<=(l>>>=0))return"";for(c||(c="utf8");;)switch(c){case"hex":return ji(this,l,g);case"utf8":case"utf-8":return Dn(this,l,g);case"ascii":return kn(this,l,g);case"latin1":case"binary":return $i(this,l,g);case"base64":return Kt(this,l,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Gi(this,l,g);default:if(P)throw new TypeError("Unknown encoding: "+c);c=(c+"").toLowerCase(),P=!0}}.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(o){if(!h.isBuffer(o))throw new TypeError("Argument must be a Buffer");return this===o||h.compare(this,o)===0},h.prototype.inspect=function(){var o="",c=r.INSPECT_MAX_BYTES;return o=this.toString("hex",0,c).replace(/(.{2})/g,"$1 ").trim(),this.length>c&&(o+=" ... "),"<Buffer "+o+">"},h.prototype.compare=function(o,c,l,g,P){if(bt(o,Uint8Array)&&(o=h.from(o,o.offset,o.byteLength)),!h.isBuffer(o))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof o);if(c===void 0&&(c=0),l===void 0&&(l=o?o.length:0),g===void 0&&(g=0),P===void 0&&(P=this.length),c<0||l>o.length||g<0||P>this.length)throw new RangeError("out of range index");if(g>=P&&c>=l)return 0;if(g>=P)return-1;if(c>=l)return 1;if(this===o)return 0;for(var m=(P>>>=0)-(g>>>=0),R=(l>>>=0)-(c>>>=0),X=Math.min(m,R),ue=this.slice(g,P),le=o.slice(c,l),ie=0;ie<X;++ie)if(ue[ie]!==le[ie]){m=ue[ie],R=le[ie];break}return m<R?-1:R<m?1:0},h.prototype.includes=function(o,c,l){return this.indexOf(o,c,l)!==-1},h.prototype.indexOf=function(o,c,l){return O(this,o,c,l,!0)},h.prototype.lastIndexOf=function(o,c,l){return O(this,o,c,l,!1)},h.prototype.write=function(o,c,l,g){if(c===void 0)g="utf8",l=this.length,c=0;else if(l===void 0&&typeof c=="string")g=c,l=this.length,c=0;else{if(!isFinite(c))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");c>>>=0,isFinite(l)?(l>>>=0,g===void 0&&(g="utf8")):(g=l,l=void 0)}var P=this.length-c;if((l===void 0||l>P)&&(l=P),o.length>0&&(l<0||c<0)||c>this.length)throw new RangeError("Attempt to write outside buffer bounds");g||(g="utf8");for(var m=!1;;)switch(g){case"hex":return J(this,o,c,l);case"utf8":case"utf-8":return ve(this,o,c,l);case"ascii":return xe(this,o,c,l);case"latin1":case"binary":return Ve(this,o,c,l);case"base64":return Ie(this,o,c,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ot(this,o,c,l);default:if(m)throw new TypeError("Unknown encoding: "+g);g=(""+g).toLowerCase(),m=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var hn=4096;function kn(o,c,l){var g="";l=Math.min(o.length,l);for(var P=c;P<l;++P)g+=String.fromCharCode(127&o[P]);return g}function $i(o,c,l){var g="";l=Math.min(o.length,l);for(var P=c;P<l;++P)g+=String.fromCharCode(o[P]);return g}function ji(o,c,l){var g=o.length;(!c||c<0)&&(c=0),(!l||l<0||l>g)&&(l=g);for(var P="",m=c;m<l;++m)P+=Kn(o[m]);return P}function Gi(o,c,l){for(var g=o.slice(c,l),P="",m=0;m<g.length;m+=2)P+=String.fromCharCode(g[m]+256*g[m+1]);return P}function Ne(o,c,l){if(o%1!=0||o<0)throw new RangeError("offset is not uint");if(o+c>l)throw new RangeError("Trying to access beyond buffer length")}function ce(o,c,l,g,P,m){if(!h.isBuffer(o))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>P||c<m)throw new RangeError('"value" argument is out of bounds');if(l+g>o.length)throw new RangeError("Index out of range")}function He(o,c,l,g,P,m){if(l+g>o.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("Index out of range")}function pn(o,c,l,g,P){return c=+c,l>>>=0,P||He(o,0,l,4),d.write(o,c,l,g,23,4),l+4}function yn(o,c,l,g,P){return c=+c,l>>>=0,P||He(o,0,l,8),d.write(o,c,l,g,52,8),l+8}h.prototype.slice=function(o,c){var l=this.length;(o=~~o)<0?(o+=l)<0&&(o=0):o>l&&(o=l),(c=c===void 0?l:~~c)<0?(c+=l)<0&&(c=0):c>l&&(c=l),c<o&&(c=o);var g=this.subarray(o,c);return g.__proto__=h.prototype,g},h.prototype.readUIntLE=function(o,c,l){o>>>=0,c>>>=0,l||Ne(o,c,this.length);for(var g=this[o],P=1,m=0;++m<c&&(P*=256);)g+=this[o+m]*P;return g},h.prototype.readUIntBE=function(o,c,l){o>>>=0,c>>>=0,l||Ne(o,c,this.length);for(var g=this[o+--c],P=1;c>0&&(P*=256);)g+=this[o+--c]*P;return g},h.prototype.readUInt8=function(o,c){return o>>>=0,c||Ne(o,1,this.length),this[o]},h.prototype.readUInt16LE=function(o,c){return o>>>=0,c||Ne(o,2,this.length),this[o]|this[o+1]<<8},h.prototype.readUInt16BE=function(o,c){return o>>>=0,c||Ne(o,2,this.length),this[o]<<8|this[o+1]},h.prototype.readUInt32LE=function(o,c){return o>>>=0,c||Ne(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+16777216*this[o+3]},h.prototype.readUInt32BE=function(o,c){return o>>>=0,c||Ne(o,4,this.length),16777216*this[o]+(this[o+1]<<16|this[o+2]<<8|this[o+3])},h.prototype.readIntLE=function(o,c,l){o>>>=0,c>>>=0,l||Ne(o,c,this.length);for(var g=this[o],P=1,m=0;++m<c&&(P*=256);)g+=this[o+m]*P;return g>=(P*=128)&&(g-=Math.pow(2,8*c)),g},h.prototype.readIntBE=function(o,c,l){o>>>=0,c>>>=0,l||Ne(o,c,this.length);for(var g=c,P=1,m=this[o+--g];g>0&&(P*=256);)m+=this[o+--g]*P;return m>=(P*=128)&&(m-=Math.pow(2,8*c)),m},h.prototype.readInt8=function(o,c){return o>>>=0,c||Ne(o,1,this.length),128&this[o]?-1*(255-this[o]+1):this[o]},h.prototype.readInt16LE=function(o,c){o>>>=0,c||Ne(o,2,this.length);var l=this[o]|this[o+1]<<8;return 32768&l?4294901760|l:l},h.prototype.readInt16BE=function(o,c){o>>>=0,c||Ne(o,2,this.length);var l=this[o+1]|this[o]<<8;return 32768&l?4294901760|l:l},h.prototype.readInt32LE=function(o,c){return o>>>=0,c||Ne(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24},h.prototype.readInt32BE=function(o,c){return o>>>=0,c||Ne(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]},h.prototype.readFloatLE=function(o,c){return o>>>=0,c||Ne(o,4,this.length),d.read(this,o,!0,23,4)},h.prototype.readFloatBE=function(o,c){return o>>>=0,c||Ne(o,4,this.length),d.read(this,o,!1,23,4)},h.prototype.readDoubleLE=function(o,c){return o>>>=0,c||Ne(o,8,this.length),d.read(this,o,!0,52,8)},h.prototype.readDoubleBE=function(o,c){return o>>>=0,c||Ne(o,8,this.length),d.read(this,o,!1,52,8)},h.prototype.writeUIntLE=function(o,c,l,g){o=+o,c>>>=0,l>>>=0,g||ce(this,o,c,l,Math.pow(2,8*l)-1,0);var P=1,m=0;for(this[c]=255&o;++m<l&&(P*=256);)this[c+m]=o/P&255;return c+l},h.prototype.writeUIntBE=function(o,c,l,g){o=+o,c>>>=0,l>>>=0,g||ce(this,o,c,l,Math.pow(2,8*l)-1,0);var P=l-1,m=1;for(this[c+P]=255&o;--P>=0&&(m*=256);)this[c+P]=o/m&255;return c+l},h.prototype.writeUInt8=function(o,c,l){return o=+o,c>>>=0,l||ce(this,o,c,1,255,0),this[c]=255&o,c+1},h.prototype.writeUInt16LE=function(o,c,l){return o=+o,c>>>=0,l||ce(this,o,c,2,65535,0),this[c]=255&o,this[c+1]=o>>>8,c+2},h.prototype.writeUInt16BE=function(o,c,l){return o=+o,c>>>=0,l||ce(this,o,c,2,65535,0),this[c]=o>>>8,this[c+1]=255&o,c+2},h.prototype.writeUInt32LE=function(o,c,l){return o=+o,c>>>=0,l||ce(this,o,c,4,4294967295,0),this[c+3]=o>>>24,this[c+2]=o>>>16,this[c+1]=o>>>8,this[c]=255&o,c+4},h.prototype.writeUInt32BE=function(o,c,l){return o=+o,c>>>=0,l||ce(this,o,c,4,4294967295,0),this[c]=o>>>24,this[c+1]=o>>>16,this[c+2]=o>>>8,this[c+3]=255&o,c+4},h.prototype.writeIntLE=function(o,c,l,g){if(o=+o,c>>>=0,!g){var P=Math.pow(2,8*l-1);ce(this,o,c,l,P-1,-P)}var m=0,R=1,X=0;for(this[c]=255&o;++m<l&&(R*=256);)o<0&&X===0&&this[c+m-1]!==0&&(X=1),this[c+m]=(o/R>>0)-X&255;return c+l},h.prototype.writeIntBE=function(o,c,l,g){if(o=+o,c>>>=0,!g){var P=Math.pow(2,8*l-1);ce(this,o,c,l,P-1,-P)}var m=l-1,R=1,X=0;for(this[c+m]=255&o;--m>=0&&(R*=256);)o<0&&X===0&&this[c+m+1]!==0&&(X=1),this[c+m]=(o/R>>0)-X&255;return c+l},h.prototype.writeInt8=function(o,c,l){return o=+o,c>>>=0,l||ce(this,o,c,1,127,-128),o<0&&(o=255+o+1),this[c]=255&o,c+1},h.prototype.writeInt16LE=function(o,c,l){return o=+o,c>>>=0,l||ce(this,o,c,2,32767,-32768),this[c]=255&o,this[c+1]=o>>>8,c+2},h.prototype.writeInt16BE=function(o,c,l){return o=+o,c>>>=0,l||ce(this,o,c,2,32767,-32768),this[c]=o>>>8,this[c+1]=255&o,c+2},h.prototype.writeInt32LE=function(o,c,l){return o=+o,c>>>=0,l||ce(this,o,c,4,2147483647,-2147483648),this[c]=255&o,this[c+1]=o>>>8,this[c+2]=o>>>16,this[c+3]=o>>>24,c+4},h.prototype.writeInt32BE=function(o,c,l){return o=+o,c>>>=0,l||ce(this,o,c,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),this[c]=o>>>24,this[c+1]=o>>>16,this[c+2]=o>>>8,this[c+3]=255&o,c+4},h.prototype.writeFloatLE=function(o,c,l){return pn(this,o,c,!0,l)},h.prototype.writeFloatBE=function(o,c,l){return pn(this,o,c,!1,l)},h.prototype.writeDoubleLE=function(o,c,l){return yn(this,o,c,!0,l)},h.prototype.writeDoubleBE=function(o,c,l){return yn(this,o,c,!1,l)},h.prototype.copy=function(o,c,l,g){if(!h.isBuffer(o))throw new TypeError("argument should be a Buffer");if(l||(l=0),g||g===0||(g=this.length),c>=o.length&&(c=o.length),c||(c=0),g>0&&g<l&&(g=l),g===l||o.length===0||this.length===0)return 0;if(c<0)throw new RangeError("targetStart out of bounds");if(l<0||l>=this.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("sourceEnd out of bounds");g>this.length&&(g=this.length),o.length-c<g-l&&(g=o.length-c+l);var P=g-l;if(this===o&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(c,l,g);else if(this===o&&l<c&&c<g)for(var m=P-1;m>=0;--m)o[m+c]=this[m+l];else Uint8Array.prototype.set.call(o,this.subarray(l,g),c);return P},h.prototype.fill=function(o,c,l,g){if(typeof o=="string"){if(typeof c=="string"?(g=c,c=0,l=this.length):typeof l=="string"&&(g=l,l=this.length),g!==void 0&&typeof g!="string")throw new TypeError("encoding must be a string");if(typeof g=="string"&&!h.isEncoding(g))throw new TypeError("Unknown encoding: "+g);if(o.length===1){var P=o.charCodeAt(0);(g==="utf8"&&P<128||g==="latin1")&&(o=P)}}else typeof o=="number"&&(o&=255);if(c<0||this.length<c||this.length<l)throw new RangeError("Out of range index");if(l<=c)return this;var m;if(c>>>=0,l=l===void 0?this.length:l>>>0,o||(o=0),typeof o=="number")for(m=c;m<l;++m)this[m]=o;else{var R=h.isBuffer(o)?o:h.from(o,g),X=R.length;if(X===0)throw new TypeError('The value "'+o+'" is invalid for argument "value"');for(m=0;m<l-c;++m)this[m+c]=R[m%X]}return this};var Hn=/[^+\/0-9A-Za-z-_]/g;function Kn(o){return o<16?"0"+o.toString(16):o.toString(16)}function mr(o,c){var l;c=c||1/0;for(var g=o.length,P=null,m=[],R=0;R<g;++R){if((l=o.charCodeAt(R))>55295&&l<57344){if(!P){if(l>56319){(c-=3)>-1&&m.push(239,191,189);continue}if(R+1===g){(c-=3)>-1&&m.push(239,191,189);continue}P=l;continue}if(l<56320){(c-=3)>-1&&m.push(239,191,189),P=l;continue}l=65536+(P-55296<<10|l-56320)}else P&&(c-=3)>-1&&m.push(239,191,189);if(P=null,l<128){if((c-=1)<0)break;m.push(l)}else if(l<2048){if((c-=2)<0)break;m.push(l>>6|192,63&l|128)}else if(l<65536){if((c-=3)<0)break;m.push(l>>12|224,l>>6&63|128,63&l|128)}else{if(!(l<1114112))throw new Error("Invalid code point");if((c-=4)<0)break;m.push(l>>18|240,l>>12&63|128,l>>6&63|128,63&l|128)}}return m}function Bt(o){return s.toByteArray(function(c){if((c=(c=c.split("=")[0]).trim().replace(Hn,"")).length<2)return"";for(;c.length%4!=0;)c+="=";return c}(o))}function Ft(o,c,l,g){for(var P=0;P<g&&!(P+l>=c.length||P>=o.length);++P)c[P+l]=o[P];return P}function bt(o,c){return o instanceof c||o!=null&&o.constructor!=null&&o.constructor.name!=null&&o.constructor.name===c.name}function Pr(o){return o!=o}}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:2,ieee754:3}],3:[function(e,t,r){r.read=function(n,s,d,y,T){var h,f,M=8*T-y-1,A=(1<<M)-1,w=A>>1,_=-7,v=d?T-1:0,B=d?-1:1,O=n[s+v];for(v+=B,h=O&(1<<-_)-1,O>>=-_,_+=M;_>0;h=256*h+n[s+v],v+=B,_-=8);for(f=h&(1<<-_)-1,h>>=-_,_+=y;_>0;f=256*f+n[s+v],v+=B,_-=8);if(h===0)h=1-w;else{if(h===A)return f?NaN:1/0*(O?-1:1);f+=Math.pow(2,y),h-=w}return(O?-1:1)*f*Math.pow(2,h-y)},r.write=function(n,s,d,y,T,h){var f,M,A,w=8*h-T-1,_=(1<<w)-1,v=_>>1,B=T===23?Math.pow(2,-24)-Math.pow(2,-77):0,O=y?0:h-1,x=y?1:-1,J=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(M=isNaN(s)?1:0,f=_):(f=Math.floor(Math.log(s)/Math.LN2),s*(A=Math.pow(2,-f))<1&&(f--,A*=2),(s+=f+v>=1?B/A:B*Math.pow(2,1-v))*A>=2&&(f++,A/=2),f+v>=_?(M=0,f=_):f+v>=1?(M=(s*A-1)*Math.pow(2,T),f+=v):(M=s*Math.pow(2,v-1)*Math.pow(2,T),f=0));T>=8;n[d+O]=255&M,O+=x,M/=256,T-=8);for(f=f<<T|M,w+=T;w>0;n[d+O]=255&f,O+=x,f/=256,w-=8);n[d+O-x]|=128*J}},{}],4:[function(e,t,r){(function(f){"use strict";let s=e("base64-js"),d=e("ieee754"),y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=f,r.SlowBuffer=function(i){return+i!=i&&(i=0),f.alloc(+i)},r.INSPECT_MAX_BYTES=50;let T=2147483647;function h(i){if(i>T)throw new RangeError('The value "'+i+'" is invalid for option "size"');let a=new Uint8Array(i);return Object.setPrototypeOf(a,f.prototype),a}function f(i,a,u){if(typeof i=="number"){if(typeof a=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(i)}return M(i,a,u)}function M(i,a,u){if(typeof i=="string")return function(C,I){if(typeof I=="string"&&I!==""||(I="utf8"),!f.isEncoding(I))throw new TypeError("Unknown encoding: "+I);let Z=0|O(C,I),fe=h(Z),Be=fe.write(C,I);return Be!==Z&&(fe=fe.slice(0,Be)),fe}(i,a);if(ArrayBuffer.isView(i))return function(C){if(R(C,Uint8Array)){let I=new Uint8Array(C);return v(I.buffer,I.byteOffset,I.byteLength)}return _(C)}(i);if(i==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i);if(R(i,ArrayBuffer)||i&&R(i.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(R(i,SharedArrayBuffer)||i&&R(i.buffer,SharedArrayBuffer)))return v(i,a,u);if(typeof i=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let p=i.valueOf&&i.valueOf();if(p!=null&&p!==i)return f.from(p,a,u);let S=function(C){if(f.isBuffer(C)){let I=0|B(C.length),Z=h(I);return Z.length===0||C.copy(Z,0,0,I),Z}if(C.length!==void 0)return typeof C.length!="number"||X(C.length)?h(0):_(C);if(C.type==="Buffer"&&Array.isArray(C.data))return _(C.data)}(i);if(S)return S;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof i[Symbol.toPrimitive]=="function")return f.from(i[Symbol.toPrimitive]("string"),a,u);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i)}function A(i){if(typeof i!="number")throw new TypeError('"size" argument must be of type number');if(i<0)throw new RangeError('The value "'+i+'" is invalid for option "size"')}function w(i){return A(i),h(i<0?0:0|B(i))}function _(i){let a=i.length<0?0:0|B(i.length),u=h(a);for(let p=0;p<a;p+=1)u[p]=255&i[p];return u}function v(i,a,u){if(a<0||i.byteLength<a)throw new RangeError('"offset" is outside of buffer bounds');if(i.byteLength<a+(u||0))throw new RangeError('"length" is outside of buffer bounds');let p;return p=a===void 0&&u===void 0?new Uint8Array(i):u===void 0?new Uint8Array(i,a):new Uint8Array(i,a,u),Object.setPrototypeOf(p,f.prototype),p}function B(i){if(i>=T)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+T.toString(16)+" bytes");return 0|i}function O(i,a){if(f.isBuffer(i))return i.length;if(ArrayBuffer.isView(i)||R(i,ArrayBuffer))return i.byteLength;if(typeof i!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof i);let u=i.length,p=arguments.length>2&&arguments[2]===!0;if(!p&&u===0)return 0;let S=!1;for(;;)switch(a){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":return g(i).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*u;case"hex":return u>>>1;case"base64":return P(i).length;default:if(S)return p?-1:g(i).length;a=(""+a).toLowerCase(),S=!0}}function x(i,a,u){let p=i[a];i[a]=i[u],i[u]=p}function J(i,a,u,p,S){if(i.length===0)return-1;if(typeof u=="string"?(p=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),X(u=+u)&&(u=S?0:i.length-1),u<0&&(u=i.length+u),u>=i.length){if(S)return-1;u=i.length-1}else if(u<0){if(!S)return-1;u=0}if(typeof a=="string"&&(a=f.from(a,p)),f.isBuffer(a))return a.length===0?-1:ve(i,a,u,p,S);if(typeof a=="number")return a&=255,typeof Uint8Array.prototype.indexOf=="function"?S?Uint8Array.prototype.indexOf.call(i,a,u):Uint8Array.prototype.lastIndexOf.call(i,a,u):ve(i,[a],u,p,S);throw new TypeError("val must be string, number or Buffer")}function ve(i,a,u,p,S){let C,I=1,Z=i.length,fe=a.length;if(p!==void 0&&((p=String(p).toLowerCase())==="ucs2"||p==="ucs-2"||p==="utf16le"||p==="utf-16le")){if(i.length<2||a.length<2)return-1;I=2,Z/=2,fe/=2,u/=2}function Be(pe,Ke){return I===1?pe[Ke]:pe.readUInt16BE(Ke*I)}if(S){let pe=-1;for(C=u;C<Z;C++)if(Be(i,C)===Be(a,pe===-1?0:C-pe)){if(pe===-1&&(pe=C),C-pe+1===fe)return pe*I}else pe!==-1&&(C-=C-pe),pe=-1}else for(u+fe>Z&&(u=Z-fe),C=u;C>=0;C--){let pe=!0;for(let Ke=0;Ke<fe;Ke++)if(Be(i,C+Ke)!==Be(a,Ke)){pe=!1;break}if(pe)return C}return-1}function xe(i,a,u,p){u=Number(u)||0;let S=i.length-u;p?(p=Number(p))>S&&(p=S):p=S;let C=a.length,I;for(p>C/2&&(p=C/2),I=0;I<p;++I){let Z=parseInt(a.substr(2*I,2),16);if(X(Z))return I;i[u+I]=Z}return I}function Ve(i,a,u,p){return m(g(a,i.length-u),i,u,p)}function Ie(i,a,u,p){return m(function(S){let C=[];for(let I=0;I<S.length;++I)C.push(255&S.charCodeAt(I));return C}(a),i,u,p)}function ot(i,a,u,p){return m(P(a),i,u,p)}function Kt(i,a,u,p){return m(function(S,C){let I,Z,fe,Be=[];for(let pe=0;pe<S.length&&!((C-=2)<0);++pe)I=S.charCodeAt(pe),Z=I>>8,fe=I%256,Be.push(fe),Be.push(Z);return Be}(a,i.length-u),i,u,p)}function Dn(i,a,u){return a===0&&u===i.length?s.fromByteArray(i):s.fromByteArray(i.slice(a,u))}function hn(i,a,u){u=Math.min(i.length,u);let p=[],S=a;for(;S<u;){let C=i[S],I=null,Z=C>239?4:C>223?3:C>191?2:1;if(S+Z<=u){let fe,Be,pe,Ke;switch(Z){case 1:C<128&&(I=C);break;case 2:(192&(fe=i[S+1]))==128&&(Ke=(31&C)<<6|63&fe)>127&&(I=Ke);break;case 3:fe=i[S+1],Be=i[S+2],(192&fe)==128&&(192&Be)==128&&(Ke=(15&C)<<12|(63&fe)<<6|63&Be)>2047&&(Ke<55296||Ke>57343)&&(I=Ke);break;case 4:fe=i[S+1],Be=i[S+2],pe=i[S+3],(192&fe)==128&&(192&Be)==128&&(192&pe)==128&&(Ke=(15&C)<<18|(63&fe)<<12|(63&Be)<<6|63&pe)>65535&&Ke<1114112&&(I=Ke)}}I===null?(I=65533,Z=1):I>65535&&(I-=65536,p.push(I>>>10&1023|55296),I=56320|1023&I),p.push(I),S+=Z}return function(C){let I=C.length;if(I<=kn)return String.fromCharCode.apply(String,C);let Z="",fe=0;for(;fe<I;)Z+=String.fromCharCode.apply(String,C.slice(fe,fe+=kn));return Z}(p)}r.kMaxLength=T,f.TYPED_ARRAY_SUPPORT=function(){try{let i=new Uint8Array(1),a={foo:function(){return 42}};return Object.setPrototypeOf(a,Uint8Array.prototype),Object.setPrototypeOf(i,a),i.foo()===42}catch{return!1}}(),f.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(i,a,u){return M(i,a,u)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(i,a,u){return function(p,S,C){return A(p),p<=0?h(p):S!==void 0?typeof C=="string"?h(p).fill(S,C):h(p).fill(S):h(p)}(i,a,u)},f.allocUnsafe=function(i){return w(i)},f.allocUnsafeSlow=function(i){return w(i)},f.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==f.prototype},f.compare=function(i,a){if(R(i,Uint8Array)&&(i=f.from(i,i.offset,i.byteLength)),R(a,Uint8Array)&&(a=f.from(a,a.offset,a.byteLength)),!f.isBuffer(i)||!f.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===a)return 0;let u=i.length,p=a.length;for(let S=0,C=Math.min(u,p);S<C;++S)if(i[S]!==a[S]){u=i[S],p=a[S];break}return u<p?-1:p<u?1:0},f.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(i,a){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return f.alloc(0);let u;if(a===void 0)for(a=0,u=0;u<i.length;++u)a+=i[u].length;let p=f.allocUnsafe(a),S=0;for(u=0;u<i.length;++u){let C=i[u];if(R(C,Uint8Array))S+C.length>p.length?(f.isBuffer(C)||(C=f.from(C)),C.copy(p,S)):Uint8Array.prototype.set.call(p,C,S);else{if(!f.isBuffer(C))throw new TypeError('"list" argument must be an Array of Buffers');C.copy(p,S)}S+=C.length}return p},f.byteLength=O,f.prototype._isBuffer=!0,f.prototype.swap16=function(){let i=this.length;if(i%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let a=0;a<i;a+=2)x(this,a,a+1);return this},f.prototype.swap32=function(){let i=this.length;if(i%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let a=0;a<i;a+=4)x(this,a,a+3),x(this,a+1,a+2);return this},f.prototype.swap64=function(){let i=this.length;if(i%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let a=0;a<i;a+=8)x(this,a,a+7),x(this,a+1,a+6),x(this,a+2,a+5),x(this,a+3,a+4);return this},f.prototype.toString=function(){let i=this.length;return i===0?"":arguments.length===0?hn(this,0,i):function(a,u,p){let S=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((p===void 0||p>this.length)&&(p=this.length),p<=0)||(p>>>=0)<=(u>>>=0))return"";for(a||(a="utf8");;)switch(a){case"hex":return Gi(this,u,p);case"utf8":case"utf-8":return hn(this,u,p);case"ascii":return $i(this,u,p);case"latin1":case"binary":return ji(this,u,p);case"base64":return Dn(this,u,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ne(this,u,p);default:if(S)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),S=!0}}.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(i){if(!f.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i||f.compare(this,i)===0},f.prototype.inspect=function(){let i="",a=r.INSPECT_MAX_BYTES;return i=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(i+=" ... "),"<Buffer "+i+">"},y&&(f.prototype[y]=f.prototype.inspect),f.prototype.compare=function(i,a,u,p,S){if(R(i,Uint8Array)&&(i=f.from(i,i.offset,i.byteLength)),!f.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(a===void 0&&(a=0),u===void 0&&(u=i?i.length:0),p===void 0&&(p=0),S===void 0&&(S=this.length),a<0||u>i.length||p<0||S>this.length)throw new RangeError("out of range index");if(p>=S&&a>=u)return 0;if(p>=S)return-1;if(a>=u)return 1;if(this===i)return 0;let C=(S>>>=0)-(p>>>=0),I=(u>>>=0)-(a>>>=0),Z=Math.min(C,I),fe=this.slice(p,S),Be=i.slice(a,u);for(let pe=0;pe<Z;++pe)if(fe[pe]!==Be[pe]){C=fe[pe],I=Be[pe];break}return C<I?-1:I<C?1:0},f.prototype.includes=function(i,a,u){return this.indexOf(i,a,u)!==-1},f.prototype.indexOf=function(i,a,u){return J(this,i,a,u,!0)},f.prototype.lastIndexOf=function(i,a,u){return J(this,i,a,u,!1)},f.prototype.write=function(i,a,u,p){if(a===void 0)p="utf8",u=this.length,a=0;else if(u===void 0&&typeof a=="string")p=a,u=this.length,a=0;else{if(!isFinite(a))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");a>>>=0,isFinite(u)?(u>>>=0,p===void 0&&(p="utf8")):(p=u,u=void 0)}let S=this.length-a;if((u===void 0||u>S)&&(u=S),i.length>0&&(u<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");p||(p="utf8");let C=!1;for(;;)switch(p){case"hex":return xe(this,i,a,u);case"utf8":case"utf-8":return Ve(this,i,a,u);case"ascii":case"latin1":case"binary":return Ie(this,i,a,u);case"base64":return ot(this,i,a,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Kt(this,i,a,u);default:if(C)throw new TypeError("Unknown encoding: "+p);p=(""+p).toLowerCase(),C=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};let kn=4096;function $i(i,a,u){let p="";u=Math.min(i.length,u);for(let S=a;S<u;++S)p+=String.fromCharCode(127&i[S]);return p}function ji(i,a,u){let p="";u=Math.min(i.length,u);for(let S=a;S<u;++S)p+=String.fromCharCode(i[S]);return p}function Gi(i,a,u){let p=i.length;(!a||a<0)&&(a=0),(!u||u<0||u>p)&&(u=p);let S="";for(let C=a;C<u;++C)S+=ue[i[C]];return S}function Ne(i,a,u){let p=i.slice(a,u),S="";for(let C=0;C<p.length-1;C+=2)S+=String.fromCharCode(p[C]+256*p[C+1]);return S}function ce(i,a,u){if(i%1!=0||i<0)throw new RangeError("offset is not uint");if(i+a>u)throw new RangeError("Trying to access beyond buffer length")}function He(i,a,u,p,S,C){if(!f.isBuffer(i))throw new TypeError('"buffer" argument must be a Buffer instance');if(a>S||a<C)throw new RangeError('"value" argument is out of bounds');if(u+p>i.length)throw new RangeError("Index out of range")}function pn(i,a,u,p,S){Pr(a,p,S,i,u,7);let C=Number(a&BigInt(4294967295));i[u++]=C,C>>=8,i[u++]=C,C>>=8,i[u++]=C,C>>=8,i[u++]=C;let I=Number(a>>BigInt(32)&BigInt(4294967295));return i[u++]=I,I>>=8,i[u++]=I,I>>=8,i[u++]=I,I>>=8,i[u++]=I,u}function yn(i,a,u,p,S){Pr(a,p,S,i,u,7);let C=Number(a&BigInt(4294967295));i[u+7]=C,C>>=8,i[u+6]=C,C>>=8,i[u+5]=C,C>>=8,i[u+4]=C;let I=Number(a>>BigInt(32)&BigInt(4294967295));return i[u+3]=I,I>>=8,i[u+2]=I,I>>=8,i[u+1]=I,I>>=8,i[u]=I,u+8}function Hn(i,a,u,p,S,C){if(u+p>i.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function Kn(i,a,u,p,S){return a=+a,u>>>=0,S||Hn(i,0,u,4),d.write(i,a,u,p,23,4),u+4}function mr(i,a,u,p,S){return a=+a,u>>>=0,S||Hn(i,0,u,8),d.write(i,a,u,p,52,8),u+8}f.prototype.slice=function(i,a){let u=this.length;(i=~~i)<0?(i+=u)<0&&(i=0):i>u&&(i=u),(a=a===void 0?u:~~a)<0?(a+=u)<0&&(a=0):a>u&&(a=u),a<i&&(a=i);let p=this.subarray(i,a);return Object.setPrototypeOf(p,f.prototype),p},f.prototype.readUintLE=f.prototype.readUIntLE=function(i,a,u){i>>>=0,a>>>=0,u||ce(i,a,this.length);let p=this[i],S=1,C=0;for(;++C<a&&(S*=256);)p+=this[i+C]*S;return p},f.prototype.readUintBE=f.prototype.readUIntBE=function(i,a,u){i>>>=0,a>>>=0,u||ce(i,a,this.length);let p=this[i+--a],S=1;for(;a>0&&(S*=256);)p+=this[i+--a]*S;return p},f.prototype.readUint8=f.prototype.readUInt8=function(i,a){return i>>>=0,a||ce(i,1,this.length),this[i]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(i,a){return i>>>=0,a||ce(i,2,this.length),this[i]|this[i+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(i,a){return i>>>=0,a||ce(i,2,this.length),this[i]<<8|this[i+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(i,a){return i>>>=0,a||ce(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+16777216*this[i+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(i,a){return i>>>=0,a||ce(i,4,this.length),16777216*this[i]+(this[i+1]<<16|this[i+2]<<8|this[i+3])},f.prototype.readBigUInt64LE=le(function(i){o(i>>>=0,"offset");let a=this[i],u=this[i+7];a!==void 0&&u!==void 0||c(i,this.length-8);let p=a+256*this[++i]+65536*this[++i]+this[++i]*2**24,S=this[++i]+256*this[++i]+65536*this[++i]+u*2**24;return BigInt(p)+(BigInt(S)<<BigInt(32))}),f.prototype.readBigUInt64BE=le(function(i){o(i>>>=0,"offset");let a=this[i],u=this[i+7];a!==void 0&&u!==void 0||c(i,this.length-8);let p=a*2**24+65536*this[++i]+256*this[++i]+this[++i],S=this[++i]*2**24+65536*this[++i]+256*this[++i]+u;return(BigInt(p)<<BigInt(32))+BigInt(S)}),f.prototype.readIntLE=function(i,a,u){i>>>=0,a>>>=0,u||ce(i,a,this.length);let p=this[i],S=1,C=0;for(;++C<a&&(S*=256);)p+=this[i+C]*S;return p>=(S*=128)&&(p-=Math.pow(2,8*a)),p},f.prototype.readIntBE=function(i,a,u){i>>>=0,a>>>=0,u||ce(i,a,this.length);let p=a,S=1,C=this[i+--p];for(;p>0&&(S*=256);)C+=this[i+--p]*S;return C>=(S*=128)&&(C-=Math.pow(2,8*a)),C},f.prototype.readInt8=function(i,a){return i>>>=0,a||ce(i,1,this.length),128&this[i]?-1*(255-this[i]+1):this[i]},f.prototype.readInt16LE=function(i,a){i>>>=0,a||ce(i,2,this.length);let u=this[i]|this[i+1]<<8;return 32768&u?4294901760|u:u},f.prototype.readInt16BE=function(i,a){i>>>=0,a||ce(i,2,this.length);let u=this[i+1]|this[i]<<8;return 32768&u?4294901760|u:u},f.prototype.readInt32LE=function(i,a){return i>>>=0,a||ce(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},f.prototype.readInt32BE=function(i,a){return i>>>=0,a||ce(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},f.prototype.readBigInt64LE=le(function(i){o(i>>>=0,"offset");let a=this[i],u=this[i+7];a!==void 0&&u!==void 0||c(i,this.length-8);let p=this[i+4]+256*this[i+5]+65536*this[i+6]+(u<<24);return(BigInt(p)<<BigInt(32))+BigInt(a+256*this[++i]+65536*this[++i]+this[++i]*2**24)}),f.prototype.readBigInt64BE=le(function(i){o(i>>>=0,"offset");let a=this[i],u=this[i+7];a!==void 0&&u!==void 0||c(i,this.length-8);let p=(a<<24)+65536*this[++i]+256*this[++i]+this[++i];return(BigInt(p)<<BigInt(32))+BigInt(this[++i]*2**24+65536*this[++i]+256*this[++i]+u)}),f.prototype.readFloatLE=function(i,a){return i>>>=0,a||ce(i,4,this.length),d.read(this,i,!0,23,4)},f.prototype.readFloatBE=function(i,a){return i>>>=0,a||ce(i,4,this.length),d.read(this,i,!1,23,4)},f.prototype.readDoubleLE=function(i,a){return i>>>=0,a||ce(i,8,this.length),d.read(this,i,!0,52,8)},f.prototype.readDoubleBE=function(i,a){return i>>>=0,a||ce(i,8,this.length),d.read(this,i,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(i,a,u,p){i=+i,a>>>=0,u>>>=0,!p&&He(this,i,a,u,Math.pow(2,8*u)-1,0);let S=1,C=0;for(this[a]=255&i;++C<u&&(S*=256);)this[a+C]=i/S&255;return a+u},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(i,a,u,p){i=+i,a>>>=0,u>>>=0,!p&&He(this,i,a,u,Math.pow(2,8*u)-1,0);let S=u-1,C=1;for(this[a+S]=255&i;--S>=0&&(C*=256);)this[a+S]=i/C&255;return a+u},f.prototype.writeUint8=f.prototype.writeUInt8=function(i,a,u){return i=+i,a>>>=0,u||He(this,i,a,1,255,0),this[a]=255&i,a+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(i,a,u){return i=+i,a>>>=0,u||He(this,i,a,2,65535,0),this[a]=255&i,this[a+1]=i>>>8,a+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(i,a,u){return i=+i,a>>>=0,u||He(this,i,a,2,65535,0),this[a]=i>>>8,this[a+1]=255&i,a+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(i,a,u){return i=+i,a>>>=0,u||He(this,i,a,4,4294967295,0),this[a+3]=i>>>24,this[a+2]=i>>>16,this[a+1]=i>>>8,this[a]=255&i,a+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(i,a,u){return i=+i,a>>>=0,u||He(this,i,a,4,4294967295,0),this[a]=i>>>24,this[a+1]=i>>>16,this[a+2]=i>>>8,this[a+3]=255&i,a+4},f.prototype.writeBigUInt64LE=le(function(i,a=0){return pn(this,i,a,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=le(function(i,a=0){return yn(this,i,a,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(i,a,u,p){if(i=+i,a>>>=0,!p){let Z=Math.pow(2,8*u-1);He(this,i,a,u,Z-1,-Z)}let S=0,C=1,I=0;for(this[a]=255&i;++S<u&&(C*=256);)i<0&&I===0&&this[a+S-1]!==0&&(I=1),this[a+S]=(i/C>>0)-I&255;return a+u},f.prototype.writeIntBE=function(i,a,u,p){if(i=+i,a>>>=0,!p){let Z=Math.pow(2,8*u-1);He(this,i,a,u,Z-1,-Z)}let S=u-1,C=1,I=0;for(this[a+S]=255&i;--S>=0&&(C*=256);)i<0&&I===0&&this[a+S+1]!==0&&(I=1),this[a+S]=(i/C>>0)-I&255;return a+u},f.prototype.writeInt8=function(i,a,u){return i=+i,a>>>=0,u||He(this,i,a,1,127,-128),i<0&&(i=255+i+1),this[a]=255&i,a+1},f.prototype.writeInt16LE=function(i,a,u){return i=+i,a>>>=0,u||He(this,i,a,2,32767,-32768),this[a]=255&i,this[a+1]=i>>>8,a+2},f.prototype.writeInt16BE=function(i,a,u){return i=+i,a>>>=0,u||He(this,i,a,2,32767,-32768),this[a]=i>>>8,this[a+1]=255&i,a+2},f.prototype.writeInt32LE=function(i,a,u){return i=+i,a>>>=0,u||He(this,i,a,4,2147483647,-2147483648),this[a]=255&i,this[a+1]=i>>>8,this[a+2]=i>>>16,this[a+3]=i>>>24,a+4},f.prototype.writeInt32BE=function(i,a,u){return i=+i,a>>>=0,u||He(this,i,a,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[a]=i>>>24,this[a+1]=i>>>16,this[a+2]=i>>>8,this[a+3]=255&i,a+4},f.prototype.writeBigInt64LE=le(function(i,a=0){return pn(this,i,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=le(function(i,a=0){return yn(this,i,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeFloatLE=function(i,a,u){return Kn(this,i,a,!0,u)},f.prototype.writeFloatBE=function(i,a,u){return Kn(this,i,a,!1,u)},f.prototype.writeDoubleLE=function(i,a,u){return mr(this,i,a,!0,u)},f.prototype.writeDoubleBE=function(i,a,u){return mr(this,i,a,!1,u)},f.prototype.copy=function(i,a,u,p){if(!f.isBuffer(i))throw new TypeError("argument should be a Buffer");if(u||(u=0),p||p===0||(p=this.length),a>=i.length&&(a=i.length),a||(a=0),p>0&&p<u&&(p=u),p===u||i.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(u<0||u>=this.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("sourceEnd out of bounds");p>this.length&&(p=this.length),i.length-a<p-u&&(p=i.length-a+u);let S=p-u;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(a,u,p):Uint8Array.prototype.set.call(i,this.subarray(u,p),a),S},f.prototype.fill=function(i,a,u,p){if(typeof i=="string"){if(typeof a=="string"?(p=a,a=0,u=this.length):typeof u=="string"&&(p=u,u=this.length),p!==void 0&&typeof p!="string")throw new TypeError("encoding must be a string");if(typeof p=="string"&&!f.isEncoding(p))throw new TypeError("Unknown encoding: "+p);if(i.length===1){let C=i.charCodeAt(0);(p==="utf8"&&C<128||p==="latin1")&&(i=C)}}else typeof i=="number"?i&=255:typeof i=="boolean"&&(i=Number(i));if(a<0||this.length<a||this.length<u)throw new RangeError("Out of range index");if(u<=a)return this;let S;if(a>>>=0,u=u===void 0?this.length:u>>>0,i||(i=0),typeof i=="number")for(S=a;S<u;++S)this[S]=i;else{let C=f.isBuffer(i)?i:f.from(i,p),I=C.length;if(I===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(S=0;S<u-a;++S)this[S+a]=C[S%I]}return this};let Bt={};function Ft(i,a,u){Bt[i]=class extends u{constructor(){super(),Object.defineProperty(this,"message",{value:a.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${i}]`,this.stack,delete this.name}get code(){return i}set code(p){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:p,writable:!0})}toString(){return`${this.name} [${i}]: ${this.message}`}}}function bt(i){let a="",u=i.length,p=i[0]==="-"?1:0;for(;u>=p+4;u-=3)a=`_${i.slice(u-3,u)}${a}`;return`${i.slice(0,u)}${a}`}function Pr(i,a,u,p,S,C){if(i>u||i<a){let I=typeof a=="bigint"?"n":"",Z;throw Z=C>3?a===0||a===BigInt(0)?`>= 0${I} and < 2${I} ** ${8*(C+1)}${I}`:`>= -(2${I} ** ${8*(C+1)-1}${I}) and < 2 ** ${8*(C+1)-1}${I}`:`>= ${a}${I} and <= ${u}${I}`,new Bt.ERR_OUT_OF_RANGE("value",Z,i)}(function(I,Z,fe){o(Z,"offset"),I[Z]!==void 0&&I[Z+fe]!==void 0||c(Z,I.length-(fe+1))})(p,S,C)}function o(i,a){if(typeof i!="number")throw new Bt.ERR_INVALID_ARG_TYPE(a,"number",i)}function c(i,a,u){throw Math.floor(i)!==i?(o(i,u),new Bt.ERR_OUT_OF_RANGE(u||"offset","an integer",i)):a<0?new Bt.ERR_BUFFER_OUT_OF_BOUNDS:new Bt.ERR_OUT_OF_RANGE(u||"offset",`>= ${u?1:0} and <= ${a}`,i)}Ft("ERR_BUFFER_OUT_OF_BOUNDS",function(i){return i?`${i} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ft("ERR_INVALID_ARG_TYPE",function(i,a){return`The "${i}" argument must be of type number. Received type ${typeof a}`},TypeError),Ft("ERR_OUT_OF_RANGE",function(i,a,u){let p=`The value of "${i}" is out of range.`,S=u;return Number.isInteger(u)&&Math.abs(u)>2**32?S=bt(String(u)):typeof u=="bigint"&&(S=String(u),(u>BigInt(2)**BigInt(32)||u<-(BigInt(2)**BigInt(32)))&&(S=bt(S)),S+="n"),p+=` It must be ${a}. Received ${S}`},RangeError);let l=/[^+\/0-9A-Za-z-_]/g;function g(i,a){let u;a=a||1/0;let p=i.length,S=null,C=[];for(let I=0;I<p;++I){if((u=i.charCodeAt(I))>55295&&u<57344){if(!S){if(u>56319){(a-=3)>-1&&C.push(239,191,189);continue}if(I+1===p){(a-=3)>-1&&C.push(239,191,189);continue}S=u;continue}if(u<56320){(a-=3)>-1&&C.push(239,191,189),S=u;continue}u=65536+(S-55296<<10|u-56320)}else S&&(a-=3)>-1&&C.push(239,191,189);if(S=null,u<128){if((a-=1)<0)break;C.push(u)}else if(u<2048){if((a-=2)<0)break;C.push(u>>6|192,63&u|128)}else if(u<65536){if((a-=3)<0)break;C.push(u>>12|224,u>>6&63|128,63&u|128)}else{if(!(u<1114112))throw new Error("Invalid code point");if((a-=4)<0)break;C.push(u>>18|240,u>>12&63|128,u>>6&63|128,63&u|128)}}return C}function P(i){return s.toByteArray(function(a){if((a=(a=a.split("=")[0]).trim().replace(l,"")).length<2)return"";for(;a.length%4!=0;)a+="=";return a}(i))}function m(i,a,u,p){let S;for(S=0;S<p&&!(S+u>=a.length||S>=i.length);++S)a[S+u]=i[S];return S}function R(i,a){return i instanceof a||i!=null&&i.constructor!=null&&i.constructor.name!=null&&i.constructor.name===a.name}function X(i){return i!=i}let ue=function(){let i=new Array(256);for(let a=0;a<16;++a){let u=16*a;for(let p=0;p<16;++p)i[u+p]="0123456789abcdef"[a]+"0123456789abcdef"[p]}return i}();function le(i){return typeof BigInt>"u"?ie:i}function ie(){throw new Error("BigInt not supported")}}).call(this,e("buffer").Buffer)},{"base64-js":5,buffer:2,ieee754:6}],5:[function(e,t,r){"use strict";r.byteLength=function(A){var w=f(A),_=w[0],v=w[1];return 3*(_+v)/4-v},r.toByteArray=function(A){var w,_,v=f(A),B=v[0],O=v[1],x=new d(function(xe,Ve,Ie){return 3*(Ve+Ie)/4-Ie}(0,B,O)),J=0,ve=O>0?B-4:B;for(_=0;_<ve;_+=4)w=s[A.charCodeAt(_)]<<18|s[A.charCodeAt(_+1)]<<12|s[A.charCodeAt(_+2)]<<6|s[A.charCodeAt(_+3)],x[J++]=w>>16&255,x[J++]=w>>8&255,x[J++]=255&w;return O===2&&(w=s[A.charCodeAt(_)]<<2|s[A.charCodeAt(_+1)]>>4,x[J++]=255&w),O===1&&(w=s[A.charCodeAt(_)]<<10|s[A.charCodeAt(_+1)]<<4|s[A.charCodeAt(_+2)]>>2,x[J++]=w>>8&255,x[J++]=255&w),x},r.fromByteArray=function(A){for(var w,_=A.length,v=_%3,B=[],O=0,x=_-v;O<x;O+=16383)B.push(M(A,O,O+16383>x?x:O+16383));return v===1?(w=A[_-1],B.push(n[w>>2]+n[w<<4&63]+"==")):v===2&&(w=(A[_-2]<<8)+A[_-1],B.push(n[w>>10]+n[w>>4&63]+n[w<<2&63]+"=")),B.join("")};for(var n=[],s=[],d=typeof Uint8Array<"u"?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=0,h=y.length;T<h;++T)n[T]=y[T],s[y.charCodeAt(T)]=T;function f(A){var w=A.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=A.indexOf("=");return _===-1&&(_=w),[_,_===w?0:4-_%4]}function M(A,w,_){for(var v,B,O=[],x=w;x<_;x+=3)v=(A[x]<<16&16711680)+(A[x+1]<<8&65280)+(255&A[x+2]),O.push(n[(B=v)>>18&63]+n[B>>12&63]+n[B>>6&63]+n[63&B]);return O.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},{}],6:[function(e,t,r){r.read=function(n,s,d,y,T){var h,f,M=8*T-y-1,A=(1<<M)-1,w=A>>1,_=-7,v=d?T-1:0,B=d?-1:1,O=n[s+v];for(v+=B,h=O&(1<<-_)-1,O>>=-_,_+=M;_>0;h=256*h+n[s+v],v+=B,_-=8);for(f=h&(1<<-_)-1,h>>=-_,_+=y;_>0;f=256*f+n[s+v],v+=B,_-=8);if(h===0)h=1-w;else{if(h===A)return f?NaN:1/0*(O?-1:1);f+=Math.pow(2,y),h-=w}return(O?-1:1)*f*Math.pow(2,h-y)},r.write=function(n,s,d,y,T,h){var f,M,A,w=8*h-T-1,_=(1<<w)-1,v=_>>1,B=T===23?Math.pow(2,-24)-Math.pow(2,-77):0,O=y?0:h-1,x=y?1:-1,J=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(M=isNaN(s)?1:0,f=_):(f=Math.floor(Math.log(s)/Math.LN2),s*(A=Math.pow(2,-f))<1&&(f--,A*=2),(s+=f+v>=1?B/A:B*Math.pow(2,1-v))*A>=2&&(f++,A/=2),f+v>=_?(M=0,f=_):f+v>=1?(M=(s*A-1)*Math.pow(2,T),f+=v):(M=s*Math.pow(2,v-1)*Math.pow(2,T),f=0));T>=8;n[d+O]=255&M,O+=x,M/=256,T-=8);for(f=f<<T|M,w+=T;w>0;n[d+O]=255&f,O+=x,f/=256,w-=8);n[d+O-x]|=128*J}},{}]},{},[4])(4)})});var U,E=ca(()=>{U=uf(ga())});var Xi=V(zn=>{"use strict";b();E();Object.defineProperty(zn,"__esModule",{value:!0});zn.config=void 0;var Vf={network:{layer1:"placeholder"},logLevel:"debug"};zn.config=Vf});var Ta=V(F=>{"use strict";b();E();Object.defineProperty(F,"__esModule",{value:!0});F.PreconditionFailedError=F.PayloadTooLargeError=F.ValidationError=F.BadPathError=F.NotEnoughProofError=F.ConflictError=F.DoesNotExist=F.GaiaHubError=F.NoSessionDataError=F.InvalidStateError=F.FailedDecryptionError=F.SignatureVerificationError=F.LoginFailedError=F.InvalidAmountError=F.NotEnoughFundsError=F.InvalidDIDError=F.MissingParameterError=F.InvalidParameterError=F.BlockstackError=F.ERROR_CODES=void 0;F.ERROR_CODES={MISSING_PARAMETER:"missing_parameter",REMOTE_SERVICE_ERROR:"remote_service_error",INVALID_STATE:"invalid_state",NO_SESSION_DATA:"no_session_data",DOES_NOT_EXIST:"does_not_exist",FAILED_DECRYPTION_ERROR:"failed_decryption_error",INVALID_DID_ERROR:"invalid_did_error",NOT_ENOUGH_FUNDS_ERROR:"not_enough_error",INVALID_AMOUNT_ERROR:"invalid_amount_error",LOGIN_FAILED_ERROR:"login_failed",SIGNATURE_VERIFICATION_ERROR:"signature_verification_failure",CONFLICT_ERROR:"conflict_error",NOT_ENOUGH_PROOF_ERROR:"not_enough_proof_error",BAD_PATH_ERROR:"bad_path_error",VALIDATION_ERROR:"validation_error",PAYLOAD_TOO_LARGE_ERROR:"payload_too_large_error",PRECONDITION_FAILED_ERROR:"precondition_failed_error",UNKNOWN:"unknown"};Object.freeze(F.ERROR_CODES);var Qe=class extends Error{constructor(t){super();let r=t.message,n=`Error Code: ${t.code}`,s=this.stack;if(s)n+=`Stack Trace:
${s}`;else try{throw new Error}catch(d){s=d.stack}r+=`
If you believe this exception is caused by a bug in stacks.js,
      please file a bug report: https://github.com/blockstack/stacks.js/issues

${n}`,this.message=r,this.code=t.code,this.parameter=t.parameter?t.parameter:void 0}toString(){return`${super.toString()}
    code: ${this.code} param: ${this.parameter?this.parameter:"n/a"}`}};F.BlockstackError=Qe;var Yi=class extends Qe{constructor(t,r=""){super({code:F.ERROR_CODES.MISSING_PARAMETER,message:r,parameter:t}),this.name="MissingParametersError"}};F.InvalidParameterError=Yi;var Ji=class extends Qe{constructor(t,r=""){super({code:F.ERROR_CODES.MISSING_PARAMETER,message:r,parameter:t}),this.name="MissingParametersError"}};F.MissingParameterError=Ji;var Zi=class extends Qe{constructor(t=""){super({code:F.ERROR_CODES.INVALID_DID_ERROR,message:t}),this.name="InvalidDIDError"}};F.InvalidDIDError=Zi;var Qi=class extends Qe{constructor(t){let r=`Not enough UTXOs to fund. Left to fund: ${t}`;super({code:F.ERROR_CODES.NOT_ENOUGH_FUNDS_ERROR,message:r}),this.leftToFund=t,this.name="NotEnoughFundsError",this.message=r}};F.NotEnoughFundsError=Qi;var eo=class extends Qe{constructor(t,r){let n=`Not enough coin to fund fees transaction fees. Fees would be ${t}, specified spend is  ${r}`;super({code:F.ERROR_CODES.INVALID_AMOUNT_ERROR,message:n}),this.specifiedAmount=r,this.fees=t,this.name="InvalidAmountError",this.message=n}};F.InvalidAmountError=eo;var to=class extends Qe{constructor(t){let r=`Failed to login: ${t}`;super({code:F.ERROR_CODES.LOGIN_FAILED_ERROR,message:r}),this.message=r,this.name="LoginFailedError"}};F.LoginFailedError=to;var ro=class extends Qe{constructor(t){let r=`Failed to verify signature: ${t}`;super({code:F.ERROR_CODES.SIGNATURE_VERIFICATION_ERROR,message:r}),this.message=r,this.name="SignatureVerificationError"}};F.SignatureVerificationError=ro;var no=class extends Qe{constructor(t="Unable to decrypt cipher object."){super({code:F.ERROR_CODES.FAILED_DECRYPTION_ERROR,message:t}),this.message=t,this.name="FailedDecryptionError"}};F.FailedDecryptionError=no;var io=class extends Qe{constructor(t){super({code:F.ERROR_CODES.INVALID_STATE,message:t}),this.message=t,this.name="InvalidStateError"}};F.InvalidStateError=io;var oo=class extends Qe{constructor(t){super({code:F.ERROR_CODES.INVALID_STATE,message:t}),this.message=t,this.name="NoSessionDataError"}};F.NoSessionDataError=oo;var Et=class extends Qe{constructor(t,r){super(t),r&&(this.hubError={statusCode:r.status,statusText:r.statusText},typeof r.body=="string"?this.hubError.message=r.body:typeof r.body=="object"&&Object.assign(this.hubError,r.body))}};F.GaiaHubError=Et;var so=class extends Et{constructor(t,r){super({message:t,code:F.ERROR_CODES.DOES_NOT_EXIST},r),this.name="DoesNotExist"}};F.DoesNotExist=so;var ao=class extends Et{constructor(t,r){super({message:t,code:F.ERROR_CODES.CONFLICT_ERROR},r),this.name="ConflictError"}};F.ConflictError=ao;var co=class extends Et{constructor(t,r){super({message:t,code:F.ERROR_CODES.NOT_ENOUGH_PROOF_ERROR},r),this.name="NotEnoughProofError"}};F.NotEnoughProofError=co;var uo=class extends Et{constructor(t,r){super({message:t,code:F.ERROR_CODES.BAD_PATH_ERROR},r),this.name="BadPathError"}};F.BadPathError=uo;var lo=class extends Et{constructor(t,r){super({message:t,code:F.ERROR_CODES.VALIDATION_ERROR},r),this.name="ValidationError"}};F.ValidationError=lo;var fo=class extends Et{constructor(t,r,n){super({message:t,code:F.ERROR_CODES.PAYLOAD_TOO_LARGE_ERROR},r),this.name="PayloadTooLargeError",this.maxUploadByteSize=n}};F.PayloadTooLargeError=fo;var ho=class extends Et{constructor(t,r){super({message:t,code:F.ERROR_CODES.PRECONDITION_FAILED_ERROR},r),this.name="PreconditionFailedError"}};F.PreconditionFailedError=ho});var Ca=V(qn=>{"use strict";b();E();Object.defineProperty(qn,"__esModule",{value:!0});qn.Logger=void 0;var Df=Xi(),Sa=["debug","info","warn","error","none"],po={},kf={};for(let e=0;e<Sa.length;e++){let t=Sa[e];po[t]=e,kf[e]=t}var yo=class{static error(t){!this.shouldLog("error")||console.error(this.logMessage("error",t))}static warn(t){!this.shouldLog("warn")||console.warn(this.logMessage("warn",t))}static info(t){!this.shouldLog("info")||console.log(this.logMessage("info",t))}static debug(t){!this.shouldLog("debug")||console.log(this.logMessage("debug",t))}static logMessage(t,r){return`[${t.toUpperCase()}] ${r}`}static shouldLog(t){return po[Df.config.logLevel]<=po[t]}};qn.Logger=yo});var $n=V(Q=>{"use strict";b();E();Object.defineProperty(Q,"__esModule",{value:!0});Q.isInstance=Q.concatArray=Q.concatBytes=Q.toBytes=Q.octetsToBytes=Q.bytesToAscii=Q.asciiToBytes=Q.bytesToUtf8=Q.utf8ToBytes=Q.hexToBytes=Q.bytesToHex=Q.fromTwos=Q.toTwos=Q.bigIntToBytes=Q.hexToInt=Q.intToHex=Q.hexToBigInt=Q.with0x=Q.intToBigInt=Q.intToBytes=void 0;function Hf(e,t,r){return Ea(So(e,t),r)}Q.intToBytes=Hf;function So(e,t){let r=e;if(typeof r=="number"){if(!Number.isInteger(r))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");return BigInt(r)}if(typeof r=="string")if(r.toLowerCase().startsWith("0x")){let n=r.slice(2);n=n.padStart(n.length+n.length%2,"0"),r=Co(n)}else try{return BigInt(r)}catch(n){if(n instanceof SyntaxError)throw new RangeError(`Invalid value. String integer '${r}' is not finite.`)}if(typeof r=="bigint")return r;if(r instanceof Uint8Array)if(t){let n=_a(BigInt(`0x${go(r)}`),BigInt(r.byteLength*8));return BigInt(n.toString())}else return BigInt(`0x${go(r)}`);if(r!=null&&typeof r=="object"&&r.constructor.name==="BN")return BigInt(r.toString());throw new TypeError("Invalid value type. Must be a number, bigint, integer-string, hex-string, or Uint8Array.")}Q.intToBigInt=So;function Kf(e){return e.startsWith("0x")?e:`0x${e}`}Q.with0x=Kf;function Ff(e){if(typeof e!="string")throw new TypeError(`hexToBigInt: expected string, got ${typeof e}`);return BigInt(`0x${e}`)}Q.hexToBigInt=Ff;function ba(e,t=8){return(typeof e=="bigint"?e:So(e,!1)).toString(16).padStart(t*2,"0")}Q.intToHex=ba;function zf(e){return parseInt(e,16)}Q.hexToInt=zf;function Ea(e,t=16){let r=ba(e,t);return Co(r)}Q.bigIntToBytes=Ea;function qf(e,t){if(e<-(BigInt(1)<<t-BigInt(1))||(BigInt(1)<<t-BigInt(1))-BigInt(1)<e)throw`Unable to represent integer in width: ${t}`;return e>=BigInt(0)?BigInt(e):e+(BigInt(1)<<t)}Q.toTwos=qf;function $f(e,t){return e&BigInt(1)<<t}function _a(e,t){return $f(e,t-BigInt(1))?e-(BigInt(1)<<t):e}Q.fromTwos=_a;var jf=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function go(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r of e)t+=jf[r];return t}Q.bytesToHex=go;function Co(e){if(typeof e!="string")throw new TypeError(`hexToBytes: expected string, got ${typeof e}`);let t=e.length%2?`0${e}`:e,r=new Uint8Array(t.length/2);for(let n=0;n<r.length;n++){let s=n*2,d=t.slice(s,s+2),y=Number.parseInt(d,16);if(Number.isNaN(y)||y<0)throw new Error("Invalid byte sequence");r[n]=y}return r}Q.hexToBytes=Co;function ma(e){return new TextEncoder().encode(e)}Q.utf8ToBytes=ma;function Gf(e){return new TextDecoder().decode(e)}Q.bytesToUtf8=Gf;function Wf(e){let t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r)&255);return new Uint8Array(t)}Q.asciiToBytes=Wf;function Xf(e){return String.fromCharCode.apply(null,e)}Q.bytesToAscii=Xf;function Yf(e){return!Number.isInteger(e)||e<0||e>255}function To(e){if(e.some(Yf))throw new Error("Some values are invalid bytes.");return new Uint8Array(e)}Q.octetsToBytes=To;function Jf(e){if(typeof e=="string")return ma(e);if(e instanceof Uint8Array)return e;throw new TypeError(`Expected input type is (Uint8Array | string) but got (${typeof e})`)}Q.toBytes=Jf;function Pa(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];let t=e.reduce((n,s)=>n+s.length,0),r=new Uint8Array(t);for(let n=0,s=0;n<e.length;n++){let d=e[n];r.set(d,s),s+=d.length}return r}Q.concatBytes=Pa;function Zf(e){return Pa(...e.map(t=>typeof t=="number"?To([t]):t instanceof Array?To(t):t))}Q.concatArray=Zf;function Qf(e,t){return e instanceof t||e?.constructor?.name?.toLowerCase()===t.name}Q.isInstance=Qf});var Aa=V(et=>{"use strict";b();E();Object.defineProperty(et,"__esModule",{value:!0});et.BLOCKSTACK_DEFAULT_GAIA_HUB_URL=et.PRIVATE_KEY_UNCOMPRESSED_LENGTH=et.PRIVATE_KEY_COMPRESSED_LENGTH=et.TransactionVersion=et.ChainID=void 0;var ed;(function(e){e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet"})(ed=et.ChainID||(et.ChainID={}));var td;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(td=et.TransactionVersion||(et.TransactionVersion={}));et.PRIVATE_KEY_COMPRESSED_LENGTH=33;et.PRIVATE_KEY_UNCOMPRESSED_LENGTH=32;et.BLOCKSTACK_DEFAULT_GAIA_HUB_URL="https://hub.blockstack.org"});var wa=V($t=>{"use strict";b();E();Object.defineProperty($t,"__esModule",{value:!0});$t.signatureRsvToVrs=$t.signatureVrsToRsv=$t.parseRecoverableSignatureVrs=void 0;var rd=$n(),bo=32;function nd(e){if(e.length<bo*2*2+1)throw new Error("Invalid signature");let t=e.slice(0,2),r=e.slice(2,2+bo*2),n=e.slice(2+bo*2);return{recoveryId:(0,rd.hexToInt)(t),r,s:n}}$t.parseRecoverableSignatureVrs=nd;function id(e){return e.slice(2)+e.slice(0,2)}$t.signatureVrsToRsv=id;function od(e){return e.slice(-2)+e.slice(0,-2)}$t.signatureRsvToVrs=od});var Ia=V(jn=>{"use strict";b();E();Object.defineProperty(jn,"__esModule",{value:!0});jn.privateKeyToBytes=void 0;var sd=$n();function ad(e){let t=typeof e=="string"?(0,sd.hexToBytes)(e):e;if(t.length!=32&&t.length!=33)throw new Error(`Improperly formatted private-key. Private-key byte length should be 32 or 33. Length provided: ${t.length}`);if(t.length==33&&t[32]!==1)throw new Error("Improperly formatted private-key. 33 bytes indicate compressed key, but the last byte must be == 01");return t}jn.privateKeyToBytes=ad});var va=V(Se=>{"use strict";b();E();Object.defineProperty(Se,"__esModule",{value:!0});Se.writeUInt32LE=Se.readUInt32LE=Se.writeUInt32BE=Se.readUInt32BE=Se.writeUInt16LE=Se.readUInt16LE=Se.writeUInt8=Se.readUInt8=Se.writeUInt16BE=Se.readUInt16BE=Se.alloc=Se.equals=void 0;function cd(e,t){if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}Se.equals=cd;function ud(e,t){let r=new Uint8Array(e);for(let n=0;n<e;n++)r[n]=t;return r}Se.alloc=ud;function ld(e,t){return(e[t+0]<<8|e[t+1])>>>0}Se.readUInt16BE=ld;function fd(e,t,r){e[r+0]=t>>>8,e[r+1]=t>>>0}Se.writeUInt16BE=fd;function dd(e,t){return e[t]}Se.readUInt8=dd;function hd(e,t,r){e[r]=t}Se.writeUInt8=hd;function pd(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0}Se.readUInt16LE=pd;function yd(e,t,r){e[r+0]=t&255,t>>>=8,e[r+1]=t&255}Se.writeUInt16LE=yd;function gd(e,t){return e[t]*2**24+e[t+1]*2**16+e[t+2]*2**8+e[t+3]}Se.readUInt32BE=gd;function Td(e,t,r){e[r+3]=t,t>>>=8,e[r+2]=t,t>>>=8,e[r+1]=t,t>>>=8,e[r]=t}Se.writeUInt32BE=Td;function Sd(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0|e[t+2]<<16>>>0|e[t+3]<<24>>>0}Se.readUInt32LE=Sd;function Cd(e,t,r){e[r+0]=t&255,t>>>=8,e[r+1]=t&255,t>>>=8,e[r+2]=t&255,t>>>=8,e[r+3]=t&255}Se.writeUInt32LE=Cd});var ae=V(tt=>{"use strict";b();E();var bd=tt&&tt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jt=tt&&tt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&bd(t,e,r)};Object.defineProperty(tt,"__esModule",{value:!0});jt(Xi(),tt);jt(Ta(),tt);jt(Ca(),tt);jt($n(),tt);jt(Aa(),tt);jt(wa(),tt);jt(Ia(),tt);jt(va(),tt)});var Fe=V(K=>{"use strict";b();E();Object.defineProperty(K,"__esModule",{value:!0});K.TxRejectedReason=K.AssetType=K.NonFungibleConditionCode=K.FungibleConditionCode=K.PubKeyEncoding=K.AddressVersion=K.AddressHashMode=K.AuthType=K.PostConditionPrincipalID=K.PostConditionType=K.PostConditionMode=K.TransactionVersion=K.anchorModeFromNameOrValue=K.AnchorModeNames=K.AnchorMode=K.ClarityVersion=K.PayloadType=K.StacksMessageType=K.ChainID=K.DEFAULT_CORE_NODE_API_URL=K.MEMO_MAX_LENGTH_BYTES=K.UNCOMPRESSED_PUBKEY_LENGTH_BYTES=K.COMPRESSED_PUBKEY_LENGTH_BYTES=K.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES=K.DEFAULT_TRANSACTION_VERSION=K.DEFAULT_CHAIN_ID=K.COINBASE_BYTES_LENGTH=K.CLARITY_INT_BYTE_SIZE=K.CLARITY_INT_SIZE=K.MAX_STRING_LENGTH_BYTES=K.whenMessageType=void 0;var Gn;(function(e){e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet"})(Gn||(Gn={}));K.ChainID=Gn;var Ed=Gn.Mainnet;K.DEFAULT_CHAIN_ID=Ed;var _d=128;K.MAX_STRING_LENGTH_BYTES=_d;var md=128;K.CLARITY_INT_SIZE=md;var Pd=16;K.CLARITY_INT_BYTE_SIZE=Pd;var Ad=32;K.COINBASE_BYTES_LENGTH=Ad;var wd=65;K.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES=wd;var Id=32;K.COMPRESSED_PUBKEY_LENGTH_BYTES=Id;var vd=64;K.UNCOMPRESSED_PUBKEY_LENGTH_BYTES=vd;var Od=34;K.MEMO_MAX_LENGTH_BYTES=Od;var Bd="https://stacks-node-api.mainnet.stacks.co";K.DEFAULT_CORE_NODE_API_URL=Bd;var Eo;(function(e){e[e.Address=0]="Address",e[e.Principal=1]="Principal",e[e.LengthPrefixedString=2]="LengthPrefixedString",e[e.MemoString=3]="MemoString",e[e.AssetInfo=4]="AssetInfo",e[e.PostCondition=5]="PostCondition",e[e.PublicKey=6]="PublicKey",e[e.LengthPrefixedList=7]="LengthPrefixedList",e[e.Payload=8]="Payload",e[e.MessageSignature=9]="MessageSignature",e[e.StructuredDataSignature=10]="StructuredDataSignature",e[e.TransactionAuthField=11]="TransactionAuthField"})(Eo||(Eo={}));K.StacksMessageType=Eo;function Rd(e){return t=>t[e]}K.whenMessageType=Rd;var _o;(function(e){e[e.TokenTransfer=0]="TokenTransfer",e[e.SmartContract=1]="SmartContract",e[e.VersionedSmartContract=6]="VersionedSmartContract",e[e.ContractCall=2]="ContractCall",e[e.PoisonMicroblock=3]="PoisonMicroblock",e[e.Coinbase=4]="Coinbase",e[e.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient"})(_o||(_o={}));K.PayloadType=_o;var mo;(function(e){e[e.Clarity1=1]="Clarity1",e[e.Clarity2=2]="Clarity2"})(mo||(mo={}));K.ClarityVersion=mo;var ft;(function(e){e[e.OnChainOnly=1]="OnChainOnly",e[e.OffChainOnly=2]="OffChainOnly",e[e.Any=3]="Any"})(ft||(ft={}));K.AnchorMode=ft;var gn=["onChainOnly","offChainOnly","any"];K.AnchorModeNames=gn;var Oa={[gn[0]]:ft.OnChainOnly,[gn[1]]:ft.OffChainOnly,[gn[2]]:ft.Any,[ft.OnChainOnly]:ft.OnChainOnly,[ft.OffChainOnly]:ft.OffChainOnly,[ft.Any]:ft.Any};function Nd(e){if(e in Oa)return Oa[e];throw new Error(`Invalid anchor mode "${e}", must be one of: ${gn.join(", ")}`)}K.anchorModeFromNameOrValue=Nd;var Wn;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(Wn||(Wn={}));K.TransactionVersion=Wn;var Md=Wn.Mainnet;K.DEFAULT_TRANSACTION_VERSION=Md;var Po;(function(e){e[e.Allow=1]="Allow",e[e.Deny=2]="Deny"})(Po||(Po={}));K.PostConditionMode=Po;var Ao;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(Ao||(Ao={}));K.PostConditionType=Ao;var wo;(function(e){e[e.Standard=4]="Standard",e[e.Sponsored=5]="Sponsored"})(wo||(wo={}));K.AuthType=wo;var Io;(function(e){e[e.SerializeP2PKH=0]="SerializeP2PKH",e[e.SerializeP2SH=1]="SerializeP2SH",e[e.SerializeP2WPKH=2]="SerializeP2WPKH",e[e.SerializeP2WSH=3]="SerializeP2WSH"})(Io||(Io={}));K.AddressHashMode=Io;var vo;(function(e){e[e.MainnetSingleSig=22]="MainnetSingleSig",e[e.MainnetMultiSig=20]="MainnetMultiSig",e[e.TestnetSingleSig=26]="TestnetSingleSig",e[e.TestnetMultiSig=21]="TestnetMultiSig"})(vo||(vo={}));K.AddressVersion=vo;var Oo;(function(e){e[e.Compressed=0]="Compressed",e[e.Uncompressed=1]="Uncompressed"})(Oo||(Oo={}));K.PubKeyEncoding=Oo;var Bo;(function(e){e[e.Equal=1]="Equal",e[e.Greater=2]="Greater",e[e.GreaterEqual=3]="GreaterEqual",e[e.Less=4]="Less",e[e.LessEqual=5]="LessEqual"})(Bo||(Bo={}));K.FungibleConditionCode=Bo;var Ro;(function(e){e[e.Sends=16]="Sends",e[e.DoesNotSend=17]="DoesNotSend"})(Ro||(Ro={}));K.NonFungibleConditionCode=Ro;var No;(function(e){e[e.Origin=1]="Origin",e[e.Standard=2]="Standard",e[e.Contract=3]="Contract"})(No||(No={}));K.PostConditionPrincipalID=No;var Mo;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(Mo||(Mo={}));K.AssetType=Mo;var xo;(function(e){e.Serialization="Serialization",e.Deserialization="Deserialization",e.SignatureValidation="SignatureValidation",e.FeeTooLow="FeeTooLow",e.BadNonce="BadNonce",e.NotEnoughFunds="NotEnoughFunds",e.NoSuchContract="NoSuchContract",e.NoSuchPublicFunction="NoSuchPublicFunction",e.BadFunctionArgument="BadFunctionArgument",e.ContractAlreadyExists="ContractAlreadyExists",e.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",e.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",e.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",e.BadAddressVersionByte="BadAddressVersionByte",e.NoCoinbaseViaMempool="NoCoinbaseViaMempool",e.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",e.ServerFailureDatabase="ServerFailureDatabase",e.ServerFailureOther="ServerFailureOther"})(xo||(xo={}));K.TxRejectedReason=xo});var rt=V((MS,Ba)=>{b();E();Ba.exports=globalThis["ok-metax-crypto"]});var Lo=V(ze=>{"use strict";b();E();Object.defineProperty(ze,"__esModule",{value:!0});ze.c32decode=ze.c32normalize=ze.c32encode=ze.c32=void 0;var xd=ae();ze.c32="0123456789ABCDEFGHJKMNPQRSTVWXYZ";var Tn="0123456789abcdef";function Ld(e,t){if(!e.match(/^[0-9a-fA-F]*$/))throw new Error("Not a hex-encoded string");e.length%2!==0&&(e=`0${e}`),e=e.toLowerCase();let r=[],n=0;for(let T=e.length-1;T>=0;T--)if(n<4){let h=Tn.indexOf(e[T])>>n,f=0;T!==0&&(f=Tn.indexOf(e[T-1]));let M=1+n,A=f%(1<<M)<<5-M,w=ze.c32[h+A];n=M,r.unshift(w)}else n=0;let s=0;for(let T=0;T<r.length&&r[T]==="0";T++)s++;r=r.slice(s);let d=new TextDecoder().decode((0,xd.hexToBytes)(e)).match(/^\u0000*/),y=d?d[0].length:0;for(let T=0;T<y;T++)r.unshift(ze.c32[0]);if(t){let T=t-r.length;for(let h=0;h<T;h++)r.unshift(ze.c32[0])}return r.join("")}ze.c32encode=Ld;function Ra(e){return e.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}ze.c32normalize=Ra;function Ud(e,t){if(e=Ra(e),!e.match(`^[${ze.c32}]*$`))throw new Error("Not a c32-encoded string");let r=e.match(`^${ze.c32[0]}*`),n=r?r[0].length:0,s=[],d=0,y=0;for(let f=e.length-1;f>=0;f--){y===4&&(s.unshift(Tn[d]),y=0,d=0);let A=(ze.c32.indexOf(e[f])<<y)+d,w=Tn[A%16];if(y+=1,d=A>>4,d>1<<y)throw new Error("Panic error in decoding.");s.unshift(w)}s.unshift(Tn[d]),s.length%2===1&&s.unshift("0");let T=0;for(let f=0;f<s.length&&s[f]==="0";f++)T++;s=s.slice(T-T%2);let h=s.join("");for(let f=0;f<n;f++)h=`00${h}`;if(t){let f=t*2-h.length;for(let M=0;M<f;M+=2)h=`00${h}`}return h}ze.c32decode=Ud});var Uo=V(Ir=>{"use strict";b();E();Object.defineProperty(Ir,"__esModule",{value:!0});Ir.c32checkDecode=Ir.c32checkEncode=void 0;var Na=rt(),Ma=ae(),Sn=Lo();function xa(e){let t=Na.base.sha256(Na.base.sha256((0,Ma.hexToBytes)(e)));return(0,Ma.bytesToHex)(t.slice(0,4))}function Vd(e,t){if(e<0||e>=32)throw new Error("Invalid version (must be between 0 and 31)");if(!t.match(/^[0-9a-fA-F]*$/))throw new Error("Invalid data (not a hex string)");t=t.toLowerCase(),t.length%2!==0&&(t=`0${t}`);let r=e.toString(16);r.length===1&&(r=`0${r}`);let n=xa(`${r}${t}`),s=(0,Sn.c32encode)(`${t}${n}`);return`${Sn.c32[e]}${s}`}Ir.c32checkEncode=Vd;function Dd(e){e=(0,Sn.c32normalize)(e);let t=(0,Sn.c32decode)(e.slice(1)),r=e[0],n=Sn.c32.indexOf(r),s=t.slice(-8),d=n.toString(16);if(d.length===1&&(d=`0${d}`),xa(`${d}${t.substring(0,t.length-8)}`)!==s)throw new Error("Invalid c32check string: checksum mismatch");return[n,t.substring(0,t.length-8)]}Ir.c32checkDecode=Dd});var Ua=V((FS,La)=>{"use strict";b();E();function kd(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),d=s.charCodeAt(0);if(t[d]!==255)throw new TypeError(s+" is ambiguous");t[d]=n}var y=e.length,T=e.charAt(0),h=Math.log(y)/Math.log(256),f=Math.log(256)/Math.log(y);function M(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var v=0,B=0,O=0,x=_.length;O!==x&&_[O]===0;)O++,v++;for(var J=(x-O)*f+1>>>0,ve=new Uint8Array(J);O!==x;){for(var xe=_[O],Ve=0,Ie=J-1;(xe!==0||Ve<B)&&Ie!==-1;Ie--,Ve++)xe+=256*ve[Ie]>>>0,ve[Ie]=xe%y>>>0,xe=xe/y>>>0;if(xe!==0)throw new Error("Non-zero carry");B=Ve,O++}for(var ot=J-B;ot!==J&&ve[ot]===0;)ot++;for(var Kt=T.repeat(v);ot<J;++ot)Kt+=e.charAt(ve[ot]);return Kt}function A(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;for(var v=0,B=0,O=0;_[v]===T;)B++,v++;for(var x=(_.length-v)*h+1>>>0,J=new Uint8Array(x);_[v];){var ve=t[_.charCodeAt(v)];if(ve===255)return;for(var xe=0,Ve=x-1;(ve!==0||xe<O)&&Ve!==-1;Ve--,xe++)ve+=y*J[Ve]>>>0,J[Ve]=ve%256>>>0,ve=ve/256>>>0;if(ve!==0)throw new Error("Non-zero carry");O=xe,v++}for(var Ie=x-O;Ie!==x&&J[Ie]===0;)Ie++;for(var ot=new Uint8Array(B+(x-Ie)),Kt=B;Ie!==x;)ot[Kt++]=J[Ie++];return ot}function w(_){var v=A(_);if(v)return v;throw new Error("Non-base"+y+" character")}return{encode:M,decodeUnsafe:A,decode:w}}La.exports=kd});var Ha=V(Gt=>{"use strict";b();E();var Hd=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.decode=Gt.encode=void 0;var Xn=rt(),Va=ae(),Da=Hd(Ua()),ka="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";function Kd(e,t="00"){let r=typeof e=="string"?(0,Va.hexToBytes)(e):e,n=typeof t=="string"?(0,Va.hexToBytes)(t):e;if(!(r instanceof Uint8Array)||!(n instanceof Uint8Array))throw new TypeError("Argument must be of type Uint8Array or string");let s=Xn.base.sha256(Xn.base.sha256(new Uint8Array([...n,...r])));return(0,Da.default)(ka).encode([...n,...r,...s.slice(0,4)])}Gt.encode=Kd;function Fd(e){let t=(0,Da.default)(ka).decode(e),r=t.slice(0,1),n=t.slice(1,-4),s=Xn.base.sha256(Xn.base.sha256(new Uint8Array([...r,...n])));return t.slice(-4).forEach((d,y)=>{if(d!==s[y])throw new Error("Invalid checksum")}),{prefix:r,data:n}}Gt.decode=Fd});var ja=V(Ce=>{"use strict";b();E();var zd=Ce&&Ce.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qd=Ce&&Ce.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$d=Ce&&Ce.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&zd(t,e,r);return qd(t,e),t};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.c32ToB58=Ce.b58ToC32=Ce.c32addressDecode=Ce.c32address=Ce.versions=void 0;var Fa=Uo(),za=$d(Ha()),Ka=ae();Ce.versions={mainnet:{p2pkh:22,p2sh:20},testnet:{p2pkh:26,p2sh:21}};var vr={};vr[0]=Ce.versions.mainnet.p2pkh;vr[5]=Ce.versions.mainnet.p2sh;vr[111]=Ce.versions.testnet.p2pkh;vr[196]=Ce.versions.testnet.p2sh;var Or={};Or[Ce.versions.mainnet.p2pkh]=0;Or[Ce.versions.mainnet.p2sh]=5;Or[Ce.versions.testnet.p2pkh]=111;Or[Ce.versions.testnet.p2sh]=196;function qa(e,t){if(!t.match(/^[0-9a-fA-F]{40}$/))throw new Error("Invalid argument: not a hash160 hex string");return`S${(0,Fa.c32checkEncode)(e,t)}`}Ce.c32address=qa;function $a(e){if(e.length<=5)throw new Error("Invalid c32 address: invalid length");if(e[0]!="S")throw new Error('Invalid c32 address: must start with "S"');return(0,Fa.c32checkDecode)(e.slice(1))}Ce.c32addressDecode=$a;function jd(e,t=-1){let r=za.decode(e),n=(0,Ka.bytesToHex)(r.data),s=parseInt((0,Ka.bytesToHex)(r.prefix),16),d;return t<0?(d=s,vr[s]!==void 0&&(d=vr[s])):d=t,qa(d,n)}Ce.b58ToC32=jd;function Gd(e,t=-1){let r=$a(e),n=r[0],s=r[1],d;t<0?(d=n,Or[n]!==void 0&&(d=Or[n])):d=t;let y=d.toString(16);return y.length===1&&(y=`0${y}`),za.encode(s,y)}Ce.c32ToB58=Gd});var Br=V(Oe=>{"use strict";b();E();Object.defineProperty(Oe,"__esModule",{value:!0});Oe.b58ToC32=Oe.c32ToB58=Oe.versions=Oe.c32normalize=Oe.c32addressDecode=Oe.c32address=Oe.c32checkDecode=Oe.c32checkEncode=Oe.c32decode=Oe.c32encode=void 0;var Vo=Lo();Object.defineProperty(Oe,"c32encode",{enumerable:!0,get:function(){return Vo.c32encode}});Object.defineProperty(Oe,"c32decode",{enumerable:!0,get:function(){return Vo.c32decode}});Object.defineProperty(Oe,"c32normalize",{enumerable:!0,get:function(){return Vo.c32normalize}});var Ga=Uo();Object.defineProperty(Oe,"c32checkEncode",{enumerable:!0,get:function(){return Ga.c32checkEncode}});Object.defineProperty(Oe,"c32checkDecode",{enumerable:!0,get:function(){return Ga.c32checkDecode}});var Cn=ja();Object.defineProperty(Oe,"c32address",{enumerable:!0,get:function(){return Cn.c32address}});Object.defineProperty(Oe,"c32addressDecode",{enumerable:!0,get:function(){return Cn.c32addressDecode}});Object.defineProperty(Oe,"c32ToB58",{enumerable:!0,get:function(){return Cn.c32ToB58}});Object.defineProperty(Oe,"b58ToC32",{enumerable:!0,get:function(){return Cn.b58ToC32}});Object.defineProperty(Oe,"versions",{enumerable:!0,get:function(){return Cn.versions}})});var Lc=V((bn,Rr)=>{"use strict";b();E();var Wd=200,oc="__lodash_hash_undefined__",sc=9007199254740991,$o="[object Arguments]",Xd="[object Array]",ac="[object Boolean]",cc="[object Date]",Yd="[object Error]",jo="[object Function]",uc="[object GeneratorFunction]",Yn="[object Map]",lc="[object Number]",Go="[object Object]",Wa="[object Promise]",fc="[object RegExp]",Jn="[object Set]",dc="[object String]",hc="[object Symbol]",ko="[object WeakMap]",pc="[object ArrayBuffer]",Zn="[object DataView]",yc="[object Float32Array]",gc="[object Float64Array]",Tc="[object Int8Array]",Sc="[object Int16Array]",Cc="[object Int32Array]",bc="[object Uint8Array]",Ec="[object Uint8ClampedArray]",_c="[object Uint16Array]",mc="[object Uint32Array]",Jd=/[\\^$.*+?()[\]{}|]/g,Zd=/\w*$/,Qd=/^\[object .+?Constructor\]$/,eh=/^(?:0|[1-9]\d*)$/,be={};be[$o]=be[Xd]=be[pc]=be[Zn]=be[ac]=be[cc]=be[yc]=be[gc]=be[Tc]=be[Sc]=be[Cc]=be[Yn]=be[lc]=be[Go]=be[fc]=be[Jn]=be[dc]=be[hc]=be[bc]=be[Ec]=be[_c]=be[mc]=!0;be[Yd]=be[jo]=be[ko]=!1;var th=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,rh=typeof self=="object"&&self&&self.Object===Object&&self,Nt=th||rh||Function("return this")(),Pc=typeof bn=="object"&&bn&&!bn.nodeType&&bn,Xa=Pc&&typeof Rr=="object"&&Rr&&!Rr.nodeType&&Rr,nh=Xa&&Xa.exports===Pc;function ih(e,t){return e.set(t[0],t[1]),e}function oh(e,t){return e.add(t),e}function sh(e,t){for(var r=-1,n=e?e.length:0;++r<n&&t(e[r],r,e)!==!1;);return e}function ah(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}function Ac(e,t,r,n){var s=-1,d=e?e.length:0;for(n&&d&&(r=e[++s]);++s<d;)r=t(r,e[s],s,e);return r}function ch(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function uh(e,t){return e?.[t]}function wc(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function Ya(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}function Wo(e,t){return function(r){return e(t(r))}}function Ja(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var lh=Array.prototype,fh=Function.prototype,Qn=Object.prototype,Do=Nt["__core-js_shared__"],Za=function(){var e=/[^.]+$/.exec(Do&&Do.keys&&Do.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ic=fh.toString,Wt=Qn.hasOwnProperty,ei=Qn.toString,dh=RegExp("^"+Ic.call(Wt).replace(Jd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qa=nh?Nt.Buffer:void 0,ec=Nt.Symbol,tc=Nt.Uint8Array,hh=Wo(Object.getPrototypeOf,Object),ph=Object.create,yh=Qn.propertyIsEnumerable,gh=lh.splice,rc=Object.getOwnPropertySymbols,Th=Qa?Qa.isBuffer:void 0,Sh=Wo(Object.keys,Object),Ho=xr(Nt,"DataView"),En=xr(Nt,"Map"),Ko=xr(Nt,"Promise"),Fo=xr(Nt,"Set"),zo=xr(Nt,"WeakMap"),_n=xr(Object,"create"),Ch=yr(Ho),bh=yr(En),Eh=yr(Ko),_h=yr(Fo),mh=yr(zo),nc=ec?ec.prototype:void 0,ic=nc?nc.valueOf:void 0;function pr(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ph(){this.__data__=_n?_n(null):{}}function Ah(e){return this.has(e)&&delete this.__data__[e]}function wh(e){var t=this.__data__;if(_n){var r=t[e];return r===oc?void 0:r}return Wt.call(t,e)?t[e]:void 0}function Ih(e){var t=this.__data__;return _n?t[e]!==void 0:Wt.call(t,e)}function vh(e,t){var r=this.__data__;return r[e]=_n&&t===void 0?oc:t,this}pr.prototype.clear=Ph;pr.prototype.delete=Ah;pr.prototype.get=wh;pr.prototype.has=Ih;pr.prototype.set=vh;function Mt(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Oh(){this.__data__=[]}function Bh(e){var t=this.__data__,r=ti(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():gh.call(t,r,1),!0}function Rh(e){var t=this.__data__,r=ti(t,e);return r<0?void 0:t[r][1]}function Nh(e){return ti(this.__data__,e)>-1}function Mh(e,t){var r=this.__data__,n=ti(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}Mt.prototype.clear=Oh;Mt.prototype.delete=Bh;Mt.prototype.get=Rh;Mt.prototype.has=Nh;Mt.prototype.set=Mh;function Nr(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function xh(){this.__data__={hash:new pr,map:new(En||Mt),string:new pr}}function Lh(e){return ri(this,e).delete(e)}function Uh(e){return ri(this,e).get(e)}function Vh(e){return ri(this,e).has(e)}function Dh(e,t){return ri(this,e).set(e,t),this}Nr.prototype.clear=xh;Nr.prototype.delete=Lh;Nr.prototype.get=Uh;Nr.prototype.has=Vh;Nr.prototype.set=Dh;function Mr(e){this.__data__=new Mt(e)}function kh(){this.__data__=new Mt}function Hh(e){return this.__data__.delete(e)}function Kh(e){return this.__data__.get(e)}function Fh(e){return this.__data__.has(e)}function zh(e,t){var r=this.__data__;if(r instanceof Mt){var n=r.__data__;if(!En||n.length<Wd-1)return n.push([e,t]),this;r=this.__data__=new Nr(n)}return r.set(e,t),this}Mr.prototype.clear=kh;Mr.prototype.delete=Hh;Mr.prototype.get=Kh;Mr.prototype.has=Fh;Mr.prototype.set=zh;function qh(e,t){var r=Yo(e)||pp(e)?ch(e.length,String):[],n=r.length,s=!!n;for(var d in e)(t||Wt.call(e,d))&&!(s&&(d=="length"||lp(d,n)))&&r.push(d);return r}function vc(e,t,r){var n=e[t];(!(Wt.call(e,t)&&Nc(n,r))||r===void 0&&!(t in e))&&(e[t]=r)}function ti(e,t){for(var r=e.length;r--;)if(Nc(e[r][0],t))return r;return-1}function $h(e,t){return e&&Oc(t,Jo(t),e)}function qo(e,t,r,n,s,d,y){var T;if(n&&(T=d?n(e,s,d,y):n(e)),T!==void 0)return T;if(!ni(e))return e;var h=Yo(e);if(h){if(T=ap(e),!t)return ip(e,T)}else{var f=hr(e),M=f==jo||f==uc;if(gp(e))return Jh(e,t);if(f==Go||f==$o||M&&!d){if(wc(e))return d?e:{};if(T=cp(M?{}:e),!t)return op(e,$h(T,e))}else{if(!be[f])return d?e:{};T=up(e,f,qo,t)}}y||(y=new Mr);var A=y.get(e);if(A)return A;if(y.set(e,T),!h)var w=r?sp(e):Jo(e);return sh(w||e,function(_,v){w&&(v=_,_=e[v]),vc(T,v,qo(_,t,r,n,v,e,y))}),T}function jh(e){return ni(e)?ph(e):{}}function Gh(e,t,r){var n=t(e);return Yo(e)?n:ah(n,r(e))}function Wh(e){return ei.call(e)}function Xh(e){if(!ni(e)||dp(e))return!1;var t=xc(e)||wc(e)?dh:Qd;return t.test(yr(e))}function Yh(e){if(!Rc(e))return Sh(e);var t=[];for(var r in Object(e))Wt.call(e,r)&&r!="constructor"&&t.push(r);return t}function Jh(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}function Xo(e){var t=new e.constructor(e.byteLength);return new tc(t).set(new tc(e)),t}function Zh(e,t){var r=t?Xo(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function Qh(e,t,r){var n=t?r(Ya(e),!0):Ya(e);return Ac(n,ih,new e.constructor)}function ep(e){var t=new e.constructor(e.source,Zd.exec(e));return t.lastIndex=e.lastIndex,t}function tp(e,t,r){var n=t?r(Ja(e),!0):Ja(e);return Ac(n,oh,new e.constructor)}function rp(e){return ic?Object(ic.call(e)):{}}function np(e,t){var r=t?Xo(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function ip(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function Oc(e,t,r,n){r||(r={});for(var s=-1,d=t.length;++s<d;){var y=t[s],T=n?n(r[y],e[y],y,r,e):void 0;vc(r,y,T===void 0?e[y]:T)}return r}function op(e,t){return Oc(e,Bc(e),t)}function sp(e){return Gh(e,Jo,Bc)}function ri(e,t){var r=e.__data__;return fp(t)?r[typeof t=="string"?"string":"hash"]:r.map}function xr(e,t){var r=uh(e,t);return Xh(r)?r:void 0}var Bc=rc?Wo(rc,Object):Cp,hr=Wh;(Ho&&hr(new Ho(new ArrayBuffer(1)))!=Zn||En&&hr(new En)!=Yn||Ko&&hr(Ko.resolve())!=Wa||Fo&&hr(new Fo)!=Jn||zo&&hr(new zo)!=ko)&&(hr=function(e){var t=ei.call(e),r=t==Go?e.constructor:void 0,n=r?yr(r):void 0;if(n)switch(n){case Ch:return Zn;case bh:return Yn;case Eh:return Wa;case _h:return Jn;case mh:return ko}return t});function ap(e){var t=e.length,r=e.constructor(t);return t&&typeof e[0]=="string"&&Wt.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function cp(e){return typeof e.constructor=="function"&&!Rc(e)?jh(hh(e)):{}}function up(e,t,r,n){var s=e.constructor;switch(t){case pc:return Xo(e);case ac:case cc:return new s(+e);case Zn:return Zh(e,n);case yc:case gc:case Tc:case Sc:case Cc:case bc:case Ec:case _c:case mc:return np(e,n);case Yn:return Qh(e,n,r);case lc:case dc:return new s(e);case fc:return ep(e);case Jn:return tp(e,n,r);case hc:return rp(e)}}function lp(e,t){return t=t??sc,!!t&&(typeof e=="number"||eh.test(e))&&e>-1&&e%1==0&&e<t}function fp(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function dp(e){return!!Za&&Za in e}function Rc(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Qn;return e===r}function yr(e){if(e!=null){try{return Ic.call(e)}catch{}try{return e+""}catch{}}return""}function hp(e){return qo(e,!0,!0)}function Nc(e,t){return e===t||e!==e&&t!==t}function pp(e){return yp(e)&&Wt.call(e,"callee")&&(!yh.call(e,"callee")||ei.call(e)==$o)}var Yo=Array.isArray;function Mc(e){return e!=null&&Tp(e.length)&&!xc(e)}function yp(e){return Sp(e)&&Mc(e)}var gp=Th||bp;function xc(e){var t=ni(e)?ei.call(e):"";return t==jo||t==uc}function Tp(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=sc}function ni(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Sp(e){return!!e&&typeof e=="object"}function Jo(e){return Mc(e)?qh(e):Yh(e)}function Cp(){return[]}function bp(){return!1}Rr.exports=hp});var Lr=V(_t=>{"use strict";b();E();Object.defineProperty(_t,"__esModule",{value:!0});_t.addressToString=_t.addressFromVersionHash=_t.addressHashModeToVersion=_t.createMessageSignature=void 0;var We=Fe(),Ep=Br(),_p=ae();function mp(e){if((0,_p.hexToBytes)(e).byteLength!=We.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES)throw Error("Invalid signature");return{type:We.StacksMessageType.MessageSignature,data:e}}_t.createMessageSignature=mp;function Pp(e,t){switch(e){case We.AddressHashMode.SerializeP2PKH:switch(t){case We.TransactionVersion.Mainnet:return We.AddressVersion.MainnetSingleSig;case We.TransactionVersion.Testnet:return We.AddressVersion.TestnetSingleSig;default:throw new Error(`Unexpected txVersion ${JSON.stringify(t)} for hashMode ${e}`)}case We.AddressHashMode.SerializeP2SH:case We.AddressHashMode.SerializeP2WPKH:case We.AddressHashMode.SerializeP2WSH:switch(t){case We.TransactionVersion.Mainnet:return We.AddressVersion.MainnetMultiSig;case We.TransactionVersion.Testnet:return We.AddressVersion.TestnetMultiSig;default:throw new Error(`Unexpected txVersion ${JSON.stringify(t)} for hashMode ${e}`)}default:throw new Error(`Unexpected hashMode ${JSON.stringify(e)}`)}}_t.addressHashModeToVersion=Pp;function Ap(e,t){return{type:We.StacksMessageType.Address,version:e,hash160:t}}_t.addressFromVersionHash=Ap;function wp(e){return(0,Ep.c32address)(e.version,e.hash160)}_t.addressToString=wp});var xt=V(qe=>{"use strict";b();E();Object.defineProperty(qe,"__esModule",{value:!0});qe.createStandardPrincipal=qe.createContractPrincipal=qe.parsePrincipalString=qe.createAddress=qe.createAssetInfo=qe.createLPString=qe.parseAssetInfoString=void 0;var Xt=Fe(),Ip=Br(),vp=gt();function Op(e){let[t,r,n]=e.split(/\.|::/);return Uc(t,r,n)}qe.parseAssetInfoString=Op;function ii(e,t,r){let n=t||1,s=r||Xt.MAX_STRING_LENGTH_BYTES;if((0,vp.exceedsMaxLengthBytes)(e,s))throw new Error(`String length exceeds maximum bytes ${s}`);return{type:Xt.StacksMessageType.LengthPrefixedString,content:e,lengthPrefixBytes:n,maxLengthBytes:s}}qe.createLPString=ii;function Uc(e,t,r){return{type:Xt.StacksMessageType.AssetInfo,address:oi(e),contractName:ii(t),assetName:ii(r)}}qe.createAssetInfo=Uc;function oi(e){let t=(0,Ip.c32addressDecode)(e);return{type:Xt.StacksMessageType.Address,version:t[0],hash160:t[1]}}qe.createAddress=oi;function Bp(e){if(e.includes(".")){let[t,r]=e.split(".");return Vc(t,r)}else return Dc(e)}qe.parsePrincipalString=Bp;function Vc(e,t){let r=oi(e),n=ii(t);return{type:Xt.StacksMessageType.Principal,prefix:Xt.PostConditionPrincipalID.Contract,address:r,contractName:n}}qe.createContractPrincipal=Vc;function Dc(e){let t=oi(e);return{type:Xt.StacksMessageType.Principal,prefix:Xt.PostConditionPrincipalID.Standard,address:t}}qe.createStandardPrincipal=Dc});var st=V(mn=>{"use strict";b();E();Object.defineProperty(mn,"__esModule",{value:!0});mn.ClarityType=void 0;var Rp;(function(e){e[e.Int=0]="Int",e[e.UInt=1]="UInt",e[e.Buffer=2]="Buffer",e[e.BoolTrue=3]="BoolTrue",e[e.BoolFalse=4]="BoolFalse",e[e.PrincipalStandard=5]="PrincipalStandard",e[e.PrincipalContract=6]="PrincipalContract",e[e.ResponseOk=7]="ResponseOk",e[e.ResponseErr=8]="ResponseErr",e[e.OptionalNone=9]="OptionalNone",e[e.OptionalSome=10]="OptionalSome",e[e.List=11]="List",e[e.Tuple=12]="Tuple",e[e.StringASCII=13]="StringASCII",e[e.StringUTF8=14]="StringUTF8"})(Rp=mn.ClarityType||(mn.ClarityType={}))});var ai=V($e=>{"use strict";b();E();Object.defineProperty($e,"__esModule",{value:!0});$e.contractPrincipalCVFromStandard=$e.contractPrincipalCVFromAddress=$e.contractPrincipalCV=$e.standardPrincipalCVFromAddress=$e.standardPrincipalCV=$e.principalToString=$e.principalCV=void 0;var Np=ae(),kc=Lr(),si=xt(),Ur=st();function Mp(e){if(e.type===Ur.ClarityType.PrincipalStandard)return(0,kc.addressToString)(e.address);if(e.type===Ur.ClarityType.PrincipalContract)return`${(0,kc.addressToString)(e.address)}.${e.contractName.content}`;throw new Error(`Unexpected principal data: ${JSON.stringify(e)}`)}$e.principalToString=Mp;function xp(e){if(e.includes(".")){let[t,r]=e.split(".");return Kc(t,r)}else return Hc(e)}$e.principalCV=xp;function Hc(e){let t=(0,si.createAddress)(e);return{type:Ur.ClarityType.PrincipalStandard,address:t}}$e.standardPrincipalCV=Hc;function Lp(e){return{type:Ur.ClarityType.PrincipalStandard,address:e}}$e.standardPrincipalCVFromAddress=Lp;function Kc(e,t){let r=(0,si.createAddress)(e),n=(0,si.createLPString)(t);return Fc(r,n)}$e.contractPrincipalCV=Kc;function Fc(e,t){if((0,Np.utf8ToBytes)(t.content).byteLength>=128)throw new Error("Contract name must be less than 128 bytes");return{type:Ur.ClarityType.PrincipalContract,address:e,contractName:t}}$e.contractPrincipalCVFromAddress=Fc;function Up(e,t){let r=(0,si.createLPString)(t);return{type:Ur.ClarityType.PrincipalContract,address:e.address,contractName:r}}$e.contractPrincipalCVFromStandard=Up});var qc=V(mt=>{"use strict";b();E();Object.defineProperty(mt,"__esModule",{value:!0});mt.getCVTypeString=mt.cvToJSON=mt.cvToValue=mt.cvToString=void 0;var zc=ai(),G=st(),Pn=ae();function Vr(e,t="hex"){switch(e.type){case G.ClarityType.BoolTrue:return"true";case G.ClarityType.BoolFalse:return"false";case G.ClarityType.Int:return e.value.toString();case G.ClarityType.UInt:return`u${e.value.toString()}`;case G.ClarityType.Buffer:if(t==="tryAscii"){let r=(0,Pn.bytesToAscii)(e.buffer);if(/[ -~]/.test(r))return JSON.stringify(r)}return`0x${(0,Pn.bytesToHex)(e.buffer)}`;case G.ClarityType.OptionalNone:return"none";case G.ClarityType.OptionalSome:return`(some ${Vr(e.value,t)})`;case G.ClarityType.ResponseErr:return`(err ${Vr(e.value,t)})`;case G.ClarityType.ResponseOk:return`(ok ${Vr(e.value,t)})`;case G.ClarityType.PrincipalStandard:case G.ClarityType.PrincipalContract:return(0,zc.principalToString)(e);case G.ClarityType.List:return`(list ${e.list.map(r=>Vr(r,t)).join(" ")})`;case G.ClarityType.Tuple:return`(tuple ${Object.keys(e.data).map(r=>`(${r} ${Vr(e.data[r],t)})`).join(" ")})`;case G.ClarityType.StringASCII:return`"${e.data}"`;case G.ClarityType.StringUTF8:return`u"${e.data}"`}}mt.cvToString=Vr;function ci(e,t=!1){switch(e.type){case G.ClarityType.BoolTrue:return!0;case G.ClarityType.BoolFalse:return!1;case G.ClarityType.Int:case G.ClarityType.UInt:return t?e.value.toString():e.value;case G.ClarityType.Buffer:return`0x${(0,Pn.bytesToHex)(e.buffer)}`;case G.ClarityType.OptionalNone:return null;case G.ClarityType.OptionalSome:return Dr(e.value);case G.ClarityType.ResponseErr:return Dr(e.value);case G.ClarityType.ResponseOk:return Dr(e.value);case G.ClarityType.PrincipalStandard:case G.ClarityType.PrincipalContract:return(0,zc.principalToString)(e);case G.ClarityType.List:return e.list.map(n=>Dr(n));case G.ClarityType.Tuple:let r={};return Object.keys(e.data).forEach(n=>{r[n]=Dr(e.data[n])}),r;case G.ClarityType.StringASCII:return e.data;case G.ClarityType.StringUTF8:return e.data}}mt.cvToValue=ci;function Dr(e){switch(e.type){case G.ClarityType.ResponseErr:return{type:Lt(e),value:ci(e,!0),success:!1};case G.ClarityType.ResponseOk:return{type:Lt(e),value:ci(e,!0),success:!0};default:return{type:Lt(e),value:ci(e,!0)}}}mt.cvToJSON=Dr;function Lt(e){switch(e.type){case G.ClarityType.BoolTrue:case G.ClarityType.BoolFalse:return"bool";case G.ClarityType.Int:return"int";case G.ClarityType.UInt:return"uint";case G.ClarityType.Buffer:return`(buff ${e.buffer.length})`;case G.ClarityType.OptionalNone:return"(optional none)";case G.ClarityType.OptionalSome:return`(optional ${Lt(e.value)})`;case G.ClarityType.ResponseErr:return`(response UnknownType ${Lt(e.value)})`;case G.ClarityType.ResponseOk:return`(response ${Lt(e.value)} UnknownType)`;case G.ClarityType.PrincipalStandard:case G.ClarityType.PrincipalContract:return"principal";case G.ClarityType.List:return`(list ${e.list.length} ${e.list.length?Lt(e.list[0]):"UnknownType"})`;case G.ClarityType.Tuple:return`(tuple ${Object.keys(e.data).map(t=>`(${t} ${Lt(e.data[t])})`).join(" ")})`;case G.ClarityType.StringASCII:return`(string-ascii ${(0,Pn.asciiToBytes)(e.data).length})`;case G.ClarityType.StringUTF8:return`(string-utf8 ${(0,Pn.utf8ToBytes)(e.data).length})`}}mt.getCVTypeString=Lt});var Wc=V(Yt=>{"use strict";b();E();Object.defineProperty(Yt,"__esModule",{value:!0});Yt.falseCV=Yt.trueCV=Yt.boolCV=void 0;var $c=st(),jc=()=>({type:$c.ClarityType.BoolTrue});Yt.trueCV=jc;var Gc=()=>({type:$c.ClarityType.BoolFalse});Yt.falseCV=Gc;var Vp=e=>e?jc():Gc();Yt.boolCV=Vp});var eu=V(kr=>{"use strict";b();E();Object.defineProperty(kr,"__esModule",{value:!0});kr.uintCV=kr.intCV=void 0;var Zc=ae(),Qc=st(),Xc=BigInt("0xffffffffffffffffffffffffffffffff"),Dp=BigInt(0),Yc=BigInt("0x7fffffffffffffffffffffffffffffff"),Jc=BigInt("-170141183460469231731687303715884105728"),kp=e=>{let t=(0,Zc.intToBigInt)(e,!0);if(t>Yc)throw new RangeError(`Cannot construct clarity integer from value greater than ${Yc}`);if(t<Jc)throw new RangeError(`Cannot construct clarity integer form value less than ${Jc}`);return{type:Qc.ClarityType.Int,value:t}};kr.intCV=kp;var Hp=e=>{let t=(0,Zc.intToBigInt)(e,!1);if(t<Dp)throw new RangeError("Cannot construct unsigned clarity integer from negative value");if(t>Xc)throw new RangeError(`Cannot construct unsigned clarity integer greater than ${Xc}`);return{type:Qc.ClarityType.UInt,value:t}};kr.uintCV=Hp});var ru=V(Hr=>{"use strict";b();E();Object.defineProperty(Hr,"__esModule",{value:!0});Hr.bufferCVFromString=Hr.bufferCV=void 0;var Kp=ae(),Fp=st(),tu=e=>{if(e.length>1e6)throw new Error("Cannot construct clarity buffer that is greater than 1MB");return{type:Fp.ClarityType.Buffer,buffer:e}};Hr.bufferCV=tu;var zp=e=>tu((0,Kp.utf8ToBytes)(e));Hr.bufferCVFromString=zp});var su=V(Jt=>{"use strict";b();E();Object.defineProperty(Jt,"__esModule",{value:!0});Jt.optionalCVOf=Jt.someCV=Jt.noneCV=void 0;var nu=st();function iu(){return{type:nu.ClarityType.OptionalNone}}Jt.noneCV=iu;function ou(e){return{type:nu.ClarityType.OptionalSome,value:e}}Jt.someCV=ou;function qp(e){return e?ou(e):iu()}Jt.optionalCVOf=qp});var cu=V(Kr=>{"use strict";b();E();Object.defineProperty(Kr,"__esModule",{value:!0});Kr.responseOkCV=Kr.responseErrorCV=void 0;var au=st();function $p(e){return{type:au.ClarityType.ResponseErr,value:e}}Kr.responseErrorCV=$p;function jp(e){return{type:au.ClarityType.ResponseOk,value:e}}Kr.responseOkCV=jp});var uu=V(ui=>{"use strict";b();E();Object.defineProperty(ui,"__esModule",{value:!0});ui.listCV=void 0;var Gp=st();function Wp(e){return{type:Gp.ClarityType.List,list:e}}ui.listCV=Wp});var lu=V(li=>{"use strict";b();E();Object.defineProperty(li,"__esModule",{value:!0});li.tupleCV=void 0;var Xp=st(),Yp=gt();function Jp(e){for(let t in e)if(!(0,Yp.isClarityName)(t))throw new Error(`"${t}" is not a valid Clarity name`);return{type:Xp.ClarityType.Tuple,data:e}}li.tupleCV=Jp});var fi=V(Zt=>{"use strict";b();E();Object.defineProperty(Zt,"__esModule",{value:!0});Zt.stringCV=Zt.stringUtf8CV=Zt.stringAsciiCV=void 0;var fu=st(),du=e=>({type:fu.ClarityType.StringASCII,data:e});Zt.stringAsciiCV=du;var hu=e=>({type:fu.ClarityType.StringUTF8,data:e});Zt.stringUtf8CV=hu;var Zp=(e,t)=>{switch(t){case"ascii":return du(e);case"utf8":return hu(e)}};Zt.stringCV=Zp});var Qt=V(te=>{"use strict";b();E();Object.defineProperty(te,"__esModule",{value:!0});te.publicKeyToAddress=te.privateKeyToString=te.getPublicKey=te.signMessageHashRsv=te.signWithKey=te.makeRandomPrivKey=te.createStacksPrivateKey=te.deserializePublicKey=te.compressPublicKey=te.pubKeyfromPrivKey=te.serializePublicKey=te.publicKeyToString=te.isCompressed=te.publicKeyFromBytes=te.publicKeyFromSignatureRsv=te.publicKeyFromSignatureVrs=te.createStacksPublicKey=te.getAddressFromPublicKey=te.getAddressFromPrivateKey=void 0;var gr=rt(),Qp=gr.secp256k1.getPublicKey,pu=gr.secp256k1.Point,yu=gr.secp256k1.Signature,ey=gr.secp256k1.signSync,gu=gr.secp256k1.utils,De=ae(),ty=Br(),di=Lr(),Pt=Fe(),Tu=gt();gu.hmacSha256Sync=(e,...t)=>{let r=gr.base.hmac.create(gr.base.sha256,e);return t.forEach(n=>r.update(n)),r.digest()};function ry(e,t=Pt.TransactionVersion.Mainnet){let r=Qo(e);return Su(r.data,t)}te.getAddressFromPrivateKey=ry;function Su(e,t=Pt.TransactionVersion.Mainnet){e=typeof e=="string"?e:(0,De.bytesToHex)(e);let r=(0,di.addressHashModeToVersion)(Pt.AddressHashMode.SerializeP2PKH,t),n=(0,di.addressFromVersionHash)(r,(0,Tu.hashP2PKH)((0,De.hexToBytes)(e)));return(0,di.addressToString)(n)}te.getAddressFromPublicKey=Su;function Zo(e){return{type:Pt.StacksMessageType.PublicKey,data:(0,De.hexToBytes)(e)}}te.createStacksPublicKey=Zo;function Cu(e,t,r=Pt.PubKeyEncoding.Compressed){let n=(0,De.parseRecoverableSignatureVrs)(t.data),s=new yu((0,De.hexToBigInt)(n.r),(0,De.hexToBigInt)(n.s)),d=pu.fromSignature(e,s,n.recoveryId),y=r===Pt.PubKeyEncoding.Compressed;return d.toHex(y)}te.publicKeyFromSignatureVrs=Cu;function ny(e,t,r=Pt.PubKeyEncoding.Compressed){return Cu(e,{...t,data:(0,De.signatureRsvToVrs)(t.data)},r)}te.publicKeyFromSignatureRsv=ny;function bu(e){return{type:Pt.StacksMessageType.PublicKey,data:e}}te.publicKeyFromBytes=bu;function iy(e){return!(0,De.bytesToHex)(e.data).startsWith("04")}te.isCompressed=iy;function oy(e){return(0,De.bytesToHex)(e.data)}te.publicKeyToString=oy;function sy(e){return e.data.slice()}te.serializePublicKey=sy;function Qo(e){let t=es(e),r=Qp(t.data.slice(0,32),t.compressed);return Zo((0,De.bytesToHex)(r))}te.pubKeyfromPrivKey=Qo;function ay(e){let t=typeof e=="string"?e:(0,De.bytesToHex)(e),r=pu.fromHex(t).toHex(!0);return Zo(r)}te.compressPublicKey=ay;function cy(e){let t=e.readUInt8(),r=t!==4?Pt.COMPRESSED_PUBKEY_LENGTH_BYTES:Pt.UNCOMPRESSED_PUBKEY_LENGTH_BYTES;return bu((0,De.concatArray)([t,e.readBytes(r)]))}te.deserializePublicKey=cy;function es(e){let t=(0,De.privateKeyToBytes)(e),r=t.length==De.PRIVATE_KEY_COMPRESSED_LENGTH;return{data:t,compressed:r}}te.createStacksPrivateKey=es;function uy(){return es(gu.randomPrivateKey())}te.makeRandomPrivKey=uy;function Eu(e,t){let[r,n]=ey(t,e.data.slice(0,32),{canonical:!0,recovered:!0});if(n==null)throw new Error("No signature recoveryId received");let d=(0,De.intToHex)(n,1)+yu.fromHex(r).toCompactHex();return(0,di.createMessageSignature)(d)}te.signWithKey=Eu;function ly({messageHash:e,privateKey:t}){let r=Eu(t,e);return{...r,data:(0,De.signatureVrsToRsv)(r.data)}}te.signMessageHashRsv=ly;function fy(e){return Qo(e.data)}te.getPublicKey=fy;function dy(e){return(0,De.bytesToHex)(e.data)}te.privateKeyToString=dy;function hy(e,t){return(0,ty.c32address)(e,(0,De.bytesToHex)((0,Tu.hash160)(t.data)))}te.publicKeyToAddress=hy});var zr=V(Ee=>{"use strict";b();E();Object.defineProperty(Ee,"__esModule",{value:!0});Ee.deserializePayload=Ee.serializePayload=Ee.createCoinbasePayload=Ee.createPoisonPayload=Ee.createSmartContractPayload=Ee.createContractCallPayload=Ee.createTokenTransferPayload=Ee.isCoinbasePayload=Ee.isPoisonPayload=Ee.isSmartContractPayload=Ee.isContractCallPayload=Ee.isTokenTransferPayload=void 0;var An=ae(),ne=Fe(),Fr=Ut(),py=ai(),hi=xt(),Le=er();function yy(e){return e.payloadType===ne.PayloadType.TokenTransfer}Ee.isTokenTransferPayload=yy;function gy(e){return e.payloadType===ne.PayloadType.ContractCall}Ee.isContractCallPayload=gy;function Ty(e){return e.payloadType===ne.PayloadType.SmartContract}Ee.isSmartContractPayload=Ty;function Sy(e){return e.payloadType===ne.PayloadType.PoisonMicroblock}Ee.isPoisonPayload=Sy;function Cy(e){return e.payloadType===ne.PayloadType.Coinbase}Ee.isCoinbasePayload=Cy;function _u(e,t,r){return typeof e=="string"&&(e=(0,py.principalCV)(e)),typeof r=="string"&&(r=(0,Le.createMemoString)(r)),{type:ne.StacksMessageType.Payload,payloadType:ne.PayloadType.TokenTransfer,recipient:e,amount:(0,An.intToBigInt)(t,!1),memo:r??(0,Le.createMemoString)("")}}Ee.createTokenTransferPayload=_u;function mu(e,t,r,n){return typeof e=="string"&&(e=(0,hi.createAddress)(e)),typeof t=="string"&&(t=(0,hi.createLPString)(t)),typeof r=="string"&&(r=(0,hi.createLPString)(r)),{type:ne.StacksMessageType.Payload,payloadType:ne.PayloadType.ContractCall,contractAddress:e,contractName:t,functionName:r,functionArgs:n}}Ee.createContractCallPayload=mu;function ts(e,t,r){return typeof e=="string"&&(e=(0,hi.createLPString)(e)),typeof t=="string"&&(t=(0,Le.codeBodyString)(t)),typeof r=="number"?{type:ne.StacksMessageType.Payload,payloadType:ne.PayloadType.VersionedSmartContract,clarityVersion:r,contractName:e,codeBody:t}:{type:ne.StacksMessageType.Payload,payloadType:ne.PayloadType.SmartContract,contractName:e,codeBody:t}}Ee.createSmartContractPayload=ts;function Pu(){return{type:ne.StacksMessageType.Payload,payloadType:ne.PayloadType.PoisonMicroblock}}Ee.createPoisonPayload=Pu;function rs(e,t){if(e.byteLength!=ne.COINBASE_BYTES_LENGTH)throw Error(`Coinbase buffer size must be ${ne.COINBASE_BYTES_LENGTH} bytes`);return t!=null?{type:ne.StacksMessageType.Payload,payloadType:ne.PayloadType.CoinbaseToAltRecipient,coinbaseBytes:e,recipient:t}:{type:ne.StacksMessageType.Payload,payloadType:ne.PayloadType.Coinbase,coinbaseBytes:e}}Ee.createCoinbasePayload=rs;function by(e){let t=[];switch(t.push(e.payloadType),e.payloadType){case ne.PayloadType.TokenTransfer:t.push((0,Fr.serializeCV)(e.recipient)),t.push((0,An.intToBytes)(e.amount,!1,8)),t.push((0,Le.serializeStacksMessage)(e.memo));break;case ne.PayloadType.ContractCall:t.push((0,Le.serializeStacksMessage)(e.contractAddress)),t.push((0,Le.serializeStacksMessage)(e.contractName)),t.push((0,Le.serializeStacksMessage)(e.functionName));let r=new Uint8Array(4);(0,An.writeUInt32BE)(r,e.functionArgs.length,0),t.push(r),e.functionArgs.forEach(n=>{t.push((0,Fr.serializeCV)(n))});break;case ne.PayloadType.SmartContract:t.push((0,Le.serializeStacksMessage)(e.contractName)),t.push((0,Le.serializeStacksMessage)(e.codeBody));break;case ne.PayloadType.VersionedSmartContract:t.push(e.clarityVersion),t.push((0,Le.serializeStacksMessage)(e.contractName)),t.push((0,Le.serializeStacksMessage)(e.codeBody));break;case ne.PayloadType.PoisonMicroblock:break;case ne.PayloadType.Coinbase:t.push(e.coinbaseBytes);break;case ne.PayloadType.CoinbaseToAltRecipient:t.push(e.coinbaseBytes),t.push((0,Fr.serializeCV)(e.recipient));break}return(0,An.concatArray)(t)}Ee.serializePayload=by;function Ey(e){switch(e.readUInt8Enum(ne.PayloadType,r=>{throw new Error(`Cannot recognize PayloadType: ${r}`)})){case ne.PayloadType.TokenTransfer:let r=(0,Fr.deserializeCV)(e),n=(0,An.intToBigInt)(e.readBytes(8),!1),s=(0,Le.deserializeMemoString)(e);return _u(r,n,s);case ne.PayloadType.ContractCall:let d=(0,Le.deserializeAddress)(e),y=(0,Le.deserializeLPString)(e),T=(0,Le.deserializeLPString)(e),h=[],f=e.readUInt32BE();for(let B=0;B<f;B++){let O=(0,Fr.deserializeCV)(e);h.push(O)}return mu(d,y,T,h);case ne.PayloadType.SmartContract:let M=(0,Le.deserializeLPString)(e),A=(0,Le.deserializeLPString)(e,4,1e5);return ts(M,A);case ne.PayloadType.VersionedSmartContract:{let B=e.readUInt8Enum(ne.ClarityVersion,J=>{throw new Error(`Cannot recognize ClarityVersion: ${J}`)}),O=(0,Le.deserializeLPString)(e),x=(0,Le.deserializeLPString)(e,4,1e5);return ts(O,x,B)}case ne.PayloadType.PoisonMicroblock:return Pu();case ne.PayloadType.Coinbase:let w=e.readBytes(ne.COINBASE_BYTES_LENGTH);return rs(w);case ne.PayloadType.CoinbaseToAltRecipient:let _=e.readBytes(ne.COINBASE_BYTES_LENGTH),v=(0,Fr.deserializeCV)(e);return rs(_,v)}}Ee.deserializePayload=Ey});var Vt=V(nt=>{"use strict";b();E();Object.defineProperty(nt,"__esModule",{value:!0});nt.VerificationError=nt.SigningError=nt.NotImplementedError=nt.NoEstimateAvailableError=nt.DeserializationError=nt.SerializationError=void 0;var tr=class extends Error{constructor(t){super(t),this.message=t,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},ns=class extends tr{constructor(t){super(t)}};nt.SerializationError=ns;var is=class extends tr{constructor(t){super(t)}};nt.DeserializationError=is;var os=class extends tr{constructor(t){super(t)}};nt.NoEstimateAvailableError=os;var ss=class extends tr{constructor(t){super(t)}};nt.NotImplementedError=ss;var as=class extends tr{constructor(t){super(t)}};nt.SigningError=as;var cs=class extends tr{constructor(t){super(t)}};nt.VerificationError=cs});var vn=V(Xe=>{"use strict";b();E();Object.defineProperty(Xe,"__esModule",{value:!0});Xe.serializeTransactionAuthField=Xe.serializeMessageSignature=Xe.deserializeTransactionAuthField=Xe.createTransactionAuthField=Xe.deserializeMessageSignature=Xe.AuthFieldType=void 0;var _y=Vt(),wt=Fe(),In=Qt(),my=Lr(),ls=ae(),At;(function(e){e[e.PublicKeyCompressed=0]="PublicKeyCompressed",e[e.PublicKeyUncompressed=1]="PublicKeyUncompressed",e[e.SignatureCompressed=2]="SignatureCompressed",e[e.SignatureUncompressed=3]="SignatureUncompressed"})(At=Xe.AuthFieldType||(Xe.AuthFieldType={}));function us(e){return(0,my.createMessageSignature)((0,ls.bytesToHex)(e.readBytes(wt.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES)))}Xe.deserializeMessageSignature=us;function wn(e,t){return{pubKeyEncoding:e,type:wt.StacksMessageType.TransactionAuthField,contents:t}}Xe.createTransactionAuthField=wn;function Py(e){let t=e.readUInt8Enum(At,r=>{throw new _y.DeserializationError(`Could not read ${r} as AuthFieldType`)});switch(t){case At.PublicKeyCompressed:return wn(wt.PubKeyEncoding.Compressed,(0,In.deserializePublicKey)(e));case At.PublicKeyUncompressed:return wn(wt.PubKeyEncoding.Uncompressed,(0,In.deserializePublicKey)(e));case At.SignatureCompressed:return wn(wt.PubKeyEncoding.Compressed,us(e));case At.SignatureUncompressed:return wn(wt.PubKeyEncoding.Uncompressed,us(e));default:throw new Error(`Unknown auth field type: ${JSON.stringify(t)}`)}}Xe.deserializeTransactionAuthField=Py;function Au(e){return(0,ls.hexToBytes)(e.data)}Xe.serializeMessageSignature=Au;function Ay(e){let t=[];switch(e.contents.type){case wt.StacksMessageType.PublicKey:e.pubKeyEncoding==wt.PubKeyEncoding.Compressed?(t.push(At.PublicKeyCompressed),t.push((0,In.serializePublicKey)(e.contents))):(t.push(At.PublicKeyUncompressed),t.push((0,In.serializePublicKey)((0,In.compressPublicKey)(e.contents.data))));break;case wt.StacksMessageType.MessageSignature:e.pubKeyEncoding==wt.PubKeyEncoding.Compressed?t.push(At.SignatureCompressed):t.push(At.SignatureUncompressed),t.push(Au(e.contents));break}return(0,ls.concatArray)(t)}Xe.serializeTransactionAuthField=Ay});var er=V(W=>{"use strict";b();E();Object.defineProperty(W,"__esModule",{value:!0});W.deserializePostCondition=W.serializePostCondition=W.deserializeLPList=W.serializeLPList=W.createLPList=W.deserializeAssetInfo=W.serializeAssetInfo=W.deserializeMemoString=W.serializeMemoString=W.createMemoString=W.codeBodyString=W.deserializeLPString=W.serializeLPString=W.deserializePrincipal=W.serializePrincipal=W.deserializeAddress=W.serializeAddress=W.addressFromPublicKeys=W.addressFromHashMode=W.createEmptyAddress=W.deserializeStacksMessage=W.serializeStacksMessage=void 0;var ye=ae(),D=Fe(),Gr=Qt(),qr=gt(),wu=xt(),Iu=zr(),$r=Vt(),pi=vn(),jr=Lr(),vu=Ut();function Ou(e){switch(e.type){case D.StacksMessageType.Address:return yi(e);case D.StacksMessageType.Principal:return fs(e);case D.StacksMessageType.LengthPrefixedString:return On(e);case D.StacksMessageType.MemoString:return Bu(e);case D.StacksMessageType.AssetInfo:return ps(e);case D.StacksMessageType.PostCondition:return xu(e);case D.StacksMessageType.PublicKey:return(0,Gr.serializePublicKey)(e);case D.StacksMessageType.LengthPrefixedList:return Nu(e);case D.StacksMessageType.Payload:return(0,Iu.serializePayload)(e);case D.StacksMessageType.TransactionAuthField:return(0,pi.serializeTransactionAuthField)(e);case D.StacksMessageType.MessageSignature:return(0,pi.serializeMessageSignature)(e)}}W.serializeStacksMessage=Ou;function wy(e,t,r){switch(t){case D.StacksMessageType.Address:return Rn(e);case D.StacksMessageType.Principal:return ds(e);case D.StacksMessageType.LengthPrefixedString:return Wr(e);case D.StacksMessageType.MemoString:return hs(e);case D.StacksMessageType.AssetInfo:return Bn(e);case D.StacksMessageType.PostCondition:return ys(e);case D.StacksMessageType.PublicKey:return(0,Gr.deserializePublicKey)(e);case D.StacksMessageType.Payload:return(0,Iu.deserializePayload)(e);case D.StacksMessageType.LengthPrefixedList:if(!r)throw new $r.DeserializationError("No List Type specified");return Mu(e,r);case D.StacksMessageType.MessageSignature:return(0,pi.deserializeMessageSignature)(e);default:throw new Error("Could not recognize StacksMessageType")}}W.deserializeStacksMessage=wy;function Iy(){return{type:D.StacksMessageType.Address,version:D.AddressVersion.MainnetSingleSig,hash160:"0".repeat(40)}}W.createEmptyAddress=Iy;function vy(e,t,r){let n=(0,jr.addressHashModeToVersion)(e,t);return(0,jr.addressFromVersionHash)(n,r)}W.addressFromHashMode=vy;function Oy(e,t,r,n){if(n.length===0)throw Error("Invalid number of public keys");if((t===D.AddressHashMode.SerializeP2PKH||t===D.AddressHashMode.SerializeP2WPKH)&&(n.length!==1||r!==1))throw Error("Invalid number of public keys or signatures");if(t===D.AddressHashMode.SerializeP2WPKH||t===D.AddressHashMode.SerializeP2WSH){for(let s=0;s<n.length;s++)if(!(0,Gr.isCompressed)(n[s]))throw Error("Public keys must be compressed for segwit")}switch(t){case D.AddressHashMode.SerializeP2PKH:return(0,jr.addressFromVersionHash)(e,(0,qr.hashP2PKH)(n[0].data));case D.AddressHashMode.SerializeP2WPKH:return(0,jr.addressFromVersionHash)(e,(0,qr.hashP2WPKH)(n[0].data));case D.AddressHashMode.SerializeP2SH:return(0,jr.addressFromVersionHash)(e,(0,qr.hashP2SH)(r,n.map(Gr.serializePublicKey)));case D.AddressHashMode.SerializeP2WSH:return(0,jr.addressFromVersionHash)(e,(0,qr.hashP2WSH)(r,n.map(Gr.serializePublicKey)))}}W.addressFromPublicKeys=Oy;function yi(e){let t=[];return t.push((0,ye.hexToBytes)((0,ye.intToHex)(e.version,1))),t.push((0,ye.hexToBytes)(e.hash160)),(0,ye.concatArray)(t)}W.serializeAddress=yi;function Rn(e){let t=(0,ye.hexToInt)((0,ye.bytesToHex)(e.readBytes(1))),r=(0,ye.bytesToHex)(e.readBytes(20));return{type:D.StacksMessageType.Address,version:t,hash160:r}}W.deserializeAddress=Rn;function fs(e){let t=[];return t.push(e.prefix),t.push(yi(e.address)),e.prefix===D.PostConditionPrincipalID.Contract&&t.push(On(e.contractName)),(0,ye.concatArray)(t)}W.serializePrincipal=fs;function ds(e){let t=e.readUInt8Enum(D.PostConditionPrincipalID,s=>{throw new $r.DeserializationError(`Unexpected Principal payload type: ${s}`)}),r=Rn(e);if(t===D.PostConditionPrincipalID.Standard)return{type:D.StacksMessageType.Principal,prefix:t,address:r};let n=Wr(e);return{type:D.StacksMessageType.Principal,prefix:t,address:r,contractName:n}}W.deserializePrincipal=ds;function On(e){let t=[],r=(0,ye.utf8ToBytes)(e.content),n=r.byteLength;return t.push((0,ye.hexToBytes)((0,ye.intToHex)(n,e.lengthPrefixBytes))),t.push(r),(0,ye.concatArray)(t)}W.serializeLPString=On;function Wr(e,t,r){t=t||1;let n=(0,ye.hexToInt)((0,ye.bytesToHex)(e.readBytes(t))),s=(0,ye.bytesToUtf8)(e.readBytes(n));return(0,wu.createLPString)(s,t,r??128)}W.deserializeLPString=Wr;function By(e){return(0,wu.createLPString)(e,4,1e5)}W.codeBodyString=By;function Ry(e){if(e&&(0,qr.exceedsMaxLengthBytes)(e,D.MEMO_MAX_LENGTH_BYTES))throw new Error(`Memo exceeds maximum length of ${D.MEMO_MAX_LENGTH_BYTES} bytes`);return{type:D.StacksMessageType.MemoString,content:e}}W.createMemoString=Ry;function Bu(e){let t=[],r=(0,ye.utf8ToBytes)(e.content),n=(0,qr.rightPadHexToLength)((0,ye.bytesToHex)(r),D.MEMO_MAX_LENGTH_BYTES*2);return t.push((0,ye.hexToBytes)(n)),(0,ye.concatArray)(t)}W.serializeMemoString=Bu;function hs(e){let t=(0,ye.bytesToUtf8)(e.readBytes(D.MEMO_MAX_LENGTH_BYTES));return{type:D.StacksMessageType.MemoString,content:t}}W.deserializeMemoString=hs;function ps(e){let t=[];return t.push(yi(e.address)),t.push(On(e.contractName)),t.push(On(e.assetName)),(0,ye.concatArray)(t)}W.serializeAssetInfo=ps;function Bn(e){return{type:D.StacksMessageType.AssetInfo,address:Rn(e),contractName:Wr(e),assetName:Wr(e)}}W.deserializeAssetInfo=Bn;function Ru(e,t){return{type:D.StacksMessageType.LengthPrefixedList,lengthPrefixBytes:t||4,values:e}}W.createLPList=Ru;function Nu(e){let t=e.values,r=[];r.push((0,ye.hexToBytes)((0,ye.intToHex)(t.length,e.lengthPrefixBytes)));for(let n of t)r.push(Ou(n));return(0,ye.concatArray)(r)}W.serializeLPList=Nu;function Mu(e,t,r){let n=(0,ye.hexToInt)((0,ye.bytesToHex)(e.readBytes(r||4))),s=[];for(let d=0;d<n;d++)switch(t){case D.StacksMessageType.Address:s.push(Rn(e));break;case D.StacksMessageType.LengthPrefixedString:s.push(Wr(e));break;case D.StacksMessageType.MemoString:s.push(hs(e));break;case D.StacksMessageType.AssetInfo:s.push(Bn(e));break;case D.StacksMessageType.PostCondition:s.push(ys(e));break;case D.StacksMessageType.PublicKey:s.push((0,Gr.deserializePublicKey)(e));break;case D.StacksMessageType.TransactionAuthField:s.push((0,pi.deserializeTransactionAuthField)(e));break}return Ru(s,r)}W.deserializeLPList=Mu;function xu(e){let t=[];return t.push(e.conditionType),t.push(fs(e.principal)),(e.conditionType===D.PostConditionType.Fungible||e.conditionType===D.PostConditionType.NonFungible)&&t.push(ps(e.assetInfo)),e.conditionType===D.PostConditionType.NonFungible&&t.push((0,vu.serializeCV)(e.assetName)),t.push(e.conditionCode),(e.conditionType===D.PostConditionType.STX||e.conditionType===D.PostConditionType.Fungible)&&t.push((0,ye.intToBytes)(e.amount,!1,8)),(0,ye.concatArray)(t)}W.serializePostCondition=xu;function ys(e){let t=e.readUInt8Enum(D.PostConditionType,y=>{throw new $r.DeserializationError(`Could not read ${y} as PostConditionType`)}),r=ds(e),n,s,d;switch(t){case D.PostConditionType.STX:return n=e.readUInt8Enum(D.FungibleConditionCode,T=>{throw new $r.DeserializationError(`Could not read ${T} as FungibleConditionCode`)}),d=BigInt(`0x${(0,ye.bytesToHex)(e.readBytes(8))}`),{type:D.StacksMessageType.PostCondition,conditionType:D.PostConditionType.STX,principal:r,conditionCode:n,amount:d};case D.PostConditionType.Fungible:return s=Bn(e),n=e.readUInt8Enum(D.FungibleConditionCode,T=>{throw new $r.DeserializationError(`Could not read ${T} as FungibleConditionCode`)}),d=BigInt(`0x${(0,ye.bytesToHex)(e.readBytes(8))}`),{type:D.StacksMessageType.PostCondition,conditionType:D.PostConditionType.Fungible,principal:r,conditionCode:n,amount:d,assetInfo:s};case D.PostConditionType.NonFungible:s=Bn(e);let y=(0,vu.deserializeCV)(e);return n=e.readUInt8Enum(D.NonFungibleConditionCode,T=>{throw new $r.DeserializationError(`Could not read ${T} as FungibleConditionCode`)}),{type:D.StacksMessageType.PostCondition,conditionType:D.PostConditionType.NonFungible,principal:r,conditionCode:n,assetInfo:s,assetName:y}}}W.deserializePostCondition=ys});var Uu=V(Ti=>{"use strict";b();E();Object.defineProperty(Ti,"__esModule",{value:!0});Ti.serializeCV=void 0;var Ye=ae(),gi=er(),Ny=xt(),je=st(),My=Vt(),gs=Fe();function It(e,t){return(0,Ye.concatArray)([e,t])}function xy(e){return new Uint8Array([e.type])}function Ly(e){return e.type===je.ClarityType.OptionalNone?new Uint8Array([e.type]):It(e.type,Nn(e.value))}function Uy(e){let t=new Uint8Array(4);return(0,Ye.writeUInt32BE)(t,e.buffer.length,0),It(e.type,(0,Ye.concatBytes)(t,e.buffer))}function Vy(e){let t=(0,Ye.bigIntToBytes)((0,Ye.toTwos)(e.value,BigInt(gs.CLARITY_INT_SIZE)),gs.CLARITY_INT_BYTE_SIZE);return It(e.type,t)}function Dy(e){let t=(0,Ye.bigIntToBytes)(e.value,gs.CLARITY_INT_BYTE_SIZE);return It(e.type,t)}function ky(e){return It(e.type,(0,gi.serializeAddress)(e.address))}function Hy(e){return It(e.type,(0,Ye.concatBytes)((0,gi.serializeAddress)(e.address),(0,gi.serializeLPString)(e.contractName)))}function Ky(e){return It(e.type,Nn(e.value))}function Fy(e){let t=[],r=new Uint8Array(4);(0,Ye.writeUInt32BE)(r,e.list.length,0),t.push(r);for(let n of e.list){let s=Nn(n);t.push(s)}return It(e.type,(0,Ye.concatArray)(t))}function zy(e){let t=[],r=new Uint8Array(4);(0,Ye.writeUInt32BE)(r,Object.keys(e.data).length,0),t.push(r);let n=Object.keys(e.data).sort((s,d)=>s.localeCompare(d));for(let s of n){let d=(0,Ny.createLPString)(s);t.push((0,gi.serializeLPString)(d));let y=Nn(e.data[s]);t.push(y)}return It(e.type,(0,Ye.concatArray)(t))}function Lu(e,t){let r=[],n=t=="ascii"?(0,Ye.asciiToBytes)(e.data):(0,Ye.utf8ToBytes)(e.data),s=new Uint8Array(4);return(0,Ye.writeUInt32BE)(s,n.length,0),r.push(s),r.push(n),It(e.type,(0,Ye.concatArray)(r))}function qy(e){return Lu(e,"ascii")}function $y(e){return Lu(e,"utf8")}function Nn(e){switch(e.type){case je.ClarityType.BoolTrue:case je.ClarityType.BoolFalse:return xy(e);case je.ClarityType.OptionalNone:case je.ClarityType.OptionalSome:return Ly(e);case je.ClarityType.Buffer:return Uy(e);case je.ClarityType.UInt:return Dy(e);case je.ClarityType.Int:return Vy(e);case je.ClarityType.PrincipalStandard:return ky(e);case je.ClarityType.PrincipalContract:return Hy(e);case je.ClarityType.ResponseOk:case je.ClarityType.ResponseErr:return Ky(e);case je.ClarityType.List:return Fy(e);case je.ClarityType.Tuple:return zy(e);case je.ClarityType.StringASCII:return qy(e);case je.ClarityType.StringUTF8:return $y(e);default:throw new My.SerializationError("Unable to serialize. Invalid Clarity Value.")}}Ti.serializeCV=Nn});var Si=V(Xr=>{"use strict";b();E();Object.defineProperty(Xr,"__esModule",{value:!0});Xr.BytesReader=Xr.isEnum=void 0;var Mn=ae();function jy(e){let t=Object.values(e).filter(n=>typeof n=="number"),r=new Set(t);return n=>r.has(n)}var Vu=new Map;function Ss(e,t){let r=Vu.get(e);if(r!==void 0)return r(t);let n=jy(e);return Vu.set(e,n),Ss(e,t)}Xr.isEnum=Ss;var Ts=class{constructor(t){this.consumed=0,this.source=t}readBytes(t){let r=this.source.subarray(this.consumed,this.consumed+t);return this.consumed+=t,r}readUInt32BE(){return(0,Mn.readUInt32BE)(this.readBytes(4),0)}readUInt8(){return(0,Mn.readUInt8)(this.readBytes(1),0)}readUInt16BE(){return(0,Mn.readUInt16BE)(this.readBytes(2),0)}readBigUIntLE(t){let r=this.readBytes(t).slice().reverse(),n=(0,Mn.bytesToHex)(r);return BigInt(`0x${n}`)}readBigUIntBE(t){let r=this.readBytes(t),n=(0,Mn.bytesToHex)(r);return BigInt(`0x${n}`)}get readOffset(){return this.consumed}set readOffset(t){this.consumed=t}get internalBytes(){return this.source}readUInt8Enum(t,r){let n=this.readUInt8();if(Ss(t,n))return n;throw r(n)}};Xr.BytesReader=Ts});var Hu=V(Es=>{"use strict";b();E();Object.defineProperty(Es,"__esModule",{value:!0});var ge=Ut(),Du=Si(),Ci=er(),Cs=Vt(),ku=fi(),bs=ae();function Yr(e){let t;if(typeof e=="string"){let n=e.slice(0,2).toLowerCase()==="0x";t=new Du.BytesReader((0,bs.hexToBytes)(n?e.slice(2):e))}else e instanceof Uint8Array?t=new Du.BytesReader(e):t=e;switch(t.readUInt8Enum(ge.ClarityType,n=>{throw new Cs.DeserializationError(`Cannot recognize Clarity Type: ${n}`)})){case ge.ClarityType.Int:return(0,ge.intCV)(t.readBytes(16));case ge.ClarityType.UInt:return(0,ge.uintCV)(t.readBytes(16));case ge.ClarityType.Buffer:let n=t.readUInt32BE();return(0,ge.bufferCV)(t.readBytes(n));case ge.ClarityType.BoolTrue:return(0,ge.trueCV)();case ge.ClarityType.BoolFalse:return(0,ge.falseCV)();case ge.ClarityType.PrincipalStandard:let s=(0,Ci.deserializeAddress)(t);return(0,ge.standardPrincipalCVFromAddress)(s);case ge.ClarityType.PrincipalContract:let d=(0,Ci.deserializeAddress)(t),y=(0,Ci.deserializeLPString)(t);return(0,ge.contractPrincipalCVFromAddress)(d,y);case ge.ClarityType.ResponseOk:return(0,ge.responseOkCV)(Yr(t));case ge.ClarityType.ResponseErr:return(0,ge.responseErrorCV)(Yr(t));case ge.ClarityType.OptionalNone:return(0,ge.noneCV)();case ge.ClarityType.OptionalSome:return(0,ge.someCV)(Yr(t));case ge.ClarityType.List:let T=t.readUInt32BE(),h=[];for(let B=0;B<T;B++)h.push(Yr(t));return(0,ge.listCV)(h);case ge.ClarityType.Tuple:let f=t.readUInt32BE(),M={};for(let B=0;B<f;B++){let O=(0,Ci.deserializeLPString)(t).content;if(O===void 0)throw new Cs.DeserializationError('"content" is undefined');M[O]=Yr(t)}return(0,ge.tupleCV)(M);case ge.ClarityType.StringASCII:let A=t.readUInt32BE(),w=(0,bs.bytesToAscii)(t.readBytes(A));return(0,ku.stringAsciiCV)(w);case ge.ClarityType.StringUTF8:let _=t.readUInt32BE(),v=(0,bs.bytesToUtf8)(t.readBytes(_));return(0,ku.stringUtf8CV)(v);default:throw new Cs.DeserializationError("Unable to deserialize Clarity Value from Uint8Array. Could not find valid Clarity Type.")}}Es.default=Yr});var Ut=V(k=>{"use strict";b();E();var Gy=k&&k.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(k,"__esModule",{value:!0});k.principalToString=k.cvToValue=k.cvToJSON=k.cvToString=k.deserializeCV=k.serializeCV=k.getCVTypeString=k.stringUtf8CV=k.stringAsciiCV=k.stringCV=k.tupleCV=k.listCV=k.contractPrincipalCVFromStandard=k.contractPrincipalCVFromAddress=k.contractPrincipalCV=k.standardPrincipalCVFromAddress=k.standardPrincipalCV=k.principalCV=k.responseErrorCV=k.responseOkCV=k.optionalCVOf=k.someCV=k.noneCV=k.bufferCVFromString=k.bufferCV=k.uintCV=k.intCV=k.falseCV=k.trueCV=k.boolCV=k.ClarityType=void 0;var bi=qc();Object.defineProperty(k,"getCVTypeString",{enumerable:!0,get:function(){return bi.getCVTypeString}});Object.defineProperty(k,"cvToString",{enumerable:!0,get:function(){return bi.cvToString}});Object.defineProperty(k,"cvToJSON",{enumerable:!0,get:function(){return bi.cvToJSON}});Object.defineProperty(k,"cvToValue",{enumerable:!0,get:function(){return bi.cvToValue}});var Wy=st();Object.defineProperty(k,"ClarityType",{enumerable:!0,get:function(){return Wy.ClarityType}});var _s=Wc();Object.defineProperty(k,"trueCV",{enumerable:!0,get:function(){return _s.trueCV}});Object.defineProperty(k,"falseCV",{enumerable:!0,get:function(){return _s.falseCV}});Object.defineProperty(k,"boolCV",{enumerable:!0,get:function(){return _s.boolCV}});var Ku=eu();Object.defineProperty(k,"intCV",{enumerable:!0,get:function(){return Ku.intCV}});Object.defineProperty(k,"uintCV",{enumerable:!0,get:function(){return Ku.uintCV}});var Fu=ru();Object.defineProperty(k,"bufferCV",{enumerable:!0,get:function(){return Fu.bufferCV}});Object.defineProperty(k,"bufferCVFromString",{enumerable:!0,get:function(){return Fu.bufferCVFromString}});var ms=su();Object.defineProperty(k,"noneCV",{enumerable:!0,get:function(){return ms.noneCV}});Object.defineProperty(k,"someCV",{enumerable:!0,get:function(){return ms.someCV}});Object.defineProperty(k,"optionalCVOf",{enumerable:!0,get:function(){return ms.optionalCVOf}});var zu=cu();Object.defineProperty(k,"responseOkCV",{enumerable:!0,get:function(){return zu.responseOkCV}});Object.defineProperty(k,"responseErrorCV",{enumerable:!0,get:function(){return zu.responseErrorCV}});var Tr=ai();Object.defineProperty(k,"standardPrincipalCV",{enumerable:!0,get:function(){return Tr.standardPrincipalCV}});Object.defineProperty(k,"contractPrincipalCV",{enumerable:!0,get:function(){return Tr.contractPrincipalCV}});Object.defineProperty(k,"standardPrincipalCVFromAddress",{enumerable:!0,get:function(){return Tr.standardPrincipalCVFromAddress}});Object.defineProperty(k,"contractPrincipalCVFromAddress",{enumerable:!0,get:function(){return Tr.contractPrincipalCVFromAddress}});Object.defineProperty(k,"contractPrincipalCVFromStandard",{enumerable:!0,get:function(){return Tr.contractPrincipalCVFromStandard}});Object.defineProperty(k,"principalCV",{enumerable:!0,get:function(){return Tr.principalCV}});Object.defineProperty(k,"principalToString",{enumerable:!0,get:function(){return Tr.principalToString}});var Xy=uu();Object.defineProperty(k,"listCV",{enumerable:!0,get:function(){return Xy.listCV}});var Yy=lu();Object.defineProperty(k,"tupleCV",{enumerable:!0,get:function(){return Yy.tupleCV}});var Ps=fi();Object.defineProperty(k,"stringUtf8CV",{enumerable:!0,get:function(){return Ps.stringUtf8CV}});Object.defineProperty(k,"stringAsciiCV",{enumerable:!0,get:function(){return Ps.stringAsciiCV}});Object.defineProperty(k,"stringCV",{enumerable:!0,get:function(){return Ps.stringCV}});var Jy=Uu();Object.defineProperty(k,"serializeCV",{enumerable:!0,get:function(){return Jy.serializeCV}});var Zy=Gy(Hu());k.deserializeCV=Zy.default});var gt=V($=>{"use strict";b();E();var Qy=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($,"__esModule",{value:!0});$.addHex=$.postConditionFromString=$.hexToBuff=$.validateTxId=$.validateStacksAddress=$.parseReadOnlyResponse=$.hexToCV=$.cvToHex=$.isClarityName=$.hashP2WSH=$.hashP2SH=$.hashP2WPKH=$.hashP2PKH=$.hash160=$.txidFromData=$.omit=$.cloneDeep=$.exceedsMaxLengthBytes=$.rightPadHexToLength=$.leftPadHexToLength=$.leftPadHex=$.randomBytes=void 0;var xn=rt(),it=ae(),eg=Br(),tg=Qy(Lc()),$u=Ut(),qu=Jr(),rg=e=>xn.base.randomBytes(Number(e));$.randomBytes=rg;var ng=e=>e.length%2==0?e:`0${e}`;$.leftPadHex=ng;var ig=(e,t)=>e.padStart(t,"0");$.leftPadHexToLength=ig;var og=(e,t)=>e.padEnd(t,"0");$.rightPadHexToLength=og;var sg=(e,t)=>e?(0,it.utf8ToBytes)(e).length>t:!1;$.exceedsMaxLengthBytes=sg;function ju(e){return(0,tg.default)(e)}$.cloneDeep=ju;function ag(e,t){let r=ju(e);return delete r[t],r}$.omit=ag;var cg=e=>(0,it.bytesToHex)(xn.base.sha512_256(e));$.txidFromData=cg;var ug=e=>xn.base.ripemd160(xn.base.sha256(e));$.hash160=ug;var lg=e=>(0,it.bytesToHex)((0,$.hash160)(e));$.hashP2PKH=lg;var fg=e=>{let t=(0,$.hash160)(e),r=(0,it.concatBytes)(new Uint8Array([0]),new Uint8Array([t.length]),t),n=(0,$.hash160)(r);return(0,it.bytesToHex)(n)};$.hashP2WPKH=fg;var dg=(e,t)=>{if(e>15||t.length>15)throw Error("P2SH multisig address can only contain up to 15 public keys");let r=[];r.push(80+e),t.forEach(d=>{r.push(d.length),r.push(d)}),r.push(80+t.length),r.push(174);let n=(0,it.concatArray)(r),s=(0,$.hash160)(n);return(0,it.bytesToHex)(s)};$.hashP2SH=dg;var hg=(e,t)=>{if(e>15||t.length>15)throw Error("P2WSH multisig address can only contain up to 15 public keys");let r=[];r.push(80+e),t.forEach(h=>{r.push(h.length),r.push(h)}),r.push(80+t.length),r.push(174);let n=(0,it.concatArray)(r),s=xn.base.sha256(n),d=[];d.push(0),d.push(s.length),d.push(s);let y=(0,it.concatArray)(d),T=(0,$.hash160)(y);return(0,it.bytesToHex)(T)};$.hashP2WSH=hg;function pg(e){return/^[a-zA-Z]([a-zA-Z0-9]|[-_!?+<>=/*])*$|^[-+=/*]$|^[<>]=?$/.test(e)&&e.length<128}$.isClarityName=pg;function yg(e){let t=(0,$u.serializeCV)(e);return`0x${(0,it.bytesToHex)(t)}`}$.cvToHex=yg;function Gu(e){return(0,$u.deserializeCV)(e)}$.hexToCV=Gu;var gg=e=>{if(e.okay)return Gu(e.result);throw new Error(e.cause)};$.parseReadOnlyResponse=gg;var Tg=e=>{try{return(0,eg.c32addressDecode)(e),!0}catch{return!1}};$.validateStacksAddress=Tg;var Sg=e=>{if(e==="success")return!0;let t=(0,it.with0x)(e).toLowerCase();return t.length!==66?!1:(0,it.with0x)(BigInt(t).toString(16).padStart(64,"0"))===t};$.validateTxId=Sg;function Cg(e){return U.Buffer.from(bg(e),"hex")}$.hexToBuff=Cg;function bg(e){return e.startsWith("0x")?e.replace("0x",""):e}function Eg(e){let t=new qu.BytesReader((0,it.hexToBytes)(e));return(0,qu.deserializePostCondition)(t)}$.postConditionFromString=Eg;function _g(e){return e.startsWith("0x")?e:`0x${e}`}$.addHex=_g});var Zr=V(j=>{"use strict";b();E();Object.defineProperty(j,"__esModule",{value:!0});j.deserializeAuthorization=j.serializeAuthorization=j.setSponsor=j.setSponsorNonce=j.setNonce=j.getFee=j.setFee=j.verifyOrigin=j.intoInitialSighashAuth=j.createSponsoredAuth=j.createStandardAuth=j.nextVerification=j.nextSignature=j.makeSigHashPreSign=j.deserializeSpendingCondition=j.serializeSpendingCondition=j.deserializeMultiSigSpendingCondition=j.deserializeSingleSigSpendingCondition=j.serializeMultiSigSpendingCondition=j.serializeSingleSigSpendingCondition=j.isSingleSig=j.createMultiSigSpendingCondition=j.createSingleSigSpendingCondition=j.emptyMessageSignature=void 0;var oe=ae(),ee=Fe(),mi=gt(),Yu=vn(),rr=er(),Tt=Qt(),at=Vt();function Pi(){return{type:ee.StacksMessageType.MessageSignature,data:(0,oe.bytesToHex)(new Uint8Array(ee.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES))}}j.emptyMessageSignature=Pi;function As(e,t,r,n){let s=(0,rr.addressFromPublicKeys)(0,e,1,[(0,Tt.createStacksPublicKey)(t)]).hash160,d=(0,Tt.isCompressed)((0,Tt.createStacksPublicKey)(t))?ee.PubKeyEncoding.Compressed:ee.PubKeyEncoding.Uncompressed;return{hashMode:e,signer:s,nonce:(0,oe.intToBigInt)(r,!1),fee:(0,oe.intToBigInt)(n,!1),keyEncoding:d,signature:Pi()}}j.createSingleSigSpendingCondition=As;function mg(e,t,r,n,s){let d=r.map(Tt.createStacksPublicKey),y=(0,rr.addressFromPublicKeys)(0,e,t,d).hash160;return{hashMode:e,signer:y,nonce:(0,oe.intToBigInt)(n,!1),fee:(0,oe.intToBigInt)(s,!1),fields:[],signaturesRequired:t}}j.createMultiSigSpendingCondition=mg;function Ai(e){return"signature"in e}j.isSingleSig=Ai;function Wu(e){let t=(0,mi.cloneDeep)(e);return t.nonce=0,t.fee=0,Ai(t)?t.signature=Pi():t.fields=[],{...t,nonce:BigInt(0),fee:BigInt(0)}}function Ju(e){let t=[e.hashMode,(0,oe.hexToBytes)(e.signer),(0,oe.intToBytes)(e.nonce,!1,8),(0,oe.intToBytes)(e.fee,!1,8),e.keyEncoding,(0,Yu.serializeMessageSignature)(e.signature)];return(0,oe.concatArray)(t)}j.serializeSingleSigSpendingCondition=Ju;function Zu(e){let t=[e.hashMode,(0,oe.hexToBytes)(e.signer),(0,oe.intToBytes)(e.nonce,!1,8),(0,oe.intToBytes)(e.fee,!1,8)],r=(0,rr.createLPList)(e.fields);t.push((0,rr.serializeLPList)(r));let n=new Uint8Array(2);return(0,oe.writeUInt16BE)(n,e.signaturesRequired,0),t.push(n),(0,oe.concatArray)(t)}j.serializeMultiSigSpendingCondition=Zu;function Qu(e,t){let r=(0,oe.bytesToHex)(t.readBytes(20)),n=BigInt(`0x${(0,oe.bytesToHex)(t.readBytes(8))}`),s=BigInt(`0x${(0,oe.bytesToHex)(t.readBytes(8))}`),d=t.readUInt8Enum(ee.PubKeyEncoding,T=>{throw new at.DeserializationError(`Could not parse ${T} as PubKeyEncoding`)});if(e===ee.AddressHashMode.SerializeP2WPKH&&d!=ee.PubKeyEncoding.Compressed)throw new at.DeserializationError("Failed to parse singlesig spending condition: incomaptible hash mode and key encoding");let y=(0,Yu.deserializeMessageSignature)(t);return{hashMode:e,signer:r,nonce:n,fee:s,keyEncoding:d,signature:y}}j.deserializeSingleSigSpendingCondition=Qu;function el(e,t){let r=(0,oe.bytesToHex)(t.readBytes(20)),n=BigInt("0x"+(0,oe.bytesToHex)(t.readBytes(8))),s=BigInt("0x"+(0,oe.bytesToHex)(t.readBytes(8))),d=(0,rr.deserializeLPList)(t,ee.StacksMessageType.TransactionAuthField).values,y=!1,T=0;for(let f of d)switch(f.contents.type){case ee.StacksMessageType.PublicKey:(0,Tt.isCompressed)(f.contents)||(y=!0);break;case ee.StacksMessageType.MessageSignature:if(f.pubKeyEncoding===ee.PubKeyEncoding.Uncompressed&&(y=!0),T+=1,T===65536)throw new at.VerificationError("Failed to parse multisig spending condition: too many signatures");break}let h=t.readUInt16BE();if(y&&e===ee.AddressHashMode.SerializeP2SH)throw new at.VerificationError("Uncompressed keys are not allowed in this hash mode");return{hashMode:e,signer:r,nonce:n,fee:s,fields:d,signaturesRequired:h}}j.deserializeMultiSigSpendingCondition=el;function Ei(e){return Ai(e)?Ju(e):Zu(e)}j.serializeSpendingCondition=Ei;function _i(e){let t=e.readUInt8Enum(ee.AddressHashMode,r=>{throw new at.DeserializationError(`Could not parse ${r} as AddressHashMode`)});return t===ee.AddressHashMode.SerializeP2PKH||t===ee.AddressHashMode.SerializeP2WPKH?Qu(t,e):el(t,e)}j.deserializeSpendingCondition=_i;function ws(e,t,r,n){let d=e+(0,oe.bytesToHex)(new Uint8Array([t]))+(0,oe.bytesToHex)((0,oe.intToBytes)(r,!1,8))+(0,oe.bytesToHex)((0,oe.intToBytes)(n,!1,8));if((0,oe.hexToBytes)(d).byteLength!==49)throw Error("Invalid signature hash length");return(0,mi.txidFromData)((0,oe.hexToBytes)(d))}j.makeSigHashPreSign=ws;function tl(e,t,r){let n=33+ee.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES,s=(0,Tt.isCompressed)(t)?ee.PubKeyEncoding.Compressed:ee.PubKeyEncoding.Uncompressed,d=e+(0,mi.leftPadHex)(s.toString(16))+r.data,y=(0,oe.hexToBytes)(d);if(y.byteLength>n)throw Error("Invalid signature hash length");return(0,mi.txidFromData)(y)}function Pg(e,t,r,n,s){let d=ws(e,t,r,n),y=(0,Tt.signWithKey)(s,d),T=(0,Tt.getPublicKey)(s),h=tl(d,T,y);return{nextSig:y,nextSigHash:h}}j.nextSignature=Pg;function Is(e,t,r,n,s,d){let y=ws(e,t,r,n),T=(0,Tt.createStacksPublicKey)((0,Tt.publicKeyFromSignatureVrs)(y,d,s)),h=tl(y,T,d);return{pubKey:T,nextSigHash:h}}j.nextVerification=Is;function Ag(){let e=As(ee.AddressHashMode.SerializeP2PKH,"",0,0);return e.signer=(0,rr.createEmptyAddress)().hash160,e.keyEncoding=ee.PubKeyEncoding.Compressed,e.signature=Pi(),e}function Xu(e,t,r){return Ai(e)?wg(e,t,r):Ig(e,t,r)}function wg(e,t,r){let{pubKey:n,nextSigHash:s}=Is(t,r,e.fee,e.nonce,e.keyEncoding,e.signature),d=(0,rr.addressFromPublicKeys)(0,e.hashMode,1,[n]).hash160;if(d!==e.signer)throw new at.VerificationError(`Signer hash does not equal hash of public key(s): ${d} != ${e.signer}`);return s}function Ig(e,t,r){let n=[],s=t,d=!1,y=0;for(let h of e.fields){let f;switch(h.contents.type){case ee.StacksMessageType.PublicKey:(0,Tt.isCompressed)(h.contents)||(d=!0),f=h.contents;break;case ee.StacksMessageType.MessageSignature:h.pubKeyEncoding===ee.PubKeyEncoding.Uncompressed&&(d=!0);let{pubKey:M,nextSigHash:A}=Is(s,r,e.fee,e.nonce,h.pubKeyEncoding,h.contents);if(s=A,f=M,y+=1,y===65536)throw new at.VerificationError("Too many signatures");break}n.push(f)}if(y!==e.signaturesRequired)throw new at.VerificationError("Incorrect number of signatures");if(d&&e.hashMode===ee.AddressHashMode.SerializeP2SH)throw new at.VerificationError("Uncompressed keys are not allowed in this hash mode");let T=(0,rr.addressFromPublicKeys)(0,e.hashMode,e.signaturesRequired,n).hash160;if(T!==e.signer)throw new at.VerificationError(`Signer hash does not equal hash of public key(s): ${T} != ${e.signer}`);return s}function vs(e){return{authType:ee.AuthType.Standard,spendingCondition:e}}j.createStandardAuth=vs;function Os(e,t){return{authType:ee.AuthType.Sponsored,spendingCondition:e,sponsorSpendingCondition:t||As(ee.AddressHashMode.SerializeP2PKH,"0".repeat(66),0,0)}}j.createSponsoredAuth=Os;function vg(e){if(e.spendingCondition)switch(e.authType){case ee.AuthType.Standard:return vs(Wu(e.spendingCondition));case ee.AuthType.Sponsored:return Os(Wu(e.spendingCondition),Ag());default:throw new at.SigningError("Unexpected authorization type for signing")}throw new Error("Authorization missing SpendingCondition")}j.intoInitialSighashAuth=vg;function Og(e,t){switch(e.authType){case ee.AuthType.Standard:return Xu(e.spendingCondition,t,ee.AuthType.Standard);case ee.AuthType.Sponsored:return Xu(e.spendingCondition,t,ee.AuthType.Standard);default:throw new at.SigningError("Invalid origin auth type")}}j.verifyOrigin=Og;function Bg(e,t){switch(e.authType){case ee.AuthType.Standard:let r={...e.spendingCondition,fee:(0,oe.intToBigInt)(t,!1)};return{...e,spendingCondition:r};case ee.AuthType.Sponsored:let n={...e.sponsorSpendingCondition,fee:(0,oe.intToBigInt)(t,!1)};return{...e,sponsorSpendingCondition:n}}}j.setFee=Bg;function Rg(e){switch(e.authType){case ee.AuthType.Standard:return e.spendingCondition.fee;case ee.AuthType.Sponsored:return e.sponsorSpendingCondition.fee}}j.getFee=Rg;function Ng(e,t){let r={...e.spendingCondition,nonce:(0,oe.intToBigInt)(t,!1)};return{...e,spendingCondition:r}}j.setNonce=Ng;function Mg(e,t){let r={...e.sponsorSpendingCondition,nonce:(0,oe.intToBigInt)(t,!1)};return{...e,sponsorSpendingCondition:r}}j.setSponsorNonce=Mg;function xg(e,t){let r={...t,nonce:(0,oe.intToBigInt)(t.nonce,!1),fee:(0,oe.intToBigInt)(t.fee,!1)};return{...e,sponsorSpendingCondition:r}}j.setSponsor=xg;function Lg(e){let t=[];switch(t.push(e.authType),e.authType){case ee.AuthType.Standard:t.push(Ei(e.spendingCondition));break;case ee.AuthType.Sponsored:t.push(Ei(e.spendingCondition)),t.push(Ei(e.sponsorSpendingCondition));break}return(0,oe.concatArray)(t)}j.serializeAuthorization=Lg;function Ug(e){let t=e.readUInt8Enum(ee.AuthType,n=>{throw new at.DeserializationError(`Could not parse ${n} as AuthType`)}),r;switch(t){case ee.AuthType.Standard:return r=_i(e),vs(r);case ee.AuthType.Sponsored:r=_i(e);let n=_i(e);return Os(r,n)}}j.deserializeAuthorization=Ug});var rl=V(_e=>{"use strict";b();E();Object.defineProperty(_e,"__esModule",{value:!0});_e.StacksDevnet=_e.StacksMocknet=_e.StacksTestnet=_e.StacksMainnet=_e.StacksNetwork=_e.StacksNetworks=_e.HIRO_MOCKNET_DEFAULT=_e.HIRO_TESTNET_DEFAULT=_e.HIRO_MAINNET_DEFAULT=void 0;var Dt=ae();_e.HIRO_MAINNET_DEFAULT="https://stacks-node-api.mainnet.stacks.co";_e.HIRO_TESTNET_DEFAULT="https://stacks-node-api.testnet.stacks.co";_e.HIRO_MOCKNET_DEFAULT="http://localhost:3999";_e.StacksNetworks=["mainnet","testnet","devnet","mocknet"];var kt=class{constructor(t){this.version=Dt.TransactionVersion.Mainnet,this.chainId=Dt.ChainID.Mainnet,this.bnsLookupUrl="https://stacks-node-api.mainnet.stacks.co",this.broadcastEndpoint="/v2/transactions",this.transferFeeEstimateEndpoint="/v2/fees/transfer",this.transactionFeeEstimateEndpoint="/v2/fees/transaction",this.accountEndpoint="/v2/accounts",this.contractAbiEndpoint="/v2/contracts/interface",this.readOnlyFunctionCallEndpoint="/v2/contracts/call-read",this.isMainnet=()=>this.version===Dt.TransactionVersion.Mainnet,this.getBroadcastApiUrl=()=>`${this.coreApiUrl}${this.broadcastEndpoint}`,this.getTransferFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transferFeeEstimateEndpoint}`,this.getTransactionFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transactionFeeEstimateEndpoint}`,this.getAccountApiUrl=r=>`${this.coreApiUrl}${this.accountEndpoint}/${r}?proof=0`,this.getAccountExtendedBalancesApiUrl=r=>`${this.coreApiUrl}/extended/v1/address/${r}/balances`,this.getAbiApiUrl=(r,n)=>`${this.coreApiUrl}${this.contractAbiEndpoint}/${r}/${n}`,this.getReadOnlyFunctionCallApiUrl=(r,n,s)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}/${r}/${n}/${encodeURIComponent(s)}`,this.getInfoUrl=()=>`${this.coreApiUrl}/v2/info`,this.getBlockTimeInfoUrl=()=>`${this.coreApiUrl}/extended/v1/info/network_block_times`,this.getPoxInfoUrl=()=>`${this.coreApiUrl}/v2/pox`,this.getRewardsUrl=(r,n)=>{let s=`${this.coreApiUrl}/extended/v1/burnchain/rewards/${r}`;return n&&(s=`${s}?limit=${n.limit}&offset=${n.offset}`),s},this.getRewardsTotalUrl=r=>`${this.coreApiUrl}/extended/v1/burnchain/rewards/${r}/total`,this.getRewardHoldersUrl=(r,n)=>{let s=`${this.coreApiUrl}/extended/v1/burnchain/reward_slot_holders/${r}`;return n&&(s=`${s}?limit=${n.limit}&offset=${n.offset}`),s},this.getStackerInfoUrl=(r,n)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}
    ${r}/${n}/get-stacker-info`,this.getDataVarUrl=(r,n,s)=>`${this.coreApiUrl}/v2/data_var/${r}/${n}/${s}?proof=0`,this.getMapEntryUrl=(r,n,s)=>`${this.coreApiUrl}/v2/map_entry/${r}/${n}/${s}?proof=0`,this.coreApiUrl=t.url}};_e.StacksNetwork=kt;kt.fromName=e=>{switch(e){case"mainnet":return new wi;case"testnet":return new Ii;case"devnet":return new _e.StacksDevnet;case"mocknet":return new Ln;default:throw new Error(`Invalid network name provided. Must be one of the following: ${_e.StacksNetworks.join(", ")}`)}};kt.fromNameOrNetwork=e=>typeof e!="string"&&"version"in e?e:kt.fromName(e);var wi=class extends kt{constructor(t){super({url:t?.url??_e.HIRO_MAINNET_DEFAULT}),this.version=Dt.TransactionVersion.Mainnet,this.chainId=Dt.ChainID.Mainnet}};_e.StacksMainnet=wi;var Ii=class extends kt{constructor(t){super({url:t?.url??_e.HIRO_TESTNET_DEFAULT}),this.version=Dt.TransactionVersion.Testnet,this.chainId=Dt.ChainID.Testnet}};_e.StacksTestnet=Ii;var Ln=class extends kt{constructor(t){super({url:t?.url??_e.HIRO_MOCKNET_DEFAULT}),this.version=Dt.TransactionVersion.Testnet,this.chainId=Dt.ChainID.Testnet}};_e.StacksMocknet=Ln;_e.StacksDevnet=Ln});var Un=V(Sr=>{"use strict";b();E();var Vg=Sr&&Sr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Dg=Sr&&Sr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Vg(t,e,r)};Object.defineProperty(Sr,"__esModule",{value:!0});Dg(rl(),Sr)});var Bs=V(nr=>{"use strict";b();E();Object.defineProperty(nr,"__esModule",{value:!0});nr.createNonFungiblePostCondition=nr.createFungiblePostCondition=nr.createSTXPostCondition=void 0;var nl=ae(),Qr=Fe(),Vn=xt();function kg(e,t,r){return typeof e=="string"&&(e=(0,Vn.parsePrincipalString)(e)),{type:Qr.StacksMessageType.PostCondition,conditionType:Qr.PostConditionType.STX,principal:e,conditionCode:t,amount:(0,nl.intToBigInt)(r,!1)}}nr.createSTXPostCondition=kg;function Hg(e,t,r,n){return typeof e=="string"&&(e=(0,Vn.parsePrincipalString)(e)),typeof n=="string"&&(n=(0,Vn.parseAssetInfoString)(n)),{type:Qr.StacksMessageType.PostCondition,conditionType:Qr.PostConditionType.Fungible,principal:e,conditionCode:t,amount:(0,nl.intToBigInt)(r,!1),assetInfo:n}}nr.createFungiblePostCondition=Hg;function Kg(e,t,r,n){return typeof e=="string"&&(e=(0,Vn.parsePrincipalString)(e)),typeof r=="string"&&(r=(0,Vn.parseAssetInfoString)(r)),{type:Qr.StacksMessageType.PostCondition,conditionType:Qr.PostConditionType.NonFungible,principal:e,conditionCode:t,assetInfo:r,assetName:n}}nr.createNonFungiblePostCondition=Kg});var xs=V(vi=>{"use strict";b();E();Object.defineProperty(vi,"__esModule",{value:!0});vi.TransactionSigner=void 0;var Rs=Zr(),Ns=gt(),en=Fe(),tn=Vt(),Ms=class{constructor(t){this.transaction=t,this.sigHash=t.signBegin(),this.originDone=!1,this.checkOversign=!0,this.checkOverlap=!0;let r=t.auth.spendingCondition;if(r&&!(0,Rs.isSingleSig)(r)){if(r.fields.filter(n=>n.contents.type===en.StacksMessageType.MessageSignature).length>=r.signaturesRequired)throw new Error("SpendingCondition has more signatures than are expected");r.fields.forEach(n=>{if(n.contents.type===en.StacksMessageType.MessageSignature){let s=n.contents,d=(0,Rs.nextVerification)(this.sigHash,t.auth.authType,r.fee,r.nonce,en.PubKeyEncoding.Compressed,s);this.sigHash=d.nextSigHash}})}}static createSponsorSigner(t,r){if(t.auth.authType!=en.AuthType.Sponsored)throw new tn.SigningError("Cannot add sponsor to non-sponsored transaction");let n=(0,Ns.cloneDeep)(t);n.setSponsor(r);let s=n.verifyOrigin(),d=new this(n);return d.originDone=!0,d.sigHash=s,d.checkOversign=!0,d.checkOverlap=!0,d}signOrigin(t){if(this.checkOverlap&&this.originDone)throw new tn.SigningError("Cannot sign origin after sponsor key");if(this.transaction.auth===void 0)throw new tn.SigningError('"transaction.auth" is undefined');if(this.transaction.auth.spendingCondition===void 0)throw new tn.SigningError('"transaction.auth.spendingCondition" is undefined');if(!(0,Rs.isSingleSig)(this.transaction.auth.spendingCondition)){let n=this.transaction.auth.spendingCondition;if(this.checkOversign&&n.fields.filter(s=>s.contents.type===en.StacksMessageType.MessageSignature).length>=n.signaturesRequired)throw new Error("Origin would have too many signatures")}let r=this.transaction.signNextOrigin(this.sigHash,t);this.sigHash=r}appendOrigin(t){if(this.checkOverlap&&this.originDone)throw Error("Cannot append public key to origin after sponsor key");if(this.transaction.auth===void 0)throw new Error('"transaction.auth" is undefined');if(this.transaction.auth.spendingCondition===void 0)throw new Error('"transaction.auth.spendingCondition" is undefined');this.transaction.appendPubkey(t)}signSponsor(t){if(this.transaction.auth===void 0)throw new tn.SigningError('"transaction.auth" is undefined');if(this.transaction.auth.authType!==en.AuthType.Sponsored)throw new tn.SigningError('"transaction.auth.authType" is not AuthType.Sponsored');let r=this.transaction.signNextSponsor(this.sigHash,t);this.sigHash=r,this.originDone=!0}getTxInComplete(){return(0,Ns.cloneDeep)(this.transaction)}resume(t){this.transaction=(0,Ns.cloneDeep)(t),this.sigHash=t.signBegin()}};vi.TransactionSigner=Ms});var Ds=V(nn=>{"use strict";b();E();Object.defineProperty(nn,"__esModule",{value:!0});nn.deserializeTransaction=nn.StacksTransaction=void 0;var rn=ae(),me=Fe(),dt=Zr(),il=vn(),Ls=gt(),ol=zr(),Vs=er(),Fg=Qt(),Us=Si(),Cr=Vt(),Oi=class{constructor(t,r,n,s,d,y,T){if(this.version=t,this.auth=r,"amount"in n?this.payload={...n,amount:(0,rn.intToBigInt)(n.amount,!1)}:this.payload=n,this.chainId=T??me.DEFAULT_CHAIN_ID,this.postConditionMode=d??me.PostConditionMode.Deny,this.postConditions=s??(0,Vs.createLPList)([]),y)this.anchorMode=(0,me.anchorModeFromNameOrValue)(y);else switch(n.payloadType){case me.PayloadType.Coinbase:case me.PayloadType.CoinbaseToAltRecipient:case me.PayloadType.PoisonMicroblock:{this.anchorMode=me.AnchorMode.OnChainOnly;break}case me.PayloadType.ContractCall:case me.PayloadType.SmartContract:case me.PayloadType.VersionedSmartContract:case me.PayloadType.TokenTransfer:{this.anchorMode=me.AnchorMode.Any;break}}}signBegin(){let t=(0,Ls.cloneDeep)(this);return t.auth=(0,dt.intoInitialSighashAuth)(t.auth),t.txid()}verifyBegin(){let t=(0,Ls.cloneDeep)(this);return t.auth=(0,dt.intoInitialSighashAuth)(t.auth),t.txid()}verifyOrigin(){return(0,dt.verifyOrigin)(this.auth,this.verifyBegin())}signNextOrigin(t,r){if(this.auth.spendingCondition===void 0)throw new Error('"auth.spendingCondition" is undefined');if(this.auth.authType===void 0)throw new Error('"auth.authType" is undefined');return this.signAndAppend(this.auth.spendingCondition,t,me.AuthType.Standard,r)}signNextSponsor(t,r){if(this.auth.authType===me.AuthType.Sponsored)return this.signAndAppend(this.auth.sponsorSpendingCondition,t,me.AuthType.Sponsored,r);throw new Error('"auth.sponsorSpendingCondition" is undefined')}appendPubkey(t){let r=this.auth.spendingCondition;if(r&&!(0,dt.isSingleSig)(r)){let n=(0,Fg.isCompressed)(t);r.fields.push((0,il.createTransactionAuthField)(n?me.PubKeyEncoding.Compressed:me.PubKeyEncoding.Uncompressed,t))}else throw new Error("Can't append public key to a singlesig condition")}signAndAppend(t,r,n,s){let{nextSig:d,nextSigHash:y}=(0,dt.nextSignature)(r,n,t.fee,t.nonce,s);if((0,dt.isSingleSig)(t))t.signature=d;else{let T=(0,rn.bytesToHex)(s.data).endsWith("01");t.fields.push((0,il.createTransactionAuthField)(T?me.PubKeyEncoding.Compressed:me.PubKeyEncoding.Uncompressed,d))}return y}txid(){let t=this.serialize();return(0,Ls.txidFromData)(t)}setSponsor(t){if(this.auth.authType!=me.AuthType.Sponsored)throw new Cr.SigningError("Cannot sponsor sign a non-sponsored transaction");this.auth=(0,dt.setSponsor)(this.auth,t)}setFee(t){this.auth=(0,dt.setFee)(this.auth,t)}setNonce(t){this.auth=(0,dt.setNonce)(this.auth,t)}setSponsorNonce(t){if(this.auth.authType!=me.AuthType.Sponsored)throw new Cr.SigningError("Cannot sponsor sign a non-sponsored transaction");this.auth=(0,dt.setSponsorNonce)(this.auth,t)}serialize(){if(this.version===void 0)throw new Cr.SerializationError('"version" is undefined');if(this.chainId===void 0)throw new Cr.SerializationError('"chainId" is undefined');if(this.auth===void 0)throw new Cr.SerializationError('"auth" is undefined');if(this.anchorMode===void 0)throw new Cr.SerializationError('"anchorMode" is undefined');if(this.payload===void 0)throw new Cr.SerializationError('"payload" is undefined');let t=[];t.push(this.version);let r=new Uint8Array(4);return(0,rn.writeUInt32BE)(r,this.chainId,0),t.push(r),t.push((0,dt.serializeAuthorization)(this.auth)),t.push(this.anchorMode),t.push(this.postConditionMode),t.push((0,Vs.serializeLPList)(this.postConditions)),t.push((0,ol.serializePayload)(this.payload)),(0,rn.concatArray)(t)}};nn.StacksTransaction=Oi;function zg(e){let t;typeof e=="string"?e.slice(0,2).toLowerCase()==="0x"?t=new Us.BytesReader((0,rn.hexToBytes)(e.slice(2))):t=new Us.BytesReader((0,rn.hexToBytes)(e)):e instanceof Uint8Array?t=new Us.BytesReader(e):t=e;let r=t.readUInt8Enum(me.TransactionVersion,f=>{throw new Error(`Could not parse ${f} as TransactionVersion`)}),n=t.readUInt32BE(),s=(0,dt.deserializeAuthorization)(t),d=t.readUInt8Enum(me.AnchorMode,f=>{throw new Error(`Could not parse ${f} as AnchorMode`)}),y=t.readUInt8Enum(me.PostConditionMode,f=>{throw new Error(`Could not parse ${f} as PostConditionMode`)}),T=(0,Vs.deserializeLPList)(t,me.StacksMessageType.PostCondition),h=(0,ol.deserializePayload)(t);return new Oi(r,s,h,T,y,d,n)}nn.deserializeTransaction=zg});var Ks=V(Ae=>{"use strict";b();E();Object.defineProperty(Ae,"__esModule",{value:!0});Ae.makeContractDeploy=Ae.makeUnsignedContractDeploy=Ae.estimateTransactionByteLength=Ae.makeContractNonFungiblePostCondition=Ae.makeStandardNonFungiblePostCondition=Ae.makeContractFungiblePostCondition=Ae.makeStandardFungiblePostCondition=Ae.makeContractSTXPostCondition=Ae.makeStandardSTXPostCondition=Ae.makeContractCall=Ae.makeUnsignedContractCall=void 0;var sl=ae(),Bi=Un(),br=Zr(),vt=Fe(),ht=Qt(),cl=zr(),on=Bs(),sn=xt(),ks=xs(),ul=Ds(),ll=er(),al=gt();async function Hs(e){let t={fee:BigInt(0),nonce:BigInt(0),network:new Bi.StacksMainnet,postConditionMode:vt.PostConditionMode.Deny,sponsored:!1},r=Object.assign(t,e),n=(0,cl.createContractCallPayload)(r.contractAddress,r.contractName,r.functionName,r.functionArgs),s=null,d=null;"publicKey"in r?s=(0,br.createSingleSigSpendingCondition)(vt.AddressHashMode.SerializeP2PKH,r.publicKey,r.nonce,r.fee):s=(0,br.createMultiSigSpendingCondition)(vt.AddressHashMode.SerializeP2SH,r.numSignatures,r.publicKeys,r.nonce,r.fee),r.sponsored?d=(0,br.createSponsoredAuth)(s):d=(0,br.createStandardAuth)(s);let y=Bi.StacksNetwork.fromNameOrNetwork(r.network),T=[];r.postConditions&&r.postConditions.length>0&&r.postConditions.forEach(M=>{T.push(M)});let h=(0,ll.createLPList)(T);return new ul.StacksTransaction(y.version,d,n,h,r.postConditionMode,r.anchorMode,y.chainId)}Ae.makeUnsignedContractCall=Hs;async function qg(e){if("senderKey"in e){let t=(0,ht.publicKeyToString)((0,ht.getPublicKey)((0,ht.createStacksPrivateKey)(e.senderKey))),r=(0,al.omit)(e,"senderKey"),n=await Hs({publicKey:t,...r}),s=(0,ht.createStacksPrivateKey)(e.senderKey);return new ks.TransactionSigner(n).signOrigin(s),n}else{let t=(0,al.omit)(e,"signerKeys"),r=await Hs(t),n=new ks.TransactionSigner(r),s=e.publicKeys;for(let d of e.signerKeys){let y=(0,ht.pubKeyfromPrivKey)(d);s=s.filter(T=>T!==(0,sl.bytesToHex)(y.data)),n.signOrigin((0,ht.createStacksPrivateKey)(d))}for(let d of s)n.appendOrigin((0,ht.publicKeyFromBytes)((0,sl.hexToBytes)(d)));return r}}Ae.makeContractCall=qg;function $g(e,t,r){return(0,on.createSTXPostCondition)((0,sn.createStandardPrincipal)(e),t,r)}Ae.makeStandardSTXPostCondition=$g;function jg(e,t,r,n){return(0,on.createSTXPostCondition)((0,sn.createContractPrincipal)(e,t),r,n)}Ae.makeContractSTXPostCondition=jg;function Gg(e,t,r,n){return(0,on.createFungiblePostCondition)((0,sn.createStandardPrincipal)(e),t,r,n)}Ae.makeStandardFungiblePostCondition=Gg;function Wg(e,t,r,n,s){return(0,on.createFungiblePostCondition)((0,sn.createContractPrincipal)(e,t),r,n,s)}Ae.makeContractFungiblePostCondition=Wg;function Xg(e,t,r,n){return(0,on.createNonFungiblePostCondition)((0,sn.createStandardPrincipal)(e),t,r,n)}Ae.makeStandardNonFungiblePostCondition=Xg;function Yg(e,t,r,n,s){return(0,on.createNonFungiblePostCondition)((0,sn.createContractPrincipal)(e,t),r,n,s)}Ae.makeContractNonFungiblePostCondition=Yg;function Jg(e){let t=e.auth.spendingCondition.hashMode;if([vt.AddressHashMode.SerializeP2SH,vt.AddressHashMode.SerializeP2WSH].includes(t)){let n=e.auth.spendingCondition,s=n.fields.filter(y=>y.contents.type===vt.StacksMessageType.MessageSignature).length,d=(n.signaturesRequired-s)*(vt.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES+1);return e.serialize().byteLength+d}else return e.serialize().byteLength}Ae.estimateTransactionByteLength=Jg;async function fl(e){let t={fee:BigInt(0),nonce:BigInt(0),network:new Bi.StacksMainnet,postConditionMode:vt.PostConditionMode.Deny,sponsored:!1,clarityVersion:vt.ClarityVersion.Clarity2},r=Object.assign(t,e),n=(0,cl.createSmartContractPayload)(r.contractName,r.codeBody,r.clarityVersion),s=vt.AddressHashMode.SerializeP2PKH,d=(0,ht.createStacksPublicKey)(r.publicKey),y=null,T=(0,br.createSingleSigSpendingCondition)(s,(0,ht.publicKeyToString)(d),r.nonce,r.fee);r.sponsored?y=(0,br.createSponsoredAuth)(T):y=(0,br.createStandardAuth)(T);let h=Bi.StacksNetwork.fromNameOrNetwork(r.network),f=[];r.postConditions&&r.postConditions.length>0&&r.postConditions.forEach(w=>{f.push(w)});let M=(0,ll.createLPList)(f);return new ul.StacksTransaction(h.version,y,n,M,r.postConditionMode,r.anchorMode,h.chainId)}Ae.makeUnsignedContractDeploy=fl;async function Zg(e){let t=(0,ht.createStacksPrivateKey)(e.senderKey),r=(0,ht.getPublicKey)(t),n=(0,ht.publicKeyToString)(r),s={...e,publicKey:n},d=await fl(s);return e.senderKey&&new ks.TransactionSigner(d).signOrigin(t),d}Ae.makeContractDeploy=Zg});var dl=V(re=>{"use strict";b();E();Object.defineProperty(re,"__esModule",{value:!0});re.deserialize=re.serialize=re.tuple=re.error=re.ok=re.some=re.none=re.bufferFromUtf8=re.bufferFromAscii=re.bufferFromHex=re.buffer=re.stringUtf8=re.stringAscii=re.list=re.standardPrincipal=re.contractPrincipal=re.uint=re.int=re.bool=void 0;var Fs=ae(),Ue=Ut();re.bool=Ue.boolCV;re.int=Ue.intCV;re.uint=Ue.uintCV;re.contractPrincipal=Ue.contractPrincipalCV;re.standardPrincipal=Ue.standardPrincipalCV;re.list=Ue.listCV;re.stringAscii=Ue.stringAsciiCV;re.stringUtf8=Ue.stringUtf8CV;re.buffer=Ue.bufferCV;var Qg=e=>(0,Ue.bufferCV)((0,Fs.hexToBytes)(e));re.bufferFromHex=Qg;var e0=e=>(0,Ue.bufferCV)((0,Fs.asciiToBytes)(e));re.bufferFromAscii=e0;var t0=e=>(0,Ue.bufferCV)((0,Fs.utf8ToBytes)(e));re.bufferFromUtf8=t0;re.none=Ue.noneCV;re.some=Ue.someCV;re.ok=Ue.responseOkCV;re.error=Ue.responseErrorCV;re.tuple=Ue.tupleCV;re.serialize=Ue.serializeCV;re.deserialize=Ue.deserializeCV});var yl=V(z=>{"use strict";b();E();Object.defineProperty(z,"__esModule",{value:!0});z.parseToCV=z.validateContractCall=z.abiFunctionToString=z.getTypeString=z.encodeClarityValue=z.getTypeUnion=z.isClarityAbiList=z.isClarityAbiTuple=z.isClarityAbiOptional=z.isClarityAbiResponse=z.isClarityAbiStringUtf8=z.isClarityAbiStringAscii=z.isClarityAbiBuffer=z.isClarityAbiPrimitive=z.ClarityAbiTypeId=void 0;var r0=gt(),de=Ut(),Ri=Vt(),hl=fi(),pl=ae(),Y;(function(e){e[e.ClarityAbiTypeUInt128=1]="ClarityAbiTypeUInt128",e[e.ClarityAbiTypeInt128=2]="ClarityAbiTypeInt128",e[e.ClarityAbiTypeBool=3]="ClarityAbiTypeBool",e[e.ClarityAbiTypePrincipal=4]="ClarityAbiTypePrincipal",e[e.ClarityAbiTypeNone=5]="ClarityAbiTypeNone",e[e.ClarityAbiTypeBuffer=6]="ClarityAbiTypeBuffer",e[e.ClarityAbiTypeResponse=7]="ClarityAbiTypeResponse",e[e.ClarityAbiTypeOptional=8]="ClarityAbiTypeOptional",e[e.ClarityAbiTypeTuple=9]="ClarityAbiTypeTuple",e[e.ClarityAbiTypeList=10]="ClarityAbiTypeList",e[e.ClarityAbiTypeStringAscii=11]="ClarityAbiTypeStringAscii",e[e.ClarityAbiTypeStringUtf8=12]="ClarityAbiTypeStringUtf8",e[e.ClarityAbiTypeTraitReference=13]="ClarityAbiTypeTraitReference"})(Y=z.ClarityAbiTypeId||(z.ClarityAbiTypeId={}));var n0=e=>typeof e=="string";z.isClarityAbiPrimitive=n0;var i0=e=>e.buffer!==void 0;z.isClarityAbiBuffer=i0;var o0=e=>e["string-ascii"]!==void 0;z.isClarityAbiStringAscii=o0;var s0=e=>e["string-utf8"]!==void 0;z.isClarityAbiStringUtf8=s0;var a0=e=>e.response!==void 0;z.isClarityAbiResponse=a0;var c0=e=>e.optional!==void 0;z.isClarityAbiOptional=c0;var u0=e=>e.tuple!==void 0;z.isClarityAbiTuple=u0;var l0=e=>e.list!==void 0;z.isClarityAbiList=l0;function zs(e){if((0,z.isClarityAbiPrimitive)(e)){if(e==="uint128")return{id:Y.ClarityAbiTypeUInt128,type:e};if(e==="int128")return{id:Y.ClarityAbiTypeInt128,type:e};if(e==="bool")return{id:Y.ClarityAbiTypeBool,type:e};if(e==="principal")return{id:Y.ClarityAbiTypePrincipal,type:e};if(e==="trait_reference")return{id:Y.ClarityAbiTypeTraitReference,type:e};if(e==="none")return{id:Y.ClarityAbiTypeNone,type:e};throw new Error(`Unexpected Clarity ABI type primitive: ${JSON.stringify(e)}`)}else{if((0,z.isClarityAbiBuffer)(e))return{id:Y.ClarityAbiTypeBuffer,type:e};if((0,z.isClarityAbiResponse)(e))return{id:Y.ClarityAbiTypeResponse,type:e};if((0,z.isClarityAbiOptional)(e))return{id:Y.ClarityAbiTypeOptional,type:e};if((0,z.isClarityAbiTuple)(e))return{id:Y.ClarityAbiTypeTuple,type:e};if((0,z.isClarityAbiList)(e))return{id:Y.ClarityAbiTypeList,type:e};if((0,z.isClarityAbiStringAscii)(e))return{id:Y.ClarityAbiTypeStringAscii,type:e};if((0,z.isClarityAbiStringUtf8)(e))return{id:Y.ClarityAbiTypeStringUtf8,type:e};throw new Error(`Unexpected Clarity ABI type: ${JSON.stringify(e)}`)}}z.getTypeUnion=zs;function f0(e,t){let r;switch(e.id!==void 0?r=e:r=zs(e),r.id){case Y.ClarityAbiTypeUInt128:return(0,de.uintCV)(t);case Y.ClarityAbiTypeInt128:return(0,de.intCV)(t);case Y.ClarityAbiTypeBool:if(t==="false"||t==="0")return(0,de.falseCV)();if(t==="true"||t==="1")return(0,de.trueCV)();throw new Error(`Unexpected Clarity bool value: ${JSON.stringify(t)}`);case Y.ClarityAbiTypePrincipal:if(t.includes(".")){let[d,y]=t.split(".");return(0,de.contractPrincipalCV)(d,y)}else return(0,de.standardPrincipalCV)(t);case Y.ClarityAbiTypeTraitReference:let[n,s]=t.split(".");return(0,de.contractPrincipalCV)(n,s);case Y.ClarityAbiTypeNone:return(0,de.noneCV)();case Y.ClarityAbiTypeBuffer:return(0,de.bufferCV)((0,pl.utf8ToBytes)(t));case Y.ClarityAbiTypeStringAscii:return(0,hl.stringAsciiCV)(t);case Y.ClarityAbiTypeStringUtf8:return(0,hl.stringUtf8CV)(t);case Y.ClarityAbiTypeResponse:throw new Ri.NotImplementedError(`Unsupported encoding for Clarity type: ${r.id}`);case Y.ClarityAbiTypeOptional:throw new Ri.NotImplementedError(`Unsupported encoding for Clarity type: ${r.id}`);case Y.ClarityAbiTypeTuple:throw new Ri.NotImplementedError(`Unsupported encoding for Clarity type: ${r.id}`);case Y.ClarityAbiTypeList:throw new Ri.NotImplementedError(`Unsupported encoding for Clarity type: ${r.id}`);default:throw new Error(`Unexpected Clarity type ID: ${JSON.stringify(r)}`)}}z.encodeClarityValue=f0;function Ht(e){if((0,z.isClarityAbiPrimitive)(e))return e==="int128"?"int":e==="uint128"?"uint":e;if((0,z.isClarityAbiBuffer)(e))return`(buff ${e.buffer.length})`;if((0,z.isClarityAbiStringAscii)(e))return`(string-ascii ${e["string-ascii"].length})`;if((0,z.isClarityAbiStringUtf8)(e))return`(string-utf8 ${e["string-utf8"].length})`;if((0,z.isClarityAbiResponse)(e))return`(response ${Ht(e.response.ok)} ${Ht(e.response.error)})`;if((0,z.isClarityAbiOptional)(e))return`(optional ${Ht(e.optional)})`;if((0,z.isClarityAbiTuple)(e))return`(tuple ${e.tuple.map(t=>`(${t.name} ${Ht(t.type)})`).join(" ")})`;if((0,z.isClarityAbiList)(e))return`(list ${e.list.length} ${Ht(e.list.type)})`;throw new Error(`Type string unsupported for Clarity type: ${JSON.stringify(e)}`)}z.getTypeString=Ht;function d0(e){return`(define-${e.access==="read_only"?"read-only":e.access} (${e.name} ${e.args.map(r=>`(${r.name} ${Ht(r.type)})`).join(" ")}))`}z.abiFunctionToString=d0;function an(e,t){let r=zs(t);switch(e.type){case de.ClarityType.BoolTrue:case de.ClarityType.BoolFalse:return r.id===Y.ClarityAbiTypeBool;case de.ClarityType.Int:return r.id===Y.ClarityAbiTypeInt128;case de.ClarityType.UInt:return r.id===Y.ClarityAbiTypeUInt128;case de.ClarityType.Buffer:return r.id===Y.ClarityAbiTypeBuffer&&r.type.buffer.length>=e.buffer.length;case de.ClarityType.StringASCII:return r.id===Y.ClarityAbiTypeStringAscii&&r.type["string-ascii"].length>=e.data.length;case de.ClarityType.StringUTF8:return r.id===Y.ClarityAbiTypeStringUtf8&&r.type["string-utf8"].length>=e.data.length;case de.ClarityType.OptionalNone:return r.id===Y.ClarityAbiTypeNone||r.id===Y.ClarityAbiTypeOptional;case de.ClarityType.OptionalSome:return r.id===Y.ClarityAbiTypeOptional&&an(e.value,r.type.optional);case de.ClarityType.ResponseErr:return r.id===Y.ClarityAbiTypeResponse&&an(e.value,r.type.response.error);case de.ClarityType.ResponseOk:return r.id===Y.ClarityAbiTypeResponse&&an(e.value,r.type.response.ok);case de.ClarityType.PrincipalContract:return r.id===Y.ClarityAbiTypePrincipal||r.id===Y.ClarityAbiTypeTraitReference;case de.ClarityType.PrincipalStandard:return r.id===Y.ClarityAbiTypePrincipal;case de.ClarityType.List:return r.id==Y.ClarityAbiTypeList&&r.type.list.length>=e.list.length&&e.list.every(n=>an(n,r.type.list.type));case de.ClarityType.Tuple:if(r.id==Y.ClarityAbiTypeTuple){let n=(0,r0.cloneDeep)(e.data);for(let s=0;s<r.type.tuple.length;s++){let d=r.type.tuple[s],y=d.name,T=n[y];if(T){if(!an(T,d.type))return!1;delete n[y]}else return!1}return!0}else return!1;default:return!1}}function h0(e,t){let r=t.functions.filter(n=>n.name===e.functionName.content);if(r.length===1){let s=r[0].args;if(e.functionArgs.length!==s.length)throw new Error(`Clarity function expects ${s.length} argument(s) but received ${e.functionArgs.length}`);for(let d=0;d<e.functionArgs.length;d++){let y=e.functionArgs[d],T=s[d];if(!an(y,T.type)){let h=d+1;throw new Error(`Clarity function \`${e.functionName.content}\` expects argument ${h} to be of type ${Ht(T.type)}, not ${(0,de.getCVTypeString)(y)}`)}}return!0}else throw r.length===0?new Error(`ABI doesn't contain a function with the name ${e.functionName.content}`):new Error(`Malformed ABI. Contains multiple functions with the name ${e.functionName.content}`)}z.validateContractCall=h0;function p0(e,t){let r=Ht(t);if((0,z.isClarityAbiPrimitive)(t)){if(t==="uint128")return(0,de.uintCV)(e);if(t==="int128")return(0,de.intCV)(e);if(t==="bool"){if(e.toLowerCase()==="true")return(0,de.trueCV)();if(e.toLowerCase()==="false")return(0,de.falseCV)();throw new Error(`Invalid bool value: ${e}`)}else if(t==="principal")if(e.includes(".")){let[n,s]=e.split(".");return(0,de.contractPrincipalCV)(n,s)}else return(0,de.standardPrincipalCV)(e);else throw new Error(`Contract function contains unsupported Clarity ABI type: ${r}`)}else if((0,z.isClarityAbiBuffer)(t)){if((0,pl.utf8ToBytes)(e).byteLength>t.buffer.length)throw new Error(`Input exceeds specified buffer length limit of ${t.buffer.length}`);return(0,de.bufferCVFromString)(e)}else throw(0,z.isClarityAbiResponse)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${r}`):(0,z.isClarityAbiOptional)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${r}`):(0,z.isClarityAbiTuple)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${r}`):(0,z.isClarityAbiList)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${r}`):new Error(`Contract function contains unsupported Clarity ABI type: ${r}`)}z.parseToCV=p0});var gl=V(Ui=>{"use strict";b();E();Object.defineProperty(Ui,"__esModule",{value:!0});Ui.principal=void 0;var cn=Ks(),Er=Fe(),Ni=xt();function y0(e){if(T0(e)){let[t,r]=Li(e);return new Mi(t,r)}return new Mi(e,void 0)}Ui.principal=y0;var Mi=class{constructor(t,r){this.address=t,this.contractName=r}willSendEq(t){return new _r(this.address,t,Er.FungibleConditionCode.Equal,this.contractName)}willSendLte(t){return new _r(this.address,t,Er.FungibleConditionCode.LessEqual,this.contractName)}willSendLt(t){return new _r(this.address,t,Er.FungibleConditionCode.Less,this.contractName)}willSendGte(t){return new _r(this.address,t,Er.FungibleConditionCode.GreaterEqual,this.contractName)}willSendGt(t){return new _r(this.address,t,Er.FungibleConditionCode.Greater,this.contractName)}willSendAsset(){return new xi(this.address,Er.NonFungibleConditionCode.Sends,this.contractName)}willNotSendAsset(){return new xi(this.address,Er.NonFungibleConditionCode.DoesNotSend,this.contractName)}},_r=class{constructor(t,r,n,s){this.address=t,this.amount=r,this.code=n,this.contractName=s}ustx(){return this.contractName?(0,cn.makeContractSTXPostCondition)(this.address,this.contractName,this.code,this.amount):(0,cn.makeStandardSTXPostCondition)(this.address,this.code,this.amount)}ft(t,r){let[n,s]=Li(t);return this.contractName?(0,cn.makeContractFungiblePostCondition)(this.address,this.contractName,this.code,this.amount,(0,Ni.createAssetInfo)(n,s,r)):(0,cn.makeStandardFungiblePostCondition)(this.address,this.code,this.amount,(0,Ni.createAssetInfo)(n,s,r))}},xi=class{constructor(t,r,n){this.principal=t,this.code=r,this.contractName=n}nft(...t){let{contractAddress:r,contractName:n,tokenName:s,assetId:d}=S0(...t);return this.contractName?(0,cn.makeContractNonFungiblePostCondition)(this.principal,this.contractName,this.code,(0,Ni.createAssetInfo)(r,n,s),d):(0,cn.makeStandardNonFungiblePostCondition)(this.principal,this.code,(0,Ni.createAssetInfo)(r,n,s),d)}};function Li(e){let[t,r]=e.split(".");if(!t||!r)throw new Error(`Invalid contract identifier: ${e}`);return[t,r]}function g0(e){let[t,r]=e.split("::");if(!t||!r)throw new Error(`Invalid fully-qualified nft asset name: ${e}`);let[n,s]=Li(t);return{contractAddress:n,contractName:s,tokenName:r}}function T0(e){return e.includes(".")}function S0(...e){if(e.length===2){let[y,T]=e;return{...g0(y),assetId:T}}let[t,r,n]=e,[s,d]=Li(t);return{contractAddress:s,contractName:d,tokenName:r,assetId:n}}});var bl=V(Ge=>{"use strict";b();E();Object.defineProperty(Ge,"__esModule",{value:!0});Ge.signStructuredData=Ge.decodeStructuredDataSignature=Ge.encodeStructuredData=Ge.hashStructuredData=Ge.STRUCTURED_DATA_PREFIX=void 0;var Sl=rt(),$s=ae(),Vi=Ut(),C0=Fe(),b0=Qt();Ge.STRUCTURED_DATA_PREFIX=new Uint8Array([83,73,80,48,49,56]);function qs(e){return Sl.base.sha256((0,Vi.serializeCV)(e))}Ge.hashStructuredData=qs;var Tl=32;function E0(e){return!(e.type!==Vi.ClarityType.Tuple||!["name","version","chain-id"].every(t=>t in e.data)||!["name","version"].every(t=>e.data[t].type===Vi.ClarityType.StringASCII)||e.data["chain-id"].type!==Vi.ClarityType.UInt)}function Cl({message:e,domain:t}){let r=qs(e);if(!E0(t))throw new Error("domain parameter must be a valid domain of type TupleCV with keys 'name', 'version', 'chain-id' with respective types StringASCII, StringASCII, UInt");let n=qs(t);return(0,$s.concatBytes)(Ge.STRUCTURED_DATA_PREFIX,n,r)}Ge.encodeStructuredData=Cl;function _0(e){let t=typeof e=="string"?(0,$s.utf8ToBytes)(e):e,r=t.slice(Ge.STRUCTURED_DATA_PREFIX.length,Ge.STRUCTURED_DATA_PREFIX.length+Tl),n=t.slice(Ge.STRUCTURED_DATA_PREFIX.length+Tl);return{domainHash:r,messageHash:n}}Ge.decodeStructuredDataSignature=_0;function m0({message:e,domain:t,privateKey:r}){let n=(0,$s.bytesToHex)(Sl.base.sha256(Cl({message:e,domain:t}))),{data:s}=(0,b0.signMessageHashRsv)({messageHash:n,privateKey:r});return{data:s,type:C0.StacksMessageType.StructuredDataSignature}}Ge.signStructuredData=m0});var Jr=V(q=>{"use strict";b();E();var El=q&&q.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),P0=q&&q.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ct=q&&q.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&El(t,e,r)},_l=q&&q.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&El(t,e,r);return P0(t,e),t};Object.defineProperty(q,"__esModule",{value:!0});q.deserializeTransaction=q.StacksTransaction=q.createSTXPostCondition=q.createNonFungiblePostCondition=q.createFungiblePostCondition=q.Pc=q.serializePayload=q.isTokenTransferPayload=q.isSmartContractPayload=q.isPoisonPayload=q.isContractCallPayload=q.isCoinbasePayload=q.Cl=q.BytesReader=q.isSingleSig=q.emptyMessageSignature=void 0;ct(Zr(),q);var ml=Zr();Object.defineProperty(q,"emptyMessageSignature",{enumerable:!0,get:function(){return ml.emptyMessageSignature}});Object.defineProperty(q,"isSingleSig",{enumerable:!0,get:function(){return ml.isSingleSig}});ct(Ks(),q);var A0=Si();Object.defineProperty(q,"BytesReader",{enumerable:!0,get:function(){return A0.BytesReader}});q.Cl=_l(dl());ct(Ut(),q);ct(Lr(),q);ct(Fe(),q);ct(yl(),q);ct(Qt(),q);var un=zr();Object.defineProperty(q,"isCoinbasePayload",{enumerable:!0,get:function(){return un.isCoinbasePayload}});Object.defineProperty(q,"isContractCallPayload",{enumerable:!0,get:function(){return un.isContractCallPayload}});Object.defineProperty(q,"isPoisonPayload",{enumerable:!0,get:function(){return un.isPoisonPayload}});Object.defineProperty(q,"isSmartContractPayload",{enumerable:!0,get:function(){return un.isSmartContractPayload}});Object.defineProperty(q,"isTokenTransferPayload",{enumerable:!0,get:function(){return un.isTokenTransferPayload}});Object.defineProperty(q,"serializePayload",{enumerable:!0,get:function(){return un.serializePayload}});q.Pc=_l(gl());var js=Bs();Object.defineProperty(q,"createFungiblePostCondition",{enumerable:!0,get:function(){return js.createFungiblePostCondition}});Object.defineProperty(q,"createNonFungiblePostCondition",{enumerable:!0,get:function(){return js.createNonFungiblePostCondition}});Object.defineProperty(q,"createSTXPostCondition",{enumerable:!0,get:function(){return js.createSTXPostCondition}});ct(xt(),q);ct(vn(),q);ct(xs(),q);ct(bl(),q);var Pl=Ds();Object.defineProperty(q,"StacksTransaction",{enumerable:!0,get:function(){return Pl.StacksTransaction}});Object.defineProperty(q,"deserializeTransaction",{enumerable:!0,get:function(){return Pl.deserializeTransaction}});ct(er(),q);ct(gt(),q)});var Al=V(Di=>{"use strict";b();E();Object.defineProperty(Di,"__esModule",{value:!0});Di.hashRipemd160=void 0;var w0=rt();function I0(e){return w0.base.ripemd160(e)}Di.hashRipemd160=I0});var ki=V(ir=>{"use strict";b();E();Object.defineProperty(ir,"__esModule",{value:!0});ir.hashSha512Sync=ir.hashSha256Sync=ir.NodeCryptoSha2Hash=void 0;var wl=rt(),Gs=class{constructor(t){this.createHash=t}async digest(t,r="sha256"){try{let n=this.createHash(r).update(t).digest();return Promise.resolve(n)}catch(n){return console.log(n),console.log(`Error performing ${r} digest with Node.js 'crypto.createHash', falling back to JS implementation.`),Promise.resolve(r==="sha256"?Il(t):vl(t))}}};ir.NodeCryptoSha2Hash=Gs;function Il(e){return wl.base.sha256(e)}ir.hashSha256Sync=Il;function vl(e){return wl.base.sha512(e)}ir.hashSha512Sync=vl});var Xs=V(Me=>{"use strict";b();E();Object.defineProperty(Me,"__esModule",{value:!0});Me.compressPrivateKey=Me.isValidPrivateKey=Me.ecSign=Me.getPublicKeyFromPrivate=Me.publicKeyToBtcAddress=Me.base58CheckEncode=Me.base58Encode=Me.base58CheckDecode=Me.makeECPrivateKey=void 0;var St=rt(),v0=St.secp256k1.getPublicKey,O0=St.secp256k1.signSync,Ws=St.secp256k1.utils,pt=ae(),B0=Al(),R0=ki(),N0=0;Ws.hmacSha256Sync=(e,...t)=>{let r=St.base.hmac.create(St.base.sha256,e);return t.forEach(n=>r.update(n)),r.digest()};function M0(){return(0,pt.bytesToHex)(Ws.randomPrivateKey())}Me.makeECPrivateKey=M0;function x0(e){let t=St.base.base58.decode(e),r=t.slice(0,-4),n=t.slice(-4),s=St.base.sha256(St.base.sha256(r));if(n[0]^s[0]|n[1]^s[1]|n[2]^s[2]|n[3]^s[3])throw new Error("Invalid checksum");if(r.length!==21)throw new TypeError("Invalid address length");let d=(0,pt.readUInt8)(r,0),y=r.slice(1);return{version:d,hash:y}}Me.base58CheckDecode=x0;function Ol(e){let t=St.base.sha256(St.base.sha256(e));return St.base.base58.encode((0,pt.concatBytes)(e,t).slice(0,e.length+4))}Me.base58Encode=Ol;function Bl(e,t){return Ol((0,pt.concatBytes)(new Uint8Array([e]),t.slice(0,20)))}Me.base58CheckEncode=Bl;function L0(e,t=N0){let r=typeof e=="string"?(0,pt.hexToBytes)(e):e,n=(0,B0.hashRipemd160)((0,R0.hashSha256Sync)(r));return Bl(t,n)}Me.publicKeyToBtcAddress=L0;function U0(e){let t=(0,pt.privateKeyToBytes)(e);return(0,pt.bytesToHex)(v0(t.slice(0,32),!0))}Me.getPublicKeyFromPrivate=U0;function V0(e,t){return O0(e,(0,pt.privateKeyToBytes)(t).slice(0,32),{der:!1})}Me.ecSign=V0;function D0(e){return Ws.isValidPrivateKey((0,pt.privateKeyToBytes)(e))}Me.isValidPrivateKey=D0;function k0(e){let t=(0,pt.privateKeyToBytes)(e);return t.length==pt.PRIVATE_KEY_COMPRESSED_LENGTH?t:(0,pt.concatBytes)(t,new Uint8Array([1]))}Me.compressPrivateKey=k0});var Rl=V(Hi=>{"use strict";b();E();Object.defineProperty(Hi,"__esModule",{value:!0});Hi.randomBytes=void 0;var H0=rt(),K0=(e=32)=>H0.base.randomBytes(e);Hi.randomBytes=K0});var Ys=V(or=>{"use strict";b();E();Object.defineProperty(or,"__esModule",{value:!0});or.hashCode=or.getBase64OutputLength=or.getAesCbcOutputLength=void 0;function F0(e){return(Math.floor(e/16)+1)*16}or.getAesCbcOutputLength=F0;function z0(e){return Math.ceil(e/3)*4}or.getBase64OutputLength=z0;function q0(e){let t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);t=(t<<5)-t+n,t&=t}return t&2147483647}or.hashCode=q0});var Ml=V(sr=>{"use strict";b();E();Object.defineProperty(sr,"__esModule",{value:!0});sr.encodingLength=sr.decode=sr.encode=void 0;var ut=ae(),$0=9007199254740991;function Js(e){if(e<0||e>$0||e%1!==0)throw new RangeError("value out of range")}function j0(e,t,r=0){return Js(e),t||(t=new Uint8Array(Nl(e))),e<253?(0,ut.writeUInt8)(t,e,r):e<=65535?((0,ut.writeUInt8)(t,253,r),(0,ut.writeUInt16LE)(t,e,r+1)):e<=4294967295?((0,ut.writeUInt8)(t,254,r),(0,ut.writeUInt32LE)(t,e,r+1)):((0,ut.writeUInt8)(t,255,r),(0,ut.writeUInt32LE)(t,e>>>0,r+1),(0,ut.writeUInt32LE)(t,e/4294967296|0,r+5)),t}sr.encode=j0;function G0(e,t=0){let r=(0,ut.readUInt8)(e,t);if(r<253)return r;if(r===253)return(0,ut.readUInt16LE)(e,t+1);if(r===254)return(0,ut.readUInt32LE)(e,t+1);{let n=(0,ut.readUInt32LE)(e,t+1),d=(0,ut.readUInt32LE)(e,t+5)*4294967296+n;return Js(d),d}}sr.decode=G0;function Nl(e){return Js(e),e<253?1:e<=65535?3:e<=4294967295?5:9}sr.encodingLength=Nl});var ea=V(ar=>{"use strict";b();E();Object.defineProperty(ar,"__esModule",{value:!0});ar.decodeMessage=ar.encodeMessage=ar.hashMessage=void 0;var W0=rt(),Ki=ae(),Zs=Ml(),Qs=`Stacks Signed Message:
`;function X0(e,t=Qs){return W0.base.sha256(xl(e,t))}ar.hashMessage=X0;function xl(e,t=Qs){let r=typeof e=="string"?(0,Ki.utf8ToBytes)(e):e,n=(0,Zs.encode)(r.length);return(0,Ki.concatBytes)((0,Ki.utf8ToBytes)(t),n,r)}ar.encodeMessage=xl;function Y0(e,t=Qs){let r=(0,Ki.utf8ToBytes)(t).byteLength,n=e.subarray(r),s=(0,Zs.decode)(n),d=(0,Zs.encodingLength)(s);return n.slice(d)}ar.decodeMessage=Y0});var Kl=V(Pe=>{"use strict";b();E();Object.defineProperty(Pe,"__esModule",{value:!0});Pe.verifyMessageSignatureRsv=Pe.verifyMessageSignature=Pe.verifyECDSA=Pe.signECDSA=Pe.eciesGetJsonStringLength=Pe.getSignedCipherObjectWrapper=Pe.getCipherObjectWrapper=Pe.getBytesFromBN=Pe.getHexFromBN=Pe.hmacSha256=Pe.InvalidPublicKeyReason=void 0;var Ct=rt(),J0=Ct.secp256k1.signSync,Z0=Ct.secp256k1.utils,cr=ae(),Q0=Xs(),Ll=ea(),Vl=ki(),Ul=Ys();Z0.hmacSha256Sync=(e,...t)=>{let r=Ct.base.hmac.create(Ct.base.sha256,e);return t.forEach(n=>r.update(n)),r.digest()};var eT;(function(e){e.InvalidFormat="InvalidFormat",e.IsNotPoint="IsNotPoint"})(eT=Pe.InvalidPublicKeyReason||(Pe.InvalidPublicKeyReason={}));function tT(e,t){return Ct.base.hmac(Ct.base.sha256,e,t)}Pe.hmacSha256=tT;function rT(e){let t=e.toString(16);if(t.length===64)return t;if(t.length<64)return`${"0".repeat(64-t.length)}${t}`;throw new Error("Generated a > 32-byte BN for encryption. Failing.")}Pe.getHexFromBN=rT;function nT(e){let t=(0,cr.bigIntToBytes)(e,32);if(t.byteLength!==32)throw new Error("Failed to generate a 32-byte Uint8Array");return t}Pe.getBytesFromBN=nT;function Dl(e){let t={iv:"",ephemeralPK:"",mac:"",cipherText:"",wasString:!!e.wasString};e.cipherTextEncoding==="base64"&&(t.cipherTextEncoding="base64");let r=32,n=66,s=64;return{payloadValuesLength:r+n+s,payloadShell:JSON.stringify(t)}}Pe.getCipherObjectWrapper=Dl;function kl(e){let t={signature:"",publicKey:"",cipherText:e};return{signedPayloadValuesLength:144+66,signedPayloadShell:JSON.stringify(t)}}Pe.getSignedCipherObjectWrapper=kl;function iT(e){let{payloadShell:t,payloadValuesLength:r}=Dl(e),n=(0,Ul.getAesCbcOutputLength)(e.contentLength),s;if(!e.cipherTextEncoding||e.cipherTextEncoding==="hex")s=n*2;else if(e.cipherTextEncoding==="base64")s=(0,Ul.getBase64OutputLength)(n);else throw new Error(`Unexpected cipherTextEncoding "${e.cipherTextEncoding}"`);if(e.sign){let{signedPayloadShell:d,signedPayloadValuesLength:y}=kl(t);return d.length+y+r+s}else return t.length+r+s}Pe.eciesGetJsonStringLength=iT;function oT(e,t){let r=typeof t=="string"?(0,cr.utf8ToBytes)(t):t,n=(0,Q0.getPublicKeyFromPrivate)(e),s=(0,Vl.hashSha256Sync)(r),d=J0(s,e);return{signature:(0,cr.bytesToHex)(d),publicKey:n}}Pe.signECDSA=oT;function sT(e,t,r){let n=typeof e=="string"?(0,cr.utf8ToBytes)(e):e,s=(0,Vl.hashSha256Sync)(n);return Ct.secp256k1.verify(r,s,t,{strict:!1})}Pe.verifyECDSA=sT;function Hl({signature:e,message:t,publicKey:r}){let{r:n,s}=(0,cr.parseRecoverableSignatureVrs)(e),d=new Ct.secp256k1.Signature((0,cr.hexToBigInt)(n),(0,cr.hexToBigInt)(s)),y=typeof t=="string"?(0,Ll.hashMessage)(t):t,T=Ct.secp256k1.verify(d,y,r,{strict:!1});if(T||typeof t!="string")return T;let h=`Stacks Message Signing:
`,f=Ct.base.sha256((0,Ll.encodeMessage)(t,h));return Ct.secp256k1.verify(d,f,r,{strict:!1})}Pe.verifyMessageSignature=Hl;function aT({signature:e,message:t,publicKey:r}){return Hl({signature:(0,cr.signatureRsvToVrs)(e),message:t,publicKey:r})}Pe.verifyMessageSignatureRsv=aT});var ta=V(yt=>{"use strict";b();E();var cT=yt&&yt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ln=yt&&yt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&cT(t,e,r)};Object.defineProperty(yt,"__esModule",{value:!0});ln(Xs(),yt);ln(Rl(),yt);ln(ki(),yt);ln(Ys(),yt);ln(ea(),yt);ln(Kl(),yt)});var Fl=V(Te=>{"use strict";b();E();Object.defineProperty(Te,"__esModule",{value:!0});Te.StackingErrors=Te.PoxOperationPeriod=Te.SEGWIT_V1=Te.SEGWIT_V0=Te.SEGWIT_ADDR_PREFIXES=Te.SegwitPrefix=Te.SEGWIT_V1_ADDR_PREFIX=Te.SEGWIT_V0_ADDR_PREFIX=Te.B58_ADDR_PREFIXES=Te.BitcoinNetworkVersion=Te.PoXAddressVersion=void 0;var uT;(function(e){e[e.P2PKH=0]="P2PKH",e[e.P2SH=1]="P2SH",e[e.P2SHP2WPKH=2]="P2SHP2WPKH",e[e.P2SHP2WSH=3]="P2SHP2WSH",e[e.P2WPKH=4]="P2WPKH",e[e.P2WSH=5]="P2WSH",e[e.P2TR=6]="P2TR"})(uT=Te.PoXAddressVersion||(Te.PoXAddressVersion={}));Te.BitcoinNetworkVersion={mainnet:{P2PKH:0,P2SH:5},testnet:{P2PKH:111,P2SH:196},regtest:{P2PKH:111,P2SH:196}};Te.B58_ADDR_PREFIXES=/^(1|3|m|n|2)/;Te.SEGWIT_V0_ADDR_PREFIX=/^(bc1q|tb1q|bcrt1q)/i;Te.SEGWIT_V1_ADDR_PREFIX=/^(bc1p|tb1p|bcrt1p)/i;Te.SegwitPrefix={mainnet:"bc",testnet:"tb",regtest:"bcrt"};Te.SEGWIT_ADDR_PREFIXES=/^(bc|tb)/i;Te.SEGWIT_V0=0;Te.SEGWIT_V1=1;var lT;(function(e){e.Period1="Period1",e.Period2a="Period2a",e.Period2b="Period2b",e.Period3="Period3"})(lT=Te.PoxOperationPeriod||(Te.PoxOperationPeriod={}));var fT;(function(e){e[e.ERR_STACKING_UNREACHABLE=255]="ERR_STACKING_UNREACHABLE",e[e.ERR_STACKING_CORRUPTED_STATE=254]="ERR_STACKING_CORRUPTED_STATE",e[e.ERR_STACKING_INSUFFICIENT_FUNDS=1]="ERR_STACKING_INSUFFICIENT_FUNDS",e[e.ERR_STACKING_INVALID_LOCK_PERIOD=2]="ERR_STACKING_INVALID_LOCK_PERIOD",e[e.ERR_STACKING_ALREADY_STACKED=3]="ERR_STACKING_ALREADY_STACKED",e[e.ERR_STACKING_NO_SUCH_PRINCIPAL=4]="ERR_STACKING_NO_SUCH_PRINCIPAL",e[e.ERR_STACKING_EXPIRED=5]="ERR_STACKING_EXPIRED",e[e.ERR_STACKING_STX_LOCKED=6]="ERR_STACKING_STX_LOCKED",e[e.ERR_STACKING_PERMISSION_DENIED=9]="ERR_STACKING_PERMISSION_DENIED",e[e.ERR_STACKING_THRESHOLD_NOT_MET=11]="ERR_STACKING_THRESHOLD_NOT_MET",e[e.ERR_STACKING_POX_ADDRESS_IN_USE=12]="ERR_STACKING_POX_ADDRESS_IN_USE",e[e.ERR_STACKING_INVALID_POX_ADDRESS=13]="ERR_STACKING_INVALID_POX_ADDRESS",e[e.ERR_STACKING_ALREADY_REJECTED=17]="ERR_STACKING_ALREADY_REJECTED",e[e.ERR_STACKING_INVALID_AMOUNT=18]="ERR_STACKING_INVALID_AMOUNT",e[e.ERR_NOT_ALLOWED=19]="ERR_NOT_ALLOWED",e[e.ERR_STACKING_ALREADY_DELEGATED=20]="ERR_STACKING_ALREADY_DELEGATED",e[e.ERR_DELEGATION_EXPIRES_DURING_LOCK=21]="ERR_DELEGATION_EXPIRES_DURING_LOCK",e[e.ERR_DELEGATION_TOO_MUCH_LOCKED=22]="ERR_DELEGATION_TOO_MUCH_LOCKED",e[e.ERR_DELEGATION_POX_ADDR_REQUIRED=23]="ERR_DELEGATION_POX_ADDR_REQUIRED",e[e.ERR_INVALID_START_BURN_HEIGHT=24]="ERR_INVALID_START_BURN_HEIGHT",e[e.ERR_NOT_CURRENT_STACKER=25]="ERR_NOT_CURRENT_STACKER",e[e.ERR_STACK_EXTEND_NOT_LOCKED=26]="ERR_STACK_EXTEND_NOT_LOCKED",e[e.ERR_STACK_INCREASE_NOT_LOCKED=27]="ERR_STACK_INCREASE_NOT_LOCKED",e[e.ERR_DELEGATION_NO_REWARD_SLOT=28]="ERR_DELEGATION_NO_REWARD_SLOT",e[e.ERR_DELEGATION_WRONG_REWARD_SLOT=29]="ERR_DELEGATION_WRONG_REWARD_SLOT",e[e.ERR_STACKING_IS_DELEGATED=30]="ERR_STACKING_IS_DELEGATED",e[e.ERR_STACKING_NOT_DELEGATED=31]="ERR_STACKING_NOT_DELEGATED"})(fT=Te.StackingErrors||(Te.StackingErrors={}))});var ra=V(we=>{"use strict";b();E();Object.defineProperty(we,"__esModule",{value:!0});we.ensureLegacyBtcAddressForPox1=we.ensurePox2Activated=we.unwrapMap=we.unwrap=we.poxAddressToBtcAddress=we.poxAddressToTuple=we.getErrorString=we.extractPoxAddressFromClarityValue=we.decodeBtcAddress=we.btcAddressVersionToLegacyHashMode=we.InvalidAddressError=void 0;var ur=rt(),dT=ae(),zl=ta(),Ot=Jr(),H=Fl(),Fi=class extends Error{constructor(t,r){let n=`'${t}' is not a valid P2PKH/P2SH/P2WPKH/P2WSH/P2TR address`;super(n),this.message=n,this.name=this.constructor.name,this.innerError=r,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}};we.InvalidAddressError=Fi;function ql(e){switch(e){case H.BitcoinNetworkVersion.mainnet.P2PKH:return H.PoXAddressVersion.P2PKH;case H.BitcoinNetworkVersion.testnet.P2PKH:return H.PoXAddressVersion.P2PKH;case H.BitcoinNetworkVersion.mainnet.P2SH:return H.PoXAddressVersion.P2SH;case H.BitcoinNetworkVersion.testnet.P2SH:return H.PoXAddressVersion.P2SH;default:throw new Error("Invalid pox address version")}}we.btcAddressVersionToLegacyHashMode=ql;function hT(e,t){if(e===H.SEGWIT_V0&&t===20)return H.PoXAddressVersion.P2WPKH;if(e===H.SEGWIT_V0&&t===32)return H.PoXAddressVersion.P2WSH;if(e===H.SEGWIT_V1&&t===32)return H.PoXAddressVersion.P2TR;throw new Error("Invalid native segwit witness version and byte length. Currently, only P2WPKH, P2WSH, and P2TR are supported.")}function pT(e){let{words:t}=ur.base.bech32.decode(e),r=t[0];if(r>0)throw new Error("Addresses with a witness version >= 1 should be encoded in bech32m");return{witnessVersion:r,data:ur.base.bech32.fromWords(t.slice(1))}}function yT(e){let{words:t}=ur.base.bech32m.decode(e),r=t[0];if(r==0)throw new Error("Addresses with witness version 1 should be encoded in bech32");return{witnessVersion:r,data:ur.base.bech32m.fromWords(t.slice(1))}}function gT(e){if(H.SEGWIT_V0_ADDR_PREFIX.test(e))return pT(e);if(H.SEGWIT_V1_ADDR_PREFIX.test(e))return yT(e);throw new Error(`Native segwit address ${e} does not match valid prefix ${H.SEGWIT_V0_ADDR_PREFIX} or ${H.SEGWIT_V1_ADDR_PREFIX}`)}function $l(e){try{if(H.B58_ADDR_PREFIXES.test(e)){let t=(0,zl.base58CheckDecode)(e);return{version:ql(t.version),data:t.hash}}else if(H.SEGWIT_ADDR_PREFIXES.test(e)){let t=gT(e);return{version:hT(t.witnessVersion,t.data.length),data:t.data}}throw new Error("Unknown BTC address prefix.")}catch(t){throw new Fi(e,t)}}we.decodeBtcAddress=$l;function jl(e){let t=e;if(t.type!==Ot.ClarityType.Tuple||!t.data)throw new Error("Invalid argument, expected ClarityValue to be a TupleCV");if(!("version"in t.data)||!("hashbytes"in t.data))throw new Error("Invalid argument, expected Clarity tuple value to contain `version` and `hashbytes` keys");let r=t.data.version,n=t.data.hashbytes;if(r.type!==Ot.ClarityType.Buffer||n.type!==Ot.ClarityType.Buffer)throw new Error("Invalid argument, expected Clarity tuple value to contain `version` and `hashbytes` buffers");return{version:r.buffer[0],hashBytes:n.buffer}}we.extractPoxAddressFromClarityValue=jl;function TT(e){switch(e){case H.StackingErrors.ERR_STACKING_UNREACHABLE:return"Stacking unreachable";case H.StackingErrors.ERR_STACKING_CORRUPTED_STATE:return"Stacking state is corrupted";case H.StackingErrors.ERR_STACKING_INSUFFICIENT_FUNDS:return"Insufficient funds";case H.StackingErrors.ERR_STACKING_INVALID_LOCK_PERIOD:return"Invalid lock period";case H.StackingErrors.ERR_STACKING_ALREADY_STACKED:return"Account already stacked. Concurrent stacking not allowed.";case H.StackingErrors.ERR_STACKING_NO_SUCH_PRINCIPAL:return"Principal does not exist";case H.StackingErrors.ERR_STACKING_EXPIRED:return"Stacking expired";case H.StackingErrors.ERR_STACKING_STX_LOCKED:return"STX balance is locked";case H.StackingErrors.ERR_STACKING_PERMISSION_DENIED:return"Permission denied";case H.StackingErrors.ERR_STACKING_THRESHOLD_NOT_MET:return"Stacking threshold not met";case H.StackingErrors.ERR_STACKING_POX_ADDRESS_IN_USE:return"PoX address already in use";case H.StackingErrors.ERR_STACKING_INVALID_POX_ADDRESS:return"Invalid PoX address";case H.StackingErrors.ERR_STACKING_ALREADY_REJECTED:return"Stacking already rejected";case H.StackingErrors.ERR_STACKING_INVALID_AMOUNT:return"Invalid amount";case H.StackingErrors.ERR_NOT_ALLOWED:return"Stacking not allowed";case H.StackingErrors.ERR_STACKING_ALREADY_DELEGATED:return"Already delegated";case H.StackingErrors.ERR_DELEGATION_EXPIRES_DURING_LOCK:return"Delegation expires during lock period";case H.StackingErrors.ERR_DELEGATION_TOO_MUCH_LOCKED:return"Delegation too much locked";case H.StackingErrors.ERR_DELEGATION_POX_ADDR_REQUIRED:return"PoX address required for delegation";case H.StackingErrors.ERR_INVALID_START_BURN_HEIGHT:return"Invalid start burn height";case H.StackingErrors.ERR_NOT_CURRENT_STACKER:return"ERR_NOT_CURRENT_STACKER";case H.StackingErrors.ERR_STACK_EXTEND_NOT_LOCKED:return"Stacker must be currently locked";case H.StackingErrors.ERR_STACK_INCREASE_NOT_LOCKED:return"Stacker must be currently locked";case H.StackingErrors.ERR_DELEGATION_NO_REWARD_SLOT:return"Invalid reward-cycle and reward-cycle-index";case H.StackingErrors.ERR_DELEGATION_WRONG_REWARD_SLOT:return"PoX address must match the one on record";case H.StackingErrors.ERR_STACKING_IS_DELEGATED:return"Stacker must be directly stacking and not delegating";case H.StackingErrors.ERR_STACKING_NOT_DELEGATED:return"Stacker must be delegating and not be directly stacking"}}we.getErrorString=TT;function ST(e){let{version:t,data:r}=$l(e),n=(0,Ot.bufferCV)((0,dT.bigIntToBytes)(BigInt(t),1)),s=(0,Ot.bufferCV)(r);return(0,Ot.tupleCV)({version:n,hashbytes:s})}we.poxAddressToTuple=ST;function CT(e,t){switch(e){case H.PoXAddressVersion.P2PKH:return H.BitcoinNetworkVersion[t].P2PKH;case H.PoXAddressVersion.P2SH:case H.PoXAddressVersion.P2SHP2WPKH:case H.PoXAddressVersion.P2SHP2WSH:return H.BitcoinNetworkVersion[t].P2SH;default:throw new Error("Invalid pox address version")}}function Gl(e,t,r){if(!["mainnet","testnet","regtest"].includes(r))throw new Error("Invalid network.");switch(e){case H.PoXAddressVersion.P2PKH:case H.PoXAddressVersion.P2SH:case H.PoXAddressVersion.P2SHP2WPKH:case H.PoXAddressVersion.P2SHP2WSH:{let n=CT(e,r);return(0,zl.base58CheckEncode)(n,t)}case H.PoXAddressVersion.P2WPKH:case H.PoXAddressVersion.P2WSH:{let n=ur.base.bech32.toWords(t);return ur.base.bech32.encode(H.SegwitPrefix[r],[H.SEGWIT_V0,...n])}case H.PoXAddressVersion.P2TR:{let n=ur.base.bech32m.toWords(t);return ur.base.bech32m.encode(H.SegwitPrefix[r],[H.SEGWIT_V1,...n])}}throw new Error(`Unexpected address version: ${e}`)}function bT(e,t){let r=jl(e);return Gl(r.version,r.hashBytes,t)}function ET(...e){return typeof e[0]=="number"?Gl(e[0],e[1],e[2]):bT(e[0],e[1])}we.poxAddressToBtcAddress=ET;function _T(e){if(e.type===Ot.ClarityType.OptionalSome)return e.value;if(e.type!==Ot.ClarityType.OptionalNone)throw new Error("Object is not an 'Optional'")}we.unwrap=_T;function mT(e,t){if(e.type===Ot.ClarityType.OptionalSome)return t(e.value);if(e.type!==Ot.ClarityType.OptionalNone)throw new Error("Object is not an 'Optional'")}we.unwrapMap=mT;function PT(e){if(e.period===H.PoxOperationPeriod.Period1)throw new Error(`PoX-2 has not activated yet (currently in period ${e.period} of PoX-2 operation)`)}we.ensurePox2Activated=PT;function AT({contract:e,poxAddress:t}){if(!!t&&e.endsWith(".pox")&&!H.B58_ADDR_PREFIXES.test(t))throw new Error("PoX-1 requires P2PKH/P2SH/P2SH-P2WPKH/P2SH-P2WSH bitcoin addresses")}we.ensureLegacyBtcAddressForPox1=AT});var ia=V(lt=>{"use strict";b();E();var wT=lt&&lt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),IT=lt&&lt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&wT(t,e,r)};Object.defineProperty(lt,"__esModule",{value:!0});lt.getDelegateOptions=lt.renamePrivateKey=lt.stack=void 0;var vT=ae(),Wl=Un(),Je=Jr(),na=ra();IT(ra(),lt);async function OT({contract:e,amountMicroStx:t,poxAddress:r,cycles:n,burnBlockHeight:s,...d}){(0,na.ensureLegacyBtcAddressForPox1)({contract:e,poxAddress:r});let y=BT({amountMicroStx:t,cycles:n,poxAddress:r,contract:e,burnBlockHeight:s}),T=await(0,Je.makeContractCall)({...y,...Xl(d)}),h=(0,Je.addHex)(T.txid()),f=(0,vT.bytesToHex)(T.serialize());return{txId:h,txSerializedHexString:f}}lt.stack=OT;function BT({amountMicroStx:e,poxAddress:t,cycles:r,contract:n,burnBlockHeight:s}){let d=(0,na.poxAddressToTuple)(t),[y,T]=RT(n);return{contractAddress:y,contractName:T,functionName:"stack-stx",functionArgs:[(0,Je.uintCV)(e),d,(0,Je.uintCV)(s),(0,Je.uintCV)(r)],validateWithAbi:!0,network:new Wl.StacksMainnet,anchorMode:Je.AnchorMode.Any}}function RT(e){let t=e.split(".");if(t.length===2&&(0,Je.validateStacksAddress)(t[0])&&t[1].startsWith("pox"))return t;throw new Error("Stacking contract ID is malformed")}function Xl(e){return e.senderKey=e.privateKey,delete e.privateKey,e}lt.renamePrivateKey=Xl;function NT(e,t,r,n,s,d,y){let T=y?(0,Je.someCV)((0,na.poxAddressToTuple)(y)):(0,Je.noneCV)();return{contractAddress:e,contractName:t,functionName:r,functionArgs:[(0,Je.uintCV)(n),(0,Je.principalCV)(s),d?(0,Je.someCV)((0,Je.uintCV)(d)):(0,Je.noneCV)(),T],validateWithAbi:!0,network:new Wl.StacksMainnet,anchorMode:Je.AnchorMode.Any}}lt.getDelegateOptions=NT});var Yl=V(se=>{"use strict";b();E();Object.defineProperty(se,"__esModule",{value:!0});se.getDeployPayload=se.getContractCallPayload=se.getRevokeDelegateStxPayload=se.getDelegateStxPayload=se.getAllowContractCallerPayload=se.getTokenTransferPayload=se.getTransferPayload=se.revokeDelegateStx=se.delegateStx=se.ContractDeployTx=se.makeContractCallTx=se.TransactionTypes=se.allowContractCaller=se.tokenTransfer=se.stacks=se.transfer=void 0;var N=Jr(),lr=zr(),Ze=ae(),zi=Un(),oa=ia();function MT(e,t,r,n,s,d,y){let T=N.TransactionVersion.Mainnet,h=t,f=(0,N.createStandardPrincipal)(h),M=(0,N.standardPrincipalCV)(h),A=(0,lr.createTokenTransferPayload)(M,r,n),w=N.AddressHashMode.SerializeP2PKH,_=(0,N.createStacksPrivateKey)(e),v=(0,Ze.bytesToHex)((0,N.getPublicKey)(_).data),B=(0,N.createSingleSigSpendingCondition)(w,v,s,d),O=(0,N.createStandardAuth)(B),x=(0,N.createLPList)([]),J=new N.StacksTransaction(T,O,A,x,void 0,y);new N.TransactionSigner(J).signOrigin((0,N.createStacksPrivateKey)(e)),J.verifyOrigin();let xe=(0,N.addHex)(J.txid()),Ve=J.serialize(),Ie=(0,Ze.bytesToHex)(Ve);return{txId:xe,txSerializedHexString:Ie}}se.transfer=MT;async function xT(e,t,r,n,s,d,y,T,h){let f=new zi.StacksMainnet;return await(0,oa.stack)({contract:y,amountMicroStx:n,poxAddress:r,cycles:s,privateKey:e,burnBlockHeight:d,fee:T,nonce:h})}se.stacks=xT;async function LT(e,t,r,n,s,d,y,T,h,f,M){let A=await(0,N.makeContractCall)({anchorMode:N.AnchorMode.Any,contractAddress:d,contractName:y,fee:M,functionArgs:[(0,N.uintCV)(s),(0,N.standardPrincipalCV)(t),(0,N.standardPrincipalCV)(r),(0,N.someCV)((0,N.bufferCVFromString)(n))],functionName:h,nonce:f,postConditionMode:N.PostConditionMode.Deny,postConditions:[(0,N.makeStandardFungiblePostCondition)(t,N.FungibleConditionCode.Equal,s,(0,N.createAssetInfo)(d,y,T))],senderKey:e,network:new zi.StacksMainnet}),w=(0,N.addHex)(A.txid()),_=(0,Ze.bytesToHex)(A.serialize());return{txId:w,txSerializedHexString:_}}se.tokenTransfer=LT;async function UT(e,t,r,n,s,d,y,T){let h=await(0,N.makeContractCall)({anchorMode:N.AnchorMode.Any,contractAddress:r,contractName:n,fee:T,functionArgs:[(0,N.principalCV)(t),d?(0,N.someCV)((0,N.uintCV)(d)):(0,N.noneCV)()],functionName:s,nonce:y,senderKey:e,network:new zi.StacksMainnet}),f=(0,N.addHex)(h.txid()),M=(0,Ze.bytesToHex)(h.serialize());return{txId:f,txSerializedHexString:M}}se.allowContractCaller=UT;var VT;(function(e){e.ContractCall="contract_call",e.ContractDeploy="smart_contract",e.STXTransfer="token_transfer"})(VT=se.TransactionTypes||(se.TransactionTypes={}));async function DT(e,t){let{txData:r,nonce:n,fee:s}=e,{contractName:d,contractAddress:y,functionName:T,functionArgs:h,sponsored:f,postConditionMode:M,postConditions:A,anchorMode:w}=r,_=h.map(J=>(0,N.deserializeCV)((0,N.hexToBuff)(J))),v={senderKey:t,contractName:d,contractAddress:y,functionName:T,anchorMode:w??N.AnchorMode.Any,functionArgs:_,nonce:n,fee:s,postConditionMode:M,postConditions:A?.map(N.postConditionFromString),sponsored:f},B=await(0,N.makeContractCall)(v),O=(0,N.addHex)(B.txid()),x=(0,Ze.bytesToHex)(B.serialize());return{txId:O,txSerializedHexString:x}}se.makeContractCallTx=DT;async function kT(e,t){let{txData:r,nonce:n,fee:s}=e,{contractName:d,codeBody:y,postConditions:T,postConditionMode:h,anchorMode:f}=r,M={senderKey:t,contractName:d,codeBody:y,nonce:n,fee:s,anchorMode:f??N.AnchorMode.Any,postConditionMode:h,postConditions:T?.map(N.postConditionFromString)},A=await(0,N.makeContractDeploy)(M),w=(0,N.addHex)(A.txid()),_=(0,Ze.bytesToHex)(A.serialize());return{txId:w,txSerializedHexString:_}}se.ContractDeployTx=kT;async function HT(e,t,r,n,s,d,y,T,h,f){let M=(0,oa.getDelegateOptions)(t,r,n,y,s,T,d),A=await(0,N.makeContractCall)({...M,senderKey:e,nonce:h,fee:f}),w=(0,N.addHex)(A.txid()),_=(0,Ze.bytesToHex)(A.serialize());return{txId:w,txSerializedHexString:_}}se.delegateStx=HT;async function KT(e,t,r,n,s,d){let y=await(0,N.makeContractCall)({anchorMode:N.AnchorMode.Any,contractAddress:t,contractName:r,fee:d,functionArgs:[],functionName:n,nonce:s,senderKey:e,network:new zi.StacksMainnet}),T=(0,N.addHex)(y.txid()),h=(0,Ze.bytesToHex)(y.serialize());return{txId:T,txSerializedHexString:h}}se.revokeDelegateStx=KT;function FT(e,t,r){let n=e,s=(0,N.standardPrincipalCV)(n),d=(0,lr.createTokenTransferPayload)(s,t,r),y=(0,N.serializePayload)(d);return(0,Ze.bytesToHex)(y)}se.getTransferPayload=FT;function zT(e,t,r,n,s,d,y){let T=(0,lr.createContractCallPayload)(s,d,y,[(0,N.uintCV)(n),(0,N.standardPrincipalCV)(e),(0,N.standardPrincipalCV)(t),(0,N.someCV)((0,N.bufferCVFromString)(r))]),h=(0,N.serializePayload)(T);return(0,Ze.bytesToHex)(h)}se.getTokenTransferPayload=zT;function qT(e,t,r,n,s){let d=(0,lr.createContractCallPayload)(t,r,n,[(0,N.principalCV)(e),s?(0,N.someCV)((0,N.uintCV)(s)):(0,N.noneCV)()]),y=(0,N.serializePayload)(d);return(0,Ze.bytesToHex)(y)}se.getAllowContractCallerPayload=qT;function $T(e,t,r,n,s,d,y){let T=s?(0,N.someCV)((0,oa.poxAddressToTuple)(s)):(0,N.noneCV)(),h=[(0,N.uintCV)(d),(0,N.principalCV)(n),y?(0,N.someCV)((0,N.uintCV)(y)):(0,N.noneCV)(),T],f=(0,lr.createContractCallPayload)(e,t,r,h),M=(0,N.serializePayload)(f);return(0,Ze.bytesToHex)(M)}se.getDelegateStxPayload=$T;function jT(e,t,r){let n=(0,lr.createContractCallPayload)(e,t,r,[]),s=(0,N.serializePayload)(n);return(0,Ze.bytesToHex)(s)}se.getRevokeDelegateStxPayload=jT;function GT(e,t,r,n){let s=n.map(T=>(0,N.deserializeCV)((0,N.hexToBuff)(T))),d=(0,lr.createContractCallPayload)(e,t,r,s),y=(0,N.serializePayload)(d);return(0,Ze.bytesToHex)(y)}se.getContractCallPayload=GT;function WT(e,t){let r=(0,lr.createSmartContractPayload)(e,t,N.ClarityVersion.Clarity2),n=(0,N.serializePayload)(r);return(0,Ze.bytesToHex)(n)}se.getDeployPayload=WT});var Zl=V((DE,Jl)=>{b();E();Jl.exports=globalThis["ok-metax-base"]});var Ql=V(qi=>{"use strict";b();E();Object.defineProperty(qi,"__esModule",{value:!0});qi.StxWallet=void 0;var fn=rt(),Re=Zl(),he=ef(),sa=class extends Re.BaseWallet{async getDerivedPath(t){return`m/44'/5757'/0'/0/${t.index}`}getDerivedPrivateKey(t){return fn.bip39.mnemonicToSeed(t.mnemonic).then(r=>{let n=fn.bip32.fromSeed(r).derivePath(t.hdPath);return n.privateKey?Promise.resolve(fn.base.toHex(n.privateKey)+"01"):Promise.reject(Re.GenPrivateKeyError)}).catch(r=>Promise.reject(Re.GenPrivateKeyError))}getRandomPrivateKey(){try{for(;;){let t=fn.base.randomBytes(32);if((0,Re.secp256k1SignTest)(t))return Promise.resolve(fn.base.toHex(t,!0)+"01")}}catch{}return Promise.reject(Re.GenPrivateKeyError)}getNewAddress(t){try{t.privateKey.startsWith("0x")&&(t.privateKey=t.privateKey.substring(2));let r=(0,he.createStacksPrivateKey)(t.privateKey),n=fn.base.toHex((0,he.getPublicKey)(r).data),s;t.version&&t.version==="Testnet"?s=(0,he.getAddressFromPublicKey)(n,he.TransactionVersion.Testnet):s=(0,he.getAddressFromPublicKey)(n);let d={address:s,publicKey:n};return Promise.resolve(d)}catch{return Promise.reject(Re.NewAddressError)}}async signTransaction(t){try{t.privateKey.startsWith("0x")&&(t.privateKey=t.privateKey.substring(2));let r=t.data;if(r.type=="transfer"){let n=r.data;if(n.to==null||n.amount==null||n.nonce==null||n.fee==null)return Promise.reject(Re.SignTxError);let s=(0,he.transfer)(t.privateKey,n.to,n.amount,n.memo,n.nonce,n.fee,n.anchorMode);return Promise.resolve(s)}else if(r.type=="tokenTransfer"){let n=r.data;if(n.from==null||n.to==null||n.amount==null||n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(Re.SignTxError);let s=await(0,he.tokenTransfer)(t.privateKey,n.from,n.to,n.memo,n.amount,n.contract,n.contractName,n.tokenName,n.functionName,n.nonce,n.fee);return Promise.resolve(s)}else if(r.type=="allowContractCaller"){let n=r.data;if(n.caller==null||n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(Re.SignTxError);let s=await(0,he.allowContractCaller)(t.privateKey,n.caller,n.contract,n.contractName,n.functionName,n.untilBurnBlockHeight,n.nonce,n.fee);return Promise.resolve(s)}else if(r.type=="delegateStx"){let n=r.data;if(n.contract==null||n.contractName==null||n.functionName==null||n.amountMicroStx==null||n.delegateTo==null)return Promise.reject(Re.SignTxError);let s=await(0,he.delegateStx)(t.privateKey,n.contract,n.contractName,n.functionName,n.delegateTo,n.poxAddress,n.amountMicroStx,n.untilBurnBlockHeight,n.nonce,n.fee);return Promise.resolve(s)}else if(r.type=="revokeDelegateStx"){let n=r.data;if(n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(Re.SignTxError);let s=await(0,he.revokeDelegateStx)(t.privateKey,n.contract,n.contractName,n.functionName,n.nonce,n.fee);return Promise.resolve(s)}else if(r.type=="contractCall"){let n=r.data,s=await(0,he.makeContractCallTx)(n,t.privateKey);return Promise.resolve(s)}else if(r.type=="deployContract"){let n=r.data,s=await(0,he.ContractDeployTx)(n,t.privateKey);return Promise.resolve(s)}return Promise.reject(Re.SignTxError)}catch(r){return Promise.reject(r)}}async signMessage(t){try{t.privateKey.startsWith("0x")&&(t.privateKey=t.privateKey.substring(2));let r=(0,he.createStacksPrivateKey)(t.privateKey);if(t.data.type=="signMessage"){let n=(0,he.hashMessage)(t.data.message),s=(0,he.signMessageHashRsv)({messageHash:(0,he.bytesToHex)(n),privateKey:r});return Promise.resolve({signature:s.data,publicKey:(0,he.publicKeyToString)((0,he.getPublicKey)(r))})}else if(t.data.type=="signStructuredData"){let n=t.data.message,s=t.data.domain,d=(0,he.signStructuredData)({message:n,domain:s,privateKey:r}).data;return Promise.resolve({signature:d,publicKey:(0,he.publicKeyToString)((0,he.getPublicKey)(r))})}}catch{return Promise.reject(Re.SignMsgError)}}async verifyMessage(t){try{let r=t.data;if(r.publicKey===void 0)return Promise.reject(Re.SignMsgError);let n=t.signature,s=(0,he.hashMessage)(t.data.message),d=r.publicKey;return Promise.resolve((0,he.verifyMessageSignatureRsv)({signature:n,message:s,publicKey:d}))}catch(r){return Promise.reject(r)}}validAddress(t){let r;try{r=(0,he.validateStacksAddress)(t.address)}catch{r=!1}let n={isValid:r,address:t.address};return Promise.resolve(n)}getRawTransaction(t){try{let r=t.data;if(r.type=="transfer"){let n=r.data;if(n.to==null||n.amount==null)return Promise.reject(Re.GetPayLoadError);let s=(0,he.getTransferPayload)(n.to,n.amount,n.memo);return Promise.resolve(s)}else if(r.type=="tokenTransfer"){let n=r.data;if(n.from==null||n.to==null||n.amount==null||n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(Re.GetPayLoadError);let s=(0,he.getTokenTransferPayload)(n.from,n.to,n.memo,n.amount,n.contract,n.contractName,n.functionName);return Promise.resolve(s)}else if(r.type=="allowContractCaller"){let n=r.data;if(n.caller==null||n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(Re.GetPayLoadError);let s=(0,he.getAllowContractCallerPayload)(n.caller,n.contract,n.contractName,n.functionName,n.untilBurnBlockHeight);return Promise.resolve(s)}else if(r.type=="delegateStx"){let n=r.data;if(n.contract==null||n.contractName==null||n.functionName==null||n.amountMicroStx==null||n.delegateTo==null)return Promise.reject(Re.GetPayLoadError);let s=(0,he.getDelegateStxPayload)(n.contract,n.contractName,n.functionName,n.delegateTo,n.poxAddress,n.amountMicroStx,n.untilBurnBlockHeight);return Promise.resolve(s)}else if(r.type=="revokeDelegateStx"){let n=r.data;if(n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(Re.GetPayLoadError);let s=(0,he.getRevokeDelegateStxPayload)(n.contract,n.contractName,n.functionName);return Promise.resolve(s)}else if(r.type=="contractCall"){let n=r.data,s=(0,he.getContractCallPayload)(n.contract,n.contractName,n.functionName,n.functionArgs);return Promise.resolve(s)}else if(r.type=="deployContract"){let n=r.data,s=(0,he.getDeployPayload)(n.contractName,n.codeBody);return Promise.resolve(s)}return Promise.reject(Re.GetPayLoadError)}catch{return Promise.reject(Re.GetPayLoadError)}}};qi.StxWallet=sa});var ef=V(ke=>{b();E();var XT=ke&&ke.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),dn=ke&&ke.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&XT(t,e,r)};Object.defineProperty(ke,"__esModule",{value:!0});ke.verifyMessageSignatureRsv=ke.hashMessage=ke.bytesToHex=void 0;dn(Jr(),ke);dn(ia(),ke);dn(Un(),ke);dn(Br(),ke);dn(Yl(),ke);var YT=ae();Object.defineProperty(ke,"bytesToHex",{enumerable:!0,get:function(){return YT.bytesToHex}});var tf=ta();Object.defineProperty(ke,"hashMessage",{enumerable:!0,get:function(){return tf.hashMessage}});Object.defineProperty(ke,"verifyMessageSignatureRsv",{enumerable:!0,get:function(){return tf.verifyMessageSignatureRsv}});dn(Ql(),ke)});module.exports=ef();
if (typeof module.exports == "object" && typeof exports == "object") {
  var __cp = (to, from, except, desc) => {
    if ((from && typeof from === "object") || typeof from === "function") {
      for (let key of Object.getOwnPropertyNames(from)) {
        if (!Object.prototype.hasOwnProperty.call(to, key) && key !== except)
        Object.defineProperty(to, key, {
          get: () => from[key],
          enumerable: !(desc = Object.getOwnPropertyDescriptor(from, key)) || desc.enumerable,
        });
      }
    }
    return to;
  };
  module.exports = __cp(module.exports, exports);
}
return module.exports;
}))
