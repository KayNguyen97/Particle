import{a as xs}from"./chunk-V7JJIHCP.js";import{a as me}from"./chunk-HGT5CHSG.js";import{a as Es}from"./chunk-O3BDC4SE.js";import"./chunk-ZRKMRDGI.js";import"./chunk-K2CHCG7Q.js";import"./chunk-3FBBK33H.js";import"./chunk-KTHMEYYS.js";import"./chunk-GT57MMCB.js";import"./chunk-RYNAOZ73.js";import"./chunk-GKHVFCKF.js";import{c as p,m as a,n as h,o as c}from"./chunk-6V2G2Z5W.js";var _e=p(A=>{"use strict";a();c();Object.defineProperty(A,"__esModule",{value:!0});A.accountClassHash=A.ProxyAccountClassHash=A.ETHBridge=A.ETH=A.UDC=A.TransactionHashPrefix=A.StarknetChainId=A.NetworkName=A.API_VERSION=A.MASK_251=A.MASK_250=A.ZERO=void 0;A.ZERO=0n;A.MASK_250=2n**250n-1n;A.MASK_251=2n**251n;A.API_VERSION=A.ZERO;var ws;(function(e){e.SN_MAIN="SN_MAIN",e.SN_GOERLI="SN_GOERLI",e.SN_GOERLI2="SN_GOERLI2"})(ws=A.NetworkName||(A.NetworkName={}));var Os;(function(e){e.SN_MAIN="0x534e5f4d41494e",e.SN_GOERLI="0x534e5f474f45524c49",e.SN_GOERLI2="0x534e5f474f45524c4932"})(Os=A.StarknetChainId||(A.StarknetChainId={}));var Ps;(function(e){e.DECLARE="0x6465636c617265",e.DEPLOY="0x6465706c6f79",e.DEPLOY_ACCOUNT="0x6465706c6f795f6163636f756e74",e.INVOKE="0x696e766f6b65",e.L1_HANDLER="0x6c315f68616e646c6572"})(Ps=A.TransactionHashPrefix||(A.TransactionHashPrefix={}));A.UDC={ADDRESS:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",ENTRYPOINT:"deployContract"};A.ETH="0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7";A.ETHBridge="0x073314940630fd6dcda0d772d4c972c4e0a9946bef9dabf4ef84eda8ef542b82";A.ProxyAccountClassHash="0x3530cc4759d78042f1b543bf797f5f3d647cde0388c33734cf91b7f7b9314a9";A.accountClassHash="0x309c042d3729173c7f2f91a34f04d8c509c1b292d334679ef1aabf8da0899cc"});var Nr=p(Je=>{"use strict";a();c();Object.defineProperty(Je,"__esModule",{value:!0});Je.SignerInterface=void 0;var jt=class{};Je.SignerInterface=jt});var se=p(Ze=>{"use strict";a();c();Object.defineProperty(Ze,"__esModule",{value:!0});Ze.starkCurve=void 0;var vs=me();Ze.starkCurve=vs.signUtil.schnorr.stark});var X=p(E=>{"use strict";a();c();Object.defineProperty(E,"__esModule",{value:!0});E.utf8ToArray=E.sanitizeHex=E.sanitizeBytes=E.calcByteLength=E.padLeft=E.addHexPrefix=E.removeHexPrefix=E.buf2hex=E.btoaUniversal=E.arrayBufferToString=E.IS_BROWSER=void 0;var be=(()=>{if(typeof be<"u")return be;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof be<"u")return be;throw"Unable to locate global object"})(),Ns=be.btoa||(e=>be.Buffer.from(e,"binary").toString("base64"));E.IS_BROWSER=typeof window<"u";var qt="0";function Hr(e){return new Uint8Array(e).reduce((t,r)=>t+String.fromCharCode(r),"")}E.arrayBufferToString=Hr;function Hs(e){return E.IS_BROWSER?Ns(Hr(e)):h.Buffer.from(e).toString("base64")}E.btoaUniversal=Hs;function Is(e){return[...e].map(t=>t.toString(16).padStart(2,"0")).join("")}E.buf2hex=Is;function Bt(e){return e.replace(/^0x/i,"")}E.removeHexPrefix=Bt;function Ir(e){return`0x${Bt(e)}`}E.addHexPrefix=Ir;function Ds(e,t,r,n=qt){let s=t-e.length,i=e;if(s>0){let o=n.repeat(s);i=r?o+e:e+o}return i}function Dr(e,t,r=qt){return Ds(e,t,!0,r)}E.padLeft=Dr;function Mr(e,t=8){let r=e%t;return r?(e-r)/t*t+t:e}E.calcByteLength=Mr;function jr(e,t=8,r=qt){return Dr(e,Mr(e.length,t),r)}E.sanitizeBytes=jr;function Ms(e){return e=Bt(e),e=jr(e,2),e&&(e=Ir(e)),e}E.sanitizeHex=Ms;function js(e){return new TextEncoder().encode(e)}E.utf8ToArray=js});var ze=p(Lt=>{"use strict";a();c();Object.defineProperty(Lt,"__esModule",{value:!0});function qs(e,t){if(!e)throw new Error(t||"Assertion failure")}Lt.default=qs});var H=p(b=>{"use strict";a();c();var Bs=b&&b.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(b,"__esModule",{value:!0});b.hexToBytes=b.toCairoBool=b.getHexStringArray=b.getHexString=b.getDecimalString=b.toHexString=b.isStringWholeNumber=b.bigNumberishArrayToHexadecimalStringArray=b.bigNumberishArrayToDecimalStringArray=b.assertInRange=b.cleanHex=b.hexToDecimalString=b.toHex=b.isBigInt=b.toBigInt=b.isHex=void 0;var Ls=me(),$s=Ls.signUtil.schnorr.hexToBytes,Rs=Bs(ze()),$t=X();function Qe(e){return/^0x[0-9a-f]*$/i.test(e)}b.isHex=Qe;function Rt(e){return BigInt(e)}b.toBigInt=Rt;function Us(e){return typeof e=="bigint"}b.isBigInt=Us;function Ut(e){return(0,$t.addHexPrefix)(Rt(e).toString(16))}b.toHex=Ut;function qr(e){return BigInt((0,$t.addHexPrefix)(e)).toString(10)}b.hexToDecimalString=qr;var Fs=e=>e.toLowerCase().replace(/^(0x)0+/,"$1");b.cleanHex=Fs;function Vs(e,t,r,n=""){let s=n===""?"invalid length":`invalid ${n} length`,i=BigInt(e),o=BigInt(t),u=BigInt(r);(0,Rs.default)(i>=o&&i<=u,`Message not signable, ${s}.`)}b.assertInRange=Vs;function Ks(e){return e.map(t=>Rt(t).toString(10))}b.bigNumberishArrayToDecimalStringArray=Ks;function ks(e){return e.map(t=>Ut(t))}b.bigNumberishArrayToHexadecimalStringArray=ks;var Ws=e=>/^\d+$/.test(e);b.isStringWholeNumber=Ws;var Gs=e=>Ut(e);b.toHexString=Gs;function Xs(e){if(Qe(e))return qr(e);if((0,b.isStringWholeNumber)(e))return e;throw new Error(`${e} need to be hex-string or whole-number-string`)}b.getDecimalString=Xs;function Br(e){if(Qe(e))return e;if((0,b.isStringWholeNumber)(e))return(0,b.toHexString)(e);throw new Error(`${e} need to be hex-string or whole-number-string`)}b.getHexString=Br;function Ys(e){return e.map(t=>Br(t))}b.getHexStringArray=Ys;var Js=e=>(+e).toString();b.toCairoBool=Js;function Zs(e){if(!Qe(e))throw new Error(`${e} need to be a hex-string`);let t=(0,$t.removeHexPrefix)(e);return t.length%2!==0&&(t=`0${t}`),$s(t)}b.hexToBytes=Zs});var Z=p(P=>{"use strict";a();c();Object.defineProperty(P,"__esModule",{value:!0});P.decodeShortString=P.encodeShortString=P.splitLongString=P.isLongText=P.isShortText=P.isText=P.isDecimalString=P.isShortString=P.isASCII=void 0;var Lr=X(),Ft=H(),$r=31;function Vt(e){return/^[\x00-\x7F]*$/.test(e)}P.isASCII=Vt;function et(e){return e.length<=$r}P.isShortString=et;function Rr(e){return/^[0-9]*$/i.test(e)}P.isDecimalString=Rr;function Kt(e){return typeof e=="string"&&!(0,Ft.isHex)(e)&&!(0,Ft.isStringWholeNumber)(e)}P.isText=Kt;var zs=e=>Kt(e)&&et(e);P.isShortText=zs;var Qs=e=>Kt(e)&&!et(e);P.isLongText=Qs;function ei(e){let t=RegExp(`[^]{1,${$r}}`,"g");return e.match(t)||[]}P.splitLongString=ei;function ti(e){if(!Vt(e))throw new Error(`${e} is not an ASCII string`);if(!et(e))throw new Error(`${e} is too long`);return(0,Lr.addHexPrefix)(e.replace(/./g,t=>t.charCodeAt(0).toString(16)))}P.encodeShortString=ti;function Ur(e){if(!Vt(e))throw new Error(`${e} is not an ASCII string`);if((0,Ft.isHex)(e))return(0,Lr.removeHexPrefix)(e).replace(/.{2}/g,t=>String.fromCharCode(parseInt(t,16)));if(Rr(e))return Ur("0X".concat(BigInt(e).toString(16)));throw new Error(`${e} is not Hex or decimal`)}P.decodeShortString=Ur});var kt=p(L=>{"use strict";a();c();Object.defineProperty(L,"__esModule",{value:!0});L.bnToUint256=L.isUint256=L.UINT_256_MAX=L.UINT_128_MAX=L.uint256ToBN=void 0;var Fr=X(),tt=H();function ri(e){return((0,tt.toBigInt)(e.high)<<128n)+(0,tt.toBigInt)(e.low)}L.uint256ToBN=ri;L.UINT_128_MAX=(1n<<128n)-1n;L.UINT_256_MAX=(1n<<256n)-1n;function Vr(e){return(0,tt.toBigInt)(e)<=L.UINT_256_MAX}L.isUint256=Vr;function ni(e){let t=(0,tt.toBigInt)(e);if(!Vr(t))throw new Error("Number is too large");return{low:(0,Fr.addHexPrefix)((t&L.UINT_128_MAX).toString(16)),high:(0,Fr.addHexPrefix)((t>>128n).toString(16))}}L.bnToUint256=ni});var de=p(O=>{"use strict";a();c();Object.defineProperty(O,"__esModule",{value:!0});O.felt=O.tuple=O.uint256=O.isTypeStruct=O.isTypeNamedTuple=O.isTypeTuple=O.isTypeArray=O.isTypeFeltArray=O.isTypeFelt=O.isLen=void 0;var Wt=H(),Gt=Z(),Kr=kt(),si=e=>/_len$/.test(e);O.isLen=si;var ii=e=>e==="felt";O.isTypeFelt=ii;var oi=e=>e==="felt*";O.isTypeFeltArray=oi;var ai=e=>/\*/.test(e);O.isTypeArray=ai;var ci=e=>/^\(.*\)$/i.test(e);O.isTypeTuple=ci;var ui=e=>/\(.*\)/i.test(e)&&e.includes(":");O.isTypeNamedTuple=ui;var li=(e,t)=>e in t;O.isTypeStruct=li;var di=e=>{let t=BigInt(e);if(!(0,Kr.isUint256)(t))throw new Error("Number is too large");return{low:(t&Kr.UINT_128_MAX).toString(10),high:(t>>128n).toString(10)}};O.uint256=di;var fi=(...e)=>({...e});O.tuple=fi;function gi(e){if((0,Wt.isBigInt)(e)||typeof e=="number"&&Number.isInteger(e))return e.toString();if((0,Gt.isText)(e)){if(!(0,Gt.isShortString)(e))throw new Error(`${e} is a long string > 31 chars, felt can store short strings, split it to array of short strings`);let t=(0,Gt.encodeShortString)(e);return BigInt(t).toString()}if(typeof e=="string"&&(0,Wt.isHex)(e))return BigInt(e).toString();if(typeof e=="string"&&(0,Wt.isStringWholeNumber)(e))return e;throw new Error(`${e} can't be computed by felt()`)}O.felt=gi});var qe=p(I=>{"use strict";a();c();Object.defineProperty(I,"__esModule",{value:!0});I.extractSignificantDigits=I.toSafeNumberOrThrow=I.getUnsafeNumberReason=I.UnsafeNumberReason=I.isSafeNumber=I.isNumber=I.isInteger=void 0;function Yt(e){return hi.test(e)}I.isInteger=Yt;var hi=/^-?[0-9]+$/;function pi(e){return yi.test(e)}I.isNumber=pi;var yi=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function kr(e,t){let r=parseFloat(e),n=String(r),s=Xt(e),i=Xt(n);return!!(s===i||(t==null?void 0:t.approx)===!0&&!Yt(e)&&i.length>=14&&s.startsWith(i.substring(0,14)))}I.isSafeNumber=kr;var Se;(function(e){e.underflow="underflow",e.overflow="overflow",e.truncate_integer="truncate_integer",e.truncate_float="truncate_float"})(Se=I.UnsafeNumberReason||(I.UnsafeNumberReason={}));function Wr(e){if(kr(e,{approx:!1}))return;if(Yt(e))return Se.truncate_integer;let t=parseFloat(e);return isFinite(t)?t===0?Se.underflow:Se.truncate_float:Se.overflow}I.getUnsafeNumberReason=Wr;function mi(e,t){let r=parseFloat(e),n=Wr(e);if((t==null?void 0:t.approx)===!0?n&&n!==Se.truncate_float:n){let s=n.replace(/_\w+$/,"");throw new Error(`Cannot safely convert to number: the value '${e}' would ${s} and become ${r}`)}return r}I.toSafeNumberOrThrow=mi;function Xt(e){return e.replace(_i,"").replace(Si,"").replace(Ci,"").replace(bi,"")}I.extractSignificantDigits=Xt;var _i=/[eE][+-]?\d+$/,bi=/^-?(0*)?/,Si=/\./,Ci=/0+$/});var nt=p(ie=>{"use strict";a();c();Object.defineProperty(ie,"__esModule",{value:!0});ie.toLosslessNumber=ie.isLosslessNumber=ie.LosslessNumber=void 0;var Be=qe(),rt=class{constructor(t){if(this.isLosslessNumber=!0,!(0,Be.isNumber)(t))throw new Error('Invalid number (value: "'+t+'")');this.value=t}valueOf(){let t=(0,Be.getUnsafeNumberReason)(this.value);if(t===void 0||t===Be.UnsafeNumberReason.truncate_float)return parseFloat(this.value);if((0,Be.isInteger)(this.value))return BigInt(this.value);throw new Error(`Cannot safely convert to number: the value '${this.value}' would ${t} and become ${parseFloat(this.value)}`)}toString(){return this.value}};ie.LosslessNumber=rt;function Ai(e){return e&&typeof e=="object"&&e.isLosslessNumber===!0||!1}ie.isLosslessNumber=Ai;function Ti(e){if((0,Be.extractSignificantDigits)(e+"").length>15)throw new Error(`Invalid number: contains more than 15 digits and is most likely truncated and unsafe by itself (value: ${e})`);if(isNaN(e))throw new Error("Invalid number: NaN");if(!isFinite(e))throw new Error("Invalid number: "+e);return new rt(String(e))}ie.toLosslessNumber=Ti});var Jt=p(Ce=>{"use strict";a();c();Object.defineProperty(Ce,"__esModule",{value:!0});Ce.parseNumberAndBigInt=Ce.parseLosslessNumber=void 0;var Ei=nt(),xi=qe();function wi(e){return new Ei.LosslessNumber(e)}Ce.parseLosslessNumber=wi;function Oi(e){return(0,xi.isInteger)(e)?BigInt(e):parseFloat(e)}Ce.parseNumberAndBigInt=Oi});var Gr=p(st=>{"use strict";a();c();Object.defineProperty(st,"__esModule",{value:!0});st.revive=void 0;var Pi=nt();function vi(e,t){return Zt({"":e},"",e,t)}st.revive=vi;function Zt(e,t,r,n){return Array.isArray(r)?n.call(e,t,Hi(r,n)):r&&typeof r=="object"&&!(0,Pi.isLosslessNumber)(r)?n.call(e,t,Ni(r,n)):n.call(e,t,r)}function Ni(e,t){return Object.keys(e).forEach(r=>{let n=Zt(e,r,e[r],t);n!==void 0?e[r]=n:delete e[r]}),e}function Hi(e,t){for(let r=0;r<e.length;r++)e[r]=Zt(e,r+"",e[r],t);return e}});var Qr=p(T=>{"use strict";a();c();Object.defineProperty(T,"__esModule",{value:!0});T.codeLowercaseF=T.codeUppercaseF=T.codeLowercaseE=T.codeUppercaseE=T.codeLowercaseA=T.codeUppercaseA=T.isDeepEqual=T.isValidStringCharacter=T.parse=void 0;var Ii=Jt(),Di=Gr();function Mi(e,t,r=Ii.parseLosslessNumber){let n=0,s=u();return V(s),le(),t?(0,Di.revive)(s,t):s;function i(){if(e.charCodeAt(n)===$i){n++,d();let _={},w=!0;for(;n<e.length&&e.charCodeAt(n)!==Yr;){w?w=!1:(x(),d());let U=n,ne=f();if(ne===void 0)throw new SyntaxError(`Quoted object key expected ${k()}`);d(),N();let ye=u();ye===void 0&&Cs(),Object.prototype.hasOwnProperty.call(_,ne)&&!at(ye,_[ne])&&ys(ne,U+1),_[ne]=ye}return e.charCodeAt(n)!==Yr&&ms(),n++,_}}function o(){if(e.charCodeAt(n)===Ri){n++,d();let _=[],w=!0;for(;n<e.length&&e.charCodeAt(n)!==Jr;){w?w=!1:x();let U=u();K(U),_.push(U)}return e.charCodeAt(n)!==Jr&&_s(),n++,_}}function u(){var w,U,ne,ye,Pr,vr;d();let _=(vr=(Pr=(ye=(ne=(U=(w=f())!=null?w:y())!=null?U:i())!=null?ne:o())!=null?ye:g("true",!0))!=null?Pr:g("false",!1))!=null?vr:g("null",null);return d(),_}function g(_,w){if(e.slice(n,n+_.length)===_)return n+=_.length,w}function d(){for(;ji(e.charCodeAt(n));)n++}function f(){if(e.charCodeAt(n)===zt){n++;let _="";for(;n<e.length&&e.charCodeAt(n)!==zt;){if(e.charCodeAt(n)===Li){let w=e[n+1],U=Bi[w];U!==void 0?(_+=U,n++):w==="u"?it(e.charCodeAt(n+2))&&it(e.charCodeAt(n+3))&&it(e.charCodeAt(n+4))&&it(e.charCodeAt(n+5))?(_+=String.fromCharCode(parseInt(e.slice(n+2,n+6),16)),n+=5):As(n):Ss(n)}else zr(e.charCodeAt(n))?_+=e[n]:bs(e[n]);n++}return Ye(),n++,_}}function y(){let _=n;if(e.charCodeAt(n)===Zr&&(n++,pe(_)),e.charCodeAt(n)===Qt)n++;else if(qi(e.charCodeAt(n)))for(n++;ot(e.charCodeAt(n));)n++;if(e.charCodeAt(n)===Xi)for(n++,pe(_);ot(e.charCodeAt(n));)n++;if(e.charCodeAt(n)===T.codeLowercaseE||e.charCodeAt(n)===T.codeUppercaseE)for(n++,(e.charCodeAt(n)===Zr||e.charCodeAt(n)===ki)&&n++,pe(_);ot(e.charCodeAt(n));)n++;if(n>_)return r(e.slice(_,n))}function x(){if(e.charCodeAt(n)!==Gi)throw new SyntaxError(`Comma ',' expected after value ${k()}`);n++}function N(){if(e.charCodeAt(n)!==Yi)throw new SyntaxError(`Colon ':' expected after property name ${k()}`);n++}function V(_){if(_===void 0)throw new SyntaxError(`JSON value expected ${k()}`)}function K(_){if(_===void 0)throw new SyntaxError(`Array item expected ${k()}`)}function le(){if(n<e.length)throw new SyntaxError(`Expected end of input ${k()}`)}function pe(_){if(!ot(e.charCodeAt(n))){let w=e.slice(_,n);throw new SyntaxError(`Invalid number '${w}', expecting a digit ${k()}`)}}function Ye(){if(e.charCodeAt(n)!==zt)throw new SyntaxError(`End of string '"' expected ${k()}`)}function dc(){throw new SyntaxError(`Quoted object key expected ${k()}`)}function ys(_,w){throw new SyntaxError(`Duplicate key '${_}' encountered at position ${w}`)}function ms(){throw new SyntaxError(`Quoted object key or end of object '}' expected ${k()}`)}function _s(){throw new SyntaxError(`Array item or end of array ']' expected ${k()}`)}function bs(_){throw new SyntaxError(`Invalid character '${_}' ${je()}`)}function Ss(_){let w=e.slice(_,_+2);throw new SyntaxError(`Invalid escape character '${w}' ${je()}`)}function Cs(){throw new SyntaxError(`Object value expected after ':' ${je()}`)}function As(_){let w=_+2;for(;/\w/.test(e[w]);)w++;let U=e.slice(_,w);throw new SyntaxError(`Invalid unicode character '${U}' ${je()}`)}function je(){return`at position ${n}`}function Ts(){return n<e.length?`but got '${e[n]}'`:"but reached end of input"}function k(){return Ts()+" "+je()}}T.parse=Mi;function ji(e){return e===Ui||e===Fi||e===Vi||e===Ki}function it(e){return e>=Qt&&e<=er||e>=T.codeUppercaseA&&e<=T.codeUppercaseF||e>=T.codeLowercaseA&&e<=T.codeLowercaseF}function ot(e){return e>=Qt&&e<=er}function qi(e){return e>=Wi&&e<=er}function zr(e){return e>=32&&e<=1114111}T.isValidStringCharacter=zr;function at(e,t){return e===t?!0:Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((r,n)=>at(r,t[n])):Xr(e)&&Xr(t)?[...new Set([...Object.keys(e),...Object.keys(t)])].every(n=>at(e[n],t[n])):!1}T.isDeepEqual=at;function Xr(e){return typeof e=="object"&&e!==null}var Bi={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},Li=92,$i=123,Yr=125,Ri=91,Jr=93,Ui=32,Fi=10,Vi=9,Ki=13,zt=34,ki=43,Zr=45,Qt=48,Wi=49,er=57,Gi=44,Xi=46,Yi=58;T.codeUppercaseA=65;T.codeLowercaseA=97;T.codeUppercaseE=69;T.codeLowercaseE=101;T.codeUppercaseF=70;T.codeLowercaseF=102});var tn=p(ct=>{"use strict";a();c();Object.defineProperty(ct,"__esModule",{value:!0});ct.stringify=void 0;var Ji=qe();function en(e,t,r,n){let s=Zi(r),i=typeof t=="function"?t.call({"":e},"",e):e;return o(i,"");function o(f,y){if(Array.isArray(n)){let x=n.find(N=>N.test(f));if(x){let N=x.stringify(f);if(typeof N!="string"||!(0,Ji.isNumber)(N))throw new Error(`Invalid JSON number: output of a number stringifier must be a string containing a JSON number (output: ${N})`);return N}}if(typeof f=="boolean"||typeof f=="number"||typeof f=="string"||f===null||f instanceof Date||f instanceof Boolean||f instanceof Number||f instanceof String)return JSON.stringify(f);if(f&&f.isLosslessNumber||typeof f=="bigint")return f.toString();if(Array.isArray(f))return u(f,y);if(f&&typeof f=="object")return g(f,y)}function u(f,y){if(f.length===0)return"[]";let x=s?y+s:void 0,N=s?`[
`:"[";for(let V=0;V<f.length;V++){let K=typeof t=="function"?t.call(f,String(V),f[V]):f[V];s&&(N+=x),typeof K<"u"&&typeof K!="function"?N+=o(K,x):N+="null",V<f.length-1&&(N+=s?`,
`:",")}return N+=s?`
`+y+"]":"]",N}function g(f,y){if(typeof f.toJSON=="function")return en(f.toJSON(),t,r,void 0);let x=Array.isArray(t)?t.map(String):Object.keys(f);if(x.length===0)return"{}";let N=s?y+s:void 0,V=!0,K=s?`{
`:"{";return x.forEach(le=>{let pe=typeof t=="function"?t.call(f,le,f[le]):f[le];if(d(le,pe)){V?V=!1:K+=s?`,
`:",";let Ye=JSON.stringify(le);K+=s?N+Ye+": ":Ye+":",K+=o(pe,N)}}),K+=s?`
`+y+"}":"}",K}function d(f,y){return typeof y<"u"&&typeof y!="function"&&typeof y!="symbol"}}ct.stringify=en;function Zi(e){if(typeof e=="number")return" ".repeat(e);if(typeof e=="string"&&e!=="")return e}});var nn=p(rn=>{"use strict";a();c();Object.defineProperty(rn,"__esModule",{value:!0})});var on=p(C=>{"use strict";a();c();var zi=C&&C.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Qi=C&&C.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&zi(t,e,r)};Object.defineProperty(C,"__esModule",{value:!0});C.getUnsafeNumberReason=C.toSafeNumberOrThrow=C.isSafeNumber=C.isNumber=C.isInteger=C.UnsafeNumberReason=C.parseNumberAndBigInt=C.parseLosslessNumber=C.toLosslessNumber=C.isLosslessNumber=C.LosslessNumber=C.stringify=C.parse=void 0;var eo=Qr();Object.defineProperty(C,"parse",{enumerable:!0,get:function(){return eo.parse}});var to=tn();Object.defineProperty(C,"stringify",{enumerable:!0,get:function(){return to.stringify}});var tr=nt();Object.defineProperty(C,"LosslessNumber",{enumerable:!0,get:function(){return tr.LosslessNumber}});Object.defineProperty(C,"isLosslessNumber",{enumerable:!0,get:function(){return tr.isLosslessNumber}});Object.defineProperty(C,"toLosslessNumber",{enumerable:!0,get:function(){return tr.toLosslessNumber}});var sn=Jt();Object.defineProperty(C,"parseLosslessNumber",{enumerable:!0,get:function(){return sn.parseLosslessNumber}});Object.defineProperty(C,"parseNumberAndBigInt",{enumerable:!0,get:function(){return sn.parseNumberAndBigInt}});var Ae=qe();Object.defineProperty(C,"UnsafeNumberReason",{enumerable:!0,get:function(){return Ae.UnsafeNumberReason}});Object.defineProperty(C,"isInteger",{enumerable:!0,get:function(){return Ae.isInteger}});Object.defineProperty(C,"isNumber",{enumerable:!0,get:function(){return Ae.isNumber}});Object.defineProperty(C,"isSafeNumber",{enumerable:!0,get:function(){return Ae.isSafeNumber}});Object.defineProperty(C,"toSafeNumberOrThrow",{enumerable:!0,get:function(){return Ae.toSafeNumberOrThrow}});Object.defineProperty(C,"getUnsafeNumberReason",{enumerable:!0,get:function(){return Ae.getUnsafeNumberReason}});Qi(nn(),C)});var ut=p(D=>{"use strict";a();c();var ro=D&&D.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),no=D&&D.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),so=D&&D.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ro(t,e,r);return no(t,e),t};Object.defineProperty(D,"__esModule",{value:!0});D.stringifyAlwaysAsBig=D.stringify=D.parseAlwaysAsBig=D.parse=void 0;var Le=so(on()),io=e=>{if(!Le.isInteger(e))return parseFloat(e);let t=parseInt(e,10);return Number.isSafeInteger(t)?t:BigInt(e)},oo=e=>Le.parse(String(e),void 0,io);D.parse=oo;var ao=e=>Le.parse(String(e),void 0,Le.parseNumberAndBigInt);D.parseAlwaysAsBig=ao;var co=(...e)=>Le.stringify(...e);D.stringify=co;D.stringifyAlwaysAsBig=D.stringify});var Y=p(m=>{"use strict";a();c();Object.defineProperty(m,"__esModule",{value:!0});m.computeContractClassHash=m.computeSierraContractClassHash=m.computeCompiledClassHash=m.computeLegacyContractClassHash=m.formatSpaces=m.calculateContractAddressFromHash=m.calculateTransactionHash=m.calculateDeployAccountTransactionHash=m.calculateDeclareTransactionHash=m.calculateDeployTransactionHash=m.calculateTransactionHashCommon=m.computeHashOnElements=m.getSelector=m.getSelectorFromName=m.starknetKeccak=m.keccakBn=m.feeTransactionVersion=m.transactionVersion_2=m.transactionVersion=void 0;var uo=me(),Q=uo.signUtil.schnorr.stark,Te=_e(),lo=de(),sr=se(),z=X(),G=H(),lt=Z(),dt=ut();m.transactionVersion=1n;m.transactionVersion_2=2n;m.feeTransactionVersion=2n**128n+m.transactionVersion;function fo(e){let t=(0,z.removeHexPrefix)((0,G.toHex)(BigInt(e))),r=t.length%2===0?t:`0${t}`;return(0,z.addHexPrefix)(Q.keccak((0,G.hexToBytes)((0,z.addHexPrefix)(r))).toString(16))}m.keccakBn=fo;function go(e){return(0,z.addHexPrefix)(Q.keccak((0,z.utf8ToArray)(e)).toString(16))}function an(e){return BigInt(go(e))&Te.MASK_250}m.starknetKeccak=an;function ir(e){return(0,G.toHex)(an(e))}m.getSelectorFromName=ir;function ho(e){return(0,G.isHex)(e)?e:(0,G.isStringWholeNumber)(e)?(0,G.toHexString)(e):ir(e)}m.getSelector=ho;function W(e){return[...e,e.length].reduce((t,r)=>sr.starkCurve.pedersen((0,G.toBigInt)(t),(0,G.toBigInt)(r)),0).toString()}m.computeHashOnElements=W;function $e(e,t,r,n,s,i,o,u=[]){let g=W(s),d=[e,t,r,n,g,i,o,...u];return W(d)}m.calculateTransactionHashCommon=$e;function po(e,t,r,n){return $e(Te.TransactionHashPrefix.DEPLOY,r,e,ir("constructor"),t,0,n)}m.calculateDeployTransactionHash=po;function yo(e,t,r,n,s,i,o){return $e(Te.TransactionHashPrefix.DECLARE,r,t,0,[e],n,s,[i,...o?[o]:[]])}m.calculateDeclareTransactionHash=yo;function mo(e,t,r,n,s,i,o,u){let g=[t,n,...r];return $e(Te.TransactionHashPrefix.DEPLOY_ACCOUNT,s,e,0,g,i,o,[u])}m.calculateDeployAccountTransactionHash=mo;function _o(e,t,r,n,s,i){return $e(Te.TransactionHashPrefix.INVOKE,t,e,0,r,n,s,[i])}m.calculateTransactionHash=_o;function bo(e,t,r,n){let s=W(r),i=(0,lo.felt)("0x535441524b4e45545f434f4e54524143545f41444452455353");return W([i,n,e,t,s])}m.calculateContractAddressFromHash=bo;function So(e,t){return e==="attributes"||e==="accessible_scopes"?Array.isArray(t)&&t.length===0?void 0:t:e==="debug_info"?null:t===null?void 0:t}function or(e){let t=!1,r="";for(let n of e)n==='"'&&r.endsWith("\\")===!1&&(t=!t),t?r+=n:r+=n===":"?": ":n===","?", ":n;return r}m.formatSpaces=or;function cn(e){let{abi:t,program:r}=e,n={abi:t,program:r},s=or((0,dt.stringify)(n,So));return(0,z.addHexPrefix)(sr.starkCurve.keccak((0,z.utf8ToArray)(s)).toString(16))}m.default=cn;function un(e){let t=typeof e=="string"?(0,dt.parse)(e):e,r=(0,G.toHex)(Te.API_VERSION),n=W(t.entry_points_by_type.EXTERNAL.flatMap(d=>[d.selector,d.offset])),s=W(t.entry_points_by_type.L1_HANDLER.flatMap(d=>[d.selector,d.offset])),i=W(t.entry_points_by_type.CONSTRUCTOR.flatMap(d=>[d.selector,d.offset])),o=W(t.program.builtins.map(d=>(0,lt.encodeShortString)(d))),u=cn(t),g=W(t.program.data);return W([r,n,s,i,o,u,g])}m.computeLegacyContractClassHash=un;function Co(e){return Q.poseidonHashMany(e.flatMap(t=>BigInt((0,lt.encodeShortString)(t))))}function rr(e){let t=e.flatMap(r=>[BigInt(r.selector),BigInt(r.offset),Co(r.builtins)]);return Q.poseidonHashMany(t)}function Ao(e){let t="COMPILED_CLASS_V1",r=BigInt((0,lt.encodeShortString)(t)),n=rr(e.entry_points_by_type.EXTERNAL),s=rr(e.entry_points_by_type.L1_HANDLER),i=rr(e.entry_points_by_type.CONSTRUCTOR),o=Q.poseidonHashMany(e.bytecode.map(u=>BigInt(u)));return(0,G.toHex)(Q.poseidonHashMany([r,n,s,i,o]))}m.computeCompiledClassHash=Ao;function nr(e){let t=e.flatMap(r=>[BigInt(r.selector),BigInt(r.function_idx)]);return Q.poseidonHashMany(t)}function To(e){let t=or((0,dt.stringify)(e.abi,void 0));return BigInt((0,z.addHexPrefix)(sr.starkCurve.keccak((0,z.utf8ToArray)(t)).toString(16)))}function ln(e){let t="CONTRACT_CLASS_V0.1.0",r=BigInt((0,lt.encodeShortString)(t)),n=nr(e.entry_points_by_type.EXTERNAL),s=nr(e.entry_points_by_type.L1_HANDLER),i=nr(e.entry_points_by_type.CONSTRUCTOR),o=To(e),u=Q.poseidonHashMany(e.sierra_program.map(g=>BigInt(g)));return(0,G.toHex)(Q.poseidonHashMany([r,n,s,i,o,u]))}m.computeSierraContractClassHash=ln;function Eo(e){let t=typeof e=="string"?(0,dt.parse)(e):e;return"sierra_program"in t?ln(t):un(t)}m.computeContractClassHash=Eo});var dn=p(cr=>{"use strict";a();c();Object.defineProperty(cr,"__esModule",{value:!0});var xo=H(),wo=Z(),ar={isBN:(e,t,r)=>{if(!(0,xo.isBigInt)(e[r]))throw new Error(`Data and formatter mismatch on ${r}:${t[r]}, expected response data ${r}:${e[r]} to be BN instead it is ${typeof e[r]}`)},unknown:(e,t,r)=>{throw new Error(`Unhandled formatter type on ${r}:${t[r]} for data ${r}:${e[r]}`)}};function ft(e,t,r){return Object.entries(e).reduce((n,[s,i])=>{let o=r!=null?r:t[s];if(!(s in t)&&!r)return n[s]=i,n;if(o==="string"){if(Array.isArray(e[s])){let u=ft(e[s],e[s].map(g=>o));return n[s]=Object.values(u).join(""),n}return ar.isBN(e,t,s),n[s]=(0,wo.decodeShortString)(i),n}if(o==="number")return ar.isBN(e,t,s),n[s]=Number(i),n;if(typeof o=="function")return n[s]=o(i),n;if(Array.isArray(o)){let u=ft(e[s],o,o[0]);return n[s]=Object.values(u),n}return typeof o=="object"?(n[s]=ft(e[s],o),n):(ar.unknown(e,t,s),n)},{})}cr.default=ft});var lr=p(ur=>{"use strict";a();c();Object.defineProperty(ur,"__esModule",{value:!0});var Oo=de();function Po(e){let t=e.substring(0,e.indexOf(":")),r=e.substring(t.length+1);return{name:t,type:r}}function vo(e){if(!e.includes("("))return{subTuple:[],result:e};let t=[],r="",n=0;for(;n<e.length;){if(e[n]==="("){let s=1,i=n;for(n++;s;)e[n]===")"&&s--,e[n]==="("&&s++,n++;t.push(e.substring(i,n)),r+=" ",n--}else r+=e[n];n++}return{subTuple:t,result:r}}function No(e){let t=e.replace(/\s/g,"").slice(1,-1),{subTuple:r,result:n}=vo(t),s=n.split(",").map(i=>r.length?i.replace(" ",r.shift()):i);return(0,Oo.isTypeNamedTuple)(e)&&(s=s.reduce((i,o)=>i.concat(Po(o)),[])),s}ur.default=No});var gn=p(Ee=>{"use strict";a();c();var Ho=Ee&&Ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.parseCalldataField=void 0;var fn=Z(),ee=de(),Io=Ho(lr());function Do(e,t){let r=(0,Io.default)(t),n=Object.values(e);if(n.length!==r.length)throw Error(`ParseTuple: provided and expected abi tuple size do not match.
      provided: ${n} 
      expected: ${r}`);return r.map((s,i)=>{var o;return{element:n[i],type:(o=s.type)!=null?o:s}})}function gt(e,t,r){if(e===void 0)throw Error(`Missing parameter for type ${t}`);if(Array.isArray(e))throw Error(`Array inside array (nD) are not supported by cairo. Element: ${e} ${t}`);if(r[t]&&r[t].members.length){let{members:n}=r[t],s=e;return n.reduce((i,o)=>i.concat(gt(s[o.name],o.type,r)),[])}if((0,ee.isTypeTuple)(t))return Do(e,t).reduce((s,i)=>{let o=gt(i.element,i.type,r);return s.concat(o)},[]);if(typeof e=="object")throw Error(`Parameter ${e} do not align with abi parameter ${t}`);return(0,ee.felt)(e)}function Mo(e,t,r){let{name:n,type:s}=t,{value:i}=e.next();switch(!0){case(0,ee.isTypeArray)(s):if(!Array.isArray(i)&&!(0,fn.isText)(i))throw Error(`ABI expected parameter ${n} to be array or long string, got ${i}`);typeof i=="string"&&(i=(0,fn.splitLongString)(i));let o=[];return o.push((0,ee.felt)(i.length)),i.reduce((u,g)=>((0,ee.isTypeFeltArray)(s)?u.push((0,ee.felt)(g)):u.push(...gt(g,s.replace("*",""),r)),u),o);case((0,ee.isTypeStruct)(s,r)||(0,ee.isTypeTuple)(s)):return gt(i,s,r);default:return(0,ee.felt)(i)}}Ee.parseCalldataField=Mo});var hn=p(Re=>{"use strict";a();c();var jo=Re&&Re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Re,"__esModule",{value:!0});var ht=de(),qo=jo(lr());function pt(e,t,r){if(t in r&&r[t])return r[t].members.reduce((s,i)=>(s[i.name]=pt(e,i.type,r),s),{});if((0,ht.isTypeTuple)(t))return(0,qo.default)(t).reduce((i,o,u)=>{let g=o!=null&&o.name?o.name:u,d=o!=null&&o.type?o.type:o;return i[g]=pt(e,d,r),i},{});let n=e.next().value;return BigInt(n)}function Bo(e,t,r,n){let{name:s,type:i}=t,o;switch(!0){case(0,ht.isLen)(s):return o=e.next().value,BigInt(o);case(0,ht.isTypeArray)(i):let u=[];if(n&&n[`${s}_len`]){let g=n[`${s}_len`];for(;u.length<g;)u.push(pt(e,t.type.replace("*",""),r))}return u;case(i in r||(0,ht.isTypeTuple)(i)):return pt(e,i,r);default:return o=e.next().value,BigInt(o)}}Re.default=Bo});var _n=p(Fe=>{"use strict";a();c();var Lo=Fe&&Fe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fe,"__esModule",{value:!0});var Ue=Lo(ze()),$o=Z(),te=de(),pn=(e,t)=>{(0,Ue.default)(typeof e=="string"||typeof e=="number"||typeof e=="bigint",`Validate: arg ${t.name} should be a felt (string, number, BigNumber)`)},yn=(e,t,r)=>{(0,Ue.default)(typeof e=="object"&&!Array.isArray(e),`Validate: arg ${t.name} is cairo type struct (${t.type}), and should be defined as js object (not array)`),r[t.type].members.forEach(({name:n})=>{(0,Ue.default)(Object.keys(e).includes(n),`Validate: arg ${t.name} should have a property ${n}`)})},mn=(e,t)=>{(0,Ue.default)(typeof e=="object"&&!Array.isArray(e),`Validate: arg ${t.name} should be a tuple (defined as object)`)},Ro=(e,t,r)=>{let n=t.type.replace("*","");if(!((0,te.isTypeFelt)(n)&&(0,$o.isLongText)(e)))switch((0,Ue.default)(Array.isArray(e),`Validate: arg ${t.name} should be an Array`),!0){case(0,te.isTypeFelt)(n):e.forEach(s=>pn(s,t));break;case(0,te.isTypeTuple)(n):e.forEach(s=>mn(s,{name:t.name,type:n}));break;case(0,te.isTypeStruct)(n,r):e.forEach(s=>yn(s,{name:t.name,type:n},r));break;default:throw new Error(`Validate Unhandled: argument ${t.name}, type ${t.type}, value ${e}`)}};function Uo(e,t,r){e.inputs.reduce((n,s)=>{let i=t[n];switch(!0){case(0,te.isLen)(s.name):return n;case(0,te.isTypeFelt)(s.type):pn(i,s);break;case(0,te.isTypeStruct)(s.type,r):yn(i,s,r);break;case(0,te.isTypeTuple)(s.type):mn(i,s);break;case(0,te.isTypeArray)(s.type):Ro(i,s,r);break;default:throw new Error(`Validate Unhandled: argument ${s.name}, type ${s.type}, value ${i}`)}return n+1},0)}Fe.default=Uo});var Oe=p(we=>{"use strict";a();c();var mt=we&&we.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(we,"__esModule",{value:!0});we.CallData=void 0;var Fo=mt(ze()),Vo=H(),bn=Z(),yt=de(),Ko=mt(dn()),ko=gn(),Wo=mt(hn()),Go=mt(_n()),xe=class{constructor(t){this.abi=t,this.structs=xe.getAbiStruct(t)}validate(t,r,n=[]){if(t!=="DEPLOY"){let o=this.abi.filter(u=>{if(u.type!=="function")return!1;let g=u.stateMutability==="view"||u.state_mutability==="view";return t==="INVOKE"?!g:g}).map(u=>u.name);(0,Fo.default)(o.includes(r),`${t==="INVOKE"?"invocable":"viewable"} method not found in abi`)}let s=this.abi.find(o=>t==="DEPLOY"?o.name===r&&o.type===r:o.name===r&&o.type==="function"),i=xe.abiInputsLength(s.inputs);if(n.length!==i)throw Error(`Invalid number of arguments, expected ${i} arguments, but got ${n.length}`);(0,Go.default)(s,n,this.structs)}compile(t,r){let n=t[Symbol.iterator]();return r.reduce((s,i)=>(0,yt.isLen)(i.name)?s:s.concat((0,ko.parseCalldataField)(n,i,this.structs)),[])}static compile(t){let r=s=>{let i=(o,u="")=>{let g=Array.isArray(o)?[o.length.toString(),...o]:o;return Object.entries(g).flatMap(([d,f])=>{let y=f;(0,bn.isLongText)(y)&&(y=(0,bn.splitLongString)(y));let x=Array.isArray(g)&&d==="0"?"$$len":d;return(0,Vo.isBigInt)(y)?[[`${u}${x}`,(0,yt.felt)(y)]]:Object(y)===y?i(y,`${u}${x}.`):[[`${u}${x}`,(0,yt.felt)(y)]]})};return Object.fromEntries(i(s))},n;if(Array.isArray(t))n=t;else{let s=r(t);n=Object.values(s)}return Object.defineProperty(n,"compiled",{enumerable:!1,writable:!1,value:!0}),n}parse(t,r){let{outputs:n}=this.abi.find(i=>i.name===t),s=r.flat()[Symbol.iterator]();return n.flat().reduce((i,o)=>(i[o.name]=(0,Wo.default)(s,o,this.structs,i),i[o.name]&&i[`${o.name}_len`]&&delete i[`${o.name}_len`],i),{})}format(t,r,n){let s=this.parse(t,r);return(0,Ko.default)(s,n)}static abiInputsLength(t){return t.reduce((r,n)=>(0,yt.isLen)(n.name)?r:r+1,0)}static getAbiStruct(t){return t.filter(r=>r.type==="struct").reduce((r,n)=>({...r,[n.name]:n}),{})}};we.CallData=xe});var bt=p(v=>{"use strict";a();c();Object.defineProperty(v,"__esModule",{value:!0});v.getExecuteCalldata=v.fromCallsToExecuteCalldata_cairo1=v.transformCallsToMulticallArrays_cairo1=v.fromCallsToExecuteCalldataWithNonce=v.fromCallsToExecuteCalldata=v.transformCallsToMulticallArrays=void 0;var Sn=Y(),Pe=H(),_t=Oe(),Xo=e=>{let t=[],r=[];return e.forEach(n=>{let s=_t.CallData.compile(n.calldata||[]);t.push({to:(0,Pe.toBigInt)(n.contractAddress).toString(10),selector:n.entrypoint.startsWith("0x")?(0,Pe.toBigInt)(n.entrypoint):(0,Pe.toBigInt)((0,Sn.getSelectorFromName)(n.entrypoint)).toString(10),data_offset:r.length.toString(),data_len:s.length.toString()}),r.push(...s)}),{callArray:t,calldata:_t.CallData.compile({calldata:r})}};v.transformCallsToMulticallArrays=Xo;var Yo=e=>{let{callArray:t,calldata:r}=(0,v.transformCallsToMulticallArrays)(e);return[..._t.CallData.compile({callArray:t}),...r]};v.fromCallsToExecuteCalldata=Yo;var Jo=(e,t)=>[...(0,v.fromCallsToExecuteCalldata)(e),(0,Pe.toBigInt)(t).toString()];v.fromCallsToExecuteCalldataWithNonce=Jo;var Zo=e=>e.map(r=>({to:(0,Pe.toBigInt)(r.contractAddress).toString(10),selector:(0,Pe.toBigInt)((0,Sn.getSelectorFromName)(r.entrypoint)).toString(10),calldata:_t.CallData.compile(r.calldata||[])}));v.transformCallsToMulticallArrays_cairo1=Zo;var zo=e=>{let t=(0,v.transformCallsToMulticallArrays_cairo1)(e);return[t.length.toString(),...t.map(({to:r,selector:n,calldata:s})=>[r,n,s.length.toString(),...s]).flat()]};v.fromCallsToExecuteCalldata_cairo1=zo;var Qo=(e,t="0")=>t==="1"?(0,v.fromCallsToExecuteCalldata_cairo1)(e):(0,v.fromCallsToExecuteCalldata)(e);v.getExecuteCalldata=Qo});var dr=p(ve=>{"use strict";a();c();Object.defineProperty(ve,"__esModule",{value:!0});ve.proofMerklePath=ve.MerkleTree=void 0;var ea=se(),Cn=H(),oe=class{constructor(t){this.branches=[],this.leaves=t,this.root=this.build(t)}build(t){if(t.length===1)return t[0];t.length!==this.leaves.length&&this.branches.push(t);let r=[];for(let n=0;n<t.length;n+=2)n+1===t.length?r.push(oe.hash(t[n],"0x0")):r.push(oe.hash(t[n],t[n+1]));return this.build(r)}static hash(t,r){let[n,s]=[(0,Cn.toBigInt)(t),(0,Cn.toBigInt)(r)].sort((i,o)=>i>=o?1:-1);return ea.starkCurve.pedersen(n,s)}getProof(t,r=this.leaves,n=[]){var f,y;let s=r.indexOf(t);if(s===-1)throw new Error("leaf not found");if(r.length===1)return n;let i=s%2===0,o=(f=i?r[s+1]:r[s-1])!=null?f:"0x0",u=[...n,o],g=this.leaves.length===r.length?-1:this.branches.findIndex(x=>x.length===r.length),d=(y=this.branches[g+1])!=null?y:[this.root];return this.getProof(oe.hash(i?t:o,i?o:t),d,u)}};ve.MerkleTree=oe;function An(e,t,r){if(r.length===0)return e===t;let[n,...s]=r;return An(e,oe.hash(t,n),s)}ve.proofMerklePath=An});var Tn=p(St=>{"use strict";a();c();Object.defineProperty(St,"__esModule",{value:!0});St.validateTypedData=void 0;var ta=e=>{let t=e;return Boolean(t.types&&t.primaryType&&t.message)};St.validateTypedData=ta});var xn=p(En=>{"use strict";a();c();Object.defineProperty(En,"__esModule",{value:!0})});var Ct=p(S=>{"use strict";a();c();var ra=S&&S.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),na=S&&S.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ra(t,e,r)};Object.defineProperty(S,"__esModule",{value:!0});S.getMessageHash=S.getStructHash=S.encodeData=S.encodeValue=S.getTypeHash=S.encodeType=S.getDependencies=S.isMerkleTreeType=S.prepareSelector=void 0;var Ne=Y(),sa=dr(),fr=H(),wn=Z(),ia=Tn();na(xn(),S);function oa(e){try{return(0,fr.toHex)(e)}catch{if(typeof e=="string")return(0,fr.toHex)((0,wn.encodeShortString)(e));throw new Error(`Invalid BigNumberish: ${e}`)}}function On(e){return(0,fr.isHex)(e)?e:(0,Ne.getSelectorFromName)(e)}S.prepareSelector=On;function Pn(e){return e.type==="merkletree"}S.isMerkleTreeType=Pn;var aa=(e,t,r=[])=>(t[t.length-1]==="*"&&(t=t.slice(0,-1)),r.includes(t)||!e[t]?r:[t,...e[t].reduce((n,s)=>[...n,...(0,S.getDependencies)(e,s.type,n).filter(i=>!n.includes(i))],[])]);S.getDependencies=aa;function ca(e,t){if(t.parent&&t.key){let n=e[t.parent].find(i=>i.name===t.key);if(!Pn(n))throw new Error(`${t.key} is not a merkle tree`);if(n.contains.endsWith("*"))throw new Error(`Merkle tree contain property must not be an array but was given ${t.key}`);return n.contains}return"raw"}var ua=(e,t)=>{let[r,...n]=(0,S.getDependencies)(e,t);return(r?[r,...n.sort()]:[]).map(i=>`${i}(${e[i].map(o=>`${o.name}:${o.type}`)})`).join("")};S.encodeType=ua;var la=(e,t)=>(0,Ne.getSelectorFromName)((0,S.encodeType)(e,t));S.getTypeHash=la;var da=(e,t,r,n={})=>{if(e[t])return[t,(0,S.getStructHash)(e,t,r)];if(Object.keys(e).map(s=>`${s}*`).includes(t)){let s=r.map(i=>(0,S.getStructHash)(e,t.slice(0,-1),i));return[t,(0,Ne.computeHashOnElements)(s)]}if(t==="merkletree"){let s=ca(e,n),i=r.map(u=>(0,S.encodeValue)(e,s,u)[1]),{root:o}=new sa.MerkleTree(i);return["felt",o]}return t==="felt*"?["felt*",(0,Ne.computeHashOnElements)(r)]:t==="selector"?["felt",On(r)]:[t,oa(r)]};S.encodeValue=da;var fa=(e,t,r)=>{let[n,s]=e[t].reduce(([i,o],u)=>{if(r[u.name]===void 0||r[u.name]===null)throw new Error(`Cannot encode data: missing data for '${u.name}'`);let g=r[u.name],[d,f]=(0,S.encodeValue)(e,u.type,g,{parent:t,key:u.name});return[[...i,d],[...o,f]]},[["felt"],[(0,S.getTypeHash)(e,t)]]);return[n,s]};S.encodeData=fa;var ga=(e,t,r)=>(0,Ne.computeHashOnElements)((0,S.encodeData)(e,t,r)[1]);S.getStructHash=ga;var ha=(e,t)=>{if(!(0,ia.validateTypedData)(e))throw new Error("Typed data does not match JSON schema");let r=[(0,wn.encodeShortString)("StarkNet Message"),(0,S.getStructHash)(e.types,"StarkNetDomain",e.domain),t,(0,S.getStructHash)(e.types,e.primaryType,e.message)];return(0,Ne.computeHashOnElements)(r)};S.getMessageHash=ha});var vn=p(At=>{"use strict";a();c();Object.defineProperty(At,"__esModule",{value:!0});At.Signer=void 0;var He=se(),pa=X(),gr=Y(),ya=H(),ma=bt(),_a=Ct(),ba=Oe(),hr=class{constructor(t=He.starkCurve.utils.randomPrivateKey()){this.pk=t instanceof Uint8Array?(0,pa.buf2hex)(t):(0,ya.toHex)(t)}async getPubKey(){return He.starkCurve.getStarkKey(this.pk)}async signMessage(t,r){let n=(0,_a.getMessageHash)(t,r);return He.starkCurve.sign(n,this.pk)}async signTransaction(t,r,n){if(n&&n.length!==t.length)throw new Error("ABI must be provided for each transaction or no transaction");let s=(0,ma.getExecuteCalldata)(t,r.cairoVersion),i=(0,gr.calculateTransactionHash)(r.walletAddress,r.version,s,r.maxFee,r.chainId,r.nonce);return{signature:He.starkCurve.sign(i,this.pk),hash:i}}async signDeployAccountTransaction({classHash:t,contractAddress:r,constructorCalldata:n,addressSalt:s,maxFee:i,version:o,chainId:u,nonce:g}){let d=(0,gr.calculateDeployAccountTransactionHash)(r,t,ba.CallData.compile(n),s,o,i,u,g);return{signature:He.starkCurve.sign(d,this.pk),hash:d}}async signDeclareTransaction({classHash:t,senderAddress:r,chainId:n,maxFee:s,version:i,nonce:o,compiledClassHash:u}){let g=(0,gr.calculateDeclareTransactionHash)(t,r,i,s,n,o,u);return He.starkCurve.sign(g,this.pk)}};At.Signer=hr});var pr=p(ae=>{"use strict";a();c();var Sa=ae&&ae.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Nn=ae&&ae.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Sa(t,e,r)};Object.defineProperty(ae,"__esModule",{value:!0});Nn(Nr(),ae);Nn(vn(),ae)});var Dn=p(In=>{"use strict";a();c();Object.defineProperty(In,"__esModule",{value:!0});var Hn;(function(e){e[e.function=0]="function",e[e.l1_handler=1]="l1_handler",e[e.constructor=2]="constructor"})(Hn||(Hn={}))});var jn=p(Mn=>{"use strict";a();c();Object.defineProperty(Mn,"__esModule",{value:!0})});var Bn=p(qn=>{"use strict";a();c();Object.defineProperty(qn,"__esModule",{value:!0})});var Ln=p(F=>{"use strict";a();c();var Ca=F&&F.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yr=F&&F.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ca(t,e,r)};Object.defineProperty(F,"__esModule",{value:!0});F.EntryPointType=void 0;var Aa;(function(e){e.EXTERNAL="EXTERNAL",e.L1_HANDLER="L1_HANDLER",e.CONSTRUCTOR="CONSTRUCTOR"})(Aa=F.EntryPointType||(F.EntryPointType={}));yr(Dn(),F);yr(jn(),F);yr(Bn(),F)});var $n=p($=>{"use strict";a();c();var Ta=$&&$.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ea=$&&$.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ta(t,e,r)};Object.defineProperty($,"__esModule",{value:!0});$.TransactionType=$.TransactionStatus=void 0;var xa;(function(e){e.NOT_RECEIVED="NOT_RECEIVED",e.RECEIVED="RECEIVED",e.PENDING="PENDING",e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e.REJECTED="REJECTED"})(xa=$.TransactionStatus||($.TransactionStatus={}));var wa;(function(e){e.INVOKE="INVOKE_FUNCTION",e.DECLARE="DECLARE",e.DEPLOY="DEPLOY",e.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT"})(wa=$.TransactionType||($.TransactionType={}));Ea(Ln(),$)});var Un=p(Rn=>{"use strict";a();c();Object.defineProperty(Rn,"__esModule",{value:!0})});var Vn=p(Fn=>{"use strict";a();c();Object.defineProperty(Fn,"__esModule",{value:!0})});var kn=p(Kn=>{"use strict";a();c();Object.defineProperty(Kn,"__esModule",{value:!0})});var Gn=p(Wn=>{"use strict";a();c();Object.defineProperty(Wn,"__esModule",{value:!0})});var Yn=p(Xn=>{"use strict";a();c();Object.defineProperty(Xn,"__esModule",{value:!0})});var Jn=p(Ve=>{"use strict";a();c();Object.defineProperty(Ve,"__esModule",{value:!0});Ve.RPC=void 0;var Oa;(function(e){let t;(function(r){r.DECLARE="DECLARE",r.DEPLOY="DEPLOY",r.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT",r.INVOKE="INVOKE",r.L1_HANDLER="L1_HANDLER"})(t=e.TransactionType||(e.TransactionType={}))})(Oa=Ve.RPC||(Ve.RPC={}))});var mr=p(R=>{"use strict";a();c();var Pa=R&&R.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),fe=R&&R.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Pa(t,e,r)};Object.defineProperty(R,"__esModule",{value:!0});fe($n(),R);fe(Un(),R);fe(Vn(),R);fe(kn(),R);fe(Gn(),R);fe(Yn(),R);fe(Jn(),R)});var _r=p(Ie=>{"use strict";a();c();Object.defineProperty(Ie,"__esModule",{value:!0});Ie.extractContractHashes=Ie.isSierra=void 0;var Zn=Y(),va=Ke();function zn(e){let t=typeof e=="string"?va.json.parse(e):e;return"sierra_program"in t}Ie.isSierra=zn;function Na(e){var r;let t={...e};if(zn(e.contract)&&(!e.compiledClassHash&&e.casm&&(t.compiledClassHash=(0,Zn.computeCompiledClassHash)(e.casm)),!t.compiledClassHash))throw new Error("Extract compiledClassHash failed, provide (CairoAssembly).casm file or compiledClassHash");if(t.classHash=(r=e.classHash)!=null?r:(0,Zn.computeContractClassHash)(e.contract),!t.classHash)throw new Error("Extract classHash failed, provide (CompiledContract).json file or classHash");return t}Ie.extractContractHashes=Na});var Tt=p(M=>{"use strict";a();c();Object.defineProperty(M,"__esModule",{value:!0});M.estimatedFeeToMaxFee=M.signatureToHexArray=M.signatureToDecimalArray=M.formatSignature=M.makeAddress=M.randomAddress=M.compressProgram=void 0;var Qn=me(),Ha=Es(),Ia=Ke(),es=X(),ge=H();function Da(e){let t=typeof e=="string"?e:Ia.json.stringify(e),r=(0,Ha.gzip)(t);return(0,es.btoaUniversal)(r)}M.compressProgram=Da;function Ma(){let e=Qn.signUtil.schnorr.stark.utils.randomPrivateKey();return Qn.signUtil.schnorr.stark.getStarkKey(e)}M.randomAddress=Ma;function ja(e){return(0,es.addHexPrefix)(e).toLowerCase()}M.makeAddress=ja;function br(e){if(!e)throw Error("formatSignature: provided signature is undefined");if(Array.isArray(e))return e.map(t=>(0,ge.toHex)(t));try{let{r:t,s:r}=e;return[(0,ge.toHex)(t),(0,ge.toHex)(r)]}catch{throw new Error("Signature need to be weierstrass.SignatureType or an array for custom")}}M.formatSignature=br;function qa(e){return(0,ge.bigNumberishArrayToDecimalStringArray)(br(e))}M.signatureToDecimalArray=qa;function Ba(e){return(0,ge.bigNumberishArrayToHexadecimalStringArray)(br(e))}M.signatureToHexArray=Ba;function La(e,t=.5){let r=Math.round((1+t)*100);return(0,ge.toBigInt)(e)*(0,ge.toBigInt)(r)/100n}M.estimatedFeeToMaxFee=La});var is=p(J=>{"use strict";a();c();Object.defineProperty(J,"__esModule",{value:!0});J.parseContract=J.createSierraContractClass=J.parseCalldata=J.wait=void 0;var $a=_r(),ts=Y(),rs=H(),ns=Tt(),Sr=Ke();function Ra(e){return new Promise(t=>{setTimeout(t,e)})}J.wait=Ra;function Ua(e=[]){return e.map(t=>typeof t=="string"&&(0,rs.isHex)(t)?t:(0,rs.toHex)(t))}J.parseCalldata=Ua;function ss(e){let t={...e};return delete t.sierra_program_debug_info,t.abi=(0,ts.formatSpaces)(Sr.json.stringify(e.abi)),t.sierra_program=(0,ts.formatSpaces)(Sr.json.stringify(e.sierra_program)),t.sierra_program=(0,ns.compressProgram)(t.sierra_program),t}J.createSierraContractClass=ss;function Fa(e){let t=typeof e=="string"?Sr.json.parse(e):e;return(0,$a.isSierra)(e)?ss(t):{...t,..."program"in t&&{program:(0,ns.compressProgram)(t.program)}}}J.parseContract=Fa});var os=p(Pt=>{"use strict";a();c();Object.defineProperty(Pt,"__esModule",{value:!0});Pt.Account=void 0;var Et=_e(),Va=pr(),xt=mr(),wt=_r(),Ka=se(),De=Y(),q=H(),ka=is(),ke=Tt(),Wa=bt(),Ga=Ct(),Ot=Oe(),Cr=class{constructor(t,r,n="0"){this.address=t.toLowerCase(),this.signer=typeof r=="string"||r instanceof Uint8Array?new Va.Signer(r):r,this.cairoVersion=n}async signMessage(t){return this.signer.signMessage(t,this.address)}async declare(t,r){if(r.nonce===void 0||r.maxFee===void 0||r.chainId===void 0)throw new Error("missing transaction parameter");let n=(0,wt.extractContractHashes)(t),s={};s.nonce=(0,q.toBigInt)(r.nonce),s.maxFee=r.maxFee,s.chainId=r.chainId,s.version=(0,wt.isSierra)(t.contract)?De.transactionVersion_2:De.transactionVersion;let i=await this.buildDeclareContractTransaction(n,{...s,walletAddress:this.address,cairoVersion:this.cairoVersion}),{senderAddress:o,contractDefinition:u,signature:g,compiledClassHash:d}=i;return(0,wt.isSierra)(u)?{type:xt.TransactionType.DECLARE,sender_address:o,compiled_class_hash:d,contract_class:u,nonce:(0,q.toHex)(s.nonce),signature:(0,ke.signatureToDecimalArray)(g),max_fee:(0,q.toHex)(s.maxFee||0),version:"0x2"}:{type:xt.TransactionType.DECLARE,contract_class:u,nonce:(0,q.toHex)(s.nonce),signature:(0,ke.signatureToDecimalArray)(g),sender_address:o,max_fee:(0,q.toHex)(s.maxFee||0),version:"0x1"}}async execute(t,r=void 0,n){if(n.nonce===void 0||n.maxFee===void 0||n.chainId===void 0)throw new Error("missing transaction parameter");let s=Array.isArray(t)?t:[t],i=(0,q.toBigInt)(n.nonce),o=n.maxFee,u=(0,q.toBigInt)(De.transactionVersion),g=n.chainId,d={walletAddress:this.address,nonce:i,maxFee:o,version:u,chainId:g,cairoVersion:this.cairoVersion},f=await this.signer.signTransaction(s,d,r),y=(0,Wa.getExecuteCalldata)(s,this.cairoVersion);return{txId:f.hash,signature:{type:xt.TransactionType.INVOKE,sender_address:this.address,calldata:Ot.CallData.compile(y!=null?y:[]),max_fee:(0,q.toHex)(o||0),signature:(0,ke.signatureToDecimalArray)(f.signature),version:"0x1",nonce:(0,q.toHex)(i)}}}async deploy(t,r){let n=[].concat(t).map(o=>{let{classHash:u,salt:g,unique:d=!0,constructorCalldata:f=[]}=o,y=Ot.CallData.compile(f),x=g!=null?g:(0,ke.randomAddress)();return{call:{contractAddress:Et.UDC.ADDRESS,entrypoint:Et.UDC.ENTRYPOINT,calldata:[u,x,(0,q.toCairoBool)(d),y.length,...y]},address:(0,De.calculateContractAddressFromHash)(d?Ka.starkCurve.pedersen(this.address,x):x,u,y,d?Et.UDC.ADDRESS:0)}}),s=n.map(o=>o.call),i=n.map(o=>o.address);return await this.execute(s,void 0,r)}async deployAccount({classHash:t,constructorCalldata:r=[],addressSalt:n=0,contractAddress:s},i){if(i.maxFee===void 0||i.chainId===void 0)throw new Error("missing transaction parameter");let o=(0,q.toBigInt)(De.transactionVersion),u=Et.ZERO,g=i.chainId,d=Ot.CallData.compile(r),f=s!=null?s:(0,De.calculateContractAddressFromHash)(n,t,d,0),y=i.maxFee,x=await this.signer.signDeployAccountTransaction({classHash:t,constructorCalldata:r,contractAddress:f,addressSalt:n,chainId:g,maxFee:y,version:o,nonce:u});return{txId:x.hash,signature:{type:xt.TransactionType.DEPLOY_ACCOUNT,contract_address_salt:n,constructor_calldata:Ot.CallData.compile(r!=null?r:[]),class_hash:(0,q.toHex)(t),max_fee:(0,q.toHex)(y||0),version:(0,q.toHex)(o||0),nonce:(0,q.toHex)(u),signature:(0,ke.signatureToDecimalArray)(x.signature)}}}async buildDeclareContractTransaction(t,{nonce:r,chainId:n,version:s,walletAddress:i,maxFee:o}){let{classHash:u,contract:g,compiledClassHash:d}=(0,wt.extractContractHashes)(t),f=(0,ka.parseContract)(g),y=await this.signer.signDeclareTransaction({classHash:u,compiledClassHash:d,senderAddress:i,chainId:n,maxFee:o,version:s,nonce:r});return{senderAddress:i,signature:y,contractDefinition:f,compiledClassHash:d}}async hashMessage(t){return(0,Ga.getMessageHash)(t,this.address)}};Pt.Account=Cr});var as=p(vt=>{"use strict";a();c();Object.defineProperty(vt,"__esModule",{value:!0});vt.AccountInterface=void 0;var Ar=class{};vt.AccountInterface=Ar});var Tr=p(ce=>{"use strict";a();c();var Xa=ce&&ce.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cs=ce&&ce.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Xa(t,e,r)};Object.defineProperty(ce,"__esModule",{value:!0});cs(os(),ce);cs(as(),ce)});var Er=p(Me=>{"use strict";a();c();Object.defineProperty(Me,"__esModule",{value:!0});Me.validateAndParseAddress=Me.addAddressPadding=void 0;var us=_e(),ls=X(),ds=H();function fs(e){return(0,ls.addHexPrefix)((0,ls.removeHexPrefix)((0,ds.toHex)(e)).padStart(64,"0"))}Me.addAddressPadding=fs;function Ya(e){(0,ds.assertInRange)(e,us.ZERO,us.MASK_251,"Starknet Address");let t=fs(e);if(!t.match(/^(0x)?[0-9a-fA-F]{64}$/))throw new Error("Invalid Address Format");return t}Me.validateAndParseAddress=Ya});var Ke=p(l=>{"use strict";a();c();var gs=l&&l.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ja=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),he=l&&l.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&gs(t,e,r)},j=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&gs(t,e,r);return Ja(t,e),t};Object.defineProperty(l,"__esModule",{value:!0});l.modPrivateKey=l.testSign=l.GetRandomPrivateKey=l.verifyMessage=l.signMessage=l.signMessageWithTypeData=l.CreateMultiContractCall=l.CreateContractCall=l.CreateTransferTx=l.CreateSignedDeployAccountTx=l.CalculateContractAddressFromHash=l.number=l.typedData=l.shortString=l.uint256=l.merkle=l.ec=l.stark=l.transaction=l.num=l.json=l.hash=l.encode=l.constants=void 0;var Ge=Tr();he(pr(),l);he(mr(),l);he(Y(),l);he(Tr(),l);l.constants=j(_e());l.encode=j(X());l.hash=j(Y());l.json=j(ut());l.num=j(H());l.transaction=j(bt());l.stark=j(Tt());l.ec=j(se());l.merkle=j(dr());l.uint256=j(kt());l.shortString=j(Z());l.typedData=j(Ct());he(Er(),l);he(Oe(),l);he(ps(),l);var Za=j(H());l.number=Za;var We=j(se()),xr=j(Y()),Nt=_e(),It=j(ut()),za=Er(),ue=me(),Qa=se(),Ht=Oe(),Xe=X();function wr(e){let t={implementation:Nt.accountClassHash,selector:xr.getSelectorFromName("initialize"),calldata:Ht.CallData.compile({signer:e,guardian:"0"})},r=xr.calculateContractAddressFromHash(e,Nt.ProxyAccountClassHash,Ht.CallData.compile(t),0);return(0,za.addAddressPadding)(r)}l.CalculateContractAddressFromHash=wr;async function ec(e,t,r,n){let s=We.starkCurve.getStarkKey(n),i=wr(s),o=new Ge.Account(i,(0,Xe.addHexPrefix)(n)),u={implementation:Nt.accountClassHash,selector:xr.getSelectorFromName("initialize"),calldata:Ht.CallData.compile({signer:s,guardian:"0"})},g=Ht.CallData.compile(u),d=await o.deployAccount({addressSalt:s,classHash:Nt.ProxyAccountClassHash,constructorCalldata:g,contractAddress:i},{nonce:e,maxFee:t,chainId:r});return{txId:d.txId,signature:It.stringify(d.signature)}}l.CreateSignedDeployAccountTx=ec;async function tc(e,t,r,n,s,i,o,u){let d=await new Ge.Account(t,(0,Xe.addHexPrefix)(u)).execute({contractAddress:e,entrypoint:"transfer",calldata:[r,n,0]},void 0,{nonce:s,maxFee:i,chainId:o});return{txId:d.txId,signature:It.stringify(d.signature)}}l.CreateTransferTx=tc;async function rc(e,t,r,n,s,i,o,u){let g=new Ge.Account(t,(0,Xe.addHexPrefix)(u));n||(n=[]);let d=await g.execute({contractAddress:e,entrypoint:r,calldata:n},void 0,{nonce:s,maxFee:i,chainId:o});return{txId:d.txId,signature:It.stringify(d.signature)}}l.CreateContractCall=rc;async function nc(e,t,r,n,s,i){let u=await new Ge.Account(e,(0,Xe.addHexPrefix)(i)).execute(t,void 0,{nonce:r,maxFee:n,chainId:s});return{txId:u.txId,signature:It.stringify(u.signature)}}l.CreateMultiContractCall=nc;async function sc(e,t){let r=ue.signUtil.schnorr.stark.getPublicKey(t),n=We.starkCurve.getStarkKey(t),s=wr(n),i=new Ge.Account(s,(0,Xe.addHexPrefix)(t)),o=await i.signMessage(e),u=await i.hashMessage(e);return{signature:o,hash:u,publicKey:r}}l.signMessageWithTypeData=sc;async function ic(e,t){let r=ue.signUtil.schnorr.stark.getPublicKey(t);return{signature:Qa.starkCurve.sign(e,t),hash:e,publicKey:r}}l.signMessage=ic;function oc(e,t,r){return ue.signUtil.schnorr.stark.verify(e,t,r)}l.verifyMessage=oc;async function ac(){for(;;){let e=ue.base.randomBytes(32);if(cc(e)&&hs(e.toString("hex")))return`0x${ue.signUtil.schnorr.bytesToHex(e)}`}}l.GetRandomPrivateKey=ac;function hs(e){let t="7465dd6b1bbffdb05442eb17f5ca38ad1aa78a6f56bf4415bdee219114a47a1",r=We.starkCurve.sign(t,e),n=ue.signUtil.schnorr.stark.getPublicKey(e);return We.starkCurve.verify(r,t,n)}l.testSign=hs;function cc(e){let t=new ue.BN(Array.from(e)),r=new ue.BN(We.starkCurve.CURVE.n.toString());return t.cmp(r)<0&&!t.isZero()}var uc=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583");function lc(e){let t;e.startsWith("0x")?t=e:t=`0x${e}`;let n=BigInt(e)%uc;return"0x"+n.toString(16)}l.modPrivateKey=lc});var ps=p(Mt=>{a();c();Object.defineProperty(Mt,"__esModule",{value:!0});Mt.StarknetWallet=void 0;var re=xs(),Dt=me(),B=Ke(),Or=class extends re.BaseWallet{async getDerivedPath(t){return`m/44'/9004'/0'/0/${t.index}`}async getDerivedPrivateKey(t){return Dt.bip39.mnemonicToSeed(t.mnemonic).then(r=>{let n=Dt.bip32.fromSeed(r).derivePath("m/44'/60'/0'/0/0");if(!n.privateKey)return Promise.reject(re.GenPrivateKeyError);let s=h.Buffer.from(n.privateKey),i=Dt.bip32.fromSeed(s).derivePath(t.hdPath);if(i.privateKey){let o=Dt.base.toHex(i.privateKey),u=B.ec.starkCurve.grindKey(o);return Promise.resolve(`0x${u}`)}else return Promise.reject(re.GenPrivateKeyError)}).catch(r=>Promise.reject(re.GenPrivateKeyError+":"+r))}async getNewAddress(t){try{let r=(0,B.modPrivateKey)(t.privateKey),n=B.ec.starkCurve.getStarkKey(r),i={address:(0,B.CalculateContractAddressFromHash)(n),publicKey:n};return Promise.resolve(i)}catch(r){return Promise.reject(re.NewAddressError+":"+r)}}async signTransaction(t){try{let r=t.data;if(r.nonce===void 0||r.maxFee===void 0)return Promise.reject(re.SignTxError);let n=r.nonce,s=r.maxFee,i=r.chainId||B.constants.StarknetChainId.SN_MAIN,o=(0,B.modPrivateKey)(t.privateKey);if(r.type=="transfer"&&r.transferData!==void 0){let u=r.transferData.contractAddress,g=r.transferData.from,d=r.transferData.to,f=r.transferData.amount,y=await(0,B.CreateTransferTx)(u,g,d,f,n,s,i,o);return Promise.resolve(y)}else if(r.type=="deploy_account"){let u=await(0,B.CreateSignedDeployAccountTx)(n,s,i,o);return Promise.resolve(u)}else if(r.type=="contract_call"&&r.contractCallData!==void 0){let u=r.contractCallData.contractAddress,g=r.contractCallData.from,d=r.contractCallData.functionName,f=r.contractCallData.callData,y=await(0,B.CreateContractCall)(u,g,d,f,n,s,i,o);return Promise.resolve(y)}else if(r.type=="multi_contract_call"&&r.multiContractCallData!==void 0){let u=r.multiContractCallData.from,g=r.multiContractCallData.calls,d=(0,B.CreateMultiContractCall)(u,g,n,s,i,o);return Promise.resolve(d)}return Promise.reject(re.SignTxError)}catch(r){return Promise.reject(re.SignTxError+":"+r)}}async validAddress(t){let r;try{(0,B.validateAndParseAddress)(t.address),r=t.address.startsWith("0x")&&t.address.length>50}catch{r=!1}let n={isValid:r,address:t.address};return Promise.resolve(n)}async signMessage(t){try{let r=(0,B.modPrivateKey)(t.privateKey);if(typeof t.data.message=="string"){let n=t.data.message;if(n.startsWith("0x")){let s=(0,B.signMessage)(n,r);return Promise.resolve(s)}}else{let n=t.data.message,s=await(0,B.signMessageWithTypeData)(n,r);return Promise.resolve(s)}}catch(r){return Promise.reject(re.SignTxError+":"+r)}}verifyMessage(t){try{let r=t.data.signature,n=t.data.hash,s=t.data.publicKey;return Promise.resolve((0,B.verifyMessage)(r,n,s))}catch(r){return Promise.reject(r)}}};Mt.StarknetWallet=Or});export default ps();

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=StarknetWallet-YAEAXXDX.js.map
