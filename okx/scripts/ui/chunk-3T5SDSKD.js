import{b as C}from"./chunk-2NIR645O.js";import{b as f}from"./chunk-SI3RW2CS.js";import{d as E}from"./chunk-4OTZHHYZ.js";import{M as h,d as w}from"./chunk-R6GCLTW2.js";import{b as T,c as M}from"./chunk-ERLETJMZ.js";import{d as x,f as K}from"./chunk-S4N75E3H.js";import{D as V}from"./chunk-CVJKAN5R.js";import{f as O,m as n,o as s}from"./chunk-6V2G2Z5W.js";n();s();K();var g=O(w());n();s();var v=O(V());n();s();var A="nft_list_filters";n();s();var D={hideNoValue:"hideNoValue",hideManualHidden:"hideManualHidden",hideUnverifiedCollection:"hideUnverifiedCollection"},l={[D.hideNoValue]:!0,[D.hideManualHidden]:!0,[D.hideUnverifiedCollection]:!1};n();s();var I={SHOW:0,MANUAL:1,AUTO:2};function _(t){var e;if(!t)return l;try{let r=localStorage.getItem(A);if(!r)return l;let i=JSON.parse(r);return i?(e=i[t])!=null?e:l:l}catch{return l}}var z=t=>({projectCertificated:t.hideUnverifiedCollection,hiddenStatus:[t.hideManualHidden?void 0:I.MANUAL,t.hideNoValue?void 0:I.AUTO].filter(Boolean).join(",")}),b=t=>{let e=_(t);return z(e)},et=(t,e)=>{let r=_(t);return e?r[e]!==l[e]:!(0,v.isEqual)(r,l)};var P={list:[],total:0,pageNo:1,pageSize:C},R={nftFilterChain:[],nftListCatch:[],computedNftCurrency:!1,testNftCurrency:100,nftFilterInfo:{collectionFilter:[],saleStatusFilter:[]},firstSet:!1,nftFilterStatus:!1,nftCollectionLoadingStatus:!1,activeId:1,nftListData:{},listLoading:!0,listLoadingError:!1,hasHiddenNft:!1},c=T({name:"Nft",initialState:R,reducers:{setHasHiddenNft(t,{payload:e}){t.hasHiddenNft=e},setNftFilterChian(t,{payload:e}){t.nftFilterChain=e.list},setNftListCatch(t,{payload:{list:e}}){t.nftListCatch=e},setComputedNftCurrency(t,{payload:{computedNftCurrency:e}}){t.computedNftCurrency=e},setNftFilterInfo(t,{payload:e}){t.nftFilterInfo=e},setFirstSet(t,{payload:e}){t.firstSet=e},setActiveId(t,{payload:{id:e}}){t.activeId=e},setNftListData(t,{payload:{nftListData:e,walletId:r}}){t.nftListData[r]=e},setNftListLoading(t,{payload:e}){t.listLoading=e},setNftListLoadingError(t,{payload:e}){t.listLoadingError=e},setNftFilterStatus(t,{payload:{nftFilterStatus:e}}){t.nftFilterStatus=e},setNftCollectionLoadingStatus(t,{payload:{nftCollectionLoadingStatus:e}}){t.nftCollectionLoadingStatus=e},updateNftData(t,{payload:{newData:e={},walletId:r,id:i}}){var d,p;(d=t.nftListData)!=null&&d[r]||(t.nftListData[r]={list:[],total:0});let o=t.nftListData[r],u=o.list.findIndex(N=>N.id===i);u!==-1?o.list[u]={id:i,...(p=o.list[u])!=null?p:{},...e}:(o.list.push({id:i,...e}),o.total+=1)},removeNftData:(t,{payload:{walletId:e,id:r}})=>{if(t.nftListData[e]){let i=t.nftListData[e],o=i.list.findIndex(u=>u.id===r);o!==-1&&(i.list.splice(o,1),i.total-=1)}}}}),dt=t=>t[c.name].hasHiddenNft;var H=(0,g.createSelector)(t=>t[c.name].nftListData,t=>h(t),(t,e)=>{var r;return(r=t[e])!=null?r:P}),pt=(0,g.createSelector)(t=>t[c.name].listLoading,H,(t,e)=>e===P?!0:t),Nt=(0,g.createSelector)(t=>t[c.name].listLoadingError,H,(t,e)=>e===P?!1:t),mt=t=>t[c.name].nftFilterInfo;var gt=t=>t[c.name].activeId;var Lt=c.reducer,{actions:a}=c,j=t=>({...t,lastPrice:f(t.lastPrice),bestOfferPrice:f(t.bestOffer),salePrice:f(t.sale),floorPrice:f(t.floorPriceDetail)}),Ft=a.setHasHiddenNft,yt=a.updateNftData,St=a.removeNftData,xt=a.setNftFilterInfo,ht=a.setNftListData;function Ct(t){return async(e,r)=>{let i=r(),o=h(i),{list:u}=H(i),d=b(o),{currentNetworkUniqueId:p=""}=E(i),N={projects:"",chainIds:p,pageNo:1,pageSize:C,saleStatus:"",...d},L=Object.assign(N,t);e(a.setNftListLoading(!0));let F=await x().fetchNftList(Object.assign(N,t)),U=u.map(S=>j(S)),y=[];L.pageNo>1&&y.push(...U),F.error?e(a.setNftListLoadingError(!0)):(e(a.setNftListLoadingError(!1)),y.push(...F.list.map(S=>j(S)))),e(a.setNftListData({nftListData:{list:y,total:F.total,pageNo:L.pageNo,pageSize:L.pageSize},walletId:o})),e(a.setNftListLoading(!1))}}function Dt(t){return t.metamask.preferences.showNftAmount}async function It(t){let e=await x().fetchNftDetail(t);return e?(e.lastPrice&&(e.lastPrice=f(e==null?void 0:e.lastPrice)),e.salePrice&&(e.salePrice=f(e==null?void 0:e.salePrice)),e.bestOfferPrice&&(e.bestOfferPrice=f(e==null?void 0:e.bestOfferPrice)),e.floorPriceDetail&&(e.floorPriceDetail=f(e==null?void 0:e.floorPriceDetail)),e):{}}export{A as a,D as b,l as c,I as d,_ as e,z as f,et as g,dt as h,H as i,pt as j,Nt as k,mt as l,gt as m,Lt as n,a as o,Ft as p,yt as q,St as r,xt as s,ht as t,Ct as u,Dt as v,It as w};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-3T5SDSKD.js.map
