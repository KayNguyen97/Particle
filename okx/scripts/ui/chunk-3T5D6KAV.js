import{D as dr,q as hr,r as Lt,y as fr}from"./chunk-RYNAOZ73.js";import{c as g,m as b,n as u,o as E}from"./chunk-6V2G2Z5W.js";var gr=g(P=>{"use strict";b();E();Object.defineProperty(P,"__esModule",{value:!0});P.getLength=P.decode=P.encode=void 0;var wr=fr();function Ot(e){if(Array.isArray(e)){for(var r=[],t=0;t<e.length;t++)r.push(Ot(e[t]));var n=u.Buffer.concat(r);return u.Buffer.concat([Tt(n.length,192),n])}else{var i=qe(e);return i.length===1&&i[0]<128?i:u.Buffer.concat([Tt(i.length,128),i])}}P.encode=Ot;function Le(e,r){if(e.slice(0,2)==="00")throw new Error("invalid RLP: extra zeros");return parseInt(e,r)}function Tt(e,r){if(e<56)return u.Buffer.from([e+r]);var t=Oe(e),n=t.length/2,i=Oe(r+55+n);return u.Buffer.from(i+t,"hex")}function yr(e,r){if(r===void 0&&(r=!1),!e||e.length===0)return u.Buffer.from([]);var t=qe(e),n=Te(t);if(r)return n;if(n.remainder.length!==0)throw new Error("invalid remainder");return n.data}P.decode=yr;function br(e){if(!e||e.length===0)return u.Buffer.from([]);var r=qe(e),t=r[0];if(t<=127)return r.length;if(t<=183)return t-127;if(t<=191)return t-182;if(t<=247)return t-191;var n=t-246,i=Le(r.slice(1,n).toString("hex"),16);return n+i}P.getLength=br;function Te(e){var r,t,n,i,o,s=[],a=e[0];if(a<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(a<=183){if(r=a-127,a===128?n=u.Buffer.from([]):n=e.slice(1,r),r===2&&n[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:n,remainder:e.slice(r)}}else if(a<=191){if(t=a-182,e.length-1<t)throw new Error("invalid RLP: not enough bytes for string length");if(r=Le(e.slice(1,t).toString("hex"),16),r<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if(n=e.slice(t,r+t),n.length<r)throw new Error("invalid RLP: not enough bytes for string");return{data:n,remainder:e.slice(r+t)}}else if(a<=247){for(r=a-191,i=e.slice(1,r);i.length;)o=Te(i),s.push(o.data),i=o.remainder;return{data:s,remainder:e.slice(r)}}else{t=a-246,r=Le(e.slice(1,t).toString("hex"),16);var w=t+r;if(w>e.length)throw new Error("invalid rlp: total length is larger than the data");if(i=e.slice(t,w),i.length===0)throw new Error("invalid rlp, List has a invalid length");for(;i.length;)o=Te(i),s.push(o.data),i=o.remainder;return{data:s,remainder:e.slice(w)}}}function qt(e){return e.slice(0,2)==="0x"}function Er(e){return typeof e!="string"?e:qt(e)?e.slice(2):e}function Oe(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");var r=e.toString(16);return r.length%2?"0"+r:r}function _r(e){return e.length%2?"0"+e:e}function xr(e){var r=Oe(e);return u.Buffer.from(r,"hex")}function qe(e){if(!u.Buffer.isBuffer(e)){if(typeof e=="string")return qt(e)?u.Buffer.from(_r(Er(e)),"hex"):u.Buffer.from(e);if(typeof e=="number"||typeof e=="bigint")return e?xr(e):u.Buffer.from([]);if(e==null)return u.Buffer.from([]);if(e instanceof Uint8Array)return u.Buffer.from(e);if(wr.isBN(e))return u.Buffer.from(e.toArray());throw new Error("invalid type")}return e}});var Nt=g(Ne=>{"use strict";b();E();Object.defineProperty(Ne,"__esModule",{value:!0});function Sr(e){return function(r){var t=e();return t.update(r),u.Buffer.from(t.digest())}}Ne.createHashFunction=Sr});var Vt=g((Dr,Mt)=>{b();E();var{Transform:mr}=Lt();Mt.exports=e=>class Ct extends mr{constructor(t,n,i,o,s){super(s),this._rate=t,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=o,this._options=s,this._state=new e,this._state.initialize(t,n),this._finalized=!1}_transform(t,n,i){let o=null;try{this.update(t,n)}catch(s){o=s}i(o)}_flush(t){let n=null;try{this.push(this.digest())}catch(i){n=i}t(n)}update(t,n){if(!u.Buffer.isBuffer(t)&&typeof t!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return u.Buffer.isBuffer(t)||(t=u.Buffer.from(t,n)),this._state.absorb(t),this}digest(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return t!==void 0&&(n=n.toString(t)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let t=new Ct(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t}}});var Dt=g((jr,Yt)=>{b();E();var{Transform:vr}=Lt();Yt.exports=e=>class Zt extends vr{constructor(t,n,i,o){super(o),this._rate=t,this._capacity=n,this._delimitedSuffix=i,this._options=o,this._state=new e,this._state.initialize(t,n),this._finalized=!1}_transform(t,n,i){let o=null;try{this.update(t,n)}catch(s){o=s}i(o)}_flush(){}_read(t){this.push(this.squeeze(t))}update(t,n){if(!u.Buffer.isBuffer(t)&&typeof t!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return u.Buffer.isBuffer(t)||(t=u.Buffer.from(t,n)),this._state.absorb(t),this}squeeze(t,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(t);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let t=new Zt(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t}}});var Ht=g(($r,Ft)=>{b();E();var Ar=Vt(),pr=Dt();Ft.exports=function(e){let r=Ar(e),t=pr(e);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new r(1152,448,null,224,i);case"keccak256":return new r(1088,512,null,256,i);case"keccak384":return new r(832,768,null,384,i);case"keccak512":return new r(576,1024,null,512,i);case"sha3-224":return new r(1152,448,6,224,i);case"sha3-256":return new r(1088,512,6,256,i);case"sha3-384":return new r(832,768,6,384,i);case"sha3-512":return new r(576,1024,6,512,i);case"shake128":return new t(1344,256,31,i);case"shake256":return new t(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}}});var Wt=g(Gt=>{b();E();var jt=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Gt.p1600=function(e){for(let r=0;r<24;++r){let t=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],i=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],s=e[4]^e[14]^e[24]^e[34]^e[44],a=e[5]^e[15]^e[25]^e[35]^e[45],w=e[6]^e[16]^e[26]^e[36]^e[46],c=e[7]^e[17]^e[27]^e[37]^e[47],x=e[8]^e[18]^e[28]^e[38]^e[48],m=e[9]^e[19]^e[29]^e[39]^e[49],l=x^(i<<1|o>>>31),y=m^(o<<1|i>>>31),v=e[0]^l,ur=e[1]^y,Me=e[10]^l,Ve=e[11]^y,Ze=e[20]^l,Ye=e[21]^y,De=e[30]^l,Fe=e[31]^y,He=e[40]^l,je=e[41]^y;l=t^(s<<1|a>>>31),y=n^(a<<1|s>>>31);let Ge=e[2]^l,We=e[3]^y,$e=e[12]^l,Xe=e[13]^y,Je=e[22]^l,Qe=e[23]^y,et=e[32]^l,tt=e[33]^y,rt=e[42]^l,nt=e[43]^y;l=i^(w<<1|c>>>31),y=o^(c<<1|w>>>31);let it=e[4]^l,ot=e[5]^y,st=e[14]^l,ct=e[15]^y,at=e[24]^l,lt=e[25]^y,ut=e[34]^l,ht=e[35]^y,ft=e[44]^l,dt=e[45]^y;l=s^(x<<1|m>>>31),y=a^(m<<1|x>>>31);let wt=e[6]^l,yt=e[7]^y,bt=e[16]^l,Et=e[17]^y,_t=e[26]^l,xt=e[27]^y,gt=e[36]^l,St=e[37]^y,mt=e[46]^l,vt=e[47]^y;l=w^(t<<1|n>>>31),y=c^(n<<1|t>>>31);let At=e[8]^l,pt=e[9]^y,Kt=e[18]^l,Pt=e[19]^y,It=e[28]^l,Rt=e[29]^y,zt=e[38]^l,Bt=e[39]^y,kt=e[48]^l,Ut=e[49]^y,N=v,C=ur,M=Ve<<4|Me>>>28,V=Me<<4|Ve>>>28,Z=Ze<<3|Ye>>>29,Y=Ye<<3|Ze>>>29,D=Fe<<9|De>>>23,F=De<<9|Fe>>>23,H=He<<18|je>>>14,j=je<<18|He>>>14,G=Ge<<1|We>>>31,W=We<<1|Ge>>>31,$=Xe<<12|$e>>>20,X=$e<<12|Xe>>>20,J=Je<<10|Qe>>>22,Q=Qe<<10|Je>>>22,ee=tt<<13|et>>>19,te=et<<13|tt>>>19,re=rt<<2|nt>>>30,ne=nt<<2|rt>>>30,ie=ot<<30|it>>>2,oe=it<<30|ot>>>2,se=st<<6|ct>>>26,ce=ct<<6|st>>>26,ae=lt<<11|at>>>21,le=at<<11|lt>>>21,ue=ut<<15|ht>>>17,he=ht<<15|ut>>>17,fe=dt<<29|ft>>>3,de=ft<<29|dt>>>3,we=wt<<28|yt>>>4,ye=yt<<28|wt>>>4,be=Et<<23|bt>>>9,Ee=bt<<23|Et>>>9,_e=_t<<25|xt>>>7,xe=xt<<25|_t>>>7,ge=gt<<21|St>>>11,Se=St<<21|gt>>>11,me=vt<<24|mt>>>8,ve=mt<<24|vt>>>8,Ae=At<<27|pt>>>5,pe=pt<<27|At>>>5,Ke=Kt<<20|Pt>>>12,Pe=Pt<<20|Kt>>>12,Ie=Rt<<7|It>>>25,Re=It<<7|Rt>>>25,ze=zt<<8|Bt>>>24,Be=Bt<<8|zt>>>24,ke=kt<<14|Ut>>>18,Ue=Ut<<14|kt>>>18;e[0]=N^~$&ae,e[1]=C^~X&le,e[10]=we^~Ke&Z,e[11]=ye^~Pe&Y,e[20]=G^~se&_e,e[21]=W^~ce&xe,e[30]=Ae^~M&J,e[31]=pe^~V&Q,e[40]=ie^~be&Ie,e[41]=oe^~Ee&Re,e[2]=$^~ae&ge,e[3]=X^~le&Se,e[12]=Ke^~Z&ee,e[13]=Pe^~Y&te,e[22]=se^~_e&ze,e[23]=ce^~xe&Be,e[32]=M^~J&ue,e[33]=V^~Q&he,e[42]=be^~Ie&D,e[43]=Ee^~Re&F,e[4]=ae^~ge&ke,e[5]=le^~Se&Ue,e[14]=Z^~ee&fe,e[15]=Y^~te&de,e[24]=_e^~ze&H,e[25]=xe^~Be&j,e[34]=J^~ue&me,e[35]=Q^~he&ve,e[44]=Ie^~D&re,e[45]=Re^~F&ne,e[6]=ge^~ke&N,e[7]=Se^~Ue&C,e[16]=ee^~fe&we,e[17]=te^~de&ye,e[26]=ze^~H&G,e[27]=Be^~j&W,e[36]=ue^~me&Ae,e[37]=he^~ve&pe,e[46]=D^~re&ie,e[47]=F^~ne&oe,e[8]=ke^~N&$,e[9]=Ue^~C&X,e[18]=fe^~we&Ke,e[19]=de^~ye&Pe,e[28]=H^~G&se,e[29]=j^~W&ce,e[38]=me^~Ae&M,e[39]=ve^~pe&V,e[48]=re^~ie&be,e[49]=ne^~oe&Ee,e[0]^=jt[r*2],e[1]^=jt[r*2+1]}}});var Xt=g((rn,$t)=>{b();E();var L=Wt();function B(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}B.prototype.initialize=function(e,r){for(let t=0;t<50;++t)this.state[t]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1};B.prototype.absorb=function(e){for(let r=0;r<e.length;++r)this.state[~~(this.count/4)]^=e[r]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(L.p1600(this.state),this.count=0)};B.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<8*(this.count%4),(e&128)!==0&&this.count===this.blockSize-1&&L.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),L.p1600(this.state),this.count=0,this.squeezing=!0};B.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);let r=u.Buffer.alloc(e);for(let t=0;t<e;++t)r[t]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(L.p1600(this.state),this.count=0);return r};B.prototype.copy=function(e){for(let r=0;r<50;++r)e.state[r]=this.state[r];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing};$t.exports=B});var Qt=g((sn,Jt)=>{b();E();Jt.exports=Ht()(Xt())});var Kr=g(k=>{"use strict";b();E();Object.defineProperty(k,"__esModule",{value:!0});var T=Nt(),O=Qt();k.keccak224=T.createHashFunction(function(){return O("keccak224")});k.keccak256=T.createHashFunction(function(){return O("keccak256")});k.keccak384=T.createHashFunction(function(){return O("keccak384")});k.keccak512=T.createHashFunction(function(){return O("keccak512")})});var tr=g((fn,er)=>{b();E();var d={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function S(e,r){if(!e)throw new Error(r)}function f(e,r,t){if(S(r instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),t!==void 0)if(Array.isArray(t)){let n=t.join(", "),i=`Expected ${e} to be an Uint8Array with length [${n}]`;S(t.includes(r.length),i)}else{let n=`Expected ${e} to be an Uint8Array with length ${t}`;S(r.length===t,n)}}function R(e){S(U(e)==="Boolean","Expected compressed to be a Boolean")}function A(e=t=>new Uint8Array(t),r){return typeof e=="function"&&(e=e(r)),f("output",e,r),e}function U(e){return Object.prototype.toString.call(e).slice(8,-1)}er.exports=e=>({contextRandomize(r){switch(S(r===null||r instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),r!==null&&f("seed",r,32),e.contextRandomize(r)){case 1:throw new Error(d.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(r){return f("private key",r,32),e.privateKeyVerify(r)===0},privateKeyNegate(r){switch(f("private key",r,32),e.privateKeyNegate(r)){case 0:return r;case 1:throw new Error(d.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(r,t){switch(f("private key",r,32),f("tweak",t,32),e.privateKeyTweakAdd(r,t)){case 0:return r;case 1:throw new Error(d.TWEAK_ADD)}},privateKeyTweakMul(r,t){switch(f("private key",r,32),f("tweak",t,32),e.privateKeyTweakMul(r,t)){case 0:return r;case 1:throw new Error(d.TWEAK_MUL)}},publicKeyVerify(r){return f("public key",r,[33,65]),e.publicKeyVerify(r)===0},publicKeyCreate(r,t=!0,n){switch(f("private key",r,32),R(t),n=A(n,t?33:65),e.publicKeyCreate(n,r)){case 0:return n;case 1:throw new Error(d.SECKEY_INVALID);case 2:throw new Error(d.PUBKEY_SERIALIZE)}},publicKeyConvert(r,t=!0,n){switch(f("public key",r,[33,65]),R(t),n=A(n,t?33:65),e.publicKeyConvert(n,r)){case 0:return n;case 1:throw new Error(d.PUBKEY_PARSE);case 2:throw new Error(d.PUBKEY_SERIALIZE)}},publicKeyNegate(r,t=!0,n){switch(f("public key",r,[33,65]),R(t),n=A(n,t?33:65),e.publicKeyNegate(n,r)){case 0:return n;case 1:throw new Error(d.PUBKEY_PARSE);case 2:throw new Error(d.IMPOSSIBLE_CASE);case 3:throw new Error(d.PUBKEY_SERIALIZE)}},publicKeyCombine(r,t=!0,n){S(Array.isArray(r),"Expected public keys to be an Array"),S(r.length>0,"Expected public keys array will have more than zero items");for(let i of r)f("public key",i,[33,65]);switch(R(t),n=A(n,t?33:65),e.publicKeyCombine(n,r)){case 0:return n;case 1:throw new Error(d.PUBKEY_PARSE);case 2:throw new Error(d.PUBKEY_COMBINE);case 3:throw new Error(d.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(r,t,n=!0,i){switch(f("public key",r,[33,65]),f("tweak",t,32),R(n),i=A(i,n?33:65),e.publicKeyTweakAdd(i,r,t)){case 0:return i;case 1:throw new Error(d.PUBKEY_PARSE);case 2:throw new Error(d.TWEAK_ADD)}},publicKeyTweakMul(r,t,n=!0,i){switch(f("public key",r,[33,65]),f("tweak",t,32),R(n),i=A(i,n?33:65),e.publicKeyTweakMul(i,r,t)){case 0:return i;case 1:throw new Error(d.PUBKEY_PARSE);case 2:throw new Error(d.TWEAK_MUL)}},signatureNormalize(r){switch(f("signature",r,64),e.signatureNormalize(r)){case 0:return r;case 1:throw new Error(d.SIG_PARSE)}},signatureExport(r,t){f("signature",r,64),t=A(t,72);let n={output:t,outputlen:72};switch(e.signatureExport(n,r)){case 0:return t.slice(0,n.outputlen);case 1:throw new Error(d.SIG_PARSE);case 2:throw new Error(d.IMPOSSIBLE_CASE)}},signatureImport(r,t){switch(f("signature",r),t=A(t,64),e.signatureImport(t,r)){case 0:return t;case 1:throw new Error(d.SIG_PARSE);case 2:throw new Error(d.IMPOSSIBLE_CASE)}},ecdsaSign(r,t,n={},i){f("message",r,32),f("private key",t,32),S(U(n)==="Object","Expected options to be an Object"),n.data!==void 0&&f("options.data",n.data),n.noncefn!==void 0&&S(U(n.noncefn)==="Function","Expected options.noncefn to be a Function"),i=A(i,64);let o={signature:i,recid:null};switch(e.ecdsaSign(o,r,t,n.data,n.noncefn)){case 0:return o;case 1:throw new Error(d.SIGN);case 2:throw new Error(d.IMPOSSIBLE_CASE)}},ecdsaVerify(r,t,n){switch(f("signature",r,64),f("message",t,32),f("public key",n,[33,65]),e.ecdsaVerify(r,t,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(d.SIG_PARSE);case 2:throw new Error(d.PUBKEY_PARSE)}},ecdsaRecover(r,t,n,i=!0,o){switch(f("signature",r,64),S(U(t)==="Number"&&t>=0&&t<=3,"Expected recovery id to be a Number within interval [0, 3]"),f("message",n,32),R(i),o=A(o,i?33:65),e.ecdsaRecover(o,r,t,n)){case 0:return o;case 1:throw new Error(d.SIG_PARSE);case 2:throw new Error(d.RECOVER);case 3:throw new Error(d.IMPOSSIBLE_CASE)}},ecdh(r,t,n={},i){switch(f("public key",r,[33,65]),f("private key",t,32),S(U(n)==="Object","Expected options to be an Object"),n.data!==void 0&&f("options.data",n.data),n.hashfn!==void 0?(S(U(n.hashfn)==="Function","Expected options.hashfn to be a Function"),n.xbuf!==void 0&&f("options.xbuf",n.xbuf,32),n.ybuf!==void 0&&f("options.ybuf",n.ybuf,32),f("output",i)):i=A(i,32),e.ecdh(i,r,t,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(d.PUBKEY_PARSE);case 2:throw new Error(d.ECDH)}}})});var nr=g((yn,rr)=>{b();E();var Pr=dr().ec,p=new Pr("secp256k1"),h=p.curve,_=h.n.constructor;function Ir(e,r){let t=new _(r);if(t.cmp(h.p)>=0)return null;t=t.toRed(h.red);let n=t.redSqr().redIMul(t).redIAdd(h.b).redSqrt();return e===3!==n.isOdd()&&(n=n.redNeg()),p.keyPair({pub:{x:t,y:n}})}function Rr(e,r,t){let n=new _(r),i=new _(t);if(n.cmp(h.p)>=0||i.cmp(h.p)>=0||(n=n.toRed(h.red),i=i.toRed(h.red),(e===6||e===7)&&i.isOdd()!==(e===7)))return null;let o=n.redSqr().redIMul(n);return i.redSqr().redISub(o.redIAdd(h.b)).isZero()?p.keyPair({pub:{x:n,y:i}}):null}function I(e){let r=e[0];switch(r){case 2:case 3:return e.length!==33?null:Ir(r,e.subarray(1,33));case 4:case 6:case 7:return e.length!==65?null:Rr(r,e.subarray(1,33),e.subarray(33,65));default:return null}}function z(e,r){let t=r.encode(null,e.length===33);for(let n=0;n<e.length;++n)e[n]=t[n]}rr.exports={contextRandomize(){return 0},privateKeyVerify(e){let r=new _(e);return r.cmp(h.n)<0&&!r.isZero()?0:1},privateKeyNegate(e){let r=new _(e),t=h.n.sub(r).umod(h.n).toArrayLike(Uint8Array,"be",32);return e.set(t),0},privateKeyTweakAdd(e,r){let t=new _(r);if(t.cmp(h.n)>=0||(t.iadd(new _(e)),t.cmp(h.n)>=0&&t.isub(h.n),t.isZero()))return 1;let n=t.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul(e,r){let t=new _(r);if(t.cmp(h.n)>=0||t.isZero())return 1;t.imul(new _(e)),t.cmp(h.n)>=0&&(t=t.umod(h.n));let n=t.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify(e){return I(e)===null?1:0},publicKeyCreate(e,r){let t=new _(r);if(t.cmp(h.n)>=0||t.isZero())return 1;let n=p.keyFromPrivate(r).getPublic();return z(e,n),0},publicKeyConvert(e,r){let t=I(r);if(t===null)return 1;let n=t.getPublic();return z(e,n),0},publicKeyNegate(e,r){let t=I(r);if(t===null)return 1;let n=t.getPublic();return n.y=n.y.redNeg(),z(e,n),0},publicKeyCombine(e,r){let t=new Array(r.length);for(let i=0;i<r.length;++i)if(t[i]=I(r[i]),t[i]===null)return 1;let n=t[0].getPublic();for(let i=1;i<t.length;++i)n=n.add(t[i].pub);return n.isInfinity()?2:(z(e,n),0)},publicKeyTweakAdd(e,r,t){let n=I(r);if(n===null)return 1;if(t=new _(t),t.cmp(h.n)>=0)return 2;let i=n.getPublic().add(h.g.mul(t));return i.isInfinity()?2:(z(e,i),0)},publicKeyTweakMul(e,r,t){let n=I(r);if(n===null)return 1;if(t=new _(t),t.cmp(h.n)>=0||t.isZero())return 2;let i=n.getPublic().mul(t);return z(e,i),0},signatureNormalize(e){let r=new _(e.subarray(0,32)),t=new _(e.subarray(32,64));return r.cmp(h.n)>=0||t.cmp(h.n)>=0?1:(t.cmp(p.nh)===1&&e.set(h.n.sub(t).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,r){let t=r.subarray(0,32),n=r.subarray(32,64);if(new _(t).cmp(h.n)>=0||new _(n).cmp(h.n)>=0)return 1;let{output:i}=e,o=i.subarray(4,4+33);o[0]=0,o.set(t,1);let s=33,a=0;for(;s>1&&o[a]===0&&!(o[a+1]&128);--s,++a);if(o=o.subarray(a),o[0]&128||s>1&&o[0]===0&&!(o[1]&128))return 1;let w=i.subarray(6+33,6+33+33);w[0]=0,w.set(n,1);let c=33,x=0;for(;c>1&&w[x]===0&&!(w[x+1]&128);--c,++x);return w=w.subarray(x),w[0]&128||c>1&&w[0]===0&&!(w[1]&128)?1:(e.outputlen=6+s+c,i[0]=48,i[1]=e.outputlen-2,i[2]=2,i[3]=o.length,i.set(o,4),i[4+s]=2,i[5+s]=w.length,i.set(w,6+s),0)},signatureImport(e,r){if(r.length<8||r.length>72||r[0]!==48||r[1]!==r.length-2||r[2]!==2)return 1;let t=r[3];if(t===0||5+t>=r.length||r[4+t]!==2)return 1;let n=r[5+t];if(n===0||6+t+n!==r.length||r[4]&128||t>1&&r[4]===0&&!(r[5]&128)||r[t+6]&128||n>1&&r[t+6]===0&&!(r[t+7]&128))return 1;let i=r.subarray(4,4+t);if(i.length===33&&i[0]===0&&(i=i.subarray(1)),i.length>32)return 1;let o=r.subarray(6+t);if(o.length===33&&o[0]===0&&(o=o.slice(1)),o.length>32)throw new Error("S length is too long");let s=new _(i);s.cmp(h.n)>=0&&(s=new _(0));let a=new _(r.subarray(6+t));return a.cmp(h.n)>=0&&(a=new _(0)),e.set(s.toArrayLike(Uint8Array,"be",32),0),e.set(a.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,r,t,n,i){if(i){let a=i;i=w=>{let c=a(r,t,null,n,w);if(!(c instanceof Uint8Array&&c.length===32))throw new Error("This is the way");return new _(c)}}let o=new _(t);if(o.cmp(h.n)>=0||o.isZero())return 1;let s;try{s=p.sign(r,t,{canonical:!0,k:i,pers:n})}catch{return 1}return e.signature.set(s.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(s.s.toArrayLike(Uint8Array,"be",32),32),e.recid=s.recoveryParam,0},ecdsaVerify(e,r,t){let n={r:e.subarray(0,32),s:e.subarray(32,64)},i=new _(n.r),o=new _(n.s);if(i.cmp(h.n)>=0||o.cmp(h.n)>=0)return 1;if(o.cmp(p.nh)===1||i.isZero()||o.isZero())return 3;let s=I(t);if(s===null)return 2;let a=s.getPublic();return p.verify(r,n,a)?0:3},ecdsaRecover(e,r,t,n){let i={r:r.slice(0,32),s:r.slice(32,64)},o=new _(i.r),s=new _(i.s);if(o.cmp(h.n)>=0||s.cmp(h.n)>=0)return 1;if(o.isZero()||s.isZero())return 2;let a;try{a=p.recoverPubKey(n,i,t)}catch{return 2}return z(e,a),0},ecdh(e,r,t,n,i,o,s){let a=I(r);if(a===null)return 1;let w=new _(t);if(w.cmp(h.n)>=0||w.isZero())return 2;let c=a.getPublic().mul(w);if(i===void 0){let x=c.encode(null,!0),m=p.hash().update(x).digest();for(let l=0;l<32;++l)e[l]=m[l]}else{o||(o=new Uint8Array(32));let x=c.getX().toArray("be",32);for(let v=0;v<32;++v)o[v]=x[v];s||(s=new Uint8Array(32));let m=c.getY().toArray("be",32);for(let v=0;v<32;++v)s[v]=m[v];let l=i(o,s,n);if(!(l instanceof Uint8Array&&l.length===e.length))return 2;e.set(l)}return 0}}});var Ce=g((_n,ir)=>{b();E();ir.exports=tr()(nr())});var sr=g(q=>{"use strict";b();E();Object.defineProperty(q,"__esModule",{value:!0});var or=hr();function zr(e){return new Promise(function(r,t){or(e,function(n,i){if(n){t(n);return}r(i)})})}q.getRandomBytes=zr;function Br(e){return or(e)}q.getRandomBytesSync=Br});var qr=g(K=>{"use strict";b();E();var kr=K&&K.__awaiter||function(e,r,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(x){try{c(n.next(x))}catch(m){s(m)}}function w(x){try{c(n.throw(x))}catch(m){s(m)}}function c(x){x.done?o(x.value):i(x.value).then(a,w)}c((n=n.apply(e,r||[])).next())})},Ur=K&&K.__generator||function(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(x){return w([c,x])}}function w(c){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=r.call(e,t)}catch(x){c=[6,x],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};function Lr(e){for(var r in e)K.hasOwnProperty(r)||(K[r]=e[r])}Object.defineProperty(K,"__esModule",{value:!0});var cr=Ce(),ar=sr(),lr=32;function Tr(){return kr(this,void 0,void 0,function(){var e;return Ur(this,function(r){switch(r.label){case 0:return[4,ar.getRandomBytes(lr)];case 1:return e=r.sent(),cr.privateKeyVerify(e)?[2,e]:[3,0];case 2:return[2]}})})}K.createPrivateKey=Tr;function Or(){for(;;){var e=ar.getRandomBytesSync(lr);if(cr.privateKeyVerify(e))return e}}K.createPrivateKeySync=Or;Lr(Ce())});export{gr as a,Kr as b,qr as c};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-3T5D6KAV.js.map
