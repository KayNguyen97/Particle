import{a as S}from"./chunk-6L6L7B7D.js";import{a as be,b as je,c as Ne,e as Ee,f as Ge,g as He,h as _e,i as C}from"./chunk-UVKTLEHJ.js";import{a as Me}from"./chunk-3FXJS34C.js";import{B as b,D as A,a as Ae}from"./chunk-MTMZQEHP.js";import{c as Ce,d as Pe}from"./chunk-HQT4AKFZ.js";import{b as h,c as he}from"./chunk-ERLETJMZ.js";import{B as Ie,C as R,D as we,G as Oe,M as Re,R as Se,S as ve,T as Te,U as Ve,Y as Fe,ba as De,y as D}from"./chunk-X2LENRE7.js";import{d as F,f as ye}from"./chunk-S4N75E3H.js";import{D as qe}from"./chunk-CVJKAN5R.js";import{c as p,f as O,m as o,o as s}from"./chunk-6V2G2Z5W.js";var v=p((Kt,P)=>{o();s();var We=Me(),Je=D();function Ke(e,t,r){(r!==void 0&&!Je(e[t],r)||r===void 0&&!(t in e))&&We(e,t,r)}P.exports=Ke});var N=p((Bt,j)=>{o();s();var Ye=Ie(),$e=be(),Be=Se(),Ue="[object Object]",Qe=Function.prototype,Xe=Object.prototype,M=Qe.toString,Ze=Xe.hasOwnProperty,ze=M.call(Object);function ke(e){if(!Be(e)||Ye(e)!=Ue)return!1;var t=$e(e);if(t===null)return!0;var r=Ze.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&M.call(r)==ze}j.exports=ke});var T=p((Xt,E)=>{o();s();function et(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}E.exports=et});var H=p((kt,G)=>{o();s();var tt=_e(),rt=C();function it(e){return tt(e,rt(e))}G.exports=it});var $=p((rr,Y)=>{o();s();var _=v(),nt=Ne(),ot=Ee(),st=Ge(),at=He(),W=ve(),J=Re(),lt=Pe(),ut=Te(),ft=we(),ct=R(),dt=N(),gt=Fe(),K=T(),pt=H();function Lt(e,t,r,n,i,u,l){var a=K(e,r),f=K(t,r),m=l.get(f);if(m){_(e,r,m);return}var c=u?u(a,f,r+"",e,t,l):void 0,L=c===void 0;if(L){var I=J(f),q=!I&&ut(f),w=!I&&!q&&gt(f);c=f,I||q||w?J(a)?c=a:lt(a)?c=st(a):q?(L=!1,c=nt(f,!0)):w?(L=!1,c=ot(f,!0)):c=[]:dt(f)||W(f)?(c=a,W(a)?c=pt(a):(!ct(a)||ft(a))&&(c=at(f))):L=!1}L&&(l.set(f,c),i(c,f,n,u,l),l.delete(f)),_(e,r,c)}Y.exports=Lt});var Q=p((or,U)=>{o();s();var xt=Oe(),mt=v(),qt=je(),yt=$(),It=R(),wt=C(),Ot=T();function B(e,t,r,n,i){e!==t&&qt(t,function(u,l){if(i||(i=new xt),It(u))yt(e,t,l,r,B,n,i);else{var a=n?n(Ot(e,l),u,l+"",e,t,i):void 0;a===void 0&&(a=u),mt(e,l,a)}},wt)}U.exports=B});var Z=p((lr,X)=>{o();s();var Rt=D(),St=De(),vt=Ve(),Tt=R();function Vt(e,t,r){if(!Tt(r))return!1;var n=typeof t;return(n=="number"?St(r)&&vt(t,r.length):n=="string"&&t in r)?Rt(r[t],e):!1}X.exports=Vt});var k=p((cr,z)=>{o();s();var Ft=Ce(),Dt=Z();function ht(e){return Ft(function(t,r){var n=-1,i=r.length,u=i>1?r[i-1]:void 0,l=i>2?r[2]:void 0;for(u=e.length>3&&typeof u=="function"?(i--,u):void 0,l&&Dt(r[0],r[1],l)&&(u=i<3?void 0:u,i=1),t=Object(t);++n<i;){var a=r[n];a&&e(t,a,n,u)}return t})}z.exports=ht});var te=p((pr,ee)=>{o();s();var bt=Q(),At=k(),Ct=At(function(e,t,r){bt(e,t,r)});ee.exports=Ct});o();s();var ie=O(Ae());ye();var V=O(te()),ne="txHistoryRejectValues",Pt={hideValuelessNft:"hideValuelessNft"},qr={NORMAL:0,RISKY:1,VALUELESS:2},re={[Pt.hideValuelessNft]:!0},oe=async()=>{try{return await F().getSelectedWallet()}catch{return null}},se=()=>{var e;try{let t=localStorage.getItem(ne);if(!t)return{};let r=(e=JSON.parse(t))!=null?e:{};return r!=null?r:{}}catch{return{}}},ae=(e={})=>{try{let t=JSON.stringify(e);return localStorage.setItem(ne,t),!0}catch{return!1}},yr=async(e,t)=>{try{let r=await oe();if(!r)return!1;let n=se(),i={[r]:{[e]:t}};return ae((0,V.default)({},n,i))}catch{return!1}},le=async()=>{var n;let e=await oe();if(!e)return{};let t=se(),r=(n=t==null?void 0:t[e])!=null?n:{};if((0,ie.default)(r)){let i={[e]:re};return ae((0,V.default)({},t,i)),re}return r};o();s();var pe=O(qe());var x=h({name:"txHistory",initialState:{filters:{status:[1,2,3,4],dates:S().stringDates,mainCoinId:""},txList:[],initLoading:!0,scrollLoading:!1,filterLoading:!1,lastRowId:""},reducers:{setInitLoading:(e,t)=>{e.initLoading=t.payload},setScrollLoading:(e,t)=>{e.scrollLoading=t.payload},setFilterLoading:(e,t)=>{e.filterLoading=t.payload},setFilters:(e,t)=>{e.filters={...e.filters,...t.payload}},setLastRowId:(e,t)=>{e.lastRowId=t.payload},setTxList:(e,t)=>{e.txList=t.payload},mergeTxList:(e,t)=>{e.txList=[...e.txList,...t.payload]},resetFilters(e){e.filters={status:[1,2,3,4],dates:S().stringDates,mainCoinId:""}},resetTxHistory:e=>{e.txList=[],e.initLoading=!1,e.scrollLoading=!1,e.filterLoading=!1,e.lastRowId=""}}}),{actions:Mt,reducer:jt}=x,Vr=jt,Fr=e=>e[x.name].txList,Nt=e=>e[x.name].filters,Et=e=>{let t=Nt(e),{dates:[r,n],mainCoinId:i}=t;return{startDate:new Date(`${r} 00:00:00`).getTime(),endDate:new Date(`${n} 23:59:59`).getTime(),mainCoinId:i,status:[1,2,3,4]}},Gt=e=>e[x.name].initLoading,Ht=e=>e[x.name].scrollLoading,_t=e=>e[x.name].lastRowId,Dr=e=>e[x.name].filterLoading,{setFilters:Wt,setTxList:ue,mergeTxList:fe,setInitLoading:ce,setScrollLoading:de,setFilterLoading:Le,resetTxHistory:hr,setLastRowId:ge,resetFilters:br}=Mt;var Jt=(e,t={initLoad:!1,scrollLoad:!1,autoRefresh:!1,fromCoinDetail:!1})=>async(r,n)=>{var q,w;let i={...e},{initLoad:u,scrollLoad:l,fromCoinDetail:a}=t,f=a?A:b,m=n(),c=_t(m),L=Gt(m),I=Ht(m);if(!(l&&(!c||I||L))){if(u&&r(ce(!0)),l&&r(de(!0)),u&&r(ge("")),l&&(i.lastRowId=c),!a)try{let d=await le();i.hideValuelessNft=(q=d==null?void 0:d.hideValuelessNft)!=null?q:!0}catch(d){console.error(d)}try{let d=await f(i),y=a?d:d.content;(0,pe.isEmpty)(y)&&(y=[]),r(l?fe(y):ue(y));let xe=y.length,me=d.hasViewMore?(w=y[xe-1])==null?void 0:w.rowId:"";r(ge(me))}catch{r(l?fe([]):ue([]))}u&&r(ce(!1)),l&&r(de(!1)),r(Le(!1))}};function Ar(e){return async(t,r)=>{await t(Wt(e)),await t(Le(!0));let n=r();t(Jt(Et(n)))}}export{Pt as a,qr as b,yr as c,le as d,Vr as e,Fr as f,Nt as g,Et as h,Gt as i,Ht as j,Dr as k,Wt as l,ue as m,ce as n,hr as o,ge as p,br as q,Jt as r,Ar as s};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-7CGGT32T.js.map
