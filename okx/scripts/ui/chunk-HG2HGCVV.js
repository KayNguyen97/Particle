import{a as O,b as $}from"./chunk-54GDJWA6.js";import{a as G}from"./chunk-UGYRJNZG.js";import{c as j}from"./chunk-5DEIKYJL.js";import{j as K}from"./chunk-2HWABU7H.js";import{N as L}from"./chunk-R6GCLTW2.js";import{k as S}from"./chunk-HU3KBV5G.js";import{b as Y}from"./chunk-6ZPGW3YM.js";import{n as p}from"./chunk-UXFKODVN.js";import{D as F,H as y,I as D,J as R,M as U,Pa as w,gb as M,rb as X}from"./chunk-CVJKAN5R.js";import{G as b}from"./chunk-GXQ645QR.js";import{a as V}from"./chunk-V4YVDLI4.js";import{f as x,m as B,o as E}from"./chunk-6V2G2Z5W.js";B();E();var _=x(V()),N=x(Y()),u=x(F());w();B();E();X();w();var C=x(F());function W(t,e){return!e||!t||!t.length?null:t.find(s=>(0,C.toLower)(s.address)===(0,C.toLower)(e))||null}function J(t,e,r){let n,s=W(t,r);return s&&s.networks.indexOf(e)!==-1&&(n=s.name),n}function q(t,e,r){let n,s=M({localType:e});if(s){let a=t.find(g=>{let I=(0,C.toLower)(g.account[s.chain]),m=(0,C.toLower)(r),A=!1;if(e===y||e===U||e===D||e===R){let l=g.accountsMap[e];if(l){let d=Object.values(l).map(c=>c.address);A=d.find(c=>(0,C.toLower)(c)===I)&&d.find(c=>(0,C.toLower)(c)===m),A=Boolean(A)}}return I===m||A});a&&(n=`${a.keyringName} - ${a.walletName}`)}return n}function k(t){let{baseCoinId:e,network:r,name:n}=t||{},s=j({coinId:e}),a=(0,N.useSelector)(O),g=G(),I=r||(s==null?void 0:s.localType);return(0,_.useMemo)(()=>{let m=a||[];n&&(m=m.filter(({name:l,address:d})=>l.indexOf(n)!==-1||d.indexOf(n)!==-1)),I&&(m=m.filter(({networks:l})=>l.indexOf(I)!==-1));let A=(0,u.keyBy)(g,"localType");return m.map(l=>({...l,networks:l.networks.map(d=>{let c=A[d];return{name:d,iconUrl:c==null?void 0:c.image}})}))},[a,g,n,I])}function z(t){let e=(0,N.useSelector)(O);return(0,_.useCallback)((r,n)=>J(e,n!=null?n:t,r),[e])}function H(t){let e=(0,N.useSelector)(L);return(0,_.useCallback)((r,n)=>q(e,n!=null?n:t,r),[e])}function v(t){let e=z(t),r=H(t);return(0,_.useCallback)((n,s)=>{let a=e(n,s);return a?{name:a,address:n,type:p.ADDRESS_BOOK}:(a=r(n,s),a?{name:a,address:n,type:p.WALLET_ACCOUNT}:null)},[e,r])}function ee(t){return(0,N.useSelector)($)[t]||[]}function Ie(t){let e=(0,N.useSelector)(O);return W(e,t)}function Ae(t,e){let r=[],n=[],s=[],a=[],g=S(),I=v(t),m=z(t),A=H(t),l=ee(t),d=k({network:t}),c=(0,N.useSelector)(L),P=K();return(0,_.useMemo)(()=>{l!=null&&l.length&&(n=l.map(({type:o,name:i,address:f})=>{if(o===p.ADDRESS_BOOK)i=m(f);else if(o===p.WALLET_ACCOUNT)i=A(f);else if(o===p.DIRECT){let T=I(f);T&&(i=T.name)}return{type:o,address:f,name:i}}),n=n.filter(({address:o})=>(0,u.toLower)(o)!==(0,u.toLower)(e)),n!=null&&n.length&&r.push({group:g("wallet_extension_send_dropdown_recent_address"),list:n}));let h;if(t===y)h=[],c.forEach(o=>{var i;(i=P(y,o.walletId))==null||i.forEach((f,T)=>{(0,u.toLower)(f.address)!==(0,u.toLower)(e)&&h.push({address:f.address,group:o.keyringName,name:o.walletName,type:p.WALLET_ACCOUNT,addressType:f.addressType,hideName:T!==0,walletId:o.walletId})})});else{let o=c.filter(i=>{let f=!i.backupData.length,T=(0,u.toLower)(i.account[t]),Q=(0,u.toLower)(e);return f&&T!==Q&&!!T});o!=null&&o.length&&(h=o.map(i=>({address:i.account[t],group:i.keyringName,name:i.walletName,type:p.WALLET_ACCOUNT,walletId:i.walletId})))}return a=Object.entries((0,u.groupBy)(h,"group")),a.forEach(([o,i])=>{r.push({group:o,list:i})}),d!=null&&d.length&&(s=d.map(({address:o,name:i})=>({address:o,name:i,type:p.ADDRESS_BOOK})),s=s.filter(({address:o})=>(0,u.toLower)(o)!==(0,u.toLower)(e)),s!=null&&s.length&&r.push({group:g("wallet_extension_send_dropdown_address_book"),list:s})),r},[e,l,d,c])}function Ne(t){let e=S(),r=(0,N.useSelector)(O);return()=>{r&&(r==null?void 0:r.length)>=200?b.error({title:e("wallet_extension_addressbook_toast_address_limit_reached")}):t&&t()}}export{k as a,v as b,Ie as c,Ae as d,Ne as e};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-HG2HGCVV.js.map
