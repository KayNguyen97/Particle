import{e as H}from"./chunk-73YQ4YAD.js";import{a as W}from"./chunk-E73QHIZ6.js";import{b as D}from"./chunk-DUZ4ULSN.js";import{b as O}from"./chunk-5DEIKYJL.js";import{N as V}from"./chunk-MTMZQEHP.js";import{i as B}from"./chunk-62JDSRZZ.js";import{V as P}from"./chunk-R6GCLTW2.js";import{l as T}from"./chunk-VPBQLZCI.js";import{k as G}from"./chunk-HU3KBV5G.js";import{b as R}from"./chunk-6ZPGW3YM.js";import{c as d}from"./chunk-2YLR7R2N.js";import{o as x}from"./chunk-GXQ645QR.js";import{J as k}from"./chunk-C2H3SRET.js";import{a as L}from"./chunk-V4YVDLI4.js";import{f as w,m as r,o as i}from"./chunk-6V2G2Z5W.js";r();i();var e=w(L()),X=w(R());r();i();r();i();var M=w(L());var ee="DEX_CHAIN_LIST";function se(){let u=O(),t=B(),p=(0,M.useMemo)(()=>[...new Set(Object.values((t==null?void 0:t.account)||{}))].filter(Boolean),[t==null?void 0:t.account]),{data:v,loading:c,error:S}=T(async()=>{try{let{data:m,code:y}=await V({deviceId:"",userWalletAddresses:p});if(Number(y)===0){let{gasStationSupportChainList:n=[],isInBlackList:h}=m;return h===1?[]:n.filter(a=>!!u.find(f=>Number(f.chainId)===Number(a.chainId)))}return Promise.reject()}catch{return Promise.reject()}},{cacheKey:ee});return{chainList:v||[],isError:!!S,loading:c}}var U=se;var Ne=({visible:u,closeCallback:t,receiveOnly:p,walletId:v,coinId:c,txId:S,address:m})=>{let[y,n]=(0,e.useState)(!1),[h,a]=(0,e.useState)(!1),[f,I]=(0,e.useState)(!1),N=(0,X.useSelector)(P),{coin:s}=W(c,!1),{chainList:C,loading:$,isError:q}=U(),b=(0,e.useMemo)(()=>{if(p||N)return!1;let{chainId:l}=s;return!!C.find(g=>`${g.chainId}`==`${l}`)},[N,s,C,p]);(0,e.useEffect)(()=>{u?b?I(!0):a(!0):(a(!1),I(!1),n(!1))},[u,b]);let o=G(),_={GAS_STATION:"gas-station",GAS_RECEIVE:"gas-receive"},z=[{title:o("swaptrade_transfer_title_swap_forgas"),label:o("swaptrade_transfer_tag_recommend"),desc:o("swaptrade_transfer_text_swap_forgasdesc",{token:s==null?void 0:s.symbol}),type:_.GAS_STATION},{title:o("swaptrade_transfer_title_receive_gas"),label:null,desc:o("swaptrade_transfer_text_receive_gasdesc",{token:s==null?void 0:s.symbol}),type:_.GAS_RECEIVE}],K=()=>{n(!0)},F=()=>{n(!1)},J=()=>{a(!0)},E=()=>{a(!1),f||t()},Q=l=>{switch(l){case _.GAS_STATION:K();break;case _.GAS_RECEIVE:default:J();break}},Y=()=>e.default.createElement("div",{className:"supply-gas"},e.default.createElement("div",{className:"supply-gas__nav"},e.default.createElement("div",null,o("swaptrade_header_title_fillup_gas",{token:s==null?void 0:s.symbol})),e.default.createElement(k,{className:"supply-gas__nav-icon okx-wallet-plugin-close",onClick:t})),z.map(({title:l,label:g,desc:Z,type:A})=>e.default.createElement("div",{className:"supply-gas__item",key:A,onClick:()=>{Q(A)}},e.default.createElement("div",{className:"supply-gas__main"},e.default.createElement("div",{className:"supply-gas__title"},e.default.createElement("div",{className:"supply-gas__title-text"},l),g&&e.default.createElement("div",{className:"supply-gas__title-label"},g)),e.default.createElement("div",{className:"supply-gas__desc"},Z)))));return $||q?null:e.default.createElement(e.default.Fragment,null,e.default.createElement(x.Action,{onClose:()=>{t()},visible:f,maskClosable:!0,hideCloseBtn:!0,noTopRadius:!1,windowStyle:{overflow:"hidden"},zIndex:1e3,alignBottom:!0,noContentPadding:!0},Y()),e.default.createElement(d.Portal,{noStyle:!0},y?e.default.createElement(d.Box,{className:"supply-gas__container"},e.default.createElement(D,{walletId:v,onClose:F,chainId:s.chainId,txId:S})):null),e.default.createElement(d.Portal,{noStyle:!0},h?e.default.createElement(d.Box,{className:"supply-gas__container"},e.default.createElement(H,{coinId:c,address:m,onBack:E,onClose:E,closeable:!1,showTop:!0})):null))};export{Ne as a};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-ZG26PGPF.js.map
