import{a as no}from"./chunk-KQ6VNFYE.js";import{a as ao}from"./chunk-KOSLQKT7.js";import{c as io}from"./chunk-GBWEEXVS.js";import"./chunk-4AOAXYPU.js";import"./chunk-PZPHBKNA.js";import"./chunk-236QZ4T2.js";import"./chunk-P34A6LS4.js";import"./chunk-OCVOVZC6.js";import{a as ro}from"./chunk-5RXQBXEZ.js";import"./chunk-6HDV4AIS.js";import"./chunk-HHT2ACSL.js";import{d as eo}from"./chunk-IB4K3FN6.js";import"./chunk-NLMSL6KB.js";import{a as E}from"./chunk-NC54FPSJ.js";import{c as to}from"./chunk-5TSD6WDE.js";import"./chunk-TPBDSGSX.js";import"./chunk-I2KPNTIF.js";import"./chunk-MEW6SUUR.js";import{b as C}from"./chunk-D6O2GLPR.js";import{b as D,c as A}from"./chunk-2CPFAAZ7.js";import"./chunk-ZG26PGPF.js";import"./chunk-HE77KLJ4.js";import"./chunk-NOZM7AA3.js";import"./chunk-73YQ4YAD.js";import"./chunk-OEVJ7FDO.js";import"./chunk-ATUBFYS2.js";import{a as b}from"./chunk-2N2ADYFP.js";import"./chunk-YLO74Q7W.js";import{a as oo}from"./chunk-D54UDGZS.js";import"./chunk-2SGW2RXR.js";import"./chunk-ZXEHJOAD.js";import"./chunk-U3YDJ2W7.js";import"./chunk-VCWU5FEX.js";import"./chunk-KZ77CGYD.js";import"./chunk-E73QHIZ6.js";import{c as Q}from"./chunk-E2KMZQ6K.js";import"./chunk-JXT6JCNO.js";import"./chunk-AHAXQBXQ.js";import"./chunk-DUZ4ULSN.js";import"./chunk-PGPPXRV7.js";import"./chunk-54GDJWA6.js";import"./chunk-UGYRJNZG.js";import"./chunk-PLVZLQPX.js";import"./chunk-QNVM7T5C.js";import"./chunk-7T7NBYQH.js";import"./chunk-FEET7RP6.js";import"./chunk-MBJ4MFYL.js";import"./chunk-PCY622ND.js";import"./chunk-NS35PZCP.js";import"./chunk-XOD56IFT.js";import"./chunk-BBN3UGKM.js";import"./chunk-5DEIKYJL.js";import"./chunk-QMNAWRVI.js";import"./chunk-D6ZXZUY6.js";import"./chunk-QMF5LKVF.js";import"./chunk-VMACN7YR.js";import"./chunk-IQVVVGEA.js";import{b as $}from"./chunk-YIKS2AYL.js";import"./chunk-BTS2GOAC.js";import{d as z,e as k}from"./chunk-2HWABU7H.js";import"./chunk-APEQZGKB.js";import"./chunk-AX4SXHC6.js";import"./chunk-UCS37WXR.js";import"./chunk-DUHXKIBS.js";import"./chunk-QNEJI55N.js";import"./chunk-5W7SRP5N.js";import"./chunk-YVRXETFX.js";import{b as _,c as Z,r as L,s as R}from"./chunk-GUWGENNL.js";import"./chunk-WYB2CUAN.js";import"./chunk-B2BOSVTW.js";import"./chunk-GUJXW3GJ.js";import"./chunk-VIS7KIVI.js";import"./chunk-F64VYES3.js";import"./chunk-DHX2X277.js";import"./chunk-67YO4IPY.js";import"./chunk-DLUAVD7X.js";import"./chunk-WRWXCAEZ.js";import"./chunk-OZ6XSJY6.js";import"./chunk-DMJQUOJT.js";import"./chunk-MTMZQEHP.js";import"./chunk-NKTQMEXG.js";import"./chunk-62JDSRZZ.js";import"./chunk-FF7XOOGZ.js";import"./chunk-4OTZHHYZ.js";import"./chunk-HQT4AKFZ.js";import"./chunk-JUIB44FD.js";import"./chunk-R6GCLTW2.js";import"./chunk-4KY5XQ5E.js";import"./chunk-S3ECGMEP.js";import"./chunk-PX7HII6H.js";import"./chunk-UEO7AURD.js";import"./chunk-DXFO7P35.js";import"./chunk-TPEASXIF.js";import{a as J}from"./chunk-JSAFBAMQ.js";import"./chunk-A336VZZF.js";import"./chunk-XEOGXIVD.js";import{a as K}from"./chunk-PCGRDRHF.js";import"./chunk-IU3TYIWS.js";import"./chunk-VPBQLZCI.js";import"./chunk-ERLETJMZ.js";import"./chunk-FRDOFRM7.js";import"./chunk-X2LENRE7.js";import"./chunk-O4EDZSHP.js";import"./chunk-HU3KBV5G.js";import{b as wo}from"./chunk-6ZPGW3YM.js";import{k as P,o as Io}from"./chunk-ZKDHZDUE.js";import"./chunk-4UESFVD2.js";import"./chunk-D7KW4FFX.js";import"./chunk-RAXGEVRQ.js";import"./chunk-S4N75E3H.js";import"./chunk-7MX3OHNE.js";import"./chunk-2BSLA752.js";import"./chunk-FLCN6MAI.js";import"./chunk-YMZEQGAL.js";import"./chunk-7E3KY4EN.js";import{e as q,f as j,h as H}from"./chunk-JIRWXBHS.js";import"./chunk-3TVEFIPW.js";import{D as T,X}from"./chunk-UXFKODVN.js";import{e as I}from"./chunk-IMRS4RGO.js";import"./chunk-52GWQSZH.js";import"./chunk-TPSXCUGD.js";import"./chunk-XKG5DY6K.js";import"./chunk-6PGLMYAE.js";import"./chunk-RMQJRDTF.js";import{c as V}from"./chunk-2YLR7R2N.js";import{a as Y,b as So}from"./chunk-MVLY6WUP.js";import{f as O,h as yo}from"./chunk-ZEAKIEIQ.js";import"./chunk-5KSDRGLW.js";import"./chunk-DQTCC3FF.js";import"./chunk-O5LVHMPV.js";import{C as x,D as F,Pa as go,Vb as Ao,qa as v,v as m,zb as U}from"./chunk-CVJKAN5R.js";import"./chunk-A5Y2KVNP.js";import{b as G}from"./chunk-GXQ645QR.js";import"./chunk-DQ2NYVYI.js";import{V as W}from"./chunk-C2H3SRET.js";import{a as y}from"./chunk-V4YVDLI4.js";import"./chunk-UXBKFN2U.js";import"./chunk-HCW4K7TR.js";import"./chunk-Z4JATHZR.js";import"./chunk-TW6D7CWA.js";import"./chunk-3T5D6KAV.js";import"./chunk-MAWXDEJZ.js";import"./chunk-Z37GURZ6.js";import"./chunk-IYYFWVWL.js";import"./chunk-HIGM7FFU.js";import"./chunk-7KAK6IL3.js";import"./chunk-CLSYGH6A.js";import"./chunk-L5SQCUFB.js";import"./chunk-DHRSDA7N.js";import"./chunk-RYNAOZ73.js";import"./chunk-Q34CQJXG.js";import"./chunk-GKHVFCKF.js";import{f as d,m as n,o as s}from"./chunk-6V2G2Z5W.js";n();s();var B=d(y());n();s();var M=d(y());go();n();s();var S=d(y());yo();So();var ko=({message:t,chainId:o,method:a,originUrl:r})=>{let[p,c]=(0,S.useState)(!0),[l,f]=(0,S.useState)({});return(0,S.useEffect)(()=>{(async()=>{if(o){try{let{data:e}=await O(Y.signMessageDataCheck,{data:"",source:2,chainId:o,raw:t,method:a,originUrl:r});f(e)}catch(e){console.log(e)}c(!1)}})()},[o]),{loading:p,signMessageCheckRet:l}},so=ko;n();s();var mo=d(F());var po=d(y()),co=d(wo());x();Io();var Co=({unapproved:t,walletAccount:o,signMessageCheckRet:a})=>{let r=(0,co.useDispatch)(),p=E(o==null?void 0:o.walletId),c=(0,po.useCallback)(async()=>{p({trade:"sign",all_confirmation:"cancel"}),await r(L(t.id)),await P(r)},[p,r,t.id]),l={btnText:m("wallet_dapp_connection_btn_reject"),actionType:A.ACTION_TYPE.CANCEL,onClick:c},f=I(o.initialType),e=async()=>{try{if(!await oo({walletId:t.walletId,callback:async()=>{await r(L(t.id))}}))return;p({trade:"sign",all_confirmation:"confirm"}),await r(R(t.id)),await P(r)}catch(h){console.log(h)}},u={disabled:f,actionType:A.ACTION_TYPE.CONFIRM,onClick:e},N=to(),g=(0,mo.get)(a,"risk_black_list.0");return(a.risk===_.high||g)&&(u.type=W.TYPE.red,u.onClick=async()=>{try{await N({isDefraud:!0,address:g,similarType:X.EXACT}),await e()}catch{await c()}}),[l,u]},lo=Co;n();s();var fo=d(F());x();var Eo=({unapproved:t,signMessageCheckRet:o})=>{let a=b(t);if(I(a.initialType))return{type:G.TYPE.error,message:m("wallet_extension_top_toast_dapp_comingsoon")};if((o==null?void 0:o.risk)===_.middle)return{type:G.TYPE.warn,message:m("extension_approve_alert_authorized_tips",{contract:o.contractName,asset:o.tokenSymbol})};if((o==null?void 0:o.risk)===_.high){let r=(0,fo.get)(o,"risk_black_list.0");if(r)return{type:C.TIP_TYPE.DEFRAUD,address:r}}return null},uo=Eo;n();s();var i=d(y());x();Ao();var bo=t=>{let{signMessageCheckRet:o,walletAccount:a,buttonGroup:r,tipMessage:p,message:c,baseCoin:l}=t,{value:f=0}=o.addtion||{},e=U(f,Z)?m("wallet_dapp_connection_subtitle_approval_amount_unlimitied"):f,u=E(a.walletId);return i.default.createElement(V.Container,null,i.default.createElement(J,{title:m("wallet_extension_popup_btn_approve"),closeable:!1,backable:!1}),i.default.createElement(k,null,i.default.createElement(D,{title:m("extension_approve_maintitle_approve"),summaryList:[{icon:{src:o.tokenIcon||q},title:`${e} ${o.tokenSymbol||""}`,desc:o.tokenAddress}]}),i.default.createElement(D,{title:m("wallet_extension_popup_text_project"),summaryList:[{icon:{src:o.contractIcon||j},title:o.contractName||H,desc:o.contractAddress||""}]})),i.default.createElement(k,null,i.default.createElement(z,{...a,title:m("wallet_extension_network_address_title_walletused"),onCopyCallback:()=>{u({trade:"contract_interaction",all_confirmation:"wallet_used_address"})}})),i.default.createElement(k,{bordered:!1},i.default.createElement(no,{coinId:l==null?void 0:l.coinId}),i.default.createElement(ro,{data:c,copyable:{hideDesc:!0}})),i.default.createElement(K,{placeholder:!0,offsetBottom:0,borderTop:!0},i.default.createElement(C,{...p}),i.default.createElement(A,{buttonGroup:r})))},_o=bo;var Mo=t=>{var g;let{unapproved:o}=t,a=((g=o==null?void 0:o.params)==null?void 0:g.message)||"",r=eo(o),p=b(o),c=Q(v)||{},{chainId:l}=c||{},{loading:f,signMessageCheckRet:e}=so({message:a,chainId:l,originUrl:r.host,method:T.SIGN_MESSAGE}),u=uo({unapproved:o,signMessageCheckRet:e}),N=lo({unapproved:o,walletAccount:p,signMessageCheckRet:e});return f?M.default.createElement($,null):[_.middle,_.high].includes(e==null?void 0:e.risk)?M.default.createElement(_o,{signMessageCheckRet:e,walletAccount:p,baseCoin:c,message:a,tipMessage:u,buttonGroup:N}):M.default.createElement(ao,{needCheckMpc:!0,message:a,unapproved:o,tipMessage:u})},To=Mo;var vt=({unapproved:t})=>{switch(t.method){case T.SIGN_TRANSACTION:case T.RPC_SIGN_TRANSACTION:return B.default.createElement(io,{unapproved:t});case T.SIGN_MESSAGE:case T.RPC_SIGN_MESSAGE:return B.default.createElement(To,{unapproved:t});default:return""}};export{vt as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Tron-GEAIJ7AO.js.map
