import{a as wt}from"./chunk-APEQZGKB.js";import{i as _t}from"./chunk-62JDSRZZ.js";import{M as Y,S as mt,T as U,U as ct}from"./chunk-R6GCLTW2.js";import{b as y}from"./chunk-XEOGXIVD.js";import{p as E}from"./chunk-IU3TYIWS.js";import{a as Gt,b as ft}from"./chunk-VPBQLZCI.js";import{h as ut,j as dt}from"./chunk-O4EDZSHP.js";import{b as Dt}from"./chunk-6ZPGW3YM.js";import{a as it,b as lt,j as at}from"./chunk-JIRWXBHS.js";import{a as kt}from"./chunk-TPSXCUGD.js";import{a as h,b as V,c as M,d as pt}from"./chunk-RMQJRDTF.js";import{c}from"./chunk-2YLR7R2N.js";import{C as ot,D as Z,F as nt,Pa as vt,Ta as q,_ as st,rb as Bt,v as T}from"./chunk-CVJKAN5R.js";import{G as $,O as j}from"./chunk-GXQ645QR.js";import{J as D,c as C}from"./chunk-C2H3SRET.js";import{a as S,f as Ot}from"./chunk-V4YVDLI4.js";import{f as m,m as r,o}from"./chunk-6V2G2Z5W.js";r();o();var K=m(C()),I=m(S()),k=m(Z());r();o();var L={"module-wrap-icon":"_module-wrap-icon_m5ibg_1",moduleWrapIcon:"_module-wrap-icon_m5ibg_1","module-wrap-tooltip":"_module-wrap-tooltip_m5ibg_4",moduleWrapTooltip:"_module-wrap-tooltip_m5ibg_4","module-wrap-content":"_module-wrap-content_m5ibg_7",moduleWrapContent:"_module-wrap-content_m5ibg_7","module-wrap-hover":"_module-wrap-hover_m5ibg_13",moduleWrapHover:"_module-wrap-hover_m5ibg_13"};var Pt=({icon:t,tooltip:e,title:n,space:s=4,children:i,className:l,contentClassName:a,clickable:u,onClick:d})=>{let p=(0,I.useMemo)(()=>typeof u=="boolean"?u:typeof d=="function",[u,d]),W=p?c.FlexBox:I.default.Fragment,v=(0,I.useMemo)(()=>p?{justify:"space-between",align:c.ALIGN.center,className:(0,K.default)({[L["module-wrap-hover"]]:p},l),onClick:d}:{},[l,p,d]);return I.default.createElement(W,{...v},I.default.createElement(c.Space,{space:s,className:p?a:l,direction:c.DIRECTION.vertical},I.default.createElement(c.Space,{space:1,align:c.ALIGN.center},!(0,k.isEmpty)(t)&&I.default.createElement(y,{icon:t,size:y.SIZE.xs,className:L["module-wrap-icon"],...(0,k.isObject)(t)?t:{src:t}}),I.default.createElement(E.Text,{type:E.TYPE.secondary,size:E.SIZE.xs},n),!!e&&I.default.createElement(y,{tooltip:e,size:y.SIZE.xs,className:L["module-wrap-tooltip"],icon:"okx-wallet-plugin-information-circle"})),I.default.createElement(c.Box,{className:(0,K.default)(L["module-wrap-content"])},i)),p&&I.default.createElement(y,{size:y.SIZE.xs,type:y.TYPE.icon,icon:"okds-arrow-chevron-right-centered-md",style:{color:"var(--okd-color-content-contrast)",cursor:"pointer"}}))},G=Pt;r();o();var w=m(S());var It=m(Gt());ot();var J=m(Z());r();o();var b={"wallet-address-content":"_wallet-address-content_13971_1",walletAddressContent:"_wallet-address-content_13971_1","wallet-address-text":"_wallet-address-text_13971_4",walletAddressText:"_wallet-address-text_13971_4","wallet-address-text-err":"_wallet-address-text-err_13971_9",walletAddressTextErr:"_wallet-address-text-err_13971_9","wallet-address-copy":"_wallet-address-copy_13971_12",walletAddressCopy:"_wallet-address-copy_13971_12"};var Ft=({tags:t,title:e,walletId:n,localType:s,addressType:i,address:l,onClick:a,copyable:u=!0,onCopyCallback:d,children:p,connectable:W=!0})=>{let v=typeof a=="function",_=_t(n,!1),A=(0,w.useMemo)(()=>{if(Array.isArray(t)&&(t==null?void 0:t.length))return t;let g=[];return i&&!(0,J.isEmpty)(_)&&V[i]&&(g=[T(V[i])]),(0,J.isEmpty)(_)||(g=[...g,[_==null?void 0:_.keyringName,"-",_==null?void 0:_.walletName]]),g},[i,t,_]),B=(0,w.useMemo)(()=>{var g;return l||((g=_==null?void 0:_.account)==null?void 0:g[s])},[l,s,_==null?void 0:_.account]),et=ft(()=>{!u||((0,It.default)(B),d==null||d(),$.success({desc:w.default.createElement(E.Text,{inherit:!0,forceWrap:!0},B),placement:$.DIRECTION.top,title:T("wallet_receive_toast_address_copied")}))},[u,B]);return w.default.createElement(G,{title:e,onClick:a,clickable:v,contentClassName:b["wallet-address-content"]},w.default.createElement(c.Space,{space:4,direction:c.DIRECTION.vertical},w.default.createElement(c.FlexBox,{justify:"space-between"},w.default.createElement(E.Text,{forceWrap:!0,onClick:et,size:E.SIZE.sm,className:{[b["wallet-address-text"]]:!0,[b["wallet-address-text-err"]]:!W}},B),u&&!v&&w.default.createElement(y.IconButton,{hovered:!0,onClick:et,size:y.SIZE.sm,tooltip:T("wallet_extension_top_copy_address"),icon:"okx-wallet-plugin-copy",className:b["wallet-address-copy"]})),!!(A!=null&&A.length)&&w.default.createElement(c.FlexBox,{wrap:!0,style:{gap:"4px 4px"}},A==null?void 0:A.map((g,rt)=>Array.isArray(g)?w.default.createElement(j,{style:{gap:"2px"}},g.map(Lt=>w.default.createElement(E.Text,{inherit:!0,key:rt,ellipsis:{tooltip:!0},style:{lineHeight:"18px"},className:{[b["wallet-address-text-err"]]:!W}},Lt))):w.default.createElement(j,{key:rt},g)))),p)},Q=Ft;r();o();var xt=m(S()),yt=m(C());r();o();var X={"section-wrap":"_section-wrap_69fse_1",sectionWrap:"_section-wrap_69fse_1","section-wrap-bordered":"_section-wrap-bordered_69fse_4",sectionWrapBordered:"_section-wrap-bordered_69fse_4"};var zt=({children:t,className:e,space:n=24,bordered:s=!0})=>xt.default.createElement(c.Space,{space:n,direction:c.DIRECTION.vertical,className:(0,yt.default)(X["section-wrap"],{[X["section-wrap-bordered"]]:s},e)},t),P=zt;r();o();var N=m(Dt());Bt();vt();r();o();var x=m(S()),tt=m(Z()),Nt=m(Ot()),ht=m(kt());r();o();r();o();var Ht=m(S());r();o();var gt=m(S()),Tt=m(C());r();o();var R={root:"_root_9u2ip_1",flip:"_flip_9u2ip_10"};function Zt({className:t,style:e,flip:n,...s}){return gt.default.createElement(D,{className:(0,Tt.default)("okx-wallet-plugin-select-unfold",R.root,{[R.flip]:n},t),style:e,...s})}var $t=Zt;r();o();var Wt=m(S()),Et=m(C());r();o();var O={root:"_root_13sam_1",right:"_right_13sam_5",top:"_top_13sam_8",bottom:"_bottom_13sam_11"};var F={TOP:"top",LEFT:"left",RIGHT:"right",BOTTOM:"bottom"},jt={[F.TOP]:O.top,[F.RIGHT]:O.right,[F.BOTTOM]:O.bottom};function St({className:t,style:e,side:n,icon:s="okx-wallet-plugin-back",...i}){return Wt.default.createElement(D,{className:(0,Et.default)(s,O.root,jt[n],t),style:e,...i})}St.SIDE=F;var z=St;r();o();var qt=m(S()),Vt=m(C());r();o();ot();r();o();var H={root:"_root_oli0p_1",multiAccount:"_multiAccount_oli0p_4",count:"_count_oli0p_9"};var Yt=(t,e)=>{if(!t||!t.length||!e)return{};let n;return{...t.find(i=>(n=i.walletIdentities.find(l=>l.walletId===e),n)),walletIdentities:[n]}},Ut=(t,e,n)=>{var i,l,a,u,d,p;if(!t||e>((i=t.walletIdentities)==null?void 0:i.length)-1)return"";let s=(u=(a=(l=t.walletIdentities)==null?void 0:l[e])==null?void 0:a.account)==null?void 0:u[n];return{name:`${t.keyringName} - ${(p=(d=t.walletIdentities)==null?void 0:d[e])==null?void 0:p.walletName}`,address:s}},At=(t,e,n)=>Ut(Yt(t,e),0,n),Kt="account-selector",bt=t=>{let e=(0,ht.useHistory)(),{permissionsRequestId:n,request:s,dappSelectAccount:i,walletInfo:l={},connectable:a=!0}=t,u=()=>{e.push({pathname:`${ut}/${n}${dt}`})},d=(0,x.useMemo)(()=>(s==null?void 0:s.providerType)===lt?T("wallet_extension_cosmos_text_cosmos_network"):l.address,[s==null?void 0:s.providerType,l.address]),p=()=>i.length<=1?s.providerType===it&&s.method===wt.requestWallets?x.default.createElement(P,{bordered:!1},x.default.createElement(Q,{onClick:tt.noop,copyable:!1,title:T("wallet_dapp_conncetion_requesr_subtitle_current_account"),walletId:l.walletId,address:T("wallet_extension_expand_all_networks")})):x.default.createElement(P,{bordered:!1},x.default.createElement(Q,{onClick:tt.noop,copyable:!1,title:T("wallet_dapp_conncetion_requesr_subtitle_current_account"),walletId:l.walletId,address:d,connectable:a})):x.default.createElement(P,{bordered:!1},x.default.createElement(G,{title:T("wallet_dapp_conncetion_requesr_subtitle_current_account")},x.default.createElement(c.Box,{className:H.multiAccount},x.default.createElement(c.Box,{className:H.count},T("wallet_extension_mid_text_accounts",{num:i.length})),x.default.createElement(z,{className:`${Kt}__info-arrow`,side:z.SIDE.RIGHT}))));return x.default.createElement("div",{className:H.root,onClick:u},p())};bt.propTypes={permissionsRequestId:Nt.default.string.isRequired};var Jr=bt;var Jt=()=>(0,N.useSelector)(Y),io=()=>(0,N.useSelector)(ct),Qt=t=>(0,N.useSelector)(e=>U(e,t)),Xt=()=>{let t=(0,N.useSelector)(e=>e);return e=>U(t,e)},Ct=(t,e,n=s=>M[s])=>{let{accountsMap:s={},segwitAddressType:i={}}=Qt(e),l=s[t];if(!l||!Object.keys(M).includes(t))return null;let a=i[t]===h.SEGWIT_NESTED?h.SEGWIT_NESTED_49:h.SEGWIT_NESTED;return n(t).reduce((d,p)=>(a!==p&&l[p]&&d.push({address:l[p].address,addressType:p}),d),[])},lo=()=>{let t=Xt();return(e,n,s=i=>M[i])=>{let{accountsMap:i={},segwitAddressType:l={}}=t(n),a=i[e];if(!a||!Object.keys(M).includes(e))return null;let u=l[e]===h.SEGWIT_NESTED?h.SEGWIT_NESTED_49:h.SEGWIT_NESTED;return s(e).reduce((p,W)=>(u!==W&&a[W]&&p.push({address:a[W].address,addressType:W}),p),[])}},ao=t=>Ct(t,(0,N.useSelector)(Y));var Mt=(t=q,e)=>{let n={},s=Jt(),i=Ct(t,e!=null?e:s);if(!Array.isArray(i)||!(i!=null&&i.length))return n;let l=pt[t];return i.forEach(a=>{n[a.addressType]=a.address;let u=l[a.addressType];n[u]=a.address,n[a.address]=u}),n},po=(t=q,e)=>Mt(t,e),mo=(t=st,e)=>Mt(t,e),co=t=>(0,N.useSelector)(e=>mt(e,t)),uo=t=>{let{keyringIdentities:e=[],selectedWallet:n=""}=(0,N.useSelector)(l=>l.metamask||{}),s=at[t==null?void 0:t.provider]||nt;return At(e,n,s)};export{$t as a,z as b,G as c,Q as d,P as e,Jr as f,Jt as g,io as h,Ct as i,lo as j,ao as k,po as l,mo as m,co as n,uo as o};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-2HWABU7H.js.map
