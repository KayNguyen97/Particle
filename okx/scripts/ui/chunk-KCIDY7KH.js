import{a as Wo}from"./chunk-QIUJDVIV.js";import{c as Uo}from"./chunk-IKPPHICM.js";import{a as ft}from"./chunk-GQOO5OO7.js";import{c as Oo,d as dt,e as Ge}from"./chunk-WIOZQWEG.js";import{a as Ho,b as Zo}from"./chunk-67PEY2GN.js";import{a as Yo}from"./chunk-AJZPYKQF.js";import{n as Mo}from"./chunk-YLO74Q7W.js";import{a as gt}from"./chunk-D54UDGZS.js";import{c as zo}from"./chunk-7CB4COOY.js";import{a as De}from"./chunk-E73QHIZ6.js";import{b as Yi}from"./chunk-PGY6IZUS.js";import{a as Go,g as _t}from"./chunk-2HWABU7H.js";import{d as pt}from"./chunk-5W7SRP5N.js";import{c as Xt}from"./chunk-WRWXCAEZ.js";import{a as Bo}from"./chunk-PCGRDRHF.js";import{p as he}from"./chunk-IU3TYIWS.js";import{o as ut}from"./chunk-VPBQLZCI.js";import{s as rt}from"./chunk-X2LENRE7.js";import{k as y}from"./chunk-HU3KBV5G.js";import{b as Fo}from"./chunk-6ZPGW3YM.js";import{d as ot,f as Co}from"./chunk-S4N75E3H.js";import{g as ko}from"./chunk-FLCN6MAI.js";import{a as v,b as B}from"./chunk-YMZEQGAL.js";import{a as Ui}from"./chunk-3TVEFIPW.js";import{a as lt,b as J,c as jt,d as Pe,e as re,f as Ee,m as mt}from"./chunk-UXFKODVN.js";import{a as ct}from"./chunk-6PGLMYAE.js";import{i as at,j as q}from"./chunk-RMQJRDTF.js";import{c as Jt}from"./chunk-2YLR7R2N.js";import{a as Lo,b as Mi}from"./chunk-MVLY6WUP.js";import{c as Do,h as Zi}from"./chunk-ZEAKIEIQ.js";import{Ab as So,C as Fe,Ca as Io,D as fo,Da as bo,Ob as st,Pa as Hi,Ra as it,Vb as qt,jb as Po,r as Qe,rb as Eo,sb as Y,tb as nt,ub as Ao,v as S,vb as be,xb as xe,zb as wo}from"./chunk-CVJKAN5R.js";import{B as Re,G as et,H as tt,N as ke,O as yo,R as vo,S as To,T as No,o as Ie,t as xo,y as ho}from"./chunk-GXQ645QR.js";import{J as K,P as go,V as d,c as D}from"./chunk-C2H3SRET.js";import{a as g,f as Ce}from"./chunk-V4YVDLI4.js";import{f as r,m as t,n as m,o}from"./chunk-6V2G2Z5W.js";t();o();t();o();var ae=r(g());t();o();var ve=r(g()),$o=r(Fo()),Vo=r(fo());qt();Eo();Co();Fe();t();o();var ee=r(g());Fe();t();o();var ye={"transaction-detail-box":"_transaction-detail-box_1ugec_1",transactionDetailBox:"_transaction-detail-box_1ugec_1","dialog-header":"_dialog-header_1ugec_4",dialogHeader:"_dialog-header_1ugec_4","dialog-title":"_dialog-title_1ugec_7",dialogTitle:"_dialog-title_1ugec_7","close-icon":"_close-icon_1ugec_14",closeIcon:"_close-icon_1ugec_14","transaction-acceleration-container":"_transaction-acceleration-container_1ugec_17",transactionAccelerationContainer:"_transaction-acceleration-container_1ugec_17","transaction-acceleration-header":"_transaction-acceleration-header_1ugec_20",transactionAccelerationHeader:"_transaction-acceleration-header_1ugec_20","transaction-acceleration-title":"_transaction-acceleration-title_1ugec_23",transactionAccelerationTitle:"_transaction-acceleration-title_1ugec_23","transaction-acceleration-subtitle":"_transaction-acceleration-subtitle_1ugec_28",transactionAccelerationSubtitle:"_transaction-acceleration-subtitle_1ugec_28","text-underline":"_text-underline_1ugec_33",textUnderline:"_text-underline_1ugec_33","transaction-acceleration-details":"_transaction-acceleration-details_1ugec_38",transactionAccelerationDetails:"_transaction-acceleration-details_1ugec_38","transaction-detail-row":"_transaction-detail-row_1ugec_43",transactionDetailRow:"_transaction-detail-row_1ugec_43","transaction-detail-label":"_transaction-detail-label_1ugec_50",transactionDetailLabel:"_transaction-detail-label_1ugec_50","transaction-detail-value":"_transaction-detail-value_1ugec_56",transactionDetailValue:"_transaction-detail-value_1ugec_56","transaction-detail-fiat-value":"_transaction-detail-fiat-value_1ugec_64",transactionDetailFiatValue:"_transaction-detail-fiat-value_1ugec_64","transaction-acceleration-footer":"_transaction-acceleration-footer_1ugec_70",transactionAccelerationFooter:"_transaction-acceleration-footer_1ugec_70","empty-state":"_empty-state_1ugec_77",emptyState:"_empty-state_1ugec_77"};var Wi=({showLoading:e,title:n,content:s,visible:i,error:a,onClose:l,onConfirm:c,confirmText:p=S("wallet_extension_btn_general_confirm"),confirmLoading:u,errContent:x,headerTitle:h})=>{let w=(0,ee.useCallback)(()=>{c&&c()},[c,i]);return ee.default.createElement(Ie.Confirmation,{showLoading:e,title:ee.default.createElement("p",{className:ye.dialogTitle},n),topClassName:ye.dialogHeader,visible:i,noMargin:!1,alignBottom:!1,closeIconClassName:ye.closeIcon,confirmLoading:u,onConfirm:w,onClose:()=>{l&&l()},confirmText:p,confirmBtnProps:{type:d.TYPE.highlight,size:d.SIZE.lg,block:!0},renderContent:()=>ee.default.createElement("div",{className:ye.transactionAccelerationContainer},ee.default.createElement("header",{className:ye.transactionAccelerationHeader},ee.default.createElement("p",{className:ye.transactionAccelerationTitle},h)),a?x:s),renderFooter:C=>a?null:ee.default.createElement(C,null)})},xt=Wi;t();o();var Qt=r(D()),ht=r(g());t();o();var Be={value:"_value_1hw8x_1",feeDisplay:"_feeDisplay_1hw8x_4",feeDetailDisplay:"_feeDetailDisplay_1hw8x_10",feeDisplayHighlight:"_feeDisplayHighlight_1hw8x_17"};var $i=({className:e,fee:n,feeDetail:s,highlight:i})=>ht.default.createElement("div",{className:(0,Qt.default)(Be.value,e)},ht.default.createElement("div",{className:(0,Qt.default)(Be.feeDisplay,{[Be.feeDisplayHighlight]:i})},n),ht.default.createElement("div",{className:Be.feeDetailDisplay},s)),Oe=$i;t();o();var Rt={root:"_root_1a9wr_1",value:"_value_1a9wr_4"};t();o();qt();var yt=({gasLimit:e,gasPrice:n,baseCoin:s,L1FEE:i})=>{let a=Mo(),{coinAmountInt:l}=a(s.coinId);return p=>{let u=be(l,p);return!wo(Ao(Y(n,e),i),u)}};t();o();var vt=r(g());var Vi=({signInfo:e={},txParams:n,coinId:s})=>{let[i,{setTrue:a,setFalse:l}]=ut(!0),[c,p]=(0,vt.useState)(""),u=Uo();return(0,vt.useEffect)(()=>{try{e.needExtFee?(a(),(async()=>{let h=await u({...n,coinId:s});p(h),l()})()):(p(0),l())}catch{p(0),l()}},[e==null?void 0:e.needExtFee]),[i,c]},Tt=Vi;var Ki=({feeDisplay:e,feeDetailDisplay:n})=>ve.default.createElement("div",{className:Rt.root},ve.default.createElement(Oe,{className:Rt.value,highlight:!0,fee:e,feeDetail:n}));function Nt({tx:e={},visible:n=!1,onConfirm:s,onClose:i,repeatTxType:a}){var Xe;let l=y(),c=(0,$o.useDispatch)(),[p,u]=(0,ve.useState)(!1),x=_t(),{from:h,to:w,nonce:C,coinId:F,gasPrice:I,priorityFee:z,gasLimit:Q,txHash:fe,txhash:Se}=e,{coin:Ne,baseCoin:Le}=De(F,!0),H=Zo({coinId:F,address:w}),zt=((Xe=H==null?void 0:H.info)==null?void 0:Xe.gasPrice)||{},[Z,Ht]=ft({address:h,tokenAddress:h,coinId:Le.coinId,value:"0"},{wait:200,disabled:!n}),V=(Z==null?void 0:Z.gasLimit)||Q,{normal:Zt,max:Mt,supportEip1559:R,proposePriorityFee:Ut,fastPriorityFee:P}=zt,Ve=(f,T=I)=>xe(be(nt(f,T),"1"),"0.1"),Ke=(f,T,E)=>{let N=f;return xe(f,T)?(N=T,Ve(T,f)&&(N=Y(f,"1.1"))):So(f,T)&&xe(f,E)?(N=E,Ve(E,f)&&(N=Y(f,"1.1"))):N=Y(f,"1.2"),N=st(N,0),N},G=Ke(I,Zt,Mt),qe=Ke(z,Ut,P),ge=()=>{var _;let f=(_=Po(Ne.localType))==null?void 0:_.realChainIdHex,T={from:h,to:h,nonce:B(C),gasLimit:B(V),chainId:f,value:B(0)};R?(T.maxFeePerGas=B(G),T.maxPriorityFeePerGas=B(qe),T.type=mt.FEE_MARKET):T.gasPrice=B(G);let N={...rt(T)};return N.walletId=x,N},Yt=f=>{let T=v(f.value),E=v(f.gasLimit),N=v(R?f.maxFeePerGas:f.gasPrice),_={...f,value:T,from:f.from,to:f.to,gas:E,gasPrice:N,priorityFee:v(R?f.maxPriorityFeePerGas:0),nonce:v(f.nonce),repeatTxType:a||Pe.CANCELING,oldTxHash:fe||Se};return{coinId:Ne.coinId,coinAmount:T,fromAdr:f.from,toAdr:f.to,serviceCharge:Y(E,N),extJson:JSON.stringify(_),txSource:at.NORMAL,inputData:f.data?f.data:""}},M=ge(),Wt=()=>{if(R)return{...M,gasLimit:V,maxFeePerGas:v(M.maxFeePerGas),maxPriorityFeePerGas:v(M.maxPriorityFeePerGas),value:v(M.value)};let f={...M};return delete f.maxFeePerGas,delete f.maxPriorityFeePerGas,{...f,gasLimit:V,gasPrice:v(f.gasPrice),value:v(f.value)}},[U,Je]=Tt({signInfo:H==null?void 0:H.info,txParams:Wt(),coinId:F}),$t=dt(G,V,Le,Je),je=Ge(G,V),Vt=yt({gasLimit:V,gasPrice:G,baseCoin:Le,L1Fee:Je}),Kt=async()=>{var f,T;try{u(!0);let E=Yt(M);if(!Vt(E.coinAmount)){Notification.error({title:S("extension_toast_text_insufficient_balance")}),u(!1);return}if(!await gt({callback:i})){u(!1);return}await c(pt({txParams:M,walletId:x}));let A=await ot().signAndPublishTransferTransaction({signParams:M,from:M.from,baseChain:it,publishParams:E});s&&s(A)}catch(E){if(E.message!==ct){let N=((T=(f=E==null?void 0:E.data)==null?void 0:f.originalError)==null?void 0:T.msg)||l("wallet_home_toast_network_error");tt.error({title:N})}}finally{u(!1)}};return ve.default.createElement(xt,{title:S("wallet_extension_popup_title_cancle_transaction"),headerTitle:S("extension_defi_toast_desc_cancel_txn"),showLoading:U,visible:!(0,Vo.isEmpty)(H)&&n,content:ve.default.createElement(Ki,{feeDisplay:$t,feeDetailDisplay:je}),confirmLoading:p||Ht,onConfirm:Kt,onClose:()=>{i&&i()}})}t();o();var L=r(g()),Xo=r(Fo()),Qo=r(fo());qt();Eo();Co();Fe();t();o();var Ct=r(g());Zi();Mi();var qi=e=>{let[n,{setTrue:s,setFalse:i}]=ut(!0),[a,l]=(0,Ct.useState)("");return(0,Ct.useEffect)(()=>{typeof e=="string"&&!!e&&(s(),(async()=>{let{data:p}=await Do(Lo.getRawTxWithTxId,{txId:e}),{signInfo:u}=p;l(u),i()})())},[e]),[n,a]},Ko=qi;t();o();var qo=r(g()),Jo=r(Yi()),It=r(Ui()),Ji=()=>(0,qo.useCallback)(e=>{if(typeof e!="string"||!e)return{to:"",inputData:"",chainId:"",value:"",nonce:""};let n=m.Buffer.from((0,It.stripHexPrefix)(e),"hex"),s=Jo.TransactionFactory.fromSerializedData(n),i=s.toJSON(),a=s.common.chainIdBN().toString("hex");return{to:i.to,inputData:i.data,chainId:(0,It.addHexPrefix)(a),value:i.value,nonce:i.nonce}},[]),jo=Ji;t();o();var ze={lineWrapper:"_lineWrapper_17srx_1",line:"_line_17srx_1",tip:"_tip_17srx_10"};var ji=({oldFee:e,oldFeeDetail:n,newFee:s,newFeeDetail:i})=>L.default.createElement(L.default.Fragment,null,L.default.createElement("div",{className:ze.lineWrapper},L.default.createElement(Xt,{className:ze.line,align:Jt.ALIGN.start,size:he.SIZE.sm,label:S("wallet_extension_popup_speedup_transaction_before"),value:L.default.createElement(Oe,{fee:e,feeDetail:n})}),L.default.createElement(Xt,{className:ze.line,align:Jt.ALIGN.start,size:he.SIZE.sm,label:S("wallet_extension_popup_speedup_transaction_after"),value:L.default.createElement(Oe,{highlight:!0,fee:s,feeDetail:i})})),L.default.createElement("div",{className:ze.tip},S("extension_defi_toast_desc_0service_fee")));function eo({tx:e={},visible:n=!1,onConfirm:s,onClose:i,repeatTxType:a}){var N;let l=y(),c=(0,Xo.useDispatch)(),[p,u]=(0,L.useState)(!1),x=_t(),{from:h,to:w,coinId:C,gasPrice:F,priorityFee:I,gasLimit:z,txHash:Q,txhash:fe,txId:Se}=e,Ne=jo(),{coin:Le,baseCoin:H}=De(C,!0),[zt,Z]=Ho({coinId:C,address:w}),[Ht,V]=Ko(Se),Zt=((N=Z==null?void 0:Z.info)==null?void 0:N.gasPrice)||{},{max:Mt,supportEip1559:R,fastPriorityFee:Ut}=Zt,P=(0,L.useMemo)(()=>Ne(V),[V]),[Ve,Ke]=ft({address:h,inputData:P.inputData&&P.inputData!=="0x"?P.inputData:void 0,tokenAddress:P==null?void 0:P.to,coinId:C,value:P!=null&&P.value?v(P.value):"0"},{wait:200,disabled:!V||!n}),G=Ve.gasLimit||z,qe=(_,A)=>{let b=_;return xe(_,A)?(b=A,xe(be(nt(A,_),"1"),"0.1")&&(b=Y(_,"1.1"))):b=Y(_,"1.2"),b=st(b,0),b},ge=qe(F,Mt),Yt=qe(I,Ut),M=()=>{let _={from:h,to:P.to,nonce:P.nonce,gasLimit:B(G),chainId:P.chainId,value:P.value},{inputData:A}=P;A&&A!=="0x"&&(_.data=A),R?(_.maxFeePerGas=B(ge),_.maxPriorityFeePerGas=B(Yt),_.type=mt.FEE_MARKET):_.gasPrice=B(ge);let se={...rt(_)};return se.walletId=x,se},Wt=_=>{let A=v(_.value),b=v(_.gasLimit),se=v(R?_.maxFeePerGas:_.gasPrice),uo={..._,value:A,from:_.from,to:_.to,gas:b,gasPrice:se,priorityFee:v(R?_.maxPriorityFeePerGas:0),nonce:v(_.nonce),repeatTxType:a||Pe.SPEEDING,oldTxHash:Q||fe};return{coinId:Le.coinId,coinAmount:A,fromAdr:_.from,toAdr:_.to,serviceCharge:Y(b,se),extJson:JSON.stringify(uo),txSource:at.NORMAL,inputData:_.data?_.data:""}},U=M(),Je=()=>{if(R)return{...U,gasLimit:G,maxFeePerGas:v(U.maxFeePerGas),maxPriorityFeePerGas:v(U.maxPriorityFeePerGas),value:v(U.value)};let _={...U};return delete _.maxFeePerGas,delete _.maxPriorityFeePerGas,{..._,gasLimit:G,gasPrice:v(_.gasPrice),value:v(_.value)}},[$t,je]=Tt({signInfo:Z==null?void 0:Z.info,txParams:Je(),coinId:C}),Vt=Oo(F,z,H),Kt=Ge(F,z),Xe=dt(ge,G,H,je),f=Ge(ge,G),T=yt({gasLimit:G,gasPrice:ge,baseCoin:H,L1Fee:je}),E=async()=>{var _,A;try{u(!0);let b=Wt(U);if(!T(b.coinAmount)){et.error({title:S("extension_toast_text_insufficient_balance")}),u(!1);return}if(!await gt({callback:i})){u(!1);return}await c(pt({txParams:U,walletId:x}));let _o=await ot().signAndPublishTransferTransaction({signParams:U,from:U.from,baseChain:it,publishParams:b});s&&s(_o)}catch(b){if(b.message!==ct){let se=((A=(_=b==null?void 0:b.data)==null?void 0:_.originalError)==null?void 0:A.msg)||l("wallet_home_toast_network_error");tt.error({title:se})}}finally{u(!1)}};return L.default.createElement(xt,{title:S("wallet_extension_popup_title_speedup_transaction"),headerTitle:S("wallet_extension_popup_speedup_transaction_desc"),showLoading:zt||Ht||$t,visible:!(0,Qo.isEmpty)(Z)&&n,content:L.default.createElement(ji,{oldFee:Vt,oldFeeDetail:Kt,newFee:Xe,newFeeDetail:f}),confirmLoading:p||Ke,onConfirm:E,onClose:()=>{i&&i()}})}var Xi=({data:e={},type:n,onConfirm:s,onCancel:i})=>{let{isShowSpeedUp:a,isShowCancel:l,isShowSpeedupCancel:c}=e;return!a&&!l&&!c||n===0?null:ae.default.createElement(ae.default.Fragment,null,l&&ae.default.createElement(Nt,{visible:n===1,tx:e,onConfirm:s,onClose:i}),a&&ae.default.createElement(eo,{visible:n===2,tx:e,onConfirm:s,onClose:i}),c&&ae.default.createElement(Nt,{visible:n===3,tx:e,onConfirm:s,onClose:i,repeatTxType:3}))},Ro=(0,ae.memo)(Xi);t();o();var He=r(g());var Qi=({top:e=24})=>{let n=y();return He.default.createElement("div",{style:{paddingTop:e}},He.default.createElement(ho.State,{title:n("wallet_transaction_history_subtitle_no_records")}))},ei=(0,He.memo)(Qi);t();o();var bt=r(g()),ti=r(D()),j=r(Ce());var to=({children:e,assets:n,align:s})=>{let i=n.length>2?Ee.center:Ee.top,l=(s||i)===Ee.center?"tx-history-list-row-center":"",c=(0,ti.default)("tx-history-list-row",l);return bt.default.createElement("div",{className:c},e)};to.propTypes={children:j.default.node,assets:j.default.arrayOf(j.default.shape({direction:j.default.number,coinAmount:j.default.oneOfType([j.default.number,j.default.string]),symbol:j.default.string})),align:j.default.string};to.defaultProps={children:null,assets:[],align:""};var oi=(0,bt.memo)(to);t();o();var W=r(g()),le=r(Ce()),ii=r(D());var oo=({className:e,icons:n,title:s,details:i,label:a,data:l})=>{let c=(0,ii.default)(e,"tx-history__info"),p=(0,W.useMemo)(()=>(l==null?void 0:l.txStatus)===lt.PENDING&&(l==null?void 0:l.isShowPending),[l]);return W.default.createElement("div",{className:c},W.default.createElement(zo,{srcset:n}),W.default.createElement("div",{className:"tx-history__info-main"},W.default.createElement("div",{className:"tx-history__info-main-top"},W.default.createElement("div",{className:p?"tx-history__info-main-top-pending":"tx-history__info-main-top-title"},s),a),W.default.createElement("div",{className:"tx-history__info-main-details"},i.map((u,x)=>W.default.createElement("div",{className:"tx-history__info-main-details-detail",key:x},u)))))};oo.propTypes={className:le.default.string,icons:le.default.array,title:le.default.string,details:le.default.arrayOf(le.default.string),label:le.default.node,data:le.default.object};oo.defaultProps={className:"",icons:[],title:"",details:[],label:null,data:{}};var ni=W.default.memo(oo);t();o();var Ae=r(g()),te=r(Ce()),Pt=r(D());Fe();t();o();var me=r(g()),$=r(Ce()),si=(0,me.memo)(({className:e,prefix:n,coinAmount:s,symbol:i})=>{let a=`${n}${s} ${i}`;return me.default.createElement("div",{className:e},a," ")}),ce=(0,me.memo)(e=>me.default.createElement(si,{...e,prefix:e.coinAmount===""?"":"+"}));ce.propTypes={className:$.default.string,coinAmount:$.default.oneOfType([$.default.number,$.default.string]),symbol:$.default.string};ce.defaultProps={className:"",coinAmount:"",symbol:""};var pe=(0,me.memo)(e=>me.default.createElement(si,{...e,prefix:e.coinAmount===""?"":"-"}));pe.propTypes={className:$.default.string,coinAmount:$.default.oneOfType([$.default.number,$.default.string]),symbol:$.default.string};pe.defaultProps={className:"",coinAmount:"",symbol:""};t();o();var Ri=({className:e})=>Ae.default.createElement("div",{type:he.TYPE.danger,size:he.SIZE.xs,className:(0,Pt.default)("tx-history__valueless-nft",e),align:he.ALIGN.right},S("wallet_extension_history_text_risky_transfer")),io=({className:e,assets:n,isValuelessNftTxType:s=!1})=>{let i=(0,Pt.default)(e,"tx-history__assets"),a="tx-history__assets-asset-sm",l="tx-history__assets-asset-md",c="tx-history__assets-asset-green800",p="tx-history__assets-asset-gray900",u="tx-history__assets-asset-gray400",x=n.length===1?n.map(I=>{let z=I.direction===q.IN?c:p,Q=I.direction===q.IN?ce:pe;return{...I,className:`${l} ${z}`,Comp:Q}}):n.map(I=>{let z=I.direction===q.IN?l:a,Q=I.direction===q.IN?c:u,fe=I.direction===q.IN?ce:pe;return{...I,className:`${z} ${Q}`,Comp:fe}}),[h,...w]=x.filter(I=>I.coinAmount!==null),F=[h,s?{Comp:Ri}:void 0,...w].filter(Boolean);return Ae.default.createElement("div",{className:i},F.map((I,z)=>{let{Comp:Q,className:fe,...Se}=I,Ne=(0,Pt.default)("tx-history__assets-asset",fe);return Ae.default.createElement(Q,{key:z,className:Ne,...Se})}))};io.propTypes={className:te.default.string,assets:te.default.arrayOf(te.default.shape({direction:te.default.number,coinAmount:te.default.oneOfType([te.default.number,te.default.string]),symbol:te.default.string}))};io.defaultProps={className:"",assets:[]};var ri=(0,Ae.memo)(io);t();o();var Et=r(g()),en=({children:e})=>Et.default.createElement("div",{className:"tx-history__date"},e),ai=(0,Et.memo)(en);t();o();var ue=r(g());var li=r(D());var tn=({type:e,text:n,isPurePending:s})=>e===re.FAILED?ue.default.createElement(vo,{iconName:"okx-wallet-plugin-failed",size:ke.SIZE.sm},n):e===re.PENDING&&s?ue.default.createElement(K,{className:"okx-wallet-plugin-pending tx-history-label-image-purepending"}):e===re.PENDING?ue.default.createElement(No,{iconName:"okx-wallet-plugin-pending",iconClassName:"tx-history-label-image",size:ke.SIZE.sm},n):e===re.WAITING?ue.default.createElement(To,{iconName:"okx-wallet-plugin-clock",size:ke.SIZE.sm},n):e===re.CANCELED?ue.default.createElement(yo,{iconName:"okx-wallet-plugin-failed",size:ke.SIZE.sm},n):"",mi=({className:e,type:n=re.PENDING,text:s,data:i})=>{let a="tx-history-label",l=(i==null?void 0:i.txStatus)===lt.PENDING&&(i==null?void 0:i.isShowPending)&&((i==null?void 0:i.repeatTxType)===Pe.CONFIRMING||i.txType===J.GAS_STATION||i.txType===J.DEX_CROSS_CHAIN_SWAP),c=(0,li.default)(a,l?`${a}-purePending`:`${a}-${n}`,e);return ue.default.createElement("div",{className:c},ue.default.createElement(tn,{type:n,text:s,isPurePending:l}))};mi.TYPE=re;var ci=mi;t();o();var Te=r(g()),Dt=r(D());var on=(e=[])=>e.length===1||e.length===2?"tx-history-nfts__image-container-size136":"tx-history-nfts__image-container-size86",nn=({className:e,data:n})=>{let s=y(),{nftImageUrls:i}=n,a=(i||[]).slice(0,6),l=ko({dark:"/cdn/assets/imgs/246/690CB9B3F2F4142F.png",light:"/cdn/assets/imgs/246/15101867D98B5C34.png"});if(a.length===0)return null;let c=(0,Dt.default)("tx-history-nfts__container",e),p=on(a),u=(0,Dt.default)("tx-history-nfts__image-container",p),x=h=>(0,Dt.default)("tx-history-nfts__image",{"tx-history-nfts__image-border":h===5});return Te.default.createElement("div",{className:c},a.map((h,w)=>Te.default.createElement("div",{key:w,className:u},Te.default.createElement(Yo,{startStatus:!0,src:h,backupImage:l,classnames:x(w)}),w===5?Te.default.createElement("div",{className:"tx-history-nfts__image-shade"},s("wallet_extension_history_list_text_more")):null)))},pi=(0,Te.memo)(nn);t();o();var X=r(g());var no=({onClick:e,children:n})=>X.default.createElement(d,{className:"tx-history-actions-button",category:d.CATEGORY.outline,type:d.TYPE.primary,size:d.SIZE.xs,onClick:e},n),sn=({data:e={},onRepeat:n})=>{let s=y(),{coinId:i}=e,{baseCoin:a}=De(i,!0),{pendingToastInfo:l,isShowSpeedUp:c,isShowCancel:p,isShowSpeedupCancel:u}=e;if(a.coinId===1||!l&&!c&&!p&&!u)return null;let x=()=>!c&&!p&&!u?null:X.default.createElement("div",{className:"tx-history-actions-buttons-container"},p&&X.default.createElement(no,{onClick:h=>{h.stopPropagation(),n(1)}},s("wallet_extension_history_list_status_btn_cancel_transaction")),c&&X.default.createElement(no,{onClick:h=>{h.stopPropagation(),n(2)}},s("wallet_extension_history_list_status_btn_speed_up")),u&&X.default.createElement(no,{onClick:h=>{h.stopPropagation(),n(3)}},s("wallet_extension_history_list_status_btn_speed_up_cancellation")));return X.default.createElement("div",{className:"tx-history-actions"},l?X.default.createElement("div",{className:"tx-history-actions-pending"},s("wallet_extension_card_toast_pending_transaction_speedup",{pendingTips:1})):null,x())},ui=(0,X.memo)(sn);t();o();var At=r(g()),_i=r(D()),rn=({children:e,className:n,onClick:s})=>{let i=(0,_i.default)("tx-history-item-container",n);return At.default.createElement("div",{className:i,onClick:s},e)},di=(0,At.memo)(rn);t();o();var wt=r(g()),an=({children:e})=>wt.default.createElement("div",{className:"tx-history-list"},e),fi=(0,wt.memo)(an);t();o();var St=r(g()),gi=r(D()),ln=({className:e,style:n,children:s,onContainer:i})=>{let a=(0,gi.default)("tx-history-list-container",e);return St.default.createElement("div",{className:a,style:n,ref:i},s)},xi=(0,St.memo)(ln);t();o();var O=r(g());Fe();t();o();var mn=(0,O.memo)(e=>{let n=y(),{showPopup:s}=e;return O.default.createElement("div",{className:"date-range-selection__time"},n("wallet_extension_history_dropdown_time"),O.default.createElement(Go,{flip:s}))});function cn({className:e,dates:n,onChange:s,customMinDate:i,mainCoinId:a,setDate:l}){let[c,p]=(0,O.useState)(Qe.subtract(3,"M")),[u,x]=(0,O.useState)(""),[h,w]=(0,O.useState)(new Date),C=y();return(0,O.useEffect)(()=>{i&&p(i),x(a?i?"":C("extension_trade_sliderborrowingdata_filter_dates"):C("extension_wallet_history_text_full_history_available"))},[i,a]),O.default.createElement(xo.RangePicker,{className:e,inputClassNames:["date-range-selection__input","date-range-selection__input"],customReference:mn,value:n,min:c,max:h,dialogProps:{maskClosable:!0,subTitle:u},onOpenChange:F=>{F&&(p(i||Qe.subtract(3,"M")),w(new Date))},onChange:(F,I)=>{s(F,I)},onReset:()=>{l([i||Qe.subtract(3,"M"),new Date])}})}var hi=cn;t();o();var so=r(g()),ro=r(D());function pn({className:e,tabs:n,value:s,onSelect:i}){return so.default.createElement("div",{className:(0,ro.default)("tx-history__tabs",e)},n.map(({text:a,value:l})=>so.default.createElement("div",{className:(0,ro.default)("tx-history__tabs-option",{"tx-history__tabs-option--selected":s===l}),key:l,onClick:()=>{i(l)}},a)))}var yi=pn;t();o();var k=r(g());function un({initLoading:e,visible:n,onConfirm:s,loading:i,onClose:a,oldGasFeeDisplay:l,oldGasDetailDisplay:c,newGasFeeDisplay:p,newGasDetailDisplay:u}){let x=y();return k.default.createElement(Ie.Prompt,{showLoading:e,visible:n,className:"ethereum-tx-speed-dialog",alignBottom:!1,titleCenter:!1,infoType:null,onConfirm:s,confirmLoading:i,onClose:()=>{a&&a()},confirmText:x("wallet_extension_popup_cancle_transaction_btn_confirm"),confirmBtnProps:{type:d.TYPE.highlight,size:d.SIZE.lg},renderContent:h=>k.default.createElement(h,null,k.default.createElement("div",{className:"ethereum-tx-speed-dialog__title"},x("wallet_extension_popup_title_speedup_transaction")),k.default.createElement("div",{className:"ethereum-tx-speed-dialog__subtitle"},x("wallet_extension_popup_speedup_transaction_desc")),k.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee-title"},x("wallet_extension_popup_speedup_transaction_before")),k.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee"},k.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee__fee-detail"},l),k.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee__gas-detail"},c)),k.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee-title"},x("wallet_extension_popup_speedup_transaction_after")),k.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee"},k.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee__fee-detail--speed"},p),k.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee__gas-detail"},u)))})}var vi=un;t();o();var oe=r(g());function _n({visible:e,onConfirm:n,loading:s,onClose:i,chainSymbol:a,newGasFeeDisplay:l,newGasDetailDisplay:c}){let p=y();return oe.default.createElement(Ie.Prompt,{visible:e,className:"ethereum-tx-cancel-dialog",alignBottom:!1,titleCenter:!1,infoType:null,onConfirm:n,confirmLoading:s,onClose:()=>{i&&i()},confirmText:p("wallet_extension_popup_cancle_transaction_btn_confirm"),confirmBtnProps:{type:d.TYPE.highlight,size:d.SIZE.lg},renderContent:u=>oe.default.createElement(u,null,oe.default.createElement("div",{className:"ethereum-tx-cancel-dialog__title"},p("wallet_extension_popup_title_cancle_transaction")),oe.default.createElement("div",{className:"ethereum-tx-cancel-dialog__subtitle"},p("wallet_extension_popup_cancle_transaction_desc",{symbol:a})),oe.default.createElement("div",{className:"ethereum-tx-cancel-dialog__description"},p("wallet_extension_popup_cancle_transaction_desc2")),oe.default.createElement("div",{className:"ethereum-tx-cancel-dialog__fee"},oe.default.createElement("div",{className:"ethereum-tx-cancel-dialog__fee__fee-detail"},l),oe.default.createElement("div",{className:"ethereum-tx-cancel-dialog__fee__gas-detail"},c)))})}var Ti=_n;t();o();var Ni=r(g()),Ci=r(D());t();o();function dn({className:e,children:n}){return Ni.default.createElement("div",{className:(0,Ci.default)("tx-page-container",e)},n)}var Ii=dn;t();o();var bi=r(g()),Pi=r(D());function fn({className:e,children:n}){return bi.default.createElement("div",{className:(0,Pi.default)("tx-filter-container",e)},n)}var Ei=fn;t();o();var Lt=r(g());t();o();var gn=()=>{let e=y();return Lt.default.createElement("div",{className:"tx-pending__text"},e("wallet_extension_history_tab_pending"))},Di=(0,Lt.memo)(gn);t();o();var Ze=r(g()),ao=r(D()),ne=r(Ce());t();o();var ie={assetContainer:"_assetContainer_1uvgf_1",baseAsset:"_baseAsset_1uvgf_5",mt2:"_mt2_1uvgf_11",titleSize:"_titleSize_1uvgf_14",titleColorIn:"_titleColorIn_1uvgf_19",titleColorOut:"_titleColorOut_1uvgf_22",subtitleSize:"_subtitleSize_1uvgf_25",subtitleColor:"_subtitleColor_1uvgf_29"};var lo=({className:e,assets:n})=>{let s=n.map((i,a)=>{if(a===0){let u=ie.titleSize,x=i.direction===q.IN?ie.titleColorIn:ie.titleColorOut,h=i.direction===q.IN?ce:pe;return{...i,className:`${u} ${x}`,Comp:h}}let l=ie.subtitleSize,c=ie.subtitleColor,p=i.direction===q.IN?ce:pe;return{...i,className:`${ie.mt2} ${l} ${c}`,Comp:p}});return Ze.default.createElement("div",{className:(0,ao.default)(e,ie.assetContainer)},s.map((i,a)=>{let{Comp:l,className:c,...p}=i,u=(0,ao.default)(ie.baseAsset,c);return i.coinAmount===null?null:Ze.default.createElement(l,{key:a,className:u,...p})}))};lo.propTypes={className:ne.default.string,assets:ne.default.arrayOf(ne.default.shape({direction:ne.default.number,coinAmount:ne.default.oneOfType([ne.default.number,ne.default.string]),symbol:ne.default.string}))};lo.defaultProps={className:"",assets:[]};var Ai=(0,Ze.memo)(lo);t();o();var Me=r(g()),Si=r(D());t();o();var wi={"tx-history-loading":"_tx-history-loading_ca289_1",txHistoryLoading:"_tx-history-loading_ca289_1"};var xn=({top:e=24,className:n})=>Me.default.createElement("div",{className:(0,Si.default)(wi.txHistoryLoading,n),style:{paddingTop:e}},Me.default.createElement(go,null)),Li=(0,Me.memo)(xn);var Em={Dialogs:Ro,Empty:ei,Row:oi,Info:ni,Assets:ri,Date:ai,Label:ci,NFTs:pi,Actions:ui,ItemContainer:di,List:fi,ListContainer:xi,DateRangeSelection:hi,FilterTabs:yi,EthereumTxSpeedDialogBase:vi,EthereumTxCancelDialogBase:Ti,PageContainer:Ii,FilterContainer:Ei,PendingTag:Di,CoinAssets:Ai,Loading:Li};t();o();var ki=r(g());t();o();var Fi={root:"_root_1fewt_1"};function hn({message:e}){return e?ki.default.createElement("div",{className:Fi.root},e):null}var yn=hn;t();o();t();o();var Ft=r(g()),Mm=r(D());function vn({label:e,value:n,style:s}){return Ft.default.createElement("div",{className:"tx-detail-info__one",style:s},Ft.default.createElement("div",{className:"tx-detail-info__label"},e),Ft.default.createElement("div",{className:"tx-detail-info__value"},n))}var Ue=vn;t();o();var _e=r(g()),Ye=r(Ce());var Gi=r(D());function mo({className:e,label:n,value:s,message:i,tag:a,addressStyle:l}){let c=y(),[p,u]=Wo(),x=()=>{p||(u(s),et.success({title:i||c("wallet_receive_toast_address_copied"),desc:_e.default.createElement("div",{className:"tx-clipboard__message"},s)}))};return _e.default.createElement("div",{className:(0,Gi.default)("tx-clipboard",e)},_e.default.createElement("div",{className:"tx-clipboard__inner"},_e.default.createElement("div",{className:"tx-clipboard__inner-wrap",style:l},n,a&&_e.default.createElement("div",{className:"tx-clipboard__tag"},a)),_e.default.createElement("div",{className:"tx-clipboard__icon",onClick:x},_e.default.createElement(K,{className:"okx-wallet-plugin-copy-1"}))))}var Tn=mo;mo.propTypes={label:Ye.default.any,value:Ye.default.string,message:Ye.default.string,className:Ye.default.string};mo.defaultProps={label:"",value:"",className:"",message:""};t();o();var Bi=r(D()),We=r(g());t();o();var kt={"tx-detail-info__status":"_tx-detail-info__status_y51gk_1",txDetailInfoStatus:"_tx-detail-info__status_y51gk_1","tx-detail-info__status__icon":"_tx-detail-info__status__icon_y51gk_8",txDetailInfoStatusIcon:"_tx-detail-info__status__icon_y51gk_8","tx-detail-info__status__icon--loading":"_tx-detail-info__status__icon--loading_y51gk_11",txDetailInfoStatusIconLoading:"_tx-detail-info__status__icon--loading_y51gk_11",spin:"_spin_y51gk_1"};var Gt={SUCCESS:1,PENDING:2,WAITING:3,FAILED:4};function Oi({label:e,status:n,statusText:s}){let i,a,l=!1;return n===Gt.SUCCESS?(i="okx-wallet-plugin-completed",a="var(--okd-color-semantic-positive)"):n===Gt.PENDING?(i="okx-wallet-plugin-pending",a="var(--okd-color-semantic-notice)",l=!0):n===Gt.WAITING?(i="okx-wallet-plugin-clock",a="var(--okd-color-content-disabled)"):(i="okx-wallet-plugin-failed",a="var(--okd-color-semantic-negative)"),We.default.createElement(Ue,{label:e,value:We.default.createElement("div",{className:kt["tx-detail-info__status"],style:{color:a}},We.default.createElement(K,{className:(0,Bi.default)(i,kt["tx-detail-info__status__icon"],{[kt["tx-detail-info__status__icon--loading"]]:l})}),We.default.createElement("span",null,s))})}Oi.TxStatusInfoEnum=Gt;var Nn=Oi;t();o();var $e=r(g());function Cn({label:e,value:n,tip:s}){return $e.default.createElement($e.default.Fragment,null,$e.default.createElement(Ue,{label:e,value:n}),s&&$e.default.createElement("div",{className:"tx-detail-info__gas-fee"},s))}var In=Cn;t();o();var Bt=r(g()),zi=r(D());function bn({url:e,text:n}){return e?Bt.default.createElement("div",{className:"tx-detail-action__link",onClick:()=>{globalThis.platform.openTab({url:e})}},Bt.default.createElement("span",{className:"tx-detail-action__link-text"},n,Bt.default.createElement(K,{className:(0,zi.default)("okx-wallet-plugin-open-link","tx-detail-action__link-icon")}))):null}var Pn=bn;t();o();var de=r(g());t();o();var co={"cancel-btn":"_cancel-btn_wmkbd_1",cancelBtn:"_cancel-btn_wmkbd_1","speed-up-btn":"_speed-up-btn_wmkbd_7",speedUpBtn:"_speed-up-btn_wmkbd_7"};function En({isShowCancel:e,isShowSpeedUp:n,isShowSpeedupCancel:s,showCloseTransaction:i,showTxRepeatBroadcast:a,canAccelerateBtcTx:l,onCancel:c,onSpeedUp:p,onClose:u,onRepeat:x,onBtcSpeedUp:h,isLoading:w}){let C=y();return!e&&!n&&!s&&!i&&!a&&!l?null:de.default.createElement(Bo.FooterActions,null,e&&de.default.createElement(d,{category:d.CATEGORY.fill,type:d.TYPE.gray,size:d.SIZE.md,className:co.cancelBtn,onClick:c},C("wallet_extension_history_list_status_btn_cancel_transaction")),n&&de.default.createElement(d,{className:co.speedUpBtn,category:d.CATEGORY.fill,type:d.TYPE.highlight,size:d.SIZE.md,block:!0,onClick:p},C("wallet_extension_history_list_status_btn_speed_up")),s&&de.default.createElement(d,{category:d.CATEGORY.fill,type:d.TYPE.highlight,size:d.SIZE.md,block:!0,onClick:c},C("wallet_extension_history_list_status_btn_speed_up_cancellation")),i&&de.default.createElement(d,{category:d.CATEGORY.fill,type:d.TYPE.gray,size:d.SIZE.md,block:!0,onClick:u},C("extension_defi_bot_btn_release_utxo")),a&&de.default.createElement(d,{category:d.CATEGORY.fill,type:d.TYPE.highlight,size:d.SIZE.md,block:!0,onClick:x},C("extension_defi_bot_btn_rebroadcast")),l&&de.default.createElement(d,{category:d.CATEGORY.fill,type:d.TYPE.highlight,size:d.SIZE.md,block:!0,loading:w,onClick:h},C("wallet_extension_history_list_status_btn_speed_up")))}var Dn=En;t();o();var we=r(g());t();o();var Ot={"tx-detail-info":"_tx-detail-info_1qa9v_1",txDetailInfo:"_tx-detail-info_1qa9v_1","tx-detail-item":"_tx-detail-item_1qa9v_8",txDetailItem:"_tx-detail-item_1qa9v_8","tx-detail-item__label":"_tx-detail-item__label_1qa9v_24",txDetailItemLabel:"_tx-detail-item__label_1qa9v_24","tx-detail-item__value":"_tx-detail-item__value_1qa9v_29",txDetailItemValue:"_tx-detail-item__value_1qa9v_29"};function An({label:e,value:n,style:s,tips:i}){return we.default.createElement("div",{className:Ot["tx-detail-item"],style:s},we.default.createElement("div",{className:Ot["tx-detail-item__label"]},e,i&&we.default.createElement(Re,{title:i,placement:Re.DIRECTION.top,trigger:Re.TRIGGER_TYPES.hover},we.default.createElement(K,{className:"okds-information-circle",style:{fontSize:"14px",color:"var(--okd-color-content-contrast)"}}))),we.default.createElement("div",{className:Ot["tx-detail-item__value"]},n))}var wn=An;t();o();var po=r(g());Hi();function op(e,n){return(0,po.useMemo)(()=>e.filter(Boolean).length===0&&n.length===1?Ee.center:"",[e,n])}var ip=(e,n,s={})=>{let i=y();return(0,po.useMemo)(()=>{if(!e)return"";let a=jt[e]||jt[J.CONTRACTCALL],{symbol:l,collection:c}=n;if(e===J.AUTHORIZATION||e===J.CANCEL_AUTHORIZATION)return i(a,{symbol:l});if(e===J.ZK_REGISTER){let{mainCoinId:p}=s,x={[Io]:"wallet_extension_history_text_register_tab",[bo]:"wallet_history_text_register_zksync_lite"}[p];return x?i(x):""}else{if(e===J.NFT_AUTHORIZATION&&c)return i("wallet_extension_toast_approve_collection",{collection:c});if(e===J.NFT_CANCEL_AUTHORIZATION&&c)return i("wallet_extension_history_list_revoke_asset",{approvedasset:c})}return i(a)},[i,e,n,s])};export{xt as a,Nt as b,eo as c,Em as d,op as e,ip as f,Ue as g,Tn as h,Nn as i,In as j,Pn as k,Dn as l,yn as m,wn as n};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-KCIDY7KH.js.map
