import{c as jW,d as VR}from"./chunk-A75OUJFC.js";import{a as kW}from"./chunk-YG4ZGSDO.js";import{a as GR,b as tI}from"./chunk-OCHHKHZZ.js";import{c as eI}from"./chunk-JQQNTNIX.js";import{e as KR}from"./chunk-JLLMIXPD.js";import{a as LW}from"./chunk-UVVG5NXG.js";import{a as jR}from"./chunk-52GWQSZH.js";import{a as kR}from"./chunk-XKG5DY6K.js";import{a as Zb,p as HR,q as Qb,r as vs}from"./chunk-6PGLMYAE.js";import{a as $b}from"./chunk-RMQJRDTF.js";import{c as ke}from"./chunk-2YLR7R2N.js";import{a as MR,b as MW}from"./chunk-MVLY6WUP.js";import{f as NR,h as NW}from"./chunk-ZEAKIEIQ.js";import{a as LR}from"./chunk-5KSDRGLW.js";import{C as cl,D as M2,F as To,H as hc,Pa as q2,q as Ug,v as nt}from"./chunk-CVJKAN5R.js";import{E as RR,o as dc}from"./chunk-GXQ645QR.js";import{J as Lg,V as io,c as DR}from"./chunk-C2H3SRET.js";import{a as uf,b as Fg}from"./chunk-V4YVDLI4.js";import{a as UR}from"./chunk-AUIXWDH4.js";import{a as qW,b as FW,c as qR}from"./chunk-3T5D6KAV.js";import{a as So}from"./chunk-MAWXDEJZ.js";import{b as RW}from"./chunk-IYYFWVWL.js";import{a as FR}from"./chunk-O3BDC4SE.js";import{a as ll}from"./chunk-GT57MMCB.js";import{a as UW}from"./chunk-HIGM7FFU.js";import{D as BW,F as BR,p as F2,s as PR,t as PW,u as Jb}from"./chunk-RYNAOZ73.js";import{d as no}from"./chunk-GKHVFCKF.js";import{b as de,c as b,d as fc,f as mr,g as cc,h as lc,l as process,m as d,n as m,o as h}from"./chunk-6V2G2Z5W.js";var nI=b(rI=>{"use strict";d();h();Object.defineProperty(rI,"__esModule",{value:!0});rI.default=KW;var U2,HW=new Uint8Array(16);function KW(){if(!U2&&(U2=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!U2))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return U2(HW)}});var YR=b(L2=>{"use strict";d();h();Object.defineProperty(L2,"__esModule",{value:!0});L2.default=void 0;var VW=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;L2.default=VW});var kg=b(k2=>{"use strict";d();h();Object.defineProperty(k2,"__esModule",{value:!0});k2.default=void 0;var GW=YW(YR());function YW(r){return r&&r.__esModule?r:{default:r}}function zW(r){return typeof r=="string"&&GW.default.test(r)}var WW=zW;k2.default=WW});var Hg=b(jg=>{"use strict";d();h();Object.defineProperty(jg,"__esModule",{value:!0});jg.default=void 0;jg.unsafeStringify=zR;var XW=JW(kg());function JW(r){return r&&r.__esModule?r:{default:r}}var Zr=[];for(let r=0;r<256;++r)Zr.push((r+256).toString(16).slice(1));function zR(r,e=0){return(Zr[r[e+0]]+Zr[r[e+1]]+Zr[r[e+2]]+Zr[r[e+3]]+"-"+Zr[r[e+4]]+Zr[r[e+5]]+"-"+Zr[r[e+6]]+Zr[r[e+7]]+"-"+Zr[r[e+8]]+Zr[r[e+9]]+"-"+Zr[r[e+10]]+Zr[r[e+11]]+Zr[r[e+12]]+Zr[r[e+13]]+Zr[r[e+14]]+Zr[r[e+15]]).toLowerCase()}function $W(r,e=0){let t=zR(r,e);if(!(0,XW.default)(t))throw TypeError("Stringified UUID is invalid");return t}var ZW=$W;jg.default=ZW});var XR=b(j2=>{"use strict";d();h();Object.defineProperty(j2,"__esModule",{value:!0});j2.default=void 0;var QW=tX(nI()),eX=Hg();function tX(r){return r&&r.__esModule?r:{default:r}}var WR,iI,oI=0,aI=0;function rX(r,e,t){let n=e&&t||0,i=e||new Array(16);r=r||{};let o=r.node||WR,a=r.clockseq!==void 0?r.clockseq:iI;if(o==null||a==null){let g=r.random||(r.rng||QW.default)();o==null&&(o=WR=[g[0]|1,g[1],g[2],g[3],g[4],g[5]]),a==null&&(a=iI=(g[6]<<8|g[7])&16383)}let s=r.msecs!==void 0?r.msecs:Date.now(),u=r.nsecs!==void 0?r.nsecs:aI+1,f=s-oI+(u-aI)/1e4;if(f<0&&r.clockseq===void 0&&(a=a+1&16383),(f<0||s>oI)&&r.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");oI=s,aI=u,iI=a,s+=122192928e5;let l=((s&268435455)*1e4+u)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;let p=s/4294967296*1e4&268435455;i[n++]=p>>>8&255,i[n++]=p&255,i[n++]=p>>>24&15|16,i[n++]=p>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(let g=0;g<6;++g)i[n+g]=o[g];return e||(0,eX.unsafeStringify)(i)}var nX=rX;j2.default=nX});var sI=b(H2=>{"use strict";d();h();Object.defineProperty(H2,"__esModule",{value:!0});H2.default=void 0;var iX=oX(kg());function oX(r){return r&&r.__esModule?r:{default:r}}function aX(r){if(!(0,iX.default)(r))throw TypeError("Invalid UUID");let e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var sX=aX;H2.default=sX});var uI=b(dl=>{"use strict";d();h();Object.defineProperty(dl,"__esModule",{value:!0});dl.URL=dl.DNS=void 0;dl.default=dX;var uX=Hg(),fX=cX(sI());function cX(r){return r&&r.__esModule?r:{default:r}}function lX(r){r=unescape(encodeURIComponent(r));let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}var JR="6ba7b810-9dad-11d1-80b4-00c04fd430c8";dl.DNS=JR;var $R="6ba7b811-9dad-11d1-80b4-00c04fd430c8";dl.URL=$R;function dX(r,e,t){function n(i,o,a,s){var u;if(typeof i=="string"&&(i=lX(i)),typeof o=="string"&&(o=(0,fX.default)(o)),((u=o)===null||u===void 0?void 0:u.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let f=new Uint8Array(16+i.length);if(f.set(o),f.set(i,o.length),f=t(f),f[6]=f[6]&15|e,f[8]=f[8]&63|128,a){s=s||0;for(let l=0;l<16;++l)a[s+l]=f[l];return a}return(0,uX.unsafeStringify)(f)}try{n.name=r}catch{}return n.DNS=JR,n.URL=$R,n}});var QR=b(V2=>{"use strict";d();h();Object.defineProperty(V2,"__esModule",{value:!0});V2.default=void 0;function hX(r){if(typeof r=="string"){let e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(let t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return pX(gX(yX(r),r.length*8))}function pX(r){let e=[],t=r.length*32,n="0123456789abcdef";for(let i=0;i<t;i+=8){let o=r[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(a)}return e}function ZR(r){return(r+64>>>9<<4)+14+1}function gX(r,e){r[e>>5]|=128<<e%32,r[ZR(e)-1]=e;let t=1732584193,n=-271733879,i=-1732584194,o=271733878;for(let a=0;a<r.length;a+=16){let s=t,u=n,f=i,l=o;t=Cn(t,n,i,o,r[a],7,-680876936),o=Cn(o,t,n,i,r[a+1],12,-389564586),i=Cn(i,o,t,n,r[a+2],17,606105819),n=Cn(n,i,o,t,r[a+3],22,-1044525330),t=Cn(t,n,i,o,r[a+4],7,-176418897),o=Cn(o,t,n,i,r[a+5],12,1200080426),i=Cn(i,o,t,n,r[a+6],17,-1473231341),n=Cn(n,i,o,t,r[a+7],22,-45705983),t=Cn(t,n,i,o,r[a+8],7,1770035416),o=Cn(o,t,n,i,r[a+9],12,-1958414417),i=Cn(i,o,t,n,r[a+10],17,-42063),n=Cn(n,i,o,t,r[a+11],22,-1990404162),t=Cn(t,n,i,o,r[a+12],7,1804603682),o=Cn(o,t,n,i,r[a+13],12,-40341101),i=Cn(i,o,t,n,r[a+14],17,-1502002290),n=Cn(n,i,o,t,r[a+15],22,1236535329),t=An(t,n,i,o,r[a+1],5,-165796510),o=An(o,t,n,i,r[a+6],9,-1069501632),i=An(i,o,t,n,r[a+11],14,643717713),n=An(n,i,o,t,r[a],20,-373897302),t=An(t,n,i,o,r[a+5],5,-701558691),o=An(o,t,n,i,r[a+10],9,38016083),i=An(i,o,t,n,r[a+15],14,-660478335),n=An(n,i,o,t,r[a+4],20,-405537848),t=An(t,n,i,o,r[a+9],5,568446438),o=An(o,t,n,i,r[a+14],9,-1019803690),i=An(i,o,t,n,r[a+3],14,-187363961),n=An(n,i,o,t,r[a+8],20,1163531501),t=An(t,n,i,o,r[a+13],5,-1444681467),o=An(o,t,n,i,r[a+2],9,-51403784),i=An(i,o,t,n,r[a+7],14,1735328473),n=An(n,i,o,t,r[a+12],20,-1926607734),t=On(t,n,i,o,r[a+5],4,-378558),o=On(o,t,n,i,r[a+8],11,-2022574463),i=On(i,o,t,n,r[a+11],16,1839030562),n=On(n,i,o,t,r[a+14],23,-35309556),t=On(t,n,i,o,r[a+1],4,-1530992060),o=On(o,t,n,i,r[a+4],11,1272893353),i=On(i,o,t,n,r[a+7],16,-155497632),n=On(n,i,o,t,r[a+10],23,-1094730640),t=On(t,n,i,o,r[a+13],4,681279174),o=On(o,t,n,i,r[a],11,-358537222),i=On(i,o,t,n,r[a+3],16,-722521979),n=On(n,i,o,t,r[a+6],23,76029189),t=On(t,n,i,o,r[a+9],4,-640364487),o=On(o,t,n,i,r[a+12],11,-421815835),i=On(i,o,t,n,r[a+15],16,530742520),n=On(n,i,o,t,r[a+2],23,-995338651),t=Dn(t,n,i,o,r[a],6,-198630844),o=Dn(o,t,n,i,r[a+7],10,1126891415),i=Dn(i,o,t,n,r[a+14],15,-1416354905),n=Dn(n,i,o,t,r[a+5],21,-57434055),t=Dn(t,n,i,o,r[a+12],6,1700485571),o=Dn(o,t,n,i,r[a+3],10,-1894986606),i=Dn(i,o,t,n,r[a+10],15,-1051523),n=Dn(n,i,o,t,r[a+1],21,-2054922799),t=Dn(t,n,i,o,r[a+8],6,1873313359),o=Dn(o,t,n,i,r[a+15],10,-30611744),i=Dn(i,o,t,n,r[a+6],15,-1560198380),n=Dn(n,i,o,t,r[a+13],21,1309151649),t=Dn(t,n,i,o,r[a+4],6,-145523070),o=Dn(o,t,n,i,r[a+11],10,-1120210379),i=Dn(i,o,t,n,r[a+2],15,718787259),n=Dn(n,i,o,t,r[a+9],21,-343485551),t=pc(t,s),n=pc(n,u),i=pc(i,f),o=pc(o,l)}return[t,n,i,o]}function yX(r){if(r.length===0)return[];let e=r.length*8,t=new Uint32Array(ZR(e));for(let n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function pc(r,e){let t=(r&65535)+(e&65535);return(r>>16)+(e>>16)+(t>>16)<<16|t&65535}function mX(r,e){return r<<e|r>>>32-e}function K2(r,e,t,n,i,o){return pc(mX(pc(pc(e,r),pc(n,o)),i),t)}function Cn(r,e,t,n,i,o,a){return K2(e&t|~e&n,r,e,i,o,a)}function An(r,e,t,n,i,o,a){return K2(e&n|t&~n,r,e,i,o,a)}function On(r,e,t,n,i,o,a){return K2(e^t^n,r,e,i,o,a)}function Dn(r,e,t,n,i,o,a){return K2(t^(e|~n),r,e,i,o,a)}var vX=hX;V2.default=vX});var t7=b(G2=>{"use strict";d();h();Object.defineProperty(G2,"__esModule",{value:!0});G2.default=void 0;var xX=e7(uI()),_X=e7(QR());function e7(r){return r&&r.__esModule?r:{default:r}}var wX=(0,xX.default)("v3",48,_X.default),EX=wX;G2.default=EX});var r7=b(Y2=>{"use strict";d();h();Object.defineProperty(Y2,"__esModule",{value:!0});Y2.default=void 0;var bX=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),IX={randomUUID:bX};Y2.default=IX});var o7=b(z2=>{"use strict";d();h();Object.defineProperty(z2,"__esModule",{value:!0});z2.default=void 0;var n7=i7(r7()),TX=i7(nI()),SX=Hg();function i7(r){return r&&r.__esModule?r:{default:r}}function CX(r,e,t){if(n7.default.randomUUID&&!e&&!r)return n7.default.randomUUID();r=r||{};let n=r.random||(r.rng||TX.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=n[i];return e}return(0,SX.unsafeStringify)(n)}var AX=CX;z2.default=AX});var a7=b(W2=>{"use strict";d();h();Object.defineProperty(W2,"__esModule",{value:!0});W2.default=void 0;function OX(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function fI(r,e){return r<<e|r>>>32-e}function DX(r){let e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){let a=unescape(encodeURIComponent(r));r=[];for(let s=0;s<a.length;++s)r.push(a.charCodeAt(s))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);let n=r.length/4+2,i=Math.ceil(n/16),o=new Array(i);for(let a=0;a<i;++a){let s=new Uint32Array(16);for(let u=0;u<16;++u)s[u]=r[a*64+u*4]<<24|r[a*64+u*4+1]<<16|r[a*64+u*4+2]<<8|r[a*64+u*4+3];o[a]=s}o[i-1][14]=(r.length-1)*8/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=(r.length-1)*8&4294967295;for(let a=0;a<i;++a){let s=new Uint32Array(80);for(let v=0;v<16;++v)s[v]=o[a][v];for(let v=16;v<80;++v)s[v]=fI(s[v-3]^s[v-8]^s[v-14]^s[v-16],1);let u=t[0],f=t[1],l=t[2],p=t[3],g=t[4];for(let v=0;v<80;++v){let _=Math.floor(v/20),T=fI(u,5)+OX(_,f,l,p)+g+e[_]+s[v]>>>0;g=p,p=l,l=fI(f,30)>>>0,f=u,u=T}t[0]=t[0]+u>>>0,t[1]=t[1]+f>>>0,t[2]=t[2]+l>>>0,t[3]=t[3]+p>>>0,t[4]=t[4]+g>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var RX=DX;W2.default=RX});var u7=b(X2=>{"use strict";d();h();Object.defineProperty(X2,"__esModule",{value:!0});X2.default=void 0;var PX=s7(uI()),BX=s7(a7());function s7(r){return r&&r.__esModule?r:{default:r}}var NX=(0,PX.default)("v5",80,BX.default),MX=NX;X2.default=MX});var f7=b(J2=>{"use strict";d();h();Object.defineProperty(J2,"__esModule",{value:!0});J2.default=void 0;var qX="00000000-0000-0000-0000-000000000000";J2.default=qX});var c7=b($2=>{"use strict";d();h();Object.defineProperty($2,"__esModule",{value:!0});$2.default=void 0;var FX=UX(kg());function UX(r){return r&&r.__esModule?r:{default:r}}function LX(r){if(!(0,FX.default)(r))throw TypeError("Invalid UUID");return parseInt(r.slice(14,15),16)}var kX=LX;$2.default=kX});var Z2=b(xs=>{"use strict";d();h();Object.defineProperty(xs,"__esModule",{value:!0});Object.defineProperty(xs,"NIL",{enumerable:!0,get:function(){return GX.default}});Object.defineProperty(xs,"parse",{enumerable:!0,get:function(){return XX.default}});Object.defineProperty(xs,"stringify",{enumerable:!0,get:function(){return WX.default}});Object.defineProperty(xs,"v1",{enumerable:!0,get:function(){return jX.default}});Object.defineProperty(xs,"v3",{enumerable:!0,get:function(){return HX.default}});Object.defineProperty(xs,"v4",{enumerable:!0,get:function(){return KX.default}});Object.defineProperty(xs,"v5",{enumerable:!0,get:function(){return VX.default}});Object.defineProperty(xs,"validate",{enumerable:!0,get:function(){return zX.default}});Object.defineProperty(xs,"version",{enumerable:!0,get:function(){return YX.default}});var jX=ff(XR()),HX=ff(t7()),KX=ff(o7()),VX=ff(u7()),GX=ff(f7()),YX=ff(c7()),zX=ff(kg()),WX=ff(Hg()),XX=ff(sI());function ff(r){return r&&r.__esModule?r:{default:r}}});var cI=b(Q2=>{"use strict";d();h();Object.defineProperty(Q2,"__esModule",{value:!0});Q2.getCoinSymbol=void 0;function JX(r){var e;return(e={0:"BTC",2:"LTC",3:"DOGE",4:"RDD",5:"DASH",6:"PPC",7:"NMC",8:"FTC",9:"XCP",10:"BLK",11:"NSR",12:"NBT",13:"MZC",14:"VIA",15:"XCH",16:"RBY",17:"GRS",18:"DGC",19:"CCN",20:"DGB",22:"MONA",23:"CLAM",24:"XPM",25:"NEOS",26:"JBS",27:"ZRC",28:"VTC",29:"NXT",30:"BURST",31:"MUE",32:"ZOOM",33:"VASH",34:"CDN",35:"SDC",36:"PKB",37:"PND",38:"START",39:"MOIN",40:"EXP",41:"EMC2",42:"DCR",43:"XEM",44:"PART",45:"ARG",48:"SHR",49:"GCR",50:"NVC",51:"AC",52:"BTCD",53:"DOPE",54:"TPC",55:"AIB",56:"EDRC",57:"SYS",58:"SLR",59:"SMLY",60:"ETH",61:"ETC",62:"PSB",63:"LDCN",65:"XBC",66:"IOP",67:"NXS",68:"INSN",69:"OK",70:"BRIT",71:"CMP",72:"CRW",73:"BELA",74:"ICX",75:"FJC",76:"MIX",77:"XVG",78:"EFL",79:"CLUB",80:"RICHX",81:"POT",82:"QRK",83:"TRC",84:"GRC",85:"AUR",86:"IXC",87:"NLG",88:"BITB",89:"BTA",90:"XMY",91:"BSD",92:"UNO",93:"MTR",94:"GB",95:"SHM",96:"CRX",97:"BIQ",98:"EVO",99:"STO",100:"BIGUP",101:"GAME",102:"DLC",103:"ZYD",104:"DBIC",105:"STRAT",106:"SH",107:"MARS",108:"UBQ",109:"PTC",110:"NRO",111:"ARK",112:"USC",113:"THC",114:"LINX",115:"ECN",116:"DNR",117:"PINK",118:"ATOM",119:"PIVX",120:"FLASH",121:"ZEN",122:"PUT",123:"ZNY",124:"UNIFY",125:"XST",126:"BRK",127:"VC",128:"XMR",129:"VOX",130:"NAV",131:"FCT",132:"EC",133:"ZEC",134:"LSK",135:"STEEM",136:"XZC",137:"RBTC",139:"RPT",140:"LBC",141:"KMD",142:"BSQ",143:"RIC",144:"XRP",145:"BCH",146:"NEBL",147:"ZCL",148:"XLM",149:"NLC2",150:"WHL",151:"ERC",152:"DMD",153:"BTM",154:"BIO",155:"XWCC",156:"BTG",157:"BTC2X",158:"SSN",159:"TOA",160:"BTX",161:"ACC",162:"BCO",163:"ELLA",164:"PIRL",165:"XNO",166:"VIVO",167:"FRST",168:"HNC",169:"BUZZ",170:"MBRS",171:"HC",172:"HTML",173:"ODN",174:"ONX",175:"RVN",176:"GBX",177:"BTCZ",178:"POA",179:"NYC",180:"MXT",181:"WC",182:"MNX",183:"BTCP",184:"MUSIC",185:"BCA",186:"CRAVE",187:"STAK",188:"WBTC",189:"LCH",190:"EXCL",192:"LCC",193:"XFE",194:"EOS",195:"TRX",196:"KOBO",197:"HUSH",198:"BAN",199:"ETF",200:"OMNI",201:"BIFI",202:"UFO",203:"CNMC",204:"BCN",205:"RIN",206:"ATP",207:"EVT",208:"ATN",209:"BIS",210:"NEET",211:"BOPO",212:"OOT",213:"ALIAS",214:"MONK",215:"BOXY",216:"FLO",217:"MEC",218:"BTDX",219:"XAX",220:"ANON",221:"LTZ",222:"BITG",223:"ICP",224:"SMART",225:"XUEZ",226:"HLM",227:"WEB",228:"ACM",229:"NOS",230:"BITC",231:"HTH",232:"TZC",233:"VAR",234:"IOV",235:"FIO",236:"BSV",237:"DXN",238:"QRL",239:"PCX",240:"LOKI",242:"NIM",243:"SOV",244:"JCT",245:"SLP",246:"EWT",247:"UC",248:"EXOS",249:"ECA",250:"SOOM",251:"XRD",252:"FREE",253:"NPW",254:"BST",256:"NANO",257:"BTCC",259:"ZEST",260:"ABT",261:"PION",262:"DT3",263:"ZBUX",264:"KPL",265:"TPAY",266:"ZILLA",267:"ANK",268:"BCC",269:"HPB",270:"ONE",271:"SBC",272:"IPC",273:"DMTC",274:"OGC",275:"SHIT",276:"ANDES",277:"AREPA",278:"BOLI",279:"RIL",280:"HTR",281:"FCTID",282:"BRAVO",283:"ALGO",284:"BZX",285:"GXX",286:"HEAT",287:"XDN",288:"FSN",289:"CPC",290:"BOLD",291:"IOST",292:"TKEY",293:"USE",294:"BCZ",295:"IOC",296:"ASF",297:"MASS",298:"FAIR",299:"NUKO",300:"GNX",301:"DIVI",302:"CMT",303:"EUNO",304:"IOTX",305:"ONION",306:"8BIT",307:"ATC",308:"BTS",309:"CKB",310:"UGAS",311:"ADS",312:"ARA",313:"ZIL",314:"MOAC",315:"SWTC",316:"VNSC",317:"PLUG",318:"MAN",319:"ECC",320:"RPD",321:"RAP",322:"GARD",323:"ZER",324:"EBST",325:"SHARD",326:"MRX",327:"CMM",328:"BLOCK",329:"AUDAX",330:"LUNA",331:"ZPM",332:"KUVA",333:"MEM",334:"CS",335:"SWIFT",336:"FIX",337:"CPC",338:"VGO",339:"DVT",340:"N8V",341:"MTNS",342:"BLAST",343:"DCT",344:"AUX",345:"USDP",346:"HTDF",347:"YEC",348:"QLC",349:"TEA",350:"ARW",351:"MDM",352:"CYB",353:"LTO",354:"DOT",355:"AEON",356:"RES",357:"AYA",358:"DAPS",359:"CSC",360:"VSYS",361:"NOLLAR",362:"XNOS",363:"CPU",364:"LAMB",365:"VCT",366:"CZR",367:"ABBC",368:"HET",369:"XAS",370:"VDL",371:"MED",372:"ZVC",373:"VESTX",374:"DBT",375:"SEOS",376:"MXW",377:"ZNZ",378:"XCX",379:"SOX",380:"NYZO",381:"ULC",382:"RYO",383:"KAL",384:"XSN",385:"DOGEC",386:"BMV",387:"QBC",388:"IMG",389:"QOS",390:"PKT",391:"LHD",392:"CENNZ",393:"HSN",394:"CRO",395:"UMBRU",396:"EVER",397:"NEAR",398:"XPC",399:"ZOC",400:"NIX",401:"UC",402:"GALI",403:"OLT",404:"XBI",405:"DONU",406:"EARTHS",407:"HDD",408:"SUGAR",409:"AILE",410:"TENT",411:"TAN",412:"AIN",413:"MSR",414:"SUMO",415:"ETN",416:"BYTZ",417:"WOW",418:"XTNC",419:"LTHN",420:"NODE",421:"AGM",422:"CCX",423:"TNET",424:"TELOS",425:"AION",426:"BC",427:"KTV",428:"ZCR",429:"ERG",430:"PESO",431:"BTC2",432:"XRPHD",433:"WE",434:"KSM",435:"PCN",436:"NCH",437:"ICU",438:"LN",439:"DTP",440:"BTCR",441:"AERGO",442:"XTH",443:"LV",444:"PHR",445:"VITAE",446:"COCOS",447:"DIN",448:"SPL",449:"YCE",450:"XLR",451:"KTS",452:"DGLD",453:"XNS",454:"EM",455:"SHN",456:"SEELE",457:"AE",458:"ODX",459:"KAVA",460:"GLEEC",461:"FIL",462:"RUTA",463:"CSDT",464:"ETI",465:"ZSLP",466:"ERE",467:"DX",468:"CPS",469:"BTH",470:"MESG",471:"FIMK",472:"AR",473:"OGO",474:"ROSE",475:"BARE",476:"GLEEC",477:"CLR",478:"RNG",479:"OLO",480:"PEXA",481:"MOON",482:"OCEAN",483:"BNT",484:"AMO",485:"FCH",486:"LAT",487:"COIN",488:"VEO",489:"CCA",490:"GFN",491:"BIP",492:"KPG",493:"FIN",494:"BAND",495:"DROP",496:"BHT",497:"LYRA",498:"CS",499:"RUPX",500:"THETA",501:"SOL",502:"THT",503:"CFX",504:"KUMA",505:"HASH",506:"CSPR",507:"EARTH",508:"EGLD",509:"CHI",510:"KOTO",511:"OTC",512:"XRD",513:"SEELEN",514:"AETH",515:"DNA",516:"VEE",517:"SIERRA",518:"LET",519:"BSC",520:"BTCV",521:"ABA",522:"SCC",523:"EDG",524:"AMS",525:"GOSS",526:"BU",527:"GRAM",528:"YAP",529:"SCRT",530:"NOVO",531:"GHOST",532:"HST",533:"PRJ",534:"YOU",535:"XHV",536:"BYND",537:"JOYS",538:"VAL",539:"FLOW",540:"SMESH",541:"SCDO",542:"IQS",543:"BIND",544:"COINEVO",545:"SCRIBE",546:"HYN",547:"BHP",548:"BBC",549:"MKF",550:"XDC",551:"STR",552:"SUM",553:"HBC",555:"BCS",556:"KTS",557:"LKR",558:"TAO",559:"XWC",560:"DEAL",561:"NTY",562:"TOP",564:"AG",565:"CICO",566:"IRIS",567:"NCG",568:"LRG",569:"SERO",570:"BDX",571:"CCXX",572:"SLS",573:"SRM",575:"VIVT",576:"BPS",577:"NKN",578:"ICL",579:"BONO",580:"PLC",581:"DUN",582:"DMCH",583:"CTC",584:"KELP",585:"GBCR",586:"XDAG",587:"PRV",588:"SCAP",589:"TFUEL",590:"GTM",591:"RNL",592:"GRIN",593:"MWC",594:"DOCK",595:"POLYX",596:"DIVER",597:"XEP",598:"APN",599:"TFC",600:"UTE",601:"MTC",602:"NC",603:"XINY",604:"DYN",605:"BUFS",606:"STOS",607:"TON",608:"TAFT",609:"HYDRA",610:"NOR",613:"WCN",614:"OPT",615:"PSWAP",616:"VAL",617:"XOR",618:"SSP",619:"DEI",621:"ZERO",622:"ALPHA",623:"BDECO",624:"NOBL",625:"EAST",626:"KDA",627:"SOUL",628:"LORE",629:"FNR",630:"NEXUS",631:"QTZ",632:"XMA",633:"CALL",634:"VAL",635:"POKT",636:"EMIT",637:"APTOS",638:"ADON",639:"BTSG",640:"LFC",641:"KCS",642:"KCC",643:"AZERO",644:"TREE",645:"LX",646:"XLN",647:"CIC",648:"ZRB",650:"UCO",651:"SFX",652:"SFT",653:"WSFX",654:"USDG",655:"WMP",659:"KOIN",660:"PIRATE",663:"SFRX",666:"ACT",667:"PRKL",668:"SSC",669:"GC",670:"PLGR",671:"MPLGR",672:"KNOX",673:"ZED",674:"CNDL",675:"WLKR",676:"WLKRR",677:"YUNGE",678:"Voken",679:"APL",680:"Evrynet",681:"NENG",682:"CHTA",685:"OAS",686:"KAR",688:"CET",690:"KLV",694:"VTBC",698:"VEIL",699:"GTB",700:"XDAI",701:"COM",702:"CCC",707:"MCOIN",711:"CHC",712:"SERF",713:"XTL",714:"BNB",715:"SIN",716:"DLN",717:"BONTE",718:"PEER",725:"MCX",730:"HEALIOS",731:"BMK",734:"DENTX",737:"ATOP",747:"CFG",750:"XPRT",757:"HONEY",768:"BALLZ",770:"COSA",771:"BR",775:"PLSR",776:"KEY",777:"BTW",780:"PLCUC",781:"PLCUX",782:"PLCU",784:"SUI",786:"UIDD",787:"ACA",788:"BNC",789:"TAU",799:"PDEX",800:"BEET",801:"DST",804:"ZKS",808:"QVT",809:"SDN",810:"ASTR",813:"MEER",818:"VET",819:"REEF",820:"CLO",822:"BDB",827:"ACE",828:"CCN",831:"CRUZ",832:"SAPP",833:"777",834:"KYAN",835:"AZR",836:"CFL",837:"DASHD",838:"TRTT",839:"UCR",840:"PNY",841:"BECN",842:"MONK",843:"SAGA",844:"SUV",845:"ESK",846:"OWO",847:"PEPS",848:"BIR",849:"MOBIC",850:"FLS",852:"DSM",853:"PRCY",858:"HVH",866:"MOB",868:"IF",877:"NAM",880:"LUM",883:"ZBC",886:"ADF",888:"NEO",889:"TOMO",890:"XSEL",896:"LKSC",898:"AS",899:"XEC",900:"LMO",901:"NXT",904:"HNT",907:"FIS",909:"SGE",911:"GERT",916:"META",917:"FRA",919:"CCD",921:"AVN",925:"DIP",928:"GHM",931:"RUNE",945:"UNLOCK",955:"LTP",960:"VKAX",966:"MATIC",968:"UNW",970:"TWINS",977:"TLOS",981:"TAFECO",985:"AU",987:"VCG",988:"XAZAB",989:"AIOZ",990:"CORE",991:"PEC",992:"UNT",993:"XRB",994:"QUAI",995:"CAPS",996:"OKT",997:"SUM",998:"LBTC",999:"BCD",1e3:"BTN",1001:"TT",1002:"BKT",1003:"NODL",1004:"PCOIN",1005:"TAO",1006:"HSK",1007:"FTM",1008:"RPG",1010:"HT",1011:"ELV",1013:"BIC",1020:"EVC",1022:"XRD",1023:"ONE",1024:"ONT",1025:"CZZ",1026:"KEX",1027:"MCM",1032:"BTCR",1042:"MFID",1111:"BBC",1120:"RISE",1122:"CMT",1128:"ETSC",1129:"DFI",1130:"DFI",1137:"$DAG",1145:"CDY",1155:"EFI",1170:"HOO",1234:"ALPH",1284:"GLMR",1285:"MOVR",1298:"WPC",1308:"WEI",1337:"DFC",1397:"HYC",1410:"TENTSLP",1510:"XSC",1512:"AAC",1533:"BEAM",1555:"APC",1616:"ELF",1618:"AUDL",1620:"ATH",1627:"LUME",1642:"NEW",1657:"BTA",1668:"NEOX",1669:"MEWC",1688:"BCX",1729:"XTZ",1776:"LBTC",1777:"BBP",1784:"JPYS",1789:"VEGA",1815:"ADA",1818:"CUBE",1856:"TES",1888:"ZTX",1899:"XEC",1901:"CLC",1919:"VIPS",1926:"CITY",1955:"XX",1977:"XMX",1984:"TRTL",1985:"SLRT",1986:"QTH",1987:"EGEM",1988:"MIRA",1989:"HODL",1990:"PHL",1991:"SC",1996:"MYT",1997:"POLIS",1998:"XMCC",1999:"COLX",2e3:"GIN",2001:"MNP",2002:"MLN",2017:"KIN",2018:"EOSC",2019:"GBT",2020:"PKC",2021:"SKT",2022:"XHT",2048:"MCASH",2049:"TRUE",2086:"KILT",2109:"SAMA",2112:"IoTE",2137:"XRG",2182:"CHZ",2221:"ASK",2301:"QTUM",2302:"ETP",2303:"GXC",2304:"CRP",2305:"ELA",2338:"SNOW",2365:"XIN",2570:"AOA",2718:"NAS",2894:"REOSC",2941:"BND",3003:"LUX",3030:"HBAR",3077:"COS",3276:"CCC",3333:"SXP",3377:"ROI",3381:"DYN",3383:"SEQ",3552:"DEO",3564:"DST",3601:"CY",4040:"FC8",4096:"YEE",4218:"IOTA",4219:"SMR",4242:"AXE",4343:"XYM",4444:"C4E",4919:"XVM",5006:"SBC",5248:"FIC",5353:"HNS",5404:"ISK",5467:"ALTME",5555:"FUND",5757:"STX",5895:"VOW",5920:"SLU",6060:"GO",6174:"MOI",6599:"RSC",6666:"BPA",6688:"SAFE",6779:"COTI",6969:"ROGER",7091:"TOPL",7331:"KLY",7341:"SHFT",7777:"BTV",8e3:"SKY",8192:"PAC",8217:"KLAY",8339:"BTQ",8444:"XCH",8680:"PLMNT",8888:"SBTC",8964:"NULS",8997:"BBC",8998:"JGC",8999:"BTP",9e3:"AVAX",9001:"ARB1",9002:"BOBA",9003:"LOOP",9004:"STRK",9005:"AVAXC",9006:"BSC",9797:"NRG",9888:"BTF",9999:"GOD",1e4:"FO",10226:"RTM",10291:"XRC",10605:"XPI",11111:"ESS",12345:"IPOS",12586:"MINA",13107:"BTY",13108:"YCC",14001:"WAX",15845:"SDGO",16181:"XTX",16754:"ARDR",18e3:"MTR",19165:"SAFE",19167:"FLUX",19169:"RITO",20036:"XND",21004:"C4EI",21888:"PCT",22504:"PWR",25252:"BELL",25718:"CHX",29223:"NEXA",31102:"ESN",33416:"TEO",33878:"BTCS",34952:"BTT",37992:"FXTC",39321:"AMA",42069:"FACT",43028:"AXIV",49262:"EVE",49344:"STASH",52752:"CELO",61616:"TH",65536:"KETH",69420:"GRLC",70007:"GWL",77777:"ZYN",88888:"RYO",99999:"WICC",100500:"HOME",101010:"STC",105105:"STRAX",111111:"KAS",161803:"APTA",200625:"AKA",200665:"GENOM",246529:"ATS",261131:"ZAMA",314159:"PI",333332:"VALUE",333333:"3333",424242:"X42",534352:"SCR",666666:"VITE",888888:"SEA",1048576:"AMAX",1171337:"ILT",1313114:"ETHO",1313500:"XERO",1712144:"LAX",3924011:"EPK",4741444:"HYD",5249353:"BCO",5249354:"BHD",5264462:"PTN",5655640:"VLX",5718350:"WAN",5741564:"WAVES",5741565:"WEST",6382179:"ABC",6517357:"CRM",7562605:"SEM",7567736:"ION",7777777:"FCT",7825266:"WGR",7825267:"OBSR",8163271:"AFS",15118976:"XDS",61717561:"AQUA",88888888:"HATCH",91927009:"kUSD",99999996:"GENS",99999997:"EQ",99999998:"FLUID",99999999:"QKC",608589380:"FVDC"}[r])!==null&&e!==void 0?e:""}Q2.getCoinSymbol=JX});var d7=b(Kt=>{"use strict";d();h();var l7=Kt&&Kt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),$X=Kt&&Kt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ZX=Kt&&Kt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&l7(e,r,t);return $X(e,r),e},QX=Kt&&Kt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&l7(e,r,t)};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.parsePath=Kt.uuidStringify=Kt.uuidParse=Kt.toBuffer=Kt.toHex=Kt.uuid=void 0;var lI=ZX(Z2());Kt.uuid=lI;QX(cI(),Kt);function eJ(r){return r===void 0?"":m.Buffer.from(r).toString("hex")}Kt.toHex=eJ;function tJ(r){return m.Buffer.from(r!=null?r:"","hex")}Kt.toBuffer=tJ;function rJ(r){return m.Buffer.from(lI.parse(r))}Kt.uuidParse=rJ;function nJ(r){return lI.stringify(r)}Kt.uuidStringify=nJ;function iJ(r){return r.replace(/^m\//i,"").split("/").map(t=>{let n=t.endsWith("'");return{index:Number(n?t.substring(0,t.length-1):t),hardened:n}})}Kt.parsePath=iJ});var tx=b(ex=>{"use strict";d();h();Object.defineProperty(ex,"__esModule",{value:!0});ex.DataItem=void 0;var dI=class{constructor(e,t){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}};ex.DataItem=dI});var p7=b((h7,rx)=>{"use strict";d();h();(function(r,e){typeof define=="function"&&define.amd?define([],e):typeof rx<"u"&&rx.exports?rx.exports=e():r.CBOR=e()})(h7,function(){let{DataItem:r}=tx();var e=function(){function t(c){this.$hex=c}t.prototype={length:function(){return this.$hex.length/2},toString:function(c){if(!c||c==="hex"||c===16)return this.$hex;if(c==="utf-8"){for(var y="",x=0;x<this.$hex.length;x+=2)y+="%"+this.$hex.substring(x,x+2);return decodeURIComponent(y)}if(c==="latin"){for(var y=[],x=0;x<this.$hex.length;x+=2)y.push(parseInt(this.$hex.substring(x,x+2),16));return String.fromCharCode.apply(String,y)}throw new Error("Unrecognised format: "+c)}},t.fromLatinString=function(c){for(var y="",x=0;x<c.length;x++){var M=c.charCodeAt(x).toString(16);M.length===1&&(M="0"+M),y+=M}return new t(y)},t.fromUtf8String=function(c){for(var y=encodeURIComponent(c),x="",M=0;M<y.length;M++)if(y.charAt(M)==="%")x+=y.substring(M+1,M+3),M+=2;else{var L=y.charCodeAt(M).toString(16);L.length<2&&(L="0"+L),x+=L}return new t(x)};var n=[],i={},o=function(c){return function(){throw new Error(c+" not implemented")}};function a(){}a.prototype={peekByte:o("peekByte"),readByte:o("readByte"),readChunk:o("readChunk"),readFloat16:function(){var c=this.readUint16(),y=(c&32767)>>10,x=c&1023,M=c&32768;if(y===31)return x===0?M?-1/0:1/0:NaN;var L=y?Math.pow(2,y-25)*(1024+x):Math.pow(2,-24)*x;return M?-L:L},readFloat32:function(){var c=this.readUint32(),y=(c&2147483647)>>23,x=c&8388607,M=c&2147483648;if(y===255)return x===0?M?-1/0:1/0:NaN;var L=y?Math.pow(2,y-23-127)*(8388608+x):Math.pow(2,-23-126)*x;return M?-L:L},readFloat64:function(){var c=this.readUint32(),y=this.readUint32(),x=c>>20&2047,M=(c&1048575)*4294967296+y,L=c&2147483648;if(x===2047)return M===0?L?-1/0:1/0:NaN;var ce=x?Math.pow(2,x-52-1023)*(4503599627370496+M):Math.pow(2,-52-1022)*M;return L?-ce:ce},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:o("writeByte"),result:o("result"),writeFloat16:o("writeFloat16"),writeFloat32:o("writeFloat32"),writeFloat64:o("writeFloat64"),writeUint16:function(c){this.writeByte(c>>8&255),this.writeByte(c&255)},writeUint32:function(c){this.writeUint16(c>>16&65535),this.writeUint16(c&65535)},writeUint64:function(c){if(c>=9007199254740992||c<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+c+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(c/4294967296)),this.writeUint32(c%4294967296)},writeString:o("writeString"),canWriteBinary:function(c){return!1},writeBinary:o("writeChunk")};function u(c){var y=c.readByte(),x=y>>5,M=y&31;return{type:x,value:M}}function f(c,y){var x=c.value;if(x<24)return x;if(x==24)return y.readByte();if(x==25)return y.readUint16();if(x==26)return y.readUint32();if(x==27)return y.readUint64();if(x==31)return null;o("Additional info: "+x)()}function l(c,y,x){x.writeByte(c<<5|y)}function p(c,y,x){var M=c<<5;y<24?x.writeByte(M|y):y<256?(x.writeByte(M|24),x.writeByte(y)):y<65536?(x.writeByte(M|25),x.writeUint16(y)):y<4294967296?(x.writeByte(M|26),x.writeUint32(y)):(x.writeByte(M|27),x.writeUint64(y))}var g=new Error;function v(c){var y=u(c);switch(y.type){case 0:return f(y,c);case 1:return-1-f(y,c);case 2:return c.readChunk(f(y,c));case 3:var x=c.readChunk(f(y,c));return x.toString("utf-8");case 4:case 5:var M=f(y,c),B=[];if(M!==null){y.type===5&&(M*=2);for(var L=0;L<M;L++)B[L]=v(c)}else for(var ce;(ce=v(c))!==g;)B.push(ce);if(y.type===5){for(var q={},L=0;L<B.length;L+=2)q[B[L]]=B[L+1];return q}else return B;case 6:var w=f(y,c),S=i[w],B=v(c);return S?S(B):B;case 7:if(y.value===25)return c.readFloat16();if(y.value===26)return c.readFloat32();if(y.value===27)return c.readFloat64();switch(f(y,c)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+y.value)}default:throw new Error("Unsupported header: "+JSON.stringify(y))}throw new Error("not implemented yet")}function _(c,y){for(var x=0;x<n.length;x++){var M=n[x].fn(c);if(M!==void 0)return p(6,n[x].tag,y),_(M,y)}if(c&&typeof c.toCBOR=="function"&&(c=c.toCBOR()),c===!1)p(7,20,y);else if(c===!0)p(7,21,y);else if(c===null)p(7,22,y);else if(c===void 0)p(7,23,y);else if(typeof c=="number")Math.floor(c)===c&&c<9007199254740992&&c>-9007199254740992?c<0?p(1,-1-c,y):p(0,c,y):(l(7,27,y),y.writeFloat64(c));else if(typeof c=="string")y.writeString(c,function(ce){p(3,ce,y)});else if(y.canWriteBinary(c))y.writeBinary(c,function(ce){p(2,ce,y)});else if(typeof c=="object")if(R.config.useToJSON&&typeof c.toJSON=="function"&&(c=c.toJSON()),Array.isArray(c)){p(4,c.length,y);for(var x=0;x<c.length;x++)_(c[x],y)}else{var L=Object.keys(c);p(5,L.length,y);for(var x=0;x<L.length;x++){let q=parseInt(L[x]);isNaN(q)?(_(L[x],y),_(c[L[x]],y)):(_(q,y),_(c[L[x]],y))}}else throw new Error("CBOR encoding not supported: "+c)}var T=[],O=[],R={config:{useToJSON:!0},addWriter:function(c,y){typeof c=="string"?O.push(function(x){if(c===x)return y(x)}):O.push(c)},addReader:function(c,y){typeof c=="string"?T.push(function(x,M){if(c===M)return y(x,M)}):T.push(c)},encode:function(c,y){for(var x=0;x<O.length;x++){var M=O[x],L=M(y);if(L)return _(c,L),L.result()}throw new Error("Unsupported output format: "+y)},encodeDataItem:function(c,y){for(var x=0;x<O.length;x++){var M=O[x],L=M(y);if(L)return c.getTag()!==void 0?(_(c,L),L.result()):(_(c.getData(),L),L.result())}throw new Error("Unsupported output format: "+y)},decode:function(c,y){for(var x=0;x<T.length;x++){var M=T[x],L=M(c,y);if(L)return v(L)}throw new Error("Unsupported input format: "+y)},decodeToDataItem:function(c,y){for(var x=0;x<T.length;x++){var M=T[x],L=M(c,y);if(L){let ce=v(L);return ce instanceof r?ce:new r(ce)}}throw new Error("Unsupported input format: "+y)},addSemanticEncode:function(c,y){if(typeof c!="number"||c%1!==0||c<0)throw new Error("Tag must be a positive integer");return n.push({tag:c,fn:y}),this},addSemanticDecode:function(c,y){if(typeof c!="number"||c%1!==0||c<0)throw new Error("Tag must be a positive integer");return i[c]=y,this}};function D(c){this.buffer=c,this.pos=0}D.prototype=Object.create(a.prototype),D.prototype.peekByte=function(){return this.buffer[this.pos]},D.prototype.readByte=function(){return this.buffer[this.pos++]},D.prototype.readUint16=function(){var c=this.buffer.readUInt16BE(this.pos);return this.pos+=2,c},D.prototype.readUint32=function(){var c=this.buffer.readUInt32BE(this.pos);return this.pos+=4,c},D.prototype.readFloat32=function(){var c=this.buffer.readFloatBE(this.pos);return this.pos+=4,c},D.prototype.readFloat64=function(){var c=this.buffer.readDoubleBE(this.pos);return this.pos+=8,c},D.prototype.readChunk=function(c){var y=m.Buffer.alloc(c);return this.buffer.copy(y,0,this.pos,this.pos+=c),y};function U(c){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=c}U.prototype=Object.create(s.prototype),U.prototype.writeByte=function(c){this.latestBuffer[this.latestBufferOffset++]=c,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},U.prototype.writeFloat32=function(c){var y=m.Buffer.alloc(4);y.writeFloatBE(c,0),this.writeBuffer(y)},U.prototype.writeFloat64=function(c){var y=m.Buffer.alloc(8);y.writeDoubleBE(c,0),this.writeBuffer(y)},U.prototype.writeString=function(c,y){var x=m.Buffer.from(c,"utf-8");y(x.length),this.writeBuffer(x)},U.prototype.canWriteBinary=function(c){return c instanceof m.Buffer},U.prototype.writeBinary=function(c,y){y(c.length),this.writeBuffer(c)},U.prototype.writeBuffer=function(c){if(!(c instanceof m.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=c.length?(c.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=c.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(c),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(c),this.byteLength+=c.length},U.prototype.result=function(){for(var c=m.Buffer.alloc(this.byteLength),y=0,x=0;x<this.completeBuffers.length;x++){var M=this.completeBuffers[x];M.copy(c,y,0,M.length),y+=M.length}return this.latestBufferOffset&&this.latestBuffer.copy(c,y,0,this.latestBufferOffset),this.stringFormat?c.toString(this.stringFormat):c},typeof m.Buffer=="function"&&(R.addReader(function(c,y){if(m.Buffer.isBuffer(c))return new D(c);if(y==="hex"||y==="base64"){var x=m.Buffer.from(c,y);return new D(x)}}),R.addWriter(function(c){if(!c||c==="buffer")return new U;if(c==="hex"||c==="base64")return new U(c)}));function K(c){this.hex=c,this.pos=0}K.prototype=Object.create(a.prototype),K.prototype.peekByte=function(){var c=this.hex.substring(this.pos,2);return parseInt(c,16)},K.prototype.readByte=function(){var c=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(c,16)},K.prototype.readChunk=function(c){var y=this.hex.substring(this.pos,this.pos+c*2);return this.pos+=c*2,typeof m.Buffer=="function"?m.Buffer.from(y,"hex"):new t(y)};function A(c){this.$hex="",this.finalFormat=c||"hex"}return A.prototype=Object.create(s.prototype),A.prototype.writeByte=function(c){if(c<0||c>255)throw new Error("Byte value out of range: "+c);var y=c.toString(16);y.length==1&&(y="0"+y),this.$hex+=y},A.prototype.canWriteBinary=function(c){return c instanceof t||typeof m.Buffer=="function"&&c instanceof m.Buffer},A.prototype.writeBinary=function(c,y){if(c instanceof t)y(c.length()),this.$hex+=c.$hex;else if(typeof m.Buffer=="function"&&c instanceof m.Buffer)y(c.length),this.$hex+=c.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},A.prototype.result=function(){return this.finalFormat==="buffer"&&typeof m.Buffer=="function"?m.Buffer.from(this.$hex,"hex"):new t(this.$hex).toString(this.finalFormat)},A.prototype.writeString=function(c,y){var x=t.fromUtf8String(c);y(x.length()),this.$hex+=x.$hex},R.addReader(function(c,y){if(c instanceof t||c.$hex)return new K(c.$hex);if(y==="hex")return new K(c)}),R.addWriter(function(c){if(c==="hex")return new A}),R}();return e.addSemanticEncode(0,function(t){if(t instanceof Date)return t.toISOString()}).addSemanticDecode(0,function(t){return new Date(t)}).addSemanticDecode(1,function(t){return new Date(t)}),e})});var Hr=b(Rn=>{"use strict";d();h();Object.defineProperty(Rn,"__esModule",{value:!0});Rn.DataItem=Rn.addWriter=Rn.addReader=Rn.addSemanticEncode=Rn.addSemanticDecode=Rn.decodeToDataItem=Rn.encodeDataItem=void 0;var Gh=p7();Object.defineProperty(Rn,"encodeDataItem",{enumerable:!0,get:function(){return Gh.encodeDataItem}});Object.defineProperty(Rn,"decodeToDataItem",{enumerable:!0,get:function(){return Gh.decodeToDataItem}});Object.defineProperty(Rn,"addSemanticDecode",{enumerable:!0,get:function(){return Gh.addSemanticDecode}});Object.defineProperty(Rn,"addSemanticEncode",{enumerable:!0,get:function(){return Gh.addSemanticEncode}});Object.defineProperty(Rn,"addReader",{enumerable:!0,get:function(){return Gh.addReader}});Object.defineProperty(Rn,"addWriter",{enumerable:!0,get:function(){return Gh.addWriter}});var oJ=tx();Object.defineProperty(Rn,"DataItem",{enumerable:!0,get:function(){return oJ.DataItem}})});var ox=b(ix=>{"use strict";d();h();Object.defineProperty(ix,"__esModule",{value:!0});ix.patchTags=void 0;var nx=Hr(),g7=[],aJ=r=>{r.forEach(e=>{g7.find(t=>t===e)||((0,nx.addSemanticEncode)(e,t=>{if(t instanceof nx.DataItem&&t.getTag()===e)return t.getData()}),(0,nx.addSemanticDecode)(e,t=>new nx.DataItem(t,e)),g7.push(e))})};ix.patchTags=aJ});var Kr=b(Yh=>{"use strict";d();h();Object.defineProperty(Yh,"__esModule",{value:!0});Yh.RegistryTypes=Yh.RegistryType=void 0;var Pn=class{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}};Yh.RegistryType=Pn;Yh.RegistryTypes={UUID:new Pn("uuid",37),BYTES:new Pn("bytes",void 0),CRYPTO_HDKEY:new Pn("crypto-hdkey",303),CRYPTO_KEYPATH:new Pn("crypto-keypath",304),CRYPTO_COIN_INFO:new Pn("crypto-coin-info",305),CRYPTO_ECKEY:new Pn("crypto-eckey",306),CRYPTO_OUTPUT:new Pn("crypto-output",308),CRYPTO_PSBT:new Pn("crypto-psbt",310),CRYPTO_ACCOUNT:new Pn("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new Pn("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new Pn("qr-hardware-call",1201),KEY_DERIVATION_CALL:new Pn("key-derivation-call",1301),KEY_DERIVATION_SCHEMA:new Pn("key-derivation-schema",1302)}});var ax=b(hl=>{"use strict";d();h();Object.defineProperty(hl,"__esModule",{value:!0});hl.ScriptExpressions=hl.ScriptExpression=void 0;var oo=class{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};hl.ScriptExpression=oo;oo.fromTag=r=>Object.values(hl.ScriptExpressions).find(t=>t.getTag()===r);hl.ScriptExpressions={SCRIPT_HASH:new oo(400,"sh"),WITNESS_SCRIPT_HASH:new oo(401,"wsh"),PUBLIC_KEY:new oo(402,"pk"),PUBLIC_KEY_HASH:new oo(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new oo(404,"wpkh"),COMBO:new oo(405,"combo"),MULTISIG:new oo(406,"multi"),SORTED_MULTISIG:new oo(407,"sortedmulti"),ADDRESS:new oo(307,"addr"),RAW_SCRIPT:new oo(408,"raw")}});var hI=b(y7=>{"use strict";d();h();Object.defineProperty(y7,"__esModule",{value:!0});var sJ=ox(),uJ=Kr(),fJ=ax(),cJ=Object.values(uJ.RegistryTypes).filter(r=>!!r.getTag()).map(r=>r.getTag()),lJ=Object.values(fJ.ScriptExpressions).map(r=>r.getTag());(0,sJ.patchTags)(cJ.concat(lJ))});var gI=b(pI=>{d();h();pI.read=function(r,e,t,n,i){var o,a,s=i*8-n-1,u=(1<<s)-1,f=u>>1,l=-7,p=t?i-1:0,g=t?-1:1,v=r[e+p];for(p+=g,o=v&(1<<-l)-1,v>>=-l,l+=s;l>0;o=o*256+r[e+p],p+=g,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=a*256+r[e+p],p+=g,l-=8);if(o===0)o=1-f;else{if(o===u)return a?NaN:(v?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-f}return(v?-1:1)*a*Math.pow(2,o-n)};pI.write=function(r,e,t,n,i,o){var a,s,u,f=o*8-i-1,l=(1<<f)-1,p=l>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:o-1,_=n?1:-1,T=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+p>=1?e+=g/u:e+=g*Math.pow(2,1-p),e*u>=2&&(a++,u/=2),a+p>=l?(s=0,a=l):a+p>=1?(s=(e*u-1)*Math.pow(2,i),a=a+p):(s=e*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;r[t+v]=s&255,v+=_,s/=256,i-=8);for(a=a<<i|s,f+=i;f>0;r[t+v]=a&255,v+=_,a/=256,f-=8);r[t+v-_]|=T*128}});var Xh=b(Wh=>{"use strict";d();h();var yI=UR(),zh=gI(),m7=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Wh.Buffer=he;Wh.SlowBuffer=mJ;Wh.INSPECT_MAX_BYTES=50;var sx=2147483647;Wh.kMaxLength=sx;he.TYPED_ARRAY_SUPPORT=dJ();!he.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function dJ(){try{var r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(he.prototype,"parent",{enumerable:!0,get:function(){if(!!he.isBuffer(this))return this.buffer}});Object.defineProperty(he.prototype,"offset",{enumerable:!0,get:function(){if(!!he.isBuffer(this))return this.byteOffset}});function cf(r){if(r>sx)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,he.prototype),e}function he(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _I(r)}return _7(r,e,t)}he.poolSize=8192;function _7(r,e,t){if(typeof r=="string")return pJ(r,e);if(ArrayBuffer.isView(r))return gJ(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(au(r,ArrayBuffer)||r&&au(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(au(r,SharedArrayBuffer)||r&&au(r.buffer,SharedArrayBuffer)))return vI(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return he.from(n,e,t);var i=yJ(r);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return he.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}he.from=function(r,e,t){return _7(r,e,t)};Object.setPrototypeOf(he.prototype,Uint8Array.prototype);Object.setPrototypeOf(he,Uint8Array);function w7(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function hJ(r,e,t){return w7(r),r<=0?cf(r):e!==void 0?typeof t=="string"?cf(r).fill(e,t):cf(r).fill(e):cf(r)}he.alloc=function(r,e,t){return hJ(r,e,t)};function _I(r){return w7(r),cf(r<0?0:wI(r)|0)}he.allocUnsafe=function(r){return _I(r)};he.allocUnsafeSlow=function(r){return _I(r)};function pJ(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!he.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var t=E7(r,e)|0,n=cf(t),i=n.write(r,e);return i!==t&&(n=n.slice(0,i)),n}function mI(r){for(var e=r.length<0?0:wI(r.length)|0,t=cf(e),n=0;n<e;n+=1)t[n]=r[n]&255;return t}function gJ(r){if(au(r,Uint8Array)){var e=new Uint8Array(r);return vI(e.buffer,e.byteOffset,e.byteLength)}return mI(r)}function vI(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var n;return e===void 0&&t===void 0?n=new Uint8Array(r):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(n,he.prototype),n}function yJ(r){if(he.isBuffer(r)){var e=wI(r.length)|0,t=cf(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||EI(r.length)?cf(0):mI(r);if(r.type==="Buffer"&&Array.isArray(r.data))return mI(r.data)}function wI(r){if(r>=sx)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+sx.toString(16)+" bytes");return r|0}function mJ(r){return+r!=r&&(r=0),he.alloc(+r)}he.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==he.prototype};he.compare=function(e,t){if(au(e,Uint8Array)&&(e=he.from(e,e.offset,e.byteLength)),au(t,Uint8Array)&&(t=he.from(t,t.offset,t.byteLength)),!he.isBuffer(e)||!he.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,i=t.length,o=0,a=Math.min(n,i);o<a;++o)if(e[o]!==t[o]){n=e[o],i=t[o];break}return n<i?-1:i<n?1:0};he.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};he.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return he.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=he.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(au(a,Uint8Array))o+a.length>i.length?he.from(a).copy(i,o):Uint8Array.prototype.set.call(i,a,o);else if(he.isBuffer(a))a.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=a.length}return i};function E7(r,e){if(he.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||au(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return xI(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return A7(r).length;default:if(i)return n?-1:xI(r).length;e=(""+e).toLowerCase(),i=!0}}he.byteLength=E7;function vJ(r,e,t){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return AJ(this,e,t);case"utf8":case"utf-8":return I7(this,e,t);case"ascii":return SJ(this,e,t);case"latin1":case"binary":return CJ(this,e,t);case"base64":return IJ(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return OJ(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}he.prototype._isBuffer=!0;function pl(r,e,t){var n=r[e];r[e]=r[t],r[t]=n}he.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)pl(this,t,t+1);return this};he.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)pl(this,t,t+3),pl(this,t+1,t+2);return this};he.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)pl(this,t,t+7),pl(this,t+1,t+6),pl(this,t+2,t+5),pl(this,t+3,t+4);return this};he.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?I7(this,0,e):vJ.apply(this,arguments)};he.prototype.toLocaleString=he.prototype.toString;he.prototype.equals=function(e){if(!he.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:he.compare(this,e)===0};he.prototype.inspect=function(){var e="",t=Wh.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};m7&&(he.prototype[m7]=he.prototype.inspect);he.prototype.compare=function(e,t,n,i,o){if(au(e,Uint8Array)&&(e=he.from(e,e.offset,e.byteLength)),!he.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),t<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&t>=n)return 0;if(i>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var a=o-i,s=n-t,u=Math.min(a,s),f=this.slice(i,o),l=e.slice(t,n),p=0;p<u;++p)if(f[p]!==l[p]){a=f[p],s=l[p];break}return a<s?-1:s<a?1:0};function b7(r,e,t,n,i){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,EI(t)&&(t=i?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(i)return-1;t=r.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e=="string"&&(e=he.from(e,n)),he.isBuffer(e))return e.length===0?-1:v7(r,e,t,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):v7(r,[e],t,n,i);throw new TypeError("val must be string, number or Buffer")}function v7(r,e,t,n,i){var o=1,a=r.length,s=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;o=2,a/=2,s/=2,t/=2}function u(v,_){return o===1?v[_]:v.readUInt16BE(_*o)}var f;if(i){var l=-1;for(f=t;f<a;f++)if(u(r,f)===u(e,l===-1?0:f-l)){if(l===-1&&(l=f),f-l+1===s)return l*o}else l!==-1&&(f-=f-l),l=-1}else for(t+s>a&&(t=a-s),f=t;f>=0;f--){for(var p=!0,g=0;g<s;g++)if(u(r,f+g)!==u(e,g)){p=!1;break}if(p)return f}return-1}he.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};he.prototype.indexOf=function(e,t,n){return b7(this,e,t,n,!0)};he.prototype.lastIndexOf=function(e,t,n){return b7(this,e,t,n,!1)};function xJ(r,e,t,n){t=Number(t)||0;var i=r.length-t;n?(n=Number(n),n>i&&(n=i)):n=i;var o=e.length;n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(a*2,2),16);if(EI(s))return a;r[t+a]=s}return a}function _J(r,e,t,n){return ux(xI(e,r.length-t),r,t,n)}function wJ(r,e,t,n){return ux(PJ(e),r,t,n)}function EJ(r,e,t,n){return ux(A7(e),r,t,n)}function bJ(r,e,t,n){return ux(BJ(e,r.length-t),r,t,n)}he.prototype.write=function(e,t,n,i){if(t===void 0)i="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")i=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-t;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return xJ(this,e,t,n);case"utf8":case"utf-8":return _J(this,e,t,n);case"ascii":case"latin1":case"binary":return wJ(this,e,t,n);case"base64":return EJ(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return bJ(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}};he.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function IJ(r,e,t){return e===0&&t===r.length?yI.fromByteArray(r):yI.fromByteArray(r.slice(e,t))}function I7(r,e,t){t=Math.min(r.length,t);for(var n=[],i=e;i<t;){var o=r[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=t){var u,f,l,p;switch(s){case 1:o<128&&(a=o);break;case 2:u=r[i+1],(u&192)===128&&(p=(o&31)<<6|u&63,p>127&&(a=p));break;case 3:u=r[i+1],f=r[i+2],(u&192)===128&&(f&192)===128&&(p=(o&15)<<12|(u&63)<<6|f&63,p>2047&&(p<55296||p>57343)&&(a=p));break;case 4:u=r[i+1],f=r[i+2],l=r[i+3],(u&192)===128&&(f&192)===128&&(l&192)===128&&(p=(o&15)<<18|(u&63)<<12|(f&63)<<6|l&63,p>65535&&p<1114112&&(a=p))}}a===null?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=s}return TJ(n)}var x7=4096;function TJ(r){var e=r.length;if(e<=x7)return String.fromCharCode.apply(String,r);for(var t="",n=0;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=x7));return t}function SJ(r,e,t){var n="";t=Math.min(r.length,t);for(var i=e;i<t;++i)n+=String.fromCharCode(r[i]&127);return n}function CJ(r,e,t){var n="";t=Math.min(r.length,t);for(var i=e;i<t;++i)n+=String.fromCharCode(r[i]);return n}function AJ(r,e,t){var n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);for(var i="",o=e;o<t;++o)i+=NJ[r[o]];return i}function OJ(r,e,t){for(var n=r.slice(e,t),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}he.prototype.slice=function(e,t){var n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var i=this.subarray(e,t);return Object.setPrototypeOf(i,he.prototype),i};function Vr(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}he.prototype.readUintLE=he.prototype.readUIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Vr(e,t,this.length);for(var i=this[e],o=1,a=0;++a<t&&(o*=256);)i+=this[e+a]*o;return i};he.prototype.readUintBE=he.prototype.readUIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Vr(e,t,this.length);for(var i=this[e+--t],o=1;t>0&&(o*=256);)i+=this[e+--t]*o;return i};he.prototype.readUint8=he.prototype.readUInt8=function(e,t){return e=e>>>0,t||Vr(e,1,this.length),this[e]};he.prototype.readUint16LE=he.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Vr(e,2,this.length),this[e]|this[e+1]<<8};he.prototype.readUint16BE=he.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Vr(e,2,this.length),this[e]<<8|this[e+1]};he.prototype.readUint32LE=he.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Vr(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};he.prototype.readUint32BE=he.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Vr(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};he.prototype.readIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Vr(e,t,this.length);for(var i=this[e],o=1,a=0;++a<t&&(o*=256);)i+=this[e+a]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i};he.prototype.readIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Vr(e,t,this.length);for(var i=t,o=1,a=this[e+--i];i>0&&(o*=256);)a+=this[e+--i]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*t)),a};he.prototype.readInt8=function(e,t){return e=e>>>0,t||Vr(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};he.prototype.readInt16LE=function(e,t){e=e>>>0,t||Vr(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};he.prototype.readInt16BE=function(e,t){e=e>>>0,t||Vr(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};he.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Vr(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};he.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Vr(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};he.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Vr(e,4,this.length),zh.read(this,e,!0,23,4)};he.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Vr(e,4,this.length),zh.read(this,e,!1,23,4)};he.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Vr(e,8,this.length),zh.read(this,e,!0,52,8)};he.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Vr(e,8,this.length),zh.read(this,e,!1,52,8)};function ao(r,e,t,n,i,o){if(!he.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}he.prototype.writeUintLE=he.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){var o=Math.pow(2,8*n)-1;ao(this,e,t,n,o,0)}var a=1,s=0;for(this[t]=e&255;++s<n&&(a*=256);)this[t+s]=e/a&255;return t+n};he.prototype.writeUintBE=he.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){var o=Math.pow(2,8*n)-1;ao(this,e,t,n,o,0)}var a=n-1,s=1;for(this[t+a]=e&255;--a>=0&&(s*=256);)this[t+a]=e/s&255;return t+n};he.prototype.writeUint8=he.prototype.writeUInt8=function(e,t,n){return e=+e,t=t>>>0,n||ao(this,e,t,1,255,0),this[t]=e&255,t+1};he.prototype.writeUint16LE=he.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||ao(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};he.prototype.writeUint16BE=he.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||ao(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};he.prototype.writeUint32LE=he.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||ao(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};he.prototype.writeUint32BE=he.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||ao(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};he.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){var o=Math.pow(2,8*n-1);ao(this,e,t,n,o-1,-o)}var a=0,s=1,u=0;for(this[t]=e&255;++a<n&&(s*=256);)e<0&&u===0&&this[t+a-1]!==0&&(u=1),this[t+a]=(e/s>>0)-u&255;return t+n};he.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){var o=Math.pow(2,8*n-1);ao(this,e,t,n,o-1,-o)}var a=n-1,s=1,u=0;for(this[t+a]=e&255;--a>=0&&(s*=256);)e<0&&u===0&&this[t+a+1]!==0&&(u=1),this[t+a]=(e/s>>0)-u&255;return t+n};he.prototype.writeInt8=function(e,t,n){return e=+e,t=t>>>0,n||ao(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};he.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||ao(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};he.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||ao(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};he.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||ao(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};he.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||ao(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function T7(r,e,t,n,i,o){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function S7(r,e,t,n,i){return e=+e,t=t>>>0,i||T7(r,e,t,4,34028234663852886e22,-34028234663852886e22),zh.write(r,e,t,n,23,4),t+4}he.prototype.writeFloatLE=function(e,t,n){return S7(this,e,t,!0,n)};he.prototype.writeFloatBE=function(e,t,n){return S7(this,e,t,!1,n)};function C7(r,e,t,n,i){return e=+e,t=t>>>0,i||T7(r,e,t,8,17976931348623157e292,-17976931348623157e292),zh.write(r,e,t,n,52,8),t+8}he.prototype.writeDoubleLE=function(e,t,n){return C7(this,e,t,!0,n)};he.prototype.writeDoubleBE=function(e,t,n){return C7(this,e,t,!1,n)};he.prototype.copy=function(e,t,n,i){if(!he.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),t),o};he.prototype.fill=function(e,t,n,i){if(typeof e=="string"){if(typeof t=="string"?(i=t,t=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!he.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){var o=e.charCodeAt(0);(i==="utf8"&&o<128||i==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var a;if(typeof e=="number")for(a=t;a<n;++a)this[a]=e;else{var s=he.isBuffer(e)?e:he.from(e,i),u=s.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=s[a%u]}return this};var DJ=/[^+/0-9A-Za-z-_]/g;function RJ(r){if(r=r.split("=")[0],r=r.trim().replace(DJ,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function xI(r,e){e=e||1/0;for(var t,n=r.length,i=null,o=[],a=0;a<n;++a){if(t=r.charCodeAt(a),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&o.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;o.push(t)}else if(t<2048){if((e-=2)<0)break;o.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;o.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return o}function PJ(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function BJ(r,e){for(var t,n,i,o=[],a=0;a<r.length&&!((e-=2)<0);++a)t=r.charCodeAt(a),n=t>>8,i=t%256,o.push(i),o.push(n);return o}function A7(r){return yI.toByteArray(RJ(r))}function ux(r,e,t,n){for(var i=0;i<n&&!(i+t>=e.length||i>=r.length);++i)e[i+t]=r[i];return i}function au(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function EI(r){return r!==r}var NJ=function(){for(var r="0123456789abcdef",e=new Array(256),t=0;t<16;++t)for(var n=t*16,i=0;i<16;++i)e[n+i]=r[t]+r[i];return e}()});var D7=b((TTe,O7)=>{"use strict";d();h();var fx=F2().Buffer;function MJ(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=n}var a=r.length,s=r.charAt(0),u=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(v){if((Array.isArray(v)||v instanceof Uint8Array)&&(v=fx.from(v)),!fx.isBuffer(v))throw new TypeError("Expected Buffer");if(v.length===0)return"";for(var _=0,T=0,O=0,R=v.length;O!==R&&v[O]===0;)O++,_++;for(var D=(R-O)*f+1>>>0,U=new Uint8Array(D);O!==R;){for(var K=v[O],A=0,c=D-1;(K!==0||A<T)&&c!==-1;c--,A++)K+=256*U[c]>>>0,U[c]=K%a>>>0,K=K/a>>>0;if(K!==0)throw new Error("Non-zero carry");T=A,O++}for(var y=D-T;y!==D&&U[y]===0;)y++;for(var x=s.repeat(_);y<D;++y)x+=r.charAt(U[y]);return x}function p(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return fx.alloc(0);var _=0;if(v[_]!==" "){for(var T=0,O=0;v[_]===s;)T++,_++;for(var R=(v.length-_)*u+1>>>0,D=new Uint8Array(R);v[_];){var U=e[v.charCodeAt(_)];if(U===255)return;for(var K=0,A=R-1;(U!==0||K<O)&&A!==-1;A--,K++)U+=a*D[A]>>>0,D[A]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");O=K,_++}if(v[_]!==" "){for(var c=R-O;c!==R&&D[c]===0;)c++;var y=fx.allocUnsafe(T+(R-c));y.fill(0,0,T);for(var x=T;c!==R;)y[x++]=D[c++];return y}}}function g(v){var _=p(v);if(_)return _;throw new Error("Non-base"+a+" character")}return{encode:l,decodeUnsafe:p,decode:g}}O7.exports=MJ});var P7=b((ATe,R7)=>{d();h();var qJ=D7(),FJ="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";R7.exports=qJ(FJ)});var N7=b((RTe,B7)=>{"use strict";d();h();var bI=P7(),UJ=F2().Buffer;B7.exports=function(r){function e(o){var a=r(o);return bI.encode(UJ.concat([o,a],o.length+4))}function t(o){var a=o.slice(0,-4),s=o.slice(-4),u=r(a);if(!(s[0]^u[0]|s[1]^u[1]|s[2]^u[2]|s[3]^u[3]))return a}function n(o){var a=bI.decodeUnsafe(o);if(!!a)return t(a)}function i(o){var a=bI.decode(o),s=t(a,r);if(!s)throw new Error("Invalid checksum");return s}return{encode:e,decode:i,decodeUnsafe:n}}});var F7=b((NTe,q7)=>{"use strict";d();h();var M7=Jb(),LJ=N7();function kJ(r){var e=M7("sha256").update(r).digest();return M7("sha256").update(e).digest()}q7.exports=LJ(kJ)});var cx=b(ra=>{"use strict";d();h();Object.defineProperty(ra,"__esModule",{value:!0});ra.InvalidChecksumError=ra.InvalidSequenceComponentError=ra.InvalidTypeError=ra.InvalidPathLengthError=ra.InvalidSchemeError=void 0;var II=class extends Error{constructor(){super("Invalid Scheme"),this.name="InvalidSchemeError"}};ra.InvalidSchemeError=II;var TI=class extends Error{constructor(){super("Invalid Path"),this.name="InvalidPathLengthError"}};ra.InvalidPathLengthError=TI;var SI=class extends Error{constructor(){super("Invalid Type"),this.name="InvalidTypeError"}};ra.InvalidTypeError=SI;var CI=class extends Error{constructor(){super("Invalid Sequence Component"),this.name="InvalidSequenceComponentError"}};ra.InvalidSequenceComponentError=CI;var AI=class extends Error{constructor(){super("Invalid Checksum"),this.name="InvalidChecksumError"}};ra.InvalidChecksumError=AI});var na=b(OI=>{"use strict";d();h();Object.defineProperty(OI,"__esModule",{value:!0});var Jh=no(),jJ=Jh.Buffer.from&&Jh.Buffer.alloc&&Jh.Buffer.allocUnsafe&&Jh.Buffer.allocUnsafeSlow?Jh.Buffer.from:function(r){return new Jh.Buffer(r)};OI.default=jJ});var ia=b(DI=>{"use strict";d();h();Object.defineProperty(DI,"__esModule",{value:!0});DI.default=function(r,e){var t=function(i,o){return e(i,o)>>>0};return t.signed=e,t.unsigned=t,t.model=r,t}});var L7=b(RI=>{"use strict";d();h();Object.defineProperty(RI,"__esModule",{value:!0});var HJ=no(),KJ=na(),VJ=U7(KJ),GJ=ia(),YJ=U7(GJ);function U7(r){return r&&r.__esModule?r:{default:r}}var zJ=(0,YJ.default)("crc1",function(r,e){HJ.Buffer.isBuffer(r)||(r=(0,VJ.default)(r));for(var t=~~e,n=0,i=0;i<r.length;i++){var o=r[i];n+=o}return t+=n%256,t%256});RI.default=zJ});var j7=b((XTe,k7)=>{"use strict";d();h();k7.exports=L7().default});var K7=b(BI=>{"use strict";d();h();Object.defineProperty(BI,"__esModule",{value:!0});var WJ=no(),XJ=na(),JJ=H7(XJ),$J=ia(),ZJ=H7($J);function H7(r){return r&&r.__esModule?r:{default:r}}var PI=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];typeof Int32Array<"u"&&(PI=new Int32Array(PI));var QJ=(0,ZJ.default)("crc-8",function(r,e){WJ.Buffer.isBuffer(r)||(r=(0,JJ.default)(r));for(var t=~~e,n=0;n<r.length;n++){var i=r[n];t=PI[(t^i)&255]&255}return t});BI.default=QJ});var G7=b((tSe,V7)=>{"use strict";d();h();V7.exports=K7().default});var z7=b(MI=>{"use strict";d();h();Object.defineProperty(MI,"__esModule",{value:!0});var e$=no(),t$=na(),r$=Y7(t$),n$=ia(),i$=Y7(n$);function Y7(r){return r&&r.__esModule?r:{default:r}}var NI=[0,94,188,226,97,63,221,131,194,156,126,32,163,253,31,65,157,195,33,127,252,162,64,30,95,1,227,189,62,96,130,220,35,125,159,193,66,28,254,160,225,191,93,3,128,222,60,98,190,224,2,92,223,129,99,61,124,34,192,158,29,67,161,255,70,24,250,164,39,121,155,197,132,218,56,102,229,187,89,7,219,133,103,57,186,228,6,88,25,71,165,251,120,38,196,154,101,59,217,135,4,90,184,230,167,249,27,69,198,152,122,36,248,166,68,26,153,199,37,123,58,100,134,216,91,5,231,185,140,210,48,110,237,179,81,15,78,16,242,172,47,113,147,205,17,79,173,243,112,46,204,146,211,141,111,49,178,236,14,80,175,241,19,77,206,144,114,44,109,51,209,143,12,82,176,238,50,108,142,208,83,13,239,177,240,174,76,18,145,207,45,115,202,148,118,40,171,245,23,73,8,86,180,234,105,55,213,139,87,9,235,181,54,104,138,212,149,203,41,119,244,170,72,22,233,183,85,11,136,214,52,106,43,117,151,201,74,20,246,168,116,42,200,150,21,75,169,247,182,232,10,84,215,137,107,53];typeof Int32Array<"u"&&(NI=new Int32Array(NI));var o$=(0,i$.default)("dallas-1-wire",function(r,e){e$.Buffer.isBuffer(r)||(r=(0,r$.default)(r));for(var t=~~e,n=0;n<r.length;n++){var i=r[n];t=NI[(t^i)&255]&255}return t});MI.default=o$});var X7=b((sSe,W7)=>{"use strict";d();h();W7.exports=z7().default});var $7=b(FI=>{"use strict";d();h();Object.defineProperty(FI,"__esModule",{value:!0});var a$=no(),s$=na(),u$=J7(s$),f$=ia(),c$=J7(f$);function J7(r){return r&&r.__esModule?r:{default:r}}var qI=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];typeof Int32Array<"u"&&(qI=new Int32Array(qI));var l$=(0,c$.default)("crc-16",function(r,e){a$.Buffer.isBuffer(r)||(r=(0,u$.default)(r));for(var t=~~e,n=0;n<r.length;n++){var i=r[n];t=(qI[(t^i)&255]^t>>8)&65535}return t});FI.default=l$});var Q7=b((hSe,Z7)=>{"use strict";d();h();Z7.exports=$7().default});var t9=b(LI=>{"use strict";d();h();Object.defineProperty(LI,"__esModule",{value:!0});var d$=no(),h$=na(),p$=e9(h$),g$=ia(),y$=e9(g$);function e9(r){return r&&r.__esModule?r:{default:r}}var UI=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];typeof Int32Array<"u"&&(UI=new Int32Array(UI));var m$=(0,y$.default)("ccitt",function(r,e){d$.Buffer.isBuffer(r)||(r=(0,p$.default)(r));for(var t=typeof e<"u"?~~e:65535,n=0;n<r.length;n++){var i=r[n];t=(UI[(t>>8^i)&255]^t<<8)&65535}return t});LI.default=m$});var n9=b((xSe,r9)=>{"use strict";d();h();r9.exports=t9().default});var o9=b(jI=>{"use strict";d();h();Object.defineProperty(jI,"__esModule",{value:!0});var v$=no(),x$=na(),_$=i9(x$),w$=ia(),E$=i9(w$);function i9(r){return r&&r.__esModule?r:{default:r}}var kI=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];typeof Int32Array<"u"&&(kI=new Int32Array(kI));var b$=(0,E$.default)("crc-16-modbus",function(r,e){v$.Buffer.isBuffer(r)||(r=(0,_$.default)(r));for(var t=typeof e<"u"?~~e:65535,n=0;n<r.length;n++){var i=r[n];t=(kI[(t^i)&255]^t>>8)&65535}return t});jI.default=b$});var s9=b((TSe,a9)=>{"use strict";d();h();a9.exports=o9().default});var f9=b(HI=>{"use strict";d();h();Object.defineProperty(HI,"__esModule",{value:!0});var I$=no(),T$=na(),S$=u9(T$),C$=ia(),A$=u9(C$);function u9(r){return r&&r.__esModule?r:{default:r}}var O$=(0,A$.default)("xmodem",function(r,e){I$.Buffer.isBuffer(r)||(r=(0,S$.default)(r));for(var t=typeof e<"u"?~~e:0,n=0;n<r.length;n++){var i=r[n],o=t>>>8&255;o^=i&255,o^=o>>>4,t=t<<8&65535,t^=o,o=o<<5&65535,t^=o,o=o<<7&65535,t^=o}return t});HI.default=O$});var l9=b((RSe,c9)=>{"use strict";d();h();c9.exports=f9().default});var h9=b(VI=>{"use strict";d();h();Object.defineProperty(VI,"__esModule",{value:!0});var D$=no(),R$=na(),P$=d9(R$),B$=ia(),N$=d9(B$);function d9(r){return r&&r.__esModule?r:{default:r}}var KI=[0,4489,8978,12955,17956,22445,25910,29887,35912,40385,44890,48851,51820,56293,59774,63735,4225,264,13203,8730,22181,18220,30135,25662,40137,36160,49115,44626,56045,52068,63999,59510,8450,12427,528,5017,26406,30383,17460,21949,44362,48323,36440,40913,60270,64231,51324,55797,12675,8202,4753,792,30631,26158,21685,17724,48587,44098,40665,36688,64495,60006,55549,51572,16900,21389,24854,28831,1056,5545,10034,14011,52812,57285,60766,64727,34920,39393,43898,47859,21125,17164,29079,24606,5281,1320,14259,9786,57037,53060,64991,60502,39145,35168,48123,43634,25350,29327,16404,20893,9506,13483,1584,6073,61262,65223,52316,56789,43370,47331,35448,39921,29575,25102,20629,16668,13731,9258,5809,1848,65487,60998,56541,52564,47595,43106,39673,35696,33800,38273,42778,46739,49708,54181,57662,61623,2112,6601,11090,15067,20068,24557,28022,31999,38025,34048,47003,42514,53933,49956,61887,57398,6337,2376,15315,10842,24293,20332,32247,27774,42250,46211,34328,38801,58158,62119,49212,53685,10562,14539,2640,7129,28518,32495,19572,24061,46475,41986,38553,34576,62383,57894,53437,49460,14787,10314,6865,2904,32743,28270,23797,19836,50700,55173,58654,62615,32808,37281,41786,45747,19012,23501,26966,30943,3168,7657,12146,16123,54925,50948,62879,58390,37033,33056,46011,41522,23237,19276,31191,26718,7393,3432,16371,11898,59150,63111,50204,54677,41258,45219,33336,37809,27462,31439,18516,23005,11618,15595,3696,8185,63375,58886,54429,50452,45483,40994,37561,33584,31687,27214,22741,18780,15843,11370,7921,3960];typeof Int32Array<"u"&&(KI=new Int32Array(KI));var M$=(0,N$.default)("kermit",function(r,e){D$.Buffer.isBuffer(r)||(r=(0,P$.default)(r));for(var t=typeof e<"u"?~~e:0,n=0;n<r.length;n++){var i=r[n];t=(KI[(t^i)&255]^t>>8)&65535}return t});VI.default=M$});var g9=b((FSe,p9)=>{"use strict";d();h();p9.exports=h9().default});var m9=b(YI=>{"use strict";d();h();Object.defineProperty(YI,"__esModule",{value:!0});var q$=no(),F$=na(),U$=y9(F$),L$=ia(),k$=y9(L$);function y9(r){return r&&r.__esModule?r:{default:r}}var GI=[0,8801531,9098509,825846,9692897,1419802,1651692,10452759,10584377,2608578,2839604,11344079,3303384,11807523,12104405,4128302,12930697,4391538,5217156,13227903,5679208,13690003,14450021,5910942,6606768,14844747,15604413,6837830,16197969,7431594,8256604,16494759,840169,9084178,8783076,18463,10434312,1670131,1434117,9678590,11358416,2825259,2590173,10602790,4109873,12122826,11821884,3289031,13213536,5231515,4409965,12912278,5929345,14431610,13675660,5693559,6823513,15618722,14863188,6588335,16513208,8238147,7417269,16212302,1680338,10481449,9664223,1391140,9061683,788936,36926,8838341,12067563,4091408,3340262,11844381,2868234,11372785,10555655,2579964,14478683,5939616,5650518,13661357,5180346,13190977,12967607,4428364,8219746,16457881,16234863,7468436,15633027,6866552,6578062,14816117,1405499,9649856,10463030,1698765,8819930,55329,803287,9047340,11858690,3325945,4072975,12086004,2561507,10574104,11387118,2853909,13647026,5664841,5958079,14460228,4446803,12949160,13176670,5194661,7454091,16249200,16476294,8201341,14834538,6559633,6852199,15647388,3360676,11864927,12161705,4185682,10527045,2551230,2782280,11286707,9619101,1346150,1577872,10379115,73852,8875143,9172337,899466,16124205,7357910,8182816,16421083,6680524,14918455,15678145,6911546,5736468,13747439,14507289,5968354,12873461,4334094,5159928,13170435,4167245,12180150,11879232,3346363,11301036,2767959,2532769,10545498,10360692,1596303,1360505,9604738,913813,9157998,8856728,92259,16439492,8164415,7343561,16138546,6897189,15692510,14936872,6662099,5986813,14488838,13733104,5750795,13156124,5174247,4352529,12855018,2810998,11315341,10498427,2522496,12124823,4148844,3397530,11901793,9135439,862644,110658,8912057,1606574,10407765,9590435,1317464,15706879,6940164,6651890,14889737,8145950,16384229,16161043,7394792,5123014,13133629,12910283,4370992,14535975,5997020,5707818,13718737,2504095,10516836,11329682,2796649,11916158,3383173,4130419,12143240,8893606,129117,876971,9121104,1331783,9576124,10389322,1625009,14908182,6633453,6925851,15721184,7380471,16175372,16402682,8127489,4389423,12891860,13119266,5137369,13704398,5722165,6015427,14517560];typeof Int32Array<"u"&&(GI=new Int32Array(GI));var j$=(0,k$.default)("crc-24",function(r,e){q$.Buffer.isBuffer(r)||(r=(0,U$.default)(r));for(var t=typeof e<"u"?~~e:11994318,n=0;n<r.length;n++){var i=r[n];t=(GI[(t>>16^i)&255]^t<<8)&16777215}return t});YI.default=j$});var x9=b((KSe,v9)=>{"use strict";d();h();v9.exports=m9().default});var w9=b(WI=>{"use strict";d();h();Object.defineProperty(WI,"__esModule",{value:!0});var H$=no(),K$=na(),V$=_9(K$),G$=ia(),Y$=_9(G$);function _9(r){return r&&r.__esModule?r:{default:r}}var zI=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(zI=new Int32Array(zI));var z$=(0,Y$.default)("crc-32",function(r,e){H$.Buffer.isBuffer(r)||(r=(0,V$.default)(r));for(var t=e===0?0:~~e^-1,n=0;n<r.length;n++){var i=r[n];t=zI[(t^i)&255]^t>>>8}return t^-1});WI.default=z$});var b9=b((XSe,E9)=>{"use strict";d();h();E9.exports=w9().default});var T9=b(JI=>{"use strict";d();h();Object.defineProperty(JI,"__esModule",{value:!0});var W$=no(),X$=na(),J$=I9(X$),$$=ia(),Z$=I9($$);function I9(r){return r&&r.__esModule?r:{default:r}}var XI=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(XI=new Int32Array(XI));var Q$=(0,Z$.default)("jam",function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;W$.Buffer.isBuffer(r)||(r=(0,J$.default)(r));for(var t=e===0?0:~~e,n=0;n<r.length;n++){var i=r[n];t=XI[(t^i)&255]^t>>>8}return t});JI.default=Q$});var C9=b((tCe,S9)=>{"use strict";d();h();S9.exports=T9().default});var O9=b((iCe,A9)=>{"use strict";d();h();A9.exports={crc1:j7(),crc8:G7(),crc81wire:X7(),crc16:Q7(),crc16ccitt:n9(),crc16modbus:s9(),crc16xmodem:l9(),crc16kermit:g9(),crc24:x9(),crc32:b9(),crcjam:C9()}});var gc=b(pt=>{"use strict";d();h();var eZ=pt&&pt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pt,"__esModule",{value:!0});pt.bufferXOR=pt.setDifference=pt.arrayContains=pt.arraysEqual=pt.hasPrefix=pt.isURType=pt.intToBytes=pt.toUint32=pt.getCRCHex=pt.getCRC=pt.split=pt.partition=pt.sha256Hash=void 0;var tZ=eZ(PW()),D9=O9(),rZ=r=>tZ.default("sha256").update(r).digest();pt.sha256Hash=rZ;var nZ=(r,e)=>r.match(new RegExp(".{1,"+e+"}","g"))||[r];pt.partition=nZ;var iZ=(r,e)=>[r.slice(0,-e),r.slice(-e)];pt.split=iZ;var oZ=r=>D9.crc32(r);pt.getCRC=oZ;var aZ=r=>D9.crc32(r).toString(16).padStart(8,"0");pt.getCRCHex=aZ;var sZ=r=>r>>>0;pt.toUint32=sZ;var uZ=r=>{let e=new ArrayBuffer(4);return new DataView(e).setUint32(0,r,!1),m.Buffer.from(e)};pt.intToBytes=uZ;var fZ=r=>r.split("").every((e,t)=>{let n=r.charCodeAt(t);return"a".charCodeAt(0)<=n&&n<="z".charCodeAt(0)||"0".charCodeAt(0)<=n&&n<="9".charCodeAt(0)||n==="-".charCodeAt(0)});pt.isURType=fZ;var cZ=(r,e)=>r.indexOf(e)===0;pt.hasPrefix=cZ;var lZ=(r,e)=>r.length!==e.length?!1:r.every(t=>e.includes(t));pt.arraysEqual=lZ;var dZ=(r,e)=>e.every(t=>r.includes(t));pt.arrayContains=dZ;var hZ=(r,e)=>r.filter(t=>e.indexOf(t)<0);pt.setDifference=hZ;var pZ=(r,e)=>{let t=Math.max(r.length,e.length),n=m.Buffer.allocUnsafe(t);for(let i=0;i<t;++i)n[i]=r[i]^e[i];return n};pt.bufferXOR=pZ});var P9=b((R9,lx)=>{d();h();(function(r,e){typeof define=="function"&&define.amd?define([],e):typeof lx<"u"&&lx.exports?lx.exports=e():r.CBOR=e()})(R9,function(){var r=function(){function e(A){this.$hex=A}e.prototype={length:function(){return this.$hex.length/2},toString:function(A){if(!A||A==="hex"||A===16)return this.$hex;if(A==="utf-8"){for(var c="",y=0;y<this.$hex.length;y+=2)c+="%"+this.$hex.substring(y,y+2);return decodeURIComponent(c)}if(A==="latin"){for(var c=[],y=0;y<this.$hex.length;y+=2)c.push(parseInt(this.$hex.substring(y,y+2),16));return String.fromCharCode.apply(String,c)}throw new Error("Unrecognised format: "+A)}},e.fromLatinString=function(A){for(var c="",y=0;y<A.length;y++){var x=A.charCodeAt(y).toString(16);x.length===1&&(x="0"+x),c+=x}return new e(c)},e.fromUtf8String=function(A){for(var c=encodeURIComponent(A),y="",x=0;x<c.length;x++)if(c.charAt(x)==="%")y+=c.substring(x+1,x+3),x+=2;else{var M=c.charCodeAt(x).toString(16);M.length<2&&(M="0"+M),y+=M}return new e(y)};var t=[],n={},i=function(A){return function(){throw new Error(A+" not implemented")}};function o(){}o.prototype={peekByte:i("peekByte"),readByte:i("readByte"),readChunk:i("readChunk"),readFloat16:function(){var A=this.readUint16(),c=(A&32767)>>10,y=A&1023,x=A&32768;if(c===31)return y===0?x?-1/0:1/0:NaN;var M=c?Math.pow(2,c-25)*(1024+y):Math.pow(2,-24)*y;return x?-M:M},readFloat32:function(){var A=this.readUint32(),c=(A&2147483647)>>23,y=A&8388607,x=A&2147483648;if(c===255)return y===0?x?-1/0:1/0:NaN;var M=c?Math.pow(2,c-23-127)*(8388608+y):Math.pow(2,-23-126)*y;return x?-M:M},readFloat64:function(){var A=this.readUint32(),c=this.readUint32(),y=A>>20&2047,x=(A&1048575)*4294967296+c,M=A&2147483648;if(y===2047)return x===0?M?-1/0:1/0:NaN;var L=y?Math.pow(2,y-52-1023)*(4503599627370496+x):Math.pow(2,-52-1022)*x;return M?-L:L},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function a(){}a.prototype={writeByte:i("writeByte"),result:i("result"),writeFloat16:i("writeFloat16"),writeFloat32:i("writeFloat32"),writeFloat64:i("writeFloat64"),writeUint16:function(A){this.writeByte(A>>8&255),this.writeByte(A&255)},writeUint32:function(A){this.writeUint16(A>>16&65535),this.writeUint16(A&65535)},writeUint64:function(A){if(A>=9007199254740992||A<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+A+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(A/4294967296)),this.writeUint32(A%4294967296)},writeString:i("writeString"),canWriteBinary:function(A){return!1},writeBinary:i("writeChunk")};function s(A){var c=A.readByte(),y=c>>5,x=c&31;return{type:y,value:x}}function u(A,c){var y=A.value;if(y<24)return y;if(y==24)return c.readByte();if(y==25)return c.readUint16();if(y==26)return c.readUint32();if(y==27)return c.readUint64();if(y==31)return null;i("Additional info: "+y)()}function f(A,c,y){y.writeByte(A<<5|c)}function l(A,c,y){var x=A<<5;c<24?y.writeByte(x|c):c<256?(y.writeByte(x|24),y.writeByte(c)):c<65536?(y.writeByte(x|25),y.writeUint16(c)):c<4294967296?(y.writeByte(x|26),y.writeUint32(c)):(y.writeByte(x|27),y.writeUint64(c))}var p=new Error;function g(A){var c=s(A);switch(c.type){case 0:return u(c,A);case 1:return-1-u(c,A);case 2:return A.readChunk(u(c,A));case 3:var y=A.readChunk(u(c,A));return y.toString("utf-8");case 4:case 5:var x=u(c,A),S=[];if(x!==null){c.type===5&&(x*=2);for(var M=0;M<x;M++)S[M]=g(A)}else for(var L;(L=g(A))!==p;)S.push(L);if(c.type===5){for(var ce={},M=0;M<S.length;M+=2)ce[S[M]]=S[M+1];return ce}else return S;case 6:var q=u(c,A),w=n[q],S=g(A);return w?w(S):S;case 7:if(c.value===25)return A.readFloat16();if(c.value===26)return A.readFloat32();if(c.value===27)return A.readFloat64();switch(u(c,A)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return p;default:throw new Error("Unknown fixed value: "+c.value)}default:throw new Error("Unsupported header: "+JSON.stringify(c))}throw new Error("not implemented yet")}function v(A,c){for(var y=0;y<t.length;y++){var x=t[y].fn(A);if(x!==void 0)return l(6,t[y].tag,c),v(x,c)}if(A&&typeof A.toCBOR=="function"&&(A=A.toCBOR()),A===!1)l(7,20,c);else if(A===!0)l(7,21,c);else if(A===null)l(7,22,c);else if(A===void 0)l(7,23,c);else if(typeof A=="number")Math.floor(A)===A&&A<9007199254740992&&A>-9007199254740992?A<0?l(1,-1-A,c):l(0,A,c):(f(7,27,c),c.writeFloat64(A));else if(typeof A=="string")c.writeString(A,function(L){l(3,L,c)});else if(c.canWriteBinary(A))c.writeBinary(A,function(L){l(2,L,c)});else if(typeof A=="object")if(O.config.useToJSON&&typeof A.toJSON=="function"&&(A=A.toJSON()),Array.isArray(A)){l(4,A.length,c);for(var y=0;y<A.length;y++)v(A[y],c)}else{var M=Object.keys(A);l(5,M.length,c);for(var y=0;y<M.length;y++)v(M[y],c),v(A[M[y]],c)}else throw new Error("CBOR encoding not supported: "+A)}var _=[],T=[],O={config:{useToJSON:!0},addWriter:function(A,c){typeof A=="string"?T.push(function(y){if(A===y)return c(y)}):T.push(A)},addReader:function(A,c){typeof A=="string"?_.push(function(y,x){if(A===x)return c(y,x)}):_.push(A)},encode:function(A,c){for(var y=0;y<T.length;y++){var x=T[y],M=x(c);if(M)return v(A,M),M.result()}throw new Error("Unsupported output format: "+c)},decode:function(A,c){for(var y=0;y<_.length;y++){var x=_[y],M=x(A,c);if(M)return g(M)}throw new Error("Unsupported input format: "+c)},addSemanticEncode:function(A,c){if(typeof A!="number"||A%1!==0||A<0)throw new Error("Tag must be a positive integer");return t.push({tag:A,fn:c}),this},addSemanticDecode:function(A,c){if(typeof A!="number"||A%1!==0||A<0)throw new Error("Tag must be a positive integer");return n[A]=c,this},Reader:o,Writer:a};function R(A){this.buffer=A,this.pos=0}R.prototype=Object.create(o.prototype),R.prototype.peekByte=function(){return this.buffer[this.pos]},R.prototype.readByte=function(){return this.buffer[this.pos++]},R.prototype.readUint16=function(){var A=this.buffer.readUInt16BE(this.pos);return this.pos+=2,A},R.prototype.readUint32=function(){var A=this.buffer.readUInt32BE(this.pos);return this.pos+=4,A},R.prototype.readFloat32=function(){var A=this.buffer.readFloatBE(this.pos);return this.pos+=4,A},R.prototype.readFloat64=function(){var A=this.buffer.readDoubleBE(this.pos);return this.pos+=8,A},R.prototype.readChunk=function(A){var c=m.Buffer.alloc(A);return this.buffer.copy(c,0,this.pos,this.pos+=A),c};function D(A){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=A}D.prototype=Object.create(a.prototype),D.prototype.writeByte=function(A){this.latestBuffer[this.latestBufferOffset++]=A,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},D.prototype.writeFloat32=function(A){var c=m.Buffer.alloc(4);c.writeFloatBE(A,0),this.writeBuffer(c)},D.prototype.writeFloat64=function(A){var c=m.Buffer.alloc(8);c.writeDoubleBE(A,0),this.writeBuffer(c)},D.prototype.writeString=function(A,c){var y=m.Buffer.from(A,"utf-8");c(y.length),this.writeBuffer(y)},D.prototype.canWriteBinary=function(A){return A instanceof m.Buffer},D.prototype.writeBinary=function(A,c){c(A.length),this.writeBuffer(A)},D.prototype.writeBuffer=function(A){if(!(A instanceof m.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=A.length?(A.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=A.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(A),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(A),this.byteLength+=A.length},D.prototype.result=function(){for(var A=m.Buffer.alloc(this.byteLength),c=0,y=0;y<this.completeBuffers.length;y++){var x=this.completeBuffers[y];x.copy(A,c,0,x.length),c+=x.length}return this.latestBufferOffset&&this.latestBuffer.copy(A,c,0,this.latestBufferOffset),this.stringFormat?A.toString(this.stringFormat):A},typeof m.Buffer=="function"&&(O.addReader(function(A,c){if(A instanceof m.Buffer)return new R(A);if(c==="hex"||c==="base64"){var y=m.Buffer.from(A,c);return new R(y)}}),O.addWriter(function(A){if(!A||A==="buffer")return new D;if(A==="hex"||A==="base64")return new D(A)}));function U(A){this.hex=A,this.pos=0}U.prototype=Object.create(o.prototype),U.prototype.peekByte=function(){var A=this.hex.substring(this.pos,2);return parseInt(A,16)},U.prototype.readByte=function(){var A=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(A,16)},U.prototype.readChunk=function(A){var c=this.hex.substring(this.pos,this.pos+A*2);return this.pos+=A*2,typeof m.Buffer=="function"?m.Buffer.from(c,"hex"):new e(c)};function K(A){this.$hex="",this.finalFormat=A||"hex"}return K.prototype=Object.create(a.prototype),K.prototype.writeByte=function(A){if(A<0||A>255)throw new Error("Byte value out of range: "+A);var c=A.toString(16);c.length==1&&(c="0"+c),this.$hex+=c},K.prototype.canWriteBinary=function(A){return A instanceof e||typeof m.Buffer=="function"&&A instanceof m.Buffer},K.prototype.writeBinary=function(A,c){if(A instanceof e)c(A.length()),this.$hex+=A.$hex;else if(typeof m.Buffer=="function"&&A instanceof m.Buffer)c(A.length),this.$hex+=A.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},K.prototype.result=function(){return this.finalFormat==="buffer"&&typeof m.Buffer=="function"?m.Buffer.from(this.$hex,"hex"):new e(this.$hex).toString(this.finalFormat)},K.prototype.writeString=function(A,c){var y=e.fromUtf8String(A);c(y.length()),this.$hex+=y.$hex},O.addReader(function(A,c){if(A instanceof e||A.$hex)return new U(A.$hex);if(c==="hex")return new U(A)}),O.addWriter(function(A){if(A==="hex")return new K}),O}();return r.addSemanticEncode(0,function(e){if(e instanceof Date)return e.toISOString()}).addSemanticDecode(0,function(e){return new Date(e)}).addSemanticDecode(1,function(e){return new Date(e)}),r})});var $I=b($h=>{"use strict";d();h();Object.defineProperty($h,"__esModule",{value:!0});$h.cborDecode=$h.cborEncode=void 0;var B9=P9(),gZ=r=>B9.encode(r);$h.cborEncode=gZ;var yZ=r=>B9.decode(m.Buffer.isBuffer(r)?r:m.Buffer.from(r,"hex"));$h.cborDecode=yZ});var QI=b(ZI=>{"use strict";d();h();Object.defineProperty(ZI,"__esModule",{value:!0});var mZ=cx(),vZ=gc(),N9=$I(),Zh=class{constructor(e,t="bytes"){if(this._cborPayload=e,this._type=t,!vZ.isURType(this._type))throw new mZ.InvalidTypeError}static fromBuffer(e){return new Zh(N9.cborEncode(e))}static from(e,t){return Zh.fromBuffer(m.Buffer.from(e,t))}decodeCBOR(){return N9.cborDecode(this._cborPayload)}get type(){return this._type}get cbor(){return this._cborPayload}equals(e){return this.type===e.type&&this.cbor.equals(e.cbor)}};ZI.default=Zh});var M9=b((e8,t8)=>{d();h();(function(r,e){typeof e8=="object"&&typeof t8<"u"?t8.exports=e():typeof define=="function"&&define.amd?define(e):(r=r||self,r.JSBI=e())})(e8,function(){"use strict";var r=Math.imul,e=Math.clz32,t=Math.abs,n=Math.max,i=Math.floor;class o extends Array{constructor(s,u){if(super(s),this.sign=u,s>o.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(s){var u=Number.isFinite;if(typeof s=="number"){if(s===0)return o.__zero();if(o.__isOneDigitInt(s))return 0>s?o.__oneDigit(-s,!0):o.__oneDigit(s,!1);if(!u(s)||i(s)!==s)throw new RangeError("The number "+s+" cannot be converted to BigInt because it is not an integer");return o.__fromDouble(s)}if(typeof s=="string"){let f=o.__fromString(s);if(f===null)throw new SyntaxError("Cannot convert "+s+" to a BigInt");return f}if(typeof s=="boolean")return s===!0?o.__oneDigit(1,!1):o.__zero();if(typeof s=="object"){if(s.constructor===o)return s;let f=o.__toPrimitive(s);return o.BigInt(f)}throw new TypeError("Cannot convert "+s+" to a BigInt")}toDebugString(){let s=["BigInt["];for(let u of this)s.push((u&&(u>>>0).toString(16))+", ");return s.push("]"),s.join("")}toString(s=10){if(2>s||36<s)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":(s&s-1)==0?o.__toStringBasePowerOfTwo(this,s):o.__toStringGeneric(this,s,!1)}static toNumber(s){let u=s.length;if(u===0)return 0;if(u===1){let c=s.__unsignedDigit(0);return s.sign?-c:c}let f=s.__digit(u-1),l=o.__clz30(f),p=30*u-l;if(1024<p)return s.sign?-1/0:1/0;let g=p-1,v=f,_=u-1,T=l+3,O=T===32?0:v<<T;O>>>=12;let R=T-12,D=12<=T?0:v<<20+T,U=20+T;for(0<R&&0<_&&(_--,v=s.__digit(_),O|=v>>>30-R,D=v<<R+2,U=R+2);0<U&&0<_;)_--,v=s.__digit(_),D|=30<=U?v<<U-30:v>>>30-U,U-=30;let K=o.__decideRounding(s,U,_,v);if((K===1||K===0&&(1&D)==1)&&(D=D+1>>>0,D===0&&(O++,O>>>20!=0&&(O=0,g++,1023<g))))return s.sign?-1/0:1/0;let A=s.sign?-2147483648:0;return g=g+1023<<20,o.__kBitConversionInts[1]=A|g|O,o.__kBitConversionInts[0]=D,o.__kBitConversionDouble[0]}static unaryMinus(s){if(s.length===0)return s;let u=s.__copy();return u.sign=!s.sign,u}static bitwiseNot(s){return s.sign?o.__absoluteSubOne(s).__trim():o.__absoluteAddOne(s,!0)}static exponentiate(s,u){if(u.sign)throw new RangeError("Exponent must be positive");if(u.length===0)return o.__oneDigit(1,!1);if(s.length===0)return s;if(s.length===1&&s.__digit(0)===1)return s.sign&&(1&u.__digit(0))==0?o.unaryMinus(s):s;if(1<u.length)throw new RangeError("BigInt too big");let f=u.__unsignedDigit(0);if(f===1)return s;if(f>=o.__kMaxLengthBits)throw new RangeError("BigInt too big");if(s.length===1&&s.__digit(0)===2){let g=1+(0|f/30),v=s.sign&&(1&f)!=0,_=new o(g,v);_.__initializeDigits();let T=1<<f%30;return _.__setDigit(g-1,T),_}let l=null,p=s;for((1&f)!=0&&(l=s),f>>=1;f!==0;f>>=1)p=o.multiply(p,p),(1&f)!=0&&(l===null?l=p:l=o.multiply(l,p));return l}static multiply(s,u){if(s.length===0)return s;if(u.length===0)return u;let f=s.length+u.length;30<=s.__clzmsd()+u.__clzmsd()&&f--;let l=new o(f,s.sign!==u.sign);l.__initializeDigits();for(let p=0;p<s.length;p++)o.__multiplyAccumulate(u,s.__digit(p),l,p);return l.__trim()}static divide(s,u){if(u.length===0)throw new RangeError("Division by zero");if(0>o.__absoluteCompare(s,u))return o.__zero();let f=s.sign!==u.sign,l=u.__unsignedDigit(0),p;if(u.length===1&&32767>=l){if(l===1)return f===s.sign?s:o.unaryMinus(s);p=o.__absoluteDivSmall(s,l,null)}else p=o.__absoluteDivLarge(s,u,!0,!1);return p.sign=f,p.__trim()}static remainder(s,u){if(u.length===0)throw new RangeError("Division by zero");if(0>o.__absoluteCompare(s,u))return s;let f=u.__unsignedDigit(0);if(u.length===1&&32767>=f){if(f===1)return o.__zero();let p=o.__absoluteModSmall(s,f);return p===0?o.__zero():o.__oneDigit(p,s.sign)}let l=o.__absoluteDivLarge(s,u,!1,!0);return l.sign=s.sign,l.__trim()}static add(s,u){let f=s.sign;return f===u.sign?o.__absoluteAdd(s,u,f):0<=o.__absoluteCompare(s,u)?o.__absoluteSub(s,u,f):o.__absoluteSub(u,s,!f)}static subtract(s,u){let f=s.sign;return f===u.sign?0<=o.__absoluteCompare(s,u)?o.__absoluteSub(s,u,f):o.__absoluteSub(u,s,!f):o.__absoluteAdd(s,u,f)}static leftShift(s,u){return u.length===0||s.length===0?s:u.sign?o.__rightShiftByAbsolute(s,u):o.__leftShiftByAbsolute(s,u)}static signedRightShift(s,u){return u.length===0||s.length===0?s:u.sign?o.__leftShiftByAbsolute(s,u):o.__rightShiftByAbsolute(s,u)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(s,u){return 0>o.__compareToBigInt(s,u)}static lessThanOrEqual(s,u){return 0>=o.__compareToBigInt(s,u)}static greaterThan(s,u){return 0<o.__compareToBigInt(s,u)}static greaterThanOrEqual(s,u){return 0<=o.__compareToBigInt(s,u)}static equal(s,u){if(s.sign!==u.sign||s.length!==u.length)return!1;for(let f=0;f<s.length;f++)if(s.__digit(f)!==u.__digit(f))return!1;return!0}static notEqual(s,u){return!o.equal(s,u)}static bitwiseAnd(s,u){if(!s.sign&&!u.sign)return o.__absoluteAnd(s,u).__trim();if(s.sign&&u.sign){let f=n(s.length,u.length)+1,l=o.__absoluteSubOne(s,f),p=o.__absoluteSubOne(u);return l=o.__absoluteOr(l,p,l),o.__absoluteAddOne(l,!0,l).__trim()}return s.sign&&([s,u]=[u,s]),o.__absoluteAndNot(s,o.__absoluteSubOne(u)).__trim()}static bitwiseXor(s,u){if(!s.sign&&!u.sign)return o.__absoluteXor(s,u).__trim();if(s.sign&&u.sign){let p=n(s.length,u.length),g=o.__absoluteSubOne(s,p),v=o.__absoluteSubOne(u);return o.__absoluteXor(g,v,g).__trim()}let f=n(s.length,u.length)+1;s.sign&&([s,u]=[u,s]);let l=o.__absoluteSubOne(u,f);return l=o.__absoluteXor(l,s,l),o.__absoluteAddOne(l,!0,l).__trim()}static bitwiseOr(s,u){let f=n(s.length,u.length);if(!s.sign&&!u.sign)return o.__absoluteOr(s,u).__trim();if(s.sign&&u.sign){let p=o.__absoluteSubOne(s,f),g=o.__absoluteSubOne(u);return p=o.__absoluteAnd(p,g,p),o.__absoluteAddOne(p,!0,p).__trim()}s.sign&&([s,u]=[u,s]);let l=o.__absoluteSubOne(u,f);return l=o.__absoluteAndNot(l,s,l),o.__absoluteAddOne(l,!0,l).__trim()}static asIntN(s,u){if(u.length===0)return u;if(s=i(s),0>s)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(s===0)return o.__zero();if(s>=o.__kMaxLengthBits)return u;let f=0|(s+29)/30;if(u.length<f)return u;let l=u.__unsignedDigit(f-1),p=1<<(s-1)%30;if(u.length===f&&l<p)return u;if((l&p)!==p)return o.__truncateToNBits(s,u);if(!u.sign)return o.__truncateAndSubFromPowerOfTwo(s,u,!0);if((l&p-1)==0){for(let g=f-2;0<=g;g--)if(u.__digit(g)!==0)return o.__truncateAndSubFromPowerOfTwo(s,u,!1);return u.length===f&&l===p?u:o.__truncateToNBits(s,u)}return o.__truncateAndSubFromPowerOfTwo(s,u,!1)}static asUintN(s,u){if(u.length===0)return u;if(s=i(s),0>s)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(s===0)return o.__zero();if(u.sign){if(s>o.__kMaxLengthBits)throw new RangeError("BigInt too big");return o.__truncateAndSubFromPowerOfTwo(s,u,!1)}if(s>=o.__kMaxLengthBits)return u;let f=0|(s+29)/30;if(u.length<f)return u;let l=s%30;return u.length==f&&(l===0||u.__digit(f-1)>>>l==0)?u:o.__truncateToNBits(s,u)}static ADD(s,u){if(s=o.__toPrimitive(s),u=o.__toPrimitive(u),typeof s=="string")return typeof u!="string"&&(u=u.toString()),s+u;if(typeof u=="string")return s.toString()+u;if(s=o.__toNumeric(s),u=o.__toNumeric(u),o.__isBigInt(s)&&o.__isBigInt(u))return o.add(s,u);if(typeof s=="number"&&typeof u=="number")return s+u;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(s,u){return o.__compare(s,u,0)}static LE(s,u){return o.__compare(s,u,1)}static GT(s,u){return o.__compare(s,u,2)}static GE(s,u){return o.__compare(s,u,3)}static EQ(s,u){for(;;){if(o.__isBigInt(s))return o.__isBigInt(u)?o.equal(s,u):o.EQ(u,s);if(typeof s=="number"){if(o.__isBigInt(u))return o.__equalToNumber(u,s);if(typeof u!="object")return s==u;u=o.__toPrimitive(u)}else if(typeof s=="string"){if(o.__isBigInt(u))return s=o.__fromString(s),s!==null&&o.equal(s,u);if(typeof u!="object")return s==u;u=o.__toPrimitive(u)}else if(typeof s=="boolean"){if(o.__isBigInt(u))return o.__equalToNumber(u,+s);if(typeof u!="object")return s==u;u=o.__toPrimitive(u)}else if(typeof s=="symbol"){if(o.__isBigInt(u))return!1;if(typeof u!="object")return s==u;u=o.__toPrimitive(u)}else if(typeof s=="object"){if(typeof u=="object"&&u.constructor!==o)return s==u;s=o.__toPrimitive(s)}else return s==u}}static NE(s,u){return!o.EQ(s,u)}static __zero(){return new o(0,!1)}static __oneDigit(s,u){let f=new o(1,u);return f.__setDigit(0,s),f}__copy(){let s=new o(this.length,this.sign);for(let u=0;u<this.length;u++)s[u]=this[u];return s}__trim(){let s=this.length,u=this[s-1];for(;u===0;)s--,u=this[s-1],this.pop();return s===0&&(this.sign=!1),this}__initializeDigits(){for(let s=0;s<this.length;s++)this[s]=0}static __decideRounding(s,u,f,l){if(0<u)return-1;let p;if(0>u)p=-u-1;else{if(f===0)return-1;f--,l=s.__digit(f),p=29}let g=1<<p;if((l&g)==0)return-1;if(g-=1,(l&g)!=0)return 1;for(;0<f;)if(f--,s.__digit(f)!==0)return 1;return 0}static __fromDouble(s){o.__kBitConversionDouble[0]=s;let u=2047&o.__kBitConversionInts[1]>>>20,f=u-1023,l=(0|f/30)+1,p=new o(l,0>s),g=1048575&o.__kBitConversionInts[1]|1048576,v=o.__kBitConversionInts[0],_=20,T=f%30,O,R=0;if(20>T){let D=_-T;R=D+32,O=g>>>D,g=g<<32-D|v>>>D,v<<=32-D}else if(T===20)R=32,O=g,g=v,v=0;else{let D=T-_;R=32-D,O=g<<D|v>>>32-D,g=v<<D,v=0}p.__setDigit(l-1,O);for(let D=l-2;0<=D;D--)0<R?(R-=30,O=g>>>2,g=g<<30|v>>>2,v<<=30):O=0,p.__setDigit(D,O);return p.__trim()}static __isWhitespace(s){return 13>=s&&9<=s||(159>=s?s==32:131071>=s?s==160||s==5760:196607>=s?(s&=131071,10>=s||s==40||s==41||s==47||s==95||s==4096):s==65279)}static __fromString(s,u=0){let f=0,l=s.length,p=0;if(p===l)return o.__zero();let g=s.charCodeAt(p);for(;o.__isWhitespace(g);){if(++p===l)return o.__zero();g=s.charCodeAt(p)}if(g===43){if(++p===l)return null;g=s.charCodeAt(p),f=1}else if(g===45){if(++p===l)return null;g=s.charCodeAt(p),f=-1}if(u===0){if(u=10,g===48){if(++p===l)return o.__zero();if(g=s.charCodeAt(p),g===88||g===120){if(u=16,++p===l)return null;g=s.charCodeAt(p)}else if(g===79||g===111){if(u=8,++p===l)return null;g=s.charCodeAt(p)}else if(g===66||g===98){if(u=2,++p===l)return null;g=s.charCodeAt(p)}}}else if(u===16&&g===48){if(++p===l)return o.__zero();if(g=s.charCodeAt(p),g===88||g===120){if(++p===l)return null;g=s.charCodeAt(p)}}if(f!=0&&u!==10)return null;for(;g===48;){if(++p===l)return o.__zero();g=s.charCodeAt(p)}let v=l-p,_=o.__kMaxBitsPerChar[u],T=o.__kBitsPerCharTableMultiplier-1;if(v>1073741824/_)return null;let O=_*v+T>>>o.__kBitsPerCharTableShift,R=new o(0|(O+29)/30,!1),D=10>u?u:10,U=10<u?u-10:0;if((u&u-1)==0){_>>=o.__kBitsPerCharTableShift;let K=[],A=[],c=!1;do{let y=0,x=0;for(;;){let M;if(g-48>>>0<D)M=g-48;else if((32|g)-97>>>0<U)M=(32|g)-87;else{c=!0;break}if(x+=_,y=y<<_|M,++p===l){c=!0;break}if(g=s.charCodeAt(p),30<x+_)break}K.push(y),A.push(x)}while(!c);o.__fillFromParts(R,K,A)}else{R.__initializeDigits();let K=!1,A=0;do{let c=0,y=1;for(;;){let M;if(g-48>>>0<D)M=g-48;else if((32|g)-97>>>0<U)M=(32|g)-87;else{K=!0;break}let L=y*u;if(1073741823<L)break;if(y=L,c=c*u+M,A++,++p===l){K=!0;break}g=s.charCodeAt(p)}T=30*o.__kBitsPerCharTableMultiplier-1;let x=0|(_*A+T>>>o.__kBitsPerCharTableShift)/30;R.__inplaceMultiplyAdd(y,c,x)}while(!K)}if(p!==l){if(!o.__isWhitespace(g))return null;for(p++;p<l;p++)if(g=s.charCodeAt(p),!o.__isWhitespace(g))return null}return R.sign=f==-1,R.__trim()}static __fillFromParts(s,u,f){let l=0,p=0,g=0;for(let v=u.length-1;0<=v;v--){let _=u[v],T=f[v];p|=_<<g,g+=T,g===30?(s.__setDigit(l++,p),g=0,p=0):30<g&&(s.__setDigit(l++,1073741823&p),g-=30,p=_>>>T-g)}if(p!==0){if(l>=s.length)throw new Error("implementation bug");s.__setDigit(l++,p)}for(;l<s.length;l++)s.__setDigit(l,0)}static __toStringBasePowerOfTwo(s,u){let f=s.length,l=u-1;l=(85&l>>>1)+(85&l),l=(51&l>>>2)+(51&l),l=(15&l>>>4)+(15&l);let p=l,g=u-1,v=s.__digit(f-1),_=o.__clz30(v),T=0|(30*f-_+p-1)/p;if(s.sign&&T++,268435456<T)throw new Error("string too long");let O=Array(T),R=T-1,D=0,U=0;for(let A=0;A<f-1;A++){let c=s.__digit(A),y=(D|c<<U)&g;O[R--]=o.__kConversionChars[y];let x=p-U;for(D=c>>>x,U=30-x;U>=p;)O[R--]=o.__kConversionChars[D&g],D>>>=p,U-=p}let K=(D|v<<U)&g;for(O[R--]=o.__kConversionChars[K],D=v>>>p-U;D!==0;)O[R--]=o.__kConversionChars[D&g],D>>>=p;if(s.sign&&(O[R--]="-"),R!=-1)throw new Error("implementation bug");return O.join("")}static __toStringGeneric(s,u,f){let l=s.length;if(l===0)return"";if(l===1){let A=s.__unsignedDigit(0).toString(u);return f===!1&&s.sign&&(A="-"+A),A}let p=30*l-o.__clz30(s.__digit(l-1)),g=o.__kMaxBitsPerChar[u],v=g-1,_=p*o.__kBitsPerCharTableMultiplier;_+=v-1,_=0|_/v;let T=_+1>>1,O=o.exponentiate(o.__oneDigit(u,!1),o.__oneDigit(T,!1)),R,D,U=O.__unsignedDigit(0);if(O.length===1&&32767>=U){R=new o(s.length,!1),R.__initializeDigits();let A=0;for(let c=2*s.length-1;0<=c;c--){let y=A<<15|s.__halfDigit(c);R.__setHalfDigit(c,0|y/U),A=0|y%U}D=A.toString(u)}else{let A=o.__absoluteDivLarge(s,O,!0,!0);R=A.quotient;let c=A.remainder.__trim();D=o.__toStringGeneric(c,u,!0)}R.__trim();let K=o.__toStringGeneric(R,u,!0);for(;D.length<T;)D="0"+D;return f===!1&&s.sign&&(K="-"+K),K+D}static __unequalSign(s){return s?-1:1}static __absoluteGreater(s){return s?-1:1}static __absoluteLess(s){return s?1:-1}static __compareToBigInt(s,u){let f=s.sign;if(f!==u.sign)return o.__unequalSign(f);let l=o.__absoluteCompare(s,u);return 0<l?o.__absoluteGreater(f):0>l?o.__absoluteLess(f):0}static __compareToNumber(s,u){if(o.__isOneDigitInt(u)){let f=s.sign,l=0>u;if(f!==l)return o.__unequalSign(f);if(s.length===0){if(l)throw new Error("implementation bug");return u===0?0:-1}if(1<s.length)return o.__absoluteGreater(f);let p=t(u),g=s.__unsignedDigit(0);return g>p?o.__absoluteGreater(f):g<p?o.__absoluteLess(f):0}return o.__compareToDouble(s,u)}static __compareToDouble(s,u){if(u!==u)return u;if(u===1/0)return-1;if(u===-1/0)return 1;let f=s.sign;if(f!==0>u)return o.__unequalSign(f);if(u===0)throw new Error("implementation bug: should be handled elsewhere");if(s.length===0)return-1;o.__kBitConversionDouble[0]=u;let l=2047&o.__kBitConversionInts[1]>>>20;if(l==2047)throw new Error("implementation bug: handled elsewhere");let p=l-1023;if(0>p)return o.__absoluteGreater(f);let g=s.length,v=s.__digit(g-1),_=o.__clz30(v),T=30*g-_,O=p+1;if(T<O)return o.__absoluteLess(f);if(T>O)return o.__absoluteGreater(f);let R=1048576|1048575&o.__kBitConversionInts[1],D=o.__kBitConversionInts[0],U=20,K=29-_;if(K!==(0|(T-1)%30))throw new Error("implementation bug");let A,c=0;if(20>K){let y=U-K;c=y+32,A=R>>>y,R=R<<32-y|D>>>y,D<<=32-y}else if(K===20)c=32,A=R,R=D,D=0;else{let y=K-U;c=32-y,A=R<<y|D>>>32-y,R=D<<y,D=0}if(v>>>=0,A>>>=0,v>A)return o.__absoluteGreater(f);if(v<A)return o.__absoluteLess(f);for(let y=g-2;0<=y;y--){0<c?(c-=30,A=R>>>2,R=R<<30|D>>>2,D<<=30):A=0;let x=s.__unsignedDigit(y);if(x>A)return o.__absoluteGreater(f);if(x<A)return o.__absoluteLess(f)}if(R!==0||D!==0){if(c===0)throw new Error("implementation bug");return o.__absoluteLess(f)}return 0}static __equalToNumber(s,u){return o.__isOneDigitInt(u)?u===0?s.length===0:s.length===1&&s.sign===0>u&&s.__unsignedDigit(0)===t(u):o.__compareToDouble(s,u)===0}static __comparisonResultToBool(s,u){return u===0?0>s:u===1?0>=s:u===2?0<s:u===3?0<=s:void 0}static __compare(s,u,f){if(s=o.__toPrimitive(s),u=o.__toPrimitive(u),typeof s=="string"&&typeof u=="string")switch(f){case 0:return s<u;case 1:return s<=u;case 2:return s>u;case 3:return s>=u}if(o.__isBigInt(s)&&typeof u=="string")return u=o.__fromString(u),u!==null&&o.__comparisonResultToBool(o.__compareToBigInt(s,u),f);if(typeof s=="string"&&o.__isBigInt(u))return s=o.__fromString(s),s!==null&&o.__comparisonResultToBool(o.__compareToBigInt(s,u),f);if(s=o.__toNumeric(s),u=o.__toNumeric(u),o.__isBigInt(s)){if(o.__isBigInt(u))return o.__comparisonResultToBool(o.__compareToBigInt(s,u),f);if(typeof u!="number")throw new Error("implementation bug");return o.__comparisonResultToBool(o.__compareToNumber(s,u),f)}if(typeof s!="number")throw new Error("implementation bug");if(o.__isBigInt(u))return o.__comparisonResultToBool(o.__compareToNumber(u,s),2^f);if(typeof u!="number")throw new Error("implementation bug");return f===0?s<u:f===1?s<=u:f===2?s>u:f===3?s>=u:void 0}__clzmsd(){return o.__clz30(this.__digit(this.length-1))}static __absoluteAdd(s,u,f){if(s.length<u.length)return o.__absoluteAdd(u,s,f);if(s.length===0)return s;if(u.length===0)return s.sign===f?s:o.unaryMinus(s);let l=s.length;(s.__clzmsd()===0||u.length===s.length&&u.__clzmsd()===0)&&l++;let p=new o(l,f),g=0,v=0;for(;v<u.length;v++){let _=s.__digit(v)+u.__digit(v)+g;g=_>>>30,p.__setDigit(v,1073741823&_)}for(;v<s.length;v++){let _=s.__digit(v)+g;g=_>>>30,p.__setDigit(v,1073741823&_)}return v<p.length&&p.__setDigit(v,g),p.__trim()}static __absoluteSub(s,u,f){if(s.length===0)return s;if(u.length===0)return s.sign===f?s:o.unaryMinus(s);let l=new o(s.length,f),p=0,g=0;for(;g<u.length;g++){let v=s.__digit(g)-u.__digit(g)-p;p=1&v>>>30,l.__setDigit(g,1073741823&v)}for(;g<s.length;g++){let v=s.__digit(g)-p;p=1&v>>>30,l.__setDigit(g,1073741823&v)}return l.__trim()}static __absoluteAddOne(s,u,f=null){let l=s.length;f===null?f=new o(l,u):f.sign=u;let p=1;for(let g=0;g<l;g++){let v=s.__digit(g)+p;p=v>>>30,f.__setDigit(g,1073741823&v)}return p!=0&&f.__setDigitGrow(l,1),f}static __absoluteSubOne(s,u){let f=s.length;u=u||f;let l=new o(u,!1),p=1;for(let g=0;g<f;g++){let v=s.__digit(g)-p;p=1&v>>>30,l.__setDigit(g,1073741823&v)}if(p!=0)throw new Error("implementation bug");for(let g=f;g<u;g++)l.__setDigit(g,0);return l}static __absoluteAnd(s,u,f=null){let l=s.length,p=u.length,g=p;if(l<p){g=l;let T=s,O=l;s=u,l=p,u=T,p=O}let v=g;f===null?f=new o(v,!1):v=f.length;let _=0;for(;_<g;_++)f.__setDigit(_,s.__digit(_)&u.__digit(_));for(;_<v;_++)f.__setDigit(_,0);return f}static __absoluteAndNot(s,u,f=null){let l=s.length,p=u.length,g=p;l<p&&(g=l);let v=l;f===null?f=new o(v,!1):v=f.length;let _=0;for(;_<g;_++)f.__setDigit(_,s.__digit(_)&~u.__digit(_));for(;_<l;_++)f.__setDigit(_,s.__digit(_));for(;_<v;_++)f.__setDigit(_,0);return f}static __absoluteOr(s,u,f=null){let l=s.length,p=u.length,g=p;if(l<p){g=l;let T=s,O=l;s=u,l=p,u=T,p=O}let v=l;f===null?f=new o(v,!1):v=f.length;let _=0;for(;_<g;_++)f.__setDigit(_,s.__digit(_)|u.__digit(_));for(;_<l;_++)f.__setDigit(_,s.__digit(_));for(;_<v;_++)f.__setDigit(_,0);return f}static __absoluteXor(s,u,f=null){let l=s.length,p=u.length,g=p;if(l<p){g=l;let T=s,O=l;s=u,l=p,u=T,p=O}let v=l;f===null?f=new o(v,!1):v=f.length;let _=0;for(;_<g;_++)f.__setDigit(_,s.__digit(_)^u.__digit(_));for(;_<l;_++)f.__setDigit(_,s.__digit(_));for(;_<v;_++)f.__setDigit(_,0);return f}static __absoluteCompare(s,u){let f=s.length-u.length;if(f!=0)return f;let l=s.length-1;for(;0<=l&&s.__digit(l)===u.__digit(l);)l--;return 0>l?0:s.__unsignedDigit(l)>u.__unsignedDigit(l)?1:-1}static __multiplyAccumulate(s,u,f,l){if(u===0)return;let p=32767&u,g=u>>>15,v=0,_=0;for(let T,O=0;O<s.length;O++,l++){T=f.__digit(l);let R=s.__digit(O),D=32767&R,U=R>>>15,K=o.__imul(D,p),A=o.__imul(D,g),c=o.__imul(U,p),y=o.__imul(U,g);T+=_+K+v,v=T>>>30,T&=1073741823,T+=((32767&A)<<15)+((32767&c)<<15),v+=T>>>30,_=y+(A>>>15)+(c>>>15),f.__setDigit(l,1073741823&T)}for(;v!=0||_!==0;l++){let T=f.__digit(l);T+=v+_,_=0,v=T>>>30,f.__setDigit(l,1073741823&T)}}static __internalMultiplyAdd(s,u,f,l,p){let g=f,v=0;for(let _=0;_<l;_++){let T=s.__digit(_),O=o.__imul(32767&T,u),R=o.__imul(T>>>15,u),D=O+((32767&R)<<15)+v+g;g=D>>>30,v=R>>>15,p.__setDigit(_,1073741823&D)}if(p.length>l)for(p.__setDigit(l++,g+v);l<p.length;)p.__setDigit(l++,0);else if(g+v!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(s,u,f){f>this.length&&(f=this.length);let l=32767&s,p=s>>>15,g=0,v=u;for(let _=0;_<f;_++){let T=this.__digit(_),O=32767&T,R=T>>>15,D=o.__imul(O,l),U=o.__imul(O,p),K=o.__imul(R,l),A=o.__imul(R,p),c=v+D+g;g=c>>>30,c&=1073741823,c+=((32767&U)<<15)+((32767&K)<<15),g+=c>>>30,v=A+(U>>>15)+(K>>>15),this.__setDigit(_,1073741823&c)}if(g!=0||v!==0)throw new Error("implementation bug")}static __absoluteDivSmall(s,u,f=null){f===null&&(f=new o(s.length,!1));let l=0;for(let p,g=2*s.length-1;0<=g;g-=2){p=(l<<15|s.__halfDigit(g))>>>0;let v=0|p/u;l=0|p%u,p=(l<<15|s.__halfDigit(g-1))>>>0;let _=0|p/u;l=0|p%u,f.__setDigit(g>>>1,v<<15|_)}return f}static __absoluteModSmall(s,u){let f=0;for(let l=2*s.length-1;0<=l;l--){let p=(f<<15|s.__halfDigit(l))>>>0;f=0|p%u}return f}static __absoluteDivLarge(s,u,f,l){let p=u.__halfDigitLength(),g=u.length,v=s.__halfDigitLength()-p,_=null;f&&(_=new o(v+2>>>1,!1),_.__initializeDigits());let T=new o(p+2>>>1,!1);T.__initializeDigits();let O=o.__clz15(u.__halfDigit(p-1));0<O&&(u=o.__specialLeftShift(u,O,0));let R=o.__specialLeftShift(s,O,1),D=u.__halfDigit(p-1),U=0;for(let K,A=v;0<=A;A--){K=32767;let c=R.__halfDigit(A+p);if(c!==D){let x=(c<<15|R.__halfDigit(A+p-1))>>>0;K=0|x/D;let M=0|x%D,L=u.__halfDigit(p-2),ce=R.__halfDigit(A+p-2);for(;o.__imul(K,L)>>>0>(M<<16|ce)>>>0&&(K--,M+=D,!(32767<M)););}o.__internalMultiplyAdd(u,K,0,g,T);let y=R.__inplaceSub(T,A,p+1);y!==0&&(y=R.__inplaceAdd(u,A,p),R.__setHalfDigit(A+p,32767&R.__halfDigit(A+p)+y),K--),f&&(1&A?U=K<<15:_.__setDigit(A>>>1,U|K))}if(l)return R.__inplaceRightShift(O),f?{quotient:_,remainder:R}:R;if(f)return _;throw new Error("unreachable")}static __clz15(s){return o.__clz30(s)-15}__inplaceAdd(s,u,f){let l=0;for(let p=0;p<f;p++){let g=this.__halfDigit(u+p)+s.__halfDigit(p)+l;l=g>>>15,this.__setHalfDigit(u+p,32767&g)}return l}__inplaceSub(s,u,f){let l=0;if(1&u){u>>=1;let p=this.__digit(u),g=32767&p,v=0;for(;v<f-1>>>1;v++){let O=s.__digit(v),R=(p>>>15)-(32767&O)-l;l=1&R>>>15,this.__setDigit(u+v,(32767&R)<<15|32767&g),p=this.__digit(u+v+1),g=(32767&p)-(O>>>15)-l,l=1&g>>>15}let _=s.__digit(v),T=(p>>>15)-(32767&_)-l;if(l=1&T>>>15,this.__setDigit(u+v,(32767&T)<<15|32767&g),u+v+1>=this.length)throw new RangeError("out of bounds");(1&f)==0&&(p=this.__digit(u+v+1),g=(32767&p)-(_>>>15)-l,l=1&g>>>15,this.__setDigit(u+s.length,1073709056&p|32767&g))}else{u>>=1;let p=0;for(;p<s.length-1;p++){let O=this.__digit(u+p),R=s.__digit(p),D=(32767&O)-(32767&R)-l;l=1&D>>>15;let U=(O>>>15)-(R>>>15)-l;l=1&U>>>15,this.__setDigit(u+p,(32767&U)<<15|32767&D)}let g=this.__digit(u+p),v=s.__digit(p),_=(32767&g)-(32767&v)-l;l=1&_>>>15;let T=0;(1&f)==0&&(T=(g>>>15)-(v>>>15)-l,l=1&T>>>15),this.__setDigit(u+p,(32767&T)<<15|32767&_)}return l}__inplaceRightShift(s){if(s===0)return;let u=this.__digit(0)>>>s,f=this.length-1;for(let l=0;l<f;l++){let p=this.__digit(l+1);this.__setDigit(l,1073741823&p<<30-s|u),u=p>>>s}this.__setDigit(f,u)}static __specialLeftShift(s,u,f){let l=s.length,p=new o(l+f,!1);if(u===0){for(let v=0;v<l;v++)p.__setDigit(v,s.__digit(v));return 0<f&&p.__setDigit(l,0),p}let g=0;for(let v=0;v<l;v++){let _=s.__digit(v);p.__setDigit(v,1073741823&_<<u|g),g=_>>>30-u}return 0<f&&p.__setDigit(l,g),p}static __leftShiftByAbsolute(s,u){let f=o.__toShiftAmount(u);if(0>f)throw new RangeError("BigInt too big");let l=0|f/30,p=f%30,g=s.length,v=p!==0&&s.__digit(g-1)>>>30-p!=0,_=g+l+(v?1:0),T=new o(_,s.sign);if(p===0){let O=0;for(;O<l;O++)T.__setDigit(O,0);for(;O<_;O++)T.__setDigit(O,s.__digit(O-l))}else{let O=0;for(let R=0;R<l;R++)T.__setDigit(R,0);for(let R=0;R<g;R++){let D=s.__digit(R);T.__setDigit(R+l,1073741823&D<<p|O),O=D>>>30-p}if(v)T.__setDigit(g+l,O);else if(O!==0)throw new Error("implementation bug")}return T.__trim()}static __rightShiftByAbsolute(s,u){let f=s.length,l=s.sign,p=o.__toShiftAmount(u);if(0>p)return o.__rightShiftByMaximum(l);let g=0|p/30,v=p%30,_=f-g;if(0>=_)return o.__rightShiftByMaximum(l);let T=!1;if(l){if((s.__digit(g)&(1<<v)-1)!=0)T=!0;else for(let R=0;R<g;R++)if(s.__digit(R)!==0){T=!0;break}}T&&v===0&&~s.__digit(f-1)==0&&_++;let O=new o(_,l);if(v===0){O.__setDigit(_-1,0);for(let R=g;R<f;R++)O.__setDigit(R-g,s.__digit(R))}else{let R=s.__digit(g)>>>v,D=f-g-1;for(let U=0;U<D;U++){let K=s.__digit(U+g+1);O.__setDigit(U,1073741823&K<<30-v|R),R=K>>>v}O.__setDigit(D,R)}return T&&(O=o.__absoluteAddOne(O,!0,O)),O.__trim()}static __rightShiftByMaximum(s){return s?o.__oneDigit(1,!0):o.__zero()}static __toShiftAmount(s){if(1<s.length)return-1;let u=s.__unsignedDigit(0);return u>o.__kMaxLengthBits?-1:u}static __toPrimitive(s,u="default"){if(typeof s!="object"||s.constructor===o)return s;if(typeof Symbol<"u"&&typeof Symbol.toPrimitive=="symbol"){let p=s[Symbol.toPrimitive];if(p){let g=p(u);if(typeof g!="object")return g;throw new TypeError("Cannot convert object to primitive value")}}let f=s.valueOf;if(f){let p=f.call(s);if(typeof p!="object")return p}let l=s.toString;if(l){let p=l.call(s);if(typeof p!="object")return p}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(s){return o.__isBigInt(s)?s:+s}static __isBigInt(s){return typeof s=="object"&&s!==null&&s.constructor===o}static __truncateToNBits(s,u){let f=0|(s+29)/30,l=new o(f,u.sign),p=f-1;for(let v=0;v<p;v++)l.__setDigit(v,u.__digit(v));let g=u.__digit(p);if(s%30!=0){let v=32-s%30;g=g<<v>>>v}return l.__setDigit(p,g),l.__trim()}static __truncateAndSubFromPowerOfTwo(s,u,f){var l=Math.min;let p=0|(s+29)/30,g=new o(p,f),v=0,_=p-1,T=0;for(let U=l(_,u.length);v<U;v++){let K=0-u.__digit(v)-T;T=1&K>>>30,g.__setDigit(v,1073741823&K)}for(;v<_;v++)g.__setDigit(v,0|1073741823&-T);let O=_<u.length?u.__digit(_):0,R=s%30,D;if(R==0)D=0-O-T,D&=1073741823;else{let U=32-R;O=O<<U>>>U;let K=1<<32-U;D=K-O-T,D&=K-1}return g.__setDigit(_,D),g.__trim()}__digit(s){return this[s]}__unsignedDigit(s){return this[s]>>>0}__setDigit(s,u){this[s]=0|u}__setDigitGrow(s,u){this[s]=0|u}__halfDigitLength(){let s=this.length;return 32767>=this.__unsignedDigit(s-1)?2*s-1:2*s}__halfDigit(s){return 32767&this[s>>>1]>>>15*(1&s)}__setHalfDigit(s,u){let f=s>>>1,l=this.__digit(f),p=1&s?32767&l|u<<15:1073709056&l|32767&u;this.__setDigit(f,p)}static __digitPow(s,u){let f=1;for(;0<u;)1&u&&(f*=s),u>>>=1,s*=s;return f}static __isOneDigitInt(s){return(1073741823&s)===s}}return o.__kMaxLength=33554432,o.__kMaxLengthBits=o.__kMaxLength<<5,o.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],o.__kBitsPerCharTableShift=5,o.__kBitsPerCharTableMultiplier=1<<o.__kBitsPerCharTableShift,o.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],o.__kBitConversionBuffer=new ArrayBuffer(8),o.__kBitConversionDouble=new Float64Array(o.__kBitConversionBuffer),o.__kBitConversionInts=new Int32Array(o.__kBitConversionBuffer),o.__clz30=e?function(a){return e(a)-2}:function(a){var s=Math.LN2,u=Math.log;return a===0?30:0|29-(0|u(a>>>0)/s)},o.__imul=r||function(a,s){return 0|a*s},o})});var L9=b(Kg=>{"use strict";d();h();var U9=Kg&&Kg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Kg,"__esModule",{value:!0});var xZ=gc(),q9=U9(UW()),Fe=U9(M9()),_Z=18446744073709552e3,F9=(r,e)=>Fe.default.bitwiseXor(Fe.default.asUintN(64,Fe.default.leftShift(r,Fe.default.BigInt(e))),Fe.default.BigInt(Fe.default.asUintN(64,Fe.default.signedRightShift(r,Fe.default.subtract(Fe.default.BigInt(64),Fe.default.BigInt(e)))))),r8=class{constructor(e){this.next=()=>new q9.default(this.roll().toString()),this.nextDouble=()=>new q9.default(this.roll().toString()).div(_Z+1),this.nextInt=(n,i)=>Math.floor(this.nextDouble().toNumber()*(i-n+1)+n),this.nextByte=()=>this.nextInt(0,255),this.nextData=n=>[...new Array(n)].map(()=>this.nextByte());let t=xZ.sha256Hash(e);this.s=[Fe.default.BigInt(0),Fe.default.BigInt(0),Fe.default.BigInt(0),Fe.default.BigInt(0)],this.setS(t)}setS(e){for(let t=0;t<4;t++){let n=t*8,i=Fe.default.BigInt(0);for(let o=0;o<8;o++)i=Fe.default.asUintN(64,Fe.default.leftShift(i,Fe.default.BigInt(8))),i=Fe.default.asUintN(64,Fe.default.bitwiseOr(i,Fe.default.BigInt(e[n+o])));this.s[t]=Fe.default.asUintN(64,i)}}roll(){let e=Fe.default.asUintN(64,Fe.default.multiply(F9(Fe.default.asUintN(64,Fe.default.multiply(this.s[1],Fe.default.BigInt(5))),7),Fe.default.BigInt(9))),t=Fe.default.asUintN(64,Fe.default.leftShift(this.s[1],Fe.default.BigInt(17)));return this.s[2]=Fe.default.asUintN(64,Fe.default.bitwiseXor(this.s[2],Fe.default.BigInt(this.s[0]))),this.s[3]=Fe.default.asUintN(64,Fe.default.bitwiseXor(this.s[3],Fe.default.BigInt(this.s[1]))),this.s[1]=Fe.default.asUintN(64,Fe.default.bitwiseXor(this.s[1],Fe.default.BigInt(this.s[2]))),this.s[0]=Fe.default.asUintN(64,Fe.default.bitwiseXor(this.s[0],Fe.default.BigInt(this.s[3]))),this.s[2]=Fe.default.asUintN(64,Fe.default.bitwiseXor(this.s[2],Fe.default.BigInt(t))),this.s[3]=Fe.default.asUintN(64,F9(this.s[3],45)),e}};Kg.default=r8});var j9=b((bCe,k9)=>{d();h();function Vg(r,e,t){"use strict";this.alias=[],this.prob=[],this.outcomes=e||this.indexedOutcomes(r.length),this.rng=t||Math.random,this.precomputeAlias(r)}Vg.prototype.next=function(r){"use strict";var e=r||1,t=[],n=0;do{var i=Math.floor(this.rng()*this.prob.length);t[n]=this.outcomes[this.rng()<this.prob[i]?i:this.alias[i]]}while(++n<e);return e>1?t:t[0]};Vg.prototype.precomputeAlias=function(r){"use strict";var e=r.length,t=0,n=0,i=0,o=[],a=[],s=[],u,f,l;for(f=0;f<e;++f){if(r[f]<0)throw"Probability must be a positive: p["+f+"]="+r[f];t+=r[f]}if(t===0)throw"Probability cannot be zero.";for(f=0;f<e;++f)o[f]=r[f]*e/t;for(f=e-1;f>=0;--f)o[f]<1?a[n++]=f:s[i++]=f;for(;n&&i;)l=a[--n],u=s[--i],this.prob[l]=o[l],this.alias[l]=u,o[u]=o[u]+o[l]-1,o[u]<1?a[n++]=u:s[i++]=u;for(;i;)this.prob[s[--i]]=1;for(;n;)this.prob[a[--n]]=1};Vg.prototype.indexedOutcomes=function(r){"use strict";for(var e=[],t=0;t<r;t++)e[t]=t;return e};Vg.prototype.randomInt=function(r,e){"use strict";return Math.floor(this.rng()*(e-r))+r};k9.exports=function(r,e,t){"use strict";return new Vg(r,e,t)}});var n8=b(oa=>{"use strict";d();h();var wZ=oa&&oa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(oa,"__esModule",{value:!0});oa.chooseFragments=oa.shuffle=oa.chooseDegree=void 0;var H9=gc(),EZ=wZ(L9()),bZ=j9(),IZ=(r,e)=>{let t=[...new Array(r)].map((i,o)=>1/(o+1));return bZ(t,null,e.nextDouble).next()+1};oa.chooseDegree=IZ;var TZ=(r,e)=>{let t=[...r],n=[];for(;t.length>0;){let i=e.nextInt(0,t.length-1),o=t[i];t.splice(i,1),n.push(o)}return n};oa.shuffle=TZ;var SZ=(r,e,t)=>{if(r<=e)return[r-1];{let n=m.Buffer.concat([H9.intToBytes(r),H9.intToBytes(t)]),i=new EZ.default(n),o=oa.chooseDegree(e,i),a=[...new Array(e)].map((u,f)=>f);return oa.shuffle(a,i).slice(0,o)}};oa.chooseFragments=SZ});var i8=b(gl=>{"use strict";d();h();var CZ=gl&&gl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gl,"__esModule",{value:!0});gl.FountainEncoderPart=void 0;var yc=CZ(So()),Gg=gc(),AZ=n8(),K9=$I(),Qh=class{constructor(e,t,n,i,o){this._seqNum=e,this._seqLength=t,this._messageLength=n,this._checksum=i,this._fragment=o}get messageLength(){return this._messageLength}get fragment(){return this._fragment}get seqNum(){return this._seqNum}get seqLength(){return this._seqLength}get checksum(){return this._checksum}cbor(){let e=K9.cborEncode([this._seqNum,this._seqLength,this._messageLength,this._checksum,this._fragment]);return m.Buffer.from(e)}description(){return`seqNum:${this._seqNum}, seqLen:${this._seqLength}, messageLen:${this._messageLength}, checksum:${this._checksum}, data:${this._fragment.toString("hex")}`}static fromCBOR(e){let[t,n,i,o,a]=K9.cborDecode(e);return yc.default(typeof t=="number"),yc.default(typeof n=="number"),yc.default(typeof i=="number"),yc.default(typeof o=="number"),yc.default(m.Buffer.isBuffer(a)&&a.length>0),new Qh(t,n,i,o,m.Buffer.from(a))}};gl.FountainEncoderPart=Qh;var e1=class{constructor(e,t=100,n=0,i=10){let o=e1.findNominalFragmentLength(e.length,i,t);this._messageLength=e.length,this._fragments=e1.partitionMessage(e,o),this.fragmentLength=o,this.seqNum=Gg.toUint32(n),this.checksum=Gg.getCRC(e)}get fragmentsLength(){return this._fragments.length}get fragments(){return this._fragments}get messageLength(){return this._messageLength}isComplete(){return this.seqNum>=this._fragments.length}isSinglePart(){return this._fragments.length===1}seqLength(){return this._fragments.length}mix(e){return e.reduce((t,n)=>Gg.bufferXOR(this._fragments[n],t),m.Buffer.alloc(this.fragmentLength,0))}nextPart(){this.seqNum=Gg.toUint32(this.seqNum+1);let e=AZ.chooseFragments(this.seqNum,this._fragments.length,this.checksum),t=this.mix(e);return new Qh(this.seqNum,this._fragments.length,this._messageLength,this.checksum,t)}static findNominalFragmentLength(e,t,n){yc.default(e>0),yc.default(t>0),yc.default(n>=t);let i=Math.ceil(e/t),o=0;for(let a=1;a<=i&&(o=Math.ceil(e/a),!(o<=n));a++);return o}static partitionMessage(e,t){let n=m.Buffer.from(e),i,o=[];for(;n.length>0;)[i,n]=Gg.split(n,-t),i=m.Buffer.alloc(t,0).fill(i,0,i.length),o.push(i);return o}};gl.default=e1});var a8=b(Yg=>{"use strict";d();h();var OZ=Yg&&Yg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yg,"__esModule",{value:!0});var t1=OZ(So()),hx=gc(),DZ="ableacidalsoapexaquaarchatomauntawayaxisbackbaldbarnbeltbetabiasbluebodybragbrewbulbbuzzcalmcashcatschefcityclawcodecolacookcostcruxcurlcuspcyandarkdatadaysdelidicedietdoordowndrawdropdrumdulldutyeacheasyechoedgeepicevenexamexiteyesfactfairfernfigsfilmfishfizzflapflewfluxfoxyfreefrogfuelfundgalagamegeargemsgiftgirlglowgoodgraygrimgurugushgyrohalfhanghardhawkheathelphighhillholyhopehornhutsicedideaidleinchinkyintoirisironitemjadejazzjoinjoltjowljudojugsjumpjunkjurykeepkenokeptkeyskickkilnkingkitekiwiknoblamblavalazyleaflegsliarlimplionlistlogoloudloveluaulucklungmainmanymathmazememomenumeowmildmintmissmonknailnavyneednewsnextnoonnotenumbobeyoboeomitonyxopenovalowlspaidpartpeckplaypluspoempoolposepuffpumapurrquadquizraceramprealredorichroadrockroofrubyruinrunsrustsafesagascarsetssilkskewslotsoapsolosongstubsurfswantacotasktaxitenttiedtimetinytoiltombtoystriptunatwinuglyundouniturgeuservastveryvetovialvibeviewvisavoidvowswallwandwarmwaspwavewaxywebswhatwhenwhizwolfworkyankyawnyellyogayurtzapszerozestzinczonezoom",dx=[],RZ=256,mc=4,PZ=2,_s;(function(r){r.STANDARD="standard",r.URI="uri",r.MINIMAL="minimal"})(_s||(_s={}));var px=r=>DZ.slice(r*mc,r*mc+mc),BZ=r=>{let e=px(r);return`${e[0]}${e[mc-1]}`},G9=r=>{let e=hx.getCRCHex(m.Buffer.from(r,"hex"));return`${r}${e}`},V9=(r,e)=>{let t=G9(r);return m.Buffer.from(t,"hex").reduce((o,a)=>[...o,px(a)],[]).join(e)},NZ=r=>{let e=G9(r);return m.Buffer.from(e,"hex").reduce((i,o)=>i+BZ(o),"")},MZ=(r,e)=>{t1.default(r.length===e,"Invalid Bytewords: word.length does not match wordLength provided");let t=26;if(dx.length===0){let s=t*t;dx=[...new Array(s)].map(()=>-1);for(let u=0;u<RZ;u++){let f=px(u),l=f[0].charCodeAt(0)-"a".charCodeAt(0),g=(f[3].charCodeAt(0)-"a".charCodeAt(0))*t+l;dx[g]=u}}let n=r[0].toLowerCase().charCodeAt(0)-"a".charCodeAt(0),i=r[e==4?3:1].toLowerCase().charCodeAt(0)-"a".charCodeAt(0);t1.default(0<=n&&n<t&&0<=i&&i<t,"Invalid Bytewords: invalid word");let o=i*t+n,a=dx[o];if(t1.default(a!==-1,"Invalid Bytewords: value not in lookup table"),e==mc){let s=px(a),u=r[1].toLowerCase(),f=r[2].toLowerCase();t1.default(u===s[1]&&f===s[2],"Invalid Bytewords: invalid middle letters of word")}return m.Buffer.from([a]).toString("hex")},o8=(r,e,t)=>{let i=(t==mc?r.split(e):hx.partition(r,2)).map(u=>MZ(u,t)).join("");t1.default(i.length>=5,"Invalid Bytewords: invalid decoded string length");let[o,a]=hx.split(m.Buffer.from(i,"hex"),4),s=hx.getCRCHex(o);return t1.default(s===a.toString("hex"),"Invalid Checksum"),o.toString("hex")},qZ=(r,e=_s.MINIMAL)=>{switch(e){case _s.STANDARD:return o8(r," ",mc);case _s.URI:return o8(r,"-",mc);case _s.MINIMAL:return o8(r,"",PZ);default:throw new Error(`Invalid style ${e}`)}},FZ=(r,e=_s.MINIMAL)=>{switch(e){case _s.STANDARD:return V9(r," ");case _s.URI:return V9(r,"-");case _s.MINIMAL:return NZ(r);default:throw new Error(`Invalid style ${e}`)}};Yg.default={decode:qZ,encode:FZ,STYLES:_s}});var z9=b(zg=>{"use strict";d();h();var Y9=zg&&zg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zg,"__esModule",{value:!0});var UZ=Y9(i8()),gx=Y9(a8()),lf=class{constructor(e,t,n,i){this.ur=e,this.fountainEncoder=new UZ.default(e.cbor,t,n,i)}get fragmentsLength(){return this.fountainEncoder.fragmentsLength}get fragments(){return this.fountainEncoder.fragments}get messageLength(){return this.fountainEncoder.messageLength}get cbor(){return this.ur.cbor}encodeWhole(){return[...new Array(this.fragmentsLength)].map(()=>this.nextPart())}nextPart(){let e=this.fountainEncoder.nextPart();return this.fountainEncoder.isSinglePart()?lf.encodeSinglePart(this.ur):lf.encodePart(this.ur.type,e)}static encodeUri(e,t){let n=t.join("/");return[e,n].join(":")}static encodeUR(e){return lf.encodeUri("ur",e)}static encodePart(e,t){let n=`${t.seqNum}-${t.seqLength}`,i=gx.default.encode(t.cbor().toString("hex"),gx.default.STYLES.MINIMAL);return lf.encodeUR([e,n,i])}static encodeSinglePart(e){let t=gx.default.encode(e.cbor.toString("hex"),gx.default.STYLES.MINIMAL);return lf.encodeUR([e.type,t])}};zg.default=lf});var W9=b(Wg=>{"use strict";d();h();Object.defineProperty(Wg,"__esModule",{value:!0});Wg.FountainDecoderPart=void 0;var r1=gc(),LZ=n8(),kZ=cx(),yl=class{constructor(e,t){this._indexes=e,this._fragment=t}get indexes(){return this._indexes}get fragment(){return this._fragment}static fromEncoderPart(e){let t=LZ.chooseFragments(e.seqNum,e.seqLength,e.checksum),n=e.fragment;return new yl(t,n)}isSimple(){return this.indexes.length===1}};Wg.FountainDecoderPart=yl;var n1=class{constructor(){this.result=void 0,this.expectedMessageLength=0,this.expectedChecksum=0,this.expectedFragmentLength=0,this.processedPartsCount=0,this.expectedPartIndexes=[],this.lastPartIndexes=[],this.queuedParts=[],this.receivedPartIndexes=[],this.mixedParts=[],this.simpleParts=[]}validatePart(e){if(this.expectedPartIndexes.length===0)[...new Array(e.seqLength)].forEach((t,n)=>this.expectedPartIndexes.push(n)),this.expectedMessageLength=e.messageLength,this.expectedChecksum=e.checksum,this.expectedFragmentLength=e.fragment.length;else if(this.expectedPartIndexes.length!==e.seqLength||this.expectedMessageLength!==e.messageLength||this.expectedChecksum!==e.checksum||this.expectedFragmentLength!==e.fragment.length)return!1;return!0}reducePartByPart(e,t){if(r1.arrayContains(e.indexes,t.indexes)){let n=r1.setDifference(e.indexes,t.indexes),i=r1.bufferXOR(e.fragment,t.fragment);return new yl(n,i)}else return e}reduceMixedBy(e){let t=[];this.mixedParts.map(({value:n})=>this.reducePartByPart(n,e)).forEach(n=>{n.isSimple()?this.queuedParts.push(n):t.push({key:n.indexes,value:n})}),this.mixedParts=t}processSimplePart(e){let t=e.indexes[0];if(!this.receivedPartIndexes.includes(t))if(this.simpleParts.push({key:e.indexes,value:e}),this.receivedPartIndexes.push(t),r1.arraysEqual(this.receivedPartIndexes,this.expectedPartIndexes)){let n=this.simpleParts.map(({value:a})=>a).sort((a,s)=>a.indexes[0]-s.indexes[0]),i=n1.joinFragments(n.map(a=>a.fragment),this.expectedMessageLength);r1.getCRC(i)===this.expectedChecksum?this.result=i:this.error=new kZ.InvalidChecksumError}else this.reduceMixedBy(e)}processMixedPart(e){if(this.mixedParts.some(({key:n})=>r1.arraysEqual(n,e.indexes)))return;let t=this.simpleParts.reduce((n,{value:i})=>this.reducePartByPart(n,i),e);t=this.mixedParts.reduce((n,{value:i})=>this.reducePartByPart(n,i),t),t.isSimple()?this.queuedParts.push(t):(this.reduceMixedBy(t),this.mixedParts.push({key:t.indexes,value:t}))}processQueuedItem(){if(this.queuedParts.length===0)return;let e=this.queuedParts.shift();e.isSimple()?this.processSimplePart(e):this.processMixedPart(e)}receivePart(e){if(this.isComplete()||!this.validatePart(e))return!1;let t=yl.fromEncoderPart(e);for(this.lastPartIndexes=t.indexes,this.queuedParts.push(t);!this.isComplete()&&this.queuedParts.length>0;)this.processQueuedItem();return this.processedPartsCount+=1,!0}isComplete(){return Boolean(this.result!==void 0&&this.result.length>0)}isSuccess(){return Boolean(this.error===void 0&&this.isComplete())}resultMessage(){return this.isSuccess()?this.result:m.Buffer.from([])}isFailure(){return this.error!==void 0}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.expectedPartIndexes.length}getExpectedPartIndexes(){return[...this.expectedPartIndexes]}getReceivedPartIndexes(){return[...this.receivedPartIndexes]}getLastPartIndexes(){return[...this.lastPartIndexes]}estimatedPercentComplete(){if(this.isComplete())return 1;let e=this.expectedPartCount();return e===0?0:Math.min(.99,this.processedPartsCount/(e*1.75))}getProgress(){if(this.isComplete())return 1;let e=this.expectedPartCount();return e===0?0:this.receivedPartIndexes.length/e}};Wg.default=n1;n1.joinFragments=(r,e)=>m.Buffer.concat(r).slice(0,e)});var X9=b(Xg=>{"use strict";d();h();var vx=Xg&&Xg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xg,"__esModule",{value:!0});var jZ=vx(W9()),yx=vx(a8()),HZ=vx(So()),mx=gc(),vc=cx(),s8=vx(QI()),KZ=i8(),xc=class{constructor(e=new jZ.default,t="bytes"){this.fountainDecoder=e,this.type=t,HZ.default(mx.isURType(t),"Invalid UR type"),this.expected_type=""}static decodeBody(e,t){let n=yx.default.decode(t,yx.default.STYLES.MINIMAL);return new s8.default(m.Buffer.from(n,"hex"),e)}validatePart(e){return this.expected_type?this.expected_type===e:mx.isURType(e)?(this.expected_type=e,!0):!1}static decode(e){let[t,n]=this.parse(e);if(n.length===0)throw new vc.InvalidPathLengthError;let i=n[0];return xc.decodeBody(t,i)}static parse(e){let t=e.toLowerCase();if(t.slice(0,3)!=="ur:")throw new vc.InvalidSchemeError;let i=t.slice(3).split("/"),o=i[0];if(i.length<2)throw new vc.InvalidPathLengthError;if(!mx.isURType(o))throw new vc.InvalidTypeError;return[o,i.slice(1)]}static parseSequenceComponent(e){let t=e.split("-");if(t.length!==2)throw new vc.InvalidSequenceComponentError;let n=mx.toUint32(Number(t[0])),i=Number(t[1]);if(n<1||i<1)throw new vc.InvalidSequenceComponentError;return[n,i]}receivePart(e){if(this.result!==void 0)return!1;let[t,n]=xc.parse(e);if(!this.validatePart(t))return!1;if(n.length===1)return this.result=xc.decodeBody(t,n[0]),!0;if(n.length!==2)throw new vc.InvalidPathLengthError;let[i,o]=n,[a,s]=xc.parseSequenceComponent(i),u=yx.default.decode(o,yx.default.STYLES.MINIMAL),f=KZ.FountainEncoderPart.fromCBOR(u);return a!==f.seqNum||s!==f.seqLength||!this.fountainDecoder.receivePart(f)?!1:(this.fountainDecoder.isSuccess()?this.result=new s8.default(this.fountainDecoder.resultMessage(),t):this.fountainDecoder.isFailure()&&(this.error=new vc.InvalidSchemeError),!0)}resultUR(){return this.result?this.result:new s8.default(m.Buffer.from([]))}isComplete(){return this.result&&this.result.cbor.length>0}isSuccess(){return!this.error&&this.isComplete()}isError(){return this.error!==void 0}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.fountainDecoder.expectedPartCount()}expectedPartIndexes(){return this.fountainDecoder.getExpectedPartIndexes()}receivedPartIndexes(){return this.fountainDecoder.getReceivedPartIndexes()}lastPartIndexes(){return this.fountainDecoder.getLastPartIndexes()}estimatedPercentComplete(){return this.fountainDecoder.estimatedPercentComplete()}getProgress(){return this.fountainDecoder.getProgress()}};Xg.default=xc});var Gr=b(su=>{"use strict";d();h();var u8=su&&su.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(su,"__esModule",{value:!0});su.URDecoder=su.UREncoder=su.UR=void 0;var VZ=u8(QI());su.UR=VZ.default;var GZ=u8(z9());su.UREncoder=GZ.default;var YZ=u8(X9());su.URDecoder=YZ.default});var Bn=b(xx=>{"use strict";d();h();Object.defineProperty(xx,"__esModule",{value:!0});xx.RegistryItem=void 0;var J9=Gr(),zZ=Hr(),f8=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,zZ.encodeDataItem)(this.toDataItem())},this.toUR=()=>new J9.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,n)=>{let i=this.toUR();return new J9.UREncoder(i,e,t,n)}}};xx.RegistryItem=f8});var _x=b(uu=>{"use strict";d();h();Object.defineProperty(uu,"__esModule",{value:!0});uu.CryptoCoinInfo=uu.Network=uu.Type=void 0;var $9=Hr(),WZ=Bn(),XZ=Kr(),i1;(function(r){r.type="1",r.network="2"})(i1||(i1={}));var Z9;(function(r){r[r.bitcoin=0]="bitcoin"})(Z9=uu.Type||(uu.Type={}));var Q9;(function(r){r[r.mainnet=0]="mainnet",r[r.testnet=1]="testnet"})(Q9=uu.Network||(uu.Network={}));var ml=class extends WZ.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>XZ.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||Z9.bitcoin,this.getNetwork=()=>this.network||Q9.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[i1.type]=this.type),this.network&&(n[i1.network]=this.network),new $9.DataItem(n)}}};uu.CryptoCoinInfo=ml;ml.fromDataItem=r=>{let e=r.getData(),t=e[i1.type],n=e[i1.network];return new ml(t,n)};ml.fromCBOR=r=>{let e=(0,$9.decodeToDataItem)(r);return ml.fromDataItem(e)}});var Ex=b(wx=>{"use strict";d();h();Object.defineProperty(wx,"__esModule",{value:!0});wx.PathComponent=void 0;var o1=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&o1.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};wx.PathComponent=o1;o1.HARDENED_BIT=2147483648});var Jg=b(bx=>{"use strict";d();h();Object.defineProperty(bx,"__esModule",{value:!0});bx.CryptoKeypath=void 0;var tP=Hr(),eP=Ex(),JZ=Bn(),$Z=Kr(),_c;(function(r){r[r.components=1]="components",r[r.source_fingerprint=2]="source_fingerprint",r[r.depth=3]="depth"})(_c||(_c={}));var vl=class extends JZ.RegistryItem{constructor(e=[],t,n){super(),this.components=e,this.sourceFingerprint=t,this.depth=n,this.getRegistryType=()=>$Z.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(o=>`${o.isWildcard()?"*":o.getIndex()}${o.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},o=[];return this.components&&this.components.forEach(a=>{a.isWildcard()?o.push([]):o.push(a.getIndex()),o.push(a.isHardened())}),i[_c.components]=o,this.sourceFingerprint&&(i[_c.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[_c.depth]=this.depth),new tP.DataItem(i)}}};bx.CryptoKeypath=vl;vl.fromDataItem=r=>{let e=r.getData(),t=[],n=e[_c.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?t.push(new eP.PathComponent({index:f,hardened:u})):t.push(new eP.PathComponent({hardened:u}))}let i=e[_c.source_fingerprint],o;i&&(o=m.Buffer.alloc(4),o.writeUInt32BE(i,0));let a=e[_c.depth];return new vl(t,o,a)};vl.fromCBOR=r=>{let e=(0,tP.decodeToDataItem)(r);return vl.fromDataItem(e)}});var a1=b(Ix=>{"use strict";d();h();Object.defineProperty(Ix,"__esModule",{value:!0});Ix.CryptoHDKey=void 0;var ZZ=F7(),QZ=_x(),rP=Jg(),nP=Hr(),eQ=Bn(),tQ=Kr(),bt;(function(r){r[r.is_master=1]="is_master",r[r.is_private=2]="is_private",r[r.key_data=3]="key_data",r[r.chain_code=4]="chain_code",r[r.use_info=5]="use_info",r[r.origin=6]="origin",r[r.children=7]="children",r[r.parent_fingerprint=8]="parent_fingerprint",r[r.name=9]="name",r[r.note=10]="note"})(bt||(bt={}));var xl=class extends eQ.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var t,n,i;let o,a,s=0,u=m.Buffer.alloc(4).fill(0);if(this.isMaster())o=m.Buffer.from("0488ADE4","hex"),a=0,s=0;else{a=((t=this.getOrigin())===null||t===void 0?void 0:t.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());let v=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),_=v[v.length-1];_&&(s=_.isHardened()?_.getIndex()+2147483648:_.getIndex(),this.getParentFingerprint()&&(u=this.getParentFingerprint())),this.isPrivateKey()?o=m.Buffer.from("0488ADE4","hex"):o=m.Buffer.from("0488B21E","hex")}let f=m.Buffer.alloc(1);f.writeUInt8(a,0);let l=m.Buffer.alloc(4);l.writeUInt32BE(s,0);let p=this.getChainCode(),g=this.getKey();return(0,ZZ.encode)(m.Buffer.concat([o,f,u,l,p,g]))},this.getRegistryType=()=>tQ.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var t,n,i,o,a,s,u;let f="";return this.getOrigin()&&((t=this.getOrigin())===null||t===void 0?void 0:t.getSourceFingerprint())&&((n=this.getOrigin())===null||n===void 0?void 0:n.getPath())&&(f+=`${(o=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||o===void 0?void 0:o.toString("hex")}/${(a=this.getOrigin())===null||a===void 0?void 0:a.getPath()}`),f+=this.getBip32Key(),this.getChildren()&&!((s=this.getChildren())===null||s===void 0)&&s.getPath()&&(f+=`/${(u=this.getChildren())===null||u===void 0?void 0:u.getPath()}`),f},this.setupMasterKey=t=>{this.master=!0,this.key=t.key,this.chainCode=t.chainCode},this.setupDeriveKey=t=>{this.master=!1,this.privateKey=t.isPrivateKey,this.key=t.key,this.chainCode=t.chainCode,this.useInfo=t.useInfo,this.origin=t.origin,this.children=t.children,this.parentFingerprint=t.parentFingerprint,this.name=t.name,this.note=t.note},this.toDataItem=()=>{let t={};if(this.master)t[bt.is_master]=!0,t[bt.key_data]=this.key,t[bt.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(t[bt.is_private]=this.privateKey),t[bt.key_data]=this.key,this.chainCode&&(t[bt.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),t[bt.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),t[bt.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),t[bt.children]=n}this.parentFingerprint&&(t[bt.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(t[bt.name]=this.name),this.note!==void 0&&(t[bt.note]=this.note)}return new nP.DataItem(t)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};Ix.CryptoHDKey=xl;xl.fromDataItem=r=>{let e=r.getData(),t=!!e[bt.is_master],n=e[bt.is_private],i=e[bt.key_data],o=e[bt.chain_code],a=e[bt.use_info]?QZ.CryptoCoinInfo.fromDataItem(e[bt.use_info]):void 0,s=e[bt.origin]?rP.CryptoKeypath.fromDataItem(e[bt.origin]):void 0,u=e[bt.children]?rP.CryptoKeypath.fromDataItem(e[bt.children]):void 0,f=e[bt.parent_fingerprint],l;f&&(l=m.Buffer.alloc(4),l.writeUInt32BE(f,0));let p=e[bt.name],g=e[bt.note];return new xl({isMaster:t,isPrivateKey:n,key:i,chainCode:o,useInfo:a,origin:s,children:u,parentFingerprint:l,name:p,note:g})};xl.fromCBOR=r=>{let e=(0,nP.decodeToDataItem)(r);return xl.fromDataItem(e)}});var $g=b(Tx=>{"use strict";d();h();Object.defineProperty(Tx,"__esModule",{value:!0});Tx.CryptoECKey=void 0;var iP=Hr(),rQ=Bn(),nQ=Kr(),wc;(function(r){r[r.curve=1]="curve",r[r.private=2]="private",r[r.data=3]="data"})(wc||(wc={}));var _l=class extends rQ.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>nQ.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let t={};return this.curve&&(t[wc.curve]=this.curve),this.privateKey!==void 0&&(t[wc.private]=this.privateKey),t[wc.data]=this.data,new iP.DataItem(t)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||void 0}};Tx.CryptoECKey=_l;_l.fromDataItem=r=>{let e=r.getData(),t=e[wc.curve],n=e[wc.private],i=e[wc.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${r}`);return new _l({data:i,curve:t,privateKey:n})};_l.fromCBOR=r=>{let e=(0,iP.decodeToDataItem)(r);return _l.fromDataItem(e)}});var aP=b(Sx=>{"use strict";d();h();Object.defineProperty(Sx,"__esModule",{value:!0});Sx.Bytes=void 0;var oP=Hr(),iQ=Bn(),oQ=Kr(),wl=class extends iQ.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>oQ.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new oP.DataItem(this.bytes)}};Sx.Bytes=wl;wl.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new wl(e)};wl.fromCBOR=r=>{let e=(0,oP.decodeToDataItem)(r);return wl.fromDataItem(e)}});var Ax=b(Cx=>{"use strict";d();h();Object.defineProperty(Cx,"__esModule",{value:!0});Cx.MultiKey=void 0;var aQ=$g(),sQ=a1(),uQ=tx(),fQ=Bn(),sP=Kr(),s1;(function(r){r[r.threshold=1]="threshold",r[r.keys=2]="keys"})(s1||(s1={}));var Zg=class extends fQ.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{let n={};n[s1.threshold]=this.threshold;let i=this.keys.map(o=>{let a=o.toDataItem();return a.setTag(o.getRegistryType().getTag()),a});return n[s1.keys]=i,new uQ.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};Cx.MultiKey=Zg;Zg.fromDataItem=r=>{let e=r.getData(),t=e[s1.threshold],n=e[s1.keys],i=[];return n.forEach(o=>{o.getTag()===sP.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(sQ.CryptoHDKey.fromDataItem(o)):o.getTag()===sP.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(aQ.CryptoECKey.fromDataItem(o))}),new Zg(t,i)}});var p8=b(Ox=>{"use strict";d();h();Object.defineProperty(Ox,"__esModule",{value:!0});Ox.CryptoOutput=void 0;var l8=$g(),d8=a1(),h8=Hr(),uP=Ax(),cQ=Bn(),fP=Kr(),c8=ax(),df=class extends cQ.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>fP.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof d8.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof l8.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof uP.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof l8.CryptoECKey||this.cryptoKey instanceof d8.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(o=>{let a=o.getTag();n.getTag()===void 0?n.setTag(a):n=new h8.DataItem(n,a)}),n}}};Ox.CryptoOutput=df;df.fromDataItem=r=>{let e=[],t=r;for(;;){let o=t.getTag(),a=c8.ScriptExpression.fromTag(o);if(a)if(e.push(a),t.getData()instanceof h8.DataItem)t=t.getData(),o=t.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===c8.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===c8.ScriptExpressions.SORTED_MULTISIG.getExpression())){let o=uP.MultiKey.fromDataItem(t);return new df(e,o)}if(t.getTag()===fP.RegistryTypes.CRYPTO_HDKEY.getTag()){let o=d8.CryptoHDKey.fromDataItem(t);return new df(e,o)}else{let o=l8.CryptoECKey.fromDataItem(t);return new df(e,o)}};df.fromCBOR=r=>{let e=(0,h8.decodeToDataItem)(r);return df.fromDataItem(e)}});var g8=b(Dx=>{"use strict";d();h();Object.defineProperty(Dx,"__esModule",{value:!0});Dx.CryptoPSBT=void 0;var cP=Hr(),lQ=Bn(),dQ=Kr(),El=class extends lQ.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>dQ.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new cP.DataItem(this.psbt)}};Dx.CryptoPSBT=El;El.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new El(e)};El.fromCBOR=r=>{let e=(0,cP.decodeToDataItem)(r);return El.fromDataItem(e)}});var y8=b(Rx=>{"use strict";d();h();Object.defineProperty(Rx,"__esModule",{value:!0});Rx.CryptoAccount=void 0;var hQ=Ec(),lP=Hr(),pQ=Bn(),gQ=Kr(),u1;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.outputDescriptors=2]="outputDescriptors"})(u1||(u1={}));var bl=class extends pQ.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>gQ.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[u1.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[u1.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new lP.DataItem(n)}}};Rx.CryptoAccount=bl;bl.fromDataItem=r=>{let e=r.getData(),t=m.Buffer.alloc(4),n=e[u1.masterFingerprint];n&&t.writeUInt32BE(n,0);let o=e[u1.outputDescriptors].map(a=>hQ.CryptoOutput.fromDataItem(a));return new bl(t,o)};bl.fromCBOR=r=>{let e=(0,lP.decodeToDataItem)(r);return bl.fromDataItem(e)}});var v8=b(Px=>{"use strict";d();h();Object.defineProperty(Px,"__esModule",{value:!0});Px.UnknownURTypeError=void 0;var m8=class extends Error{constructor(e){super(e)}};Px.UnknownURTypeError=m8});var _8=b(Bx=>{"use strict";d();h();Object.defineProperty(Bx,"__esModule",{value:!0});Bx.URRegistryDecoder=void 0;var yQ=Gr(),bc=Ec(),Ic=Kr(),mQ=v8(),x8=class extends yQ.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case Ic.RegistryTypes.BYTES.getType():return bc.Bytes.fromCBOR(e.cbor);case Ic.RegistryTypes.CRYPTO_HDKEY.getType():return bc.CryptoHDKey.fromCBOR(e.cbor);case Ic.RegistryTypes.CRYPTO_KEYPATH.getType():return bc.CryptoKeypath.fromCBOR(e.cbor);case Ic.RegistryTypes.CRYPTO_COIN_INFO.getType():return bc.CryptoCoinInfo.fromCBOR(e.cbor);case Ic.RegistryTypes.CRYPTO_ECKEY.getType():return bc.CryptoECKey.fromCBOR(e.cbor);case Ic.RegistryTypes.CRYPTO_OUTPUT.getType():return bc.CryptoOutput.fromCBOR(e.cbor);case Ic.RegistryTypes.CRYPTO_PSBT.getType():return bc.CryptoPSBT.fromCBOR(e.cbor);case Ic.RegistryTypes.CRYPTO_ACCOUNT.getType():return bc.CryptoAccount.fromCBOR(e.cbor);default:throw new mQ.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};Bx.URRegistryDecoder=x8});var w8=b(Nx=>{"use strict";d();h();Object.defineProperty(Nx,"__esModule",{value:!0});Nx.CryptoMultiAccounts=void 0;var vQ=Kr(),xQ=a1(),_Q=Bn(),dP=Hr(),aa;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.keys=2]="keys",r[r.device=3]="device",r[r.deviceId=4]="deviceId",r[r.version=5]="version"})(aa||(aa={}));var Il=class extends _Q.RegistryItem{constructor(e,t,n,i,o){super(),this.masterFingerprint=e,this.keys=t,this.device=n,this.deviceId=i,this.version=o,this.getRegistryType=()=>vQ.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.getDeviceId=()=>this.deviceId,this.getVersion=()=>this.version,this.toDataItem=()=>{let a={};return this.masterFingerprint&&(a[aa.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(a[aa.keys]=this.keys.map(s=>{let u=s.toDataItem();return u.setTag(s.getRegistryType().getTag()),u})),this.device&&(a[aa.device]=this.device),this.deviceId&&(a[aa.deviceId]=this.deviceId),this.version&&(a[aa.version]=this.version),new dP.DataItem(a)}}};Nx.CryptoMultiAccounts=Il;Il.fromDataItem=r=>{let e=r.getData(),t=m.Buffer.alloc(4),n=e[aa.masterFingerprint];n&&t.writeUInt32BE(n,0);let o=e[aa.keys].map(f=>xQ.CryptoHDKey.fromDataItem(f)),a=e[aa.device],s=e[aa.deviceId],u=e[aa.version];return new Il(t,o,a,s,u)};Il.fromCBOR=r=>{let e=(0,dP.decodeToDataItem)(r);return Il.fromDataItem(e)}});var E8=b(fu=>{"use strict";d();h();Object.defineProperty(fu,"__esModule",{value:!0});fu.KeyDerivationSchema=fu.DerivationAlgorithm=fu.Curve=void 0;var wQ=Kr(),EQ=Bn(),hP=Hr(),bQ=Jg(),Tc;(function(r){r[r.keyPath=1]="keyPath",r[r.curve=2]="curve",r[r.algo=3]="algo"})(Tc||(Tc={}));var pP;(function(r){r[r.secp256k1=0]="secp256k1",r[r.ed25519=1]="ed25519"})(pP=fu.Curve||(fu.Curve={}));var gP;(function(r){r[r.slip10=0]="slip10",r[r.bip32ed25519=1]="bip32ed25519"})(gP=fu.DerivationAlgorithm||(fu.DerivationAlgorithm={}));var Tl=class extends EQ.RegistryItem{constructor(e,t=pP.secp256k1,n=gP.slip10){super(),this.keypath=e,this.curve=t,this.algo=n,this.getRegistryType=()=>wQ.RegistryTypes.KEY_DERIVATION_SCHEMA,this.getKeypath=()=>this.keypath,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.toDataItem=()=>{let i={},o=this.getKeypath().toDataItem();return o.setTag(this.getKeypath().getRegistryType().getTag()),i[Tc.keyPath]=o,i[Tc.curve]=this.curve,i[Tc.algo]=this.algo,new hP.DataItem(i)}}};fu.KeyDerivationSchema=Tl;Tl.fromDataItem=r=>{let e=r.getData(),t=bQ.CryptoKeypath.fromDataItem(e[Tc.keyPath]),n=e[Tc.curve],i=e[Tc.algo];return new Tl(t,n,i)};Tl.fromCBOR=r=>{let e=(0,hP.decodeToDataItem)(r);return Tl.fromDataItem(e)}});var b8=b(qx=>{"use strict";d();h();Object.defineProperty(qx,"__esModule",{value:!0});qx.KeyDerivation=void 0;var IQ=Kr(),TQ=Bn(),yP=Hr(),SQ=E8(),Mx;(function(r){r[r.schemas=1]="schemas"})(Mx||(Mx={}));var Sl=class extends TQ.RegistryItem{constructor(e){super(),this.schemas=e,this.getRegistryType=()=>IQ.RegistryTypes.KEY_DERIVATION_CALL,this.getSchemas=()=>this.schemas,this.toDataItem=()=>{let t={};return t[Mx.schemas]=this.schemas.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),new yP.DataItem(t)}}};qx.KeyDerivation=Sl;Sl.fromDataItem=r=>{let t=r.getData()[Mx.schemas].map(n=>SQ.KeyDerivationSchema.fromDataItem(n));return new Sl(t)};Sl.fromCBOR=r=>{let e=(0,yP.decodeToDataItem)(r);return Sl.fromDataItem(e)}});var vP=b(Al=>{"use strict";d();h();Object.defineProperty(Al,"__esModule",{value:!0});Al.QRHardwareCall=Al.QRHardwareCallType=void 0;var CQ=Kr(),AQ=Bn(),mP=Hr(),OQ=b8(),Sc;(function(r){r[r.type=1]="type",r[r.params=2]="params",r[r.origin=3]="origin"})(Sc||(Sc={}));var I8;(function(r){r[r.KeyDerivation=0]="KeyDerivation"})(I8=Al.QRHardwareCallType||(Al.QRHardwareCallType={}));var Cl=class extends AQ.RegistryItem{constructor(e,t,n){super(),this.type=e,this.params=t,this.origin=n,this.getRegistryType=()=>CQ.RegistryTypes.QR_HARDWARE_CALL,this.getType=()=>this.type,this.getParams=()=>this.params,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let i={};i[Sc.type]=this.type;let o=this.params.toDataItem();return o.setTag(this.params.getRegistryType().getTag()),i[Sc.params]=o,this.origin&&(i[Sc.origin]=this.origin),new mP.DataItem(i)}}};Al.QRHardwareCall=Cl;Cl.fromDataItem=r=>{let e=r.getData(),t=e[Sc.type]||I8.KeyDerivation,n;switch(t){case I8.KeyDerivation:n=OQ.KeyDerivation.fromDataItem(e[Sc.params])}let i=e[Sc.origin];return new Cl(t,n,i)};Cl.fromCBOR=r=>{let e=(0,mP.decodeToDataItem)(r);return Cl.fromDataItem(e)}});var _P=b(xP=>{"use strict";d();h();Object.defineProperty(xP,"__esModule",{value:!0})});var Ec=b(Ie=>{"use strict";d();h();Object.defineProperty(Ie,"__esModule",{value:!0});Ie.Buffer=Ie.extend=Ie.PathComponent=Ie.ScriptExpressions=Ie.MultiKey=Ie.CryptoPSBT=Ie.CryptoOutput=Ie.CryptoECKey=Ie.CryptoCoinInfoNetwork=Ie.CryptoCoinInfoType=Ie.CryptoCoinInfo=Ie.CryptoKeypath=Ie.CryptoMultiAccounts=Ie.CryptoHDKey=Ie.CryptoAccount=Ie.Bytes=Ie.URRegistryDecoder=Ie.DataItem=void 0;var lr=Fg();hI();var DQ=Xh();Object.defineProperty(Ie,"Buffer",{enumerable:!0,get:function(){return DQ.Buffer}});var EP=a1();Object.defineProperty(Ie,"CryptoHDKey",{enumerable:!0,get:function(){return EP.CryptoHDKey}});var bP=Jg();Object.defineProperty(Ie,"CryptoKeypath",{enumerable:!0,get:function(){return bP.CryptoKeypath}});var c1=_x();Object.defineProperty(Ie,"CryptoCoinInfo",{enumerable:!0,get:function(){return c1.CryptoCoinInfo}});Object.defineProperty(Ie,"CryptoCoinInfoType",{enumerable:!0,get:function(){return c1.Type}});Object.defineProperty(Ie,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return c1.Network}});var IP=$g();Object.defineProperty(Ie,"CryptoECKey",{enumerable:!0,get:function(){return IP.CryptoECKey}});var TP=aP();Object.defineProperty(Ie,"Bytes",{enumerable:!0,get:function(){return TP.Bytes}});var SP=p8();Object.defineProperty(Ie,"CryptoOutput",{enumerable:!0,get:function(){return SP.CryptoOutput}});var CP=g8();Object.defineProperty(Ie,"CryptoPSBT",{enumerable:!0,get:function(){return CP.CryptoPSBT}});var AP=y8();Object.defineProperty(Ie,"CryptoAccount",{enumerable:!0,get:function(){return AP.CryptoAccount}});var OP=_8();Object.defineProperty(Ie,"URRegistryDecoder",{enumerable:!0,get:function(){return OP.URRegistryDecoder}});var DP=Ax();Object.defineProperty(Ie,"MultiKey",{enumerable:!0,get:function(){return DP.MultiKey}});var RP=ax();Object.defineProperty(Ie,"ScriptExpressions",{enumerable:!0,get:function(){return RP.ScriptExpressions}});var PP=Ex();Object.defineProperty(Ie,"PathComponent",{enumerable:!0,get:function(){return PP.PathComponent}});var RQ=Bn(),wP=Kr(),f1=Hr(),PQ=Hr();Object.defineProperty(Ie,"DataItem",{enumerable:!0,get:function(){return PQ.DataItem}});var BQ=ox(),BP=w8();Object.defineProperty(Ie,"CryptoMultiAccounts",{enumerable:!0,get:function(){return BP.CryptoMultiAccounts}});var NQ={URRegistryDecoder:OP.URRegistryDecoder,Bytes:TP.Bytes,CryptoAccount:AP.CryptoAccount,CryptoHDKey:EP.CryptoHDKey,CryptoMultiAccounts:BP.CryptoMultiAccounts,CryptoKeypath:bP.CryptoKeypath,CryptoCoinInfo:c1.CryptoCoinInfo,CryptoCoinInfoType:c1.Type,CryptoCoinInfoNetwork:c1.Network,CryptoECKey:IP.CryptoECKey,CryptoOutput:SP.CryptoOutput,CryptoPSBT:CP.CryptoPSBT,MultiKey:DP.MultiKey,ScriptExpressions:RP.ScriptExpressions,PathComponent:PP.PathComponent},MQ={addReader:f1.addReader,addSemanticDecode:f1.addSemanticDecode,addSemanticEncode:f1.addSemanticEncode,addWriter:f1.addWriter,patchTags:BQ.patchTags},qQ={RegistryTypes:wP.RegistryTypes,RegistryItem:RQ.RegistryItem,RegistryType:wP.RegistryType,decodeToDataItem:f1.decodeToDataItem,encodeDataItem:f1.encodeDataItem,cbor:MQ};Ie.extend=qQ;(0,lr.__exportStar)(v8(),Ie);(0,lr.__exportStar)(_8(),Ie);(0,lr.__exportStar)(Hr(),Ie);(0,lr.__exportStar)(y8(),Ie);(0,lr.__exportStar)(g8(),Ie);(0,lr.__exportStar)(a1(),Ie);(0,lr.__exportStar)(w8(),Ie);(0,lr.__exportStar)(vP(),Ie);(0,lr.__exportStar)(b8(),Ie);(0,lr.__exportStar)(E8(),Ie);(0,lr.__exportStar)(p8(),Ie);(0,lr.__exportStar)(_x(),Ie);(0,lr.__exportStar)($g(),Ie);(0,lr.__exportStar)(Ax(),Ie);(0,lr.__exportStar)(Jg(),Ie);(0,lr.__exportStar)(hI(),Ie);(0,lr.__exportStar)(Ex(),Ie);(0,lr.__exportStar)(Bn(),Ie);(0,lr.__exportStar)(Kr(),Ie);(0,lr.__exportStar)(_P(),Ie);(0,lr.__exportStar)(ox(),Ie);Ie.default=NQ});var MP=b(Fx=>{"use strict";d();h();Object.defineProperty(Fx,"__esModule",{value:!0});Fx.pathToKeypath=void 0;var NP=Ec(),FQ=r=>{let t=r.replace(/[m|M]\//,"").split("/").map(n=>{let i=parseInt(n.replace("'",""),10),o=n.endsWith("'");return new NP.PathComponent({index:i,hardened:o})});return new NP.CryptoKeypath(t)};Fx.pathToKeypath=FQ});var Qr=b(hf=>{"use strict";d();h();var UQ=hf&&hf.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),T8=hf&&hf.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&UQ(e,r,t)};Object.defineProperty(hf,"__esModule",{value:!0});T8(d7(),hf);T8(MP(),hf);T8(cI(),hf)});var so=b(Ol=>{"use strict";d();h();Object.defineProperty(Ol,"__esModule",{value:!0});Ol.URType=Ol.UR=void 0;var LQ=Gr();Object.defineProperty(Ol,"UR",{enumerable:!0,get:function(){return LQ.UR}});var kQ;(function(r){r.CryptoPSBT="crypto-psbt",r.CryptoMultiAccounts="crypto-multi-accounts",r.CryptoHDKey="crypto-hdkey",r.ArweaveCryptoAccount="arweave-crypto-account",r.EthSignature="eth-signature",r.SolSignature="sol-signature",r.CosmosSignature="cosmos-signature",r.EvmSignature="evm-signature",r.AptosSignature="aptos-signature",r.CardanoSignature="cardano-signature",r.TronSignature="keystone-sign-result",r.KeystoneSignResult="keystone-sign-result",r.NearSignature="near-signature",r.ArweaveSignature="arweave-signature",r.SuiSignature="sui-signature",r.XrpAccount="bytes",r.XrpSignRequest="bytes",r.XrpSignature="bytes"})(kQ=Ol.URType||(Ol.URType={}))});var FP=b(Ux=>{"use strict";d();h();Object.defineProperty(Ux,"__esModule",{value:!0});Ux.KeystoneBitcoinSDK=void 0;var qP=Ec(),jQ=Qr(),HQ=so(),S8=class{parsePSBT(e){if(e.type!==HQ.URType.CryptoPSBT)throw new Error("type not match");return(0,jQ.toHex)(qP.CryptoPSBT.fromCBOR(e.cbor).getPSBT())}generatePSBT(e){return new qP.CryptoPSBT(e).toUR()}};Ux.KeystoneBitcoinSDK=S8});var kx=b(Lx=>{"use strict";d();h();Object.defineProperty(Lx,"__esModule",{value:!0});Lx.DataItem=void 0;var C8=class{constructor(e,t){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}};Lx.DataItem=C8});var LP=b((UP,jx)=>{"use strict";d();h();(function(r,e){typeof define=="function"&&define.amd?define([],e):typeof jx<"u"&&jx.exports?jx.exports=e():r.CBOR=e()})(UP,function(){let{DataItem:r}=kx();var e=function(){function t(c){this.$hex=c}t.prototype={length:function(){return this.$hex.length/2},toString:function(c){if(!c||c==="hex"||c===16)return this.$hex;if(c==="utf-8"){for(var y="",x=0;x<this.$hex.length;x+=2)y+="%"+this.$hex.substring(x,x+2);return decodeURIComponent(y)}if(c==="latin"){for(var y=[],x=0;x<this.$hex.length;x+=2)y.push(parseInt(this.$hex.substring(x,x+2),16));return String.fromCharCode.apply(String,y)}throw new Error("Unrecognised format: "+c)}},t.fromLatinString=function(c){for(var y="",x=0;x<c.length;x++){var M=c.charCodeAt(x).toString(16);M.length===1&&(M="0"+M),y+=M}return new t(y)},t.fromUtf8String=function(c){for(var y=encodeURIComponent(c),x="",M=0;M<y.length;M++)if(y.charAt(M)==="%")x+=y.substring(M+1,M+3),M+=2;else{var L=y.charCodeAt(M).toString(16);L.length<2&&(L="0"+L),x+=L}return new t(x)};var n=[],i={},o=function(c){return function(){throw new Error(c+" not implemented")}};function a(){}a.prototype={peekByte:o("peekByte"),readByte:o("readByte"),readChunk:o("readChunk"),readFloat16:function(){var c=this.readUint16(),y=(c&32767)>>10,x=c&1023,M=c&32768;if(y===31)return x===0?M?-1/0:1/0:NaN;var L=y?Math.pow(2,y-25)*(1024+x):Math.pow(2,-24)*x;return M?-L:L},readFloat32:function(){var c=this.readUint32(),y=(c&2147483647)>>23,x=c&8388607,M=c&2147483648;if(y===255)return x===0?M?-1/0:1/0:NaN;var L=y?Math.pow(2,y-23-127)*(8388608+x):Math.pow(2,-23-126)*x;return M?-L:L},readFloat64:function(){var c=this.readUint32(),y=this.readUint32(),x=c>>20&2047,M=(c&1048575)*4294967296+y,L=c&2147483648;if(x===2047)return M===0?L?-1/0:1/0:NaN;var ce=x?Math.pow(2,x-52-1023)*(4503599627370496+M):Math.pow(2,-52-1022)*M;return L?-ce:ce},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:o("writeByte"),result:o("result"),writeFloat16:o("writeFloat16"),writeFloat32:o("writeFloat32"),writeFloat64:o("writeFloat64"),writeUint16:function(c){this.writeByte(c>>8&255),this.writeByte(c&255)},writeUint32:function(c){this.writeUint16(c>>16&65535),this.writeUint16(c&65535)},writeUint64:function(c){if(c>=9007199254740992||c<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+c+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(c/4294967296)),this.writeUint32(c%4294967296)},writeString:o("writeString"),canWriteBinary:function(c){return!1},writeBinary:o("writeChunk")};function u(c){var y=c.readByte(),x=y>>5,M=y&31;return{type:x,value:M}}function f(c,y){var x=c.value;if(x<24)return x;if(x==24)return y.readByte();if(x==25)return y.readUint16();if(x==26)return y.readUint32();if(x==27)return y.readUint64();if(x==31)return null;o("Additional info: "+x)()}function l(c,y,x){x.writeByte(c<<5|y)}function p(c,y,x){var M=c<<5;y<24?x.writeByte(M|y):y<256?(x.writeByte(M|24),x.writeByte(y)):y<65536?(x.writeByte(M|25),x.writeUint16(y)):y<4294967296?(x.writeByte(M|26),x.writeUint32(y)):(x.writeByte(M|27),x.writeUint64(y))}var g=new Error;function v(c){var y=u(c);switch(y.type){case 0:return f(y,c);case 1:return-1-f(y,c);case 2:return c.readChunk(f(y,c));case 3:var x=c.readChunk(f(y,c));return x.toString("utf-8");case 4:case 5:var M=f(y,c),B=[];if(M!==null){y.type===5&&(M*=2);for(var L=0;L<M;L++)B[L]=v(c)}else for(var ce;(ce=v(c))!==g;)B.push(ce);if(y.type===5){for(var q={},L=0;L<B.length;L+=2)q[B[L]]=B[L+1];return q}else return B;case 6:var w=f(y,c),S=i[w],B=v(c);return S?S(B):B;case 7:if(y.value===25)return c.readFloat16();if(y.value===26)return c.readFloat32();if(y.value===27)return c.readFloat64();switch(f(y,c)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+y.value)}default:throw new Error("Unsupported header: "+JSON.stringify(y))}throw new Error("not implemented yet")}function _(c,y){for(var x=0;x<n.length;x++){var M=n[x].fn(c);if(M!==void 0)return p(6,n[x].tag,y),_(M,y)}if(c&&typeof c.toCBOR=="function"&&(c=c.toCBOR()),c===!1)p(7,20,y);else if(c===!0)p(7,21,y);else if(c===null)p(7,22,y);else if(c===void 0)p(7,23,y);else if(typeof c=="number")Math.floor(c)===c&&c<9007199254740992&&c>-9007199254740992?c<0?p(1,-1-c,y):p(0,c,y):(l(7,27,y),y.writeFloat64(c));else if(typeof c=="string")y.writeString(c,function(ce){p(3,ce,y)});else if(y.canWriteBinary(c))y.writeBinary(c,function(ce){p(2,ce,y)});else if(typeof c=="object")if(R.config.useToJSON&&typeof c.toJSON=="function"&&(c=c.toJSON()),Array.isArray(c)){p(4,c.length,y);for(var x=0;x<c.length;x++)_(c[x],y)}else{var L=Object.keys(c);p(5,L.length,y);for(var x=0;x<L.length;x++){let q=parseInt(L[x]);isNaN(q)?(_(L[x],y),_(c[L[x]],y)):(_(q,y),_(c[L[x]],y))}}else throw new Error("CBOR encoding not supported: "+c)}var T=[],O=[],R={config:{useToJSON:!0},addWriter:function(c,y){typeof c=="string"?O.push(function(x){if(c===x)return y(x)}):O.push(c)},addReader:function(c,y){typeof c=="string"?T.push(function(x,M){if(c===M)return y(x,M)}):T.push(c)},encode:function(c,y){for(var x=0;x<O.length;x++){var M=O[x],L=M(y);if(L)return _(c,L),L.result()}throw new Error("Unsupported output format: "+y)},encodeDataItem:function(c,y){for(var x=0;x<O.length;x++){var M=O[x],L=M(y);if(L)return c.getTag()!==void 0?(_(c,L),L.result()):(_(c.getData(),L),L.result())}throw new Error("Unsupported output format: "+y)},decode:function(c,y){for(var x=0;x<T.length;x++){var M=T[x],L=M(c,y);if(L)return v(L)}throw new Error("Unsupported input format: "+y)},decodeToDataItem:function(c,y){for(var x=0;x<T.length;x++){var M=T[x],L=M(c,y);if(L){let ce=v(L);return ce instanceof r?ce:new r(ce)}}throw new Error("Unsupported input format: "+y)},addSemanticEncode:function(c,y){if(typeof c!="number"||c%1!==0||c<0)throw new Error("Tag must be a positive integer");return n.push({tag:c,fn:y}),this},addSemanticDecode:function(c,y){if(typeof c!="number"||c%1!==0||c<0)throw new Error("Tag must be a positive integer");return i[c]=y,this}};function D(c){this.buffer=c,this.pos=0}D.prototype=Object.create(a.prototype),D.prototype.peekByte=function(){return this.buffer[this.pos]},D.prototype.readByte=function(){return this.buffer[this.pos++]},D.prototype.readUint16=function(){var c=this.buffer.readUInt16BE(this.pos);return this.pos+=2,c},D.prototype.readUint32=function(){var c=this.buffer.readUInt32BE(this.pos);return this.pos+=4,c},D.prototype.readFloat32=function(){var c=this.buffer.readFloatBE(this.pos);return this.pos+=4,c},D.prototype.readFloat64=function(){var c=this.buffer.readDoubleBE(this.pos);return this.pos+=8,c},D.prototype.readChunk=function(c){var y=m.Buffer.alloc(c);return this.buffer.copy(y,0,this.pos,this.pos+=c),y};function U(c){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=c}U.prototype=Object.create(s.prototype),U.prototype.writeByte=function(c){this.latestBuffer[this.latestBufferOffset++]=c,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},U.prototype.writeFloat32=function(c){var y=m.Buffer.alloc(4);y.writeFloatBE(c,0),this.writeBuffer(y)},U.prototype.writeFloat64=function(c){var y=m.Buffer.alloc(8);y.writeDoubleBE(c,0),this.writeBuffer(y)},U.prototype.writeString=function(c,y){var x=m.Buffer.from(c,"utf-8");y(x.length),this.writeBuffer(x)},U.prototype.canWriteBinary=function(c){return c instanceof m.Buffer},U.prototype.writeBinary=function(c,y){y(c.length),this.writeBuffer(c)},U.prototype.writeBuffer=function(c){if(!(c instanceof m.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=c.length?(c.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=c.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(c),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(c),this.byteLength+=c.length},U.prototype.result=function(){for(var c=m.Buffer.alloc(this.byteLength),y=0,x=0;x<this.completeBuffers.length;x++){var M=this.completeBuffers[x];M.copy(c,y,0,M.length),y+=M.length}return this.latestBufferOffset&&this.latestBuffer.copy(c,y,0,this.latestBufferOffset),this.stringFormat?c.toString(this.stringFormat):c},typeof m.Buffer=="function"&&(R.addReader(function(c,y){if(m.Buffer.isBuffer(c))return new D(c);if(y==="hex"||y==="base64"){var x=m.Buffer.from(c,y);return new D(x)}}),R.addWriter(function(c){if(!c||c==="buffer")return new U;if(c==="hex"||c==="base64")return new U(c)}));function K(c){this.hex=c,this.pos=0}K.prototype=Object.create(a.prototype),K.prototype.peekByte=function(){var c=this.hex.substring(this.pos,2);return parseInt(c,16)},K.prototype.readByte=function(){var c=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(c,16)},K.prototype.readChunk=function(c){var y=this.hex.substring(this.pos,this.pos+c*2);return this.pos+=c*2,typeof m.Buffer=="function"?m.Buffer.from(y,"hex"):new t(y)};function A(c){this.$hex="",this.finalFormat=c||"hex"}return A.prototype=Object.create(s.prototype),A.prototype.writeByte=function(c){if(c<0||c>255)throw new Error("Byte value out of range: "+c);var y=c.toString(16);y.length==1&&(y="0"+y),this.$hex+=y},A.prototype.canWriteBinary=function(c){return c instanceof t||typeof m.Buffer=="function"&&c instanceof m.Buffer},A.prototype.writeBinary=function(c,y){if(c instanceof t)y(c.length()),this.$hex+=c.$hex;else if(typeof m.Buffer=="function"&&c instanceof m.Buffer)y(c.length),this.$hex+=c.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},A.prototype.result=function(){return this.finalFormat==="buffer"&&typeof m.Buffer=="function"?m.Buffer.from(this.$hex,"hex"):new t(this.$hex).toString(this.finalFormat)},A.prototype.writeString=function(c,y){var x=t.fromUtf8String(c);y(x.length()),this.$hex+=x.$hex},R.addReader(function(c,y){if(c instanceof t||c.$hex)return new K(c.$hex);if(y==="hex")return new K(c)}),R.addWriter(function(c){if(c==="hex")return new A}),R}();return e.addSemanticEncode(0,function(t){if(t instanceof Date)return t.toISOString()}).addSemanticDecode(0,function(t){return new Date(t)}).addSemanticDecode(1,function(t){return new Date(t)}),e})});var qi=b(Nn=>{"use strict";d();h();Object.defineProperty(Nn,"__esModule",{value:!0});Nn.DataItem=Nn.addWriter=Nn.addReader=Nn.addSemanticEncode=Nn.addSemanticDecode=Nn.decodeToDataItem=Nn.encodeDataItem=void 0;var l1=LP();Object.defineProperty(Nn,"encodeDataItem",{enumerable:!0,get:function(){return l1.encodeDataItem}});Object.defineProperty(Nn,"decodeToDataItem",{enumerable:!0,get:function(){return l1.decodeToDataItem}});Object.defineProperty(Nn,"addSemanticDecode",{enumerable:!0,get:function(){return l1.addSemanticDecode}});Object.defineProperty(Nn,"addSemanticEncode",{enumerable:!0,get:function(){return l1.addSemanticEncode}});Object.defineProperty(Nn,"addReader",{enumerable:!0,get:function(){return l1.addReader}});Object.defineProperty(Nn,"addWriter",{enumerable:!0,get:function(){return l1.addWriter}});var KQ=kx();Object.defineProperty(Nn,"DataItem",{enumerable:!0,get:function(){return KQ.DataItem}})});var Vx=b(Kx=>{"use strict";d();h();Object.defineProperty(Kx,"__esModule",{value:!0});Kx.patchTags=void 0;var Hx=qi(),kP=[],VQ=r=>{r.forEach(e=>{kP.find(t=>t===e)||((0,Hx.addSemanticEncode)(e,t=>{if(t instanceof Hx.DataItem&&t.getTag()===e)return t.getData()}),(0,Hx.addSemanticDecode)(e,t=>new Hx.DataItem(t,e)),kP.push(e))})};Kx.patchTags=VQ});var Fi=b(d1=>{"use strict";d();h();Object.defineProperty(d1,"__esModule",{value:!0});d1.RegistryTypes=d1.RegistryType=void 0;var Co=class{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}};d1.RegistryType=Co;d1.RegistryTypes={UUID:new Co("uuid",37),BYTES:new Co("bytes",void 0),CRYPTO_HDKEY:new Co("crypto-hdkey",303),CRYPTO_KEYPATH:new Co("crypto-keypath",304),CRYPTO_COIN_INFO:new Co("crypto-coin-info",305),CRYPTO_ECKEY:new Co("crypto-eckey",306),CRYPTO_OUTPUT:new Co("crypto-output",308),CRYPTO_PSBT:new Co("crypto-psbt",310),CRYPTO_ACCOUNT:new Co("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new Co("crypto-multi-accounts",1103)}});var Gx=b(Dl=>{"use strict";d();h();Object.defineProperty(Dl,"__esModule",{value:!0});Dl.ScriptExpressions=Dl.ScriptExpression=void 0;var uo=class{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};Dl.ScriptExpression=uo;uo.fromTag=r=>Object.values(Dl.ScriptExpressions).find(t=>t.getTag()===r);Dl.ScriptExpressions={SCRIPT_HASH:new uo(400,"sh"),WITNESS_SCRIPT_HASH:new uo(401,"wsh"),PUBLIC_KEY:new uo(402,"pk"),PUBLIC_KEY_HASH:new uo(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new uo(404,"wpkh"),COMBO:new uo(405,"combo"),MULTISIG:new uo(406,"multi"),SORTED_MULTISIG:new uo(407,"sortedmulti"),ADDRESS:new uo(307,"addr"),RAW_SCRIPT:new uo(408,"raw")}});var A8=b(jP=>{"use strict";d();h();Object.defineProperty(jP,"__esModule",{value:!0});var GQ=Vx(),YQ=Fi(),zQ=Gx(),WQ=Object.values(YQ.RegistryTypes).filter(r=>!!r.getTag()).map(r=>r.getTag()),XQ=Object.values(zQ.ScriptExpressions).map(r=>r.getTag());(0,GQ.patchTags)(WQ.concat(XQ))});var Ao=b(Yx=>{"use strict";d();h();Object.defineProperty(Yx,"__esModule",{value:!0});Yx.RegistryItem=void 0;var HP=Gr(),JQ=qi(),O8=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,JQ.encodeDataItem)(this.toDataItem())},this.toUR=()=>new HP.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,n)=>{let i=this.toUR();return new HP.UREncoder(i,e,t,n)}}};Yx.RegistryItem=O8});var zx=b(cu=>{"use strict";d();h();Object.defineProperty(cu,"__esModule",{value:!0});cu.CryptoCoinInfo=cu.Network=cu.Type=void 0;var KP=qi(),$Q=Ao(),ZQ=Fi(),h1;(function(r){r.type="1",r.network="2"})(h1||(h1={}));var VP;(function(r){r[r.bitcoin=0]="bitcoin"})(VP=cu.Type||(cu.Type={}));var GP;(function(r){r[r.mainnet=0]="mainnet",r[r.testnet=1]="testnet"})(GP=cu.Network||(cu.Network={}));var Rl=class extends $Q.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>ZQ.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||VP.bitcoin,this.getNetwork=()=>this.network||GP.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[h1.type]=this.type),this.network&&(n[h1.network]=this.network),new KP.DataItem(n)}}};cu.CryptoCoinInfo=Rl;Rl.fromDataItem=r=>{let e=r.getData(),t=e[h1.type],n=e[h1.network];return new Rl(t,n)};Rl.fromCBOR=r=>{let e=(0,KP.decodeToDataItem)(r);return Rl.fromDataItem(e)}});var Xx=b(Wx=>{"use strict";d();h();Object.defineProperty(Wx,"__esModule",{value:!0});Wx.PathComponent=void 0;var p1=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&p1.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};Wx.PathComponent=p1;p1.HARDENED_BIT=2147483648});var $x=b(Jx=>{"use strict";d();h();Object.defineProperty(Jx,"__esModule",{value:!0});Jx.CryptoKeypath=void 0;var zP=qi(),YP=Xx(),QQ=Ao(),eee=Fi(),Cc;(function(r){r[r.components=1]="components",r[r.source_fingerprint=2]="source_fingerprint",r[r.depth=3]="depth"})(Cc||(Cc={}));var Pl=class extends QQ.RegistryItem{constructor(e=[],t,n){super(),this.components=e,this.sourceFingerprint=t,this.depth=n,this.getRegistryType=()=>eee.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(o=>`${o.isWildcard()?"*":o.getIndex()}${o.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},o=[];return this.components&&this.components.forEach(a=>{a.isWildcard()?o.push([]):o.push(a.getIndex()),o.push(a.isHardened())}),i[Cc.components]=o,this.sourceFingerprint&&(i[Cc.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[Cc.depth]=this.depth),new zP.DataItem(i)}}};Jx.CryptoKeypath=Pl;Pl.fromDataItem=r=>{let e=r.getData(),t=[],n=e[Cc.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?t.push(new YP.PathComponent({index:f,hardened:u})):t.push(new YP.PathComponent({hardened:u}))}let i=e[Cc.source_fingerprint],o;i&&(o=m.Buffer.alloc(4),o.writeUInt32BE(i,0));let a=e[Cc.depth];return new Pl(t,o,a)};Pl.fromCBOR=r=>{let e=(0,zP.decodeToDataItem)(r);return Pl.fromDataItem(e)}});var g1=b(Zx=>{"use strict";d();h();Object.defineProperty(Zx,"__esModule",{value:!0});Zx.CryptoHDKey=void 0;var tee=ll(),ree=zx(),WP=$x(),XP=qi(),nee=Ao(),iee=Fi(),It;(function(r){r[r.is_master=1]="is_master",r[r.is_private=2]="is_private",r[r.key_data=3]="key_data",r[r.chain_code=4]="chain_code",r[r.use_info=5]="use_info",r[r.origin=6]="origin",r[r.children=7]="children",r[r.parent_fingerprint=8]="parent_fingerprint",r[r.name=9]="name",r[r.note=10]="note"})(It||(It={}));var Bl=class extends nee.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var t,n,i;let o,a,s=0,u=m.Buffer.alloc(4).fill(0);if(this.isMaster())o=m.Buffer.from("0488ADE4","hex"),a=0,s=0;else{a=((t=this.getOrigin())===null||t===void 0?void 0:t.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());let v=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),_=v[v.length-1];_&&(s=_.isHardened()?_.getIndex()+2147483648:_.getIndex(),this.getParentFingerprint()&&(u=this.getParentFingerprint())),this.isPrivateKey()?o=m.Buffer.from("0488ADE4","hex"):o=m.Buffer.from("0488B21E","hex")}let f=m.Buffer.alloc(1);f.writeUInt8(a,0);let l=m.Buffer.alloc(4);l.writeUInt32BE(s,0);let p=this.getChainCode(),g=this.getKey();return(0,tee.encode)(m.Buffer.concat([o,f,u,l,p,g]))},this.getRegistryType=()=>iee.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var t,n,i,o,a,s,u;let f="";return this.getOrigin()&&((t=this.getOrigin())===null||t===void 0?void 0:t.getSourceFingerprint())&&((n=this.getOrigin())===null||n===void 0?void 0:n.getPath())&&(f+=`${(o=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||o===void 0?void 0:o.toString("hex")}/${(a=this.getOrigin())===null||a===void 0?void 0:a.getPath()}`),f+=this.getBip32Key(),this.getChildren()&&!((s=this.getChildren())===null||s===void 0)&&s.getPath()&&(f+=`/${(u=this.getChildren())===null||u===void 0?void 0:u.getPath()}`),f},this.setupMasterKey=t=>{this.master=!0,this.key=t.key,this.chainCode=t.chainCode},this.setupDeriveKey=t=>{this.master=!1,this.privateKey=t.isPrivateKey,this.key=t.key,this.chainCode=t.chainCode,this.useInfo=t.useInfo,this.origin=t.origin,this.children=t.children,this.parentFingerprint=t.parentFingerprint,this.name=t.name,this.note=t.note},this.toDataItem=()=>{let t={};if(this.master)t[It.is_master]=!0,t[It.key_data]=this.key,t[It.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(t[It.is_private]=this.privateKey),t[It.key_data]=this.key,this.chainCode&&(t[It.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),t[It.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),t[It.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),t[It.children]=n}this.parentFingerprint&&(t[It.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(t[It.name]=this.name),this.note!==void 0&&(t[It.note]=this.note)}return new XP.DataItem(t)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};Zx.CryptoHDKey=Bl;Bl.fromDataItem=r=>{let e=r.getData(),t=!!e[It.is_master],n=e[It.is_private],i=e[It.key_data],o=e[It.chain_code],a=e[It.use_info]?ree.CryptoCoinInfo.fromDataItem(e[It.use_info]):void 0,s=e[It.origin]?WP.CryptoKeypath.fromDataItem(e[It.origin]):void 0,u=e[It.children]?WP.CryptoKeypath.fromDataItem(e[It.children]):void 0,f=e[It.parent_fingerprint],l;f&&(l=m.Buffer.alloc(4),l.writeUInt32BE(f,0));let p=e[It.name],g=e[It.note];return new Bl({isMaster:t,isPrivateKey:n,key:i,chainCode:o,useInfo:a,origin:s,children:u,parentFingerprint:l,name:p,note:g})};Bl.fromCBOR=r=>{let e=(0,XP.decodeToDataItem)(r);return Bl.fromDataItem(e)}});var Qg=b(Qx=>{"use strict";d();h();Object.defineProperty(Qx,"__esModule",{value:!0});Qx.CryptoECKey=void 0;var JP=qi(),oee=Ao(),aee=Fi(),Ac;(function(r){r[r.curve=1]="curve",r[r.private=2]="private",r[r.data=3]="data"})(Ac||(Ac={}));var Nl=class extends oee.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>aee.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let t={};return this.curve&&(t[Ac.curve]=this.curve),this.privateKey!==void 0&&(t[Ac.private]=this.privateKey),t[Ac.data]=this.data,new JP.DataItem(t)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||void 0}};Qx.CryptoECKey=Nl;Nl.fromDataItem=r=>{let e=r.getData(),t=e[Ac.curve],n=e[Ac.private],i=e[Ac.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${r}`);return new Nl({data:i,curve:t,privateKey:n})};Nl.fromCBOR=r=>{let e=(0,JP.decodeToDataItem)(r);return Nl.fromDataItem(e)}});var ZP=b(e_=>{"use strict";d();h();Object.defineProperty(e_,"__esModule",{value:!0});e_.Bytes=void 0;var $P=qi(),see=Ao(),uee=Fi(),Ml=class extends see.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>uee.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new $P.DataItem(this.bytes)}};e_.Bytes=Ml;Ml.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new Ml(e)};Ml.fromCBOR=r=>{let e=(0,$P.decodeToDataItem)(r);return Ml.fromDataItem(e)}});var r_=b(t_=>{"use strict";d();h();Object.defineProperty(t_,"__esModule",{value:!0});t_.MultiKey=void 0;var fee=Qg(),cee=g1(),lee=kx(),dee=Ao(),QP=Fi(),y1;(function(r){r[r.threshold=1]="threshold",r[r.keys=2]="keys"})(y1||(y1={}));var ey=class extends dee.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{let n={};n[y1.threshold]=this.threshold;let i=this.keys.map(o=>{let a=o.toDataItem();return a.setTag(o.getRegistryType().getTag()),a});return n[y1.keys]=i,new lee.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};t_.MultiKey=ey;ey.fromDataItem=r=>{let e=r.getData(),t=e[y1.threshold],n=e[y1.keys],i=[];return n.forEach(o=>{o.getTag()===QP.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(cee.CryptoHDKey.fromDataItem(o)):o.getTag()===QP.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(fee.CryptoECKey.fromDataItem(o))}),new ey(t,i)}});var N8=b(n_=>{"use strict";d();h();Object.defineProperty(n_,"__esModule",{value:!0});n_.CryptoOutput=void 0;var R8=Qg(),P8=g1(),B8=qi(),eB=r_(),hee=Ao(),tB=Fi(),D8=Gx(),pf=class extends hee.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>tB.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof P8.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof R8.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof eB.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof R8.CryptoECKey||this.cryptoKey instanceof P8.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(o=>{let a=o.getTag();n.getTag()===void 0?n.setTag(a):n=new B8.DataItem(n,a)}),n}}};n_.CryptoOutput=pf;pf.fromDataItem=r=>{let e=[],t=r;for(;;){let o=t.getTag(),a=D8.ScriptExpression.fromTag(o);if(a)if(e.push(a),t.getData()instanceof B8.DataItem)t=t.getData(),o=t.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===D8.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===D8.ScriptExpressions.SORTED_MULTISIG.getExpression())){let o=eB.MultiKey.fromDataItem(t);return new pf(e,o)}if(t.getTag()===tB.RegistryTypes.CRYPTO_HDKEY.getTag()){let o=P8.CryptoHDKey.fromDataItem(t);return new pf(e,o)}else{let o=R8.CryptoECKey.fromDataItem(t);return new pf(e,o)}};pf.fromCBOR=r=>{let e=(0,B8.decodeToDataItem)(r);return pf.fromDataItem(e)}});var M8=b(i_=>{"use strict";d();h();Object.defineProperty(i_,"__esModule",{value:!0});i_.CryptoPSBT=void 0;var rB=qi(),pee=Ao(),gee=Fi(),ql=class extends pee.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>gee.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new rB.DataItem(this.psbt)}};i_.CryptoPSBT=ql;ql.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new ql(e)};ql.fromCBOR=r=>{let e=(0,rB.decodeToDataItem)(r);return ql.fromDataItem(e)}});var q8=b(o_=>{"use strict";d();h();Object.defineProperty(o_,"__esModule",{value:!0});o_.CryptoAccount=void 0;var yee=lu(),nB=qi(),mee=Ao(),vee=Fi(),m1;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.outputDescriptors=2]="outputDescriptors"})(m1||(m1={}));var Fl=class extends mee.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>vee.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[m1.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[m1.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new nB.DataItem(n)}}};o_.CryptoAccount=Fl;Fl.fromDataItem=r=>{let e=r.getData(),t=m.Buffer.alloc(4),n=e[m1.masterFingerprint];n&&t.writeUInt32BE(n,0);let o=e[m1.outputDescriptors].map(a=>yee.CryptoOutput.fromDataItem(a));return new Fl(t,o)};Fl.fromCBOR=r=>{let e=(0,nB.decodeToDataItem)(r);return Fl.fromDataItem(e)}});var U8=b(a_=>{"use strict";d();h();Object.defineProperty(a_,"__esModule",{value:!0});a_.UnknownURTypeError=void 0;var F8=class extends Error{constructor(e){super(e)}};a_.UnknownURTypeError=F8});var k8=b(s_=>{"use strict";d();h();Object.defineProperty(s_,"__esModule",{value:!0});s_.URRegistryDecoder=void 0;var xee=Gr(),Oc=lu(),Dc=Fi(),_ee=U8(),L8=class extends xee.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case Dc.RegistryTypes.BYTES.getType():return Oc.Bytes.fromCBOR(e.cbor);case Dc.RegistryTypes.CRYPTO_HDKEY.getType():return Oc.CryptoHDKey.fromCBOR(e.cbor);case Dc.RegistryTypes.CRYPTO_KEYPATH.getType():return Oc.CryptoKeypath.fromCBOR(e.cbor);case Dc.RegistryTypes.CRYPTO_COIN_INFO.getType():return Oc.CryptoCoinInfo.fromCBOR(e.cbor);case Dc.RegistryTypes.CRYPTO_ECKEY.getType():return Oc.CryptoECKey.fromCBOR(e.cbor);case Dc.RegistryTypes.CRYPTO_OUTPUT.getType():return Oc.CryptoOutput.fromCBOR(e.cbor);case Dc.RegistryTypes.CRYPTO_PSBT.getType():return Oc.CryptoPSBT.fromCBOR(e.cbor);case Dc.RegistryTypes.CRYPTO_ACCOUNT.getType():return Oc.CryptoAccount.fromCBOR(e.cbor);default:throw new _ee.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};s_.URRegistryDecoder=L8});var j8=b(u_=>{"use strict";d();h();Object.defineProperty(u_,"__esModule",{value:!0});u_.CryptoMultiAccounts=void 0;var wee=Fi(),Eee=g1(),bee=Ao(),iB=qi(),Rc;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.keys=2]="keys",r[r.device=3]="device"})(Rc||(Rc={}));var Ul=class extends bee.RegistryItem{constructor(e,t,n){super(),this.masterFingerprint=e,this.keys=t,this.device=n,this.getRegistryType=()=>wee.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{let i={};return this.masterFingerprint&&(i[Rc.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(i[Rc.keys]=this.keys.map(o=>{let a=o.toDataItem();return a.setTag(o.getRegistryType().getTag()),a})),this.device&&(i[Rc.device]=this.device),new iB.DataItem(i)}}};u_.CryptoMultiAccounts=Ul;Ul.fromDataItem=r=>{let e=r.getData(),t=m.Buffer.alloc(4),n=e[Rc.masterFingerprint];n&&t.writeUInt32BE(n,0);let o=e[Rc.keys].map(s=>Eee.CryptoHDKey.fromDataItem(s)),a=e[Rc.device];return new Ul(t,o,a)};Ul.fromCBOR=r=>{let e=(0,iB.decodeToDataItem)(r);return Ul.fromDataItem(e)}});var aB=b(oB=>{"use strict";d();h();Object.defineProperty(oB,"__esModule",{value:!0})});var lu=b(De=>{"use strict";d();h();Object.defineProperty(De,"__esModule",{value:!0});De.Buffer=De.extend=De.PathComponent=De.ScriptExpressions=De.MultiKey=De.CryptoPSBT=De.CryptoOutput=De.CryptoECKey=De.CryptoCoinInfoNetwork=De.CryptoCoinInfoType=De.CryptoCoinInfo=De.CryptoKeypath=De.CryptoMultiAccounts=De.CryptoHDKey=De.CryptoAccount=De.Bytes=De.URRegistryDecoder=De.DataItem=void 0;var Yr=Fg();A8();var Iee=Xh();Object.defineProperty(De,"Buffer",{enumerable:!0,get:function(){return Iee.Buffer}});var uB=g1();Object.defineProperty(De,"CryptoHDKey",{enumerable:!0,get:function(){return uB.CryptoHDKey}});var fB=$x();Object.defineProperty(De,"CryptoKeypath",{enumerable:!0,get:function(){return fB.CryptoKeypath}});var x1=zx();Object.defineProperty(De,"CryptoCoinInfo",{enumerable:!0,get:function(){return x1.CryptoCoinInfo}});Object.defineProperty(De,"CryptoCoinInfoType",{enumerable:!0,get:function(){return x1.Type}});Object.defineProperty(De,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return x1.Network}});var cB=Qg();Object.defineProperty(De,"CryptoECKey",{enumerable:!0,get:function(){return cB.CryptoECKey}});var lB=ZP();Object.defineProperty(De,"Bytes",{enumerable:!0,get:function(){return lB.Bytes}});var dB=N8();Object.defineProperty(De,"CryptoOutput",{enumerable:!0,get:function(){return dB.CryptoOutput}});var hB=M8();Object.defineProperty(De,"CryptoPSBT",{enumerable:!0,get:function(){return hB.CryptoPSBT}});var pB=q8();Object.defineProperty(De,"CryptoAccount",{enumerable:!0,get:function(){return pB.CryptoAccount}});var gB=k8();Object.defineProperty(De,"URRegistryDecoder",{enumerable:!0,get:function(){return gB.URRegistryDecoder}});var yB=r_();Object.defineProperty(De,"MultiKey",{enumerable:!0,get:function(){return yB.MultiKey}});var mB=Gx();Object.defineProperty(De,"ScriptExpressions",{enumerable:!0,get:function(){return mB.ScriptExpressions}});var vB=Xx();Object.defineProperty(De,"PathComponent",{enumerable:!0,get:function(){return vB.PathComponent}});var Tee=Ao(),sB=Fi(),v1=qi(),See=qi();Object.defineProperty(De,"DataItem",{enumerable:!0,get:function(){return See.DataItem}});var Cee=Vx(),xB=j8();Object.defineProperty(De,"CryptoMultiAccounts",{enumerable:!0,get:function(){return xB.CryptoMultiAccounts}});var Aee={URRegistryDecoder:gB.URRegistryDecoder,Bytes:lB.Bytes,CryptoAccount:pB.CryptoAccount,CryptoHDKey:uB.CryptoHDKey,CryptoMultiAccounts:xB.CryptoMultiAccounts,CryptoKeypath:fB.CryptoKeypath,CryptoCoinInfo:x1.CryptoCoinInfo,CryptoCoinInfoType:x1.Type,CryptoCoinInfoNetwork:x1.Network,CryptoECKey:cB.CryptoECKey,CryptoOutput:dB.CryptoOutput,CryptoPSBT:hB.CryptoPSBT,MultiKey:yB.MultiKey,ScriptExpressions:mB.ScriptExpressions,PathComponent:vB.PathComponent},Oee={addReader:v1.addReader,addSemanticDecode:v1.addSemanticDecode,addSemanticEncode:v1.addSemanticEncode,addWriter:v1.addWriter,patchTags:Cee.patchTags},Dee={RegistryTypes:sB.RegistryTypes,RegistryItem:Tee.RegistryItem,RegistryType:sB.RegistryType,decodeToDataItem:v1.decodeToDataItem,encodeDataItem:v1.encodeDataItem,cbor:Oee};De.extend=Dee;(0,Yr.__exportStar)(U8(),De);(0,Yr.__exportStar)(k8(),De);(0,Yr.__exportStar)(qi(),De);(0,Yr.__exportStar)(q8(),De);(0,Yr.__exportStar)(M8(),De);(0,Yr.__exportStar)(g1(),De);(0,Yr.__exportStar)(j8(),De);(0,Yr.__exportStar)(N8(),De);(0,Yr.__exportStar)(zx(),De);(0,Yr.__exportStar)(Qg(),De);(0,Yr.__exportStar)(r_(),De);(0,Yr.__exportStar)($x(),De);(0,Yr.__exportStar)(A8(),De);(0,Yr.__exportStar)(Xx(),De);(0,Yr.__exportStar)(Ao(),De);(0,Yr.__exportStar)(Fi(),De);(0,Yr.__exportStar)(aB(),De);(0,Yr.__exportStar)(Vx(),De);De.default=Aee});function ty(){if(!f_&&(f_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!f_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return f_(Ree)}var f_,Ree,H8=de(()=>{d();h();Ree=new Uint8Array(16)});var _B,wB=de(()=>{d();h();_B=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Pee(r){return typeof r=="string"&&_B.test(r)}var Pc,ry=de(()=>{d();h();wB();Pc=Pee});function Bee(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(en[r[e+0]]+en[r[e+1]]+en[r[e+2]]+en[r[e+3]]+"-"+en[r[e+4]]+en[r[e+5]]+"-"+en[r[e+6]]+en[r[e+7]]+"-"+en[r[e+8]]+en[r[e+9]]+"-"+en[r[e+10]]+en[r[e+11]]+en[r[e+12]]+en[r[e+13]]+en[r[e+14]]+en[r[e+15]]).toLowerCase();if(!Pc(t))throw TypeError("Stringified UUID is invalid");return t}var en,c_,Bc,ny=de(()=>{d();h();ry();en=[];for(c_=0;c_<256;++c_)en.push((c_+256).toString(16).substr(1));Bc=Bee});function Nee(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var o=r.node||EB,a=r.clockseq!==void 0?r.clockseq:K8;if(o==null||a==null){var s=r.random||(r.rng||ty)();o==null&&(o=EB=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=K8=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:G8+1,l=u-V8+(f-G8)/1e4;if(l<0&&r.clockseq===void 0&&(a=a+1&16383),(l<0||u>V8)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");V8=u,G8=f,K8=a,u+=122192928e5;var p=((u&268435455)*1e4+f)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=p&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var v=0;v<6;++v)i[n+v]=o[v];return e||Bc(i)}var EB,K8,V8,G8,bB,IB=de(()=>{d();h();H8();ny();V8=0,G8=0;bB=Nee});function Mee(r){if(!Pc(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var l_,Y8=de(()=>{d();h();ry();l_=Mee});function qee(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function d_(r,e,t){function n(i,o,a,s){if(typeof i=="string"&&(i=qee(i)),typeof o=="string"&&(o=l_(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,a){s=s||0;for(var f=0;f<16;++f)a[s+f]=u[f];return a}return Bc(u)}try{n.name=r}catch{}return n.DNS=Fee,n.URL=Uee,n}var Fee,Uee,z8=de(()=>{d();h();ny();Y8();Fee="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Uee="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Lee(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return kee(jee(Hee(r),r.length*8))}function kee(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var o=r[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(a)}return e}function TB(r){return(r+64>>>9<<4)+14+1}function jee(r,e){r[e>>5]|=128<<e%32,r[TB(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<r.length;a+=16){var s=t,u=n,f=i,l=o;t=Mn(t,n,i,o,r[a],7,-680876936),o=Mn(o,t,n,i,r[a+1],12,-389564586),i=Mn(i,o,t,n,r[a+2],17,606105819),n=Mn(n,i,o,t,r[a+3],22,-1044525330),t=Mn(t,n,i,o,r[a+4],7,-176418897),o=Mn(o,t,n,i,r[a+5],12,1200080426),i=Mn(i,o,t,n,r[a+6],17,-1473231341),n=Mn(n,i,o,t,r[a+7],22,-45705983),t=Mn(t,n,i,o,r[a+8],7,1770035416),o=Mn(o,t,n,i,r[a+9],12,-1958414417),i=Mn(i,o,t,n,r[a+10],17,-42063),n=Mn(n,i,o,t,r[a+11],22,-1990404162),t=Mn(t,n,i,o,r[a+12],7,1804603682),o=Mn(o,t,n,i,r[a+13],12,-40341101),i=Mn(i,o,t,n,r[a+14],17,-1502002290),n=Mn(n,i,o,t,r[a+15],22,1236535329),t=qn(t,n,i,o,r[a+1],5,-165796510),o=qn(o,t,n,i,r[a+6],9,-1069501632),i=qn(i,o,t,n,r[a+11],14,643717713),n=qn(n,i,o,t,r[a],20,-373897302),t=qn(t,n,i,o,r[a+5],5,-701558691),o=qn(o,t,n,i,r[a+10],9,38016083),i=qn(i,o,t,n,r[a+15],14,-660478335),n=qn(n,i,o,t,r[a+4],20,-405537848),t=qn(t,n,i,o,r[a+9],5,568446438),o=qn(o,t,n,i,r[a+14],9,-1019803690),i=qn(i,o,t,n,r[a+3],14,-187363961),n=qn(n,i,o,t,r[a+8],20,1163531501),t=qn(t,n,i,o,r[a+13],5,-1444681467),o=qn(o,t,n,i,r[a+2],9,-51403784),i=qn(i,o,t,n,r[a+7],14,1735328473),n=qn(n,i,o,t,r[a+12],20,-1926607734),t=Fn(t,n,i,o,r[a+5],4,-378558),o=Fn(o,t,n,i,r[a+8],11,-2022574463),i=Fn(i,o,t,n,r[a+11],16,1839030562),n=Fn(n,i,o,t,r[a+14],23,-35309556),t=Fn(t,n,i,o,r[a+1],4,-1530992060),o=Fn(o,t,n,i,r[a+4],11,1272893353),i=Fn(i,o,t,n,r[a+7],16,-155497632),n=Fn(n,i,o,t,r[a+10],23,-1094730640),t=Fn(t,n,i,o,r[a+13],4,681279174),o=Fn(o,t,n,i,r[a],11,-358537222),i=Fn(i,o,t,n,r[a+3],16,-722521979),n=Fn(n,i,o,t,r[a+6],23,76029189),t=Fn(t,n,i,o,r[a+9],4,-640364487),o=Fn(o,t,n,i,r[a+12],11,-421815835),i=Fn(i,o,t,n,r[a+15],16,530742520),n=Fn(n,i,o,t,r[a+2],23,-995338651),t=Un(t,n,i,o,r[a],6,-198630844),o=Un(o,t,n,i,r[a+7],10,1126891415),i=Un(i,o,t,n,r[a+14],15,-1416354905),n=Un(n,i,o,t,r[a+5],21,-57434055),t=Un(t,n,i,o,r[a+12],6,1700485571),o=Un(o,t,n,i,r[a+3],10,-1894986606),i=Un(i,o,t,n,r[a+10],15,-1051523),n=Un(n,i,o,t,r[a+1],21,-2054922799),t=Un(t,n,i,o,r[a+8],6,1873313359),o=Un(o,t,n,i,r[a+15],10,-30611744),i=Un(i,o,t,n,r[a+6],15,-1560198380),n=Un(n,i,o,t,r[a+13],21,1309151649),t=Un(t,n,i,o,r[a+4],6,-145523070),o=Un(o,t,n,i,r[a+11],10,-1120210379),i=Un(i,o,t,n,r[a+2],15,718787259),n=Un(n,i,o,t,r[a+9],21,-343485551),t=Nc(t,s),n=Nc(n,u),i=Nc(i,f),o=Nc(o,l)}return[t,n,i,o]}function Hee(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(TB(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function Nc(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function Kee(r,e){return r<<e|r>>>32-e}function h_(r,e,t,n,i,o){return Nc(Kee(Nc(Nc(e,r),Nc(n,o)),i),t)}function Mn(r,e,t,n,i,o,a){return h_(e&t|~e&n,r,e,i,o,a)}function qn(r,e,t,n,i,o,a){return h_(e&n|t&~n,r,e,i,o,a)}function Fn(r,e,t,n,i,o,a){return h_(e^t^n,r,e,i,o,a)}function Un(r,e,t,n,i,o,a){return h_(t^(e|~n),r,e,i,o,a)}var SB,CB=de(()=>{d();h();SB=Lee});var Vee,AB,OB=de(()=>{d();h();z8();CB();Vee=d_("v3",48,SB),AB=Vee});function Gee(r,e,t){r=r||{};var n=r.random||(r.rng||ty)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return Bc(n)}var DB,RB=de(()=>{d();h();H8();ny();DB=Gee});function Yee(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function W8(r,e){return r<<e|r>>>32-e}function zee(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var f=new Uint32Array(16),l=0;l<16;++l)f[l]=r[u*64+l*4]<<24|r[u*64+l*4+1]<<16|r[u*64+l*4+2]<<8|r[u*64+l*4+3];s[u]=f}s[a-1][14]=(r.length-1)*8/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=(r.length-1)*8&4294967295;for(var p=0;p<a;++p){for(var g=new Uint32Array(80),v=0;v<16;++v)g[v]=s[p][v];for(var _=16;_<80;++_)g[_]=W8(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var T=t[0],O=t[1],R=t[2],D=t[3],U=t[4],K=0;K<80;++K){var A=Math.floor(K/20),c=W8(T,5)+Yee(A,O,R,D)+U+e[A]+g[K]>>>0;U=D,D=R,R=W8(O,30)>>>0,O=T,T=c}t[0]=t[0]+T>>>0,t[1]=t[1]+O>>>0,t[2]=t[2]+R>>>0,t[3]=t[3]+D>>>0,t[4]=t[4]+U>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var PB,BB=de(()=>{d();h();PB=zee});var Wee,NB,MB=de(()=>{d();h();z8();BB();Wee=d_("v5",80,PB),NB=Wee});var qB,FB=de(()=>{d();h();qB="00000000-0000-0000-0000-000000000000"});function Xee(r){if(!Pc(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var UB,LB=de(()=>{d();h();ry();UB=Xee});var kB={};fc(kB,{NIL:()=>qB,parse:()=>l_,stringify:()=>Bc,v1:()=>bB,v3:()=>AB,v4:()=>DB,v5:()=>NB,validate:()=>Pc,version:()=>UB});var jB=de(()=>{d();h();IB();OB();RB();MB();FB();LB();ry();ny();Y8()});var HB=b(Fc=>{"use strict";d();h();Object.defineProperty(Fc,"__esModule",{value:!0});var Ln=lu(),Jee=(jB(),cc(kB)),X8={COSMOS_SIGN_REQUEST:new Ln.RegistryType("cosmos-sign-request",4101),COSMOS_SIGNATURE:new Ln.RegistryType("cosmos-signature",4102)},{decodeToDataItem:$ee,RegistryTypes:Zee}=Ln.extend,Mc,tn;(Mc=Fc.SignDataType||(Fc.SignDataType={}))[Mc.amino=1]="amino",Mc[Mc.direct=2]="direct",Mc[Mc.textual=3]="textual",Mc[Mc.message=4]="message",function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.dataType=3]="dataType",r[r.derivationPaths=4]="derivationPaths",r[r.addresses=5]="addresses",r[r.origin=6]="origin"}(tn||(tn={}));var gf=class extends Ln.RegistryItem{constructor(e){super(),this.getRegistryType=()=>X8.COSMOS_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataype=()=>this.dataType,this.getDerivationPaths=()=>this.derivationPaths.map(t=>t.getPath()),this.getAddress=()=>this.addresses,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};return t[tn.requestId]=new Ln.DataItem(this.requestId,Zee.UUID.getTag()),t[tn.signData]=this.signData,t[tn.dataType]=this.dataType,t[tn.derivationPaths]=this.derivationPaths.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),this.addresses&&(t[tn.addresses]=this.addresses),this.origin&&(t[tn.origin]=this.origin),new Ln.DataItem(t)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.derivationPaths=e.derivationPaths,this.addresses=e.addresses,this.origin=e.origin}static constructCosmosRequest(e,t,n,i,o,a,s){let u=o.map((f,l)=>{let p=f.replace(/[m|M]\//,"").split("/").map(g=>{let v=parseInt(g.replace("'","")),_=!1;return g.endsWith("'")&&(_=!0),new Ln.PathComponent({index:v,hardened:_})});return new Ln.CryptoKeypath(p,m.Buffer.from(t[l],"hex"))});return new gf({requestId:m.Buffer.from(Jee.parse(e)),signData:n,dataType:i||Fc.SignDataType.amino,derivationPaths:u,addresses:a||void 0,origin:s||void 0})}};gf.fromDataItem=r=>{let e=r.getData(),t=e[tn.requestId]?e[tn.requestId].getData():void 0,n=e[tn.signData],i=e[tn.dataType],o=e[tn.derivationPaths].map(a=>Ln.CryptoKeypath.fromDataItem(a));return new gf({requestId:t,signData:n,dataType:i,derivationPaths:o,addresses:e[tn.addresses]?e[tn.addresses]:void 0,origin:e[tn.origin]?e[tn.origin]:void 0})},gf.fromCBOR=r=>{let e=$ee(r);return gf.fromDataItem(e)};var{RegistryTypes:Qee,decodeToDataItem:ete}=Ln.extend,qc;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature",r[r.publicKey=3]="publicKey"})(qc||(qc={}));var Ll=class extends Ln.RegistryItem{constructor(e,t,n){super(),this.getRegistryType=()=>X8.COSMOS_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getPublicKey=()=>this.publicKey,this.toDataItem=()=>{let i={};return i[qc.requestId]=new Ln.DataItem(this.requestId,Qee.UUID.getTag()),i[qc.signature]=this.signature,i[qc.publicKey]=this.publicKey,new Ln.DataItem(i)},this.signature=e,this.requestId=t,this.publicKey=n}};Ll.fromDataItem=r=>{let e=r.getData(),t=e[qc.signature],n=e[qc.requestId].getData();return new Ll(t,n,e[qc.publicKey])},Ll.fromCBOR=r=>{let e=ete(r);return Ll.fromDataItem(e)},Ln.patchTags(Object.values(X8).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(Ln).forEach(function(r){r!=="default"&&Object.defineProperty(Fc,r,{enumerable:!0,get:function(){return Ln[r]}})}),Fc.CosmosSignRequest=gf,Fc.CosmosSignature=Ll});var VB=b((UDe,KB)=>{"use strict";d();h();KB.exports=HB()});var GB=b(g_=>{"use strict";d();h();Object.defineProperty(g_,"__esModule",{value:!0});g_.KeystoneCosmosSDK=void 0;var kl=Qr(),tte=so(),iy=VB(),p_=class{constructor(e){this.config=e}parseSignature(e){if(e.type!==tte.URType.CosmosSignature)throw new Error("type not match");let t=iy.CosmosSignature.fromCBOR(e.cbor);return{requestId:(0,kl.uuidStringify)(t.getRequestId()),signature:(0,kl.toHex)(t.getSignature()),publicKey:(0,kl.toHex)(t.getPublicKey())}}generateSignRequest({requestId:e,signData:t,dataType:n,accounts:i,origin:o}){var a;let s=[],u=[];return i.forEach(f=>{s.push(new iy.CryptoKeypath((0,kl.parsePath)(f.path).map(l=>new iy.PathComponent(l)),(0,kl.toBuffer)(f.xfp))),u.push(f.address)}),new iy.CosmosSignRequest({signData:(0,kl.toBuffer)(t),dataType:n,derivationPaths:s,requestId:(0,kl.uuidParse)(e),addresses:u,origin:o!=null?o:(a=this.config)===null||a===void 0?void 0:a.origin}).toUR()}};p_.DataType=iy.SignDataType;g_.KeystoneCosmosSDK=p_});var m_=b(y_=>{"use strict";d();h();Object.defineProperty(y_,"__esModule",{value:!0});y_.DataItem=void 0;var J8=class{constructor(e,t){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}};y_.DataItem=J8});var zB=b((YB,v_)=>{"use strict";d();h();(function(r,e){typeof define=="function"&&define.amd?define([],e):typeof v_<"u"&&v_.exports?v_.exports=e():r.CBOR=e()})(YB,function(){let{DataItem:r}=m_();var e=function(){function t(c){this.$hex=c}t.prototype={length:function(){return this.$hex.length/2},toString:function(c){if(!c||c==="hex"||c===16)return this.$hex;if(c==="utf-8"){for(var y="",x=0;x<this.$hex.length;x+=2)y+="%"+this.$hex.substring(x,x+2);return decodeURIComponent(y)}if(c==="latin"){for(var y=[],x=0;x<this.$hex.length;x+=2)y.push(parseInt(this.$hex.substring(x,x+2),16));return String.fromCharCode.apply(String,y)}throw new Error("Unrecognised format: "+c)}},t.fromLatinString=function(c){for(var y="",x=0;x<c.length;x++){var M=c.charCodeAt(x).toString(16);M.length===1&&(M="0"+M),y+=M}return new t(y)},t.fromUtf8String=function(c){for(var y=encodeURIComponent(c),x="",M=0;M<y.length;M++)if(y.charAt(M)==="%")x+=y.substring(M+1,M+3),M+=2;else{var L=y.charCodeAt(M).toString(16);L.length<2&&(L="0"+L),x+=L}return new t(x)};var n=[],i={},o=function(c){return function(){throw new Error(c+" not implemented")}};function a(){}a.prototype={peekByte:o("peekByte"),readByte:o("readByte"),readChunk:o("readChunk"),readFloat16:function(){var c=this.readUint16(),y=(c&32767)>>10,x=c&1023,M=c&32768;if(y===31)return x===0?M?-1/0:1/0:NaN;var L=y?Math.pow(2,y-25)*(1024+x):Math.pow(2,-24)*x;return M?-L:L},readFloat32:function(){var c=this.readUint32(),y=(c&2147483647)>>23,x=c&8388607,M=c&2147483648;if(y===255)return x===0?M?-1/0:1/0:NaN;var L=y?Math.pow(2,y-23-127)*(8388608+x):Math.pow(2,-23-126)*x;return M?-L:L},readFloat64:function(){var c=this.readUint32(),y=this.readUint32(),x=c>>20&2047,M=(c&1048575)*4294967296+y,L=c&2147483648;if(x===2047)return M===0?L?-1/0:1/0:NaN;var ce=x?Math.pow(2,x-52-1023)*(4503599627370496+M):Math.pow(2,-52-1022)*M;return L?-ce:ce},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:o("writeByte"),result:o("result"),writeFloat16:o("writeFloat16"),writeFloat32:o("writeFloat32"),writeFloat64:o("writeFloat64"),writeUint16:function(c){this.writeByte(c>>8&255),this.writeByte(c&255)},writeUint32:function(c){this.writeUint16(c>>16&65535),this.writeUint16(c&65535)},writeUint64:function(c){if(c>=9007199254740992||c<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+c+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(c/4294967296)),this.writeUint32(c%4294967296)},writeString:o("writeString"),canWriteBinary:function(c){return!1},writeBinary:o("writeChunk")};function u(c){var y=c.readByte(),x=y>>5,M=y&31;return{type:x,value:M}}function f(c,y){var x=c.value;if(x<24)return x;if(x==24)return y.readByte();if(x==25)return y.readUint16();if(x==26)return y.readUint32();if(x==27)return y.readUint64();if(x==31)return null;o("Additional info: "+x)()}function l(c,y,x){x.writeByte(c<<5|y)}function p(c,y,x){var M=c<<5;y<24?x.writeByte(M|y):y<256?(x.writeByte(M|24),x.writeByte(y)):y<65536?(x.writeByte(M|25),x.writeUint16(y)):y<4294967296?(x.writeByte(M|26),x.writeUint32(y)):(x.writeByte(M|27),x.writeUint64(y))}var g=new Error;function v(c){var y=u(c);switch(y.type){case 0:return f(y,c);case 1:return-1-f(y,c);case 2:return c.readChunk(f(y,c));case 3:var x=c.readChunk(f(y,c));return x.toString("utf-8");case 4:case 5:var M=f(y,c),B=[];if(M!==null){y.type===5&&(M*=2);for(var L=0;L<M;L++)B[L]=v(c)}else for(var ce;(ce=v(c))!==g;)B.push(ce);if(y.type===5){for(var q={},L=0;L<B.length;L+=2)q[B[L]]=B[L+1];return q}else return B;case 6:var w=f(y,c),S=i[w],B=v(c);return S?S(B):B;case 7:if(y.value===25)return c.readFloat16();if(y.value===26)return c.readFloat32();if(y.value===27)return c.readFloat64();switch(f(y,c)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+y.value)}default:throw new Error("Unsupported header: "+JSON.stringify(y))}throw new Error("not implemented yet")}function _(c,y){for(var x=0;x<n.length;x++){var M=n[x].fn(c);if(M!==void 0)return p(6,n[x].tag,y),_(M,y)}if(c&&typeof c.toCBOR=="function"&&(c=c.toCBOR()),c===!1)p(7,20,y);else if(c===!0)p(7,21,y);else if(c===null)p(7,22,y);else if(c===void 0)p(7,23,y);else if(typeof c=="number")Math.floor(c)===c&&c<9007199254740992&&c>-9007199254740992?c<0?p(1,-1-c,y):p(0,c,y):(l(7,27,y),y.writeFloat64(c));else if(typeof c=="string")y.writeString(c,function(ce){p(3,ce,y)});else if(y.canWriteBinary(c))y.writeBinary(c,function(ce){p(2,ce,y)});else if(typeof c=="object")if(R.config.useToJSON&&typeof c.toJSON=="function"&&(c=c.toJSON()),Array.isArray(c)){p(4,c.length,y);for(var x=0;x<c.length;x++)_(c[x],y)}else{var L=Object.keys(c);p(5,L.length,y);for(var x=0;x<L.length;x++){let q=parseInt(L[x]);isNaN(q)?(_(L[x],y),_(c[L[x]],y)):(_(q,y),_(c[L[x]],y))}}else throw new Error("CBOR encoding not supported: "+c)}var T=[],O=[],R={config:{useToJSON:!0},addWriter:function(c,y){typeof c=="string"?O.push(function(x){if(c===x)return y(x)}):O.push(c)},addReader:function(c,y){typeof c=="string"?T.push(function(x,M){if(c===M)return y(x,M)}):T.push(c)},encode:function(c,y){for(var x=0;x<O.length;x++){var M=O[x],L=M(y);if(L)return _(c,L),L.result()}throw new Error("Unsupported output format: "+y)},encodeDataItem:function(c,y){for(var x=0;x<O.length;x++){var M=O[x],L=M(y);if(L)return c.getTag()!==void 0?(_(c,L),L.result()):(_(c.getData(),L),L.result())}throw new Error("Unsupported output format: "+y)},decode:function(c,y){for(var x=0;x<T.length;x++){var M=T[x],L=M(c,y);if(L)return v(L)}throw new Error("Unsupported input format: "+y)},decodeToDataItem:function(c,y){for(var x=0;x<T.length;x++){var M=T[x],L=M(c,y);if(L){let ce=v(L);return ce instanceof r?ce:new r(ce)}}throw new Error("Unsupported input format: "+y)},addSemanticEncode:function(c,y){if(typeof c!="number"||c%1!==0||c<0)throw new Error("Tag must be a positive integer");return n.push({tag:c,fn:y}),this},addSemanticDecode:function(c,y){if(typeof c!="number"||c%1!==0||c<0)throw new Error("Tag must be a positive integer");return i[c]=y,this}};function D(c){this.buffer=c,this.pos=0}D.prototype=Object.create(a.prototype),D.prototype.peekByte=function(){return this.buffer[this.pos]},D.prototype.readByte=function(){return this.buffer[this.pos++]},D.prototype.readUint16=function(){var c=this.buffer.readUInt16BE(this.pos);return this.pos+=2,c},D.prototype.readUint32=function(){var c=this.buffer.readUInt32BE(this.pos);return this.pos+=4,c},D.prototype.readFloat32=function(){var c=this.buffer.readFloatBE(this.pos);return this.pos+=4,c},D.prototype.readFloat64=function(){var c=this.buffer.readDoubleBE(this.pos);return this.pos+=8,c},D.prototype.readChunk=function(c){var y=m.Buffer.alloc(c);return this.buffer.copy(y,0,this.pos,this.pos+=c),y};function U(c){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=c}U.prototype=Object.create(s.prototype),U.prototype.writeByte=function(c){this.latestBuffer[this.latestBufferOffset++]=c,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},U.prototype.writeFloat32=function(c){var y=m.Buffer.alloc(4);y.writeFloatBE(c,0),this.writeBuffer(y)},U.prototype.writeFloat64=function(c){var y=m.Buffer.alloc(8);y.writeDoubleBE(c,0),this.writeBuffer(y)},U.prototype.writeString=function(c,y){var x=m.Buffer.from(c,"utf-8");y(x.length),this.writeBuffer(x)},U.prototype.canWriteBinary=function(c){return c instanceof m.Buffer},U.prototype.writeBinary=function(c,y){y(c.length),this.writeBuffer(c)},U.prototype.writeBuffer=function(c){if(!(c instanceof m.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=c.length?(c.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=c.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(c),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(c),this.byteLength+=c.length},U.prototype.result=function(){for(var c=m.Buffer.alloc(this.byteLength),y=0,x=0;x<this.completeBuffers.length;x++){var M=this.completeBuffers[x];M.copy(c,y,0,M.length),y+=M.length}return this.latestBufferOffset&&this.latestBuffer.copy(c,y,0,this.latestBufferOffset),this.stringFormat?c.toString(this.stringFormat):c},typeof m.Buffer=="function"&&(R.addReader(function(c,y){if(m.Buffer.isBuffer(c))return new D(c);if(y==="hex"||y==="base64"){var x=m.Buffer.from(c,y);return new D(x)}}),R.addWriter(function(c){if(!c||c==="buffer")return new U;if(c==="hex"||c==="base64")return new U(c)}));function K(c){this.hex=c,this.pos=0}K.prototype=Object.create(a.prototype),K.prototype.peekByte=function(){var c=this.hex.substring(this.pos,2);return parseInt(c,16)},K.prototype.readByte=function(){var c=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(c,16)},K.prototype.readChunk=function(c){var y=this.hex.substring(this.pos,this.pos+c*2);return this.pos+=c*2,typeof m.Buffer=="function"?m.Buffer.from(y,"hex"):new t(y)};function A(c){this.$hex="",this.finalFormat=c||"hex"}return A.prototype=Object.create(s.prototype),A.prototype.writeByte=function(c){if(c<0||c>255)throw new Error("Byte value out of range: "+c);var y=c.toString(16);y.length==1&&(y="0"+y),this.$hex+=y},A.prototype.canWriteBinary=function(c){return c instanceof t||typeof m.Buffer=="function"&&c instanceof m.Buffer},A.prototype.writeBinary=function(c,y){if(c instanceof t)y(c.length()),this.$hex+=c.$hex;else if(typeof m.Buffer=="function"&&c instanceof m.Buffer)y(c.length),this.$hex+=c.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},A.prototype.result=function(){return this.finalFormat==="buffer"&&typeof m.Buffer=="function"?m.Buffer.from(this.$hex,"hex"):new t(this.$hex).toString(this.finalFormat)},A.prototype.writeString=function(c,y){var x=t.fromUtf8String(c);y(x.length()),this.$hex+=x.$hex},R.addReader(function(c,y){if(c instanceof t||c.$hex)return new K(c.$hex);if(y==="hex")return new K(c)}),R.addWriter(function(c){if(c==="hex")return new A}),R}();return e.addSemanticEncode(0,function(t){if(t instanceof Date)return t.toISOString()}).addSemanticDecode(0,function(t){return new Date(t)}).addSemanticDecode(1,function(t){return new Date(t)}),e})});var rn=b(kn=>{"use strict";d();h();Object.defineProperty(kn,"__esModule",{value:!0});kn.DataItem=kn.addWriter=kn.addReader=kn.addSemanticEncode=kn.addSemanticDecode=kn.decodeToDataItem=kn.encodeDataItem=void 0;var _1=zB();Object.defineProperty(kn,"encodeDataItem",{enumerable:!0,get:function(){return _1.encodeDataItem}});Object.defineProperty(kn,"decodeToDataItem",{enumerable:!0,get:function(){return _1.decodeToDataItem}});Object.defineProperty(kn,"addSemanticDecode",{enumerable:!0,get:function(){return _1.addSemanticDecode}});Object.defineProperty(kn,"addSemanticEncode",{enumerable:!0,get:function(){return _1.addSemanticEncode}});Object.defineProperty(kn,"addReader",{enumerable:!0,get:function(){return _1.addReader}});Object.defineProperty(kn,"addWriter",{enumerable:!0,get:function(){return _1.addWriter}});var rte=m_();Object.defineProperty(kn,"DataItem",{enumerable:!0,get:function(){return rte.DataItem}})});var w_=b(__=>{"use strict";d();h();Object.defineProperty(__,"__esModule",{value:!0});__.patchTags=void 0;var x_=rn(),WB=[],nte=r=>{r.forEach(e=>{WB.find(t=>t===e)||(x_.addSemanticEncode(e,t=>{if(t instanceof x_.DataItem&&t.getTag()===e)return t.getData()}),x_.addSemanticDecode(e,t=>new x_.DataItem(t,e)),WB.push(e))})};__.patchTags=nte});var nn=b(w1=>{"use strict";d();h();Object.defineProperty(w1,"__esModule",{value:!0});w1.RegistryTypes=w1.RegistryType=void 0;var Ui=class{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}};w1.RegistryType=Ui;w1.RegistryTypes={UUID:new Ui("uuid",37),BYTES:new Ui("bytes",void 0),CRYPTO_HDKEY:new Ui("crypto-hdkey",303),CRYPTO_KEYPATH:new Ui("crypto-keypath",304),CRYPTO_COIN_INFO:new Ui("crypto-coin-info",305),CRYPTO_ECKEY:new Ui("crypto-eckey",306),CRYPTO_OUTPUT:new Ui("crypto-output",308),CRYPTO_PSBT:new Ui("crypto-psbt",310),CRYPTO_ACCOUNT:new Ui("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new Ui("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new Ui("qr-hardware-call",1201),KEY_DERIVATION_CALL:new Ui("key-derivation-call",1301)}});var E_=b(jl=>{"use strict";d();h();Object.defineProperty(jl,"__esModule",{value:!0});jl.ScriptExpressions=jl.ScriptExpression=void 0;var fo=class{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};jl.ScriptExpression=fo;fo.fromTag=r=>Object.values(jl.ScriptExpressions).find(t=>t.getTag()===r);jl.ScriptExpressions={SCRIPT_HASH:new fo(400,"sh"),WITNESS_SCRIPT_HASH:new fo(401,"wsh"),PUBLIC_KEY:new fo(402,"pk"),PUBLIC_KEY_HASH:new fo(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new fo(404,"wpkh"),COMBO:new fo(405,"combo"),MULTISIG:new fo(406,"multi"),SORTED_MULTISIG:new fo(407,"sortedmulti"),ADDRESS:new fo(307,"addr"),RAW_SCRIPT:new fo(408,"raw")}});var $8=b(XB=>{"use strict";d();h();Object.defineProperty(XB,"__esModule",{value:!0});var ite=w_(),ote=nn(),ate=E_(),ste=Object.values(ote.RegistryTypes).filter(r=>!!r.getTag()).map(r=>r.getTag()),ute=Object.values(ate.ScriptExpressions).map(r=>r.getTag());ite.patchTags(ste.concat(ute))});var Li=b(b_=>{"use strict";d();h();Object.defineProperty(b_,"__esModule",{value:!0});b_.RegistryItem=void 0;var JB=Gr(),fte=rn(),Z8=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return fte.encodeDataItem(this.toDataItem())},this.toUR=()=>new JB.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,n)=>{let i=this.toUR();return new JB.UREncoder(i,e,t,n)}}};b_.RegistryItem=Z8});var I_=b(du=>{"use strict";d();h();Object.defineProperty(du,"__esModule",{value:!0});du.CryptoCoinInfo=du.Network=du.Type=void 0;var $B=rn(),cte=Li(),lte=nn(),E1;(function(r){r.type="1",r.network="2"})(E1||(E1={}));var ZB;(function(r){r[r.bitcoin=0]="bitcoin"})(ZB=du.Type||(du.Type={}));var QB;(function(r){r[r.mainnet=0]="mainnet",r[r.testnet=1]="testnet"})(QB=du.Network||(du.Network={}));var Hl=class extends cte.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>lte.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||ZB.bitcoin,this.getNetwork=()=>this.network||QB.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[E1.type]=this.type),this.network&&(n[E1.network]=this.network),new $B.DataItem(n)}}};du.CryptoCoinInfo=Hl;Hl.fromDataItem=r=>{let e=r.getData(),t=e[E1.type],n=e[E1.network];return new Hl(t,n)};Hl.fromCBOR=r=>{let e=$B.decodeToDataItem(r);return Hl.fromDataItem(e)}});var S_=b(T_=>{"use strict";d();h();Object.defineProperty(T_,"__esModule",{value:!0});T_.PathComponent=void 0;var b1=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&b1.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};T_.PathComponent=b1;b1.HARDENED_BIT=2147483648});var oy=b(C_=>{"use strict";d();h();Object.defineProperty(C_,"__esModule",{value:!0});C_.CryptoKeypath=void 0;var tN=rn(),eN=S_(),dte=Li(),hte=nn(),Uc;(function(r){r[r.components=1]="components",r[r.source_fingerprint=2]="source_fingerprint",r[r.depth=3]="depth"})(Uc||(Uc={}));var Kl=class extends dte.RegistryItem{constructor(e=[],t,n){super(),this.components=e,this.sourceFingerprint=t,this.depth=n,this.getRegistryType=()=>hte.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(o=>`${o.isWildcard()?"*":o.getIndex()}${o.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},o=[];return this.components&&this.components.forEach(a=>{a.isWildcard()?o.push([]):o.push(a.getIndex()),o.push(a.isHardened())}),i[Uc.components]=o,this.sourceFingerprint&&(i[Uc.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[Uc.depth]=this.depth),new tN.DataItem(i)}}};C_.CryptoKeypath=Kl;Kl.fromDataItem=r=>{let e=r.getData(),t=[],n=e[Uc.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?t.push(new eN.PathComponent({index:f,hardened:u})):t.push(new eN.PathComponent({hardened:u}))}let i=e[Uc.source_fingerprint],o;i&&(o=m.Buffer.alloc(4),o.writeUInt32BE(i,0));let a=e[Uc.depth];return new Kl(t,o,a)};Kl.fromCBOR=r=>{let e=tN.decodeToDataItem(r);return Kl.fromDataItem(e)}});var I1=b(A_=>{"use strict";d();h();Object.defineProperty(A_,"__esModule",{value:!0});A_.CryptoHDKey=void 0;var pte=ll(),gte=I_(),rN=oy(),nN=rn(),yte=Li(),mte=nn(),Tt;(function(r){r[r.is_master=1]="is_master",r[r.is_private=2]="is_private",r[r.key_data=3]="key_data",r[r.chain_code=4]="chain_code",r[r.use_info=5]="use_info",r[r.origin=6]="origin",r[r.children=7]="children",r[r.parent_fingerprint=8]="parent_fingerprint",r[r.name=9]="name",r[r.note=10]="note"})(Tt||(Tt={}));var Vl=class extends yte.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var t,n,i;let o,a,s=0,u=m.Buffer.alloc(4).fill(0);if(this.isMaster())o=m.Buffer.from("0488ADE4","hex"),a=0,s=0;else{a=((t=this.getOrigin())===null||t===void 0?void 0:t.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());let v=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),_=v[v.length-1];_&&(s=_.isHardened()?_.getIndex()+2147483648:_.getIndex(),this.getParentFingerprint()&&(u=this.getParentFingerprint())),this.isPrivateKey()?o=m.Buffer.from("0488ADE4","hex"):o=m.Buffer.from("0488B21E","hex")}let f=m.Buffer.alloc(1);f.writeUInt8(a,0);let l=m.Buffer.alloc(4);l.writeUInt32BE(s,0);let p=this.getChainCode(),g=this.getKey();return pte.encode(m.Buffer.concat([o,f,u,l,p,g]))},this.getRegistryType=()=>mte.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var t,n,i,o,a,s,u;let f="";return this.getOrigin()&&((t=this.getOrigin())===null||t===void 0?void 0:t.getSourceFingerprint())&&((n=this.getOrigin())===null||n===void 0?void 0:n.getPath())&&(f+=`${(o=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||o===void 0?void 0:o.toString("hex")}/${(a=this.getOrigin())===null||a===void 0?void 0:a.getPath()}`),f+=this.getBip32Key(),this.getChildren()&&!((s=this.getChildren())===null||s===void 0)&&s.getPath()&&(f+=`/${(u=this.getChildren())===null||u===void 0?void 0:u.getPath()}`),f},this.setupMasterKey=t=>{this.master=!0,this.key=t.key,this.chainCode=t.chainCode},this.setupDeriveKey=t=>{this.master=!1,this.privateKey=t.isPrivateKey,this.key=t.key,this.chainCode=t.chainCode,this.useInfo=t.useInfo,this.origin=t.origin,this.children=t.children,this.parentFingerprint=t.parentFingerprint,this.name=t.name,this.note=t.note},this.toDataItem=()=>{let t={};if(this.master)t[Tt.is_master]=!0,t[Tt.key_data]=this.key,t[Tt.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(t[Tt.is_private]=this.privateKey),t[Tt.key_data]=this.key,this.chainCode&&(t[Tt.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),t[Tt.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),t[Tt.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),t[Tt.children]=n}this.parentFingerprint&&(t[Tt.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(t[Tt.name]=this.name),this.note!==void 0&&(t[Tt.note]=this.note)}return new nN.DataItem(t)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};A_.CryptoHDKey=Vl;Vl.fromDataItem=r=>{let e=r.getData(),t=!!e[Tt.is_master],n=e[Tt.is_private],i=e[Tt.key_data],o=e[Tt.chain_code],a=e[Tt.use_info]?gte.CryptoCoinInfo.fromDataItem(e[Tt.use_info]):void 0,s=e[Tt.origin]?rN.CryptoKeypath.fromDataItem(e[Tt.origin]):void 0,u=e[Tt.children]?rN.CryptoKeypath.fromDataItem(e[Tt.children]):void 0,f=e[Tt.parent_fingerprint],l;f&&(l=m.Buffer.alloc(4),l.writeUInt32BE(f,0));let p=e[Tt.name],g=e[Tt.note];return new Vl({isMaster:t,isPrivateKey:n,key:i,chainCode:o,useInfo:a,origin:s,children:u,parentFingerprint:l,name:p,note:g})};Vl.fromCBOR=r=>{let e=nN.decodeToDataItem(r);return Vl.fromDataItem(e)}});var ay=b(O_=>{"use strict";d();h();Object.defineProperty(O_,"__esModule",{value:!0});O_.CryptoECKey=void 0;var iN=rn(),vte=Li(),xte=nn(),Lc;(function(r){r[r.curve=1]="curve",r[r.private=2]="private",r[r.data=3]="data"})(Lc||(Lc={}));var Gl=class extends vte.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>xte.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let t={};return this.curve&&(t[Lc.curve]=this.curve),this.privateKey!==void 0&&(t[Lc.private]=this.privateKey),t[Lc.data]=this.data,new iN.DataItem(t)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||void 0}};O_.CryptoECKey=Gl;Gl.fromDataItem=r=>{let e=r.getData(),t=e[Lc.curve],n=e[Lc.private],i=e[Lc.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${r}`);return new Gl({data:i,curve:t,privateKey:n})};Gl.fromCBOR=r=>{let e=iN.decodeToDataItem(r);return Gl.fromDataItem(e)}});var aN=b(D_=>{"use strict";d();h();Object.defineProperty(D_,"__esModule",{value:!0});D_.Bytes=void 0;var oN=rn(),_te=Li(),wte=nn(),Yl=class extends _te.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>wte.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new oN.DataItem(this.bytes)}};D_.Bytes=Yl;Yl.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new Yl(e)};Yl.fromCBOR=r=>{let e=oN.decodeToDataItem(r);return Yl.fromDataItem(e)}});var P_=b(R_=>{"use strict";d();h();Object.defineProperty(R_,"__esModule",{value:!0});R_.MultiKey=void 0;var Ete=ay(),bte=I1(),Ite=m_(),Tte=Li(),sN=nn(),T1;(function(r){r[r.threshold=1]="threshold",r[r.keys=2]="keys"})(T1||(T1={}));var sy=class extends Tte.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{let n={};n[T1.threshold]=this.threshold;let i=this.keys.map(o=>{let a=o.toDataItem();return a.setTag(o.getRegistryType().getTag()),a});return n[T1.keys]=i,new Ite.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};R_.MultiKey=sy;sy.fromDataItem=r=>{let e=r.getData(),t=e[T1.threshold],n=e[T1.keys],i=[];return n.forEach(o=>{o.getTag()===sN.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(bte.CryptoHDKey.fromDataItem(o)):o.getTag()===sN.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(Ete.CryptoECKey.fromDataItem(o))}),new sy(t,i)}});var nT=b(B_=>{"use strict";d();h();Object.defineProperty(B_,"__esModule",{value:!0});B_.CryptoOutput=void 0;var eT=ay(),tT=I1(),rT=rn(),uN=P_(),Ste=Li(),fN=nn(),Q8=E_(),yf=class extends Ste.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>fN.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof tT.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof eT.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof uN.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof eT.CryptoECKey||this.cryptoKey instanceof tT.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(o=>{let a=o.getTag();n.getTag()===void 0?n.setTag(a):n=new rT.DataItem(n,a)}),n}}};B_.CryptoOutput=yf;yf.fromDataItem=r=>{let e=[],t=r;for(;;){let o=t.getTag(),a=Q8.ScriptExpression.fromTag(o);if(a)if(e.push(a),t.getData()instanceof rT.DataItem)t=t.getData(),o=t.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===Q8.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===Q8.ScriptExpressions.SORTED_MULTISIG.getExpression())){let o=uN.MultiKey.fromDataItem(t);return new yf(e,o)}if(t.getTag()===fN.RegistryTypes.CRYPTO_HDKEY.getTag()){let o=tT.CryptoHDKey.fromDataItem(t);return new yf(e,o)}else{let o=eT.CryptoECKey.fromDataItem(t);return new yf(e,o)}};yf.fromCBOR=r=>{let e=rT.decodeToDataItem(r);return yf.fromDataItem(e)}});var iT=b(N_=>{"use strict";d();h();Object.defineProperty(N_,"__esModule",{value:!0});N_.CryptoPSBT=void 0;var cN=rn(),Cte=Li(),Ate=nn(),zl=class extends Cte.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>Ate.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new cN.DataItem(this.psbt)}};N_.CryptoPSBT=zl;zl.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new zl(e)};zl.fromCBOR=r=>{let e=cN.decodeToDataItem(r);return zl.fromDataItem(e)}});var oT=b(M_=>{"use strict";d();h();Object.defineProperty(M_,"__esModule",{value:!0});M_.CryptoAccount=void 0;var Ote=q_(),lN=rn(),Dte=Li(),Rte=nn(),S1;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.outputDescriptors=2]="outputDescriptors"})(S1||(S1={}));var Wl=class extends Dte.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>Rte.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[S1.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[S1.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new lN.DataItem(n)}}};M_.CryptoAccount=Wl;Wl.fromDataItem=r=>{let e=r.getData(),t=m.Buffer.alloc(4),n=e[S1.masterFingerprint];n&&t.writeUInt32BE(n,0);let o=e[S1.outputDescriptors].map(a=>Ote.CryptoOutput.fromDataItem(a));return new Wl(t,o)};Wl.fromCBOR=r=>{let e=lN.decodeToDataItem(r);return Wl.fromDataItem(e)}});var sT=b(F_=>{"use strict";d();h();Object.defineProperty(F_,"__esModule",{value:!0});F_.UnknownURTypeError=void 0;var aT=class extends Error{constructor(e){super(e)}};F_.UnknownURTypeError=aT});var fT=b(U_=>{"use strict";d();h();Object.defineProperty(U_,"__esModule",{value:!0});U_.URRegistryDecoder=void 0;var Pte=Gr(),kc=q_(),jc=nn(),Bte=sT(),uT=class extends Pte.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case jc.RegistryTypes.BYTES.getType():return kc.Bytes.fromCBOR(e.cbor);case jc.RegistryTypes.CRYPTO_HDKEY.getType():return kc.CryptoHDKey.fromCBOR(e.cbor);case jc.RegistryTypes.CRYPTO_KEYPATH.getType():return kc.CryptoKeypath.fromCBOR(e.cbor);case jc.RegistryTypes.CRYPTO_COIN_INFO.getType():return kc.CryptoCoinInfo.fromCBOR(e.cbor);case jc.RegistryTypes.CRYPTO_ECKEY.getType():return kc.CryptoECKey.fromCBOR(e.cbor);case jc.RegistryTypes.CRYPTO_OUTPUT.getType():return kc.CryptoOutput.fromCBOR(e.cbor);case jc.RegistryTypes.CRYPTO_PSBT.getType():return kc.CryptoPSBT.fromCBOR(e.cbor);case jc.RegistryTypes.CRYPTO_ACCOUNT.getType():return kc.CryptoAccount.fromCBOR(e.cbor);default:throw new Bte.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};U_.URRegistryDecoder=uT});var cT=b(L_=>{"use strict";d();h();Object.defineProperty(L_,"__esModule",{value:!0});L_.CryptoMultiAccounts=void 0;var Nte=nn(),Mte=I1(),qte=Li(),dN=rn(),Hc;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.keys=2]="keys",r[r.device=3]="device"})(Hc||(Hc={}));var Xl=class extends qte.RegistryItem{constructor(e,t,n){super(),this.masterFingerprint=e,this.keys=t,this.device=n,this.getRegistryType=()=>Nte.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{let i={};return this.masterFingerprint&&(i[Hc.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(i[Hc.keys]=this.keys.map(o=>{let a=o.toDataItem();return a.setTag(o.getRegistryType().getTag()),a})),this.device&&(i[Hc.device]=this.device),new dN.DataItem(i)}}};L_.CryptoMultiAccounts=Xl;Xl.fromDataItem=r=>{let e=r.getData(),t=m.Buffer.alloc(4),n=e[Hc.masterFingerprint];n&&t.writeUInt32BE(n,0);let o=e[Hc.keys].map(s=>Mte.CryptoHDKey.fromDataItem(s)),a=e[Hc.device];return new Xl(t,o,a)};Xl.fromCBOR=r=>{let e=dN.decodeToDataItem(r);return Xl.fromDataItem(e)}});var lT=b(pu=>{"use strict";d();h();Object.defineProperty(pu,"__esModule",{value:!0});pu.KeyDerivation=pu.DerivationAlgorithm=pu.Curve=void 0;var Fte=nn(),Ute=Li(),hN=rn(),Lte=oy(),hu;(function(r){r[r.keyPaths=1]="keyPaths",r[r.curve=2]="curve",r[r.algo=3]="algo",r[r.origin=4]="origin"})(hu||(hu={}));var pN;(function(r){r.secp256k1="secp256k1",r.ed25519="ed25519"})(pN=pu.Curve||(pu.Curve={}));var gN;(function(r){r.slip10="slip10",r.bip32ed25519="bip32ed25519"})(gN=pu.DerivationAlgorithm||(pu.DerivationAlgorithm={}));var Jl=class extends Ute.RegistryItem{constructor(e,t=pN.secp256k1,n=gN.slip10,i){super(),this.keypaths=e,this.curve=t,this.algo=n,this.origin=i,this.getRegistryType=()=>Fte.RegistryTypes.KEY_DERIVATION_CALL,this.getKeypaths=()=>this.keypaths,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let o={};return o[hu.keyPaths]=this.keypaths.map(a=>{let s=a.toDataItem();return s.setTag(a.getRegistryType().getTag()),s}),o[hu.curve]=this.curve,o[hu.algo]=this.algo,this.origin&&(o[hu.origin]=this.origin),new hN.DataItem(o)}}};pu.KeyDerivation=Jl;Jl.fromDataItem=r=>{let e=r.getData(),t=e[hu.keyPaths].map(a=>Lte.CryptoKeypath.fromDataItem(a)),n=e[hu.curve],i=e[hu.algo],o=e[hu.origin];return new Jl(t,n,i,o)};Jl.fromCBOR=r=>{let e=hN.decodeToDataItem(r);return Jl.fromDataItem(e)}});var mN=b(Zl=>{"use strict";d();h();Object.defineProperty(Zl,"__esModule",{value:!0});Zl.QRHardwareCall=Zl.QRHardwareCallName=void 0;var kte=nn(),jte=Li(),yN=rn(),Hte=lT(),C1;(function(r){r[r.name=1]="name",r[r.params=2]="params"})(C1||(C1={}));var dT;(function(r){r.KeyDerivation="key-derivation"})(dT=Zl.QRHardwareCallName||(Zl.QRHardwareCallName={}));var $l=class extends jte.RegistryItem{constructor(e,t){super(),this.name=e,this.params=t,this.getRegistryType=()=>kte.RegistryTypes.QR_HARDWARE_CALL,this.getName=()=>this.name,this.getParams=()=>this.params,this.toDataItem=()=>{let n={};n[C1.name]=this.name;let i=this.params.toDataItem();return i.setTag(this.params.getRegistryType().getTag()),n[C1.params]=i,new yN.DataItem(n)}}};Zl.QRHardwareCall=$l;$l.fromDataItem=r=>{let e=r.getData(),t=e[C1.name]||dT.KeyDerivation,n;switch(t){case dT.KeyDerivation:n=Hte.KeyDerivation.fromDataItem(e[C1.params])}return new $l(t,n)};$l.fromCBOR=r=>{let e=yN.decodeToDataItem(r);return $l.fromDataItem(e)}});var xN=b(vN=>{"use strict";d();h();Object.defineProperty(vN,"__esModule",{value:!0})});var q_=b(Se=>{"use strict";d();h();Object.defineProperty(Se,"__esModule",{value:!0});Se.Buffer=Se.extend=Se.PathComponent=Se.ScriptExpressions=Se.MultiKey=Se.CryptoPSBT=Se.CryptoOutput=Se.CryptoECKey=Se.CryptoCoinInfoNetwork=Se.CryptoCoinInfoType=Se.CryptoCoinInfo=Se.CryptoKeypath=Se.CryptoMultiAccounts=Se.CryptoHDKey=Se.CryptoAccount=Se.Bytes=Se.URRegistryDecoder=Se.DataItem=void 0;var vr=Fg();$8();var Kte=Xh();Object.defineProperty(Se,"Buffer",{enumerable:!0,get:function(){return Kte.Buffer}});var wN=I1();Object.defineProperty(Se,"CryptoHDKey",{enumerable:!0,get:function(){return wN.CryptoHDKey}});var EN=oy();Object.defineProperty(Se,"CryptoKeypath",{enumerable:!0,get:function(){return EN.CryptoKeypath}});var O1=I_();Object.defineProperty(Se,"CryptoCoinInfo",{enumerable:!0,get:function(){return O1.CryptoCoinInfo}});Object.defineProperty(Se,"CryptoCoinInfoType",{enumerable:!0,get:function(){return O1.Type}});Object.defineProperty(Se,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return O1.Network}});var bN=ay();Object.defineProperty(Se,"CryptoECKey",{enumerable:!0,get:function(){return bN.CryptoECKey}});var IN=aN();Object.defineProperty(Se,"Bytes",{enumerable:!0,get:function(){return IN.Bytes}});var TN=nT();Object.defineProperty(Se,"CryptoOutput",{enumerable:!0,get:function(){return TN.CryptoOutput}});var SN=iT();Object.defineProperty(Se,"CryptoPSBT",{enumerable:!0,get:function(){return SN.CryptoPSBT}});var CN=oT();Object.defineProperty(Se,"CryptoAccount",{enumerable:!0,get:function(){return CN.CryptoAccount}});var AN=fT();Object.defineProperty(Se,"URRegistryDecoder",{enumerable:!0,get:function(){return AN.URRegistryDecoder}});var ON=P_();Object.defineProperty(Se,"MultiKey",{enumerable:!0,get:function(){return ON.MultiKey}});var DN=E_();Object.defineProperty(Se,"ScriptExpressions",{enumerable:!0,get:function(){return DN.ScriptExpressions}});var RN=S_();Object.defineProperty(Se,"PathComponent",{enumerable:!0,get:function(){return RN.PathComponent}});var Vte=Li(),_N=nn(),A1=rn(),Gte=rn();Object.defineProperty(Se,"DataItem",{enumerable:!0,get:function(){return Gte.DataItem}});var Yte=w_(),PN=cT();Object.defineProperty(Se,"CryptoMultiAccounts",{enumerable:!0,get:function(){return PN.CryptoMultiAccounts}});var zte={URRegistryDecoder:AN.URRegistryDecoder,Bytes:IN.Bytes,CryptoAccount:CN.CryptoAccount,CryptoHDKey:wN.CryptoHDKey,CryptoMultiAccounts:PN.CryptoMultiAccounts,CryptoKeypath:EN.CryptoKeypath,CryptoCoinInfo:O1.CryptoCoinInfo,CryptoCoinInfoType:O1.Type,CryptoCoinInfoNetwork:O1.Network,CryptoECKey:bN.CryptoECKey,CryptoOutput:TN.CryptoOutput,CryptoPSBT:SN.CryptoPSBT,MultiKey:ON.MultiKey,ScriptExpressions:DN.ScriptExpressions,PathComponent:RN.PathComponent},Wte={addReader:A1.addReader,addSemanticDecode:A1.addSemanticDecode,addSemanticEncode:A1.addSemanticEncode,addWriter:A1.addWriter,patchTags:Yte.patchTags},Xte={RegistryTypes:_N.RegistryTypes,RegistryItem:Vte.RegistryItem,RegistryType:_N.RegistryType,decodeToDataItem:A1.decodeToDataItem,encodeDataItem:A1.encodeDataItem,cbor:Wte};Se.extend=Xte;vr.__exportStar(sT(),Se);vr.__exportStar(fT(),Se);vr.__exportStar(rn(),Se);vr.__exportStar(oT(),Se);vr.__exportStar(iT(),Se);vr.__exportStar(I1(),Se);vr.__exportStar(cT(),Se);vr.__exportStar(mN(),Se);vr.__exportStar(lT(),Se);vr.__exportStar(nT(),Se);vr.__exportStar(I_(),Se);vr.__exportStar(ay(),Se);vr.__exportStar(P_(),Se);vr.__exportStar(oy(),Se);vr.__exportStar($8(),Se);vr.__exportStar(S_(),Se);vr.__exportStar(Li(),Se);vr.__exportStar(nn(),Se);vr.__exportStar(xN(),Se);vr.__exportStar(w_(),Se);Se.default=zte});var BN=b(Kc=>{"use strict";d();h();Object.defineProperty(Kc,"__esModule",{value:!0});var jn=q_(),Jte=Z2(),hT={EVM_SIGN_REQUEST:new jn.RegistryType("evm-sign-request",4101),EVM_SIGNATURE:new jn.RegistryType("evm-signature",4102)},{decodeToDataItem:$te,RegistryTypes:Zte}=jn.extend,D1,on;(D1=Kc.SignDataType||(Kc.SignDataType={}))[D1.arbitrary=1]="arbitrary",D1[D1.cosmosAmino=2]="cosmosAmino",D1[D1.cosmosDirect=3]="cosmosDirect",function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.dataType=3]="dataType",r[r.customChainIdentifier=4]="customChainIdentifier",r[r.derivationPath=5]="derivationPath",r[r.address=6]="address",r[r.origin=7]="origin"}(on||(on={}));var gu=class extends jn.RegistryItem{constructor(e){super(),this.getRegistryType=()=>hT.EVM_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataype=()=>this.dataType,this.getCustomChainIdentifier=()=>this.customChainIdentifier,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};t[on.requestId]=new jn.DataItem(this.requestId,Zte.UUID.getTag()),t[on.signData]=this.signData,t[on.dataType]=this.dataType,t[on.customChainIdentifier]=this.customChainIdentifier;let n=this.derivationPath.toDataItem();return n.setTag(this.derivationPath.getRegistryType().getTag()),t[on.derivationPath]=n,this.address&&(t[on.address]=this.address),this.origin&&(t[on.origin]=this.origin),new jn.DataItem(t)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.customChainIdentifier=e.customChainIdentifier,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static parsePath(e,t){let n=e.replace(/[m|M]\//,"").split("/").map(i=>{let o=parseInt(i.replace("'","")),a=!1;return i.endsWith("'")&&(a=!0),new jn.PathComponent({index:o,hardened:a})});return new jn.CryptoKeypath(n,m.Buffer.from(t,"hex"))}static constructEvmRequest(e,t,n,i,o,a,s,u){return new gu({requestId:m.Buffer.from(Jte.parse(e)),signData:n,dataType:i||Kc.SignDataType.arbitrary,customChainIdentifier:o,derivationPath:gu.parsePath(a,t),address:s,origin:u})}};gu.fromDataItem=r=>{let e=r.getData(),t=e[on.requestId]?e[on.requestId].getData():void 0;return new gu({requestId:t,signData:e[on.signData],dataType:e[on.dataType],customChainIdentifier:e[on.customChainIdentifier],derivationPath:jn.CryptoKeypath.fromDataItem(e[on.derivationPath]),address:e[on.address],origin:e[on.origin]})},gu.fromCBOR=r=>{let e=$te(r);return gu.fromDataItem(e)};var{RegistryTypes:Qte,decodeToDataItem:ere}=jn.extend,R1;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature"})(R1||(R1={}));var Ql=class extends jn.RegistryItem{constructor(e,t){super(),this.getRegistryType=()=>hT.EVM_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{let n={};return n[R1.requestId]=new jn.DataItem(this.requestId,Qte.UUID.getTag()),n[R1.signature]=this.signature,new jn.DataItem(n)},this.signature=e,this.requestId=t}};Ql.fromDataItem=r=>{let e=r.getData(),t=e[R1.signature],n=e[R1.requestId].getData();return new Ql(t,n)},Ql.fromCBOR=r=>{let e=ere(r);return Ql.fromDataItem(e)},jn.patchTags(Object.values(hT).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(jn).forEach(function(r){r!=="default"&&Object.defineProperty(Kc,r,{enumerable:!0,get:function(){return jn[r]}})}),Kc.EvmSignRequest=gu,Kc.EvmSignature=Ql});var MN=b((h7e,NN)=>{"use strict";d();h();NN.exports=BN()});var qN=b(j_=>{"use strict";d();h();Object.defineProperty(j_,"__esModule",{value:!0});j_.KeystoneEvmSDK=void 0;var ed=Qr(),tre=so(),uy=MN(),k_=class{constructor(e){this.config=e}parseSignature(e){if(e.type!==tre.URType.EvmSignature)throw new Error("type not match");let t=uy.EvmSignature.fromCBOR(e.cbor);return{requestId:(0,ed.uuidStringify)(t.getRequestId()),signature:(0,ed.toHex)(t.getSignature())}}generateSignRequest({requestId:e,signData:t,dataType:n,customChainIdentifier:i,account:o,origin:a}){var s;let u=new uy.CryptoKeypath((0,ed.parsePath)(o.path).map(f=>new uy.PathComponent(f)),(0,ed.toBuffer)(o.xfp));return new uy.EvmSignRequest({signData:(0,ed.toBuffer)(t),dataType:n,customChainIdentifier:i,derivationPath:u,requestId:(0,ed.uuidParse)(e),address:o.address!==void 0?(0,ed.toBuffer)(o.address.substring(o.address.startsWith("0x")?2:0)):void 0,origin:a!=null?a:(s=this.config)===null||s===void 0?void 0:s.origin}).toUR()}};k_.DataType=uy.SignDataType;j_.KeystoneEvmSDK=k_});function fy(){if(!H_&&(H_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!H_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return H_(rre)}var H_,rre,pT=de(()=>{d();h();rre=new Uint8Array(16)});var FN,UN=de(()=>{d();h();FN=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function nre(r){return typeof r=="string"&&FN.test(r)}var Vc,cy=de(()=>{d();h();UN();Vc=nre});function ire(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(an[r[e+0]]+an[r[e+1]]+an[r[e+2]]+an[r[e+3]]+"-"+an[r[e+4]]+an[r[e+5]]+"-"+an[r[e+6]]+an[r[e+7]]+"-"+an[r[e+8]]+an[r[e+9]]+"-"+an[r[e+10]]+an[r[e+11]]+an[r[e+12]]+an[r[e+13]]+an[r[e+14]]+an[r[e+15]]).toLowerCase();if(!Vc(t))throw TypeError("Stringified UUID is invalid");return t}var an,K_,Gc,ly=de(()=>{d();h();cy();an=[];for(K_=0;K_<256;++K_)an.push((K_+256).toString(16).substr(1));Gc=ire});function ore(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var o=r.node||LN,a=r.clockseq!==void 0?r.clockseq:gT;if(o==null||a==null){var s=r.random||(r.rng||fy)();o==null&&(o=LN=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=gT=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:mT+1,l=u-yT+(f-mT)/1e4;if(l<0&&r.clockseq===void 0&&(a=a+1&16383),(l<0||u>yT)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");yT=u,mT=f,gT=a,u+=122192928e5;var p=((u&268435455)*1e4+f)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=p&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var v=0;v<6;++v)i[n+v]=o[v];return e||Gc(i)}var LN,gT,yT,mT,kN,jN=de(()=>{d();h();pT();ly();yT=0,mT=0;kN=ore});function are(r){if(!Vc(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var V_,vT=de(()=>{d();h();cy();V_=are});function sre(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function G_(r,e,t){function n(i,o,a,s){if(typeof i=="string"&&(i=sre(i)),typeof o=="string"&&(o=V_(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,a){s=s||0;for(var f=0;f<16;++f)a[s+f]=u[f];return a}return Gc(u)}try{n.name=r}catch{}return n.DNS=ure,n.URL=fre,n}var ure,fre,xT=de(()=>{d();h();ly();vT();ure="6ba7b810-9dad-11d1-80b4-00c04fd430c8",fre="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function cre(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return lre(dre(hre(r),r.length*8))}function lre(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var o=r[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(a)}return e}function HN(r){return(r+64>>>9<<4)+14+1}function dre(r,e){r[e>>5]|=128<<e%32,r[HN(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<r.length;a+=16){var s=t,u=n,f=i,l=o;t=Hn(t,n,i,o,r[a],7,-680876936),o=Hn(o,t,n,i,r[a+1],12,-389564586),i=Hn(i,o,t,n,r[a+2],17,606105819),n=Hn(n,i,o,t,r[a+3],22,-1044525330),t=Hn(t,n,i,o,r[a+4],7,-176418897),o=Hn(o,t,n,i,r[a+5],12,1200080426),i=Hn(i,o,t,n,r[a+6],17,-1473231341),n=Hn(n,i,o,t,r[a+7],22,-45705983),t=Hn(t,n,i,o,r[a+8],7,1770035416),o=Hn(o,t,n,i,r[a+9],12,-1958414417),i=Hn(i,o,t,n,r[a+10],17,-42063),n=Hn(n,i,o,t,r[a+11],22,-1990404162),t=Hn(t,n,i,o,r[a+12],7,1804603682),o=Hn(o,t,n,i,r[a+13],12,-40341101),i=Hn(i,o,t,n,r[a+14],17,-1502002290),n=Hn(n,i,o,t,r[a+15],22,1236535329),t=Kn(t,n,i,o,r[a+1],5,-165796510),o=Kn(o,t,n,i,r[a+6],9,-1069501632),i=Kn(i,o,t,n,r[a+11],14,643717713),n=Kn(n,i,o,t,r[a],20,-373897302),t=Kn(t,n,i,o,r[a+5],5,-701558691),o=Kn(o,t,n,i,r[a+10],9,38016083),i=Kn(i,o,t,n,r[a+15],14,-660478335),n=Kn(n,i,o,t,r[a+4],20,-405537848),t=Kn(t,n,i,o,r[a+9],5,568446438),o=Kn(o,t,n,i,r[a+14],9,-1019803690),i=Kn(i,o,t,n,r[a+3],14,-187363961),n=Kn(n,i,o,t,r[a+8],20,1163531501),t=Kn(t,n,i,o,r[a+13],5,-1444681467),o=Kn(o,t,n,i,r[a+2],9,-51403784),i=Kn(i,o,t,n,r[a+7],14,1735328473),n=Kn(n,i,o,t,r[a+12],20,-1926607734),t=Vn(t,n,i,o,r[a+5],4,-378558),o=Vn(o,t,n,i,r[a+8],11,-2022574463),i=Vn(i,o,t,n,r[a+11],16,1839030562),n=Vn(n,i,o,t,r[a+14],23,-35309556),t=Vn(t,n,i,o,r[a+1],4,-1530992060),o=Vn(o,t,n,i,r[a+4],11,1272893353),i=Vn(i,o,t,n,r[a+7],16,-155497632),n=Vn(n,i,o,t,r[a+10],23,-1094730640),t=Vn(t,n,i,o,r[a+13],4,681279174),o=Vn(o,t,n,i,r[a],11,-358537222),i=Vn(i,o,t,n,r[a+3],16,-722521979),n=Vn(n,i,o,t,r[a+6],23,76029189),t=Vn(t,n,i,o,r[a+9],4,-640364487),o=Vn(o,t,n,i,r[a+12],11,-421815835),i=Vn(i,o,t,n,r[a+15],16,530742520),n=Vn(n,i,o,t,r[a+2],23,-995338651),t=Gn(t,n,i,o,r[a],6,-198630844),o=Gn(o,t,n,i,r[a+7],10,1126891415),i=Gn(i,o,t,n,r[a+14],15,-1416354905),n=Gn(n,i,o,t,r[a+5],21,-57434055),t=Gn(t,n,i,o,r[a+12],6,1700485571),o=Gn(o,t,n,i,r[a+3],10,-1894986606),i=Gn(i,o,t,n,r[a+10],15,-1051523),n=Gn(n,i,o,t,r[a+1],21,-2054922799),t=Gn(t,n,i,o,r[a+8],6,1873313359),o=Gn(o,t,n,i,r[a+15],10,-30611744),i=Gn(i,o,t,n,r[a+6],15,-1560198380),n=Gn(n,i,o,t,r[a+13],21,1309151649),t=Gn(t,n,i,o,r[a+4],6,-145523070),o=Gn(o,t,n,i,r[a+11],10,-1120210379),i=Gn(i,o,t,n,r[a+2],15,718787259),n=Gn(n,i,o,t,r[a+9],21,-343485551),t=Yc(t,s),n=Yc(n,u),i=Yc(i,f),o=Yc(o,l)}return[t,n,i,o]}function hre(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(HN(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function Yc(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function pre(r,e){return r<<e|r>>>32-e}function Y_(r,e,t,n,i,o){return Yc(pre(Yc(Yc(e,r),Yc(n,o)),i),t)}function Hn(r,e,t,n,i,o,a){return Y_(e&t|~e&n,r,e,i,o,a)}function Kn(r,e,t,n,i,o,a){return Y_(e&n|t&~n,r,e,i,o,a)}function Vn(r,e,t,n,i,o,a){return Y_(e^t^n,r,e,i,o,a)}function Gn(r,e,t,n,i,o,a){return Y_(t^(e|~n),r,e,i,o,a)}var KN,VN=de(()=>{d();h();KN=cre});var gre,GN,YN=de(()=>{d();h();xT();VN();gre=G_("v3",48,KN),GN=gre});function yre(r,e,t){r=r||{};var n=r.random||(r.rng||fy)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return Gc(n)}var zN,WN=de(()=>{d();h();pT();ly();zN=yre});function mre(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function _T(r,e){return r<<e|r>>>32-e}function vre(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var f=new Uint32Array(16),l=0;l<16;++l)f[l]=r[u*64+l*4]<<24|r[u*64+l*4+1]<<16|r[u*64+l*4+2]<<8|r[u*64+l*4+3];s[u]=f}s[a-1][14]=(r.length-1)*8/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=(r.length-1)*8&4294967295;for(var p=0;p<a;++p){for(var g=new Uint32Array(80),v=0;v<16;++v)g[v]=s[p][v];for(var _=16;_<80;++_)g[_]=_T(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var T=t[0],O=t[1],R=t[2],D=t[3],U=t[4],K=0;K<80;++K){var A=Math.floor(K/20),c=_T(T,5)+mre(A,O,R,D)+U+e[A]+g[K]>>>0;U=D,D=R,R=_T(O,30)>>>0,O=T,T=c}t[0]=t[0]+T>>>0,t[1]=t[1]+O>>>0,t[2]=t[2]+R>>>0,t[3]=t[3]+D>>>0,t[4]=t[4]+U>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var XN,JN=de(()=>{d();h();XN=vre});var xre,$N,ZN=de(()=>{d();h();xT();JN();xre=G_("v5",80,XN),$N=xre});var QN,eM=de(()=>{d();h();QN="00000000-0000-0000-0000-000000000000"});function _re(r){if(!Vc(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var tM,rM=de(()=>{d();h();cy();tM=_re});var nM={};fc(nM,{NIL:()=>QN,parse:()=>V_,stringify:()=>Gc,v1:()=>kN,v3:()=>GN,v4:()=>zN,v5:()=>$N,validate:()=>Vc,version:()=>tM});var iM=de(()=>{d();h();jN();YN();WN();ZN();eM();rM();cy();ly();vT()});var aM=b((P9e,oM)=>{d();h();var it={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function sa(r,e){if(!r)throw new Error(e)}function Qe(r,e,t){if(sa(e instanceof Uint8Array,`Expected ${r} to be an Uint8Array`),t!==void 0)if(Array.isArray(t)){let n=t.join(", "),i=`Expected ${r} to be an Uint8Array with length [${n}]`;sa(t.includes(e.length),i)}else{let n=`Expected ${r} to be an Uint8Array with length ${t}`;sa(e.length===t,n)}}function td(r){sa(P1(r)==="Boolean","Expected compressed to be a Boolean")}function ws(r=t=>new Uint8Array(t),e){return typeof r=="function"&&(r=r(e)),Qe("output",r,e),r}function P1(r){return Object.prototype.toString.call(r).slice(8,-1)}oM.exports=r=>({contextRandomize(e){switch(sa(e===null||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),e!==null&&Qe("seed",e,32),r.contextRandomize(e)){case 1:throw new Error(it.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(e){return Qe("private key",e,32),r.privateKeyVerify(e)===0},privateKeyNegate(e){switch(Qe("private key",e,32),r.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(it.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,t){switch(Qe("private key",e,32),Qe("tweak",t,32),r.privateKeyTweakAdd(e,t)){case 0:return e;case 1:throw new Error(it.TWEAK_ADD)}},privateKeyTweakMul(e,t){switch(Qe("private key",e,32),Qe("tweak",t,32),r.privateKeyTweakMul(e,t)){case 0:return e;case 1:throw new Error(it.TWEAK_MUL)}},publicKeyVerify(e){return Qe("public key",e,[33,65]),r.publicKeyVerify(e)===0},publicKeyCreate(e,t=!0,n){switch(Qe("private key",e,32),td(t),n=ws(n,t?33:65),r.publicKeyCreate(n,e)){case 0:return n;case 1:throw new Error(it.SECKEY_INVALID);case 2:throw new Error(it.PUBKEY_SERIALIZE)}},publicKeyConvert(e,t=!0,n){switch(Qe("public key",e,[33,65]),td(t),n=ws(n,t?33:65),r.publicKeyConvert(n,e)){case 0:return n;case 1:throw new Error(it.PUBKEY_PARSE);case 2:throw new Error(it.PUBKEY_SERIALIZE)}},publicKeyNegate(e,t=!0,n){switch(Qe("public key",e,[33,65]),td(t),n=ws(n,t?33:65),r.publicKeyNegate(n,e)){case 0:return n;case 1:throw new Error(it.PUBKEY_PARSE);case 2:throw new Error(it.IMPOSSIBLE_CASE);case 3:throw new Error(it.PUBKEY_SERIALIZE)}},publicKeyCombine(e,t=!0,n){sa(Array.isArray(e),"Expected public keys to be an Array"),sa(e.length>0,"Expected public keys array will have more than zero items");for(let i of e)Qe("public key",i,[33,65]);switch(td(t),n=ws(n,t?33:65),r.publicKeyCombine(n,e)){case 0:return n;case 1:throw new Error(it.PUBKEY_PARSE);case 2:throw new Error(it.PUBKEY_COMBINE);case 3:throw new Error(it.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,t,n=!0,i){switch(Qe("public key",e,[33,65]),Qe("tweak",t,32),td(n),i=ws(i,n?33:65),r.publicKeyTweakAdd(i,e,t)){case 0:return i;case 1:throw new Error(it.PUBKEY_PARSE);case 2:throw new Error(it.TWEAK_ADD)}},publicKeyTweakMul(e,t,n=!0,i){switch(Qe("public key",e,[33,65]),Qe("tweak",t,32),td(n),i=ws(i,n?33:65),r.publicKeyTweakMul(i,e,t)){case 0:return i;case 1:throw new Error(it.PUBKEY_PARSE);case 2:throw new Error(it.TWEAK_MUL)}},signatureNormalize(e){switch(Qe("signature",e,64),r.signatureNormalize(e)){case 0:return e;case 1:throw new Error(it.SIG_PARSE)}},signatureExport(e,t){Qe("signature",e,64),t=ws(t,72);let n={output:t,outputlen:72};switch(r.signatureExport(n,e)){case 0:return t.slice(0,n.outputlen);case 1:throw new Error(it.SIG_PARSE);case 2:throw new Error(it.IMPOSSIBLE_CASE)}},signatureImport(e,t){switch(Qe("signature",e),t=ws(t,64),r.signatureImport(t,e)){case 0:return t;case 1:throw new Error(it.SIG_PARSE);case 2:throw new Error(it.IMPOSSIBLE_CASE)}},ecdsaSign(e,t,n={},i){Qe("message",e,32),Qe("private key",t,32),sa(P1(n)==="Object","Expected options to be an Object"),n.data!==void 0&&Qe("options.data",n.data),n.noncefn!==void 0&&sa(P1(n.noncefn)==="Function","Expected options.noncefn to be a Function"),i=ws(i,64);let o={signature:i,recid:null};switch(r.ecdsaSign(o,e,t,n.data,n.noncefn)){case 0:return o;case 1:throw new Error(it.SIGN);case 2:throw new Error(it.IMPOSSIBLE_CASE)}},ecdsaVerify(e,t,n){switch(Qe("signature",e,64),Qe("message",t,32),Qe("public key",n,[33,65]),r.ecdsaVerify(e,t,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(it.SIG_PARSE);case 2:throw new Error(it.PUBKEY_PARSE)}},ecdsaRecover(e,t,n,i=!0,o){switch(Qe("signature",e,64),sa(P1(t)==="Number"&&t>=0&&t<=3,"Expected recovery id to be a Number within interval [0, 3]"),Qe("message",n,32),td(i),o=ws(o,i?33:65),r.ecdsaRecover(o,e,t,n)){case 0:return o;case 1:throw new Error(it.SIG_PARSE);case 2:throw new Error(it.RECOVER);case 3:throw new Error(it.IMPOSSIBLE_CASE)}},ecdh(e,t,n={},i){switch(Qe("public key",e,[33,65]),Qe("private key",t,32),sa(P1(n)==="Object","Expected options to be an Object"),n.data!==void 0&&Qe("options.data",n.data),n.hashfn!==void 0?(sa(P1(n.hashfn)==="Function","Expected options.hashfn to be a Function"),n.xbuf!==void 0&&Qe("options.xbuf",n.xbuf,32),n.ybuf!==void 0&&Qe("options.ybuf",n.ybuf,32),Qe("output",i)):i=ws(i,32),r.ecdh(i,e,t,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(it.PUBKEY_PARSE);case 2:throw new Error(it.ECDH)}}})});var uM=b((M9e,sM)=>{d();h();var wre=BW().ec,yu=new wre("secp256k1"),Je=yu.curve,St=Je.n.constructor;function Ere(r,e){let t=new St(e);if(t.cmp(Je.p)>=0)return null;t=t.toRed(Je.red);let n=t.redSqr().redIMul(t).redIAdd(Je.b).redSqrt();return r===3!==n.isOdd()&&(n=n.redNeg()),yu.keyPair({pub:{x:t,y:n}})}function bre(r,e,t){let n=new St(e),i=new St(t);if(n.cmp(Je.p)>=0||i.cmp(Je.p)>=0||(n=n.toRed(Je.red),i=i.toRed(Je.red),(r===6||r===7)&&i.isOdd()!==(r===7)))return null;let o=n.redSqr().redIMul(n);return i.redSqr().redISub(o.redIAdd(Je.b)).isZero()?yu.keyPair({pub:{x:n,y:i}}):null}function zc(r){let e=r[0];switch(e){case 2:case 3:return r.length!==33?null:Ere(e,r.subarray(1,33));case 4:case 6:case 7:return r.length!==65?null:bre(e,r.subarray(1,33),r.subarray(33,65));default:return null}}function rd(r,e){let t=e.encode(null,r.length===33);for(let n=0;n<r.length;++n)r[n]=t[n]}sM.exports={contextRandomize(){return 0},privateKeyVerify(r){let e=new St(r);return e.cmp(Je.n)<0&&!e.isZero()?0:1},privateKeyNegate(r){let e=new St(r),t=Je.n.sub(e).umod(Je.n).toArrayLike(Uint8Array,"be",32);return r.set(t),0},privateKeyTweakAdd(r,e){let t=new St(e);if(t.cmp(Je.n)>=0||(t.iadd(new St(r)),t.cmp(Je.n)>=0&&t.isub(Je.n),t.isZero()))return 1;let n=t.toArrayLike(Uint8Array,"be",32);return r.set(n),0},privateKeyTweakMul(r,e){let t=new St(e);if(t.cmp(Je.n)>=0||t.isZero())return 1;t.imul(new St(r)),t.cmp(Je.n)>=0&&(t=t.umod(Je.n));let n=t.toArrayLike(Uint8Array,"be",32);return r.set(n),0},publicKeyVerify(r){return zc(r)===null?1:0},publicKeyCreate(r,e){let t=new St(e);if(t.cmp(Je.n)>=0||t.isZero())return 1;let n=yu.keyFromPrivate(e).getPublic();return rd(r,n),0},publicKeyConvert(r,e){let t=zc(e);if(t===null)return 1;let n=t.getPublic();return rd(r,n),0},publicKeyNegate(r,e){let t=zc(e);if(t===null)return 1;let n=t.getPublic();return n.y=n.y.redNeg(),rd(r,n),0},publicKeyCombine(r,e){let t=new Array(e.length);for(let i=0;i<e.length;++i)if(t[i]=zc(e[i]),t[i]===null)return 1;let n=t[0].getPublic();for(let i=1;i<t.length;++i)n=n.add(t[i].pub);return n.isInfinity()?2:(rd(r,n),0)},publicKeyTweakAdd(r,e,t){let n=zc(e);if(n===null)return 1;if(t=new St(t),t.cmp(Je.n)>=0)return 2;let i=n.getPublic().add(Je.g.mul(t));return i.isInfinity()?2:(rd(r,i),0)},publicKeyTweakMul(r,e,t){let n=zc(e);if(n===null)return 1;if(t=new St(t),t.cmp(Je.n)>=0||t.isZero())return 2;let i=n.getPublic().mul(t);return rd(r,i),0},signatureNormalize(r){let e=new St(r.subarray(0,32)),t=new St(r.subarray(32,64));return e.cmp(Je.n)>=0||t.cmp(Je.n)>=0?1:(t.cmp(yu.nh)===1&&r.set(Je.n.sub(t).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(r,e){let t=e.subarray(0,32),n=e.subarray(32,64);if(new St(t).cmp(Je.n)>=0||new St(n).cmp(Je.n)>=0)return 1;let{output:i}=r,o=i.subarray(4,4+33);o[0]=0,o.set(t,1);let a=33,s=0;for(;a>1&&o[s]===0&&!(o[s+1]&128);--a,++s);if(o=o.subarray(s),o[0]&128||a>1&&o[0]===0&&!(o[1]&128))return 1;let u=i.subarray(6+33,6+33+33);u[0]=0,u.set(n,1);let f=33,l=0;for(;f>1&&u[l]===0&&!(u[l+1]&128);--f,++l);return u=u.subarray(l),u[0]&128||f>1&&u[0]===0&&!(u[1]&128)?1:(r.outputlen=6+a+f,i[0]=48,i[1]=r.outputlen-2,i[2]=2,i[3]=o.length,i.set(o,4),i[4+a]=2,i[5+a]=u.length,i.set(u,6+a),0)},signatureImport(r,e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return 1;let t=e[3];if(t===0||5+t>=e.length||e[4+t]!==2)return 1;let n=e[5+t];if(n===0||6+t+n!==e.length||e[4]&128||t>1&&e[4]===0&&!(e[5]&128)||e[t+6]&128||n>1&&e[t+6]===0&&!(e[t+7]&128))return 1;let i=e.subarray(4,4+t);if(i.length===33&&i[0]===0&&(i=i.subarray(1)),i.length>32)return 1;let o=e.subarray(6+t);if(o.length===33&&o[0]===0&&(o=o.slice(1)),o.length>32)throw new Error("S length is too long");let a=new St(i);a.cmp(Je.n)>=0&&(a=new St(0));let s=new St(e.subarray(6+t));return s.cmp(Je.n)>=0&&(s=new St(0)),r.set(a.toArrayLike(Uint8Array,"be",32),0),r.set(s.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(r,e,t,n,i){if(i){let s=i;i=u=>{let f=s(e,t,null,n,u);if(!(f instanceof Uint8Array&&f.length===32))throw new Error("This is the way");return new St(f)}}let o=new St(t);if(o.cmp(Je.n)>=0||o.isZero())return 1;let a;try{a=yu.sign(e,t,{canonical:!0,k:i,pers:n})}catch{return 1}return r.signature.set(a.r.toArrayLike(Uint8Array,"be",32),0),r.signature.set(a.s.toArrayLike(Uint8Array,"be",32),32),r.recid=a.recoveryParam,0},ecdsaVerify(r,e,t){let n={r:r.subarray(0,32),s:r.subarray(32,64)},i=new St(n.r),o=new St(n.s);if(i.cmp(Je.n)>=0||o.cmp(Je.n)>=0)return 1;if(o.cmp(yu.nh)===1||i.isZero()||o.isZero())return 3;let a=zc(t);if(a===null)return 2;let s=a.getPublic();return yu.verify(e,n,s)?0:3},ecdsaRecover(r,e,t,n){let i={r:e.slice(0,32),s:e.slice(32,64)},o=new St(i.r),a=new St(i.s);if(o.cmp(Je.n)>=0||a.cmp(Je.n)>=0)return 1;if(o.isZero()||a.isZero())return 2;let s;try{s=yu.recoverPubKey(n,i,t)}catch{return 2}return rd(r,s),0},ecdh(r,e,t,n,i,o,a){let s=zc(e);if(s===null)return 1;let u=new St(t);if(u.cmp(Je.n)>=0||u.isZero())return 2;let f=s.getPublic().mul(u);if(i===void 0){let l=f.encode(null,!0),p=yu.hash().update(l).digest();for(let g=0;g<32;++g)r[g]=p[g]}else{o||(o=new Uint8Array(32));let l=f.getX().toArray("be",32);for(let _=0;_<32;++_)o[_]=l[_];a||(a=new Uint8Array(32));let p=f.getY().toArray("be",32);for(let _=0;_<32;++_)a[_]=p[_];let g=i(o,a,n);if(!(g instanceof Uint8Array&&g.length===r.length))return 2;r.set(g)}return 0}}});var wT=b((U9e,fM)=>{d();h();fM.exports=aM()(uM())});var gM=b((j9e,pM)=>{d();h();var mu=So(),Yn=F2().Buffer,W_=BR(),ET=ll(),Ire=PR(),Wc=wT(),Tre=Yn.from("Bitcoin seed","utf8"),z_=2147483648,Sre=78,cM={private:76066276,public:76067358};function ir(r){this.versions=r||cM,this.depth=0,this.index=0,this._privateKey=null,this._publicKey=null,this.chainCode=null,this._fingerprint=0,this.parentFingerprint=0}Object.defineProperty(ir.prototype,"fingerprint",{get:function(){return this._fingerprint}});Object.defineProperty(ir.prototype,"identifier",{get:function(){return this._identifier}});Object.defineProperty(ir.prototype,"pubKeyHash",{get:function(){return this.identifier}});Object.defineProperty(ir.prototype,"privateKey",{get:function(){return this._privateKey},set:function(r){mu.equal(r.length,32,"Private key must be 32 bytes."),mu(Wc.privateKeyVerify(r)===!0,"Invalid private key"),this._privateKey=r,this._publicKey=Yn.from(Wc.publicKeyCreate(r,!0)),this._identifier=hM(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0)}});function lM(r,e){r._publicKey=Yn.from(e),r._identifier=hM(e),r._fingerprint=r._identifier.slice(0,4).readUInt32BE(0),r._privateKey=null}Object.defineProperty(ir.prototype,"publicKey",{get:function(){return this._publicKey},set:function(r){mu(r.length===33||r.length===65,"Public key must be 33 or 65 bytes."),mu(Wc.publicKeyVerify(r)===!0,"Invalid public key");let e=r.length===65?Wc.publicKeyConvert(r,!0):r;lM(this,e)}});Object.defineProperty(ir.prototype,"privateExtendedKey",{get:function(){return this._privateKey?ET.encode(dM(this,this.versions.private,Yn.concat([Yn.alloc(1,0),this.privateKey]))):null}});Object.defineProperty(ir.prototype,"publicExtendedKey",{get:function(){return ET.encode(dM(this,this.versions.public,this.publicKey))}});ir.prototype.derive=function(r){if(r==="m"||r==="M"||r==="m'"||r==="M'")return this;var e=r.split("/"),t=this;return e.forEach(function(n,i){if(i===0){mu(/^[mM]{1}/.test(n),'Path must start with "m" or "M"');return}var o=n.length>1&&n[n.length-1]==="'",a=parseInt(n,10);mu(a<z_,"Invalid index"),o&&(a+=z_),t=t.deriveChild(a)}),t};ir.prototype.deriveChild=function(r){var e=r>=z_,t=Yn.allocUnsafe(4);t.writeUInt32BE(r,0);var n;if(e){mu(this.privateKey,"Could not derive hardened child key");var i=this.privateKey,o=Yn.alloc(1,0);i=Yn.concat([o,i]),n=Yn.concat([i,t])}else n=Yn.concat([this.publicKey,t]);var a=W_.createHmac("sha512",this.chainCode).update(n).digest(),s=a.slice(0,32),u=a.slice(32),f=new ir(this.versions);if(this.privateKey)try{f.privateKey=Yn.from(Wc.privateKeyTweakAdd(Yn.from(this.privateKey),s))}catch{return this.deriveChild(r+1)}else try{f.publicKey=Yn.from(Wc.publicKeyTweakAdd(Yn.from(this.publicKey),s,!0))}catch{return this.deriveChild(r+1)}return f.chainCode=u,f.depth=this.depth+1,f.parentFingerprint=this.fingerprint,f.index=r,f};ir.prototype.sign=function(r){return Yn.from(Wc.ecdsaSign(Uint8Array.from(r),Uint8Array.from(this.privateKey)).signature)};ir.prototype.verify=function(r,e){return Wc.ecdsaVerify(Uint8Array.from(e),Uint8Array.from(r),Uint8Array.from(this.publicKey))};ir.prototype.wipePrivateData=function(){return this._privateKey&&W_.randomBytes(this._privateKey.length).copy(this._privateKey),this._privateKey=null,this};ir.prototype.toJSON=function(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}};ir.fromMasterSeed=function(r,e){var t=W_.createHmac("sha512",Tre).update(r).digest(),n=t.slice(0,32),i=t.slice(32),o=new ir(e);return o.chainCode=i,o.privateKey=n,o};ir.fromExtendedKey=function(r,e,t){e=e||cM,t=t||!1;var n=new ir(e),i=ET.decode(r),o=i.readUInt32BE(0);mu(o===e.private||o===e.public,"Version mismatch: does not match private or public"),n.depth=i.readUInt8(4),n.parentFingerprint=i.readUInt32BE(5),n.index=i.readUInt32BE(9),n.chainCode=i.slice(13,45);var a=i.slice(45);return a.readUInt8(0)===0?(mu(o===e.private,"Version mismatch: version does not match private"),n.privateKey=a.slice(1)):(mu(o===e.public,"Version mismatch: version does not match public"),t?lM(n,a):n.publicKey=a),n};ir.fromJSON=function(r){return ir.fromExtendedKey(r.xpriv)};function dM(r,e,t){var n=Yn.allocUnsafe(Sre);n.writeUInt32BE(e,0),n.writeUInt8(r.depth,4);var i=r.depth?r.parentFingerprint:0;return n.writeUInt32BE(i,5),n.writeUInt32BE(r.index,9),r.chainCode.copy(n,13),t.copy(n,45),n}function hM(r){var e=W_.createHash("sha256").update(r).digest();return new Ire().update(e).digest()}ir.HARDENED_OFFSET=z_;pM.exports=ir});var vM=b(vu=>{"use strict";d();h();Object.defineProperty(vu,"__esModule",{value:!0});var dy,_r=lu(),Cre=(iM(),cc(nM)),Are=(dy=gM())&&typeof dy=="object"&&"default"in dy?dy.default:dy,yM=kW(),X_={ETH_SIGN_REQUEST:new _r.RegistryType("eth-sign-request",401),ETH_SIGNATURE:new _r.RegistryType("eth-signature",402),ETH_NFT_ITEM:new _r.RegistryType("eth-nft-item",403)},{decodeToDataItem:Ore,RegistryTypes:Dre}=_r.extend,xr,Xc;(function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.dataType=3]="dataType",r[r.chainId=4]="chainId",r[r.derivationPath=5]="derivationPath",r[r.address=6]="address",r[r.origin=7]="origin"})(xr||(xr={})),(Xc=vu.DataType||(vu.DataType={}))[Xc.transaction=1]="transaction",Xc[Xc.typedData=2]="typedData",Xc[Xc.personalMessage=3]="personalMessage",Xc[Xc.typedTransaction=4]="typedTransaction";var mf=class extends _r.RegistryItem{constructor(e){super(),this.getRegistryType=()=>X_.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};this.requestId&&(t[xr.requestId]=new _r.DataItem(this.requestId,Dre.UUID.getTag())),this.address&&(t[xr.address]=this.address),this.chainId&&(t[xr.chainId]=this.chainId),this.origin&&(t[xr.origin]=this.origin),t[xr.signData]=this.signData,t[xr.dataType]=this.dataType;let n=this.derivationPath.toDataItem();return n.setTag(this.derivationPath.getRegistryType().getTag()),t[xr.derivationPath]=n,new _r.DataItem(t)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static constructETHRequest(e,t,n,i,o,a,s,u){let f=n.replace(/[m|M]\//,"").split("/"),l=new _r.CryptoKeypath(f.map(p=>{let g=parseInt(p.replace("'","")),v=!1;return p.endsWith("'")&&(v=!0),new _r.PathComponent({index:g,hardened:v})}),m.Buffer.from(i,"hex"));return new mf({requestId:o?m.Buffer.from(Cre.parse(o)):void 0,signData:e,dataType:t,derivationPath:l,chainId:a,address:s?m.Buffer.from(s.replace("0x",""),"hex"):void 0,origin:u||void 0})}};mf.fromDataItem=r=>{let e=r.getData(),t=e[xr.signData],n=e[xr.dataType],i=_r.CryptoKeypath.fromDataItem(e[xr.derivationPath]),o=e[xr.chainId]?e[xr.chainId]:void 0,a=e[xr.address]?e[xr.address]:void 0,s=e[xr.requestId]?e[xr.requestId].getData():void 0;return new mf({requestId:s,signData:t,dataType:n,chainId:o,derivationPath:i,address:a,origin:e[xr.origin]?e[xr.origin]:void 0})},mf.fromCBOR=r=>{let e=Ore(r);return mf.fromDataItem(e)};var{RegistryTypes:Rre,decodeToDataItem:Pre}=_r.extend,vf;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature",r[r.origin=3]="origin"})(vf||(vf={}));var nd=class extends _r.RegistryItem{constructor(e,t,n){super(),this.getRegistryType=()=>X_.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let i={};return this.requestId&&(i[vf.requestId]=new _r.DataItem(this.requestId,Rre.UUID.getTag())),this.origin&&(i[vf.origin]=this.origin),i[vf.signature]=this.signature,new _r.DataItem(i)},this.signature=e,this.requestId=t,this.origin=n}};nd.fromDataItem=r=>{let e=r.getData(),t=e[vf.signature],n=e[vf.requestId]?e[vf.requestId].getData():void 0;return new nd(t,n,e[vf.origin])},nd.fromCBOR=r=>{let e=Pre(r);return nd.fromDataItem(e)};var{decodeToDataItem:Bre}=_r.extend,ua;(function(r){r[r.chainId=1]="chainId",r[r.contractAddress=2]="contractAddress",r[r.contractName=3]="contractName",r[r.name=4]="name",r[r.mediaData=5]="mediaData"})(ua||(ua={}));var xf=class extends _r.RegistryItem{constructor(e){super(),this.getRegistryType=()=>X_.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{let t={};return t[ua.chainId]=this.chainId,t[ua.name]=this.name,t[ua.contractAddress]=this.contractAddress,t[ua.contractName]=this.contractName,t[ua.mediaData]=this.mediaData,new _r.DataItem(t)},this.chainId=e.chainId,this.name=e.name,this.contractAddress=e.contractAddress,this.contractName=e.contractName,this.mediaData=e.mediaData}static constructETHNFTItem(e,t,n,i,o){return new xf({chainId:e,contractAddress:t,contractName:n,mediaData:o,name:i})}};xf.fromDataItem=r=>{let e=r.getData();return new xf({chainId:e[ua.chainId],name:e[ua.name],contractAddress:e[ua.contractAddress],contractName:e[ua.contractName],mediaData:e[ua.mediaData]})},xf.fromCBOR=r=>{let e=Bre(r);return xf.fromDataItem(e)};var mM=(r,e)=>{let t=Are.fromExtendedKey(r).derive(e),n="0x"+yM.publicToAddress(t.publicKey,!0).toString("hex");return yM.toChecksumAddress(n)};_r.patchTags(Object.values(X_).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(_r).forEach(function(r){r!=="default"&&Object.defineProperty(vu,r,{enumerable:!0,get:function(){return _r[r]}})}),vu.ETHNFTItem=xf,vu.ETHSignature=nd,vu.EthSignRequest=mf,vu.findHDPathFromAddress=(r,e,t,n)=>{for(let i=0;i<t;i++){let o=mM(e,"M/0/"+i);if(r.toLowerCase()==o.toLowerCase())return`${n}/0/${i}`}return null},vu.generateAddressFromXpub=mM});var _M=b((z9e,xM)=>{"use strict";d();h();xM.exports=vM()});var wM=b($_=>{"use strict";d();h();Object.defineProperty($_,"__esModule",{value:!0});$_.KeystoneEthereumSDK=void 0;var hy=_M(),id=Qr(),Nre=so(),J_=class{constructor(e){this.config=e}parseSignature(e){if(e.type!==Nre.URType.EthSignature)throw new Error("type not match");let t=hy.ETHSignature.fromCBOR(e.cbor),n=t.getRequestId();return{requestId:n===void 0?void 0:(0,id.uuidStringify)(n),signature:(0,id.toHex)(t.getSignature()),origin:t.getOrigin()}}generateSignRequest({requestId:e,signData:t,dataType:n,path:i,xfp:o,chainId:a,address:s,origin:u}){var f;return new hy.EthSignRequest({requestId:(0,id.uuidParse)(e),signData:(0,id.toBuffer)(t),dataType:n,derivationPath:new hy.CryptoKeypath((0,id.parsePath)(i).map(l=>new hy.PathComponent(l)),(0,id.toBuffer)(o)),chainId:a,address:s!==void 0?(0,id.toBuffer)(s):void 0,origin:u!=null?u:(f=this.config)===null||f===void 0?void 0:f.origin}).toUR()}};J_.DataType=hy.DataType;$_.KeystoneEthereumSDK=J_});function py(){if(!Z_&&(Z_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Z_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Z_(Mre)}var Z_,Mre,bT=de(()=>{d();h();Mre=new Uint8Array(16)});var EM,bM=de(()=>{d();h();EM=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function qre(r){return typeof r=="string"&&EM.test(r)}var Jc,gy=de(()=>{d();h();bM();Jc=qre});function Fre(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(sn[r[e+0]]+sn[r[e+1]]+sn[r[e+2]]+sn[r[e+3]]+"-"+sn[r[e+4]]+sn[r[e+5]]+"-"+sn[r[e+6]]+sn[r[e+7]]+"-"+sn[r[e+8]]+sn[r[e+9]]+"-"+sn[r[e+10]]+sn[r[e+11]]+sn[r[e+12]]+sn[r[e+13]]+sn[r[e+14]]+sn[r[e+15]]).toLowerCase();if(!Jc(t))throw TypeError("Stringified UUID is invalid");return t}var sn,Q_,$c,yy=de(()=>{d();h();gy();sn=[];for(Q_=0;Q_<256;++Q_)sn.push((Q_+256).toString(16).substr(1));$c=Fre});function Ure(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var o=r.node||IM,a=r.clockseq!==void 0?r.clockseq:IT;if(o==null||a==null){var s=r.random||(r.rng||py)();o==null&&(o=IM=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=IT=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:ST+1,l=u-TT+(f-ST)/1e4;if(l<0&&r.clockseq===void 0&&(a=a+1&16383),(l<0||u>TT)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");TT=u,ST=f,IT=a,u+=122192928e5;var p=((u&268435455)*1e4+f)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=p&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var v=0;v<6;++v)i[n+v]=o[v];return e||$c(i)}var IM,IT,TT,ST,TM,SM=de(()=>{d();h();bT();yy();TT=0,ST=0;TM=Ure});function Lre(r){if(!Jc(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var e3,CT=de(()=>{d();h();gy();e3=Lre});function kre(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function t3(r,e,t){function n(i,o,a,s){if(typeof i=="string"&&(i=kre(i)),typeof o=="string"&&(o=e3(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,a){s=s||0;for(var f=0;f<16;++f)a[s+f]=u[f];return a}return $c(u)}try{n.name=r}catch{}return n.DNS=jre,n.URL=Hre,n}var jre,Hre,AT=de(()=>{d();h();yy();CT();jre="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Hre="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Kre(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return Vre(Gre(Yre(r),r.length*8))}function Vre(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var o=r[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(a)}return e}function CM(r){return(r+64>>>9<<4)+14+1}function Gre(r,e){r[e>>5]|=128<<e%32,r[CM(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<r.length;a+=16){var s=t,u=n,f=i,l=o;t=zn(t,n,i,o,r[a],7,-680876936),o=zn(o,t,n,i,r[a+1],12,-389564586),i=zn(i,o,t,n,r[a+2],17,606105819),n=zn(n,i,o,t,r[a+3],22,-1044525330),t=zn(t,n,i,o,r[a+4],7,-176418897),o=zn(o,t,n,i,r[a+5],12,1200080426),i=zn(i,o,t,n,r[a+6],17,-1473231341),n=zn(n,i,o,t,r[a+7],22,-45705983),t=zn(t,n,i,o,r[a+8],7,1770035416),o=zn(o,t,n,i,r[a+9],12,-1958414417),i=zn(i,o,t,n,r[a+10],17,-42063),n=zn(n,i,o,t,r[a+11],22,-1990404162),t=zn(t,n,i,o,r[a+12],7,1804603682),o=zn(o,t,n,i,r[a+13],12,-40341101),i=zn(i,o,t,n,r[a+14],17,-1502002290),n=zn(n,i,o,t,r[a+15],22,1236535329),t=Wn(t,n,i,o,r[a+1],5,-165796510),o=Wn(o,t,n,i,r[a+6],9,-1069501632),i=Wn(i,o,t,n,r[a+11],14,643717713),n=Wn(n,i,o,t,r[a],20,-373897302),t=Wn(t,n,i,o,r[a+5],5,-701558691),o=Wn(o,t,n,i,r[a+10],9,38016083),i=Wn(i,o,t,n,r[a+15],14,-660478335),n=Wn(n,i,o,t,r[a+4],20,-405537848),t=Wn(t,n,i,o,r[a+9],5,568446438),o=Wn(o,t,n,i,r[a+14],9,-1019803690),i=Wn(i,o,t,n,r[a+3],14,-187363961),n=Wn(n,i,o,t,r[a+8],20,1163531501),t=Wn(t,n,i,o,r[a+13],5,-1444681467),o=Wn(o,t,n,i,r[a+2],9,-51403784),i=Wn(i,o,t,n,r[a+7],14,1735328473),n=Wn(n,i,o,t,r[a+12],20,-1926607734),t=Xn(t,n,i,o,r[a+5],4,-378558),o=Xn(o,t,n,i,r[a+8],11,-2022574463),i=Xn(i,o,t,n,r[a+11],16,1839030562),n=Xn(n,i,o,t,r[a+14],23,-35309556),t=Xn(t,n,i,o,r[a+1],4,-1530992060),o=Xn(o,t,n,i,r[a+4],11,1272893353),i=Xn(i,o,t,n,r[a+7],16,-155497632),n=Xn(n,i,o,t,r[a+10],23,-1094730640),t=Xn(t,n,i,o,r[a+13],4,681279174),o=Xn(o,t,n,i,r[a],11,-358537222),i=Xn(i,o,t,n,r[a+3],16,-722521979),n=Xn(n,i,o,t,r[a+6],23,76029189),t=Xn(t,n,i,o,r[a+9],4,-640364487),o=Xn(o,t,n,i,r[a+12],11,-421815835),i=Xn(i,o,t,n,r[a+15],16,530742520),n=Xn(n,i,o,t,r[a+2],23,-995338651),t=Jn(t,n,i,o,r[a],6,-198630844),o=Jn(o,t,n,i,r[a+7],10,1126891415),i=Jn(i,o,t,n,r[a+14],15,-1416354905),n=Jn(n,i,o,t,r[a+5],21,-57434055),t=Jn(t,n,i,o,r[a+12],6,1700485571),o=Jn(o,t,n,i,r[a+3],10,-1894986606),i=Jn(i,o,t,n,r[a+10],15,-1051523),n=Jn(n,i,o,t,r[a+1],21,-2054922799),t=Jn(t,n,i,o,r[a+8],6,1873313359),o=Jn(o,t,n,i,r[a+15],10,-30611744),i=Jn(i,o,t,n,r[a+6],15,-1560198380),n=Jn(n,i,o,t,r[a+13],21,1309151649),t=Jn(t,n,i,o,r[a+4],6,-145523070),o=Jn(o,t,n,i,r[a+11],10,-1120210379),i=Jn(i,o,t,n,r[a+2],15,718787259),n=Jn(n,i,o,t,r[a+9],21,-343485551),t=Zc(t,s),n=Zc(n,u),i=Zc(i,f),o=Zc(o,l)}return[t,n,i,o]}function Yre(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(CM(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function Zc(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function zre(r,e){return r<<e|r>>>32-e}function r3(r,e,t,n,i,o){return Zc(zre(Zc(Zc(e,r),Zc(n,o)),i),t)}function zn(r,e,t,n,i,o,a){return r3(e&t|~e&n,r,e,i,o,a)}function Wn(r,e,t,n,i,o,a){return r3(e&n|t&~n,r,e,i,o,a)}function Xn(r,e,t,n,i,o,a){return r3(e^t^n,r,e,i,o,a)}function Jn(r,e,t,n,i,o,a){return r3(t^(e|~n),r,e,i,o,a)}var AM,OM=de(()=>{d();h();AM=Kre});var Wre,DM,RM=de(()=>{d();h();AT();OM();Wre=t3("v3",48,AM),DM=Wre});function Xre(r,e,t){r=r||{};var n=r.random||(r.rng||py)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return $c(n)}var PM,BM=de(()=>{d();h();bT();yy();PM=Xre});function Jre(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function OT(r,e){return r<<e|r>>>32-e}function $re(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var f=new Uint32Array(16),l=0;l<16;++l)f[l]=r[u*64+l*4]<<24|r[u*64+l*4+1]<<16|r[u*64+l*4+2]<<8|r[u*64+l*4+3];s[u]=f}s[a-1][14]=(r.length-1)*8/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=(r.length-1)*8&4294967295;for(var p=0;p<a;++p){for(var g=new Uint32Array(80),v=0;v<16;++v)g[v]=s[p][v];for(var _=16;_<80;++_)g[_]=OT(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var T=t[0],O=t[1],R=t[2],D=t[3],U=t[4],K=0;K<80;++K){var A=Math.floor(K/20),c=OT(T,5)+Jre(A,O,R,D)+U+e[A]+g[K]>>>0;U=D,D=R,R=OT(O,30)>>>0,O=T,T=c}t[0]=t[0]+T>>>0,t[1]=t[1]+O>>>0,t[2]=t[2]+R>>>0,t[3]=t[3]+D>>>0,t[4]=t[4]+U>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var NM,MM=de(()=>{d();h();NM=$re});var Zre,qM,FM=de(()=>{d();h();AT();MM();Zre=t3("v5",80,NM),qM=Zre});var UM,LM=de(()=>{d();h();UM="00000000-0000-0000-0000-000000000000"});function Qre(r){if(!Jc(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var kM,jM=de(()=>{d();h();gy();kM=Qre});var HM={};fc(HM,{NIL:()=>UM,parse:()=>e3,stringify:()=>$c,v1:()=>TM,v3:()=>DM,v4:()=>PM,v5:()=>qM,validate:()=>Jc,version:()=>kM});var KM=de(()=>{d();h();SM();RM();BM();FM();LM();jM();gy();yy();CT()});var VM=b(Qc=>{"use strict";d();h();Object.defineProperty(Qc,"__esModule",{value:!0});var wr=lu(),ene=(KM(),cc(HM)),i3={SOL_SIGN_REQUEST:new wr.RegistryType("sol-sign-request",1101),SOL_SIGNATURE:new wr.RegistryType("sol-signature",1102),SOL_NFT_ITEM:new wr.RegistryType("sol-nft-item",1104)},{decodeToDataItem:tne,RegistryTypes:rne}=wr.extend,n3,un;(n3=Qc.SignType||(Qc.SignType={}))[n3.Transaction=1]="Transaction",n3[n3.Message=2]="Message",function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.derivationPath=3]="derivationPath",r[r.address=4]="address",r[r.origin=5]="origin",r[r.signType=6]="signType"}(un||(un={}));var wf=class extends wr.RegistryItem{constructor(e){super(),this.getRegistryType=()=>i3.SOL_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.getSignType=()=>this.signType,this.toDataItem=()=>{let t={};this.requestId&&(t[un.requestId]=new wr.DataItem(this.requestId,rne.UUID.getTag())),this.address&&(t[un.address]=this.address),this.origin&&(t[un.origin]=this.origin),t[un.signData]=this.signData,t[un.signType]=this.signType;let n=this.derivationPath.toDataItem();return n.setTag(this.derivationPath.getRegistryType().getTag()),t[un.derivationPath]=n,new wr.DataItem(t)},this.requestId=e.requestId,this.signData=e.signData,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin,this.signType=e.signType}static constructSOLRequest(e,t,n,i,o,a,s){let u=t.replace(/[m|M]\//,"").split("/"),f=new wr.CryptoKeypath(u.map(l=>{let p=parseInt(l.replace("'","")),g=!1;return l.endsWith("'")&&(g=!0),new wr.PathComponent({index:p,hardened:g})}),m.Buffer.from(n,"hex"));return new wf({requestId:o?m.Buffer.from(ene.parse(o)):void 0,signData:e,derivationPath:f,address:a?m.Buffer.from(a.replace("0x",""),"hex"):void 0,origin:s||void 0,signType:i})}};wf.fromDataItem=r=>{let e=r.getData(),t=e[un.signData],n=wr.CryptoKeypath.fromDataItem(e[un.derivationPath]),i=e[un.address]?e[un.address]:void 0,o=e[un.requestId]?e[un.requestId].getData():void 0;return new wf({requestId:o,signData:t,derivationPath:n,address:i,origin:e[un.origin]?e[un.origin]:void 0,signType:e[un.signType]})},wf.fromCBOR=r=>{let e=tne(r);return wf.fromDataItem(e)};var{RegistryTypes:nne,decodeToDataItem:ine}=wr.extend,ad;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature"})(ad||(ad={}));var od=class extends wr.RegistryItem{constructor(e,t){super(),this.getRegistryType=()=>i3.SOL_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{let n={};return this.requestId&&(n[ad.requestId]=new wr.DataItem(this.requestId,nne.UUID.getTag())),n[ad.signature]=this.signature,new wr.DataItem(n)},this.signature=e,this.requestId=t}};od.fromDataItem=r=>{let e=r.getData(),t=e[ad.signature],n=e[ad.requestId]?e[ad.requestId].getData():void 0;return new od(t,n)},od.fromCBOR=r=>{let e=ine(r);return od.fromDataItem(e)};var{decodeToDataItem:one}=wr.extend,xu;(function(r){r[r.mintAddress=1]="mintAddress",r[r.collectionName=2]="collectionName",r[r.name=3]="name",r[r.mediaData=4]="mediaData"})(xu||(xu={}));var _f=class extends wr.RegistryItem{constructor(e){super(),this.getRegistryType=()=>i3.SOL_NFT_ITEM,this.getName=()=>this.name,this.getMediaData=()=>this.mediaData,this.getMintAddress=()=>this.mintAddress,this.getCollectionName=()=>this.collectionName,this.toDataItem=()=>{let t={};return t[xu.name]=this.name,t[xu.mintAddress]=this.mintAddress,t[xu.collectionName]=this.collectionName,t[xu.mediaData]=this.mediaData,new wr.DataItem(t)},this.name=e.name,this.mintAddress=e.mintAddress,this.collectionName=e.collectionName,this.mediaData=e.mediaData}static constructETHNFTItem(e,t,n,i){return new _f({mintAddress:e,collectionName:t,mediaData:i,name:n})}};_f.fromDataItem=r=>{let e=r.getData();return new _f({name:e[xu.name],mintAddress:e[xu.mintAddress],collectionName:e[xu.collectionName],mediaData:e[xu.mediaData]})},_f.fromCBOR=r=>{let e=one(r);return _f.fromDataItem(e)},wr.patchTags(Object.values(i3).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(wr).forEach(function(r){r!=="default"&&Object.defineProperty(Qc,r,{enumerable:!0,get:function(){return wr[r]}})}),Qc.SOLNFTItem=_f,Qc.SolSignRequest=wf,Qc.SolSignature=od});var YM=b((gBe,GM)=>{"use strict";d();h();GM.exports=VM()});var zM=b(a3=>{"use strict";d();h();Object.defineProperty(a3,"__esModule",{value:!0});a3.KeystoneSolanaSDK=void 0;var my=YM(),sd=Qr(),ane=so(),o3=class{parseSignature(e){if(e.type!==ane.URType.SolSignature)throw new Error("type not match");let t=my.SolSignature.fromCBOR(e.cbor),n=t.getRequestId();return{requestId:n===void 0?void 0:(0,sd.uuidStringify)(n),signature:(0,sd.toHex)(t.getSignature())}}generateSignRequest({requestId:e,signData:t,dataType:n,path:i,xfp:o,address:a,origin:s}){return new my.SolSignRequest({requestId:(0,sd.uuidParse)(e),signData:(0,sd.toBuffer)(t),signType:n,derivationPath:new my.CryptoKeypath((0,sd.parsePath)(i).map(u=>new my.PathComponent(u)),(0,sd.toBuffer)(o)),address:a!==void 0?(0,sd.toBuffer)(a):void 0,origin:s}).toUR()}};o3.DataType=my.SignType;a3.KeystoneSolanaSDK=o3});var XM=b((wBe,WM)=>{"use strict";d();h();var DT=LW();WM.exports=function(r){function e(o){var a=Uint8Array.from(o),s=r(a),u=a.length+4,f=new Uint8Array(u);return f.set(a,0),f.set(s.subarray(0,4),a.length),DT.encode(f,u)}function t(o){var a=o.slice(0,-4),s=o.slice(-4),u=r(a);if(!(s[0]^u[0]|s[1]^u[1]|s[2]^u[2]|s[3]^u[3]))return a}function n(o){var a=DT.decodeUnsafe(o);if(!!a)return t(a)}function i(o){var a=DT.decode(o),s=t(a,r);if(!s)throw new Error("Invalid checksum");return s}return{encode:e,decode:i,decodeUnsafe:n}}});var ZM=b((IBe,$M)=>{"use strict";d();h();var{sha256:JM}=jW(),sne=XM();function une(r){return JM(JM(r))}$M.exports=sne(une)});var Es=b(_u=>{"use strict";d();h();Object.defineProperty(_u,"__esModule",{value:!0});_u.assertFloat32=_u.assertUInt32=_u.assertInt32=_u.assert=void 0;function fne(r,e){if(!r)throw new Error(e)}_u.assert=fne;var cne=34028234663852886e22,lne=-34028234663852886e22,dne=4294967295,hne=2147483647,pne=-2147483648;function gne(r){if(typeof r!="number")throw new Error("invalid int 32: "+typeof r);if(!Number.isInteger(r)||r>hne||r<pne)throw new Error("invalid int 32: "+r)}_u.assertInt32=gne;function yne(r){if(typeof r!="number")throw new Error("invalid uint 32: "+typeof r);if(!Number.isInteger(r)||r>dne||r<0)throw new Error("invalid uint 32: "+r)}_u.assertUInt32=yne;function mne(r){if(typeof r!="number")throw new Error("invalid float 32: "+typeof r);if(!!Number.isFinite(r)&&(r>cne||r<lne))throw new Error("invalid float 32: "+r)}_u.assertFloat32=mne});var s3=b(wu=>{"use strict";d();h();Object.defineProperty(wu,"__esModule",{value:!0});wu.makeEnum=wu.makeEnumType=wu.setEnumType=wu.getEnumType=void 0;var vne=Es(),QM=Symbol("@bufbuild/protobuf/enum-type");function xne(r){let e=r[QM];return(0,vne.assert)(e,"missing enum type on enum object"),e}wu.getEnumType=xne;function eq(r,e,t,n){r[QM]=tq(e,t.map(i=>({no:i.no,name:i.name,localName:r[i.no]})),n)}wu.setEnumType=eq;function tq(r,e,t){let n=Object.create(null),i=Object.create(null),o=[];for(let a of e){let s=rq(a);o.push(s),n[a.name]=s,i[a.no]=s}return{typeName:r,values:o,findName(a){return n[a]},findNumber(a){return i[a]}}}wu.makeEnumType=tq;function _ne(r,e,t){let n={};for(let i of e){let o=rq(i);n[o.localName]=o.no,n[o.no]=o.localName}return eq(n,r,e,t),n}wu.makeEnum=_ne;function rq(r){return"localName"in r?r:Object.assign(Object.assign({},r),{localName:r.name})}});var Mr=b(u3=>{"use strict";d();h();Object.defineProperty(u3,"__esModule",{value:!0});u3.Message=void 0;var RT=class{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,t){let n=this.getType(),i=n.runtime.bin,o=i.makeReadOptions(t);return i.readMessage(this,o.readerFactory(e),e.byteLength,o),this}fromJson(e,t){let n=this.getType(),i=n.runtime.json,o=i.makeReadOptions(t);return i.readMessage(n,e,o,this),this}fromJsonString(e,t){let n;try{n=JSON.parse(e)}catch(i){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${i instanceof Error?i.message:String(i)}`)}return this.fromJson(n,t)}toBinary(e){let t=this.getType(),n=t.runtime.bin,i=n.makeWriteOptions(e),o=i.writerFactory();return n.writeMessage(this,o,i),o.finish()}toJson(e){let t=this.getType(),n=t.runtime.json,i=n.makeWriteOptions(e);return n.writeMessage(this,i)}toJsonString(e){var t;let n=this.toJson(e);return JSON.stringify(n,null,(t=e==null?void 0:e.prettySpaces)!==null&&t!==void 0?t:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}};u3.Message=RT});var nq=b(f3=>{"use strict";d();h();Object.defineProperty(f3,"__esModule",{value:!0});f3.makeMessageType=void 0;var wne=Mr();function Ene(r,e,t,n){var i;let o=(i=n==null?void 0:n.localName)!==null&&i!==void 0?i:e.substring(e.lastIndexOf(".")+1),a={[o]:function(s){r.util.initFields(this),r.util.initPartial(s,this)}}[o];return Object.setPrototypeOf(a.prototype,new wne.Message),Object.assign(a,{runtime:r,typeName:e,fields:r.util.newFieldList(t),fromBinary(s,u){return new a().fromBinary(s,u)},fromJson(s,u){return new a().fromJson(s,u)},fromJsonString(s,u){return new a().fromJsonString(s,u)},equals(s,u){return r.util.equals(a,s,u)}}),a}f3.makeMessageType=Ene});var BT=b(c3=>{"use strict";d();h();Object.defineProperty(c3,"__esModule",{value:!0});c3.makeProtoRuntime=void 0;var PT=s3(),bne=nq();function Ine(r,e,t,n){return{syntax:r,json:e,bin:t,util:n,makeMessageType(i,o,a){return(0,bne.makeMessageType)(this,i,o,a)},makeEnum:PT.makeEnum,makeEnumType:PT.makeEnumType,getEnumType:PT.getEnumType}}c3.makeProtoRuntime=Ine});var Oo=b(vy=>{"use strict";d();h();Object.defineProperty(vy,"__esModule",{value:!0});vy.ScalarType=void 0;var Tne;(function(r){r[r.DOUBLE=1]="DOUBLE",r[r.FLOAT=2]="FLOAT",r[r.INT64=3]="INT64",r[r.UINT64=4]="UINT64",r[r.INT32=5]="INT32",r[r.FIXED64=6]="FIXED64",r[r.FIXED32=7]="FIXED32",r[r.BOOL=8]="BOOL",r[r.STRING=9]="STRING",r[r.BYTES=12]="BYTES",r[r.UINT32=13]="UINT32",r[r.SFIXED32=15]="SFIXED32",r[r.SFIXED64=16]="SFIXED64",r[r.SINT32=17]="SINT32",r[r.SINT64=18]="SINT64"})(Tne=vy.ScalarType||(vy.ScalarType={}))});var MT=b($n=>{"use strict";d();h();Object.defineProperty($n,"__esModule",{value:!0});$n.varint32read=$n.varint32write=$n.uInt64ToString=$n.int64ToString=$n.int64FromString=$n.varint64write=$n.varint64read=void 0;function Sne(){let r=0,e=0;for(let n=0;n<28;n+=7){let i=this.buf[this.pos++];if(r|=(i&127)<<n,(i&128)==0)return this.assertBounds(),[r,e]}let t=this.buf[this.pos++];if(r|=(t&15)<<28,e=(t&112)>>4,(t&128)==0)return this.assertBounds(),[r,e];for(let n=3;n<=31;n+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<n,(i&128)==0)return this.assertBounds(),[r,e]}throw new Error("invalid varint")}$n.varint64read=Sne;function Cne(r,e,t){for(let o=0;o<28;o=o+7){let a=r>>>o,s=!(a>>>7==0&&e==0),u=(s?a|128:a)&255;if(t.push(u),!s)return}let n=r>>>28&15|(e&7)<<4,i=e>>3!=0;if(t.push((i?n|128:n)&255),!!i){for(let o=3;o<31;o=o+7){let a=e>>>o,s=a>>>7!=0,u=(s?a|128:a)&255;if(t.push(u),!s)return}t.push(e>>>31&1)}}$n.varint64write=Cne;var l3=4294967296;function Ane(r){let e=r[0]==="-";e&&(r=r.slice(1));let t=1e6,n=0,i=0;function o(a,s){let u=Number(r.slice(a,s));i*=t,n=n*t+u,n>=l3&&(i=i+(n/l3|0),n=n%l3)}return o(-24,-18),o(-18,-12),o(-12,-6),o(-6),e?aq(n,i):NT(n,i)}$n.int64FromString=Ane;function One(r,e){let t=NT(r,e),n=t.hi&2147483648;n&&(t=aq(t.lo,t.hi));let i=oq(t.lo,t.hi);return n?"-"+i:i}$n.int64ToString=One;function oq(r,e){if({lo:r,hi:e}=Dne(r,e),e<=2097151)return String(l3*e+r);let t=r&16777215,n=(r>>>24|e<<8)&16777215,i=e>>16&65535,o=t+n*6777216+i*6710656,a=n+i*8147497,s=i*2,u=1e7;return o>=u&&(a+=Math.floor(o/u),o%=u),a>=u&&(s+=Math.floor(a/u),a%=u),s.toString()+iq(a)+iq(o)}$n.uInt64ToString=oq;function Dne(r,e){return{lo:r>>>0,hi:e>>>0}}function NT(r,e){return{lo:r|0,hi:e|0}}function aq(r,e){return e=~e,r?r=~r+1:e+=1,NT(r,e)}var iq=r=>{let e=String(r);return"0000000".slice(e.length)+e};function Rne(r,e){if(r>=0){for(;r>127;)e.push(r&127|128),r=r>>>7;e.push(r)}else{for(let t=0;t<9;t++)e.push(r&127|128),r=r>>7;e.push(1)}}$n.varint32write=Rne;function Pne(){let r=this.buf[this.pos++],e=r&127;if((r&128)==0)return this.assertBounds(),e;if(r=this.buf[this.pos++],e|=(r&127)<<7,(r&128)==0)return this.assertBounds(),e;if(r=this.buf[this.pos++],e|=(r&127)<<14,(r&128)==0)return this.assertBounds(),e;if(r=this.buf[this.pos++],e|=(r&127)<<21,(r&128)==0)return this.assertBounds(),e;r=this.buf[this.pos++],e|=(r&15)<<28;for(let t=5;(r&128)!==0&&t<10;t++)r=this.buf[this.pos++];if((r&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}$n.varint32read=Pne});var Ef=b(h3=>{"use strict";d();h();Object.defineProperty(h3,"__esModule",{value:!0});h3.protoInt64=void 0;var sq=Es(),d3=MT();function Bne(){let r=new DataView(new ArrayBuffer(8));if(globalThis.BigInt!==void 0&&typeof r.getBigInt64=="function"&&typeof r.getBigUint64=="function"&&typeof r.setBigInt64=="function"&&typeof r.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||process.env.BUF_BIGINT_DISABLE!=="1")){let i=BigInt("-9223372036854775808"),o=BigInt("9223372036854775807"),a=BigInt("0"),s=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(u){let f=typeof u=="bigint"?u:BigInt(u);if(f>o||f<i)throw new Error(`int64 invalid: ${u}`);return f},uParse(u){let f=typeof u=="bigint"?u:BigInt(u);if(f>s||f<a)throw new Error(`uint64 invalid: ${u}`);return f},enc(u){return r.setBigInt64(0,this.parse(u),!0),{lo:r.getInt32(0,!0),hi:r.getInt32(4,!0)}},uEnc(u){return r.setBigInt64(0,this.uParse(u),!0),{lo:r.getInt32(0,!0),hi:r.getInt32(4,!0)}},dec(u,f){return r.setInt32(0,u,!0),r.setInt32(4,f,!0),r.getBigInt64(0,!0)},uDec(u,f){return r.setInt32(0,u,!0),r.setInt32(4,f,!0),r.getBigUint64(0,!0)}}}let t=i=>(0,sq.assert)(/^-?[0-9]+$/.test(i),`int64 invalid: ${i}`),n=i=>(0,sq.assert)(/^[0-9]+$/.test(i),`uint64 invalid: ${i}`);return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),t(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),n(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),t(i),(0,d3.int64FromString)(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),n(i),(0,d3.int64FromString)(i)},dec(i,o){return(0,d3.int64ToString)(i,o)},uDec(i,o){return(0,d3.uInt64ToString)(i,o)}}}h3.protoInt64=Bne()});var xy=b(bf=>{"use strict";d();h();Object.defineProperty(bf,"__esModule",{value:!0});bf.BinaryReader=bf.BinaryWriter=bf.WireType=void 0;var fd=MT(),B1=Es(),Eu=Ef(),ud;(function(r){r[r.Varint=0]="Varint",r[r.Bit64=1]="Bit64",r[r.LengthDelimited=2]="LengthDelimited",r[r.StartGroup=3]="StartGroup",r[r.EndGroup=4]="EndGroup",r[r.Bit32=5]="Bit32"})(ud=bf.WireType||(bf.WireType={}));var qT=class{constructor(e){this.stack=[],this.textEncoder=e!=null?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let i=0;i<this.chunks.length;i++)e+=this.chunks[i].length;let t=new Uint8Array(e),n=0;for(let i=0;i<this.chunks.length;i++)t.set(this.chunks[i],n),n+=this.chunks[i].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for((0,B1.assertUInt32)(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return(0,B1.assertInt32)(e),(0,fd.varint32write)(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){(0,B1.assertFloat32)(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){(0,B1.assertUInt32)(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){(0,B1.assertInt32)(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return(0,B1.assertInt32)(e),e=(e<<1^e>>31)>>>0,(0,fd.varint32write)(e,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),i=Eu.protoInt64.enc(e);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),i=Eu.protoInt64.uEnc(e);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(t)}int64(e){let t=Eu.protoInt64.enc(e);return(0,fd.varint64write)(t.lo,t.hi,this.buf),this}sint64(e){let t=Eu.protoInt64.enc(e),n=t.hi>>31,i=t.lo<<1^n,o=(t.hi<<1|t.lo>>>31)^n;return(0,fd.varint64write)(i,o,this.buf),this}uint64(e){let t=Eu.protoInt64.uEnc(e);return(0,fd.varint64write)(t.lo,t.hi,this.buf),this}};bf.BinaryWriter=qT;var FT=class{constructor(e,t){this.varint64=fd.varint64read,this.uint32=fd.varint32read,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=t!=null?t:new TextDecoder}tag(){let e=this.uint32(),t=e>>>3,n=e&7;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e){let t=this.pos;switch(e){case ud.Varint:for(;this.buf[this.pos++]&128;);break;case ud.Bit64:this.pos+=4;case ud.Bit32:this.pos+=4;break;case ud.LengthDelimited:let n=this.uint32();this.pos+=n;break;case ud.StartGroup:let i;for(;(i=this.tag()[1])!==ud.EndGroup;)this.skip(i);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return Eu.protoInt64.dec(...this.varint64())}uint64(){return Eu.protoInt64.uDec(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(e&1);return e=(e>>>1|(t&1)<<31)^n,t=t>>>1^n,Eu.protoInt64.dec(e,t)}bool(){let[e,t]=this.varint64();return e!==0||t!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Eu.protoInt64.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Eu.protoInt64.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}};bf.BinaryReader=FT});var _y=b(N1=>{"use strict";d();h();Object.defineProperty(N1,"__esModule",{value:!0});N1.getUnwrappedFieldType=N1.wrapField=void 0;var Nne=Mr(),If=Oo();function Mne(r,e){return e instanceof Nne.Message||!r.fieldWrapper?e:r.fieldWrapper.wrapField(e)}N1.wrapField=Mne;function qne(r){if(r.fieldKind==="message"&&!r.repeated&&r.oneof==null)return Fne[r.message.typeName]}N1.getUnwrappedFieldType=qne;var Fne={"google.protobuf.DoubleValue":If.ScalarType.DOUBLE,"google.protobuf.FloatValue":If.ScalarType.FLOAT,"google.protobuf.Int64Value":If.ScalarType.INT64,"google.protobuf.UInt64Value":If.ScalarType.UINT64,"google.protobuf.Int32Value":If.ScalarType.INT32,"google.protobuf.UInt32Value":If.ScalarType.UINT32,"google.protobuf.BoolValue":If.ScalarType.BOOL,"google.protobuf.StringValue":If.ScalarType.STRING,"google.protobuf.BytesValue":If.ScalarType.BYTES}});var wy=b(e0=>{"use strict";d();h();Object.defineProperty(e0,"__esModule",{value:!0});e0.scalarTypeInfo=e0.scalarDefaultValue=e0.scalarEquals=void 0;var gt=Oo(),Tf=xy(),Une=Ef();function Lne(r,e,t){if(e===t)return!0;if(r==gt.ScalarType.BYTES){if(!(e instanceof Uint8Array)||!(t instanceof Uint8Array)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}switch(r){case gt.ScalarType.UINT64:case gt.ScalarType.FIXED64:case gt.ScalarType.INT64:case gt.ScalarType.SFIXED64:case gt.ScalarType.SINT64:return e==t}return!1}e0.scalarEquals=Lne;function kne(r){switch(r){case gt.ScalarType.BOOL:return!1;case gt.ScalarType.UINT64:case gt.ScalarType.FIXED64:case gt.ScalarType.INT64:case gt.ScalarType.SFIXED64:case gt.ScalarType.SINT64:return Une.protoInt64.zero;case gt.ScalarType.DOUBLE:case gt.ScalarType.FLOAT:return 0;case gt.ScalarType.BYTES:return new Uint8Array(0);case gt.ScalarType.STRING:return"";default:return 0}}e0.scalarDefaultValue=kne;function jne(r,e){let t=e===void 0,n=Tf.WireType.Varint,i=e===0;switch(r){case gt.ScalarType.STRING:i=t||!e.length,n=Tf.WireType.LengthDelimited;break;case gt.ScalarType.BOOL:i=e===!1;break;case gt.ScalarType.DOUBLE:n=Tf.WireType.Bit64;break;case gt.ScalarType.FLOAT:n=Tf.WireType.Bit32;break;case gt.ScalarType.INT64:i=t||e==0;break;case gt.ScalarType.UINT64:i=t||e==0;break;case gt.ScalarType.FIXED64:i=t||e==0,n=Tf.WireType.Bit64;break;case gt.ScalarType.BYTES:i=t||!e.byteLength,n=Tf.WireType.LengthDelimited;break;case gt.ScalarType.FIXED32:n=Tf.WireType.Bit32;break;case gt.ScalarType.SFIXED32:n=Tf.WireType.Bit32;break;case gt.ScalarType.SFIXED64:i=t||e==0,n=Tf.WireType.Bit64;break;case gt.ScalarType.SINT64:i=t||e==0;break}let o=gt.ScalarType[r].toLowerCase();return[n,o,t||i]}e0.scalarTypeInfo=jne});var m3=b(fa=>{"use strict";d();h();Object.defineProperty(fa,"__esModule",{value:!0});fa.writePacked=fa.writeScalar=fa.writeMessageField=fa.writeMapEntry=fa.makeBinaryFormatCommon=void 0;var q1=xy(),Hne=Mr(),Nt=Oo(),Kne=_y(),y3=wy(),Vne=Es(),M1=Symbol("@bufbuild/protobuf/unknown-fields"),uq={readUnknownFields:!0,readerFactory:r=>new q1.BinaryReader(r)},fq={writeUnknownFields:!0,writerFactory:()=>new q1.BinaryWriter};function Gne(r){return r?Object.assign(Object.assign({},uq),r):uq}function Yne(r){return r?Object.assign(Object.assign({},fq),r):fq}function zne(){return{makeReadOptions:Gne,makeWriteOptions:Yne,listUnknownFields(r){var e;return(e=r[M1])!==null&&e!==void 0?e:[]},discardUnknownFields(r){delete r[M1]},writeUnknownFields(r,e){let n=r[M1];if(n)for(let i of n)e.tag(i.no,i.wireType).raw(i.data)},onUnknownField(r,e,t,n){let i=r;Array.isArray(i[M1])||(i[M1]=[]),i[M1].push({no:e,wireType:t,data:n})},readMessage(r,e,t,n){let i=r.getType(),o=t===void 0?e.len:e.pos+t;for(;e.pos<o;){let[a,s]=e.tag(),u=i.fields.find(a);if(!u){let g=e.skip(s);n.readUnknownFields&&this.onUnknownField(r,a,s,g);continue}let f=r,l=u.repeated,p=u.localName;switch(u.oneof&&(f=f[u.oneof.localName],f.case!=p&&delete f.value,f.case=p,p="value"),u.kind){case"scalar":case"enum":let g=u.kind=="enum"?Nt.ScalarType.INT32:u.T;if(l){let O=f[p];if(s==q1.WireType.LengthDelimited&&g!=Nt.ScalarType.STRING&&g!=Nt.ScalarType.BYTES){let R=e.uint32()+e.pos;for(;e.pos<R;)O.push(Ey(e,g))}else O.push(Ey(e,g))}else f[p]=Ey(e,g);break;case"message":let v=u.T;l?f[p].push(p3(e,new v,n)):f[p]instanceof Hne.Message?p3(e,f[p],n):(f[p]=p3(e,new v,n),v.fieldWrapper&&!u.oneof&&!u.repeated&&(f[p]=v.fieldWrapper.unwrapField(f[p])));break;case"map":let[_,T]=Wne(u,e,n);f[p][_]=T;break}}}}}fa.makeBinaryFormatCommon=zne;function p3(r,e,t){return e.getType().runtime.bin.readMessage(e,r,r.uint32(),t),e}function Wne(r,e,t){let n=e.uint32(),i=e.pos+n,o,a;for(;e.pos<i;){let[s]=e.tag();switch(s){case 1:o=Ey(e,r.K);break;case 2:switch(r.V.kind){case"scalar":a=Ey(e,r.V.T);break;case"enum":a=e.int32();break;case"message":a=p3(e,new r.V.T,t);break}break}}if(o===void 0){let s=(0,y3.scalarDefaultValue)(r.K);o=r.K==Nt.ScalarType.BOOL?s.toString():s}if(typeof o!="string"&&typeof o!="number"&&(o=o.toString()),a===void 0)switch(r.V.kind){case"scalar":a=(0,y3.scalarDefaultValue)(r.V.T);break;case"enum":a=0;break;case"message":a=new r.V.T;break}return[o,a]}function Ey(r,e){switch(e){case Nt.ScalarType.STRING:return r.string();case Nt.ScalarType.BOOL:return r.bool();case Nt.ScalarType.DOUBLE:return r.double();case Nt.ScalarType.FLOAT:return r.float();case Nt.ScalarType.INT32:return r.int32();case Nt.ScalarType.INT64:return r.int64();case Nt.ScalarType.UINT64:return r.uint64();case Nt.ScalarType.FIXED64:return r.fixed64();case Nt.ScalarType.BYTES:return r.bytes();case Nt.ScalarType.FIXED32:return r.fixed32();case Nt.ScalarType.SFIXED32:return r.sfixed32();case Nt.ScalarType.SFIXED64:return r.sfixed64();case Nt.ScalarType.SINT64:return r.sint64();case Nt.ScalarType.UINT32:return r.uint32();case Nt.ScalarType.SINT32:return r.sint32()}}function Xne(r,e,t,n,i){r.tag(t.no,q1.WireType.LengthDelimited),r.fork();let o=n;switch(t.K){case Nt.ScalarType.INT32:case Nt.ScalarType.FIXED32:case Nt.ScalarType.UINT32:case Nt.ScalarType.SFIXED32:case Nt.ScalarType.SINT32:o=Number.parseInt(n);break;case Nt.ScalarType.BOOL:(0,Vne.assert)(n=="true"||n=="false"),o=n=="true";break}switch(g3(r,t.K,1,o,!0),t.V.kind){case"scalar":g3(r,t.V.T,2,i,!0);break;case"enum":g3(r,Nt.ScalarType.INT32,2,i,!0);break;case"message":cq(r,e,t.V.T,2,i);break}r.join()}fa.writeMapEntry=Xne;function cq(r,e,t,n,i){if(i!==void 0){let o=(0,Kne.wrapField)(t,i);r.tag(n,q1.WireType.LengthDelimited).bytes(o.toBinary(e))}}fa.writeMessageField=cq;function g3(r,e,t,n,i){let[o,a,s]=(0,y3.scalarTypeInfo)(e,n);(!s||i)&&r.tag(t,o)[a](n)}fa.writeScalar=g3;function Jne(r,e,t,n){if(!n.length)return;r.tag(t,q1.WireType.LengthDelimited).fork();let[,i]=(0,y3.scalarTypeInfo)(e);for(let o=0;o<n.length;o++)r[i](n[o]);r.join()}fa.writePacked=Jne});var lq=b(v3=>{"use strict";d();h();Object.defineProperty(v3,"__esModule",{value:!0});v3.makeBinaryFormatProto3=void 0;var $ne=Oo(),cd=m3();function Zne(){return Object.assign(Object.assign({},(0,cd.makeBinaryFormatCommon)()),{writeMessage(r,e,t){let n=r.getType();for(let i of n.fields.byNumber()){let o,a=i.repeated,s=i.localName;if(i.oneof){let u=r[i.oneof.localName];if(u.case!==s)continue;o=u.value}else o=r[s];switch(i.kind){case"scalar":case"enum":let u=i.kind=="enum"?$ne.ScalarType.INT32:i.T;if(a)if(i.packed)(0,cd.writePacked)(e,u,i.no,o);else for(let f of o)(0,cd.writeScalar)(e,u,i.no,f,!0);else o!==void 0&&(0,cd.writeScalar)(e,u,i.no,o,!!i.oneof||i.opt);break;case"message":if(a)for(let f of o)(0,cd.writeMessageField)(e,t,i.T,i.no,f);else(0,cd.writeMessageField)(e,t,i.T,i.no,o);break;case"map":for(let[f,l]of Object.entries(o))(0,cd.writeMapEntry)(e,t,i,f,l);break}}return t.writeUnknownFields&&this.writeUnknownFields(r,e),e}})}v3.makeBinaryFormatProto3=Zne});var UT=b(_3=>{"use strict";d();h();Object.defineProperty(_3,"__esModule",{value:!0});_3.protoBase64=void 0;var Sf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),x3=[];for(let r=0;r<Sf.length;r++)x3[Sf[r].charCodeAt(0)]=r;x3["-".charCodeAt(0)]=Sf.indexOf("+");x3["_".charCodeAt(0)]=Sf.indexOf("/");_3.protoBase64={dec(r){let e=r.length*3/4;r[r.length-2]=="="?e-=2:r[r.length-1]=="="&&(e-=1);let t=new Uint8Array(e),n=0,i=0,o,a=0;for(let s=0;s<r.length;s++){if(o=x3[r.charCodeAt(s)],o===void 0)switch(r[s]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:a=o,i=1;break;case 1:t[n++]=a<<2|(o&48)>>4,a=o,i=2;break;case 2:t[n++]=(a&15)<<4|(o&60)>>2,a=o,i=3;break;case 3:t[n++]=(a&3)<<6|o,i=0;break}}if(i==1)throw Error("invalid base64 string.");return t.subarray(0,n)},enc(r){let e="",t=0,n,i=0;for(let o=0;o<r.length;o++)switch(n=r[o],t){case 0:e+=Sf[n>>2],i=(n&3)<<4,t=1;break;case 1:e+=Sf[i|n>>4],i=(n&15)<<2,t=2;break;case 2:e+=Sf[i|n>>6],e+=Sf[n&63],t=0;break}return t&&(e+=Sf[i],e+="=",t==1&&(e+="=")),e}}});var kT=b(E3=>{"use strict";d();h();Object.defineProperty(E3,"__esModule",{value:!0});E3.makeJsonFormatCommon=void 0;var Qne=Mr(),et=Oo(),Cf=Es(),w3=Ef(),gq=UT(),dq={ignoreUnknownFields:!1},hq={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function eie(r){return r?Object.assign(Object.assign({},dq),r):dq}function tie(r){return r?Object.assign(Object.assign({},hq),r):hq}function rie(r){let e=r(nie,pq);return{makeReadOptions:eie,makeWriteOptions:tie,readMessage(t,n,i,o){if(n==null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message ${t.typeName} from JSON: ${this.debug(n)}`);o=o!=null?o:new t;let a={};for(let[s,u]of Object.entries(n)){let f=t.fields.findJsonName(s);if(!f){if(!i.ignoreUnknownFields)throw new Error(`cannot decode message ${t.typeName} from JSON: key "${s}" is unknown`);continue}let l=f.localName,p=o;if(f.oneof){if(u===null&&f.kind=="scalar")continue;let g=a[f.oneof.localName];if(g)throw new Error(`cannot decode message ${t.typeName} from JSON: multiple keys for oneof "${f.oneof.name}" present: "${g}", "${s}"`);a[f.oneof.localName]=s,p=p[f.oneof.localName]={case:l},l="value"}if(f.repeated){if(u===null)continue;if(!Array.isArray(u))throw new Error(`cannot decode field ${t.typeName}.${f.name} from JSON: ${this.debug(u)}`);let g=p[l];for(let v of u){if(v===null)throw new Error(`cannot decode field ${t.typeName}.${f.name} from JSON: ${this.debug(v)}`);let _;switch(f.kind){case"message":_=f.T.fromJson(v,i);break;case"enum":if(_=LT(f.T,v,i.ignoreUnknownFields),_===void 0)continue;break;case"scalar":try{_=by(f.T,v)}catch(T){let O=`cannot decode field ${t.typeName}.${f.name} from JSON: ${this.debug(v)}`;throw T instanceof Error&&T.message.length>0&&(O+=`: ${T.message}`),new Error(O)}break}g.push(_)}}else if(f.kind=="map"){if(u===null)continue;if(Array.isArray(u)||typeof u!="object")throw new Error(`cannot decode field ${t.typeName}.${f.name} from JSON: ${this.debug(u)}`);let g=p[l];for(let[v,_]of Object.entries(u)){if(_===null)throw new Error(`cannot decode field ${t.typeName}.${f.name} from JSON: map value null`);let T;switch(f.V.kind){case"message":T=f.V.T.fromJson(_,i);break;case"enum":if(T=LT(f.V.T,_,i.ignoreUnknownFields),T===void 0)continue;break;case"scalar":try{T=by(f.V.T,_)}catch(O){let R=`cannot decode map value for field ${t.typeName}.${f.name} from JSON: ${this.debug(u)}`;throw O instanceof Error&&O.message.length>0&&(R+=`: ${O.message}`),new Error(R)}break}try{g[by(f.K,f.K==et.ScalarType.BOOL?v=="true"?!0:v=="false"?!1:v:v).toString()]=T}catch(O){let R=`cannot decode map key for field ${t.typeName}.${f.name} from JSON: ${this.debug(u)}`;throw O instanceof Error&&O.message.length>0&&(R+=`: ${O.message}`),new Error(R)}}}else switch(f.kind){case"message":let g=f.T;if(u===null&&g.typeName!="google.protobuf.Value"){if(f.oneof)throw new Error(`cannot decode field ${t.typeName}.${f.name} from JSON: null is invalid for oneof field "${s}"`);continue}p[l]instanceof Qne.Message?p[l].fromJson(u,i):(p[l]=g.fromJson(u,i),g.fieldWrapper&&!f.oneof&&(p[l]=g.fieldWrapper.unwrapField(p[l])));break;case"enum":let v=LT(f.T,u,i.ignoreUnknownFields);v!==void 0&&(p[l]=v);break;case"scalar":try{p[l]=by(f.T,u)}catch(_){let T=`cannot decode field ${t.typeName}.${f.name} from JSON: ${this.debug(u)}`;throw _ instanceof Error&&_.message.length>0&&(T+=`: ${_.message}`),new Error(T)}break}}return o},writeMessage(t,n){let i=t.getType(),o={},a;try{for(let s of i.fields.byMember()){let u;if(s.kind=="oneof"){let f=t[s.localName];if(f.value===void 0)continue;if(a=s.findField(f.case),!a)throw"oneof case not found: "+f.case;u=e(a,f.value,n)}else a=s,u=e(a,t[a.localName],n);u!==void 0&&(o[n.useProtoFieldName?a.name:a.jsonName]=u)}}catch(s){let u=a?`cannot encode field ${i.typeName}.${a.name} to JSON`:`cannot encode message ${i.typeName} to JSON`,f=s instanceof Error?s.message:String(s);throw new Error(u+(f.length>0?`: ${f}`:""))}return o},readScalar:by,writeScalar:pq,debug:yq}}E3.makeJsonFormatCommon=rie;function yq(r){if(r===null)return"null";switch(typeof r){case"object":return Array.isArray(r)?"array":"object";case"string":return r.length>100?"string":`"${r.split('"').join('\\"')}"`;default:return r.toString()}}function by(r,e){switch(r){case et.ScalarType.DOUBLE:case et.ScalarType.FLOAT:if(e===null)return 0;if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""||typeof e=="string"&&e.trim().length!==e.length||typeof e!="string"&&typeof e!="number")break;let t=Number(e);if(Number.isNaN(t)||!Number.isFinite(t))break;return r==et.ScalarType.FLOAT&&(0,Cf.assertFloat32)(t),t;case et.ScalarType.INT32:case et.ScalarType.FIXED32:case et.ScalarType.SFIXED32:case et.ScalarType.SINT32:case et.ScalarType.UINT32:if(e===null)return 0;let n;if(typeof e=="number"?n=e:typeof e=="string"&&e.length>0&&e.trim().length===e.length&&(n=Number(e)),n===void 0)break;return r==et.ScalarType.UINT32?(0,Cf.assertUInt32)(n):(0,Cf.assertInt32)(n),n;case et.ScalarType.INT64:case et.ScalarType.SFIXED64:case et.ScalarType.SINT64:if(e===null)return w3.protoInt64.zero;if(typeof e!="number"&&typeof e!="string")break;return w3.protoInt64.parse(e);case et.ScalarType.FIXED64:case et.ScalarType.UINT64:if(e===null)return w3.protoInt64.zero;if(typeof e!="number"&&typeof e!="string")break;return w3.protoInt64.uParse(e);case et.ScalarType.BOOL:if(e===null)return!1;if(typeof e!="boolean")break;return e;case et.ScalarType.STRING:if(e===null)return"";if(typeof e!="string")break;try{encodeURIComponent(e)}catch{throw new Error("invalid UTF8")}return e;case et.ScalarType.BYTES:if(e===null||e==="")return new Uint8Array(0);if(typeof e!="string")break;return gq.protoBase64.dec(e)}throw new Error}function LT(r,e,t){if(e===null)return 0;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":let n=r.findName(e);if(n||t)return n==null?void 0:n.no;break}throw new Error(`cannot decode enum ${r.typeName} from JSON: ${yq(e)}`)}function nie(r,e,t,n){var i;if(e===void 0)return e;if(e===0&&!t)return;if(n)return e;if(r.typeName=="google.protobuf.NullValue")return null;let o=r.findNumber(e);return(i=o==null?void 0:o.name)!==null&&i!==void 0?i:e}function pq(r,e,t){if(e!==void 0)switch(r){case et.ScalarType.INT32:case et.ScalarType.SFIXED32:case et.ScalarType.SINT32:case et.ScalarType.FIXED32:case et.ScalarType.UINT32:return(0,Cf.assert)(typeof e=="number"),e!=0||t?e:void 0;case et.ScalarType.FLOAT:case et.ScalarType.DOUBLE:return(0,Cf.assert)(typeof e=="number"),Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e!==0||t?e:void 0;case et.ScalarType.STRING:return(0,Cf.assert)(typeof e=="string"),e.length>0||t?e:void 0;case et.ScalarType.BOOL:return(0,Cf.assert)(typeof e=="boolean"),e||t?e:void 0;case et.ScalarType.UINT64:case et.ScalarType.FIXED64:case et.ScalarType.INT64:case et.ScalarType.SFIXED64:case et.ScalarType.SINT64:return(0,Cf.assert)(typeof e=="bigint"||typeof e=="string"||typeof e=="number"),t||e!=0?e.toString(10):void 0;case et.ScalarType.BYTES:return(0,Cf.assert)(e instanceof Uint8Array),t||e.byteLength>0?gq.protoBase64.enc(e):void 0}}});var vq=b(b3=>{"use strict";d();h();Object.defineProperty(b3,"__esModule",{value:!0});b3.makeJsonFormatProto3=void 0;var mq=_y(),jT=Es(),iie=kT();function oie(){return(0,iie.makeJsonFormatCommon)((r,e)=>function(n,i,o){if(n.kind=="map"){let a={};switch(n.V.kind){case"scalar":for(let[u,f]of Object.entries(i)){let l=e(n.V.T,f,!0);(0,jT.assert)(l!==void 0),a[u.toString()]=l}break;case"message":for(let[u,f]of Object.entries(i))a[u.toString()]=f.toJson(o);break;case"enum":let s=n.V.T;for(let[u,f]of Object.entries(i)){(0,jT.assert)(f===void 0||typeof f=="number");let l=r(s,f,!0,o.enumAsInteger);(0,jT.assert)(l!==void 0),a[u.toString()]=l}break}return o.emitDefaultValues||Object.keys(a).length>0?a:void 0}else if(n.repeated){let a=[];switch(n.kind){case"scalar":for(let s=0;s<i.length;s++)a.push(e(n.T,i[s],!0));break;case"enum":for(let s=0;s<i.length;s++)a.push(r(n.T,i[s],!0,o.enumAsInteger));break;case"message":for(let s=0;s<i.length;s++)a.push((0,mq.wrapField)(n.T,i[s]).toJson(o));break}return o.emitDefaultValues||a.length>0?a:void 0}else switch(n.kind){case"scalar":return e(n.T,i,!!n.oneof||n.opt||o.emitDefaultValues);case"enum":return r(n.T,i,!!n.oneof||n.opt||o.emitDefaultValues,o.enumAsInteger);case"message":return i!==void 0?(0,mq.wrapField)(n.T,i).toJson(o):void 0}})}b3.makeJsonFormatProto3=oie});var HT=b(S3=>{"use strict";d();h();Object.defineProperty(S3,"__esModule",{value:!0});S3.makeUtilCommon=void 0;var aie=s3(),sie=Mr(),I3=Oo(),t0=wy();function uie(){return{setEnumType:aie.setEnumType,initPartial(r,e){if(r===void 0)return;let t=e.getType();for(let n of t.fields.byMember()){let i=n.localName,o=e,a=r;if(a[i]!==void 0)switch(n.kind){case"oneof":let s=a[i].case;if(s===void 0)continue;let u=n.findField(s),f=a[i].value;u&&u.kind=="message"&&!(f instanceof u.T)&&(f=new u.T(f)),o[i]={case:s,value:f};break;case"scalar":case"enum":o[i]=a[i];break;case"map":switch(n.V.kind){case"scalar":case"enum":Object.assign(o[i],a[i]);break;case"message":let p=n.V.T;for(let g of Object.keys(a[i])){let v=a[i][g];p.fieldWrapper||(v=new p(v)),o[i][g]=v}break}break;case"message":let l=n.T;if(n.repeated)o[i]=a[i].map(p=>p instanceof l?p:new l(p));else if(a[i]!==void 0){let p=a[i];l.fieldWrapper?o[i]=p:o[i]=p instanceof l?p:new l(p)}break}}},equals(r,e,t){return e===t?!0:!e||!t?!1:r.fields.byMember().every(n=>{let i=e[n.localName],o=t[n.localName];if(n.repeated){if(i.length!==o.length)return!1;switch(n.kind){case"message":return i.every((a,s)=>n.T.equals(a,o[s]));case"scalar":return i.every((a,s)=>(0,t0.scalarEquals)(n.T,a,o[s]));case"enum":return i.every((a,s)=>(0,t0.scalarEquals)(I3.ScalarType.INT32,a,o[s]))}throw new Error(`repeated cannot contain ${n.kind}`)}switch(n.kind){case"message":return n.T.equals(i,o);case"enum":return(0,t0.scalarEquals)(I3.ScalarType.INT32,i,o);case"scalar":return(0,t0.scalarEquals)(n.T,i,o);case"oneof":if(i.case!==o.case)return!1;let a=n.findField(i.case);if(a===void 0)return!0;switch(a.kind){case"message":return a.T.equals(i.value,o.value);case"enum":return(0,t0.scalarEquals)(I3.ScalarType.INT32,i.value,o.value);case"scalar":return(0,t0.scalarEquals)(a.T,i.value,o.value)}throw new Error(`oneof cannot contain ${a.kind}`);case"map":let s=Object.keys(i).concat(Object.keys(o));switch(n.V.kind){case"message":let u=n.V.T;return s.every(l=>u.equals(i[l],o[l]));case"enum":return s.every(l=>(0,t0.scalarEquals)(I3.ScalarType.INT32,i[l],o[l]));case"scalar":let f=n.V.T;return s.every(l=>(0,t0.scalarEquals)(f,i[l],o[l]))}break}})},clone(r){let e=r.getType(),t=new e,n=t;for(let i of e.fields.byMember()){let o=r[i.localName],a;if(i.repeated)a=o.map(s=>T3(i,s));else if(i.kind=="map"){a=n[i.localName];for(let[s,u]of Object.entries(o))a[s]=T3(i.V,u)}else if(i.kind=="oneof"){let s=i.findField(o.case);a=s?{case:o.case,value:T3(s,o.value)}:{case:void 0}}else a=T3(i,o);n[i.localName]=a}return t}}}S3.makeUtilCommon=uie;function T3(r,e){if(e===void 0)return e;if(e instanceof sie.Message)return e.clone();if(e instanceof Uint8Array){let t=new Uint8Array(e.byteLength);return t.set(e),t}return e}});var VT=b(C3=>{"use strict";d();h();Object.defineProperty(C3,"__esModule",{value:!0});C3.InternalFieldList=void 0;var KT=class{constructor(e,t){this._fields=e,this._normalizer=t}findJsonName(e){if(!this.jsonNames){let t={};for(let n of this.list())t[n.jsonName]=t[n.name]=n;this.jsonNames=t}return this.jsonNames[e]}find(e){if(!this.numbers){let t={};for(let n of this.list())t[n.no]=n;this.numbers=t}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,t)=>e.no-t.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];let e=this.members,t;for(let n of this.list())n.oneof?n.oneof!==t&&(t=n.oneof,e.push(t)):e.push(n)}return this.members}};C3.InternalFieldList=KT});var ld=b(dr=>{"use strict";d();h();Object.defineProperty(dr,"__esModule",{value:!0});dr.safeIdentifier=dr.safeObjectProperty=dr.findEnumSharedPrefix=dr.fieldJsonName=dr.localOneofName=dr.localFieldName=dr.localName=void 0;function fie(r){switch(r.kind){case"field":return GT(r.name,r.oneof!==void 0);case"oneof":return xq(r.name);case"enum":case"message":case"service":{let e=r.file.proto.package,t=e===void 0?0:e.length+1,n=r.typeName.substring(t).replace(/\./g,"_");return(0,dr.safeObjectProperty)((0,dr.safeIdentifier)(n))}case"enum_value":{let e=r.parent.sharedPrefix;if(e===void 0)return r.name;let t=r.name.substring(e.length);return(0,dr.safeObjectProperty)(t)}case"rpc":{let e=r.name;return e.length==0?e:(e=e[0].toLowerCase()+e.substring(1),(0,dr.safeObjectProperty)(e))}}}dr.localName=fie;function GT(r,e){let t=_q(r);return e?t:(0,dr.safeObjectProperty)(gie(t))}dr.localFieldName=GT;function xq(r){return GT(r,!1)}dr.localOneofName=xq;dr.fieldJsonName=_q;function cie(r,e){let t=lie(r)+"_";for(let n of e){if(!n.toLowerCase().startsWith(t))return;let i=n.substring(t.length);if(i.length==0||/^\d/.test(i))return}return t}dr.findEnumSharedPrefix=cie;function lie(r){return(r.substring(0,1)+r.substring(1).replace(/[A-Z]/g,e=>"_"+e)).toLowerCase()}function _q(r){let e=!1,t=[];for(let n=0;n<r.length;n++){let i=r.charAt(n);switch(i){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":t.push(i),e=!1;break;default:e&&(e=!1,i=i.toUpperCase()),t.push(i);break}}return t.join("")}var die=new Set(["break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","super","switch","this","throw","true","try","typeof","var","void","while","with","yield","enum","implements","interface","let","package","private","protected","public","static","Object","bigint","number","boolean","string","object","globalThis","Uint8Array","Partial"]),hie=new Set(["constructor","toString","toJSON","valueOf"]),pie=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),YT=r=>`${r}$`,gie=r=>pie.has(r)?YT(r):r,yie=r=>hie.has(r)?YT(r):r;dr.safeObjectProperty=yie;var mie=r=>die.has(r)?YT(r):r;dr.safeIdentifier=mie});var WT=b(A3=>{"use strict";d();h();Object.defineProperty(A3,"__esModule",{value:!0});A3.InternalOneofInfo=void 0;var vie=ld(),xie=Es(),zT=class{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=(0,vie.localOneofName)(e)}addField(e){(0,xie.assert)(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let t=0;t<this.fields.length;t++)this._lookup[this.fields[t].localName]=this.fields[t]}return this._lookup[e]}};A3.InternalOneofInfo=zT});var Do=b(O3=>{"use strict";d();h();Object.defineProperty(O3,"__esModule",{value:!0});O3.proto3=void 0;var _ie=BT(),wie=lq(),Eie=vq(),bie=HT(),Iie=VT(),Tie=wy(),wq=Oo(),Sie=WT(),Eq=ld();O3.proto3=(0,_ie.makeProtoRuntime)("proto3",(0,Eie.makeJsonFormatProto3)(),(0,wie.makeBinaryFormatProto3)(),Object.assign(Object.assign({},(0,bie.makeUtilCommon)()),{newFieldList(r){return new Iie.InternalFieldList(r,Cie)},initFields(r){for(let e of r.getType().fields.byMember()){if(e.opt)continue;let t=e.localName,n=r;if(e.repeated){n[t]=[];continue}switch(e.kind){case"oneof":n[t]={case:void 0};break;case"enum":n[t]=0;break;case"map":n[t]={};break;case"scalar":n[t]=(0,Tie.scalarDefaultValue)(e.T);break;case"message":break}}}}));function Cie(r){var e,t,n;let i=[],o;for(let a of typeof r=="function"?r():r){let s=a;if(s.localName=(0,Eq.localFieldName)(a.name,a.oneof!==void 0),s.jsonName=(e=a.jsonName)!==null&&e!==void 0?e:(0,Eq.fieldJsonName)(a.name),s.repeated=(t=a.repeated)!==null&&t!==void 0?t:!1,s.packed=(n=a.packed)!==null&&n!==void 0?n:a.kind=="enum"||a.kind=="scalar"&&a.T!=wq.ScalarType.BYTES&&a.T!=wq.ScalarType.STRING,a.oneof!==void 0){let u=typeof a.oneof=="string"?a.oneof:a.oneof.name;(!o||o.name!=u)&&(o=new Sie.InternalOneofInfo(u)),s.oneof=o,o.addField(s)}i.push(s)}return i}});var bq=b(D3=>{"use strict";d();h();Object.defineProperty(D3,"__esModule",{value:!0});D3.makeBinaryFormatProto2=void 0;var Aie=Oo(),dd=m3();function Oie(){return Object.assign(Object.assign({},(0,dd.makeBinaryFormatCommon)()),{writeMessage(r,e,t){let n=r.getType(),i;try{for(i of n.fields.byNumber()){let o,a=i.repeated,s=i.localName;if(i.oneof){let u=r[i.oneof.localName];if(u.case!==s)continue;o=u.value}else if(o=r[s],o===void 0&&!i.oneof&&!i.opt)throw new Error(`cannot encode field ${n.typeName}.${i.name} to binary: required field not set`);switch(i.kind){case"scalar":case"enum":let u=i.kind=="enum"?Aie.ScalarType.INT32:i.T;if(a)if(i.packed)(0,dd.writePacked)(e,u,i.no,o);else for(let f of o)(0,dd.writeScalar)(e,u,i.no,f,!0);else o!==void 0&&(0,dd.writeScalar)(e,u,i.no,o,!0);break;case"message":if(a)for(let f of o)(0,dd.writeMessageField)(e,t,i.T,i.no,f);else(0,dd.writeMessageField)(e,t,i.T,i.no,o);break;case"map":for(let[f,l]of Object.entries(o))(0,dd.writeMapEntry)(e,t,i,f,l);break}}}catch(o){let a=i?`cannot encode field ${n.typeName}.${i==null?void 0:i.name} to binary`:`cannot encode message ${n.typeName} to binary`,s=o instanceof Error?o.message:String(o);throw new Error(a+(s.length>0?`: ${s}`:""))}return t.writeUnknownFields&&this.writeUnknownFields(r,e),e}})}D3.makeBinaryFormatProto2=Oie});var Iq=b(R3=>{"use strict";d();h();Object.defineProperty(R3,"__esModule",{value:!0});R3.makeJsonFormatProto2=void 0;var Die=_y(),XT=Es(),Rie=kT();function Pie(){return(0,Rie.makeJsonFormatCommon)((r,e)=>function(n,i,o){if(n.kind=="map"){let a={};switch(n.V.kind){case"scalar":for(let[u,f]of Object.entries(i)){let l=e(n.V.T,f,!0);(0,XT.assert)(l!==void 0),a[u.toString()]=l}break;case"message":for(let[u,f]of Object.entries(i))a[u.toString()]=f.toJson(o);break;case"enum":let s=n.V.T;for(let[u,f]of Object.entries(i)){(0,XT.assert)(f===void 0||typeof f=="number");let l=r(s,f,!0,o.enumAsInteger);(0,XT.assert)(l!==void 0),a[u.toString()]=l}break}return o.emitDefaultValues||Object.keys(a).length>0?a:void 0}else if(n.repeated){let a=[];switch(n.kind){case"scalar":for(let s=0;s<i.length;s++)a.push(e(n.T,i[s],!0));break;case"enum":for(let s=0;s<i.length;s++)a.push(r(n.T,i[s],!0,o.enumAsInteger));break;case"message":for(let s=0;s<i.length;s++)a.push(i[s].toJson(o));break}return o.emitDefaultValues||a.length>0?a:void 0}else{if(i===void 0){if(!n.oneof&&!n.opt)throw"required field not set";return}switch(n.kind){case"scalar":return e(n.T,i,!0);case"enum":return r(n.T,i,!0,o.enumAsInteger);case"message":return(0,Die.wrapField)(n.T,i).toJson(o)}}})}R3.makeJsonFormatProto2=Pie});var Iy=b(P3=>{"use strict";d();h();Object.defineProperty(P3,"__esModule",{value:!0});P3.proto2=void 0;var Bie=BT(),Nie=bq(),Mie=HT(),qie=VT(),Fie=WT(),Tq=ld(),Uie=Iq();P3.proto2=(0,Bie.makeProtoRuntime)("proto2",(0,Uie.makeJsonFormatProto2)(),(0,Nie.makeBinaryFormatProto2)(),Object.assign(Object.assign({},(0,Mie.makeUtilCommon)()),{newFieldList(r){return new qie.InternalFieldList(r,Lie)},initFields(r){for(let e of r.getType().fields.byMember()){let t=e.localName,n=r;if(e.repeated){n[t]=[];continue}switch(e.kind){case"oneof":n[t]={case:void 0};break;case"map":n[t]={};break;case"scalar":case"enum":case"message":break}}}}));function Lie(r){var e,t,n;let i=[],o;for(let a of typeof r=="function"?r():r){let s=a;if(s.localName=(0,Tq.localFieldName)(a.name,a.oneof!==void 0),s.jsonName=(e=a.jsonName)!==null&&e!==void 0?e:(0,Tq.fieldJsonName)(a.name),s.repeated=(t=a.repeated)!==null&&t!==void 0?t:!1,s.packed=(n=a.packed)!==null&&n!==void 0?n:!1,a.oneof!==void 0){let u=typeof a.oneof=="string"?a.oneof:a.oneof.name;(!o||o.name!=u)&&(o=new Fie.InternalOneofInfo(u)),s.oneof=o,o.addField(s)}i.push(s)}return i}});var Cq=b(ca=>{"use strict";d();h();var kie=ca&&ca.__asyncValues||function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=r[o]&&function(a){return new Promise(function(s,u){a=r[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(f){o({value:f,done:s})},a)}},F1=ca&&ca.__await||function(r){return this instanceof F1?(this.v=r,this):new F1(r)},jie=ca&&ca.__asyncGenerator||function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(g){n[g]&&(i[g]=function(v){return new Promise(function(_,T){o.push([g,v,_,T])>1||s(g,v)})})}function s(g,v){try{u(n[g](v))}catch(_){p(o[0][3],_)}}function u(g){g.value instanceof F1?Promise.resolve(g.value.v).then(f,l):p(o[0][2],g)}function f(g){s("next",g)}function l(g){s("throw",g)}function p(g,v){g(v),o.shift(),o.length&&s(o[0][0],o[0][1])}};Object.defineProperty(ca,"__esModule",{value:!0});ca.protoDelimited=void 0;var Sq=m3(),Hie=xy();ca.protoDelimited={enc(r,e){let t=(0,Sq.makeBinaryFormatCommon)().makeWriteOptions(e);return t.writerFactory().bytes(r.toBinary(t)).finish()},dec(r,e,t){let n=(0,Sq.makeBinaryFormatCommon)().makeReadOptions(t);return r.fromBinary(n.readerFactory(e).bytes(),n)},decStream(r,e){return jie(this,arguments,function*(){var n,i,o,a;function s(g,v){let _=new Uint8Array(g.byteLength+v.byteLength);return _.set(g),_.set(v,g.length),_}let u=new Uint8Array(0);try{for(var f=!0,l=kie(e),p;p=yield F1(l.next()),n=p.done,!n;){a=p.value,f=!1;try{for(u=s(u,a);;){let v=ca.protoDelimited.peekSize(u);if(v.eof||v.offset+v.size>u.byteLength)break;yield yield F1(ca.protoDelimited.dec(r,u)),u=u.subarray(v.offset+v.size)}}finally{f=!0}}}catch(g){i={error:g}}finally{try{!f&&!n&&(o=l.return)&&(yield F1(o.call(l)))}finally{if(i)throw i.error}}if(u.byteLength>0)throw new Error("incomplete data")})},peekSize(r){let e={eof:!0,size:null,offset:null};for(let t=0;t<10;t++){if(t>r.byteLength)return e;if((r[t]&128)==0){let n=new Hie.BinaryReader(r),i;try{i=n.uint32()}catch(o){if(o instanceof RangeError)return e;throw o}return{eof:!1,size:i,offset:n.pos}}}throw new Error("invalid varint")}}});var Aq=b(B3=>{"use strict";d();h();Object.defineProperty(B3,"__esModule",{value:!0});B3.reifyWkt=void 0;var bu=Oo();function Kie(r){switch(r.typeName){case"google.protobuf.Any":{let e=r.fields.find(n=>n.number==1&&n.fieldKind=="scalar"&&n.scalar===bu.ScalarType.STRING),t=r.fields.find(n=>n.number==2&&n.fieldKind=="scalar"&&n.scalar===bu.ScalarType.BYTES);if(e&&t)return{typeName:r.typeName,typeUrl:e,value:t};break}case"google.protobuf.Timestamp":{let e=r.fields.find(n=>n.number==1&&n.fieldKind=="scalar"&&n.scalar===bu.ScalarType.INT64),t=r.fields.find(n=>n.number==2&&n.fieldKind=="scalar"&&n.scalar===bu.ScalarType.INT32);if(e&&t)return{typeName:r.typeName,seconds:e,nanos:t};break}case"google.protobuf.Duration":{let e=r.fields.find(n=>n.number==1&&n.fieldKind=="scalar"&&n.scalar===bu.ScalarType.INT64),t=r.fields.find(n=>n.number==2&&n.fieldKind=="scalar"&&n.scalar===bu.ScalarType.INT32);if(e&&t)return{typeName:r.typeName,seconds:e,nanos:t};break}case"google.protobuf.Struct":{let e=r.fields.find(t=>t.number==1&&!t.repeated);if((e==null?void 0:e.fieldKind)!=="map"||e.mapValue.kind!=="message"||e.mapValue.message.typeName!=="google.protobuf.Value")break;return{typeName:r.typeName,fields:e}}case"google.protobuf.Value":{let e=r.oneofs.find(u=>u.name==="kind"),t=r.fields.find(u=>u.number==1&&u.oneof===e);if((t==null?void 0:t.fieldKind)!=="enum"||t.enum.typeName!=="google.protobuf.NullValue")return;let n=r.fields.find(u=>u.number==2&&u.fieldKind=="scalar"&&u.scalar===bu.ScalarType.DOUBLE&&u.oneof===e),i=r.fields.find(u=>u.number==3&&u.fieldKind=="scalar"&&u.scalar===bu.ScalarType.STRING&&u.oneof===e),o=r.fields.find(u=>u.number==4&&u.fieldKind=="scalar"&&u.scalar===bu.ScalarType.BOOL&&u.oneof===e),a=r.fields.find(u=>u.number==5&&u.oneof===e);if((a==null?void 0:a.fieldKind)!=="message"||a.message.typeName!=="google.protobuf.Struct")return;let s=r.fields.find(u=>u.number==6&&u.oneof===e);if((s==null?void 0:s.fieldKind)!=="message"||s.message.typeName!=="google.protobuf.ListValue")return;if(e&&n&&i&&o)return{typeName:r.typeName,kind:e,nullValue:t,numberValue:n,stringValue:i,boolValue:o,structValue:a,listValue:s};break}case"google.protobuf.ListValue":{let e=r.fields.find(t=>t.number==1&&t.repeated);if((e==null?void 0:e.fieldKind)!="message"||e.message.typeName!=="google.protobuf.Value")break;return{typeName:r.typeName,values:e}}case"google.protobuf.FieldMask":{let e=r.fields.find(t=>t.number==1&&t.fieldKind=="scalar"&&t.scalar===bu.ScalarType.STRING&&t.repeated);if(e)return{typeName:r.typeName,paths:e};break}case"google.protobuf.DoubleValue":case"google.protobuf.FloatValue":case"google.protobuf.Int64Value":case"google.protobuf.UInt64Value":case"google.protobuf.Int32Value":case"google.protobuf.UInt32Value":case"google.protobuf.BoolValue":case"google.protobuf.StringValue":case"google.protobuf.BytesValue":{let e=r.fields.find(t=>t.number==1&&t.name=="value");if(!e||e.fieldKind!=="scalar")break;return{typeName:r.typeName,value:e}}}}B3.reifyWkt=Kie});var Oq=b(N3=>{"use strict";d();h();Object.defineProperty(N3,"__esModule",{value:!0});N3.codegenInfo=void 0;var JT=ld(),Vie=_y(),Gie=wy(),Yie=Aq(),qr="@bufbuild/protobuf";N3.codegenInfo={packageName:qr,localName:JT.localName,reifyWkt:Yie.reifyWkt,getUnwrappedFieldType:Vie.getUnwrappedFieldType,scalarDefaultValue:Gie.scalarDefaultValue,safeIdentifier:JT.safeIdentifier,safeObjectProperty:JT.safeObjectProperty,symbols:{proto2:{typeOnly:!1,privateImportPath:"./proto2.js",publicImportPath:qr},proto3:{typeOnly:!1,privateImportPath:"./proto3.js",publicImportPath:qr},Message:{typeOnly:!1,privateImportPath:"./message.js",publicImportPath:qr},PartialMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:qr},PlainMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:qr},FieldList:{typeOnly:!0,privateImportPath:"./field-list.js",publicImportPath:qr},MessageType:{typeOnly:!0,privateImportPath:"./message-type.js",publicImportPath:qr},BinaryReadOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:qr},BinaryWriteOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:qr},JsonReadOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:qr},JsonWriteOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:qr},JsonValue:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:qr},JsonObject:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:qr},protoInt64:{typeOnly:!1,privateImportPath:"./proto-int64.js",publicImportPath:qr},ScalarType:{typeOnly:!1,privateImportPath:"./field.js",publicImportPath:qr},MethodKind:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:qr},MethodIdempotency:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:qr},IMessageTypeRegistry:{typeOnly:!0,privateImportPath:"./type-registry.js",publicImportPath:qr}},wktSourceFiles:["google/protobuf/compiler/plugin.proto","google/protobuf/any.proto","google/protobuf/api.proto","google/protobuf/descriptor.proto","google/protobuf/duration.proto","google/protobuf/empty.proto","google/protobuf/field_mask.proto","google/protobuf/source_context.proto","google/protobuf/struct.proto","google/protobuf/timestamp.proto","google/protobuf/type.proto","google/protobuf/wrappers.proto"]}});var $T=b(r0=>{"use strict";d();h();Object.defineProperty(r0,"__esModule",{value:!0});r0.MethodIdempotency=r0.MethodKind=void 0;var zie;(function(r){r[r.Unary=0]="Unary",r[r.ServerStreaming=1]="ServerStreaming",r[r.ClientStreaming=2]="ClientStreaming",r[r.BiDiStreaming=3]="BiDiStreaming"})(zie=r0.MethodKind||(r0.MethodKind={}));var Wie;(function(r){r[r.NoSideEffects=1]="NoSideEffects",r[r.Idempotent=2]="Idempotent"})(Wie=r0.MethodIdempotency||(r0.MethodIdempotency={}))});var Ty=b(ve=>{"use strict";d();h();Object.defineProperty(ve,"__esModule",{value:!0});ve.GeneratedCodeInfo_Annotation_Semantic=ve.GeneratedCodeInfo_Annotation=ve.GeneratedCodeInfo=ve.SourceCodeInfo_Location=ve.SourceCodeInfo=ve.UninterpretedOption_NamePart=ve.UninterpretedOption=ve.MethodOptions_IdempotencyLevel=ve.MethodOptions=ve.ServiceOptions=ve.EnumValueOptions=ve.EnumOptions=ve.OneofOptions=ve.FieldOptions_OptionTargetType=ve.FieldOptions_OptionRetention=ve.FieldOptions_JSType=ve.FieldOptions_CType=ve.FieldOptions=ve.MessageOptions=ve.FileOptions_OptimizeMode=ve.FileOptions=ve.MethodDescriptorProto=ve.ServiceDescriptorProto=ve.EnumValueDescriptorProto=ve.EnumDescriptorProto_EnumReservedRange=ve.EnumDescriptorProto=ve.OneofDescriptorProto=ve.FieldDescriptorProto_Label=ve.FieldDescriptorProto_Type=ve.FieldDescriptorProto=ve.ExtensionRangeOptions_Declaration=ve.ExtensionRangeOptions_VerificationState=ve.ExtensionRangeOptions=ve.DescriptorProto_ReservedRange=ve.DescriptorProto_ExtensionRange=ve.DescriptorProto=ve.FileDescriptorProto=ve.FileDescriptorSet=void 0;var vt=Mr(),ue=Iy(),bs=class extends vt.Message{constructor(e){super(),this.file=[],ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new bs().fromBinary(e,t)}static fromJson(e,t){return new bs().fromJson(e,t)}static fromJsonString(e,t){return new bs().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(bs,e,t)}};bs.runtime=ue.proto2;bs.typeName="google.protobuf.FileDescriptorSet";bs.fields=ue.proto2.util.newFieldList(()=>[{no:1,name:"file",kind:"message",T:la,repeated:!0}]);ve.FileDescriptorSet=bs;var la=class extends vt.Message{constructor(e){super(),this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new la().fromBinary(e,t)}static fromJson(e,t){return new la().fromJson(e,t)}static fromJsonString(e,t){return new la().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(la,e,t)}};la.runtime=ue.proto2;la.typeName="google.protobuf.FileDescriptorProto";la.fields=ue.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"package",kind:"scalar",T:9,opt:!0},{no:3,name:"dependency",kind:"scalar",T:9,repeated:!0},{no:10,name:"public_dependency",kind:"scalar",T:5,repeated:!0},{no:11,name:"weak_dependency",kind:"scalar",T:5,repeated:!0},{no:4,name:"message_type",kind:"message",T:Ro,repeated:!0},{no:5,name:"enum_type",kind:"message",T:Po,repeated:!0},{no:6,name:"service",kind:"message",T:xa,repeated:!0},{no:7,name:"extension",kind:"message",T:co,repeated:!0},{no:8,name:"options",kind:"message",T:wa,opt:!0},{no:9,name:"source_code_info",kind:"message",T:Da,opt:!0},{no:12,name:"syntax",kind:"scalar",T:9,opt:!0},{no:13,name:"edition",kind:"scalar",T:9,opt:!0}]);ve.FileDescriptorProto=la;var Ro=class extends vt.Message{constructor(e){super(),this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Ro().fromBinary(e,t)}static fromJson(e,t){return new Ro().fromJson(e,t)}static fromJsonString(e,t){return new Ro().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(Ro,e,t)}};Ro.runtime=ue.proto2;Ro.typeName="google.protobuf.DescriptorProto";Ro.fields=ue.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"field",kind:"message",T:co,repeated:!0},{no:6,name:"extension",kind:"message",T:co,repeated:!0},{no:3,name:"nested_type",kind:"message",T:Ro,repeated:!0},{no:4,name:"enum_type",kind:"message",T:Po,repeated:!0},{no:5,name:"extension_range",kind:"message",T:da,repeated:!0},{no:8,name:"oneof_decl",kind:"message",T:ya,repeated:!0},{no:7,name:"options",kind:"message",T:Ea,opt:!0},{no:9,name:"reserved_range",kind:"message",T:ha,repeated:!0},{no:10,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);ve.DescriptorProto=Ro;var da=class extends vt.Message{constructor(e){super(),ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new da().fromBinary(e,t)}static fromJson(e,t){return new da().fromJson(e,t)}static fromJsonString(e,t){return new da().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(da,e,t)}};da.runtime=ue.proto2;da.typeName="google.protobuf.DescriptorProto.ExtensionRange";da.fields=ue.proto2.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:pa,opt:!0}]);ve.DescriptorProto_ExtensionRange=da;var ha=class extends vt.Message{constructor(e){super(),ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new ha().fromBinary(e,t)}static fromJson(e,t){return new ha().fromJson(e,t)}static fromJsonString(e,t){return new ha().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(ha,e,t)}};ha.runtime=ue.proto2;ha.typeName="google.protobuf.DescriptorProto.ReservedRange";ha.fields=ue.proto2.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);ve.DescriptorProto_ReservedRange=ha;var pa=class extends vt.Message{constructor(e){super(),this.uninterpretedOption=[],this.declaration=[],ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new pa().fromBinary(e,t)}static fromJson(e,t){return new pa().fromJson(e,t)}static fromJsonString(e,t){return new pa().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(pa,e,t)}};pa.runtime=ue.proto2;pa.typeName="google.protobuf.ExtensionRangeOptions";pa.fields=ue.proto2.util.newFieldList(()=>[{no:999,name:"uninterpreted_option",kind:"message",T:Er,repeated:!0},{no:2,name:"declaration",kind:"message",T:ga,repeated:!0},{no:3,name:"verification",kind:"enum",T:ue.proto2.getEnumType(M3),opt:!0,default:M3.UNVERIFIED}]);ve.ExtensionRangeOptions=pa;var M3;(function(r){r[r.DECLARATION=0]="DECLARATION",r[r.UNVERIFIED=1]="UNVERIFIED"})(M3=ve.ExtensionRangeOptions_VerificationState||(ve.ExtensionRangeOptions_VerificationState={}));ue.proto2.util.setEnumType(M3,"google.protobuf.ExtensionRangeOptions.VerificationState",[{no:0,name:"DECLARATION"},{no:1,name:"UNVERIFIED"}]);var ga=class extends vt.Message{constructor(e){super(),ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new ga().fromBinary(e,t)}static fromJson(e,t){return new ga().fromJson(e,t)}static fromJsonString(e,t){return new ga().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(ga,e,t)}};ga.runtime=ue.proto2;ga.typeName="google.protobuf.ExtensionRangeOptions.Declaration";ga.fields=ue.proto2.util.newFieldList(()=>[{no:1,name:"number",kind:"scalar",T:5,opt:!0},{no:2,name:"full_name",kind:"scalar",T:9,opt:!0},{no:3,name:"type",kind:"scalar",T:9,opt:!0},{no:4,name:"is_repeated",kind:"scalar",T:8,opt:!0},{no:5,name:"reserved",kind:"scalar",T:8,opt:!0},{no:6,name:"repeated",kind:"scalar",T:8,opt:!0}]);ve.ExtensionRangeOptions_Declaration=ga;var co=class extends vt.Message{constructor(e){super(),ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new co().fromBinary(e,t)}static fromJson(e,t){return new co().fromJson(e,t)}static fromJsonString(e,t){return new co().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(co,e,t)}};co.runtime=ue.proto2;co.typeName="google.protobuf.FieldDescriptorProto";co.fields=ue.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:3,name:"number",kind:"scalar",T:5,opt:!0},{no:4,name:"label",kind:"enum",T:ue.proto2.getEnumType(QT),opt:!0},{no:5,name:"type",kind:"enum",T:ue.proto2.getEnumType(ZT),opt:!0},{no:6,name:"type_name",kind:"scalar",T:9,opt:!0},{no:2,name:"extendee",kind:"scalar",T:9,opt:!0},{no:7,name:"default_value",kind:"scalar",T:9,opt:!0},{no:9,name:"oneof_index",kind:"scalar",T:5,opt:!0},{no:10,name:"json_name",kind:"scalar",T:9,opt:!0},{no:8,name:"options",kind:"message",T:ba,opt:!0},{no:17,name:"proto3_optional",kind:"scalar",T:8,opt:!0}]);ve.FieldDescriptorProto=co;var ZT;(function(r){r[r.DOUBLE=1]="DOUBLE",r[r.FLOAT=2]="FLOAT",r[r.INT64=3]="INT64",r[r.UINT64=4]="UINT64",r[r.INT32=5]="INT32",r[r.FIXED64=6]="FIXED64",r[r.FIXED32=7]="FIXED32",r[r.BOOL=8]="BOOL",r[r.STRING=9]="STRING",r[r.GROUP=10]="GROUP",r[r.MESSAGE=11]="MESSAGE",r[r.BYTES=12]="BYTES",r[r.UINT32=13]="UINT32",r[r.ENUM=14]="ENUM",r[r.SFIXED32=15]="SFIXED32",r[r.SFIXED64=16]="SFIXED64",r[r.SINT32=17]="SINT32",r[r.SINT64=18]="SINT64"})(ZT=ve.FieldDescriptorProto_Type||(ve.FieldDescriptorProto_Type={}));ue.proto2.util.setEnumType(ZT,"google.protobuf.FieldDescriptorProto.Type",[{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var QT;(function(r){r[r.OPTIONAL=1]="OPTIONAL",r[r.REQUIRED=2]="REQUIRED",r[r.REPEATED=3]="REPEATED"})(QT=ve.FieldDescriptorProto_Label||(ve.FieldDescriptorProto_Label={}));ue.proto2.util.setEnumType(QT,"google.protobuf.FieldDescriptorProto.Label",[{no:1,name:"LABEL_OPTIONAL"},{no:2,name:"LABEL_REQUIRED"},{no:3,name:"LABEL_REPEATED"}]);var ya=class extends vt.Message{constructor(e){super(),ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new ya().fromBinary(e,t)}static fromJson(e,t){return new ya().fromJson(e,t)}static fromJsonString(e,t){return new ya().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(ya,e,t)}};ya.runtime=ue.proto2;ya.typeName="google.protobuf.OneofDescriptorProto";ya.fields=ue.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"options",kind:"message",T:Ia,opt:!0}]);ve.OneofDescriptorProto=ya;var Po=class extends vt.Message{constructor(e){super(),this.value=[],this.reservedRange=[],this.reservedName=[],ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Po().fromBinary(e,t)}static fromJson(e,t){return new Po().fromJson(e,t)}static fromJsonString(e,t){return new Po().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(Po,e,t)}};Po.runtime=ue.proto2;Po.typeName="google.protobuf.EnumDescriptorProto";Po.fields=ue.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"value",kind:"message",T:va,repeated:!0},{no:3,name:"options",kind:"message",T:Ta,opt:!0},{no:4,name:"reserved_range",kind:"message",T:ma,repeated:!0},{no:5,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);ve.EnumDescriptorProto=Po;var ma=class extends vt.Message{constructor(e){super(),ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new ma().fromBinary(e,t)}static fromJson(e,t){return new ma().fromJson(e,t)}static fromJsonString(e,t){return new ma().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(ma,e,t)}};ma.runtime=ue.proto2;ma.typeName="google.protobuf.EnumDescriptorProto.EnumReservedRange";ma.fields=ue.proto2.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);ve.EnumDescriptorProto_EnumReservedRange=ma;var va=class extends vt.Message{constructor(e){super(),ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new va().fromBinary(e,t)}static fromJson(e,t){return new va().fromJson(e,t)}static fromJsonString(e,t){return new va().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(va,e,t)}};va.runtime=ue.proto2;va.typeName="google.protobuf.EnumValueDescriptorProto";va.fields=ue.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"number",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:Sa,opt:!0}]);ve.EnumValueDescriptorProto=va;var xa=class extends vt.Message{constructor(e){super(),this.method=[],ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new xa().fromBinary(e,t)}static fromJson(e,t){return new xa().fromJson(e,t)}static fromJsonString(e,t){return new xa().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(xa,e,t)}};xa.runtime=ue.proto2;xa.typeName="google.protobuf.ServiceDescriptorProto";xa.fields=ue.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"method",kind:"message",T:_a,repeated:!0},{no:3,name:"options",kind:"message",T:Ca,opt:!0}]);ve.ServiceDescriptorProto=xa;var _a=class extends vt.Message{constructor(e){super(),ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new _a().fromBinary(e,t)}static fromJson(e,t){return new _a().fromJson(e,t)}static fromJsonString(e,t){return new _a().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(_a,e,t)}};_a.runtime=ue.proto2;_a.typeName="google.protobuf.MethodDescriptorProto";_a.fields=ue.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"input_type",kind:"scalar",T:9,opt:!0},{no:3,name:"output_type",kind:"scalar",T:9,opt:!0},{no:4,name:"options",kind:"message",T:Aa,opt:!0},{no:5,name:"client_streaming",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"server_streaming",kind:"scalar",T:8,opt:!0,default:!1}]);ve.MethodDescriptorProto=_a;var wa=class extends vt.Message{constructor(e){super(),this.uninterpretedOption=[],ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new wa().fromBinary(e,t)}static fromJson(e,t){return new wa().fromJson(e,t)}static fromJsonString(e,t){return new wa().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(wa,e,t)}};wa.runtime=ue.proto2;wa.typeName="google.protobuf.FileOptions";wa.fields=ue.proto2.util.newFieldList(()=>[{no:1,name:"java_package",kind:"scalar",T:9,opt:!0},{no:8,name:"java_outer_classname",kind:"scalar",T:9,opt:!0},{no:10,name:"java_multiple_files",kind:"scalar",T:8,opt:!0,default:!1},{no:20,name:"java_generate_equals_and_hash",kind:"scalar",T:8,opt:!0},{no:27,name:"java_string_check_utf8",kind:"scalar",T:8,opt:!0,default:!1},{no:9,name:"optimize_for",kind:"enum",T:ue.proto2.getEnumType(q3),opt:!0,default:q3.SPEED},{no:11,name:"go_package",kind:"scalar",T:9,opt:!0},{no:16,name:"cc_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"java_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:18,name:"py_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:42,name:"php_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:23,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:31,name:"cc_enable_arenas",kind:"scalar",T:8,opt:!0,default:!0},{no:36,name:"objc_class_prefix",kind:"scalar",T:9,opt:!0},{no:37,name:"csharp_namespace",kind:"scalar",T:9,opt:!0},{no:39,name:"swift_prefix",kind:"scalar",T:9,opt:!0},{no:40,name:"php_class_prefix",kind:"scalar",T:9,opt:!0},{no:41,name:"php_namespace",kind:"scalar",T:9,opt:!0},{no:44,name:"php_metadata_namespace",kind:"scalar",T:9,opt:!0},{no:45,name:"ruby_package",kind:"scalar",T:9,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:Er,repeated:!0}]);ve.FileOptions=wa;var q3;(function(r){r[r.SPEED=1]="SPEED",r[r.CODE_SIZE=2]="CODE_SIZE",r[r.LITE_RUNTIME=3]="LITE_RUNTIME"})(q3=ve.FileOptions_OptimizeMode||(ve.FileOptions_OptimizeMode={}));ue.proto2.util.setEnumType(q3,"google.protobuf.FileOptions.OptimizeMode",[{no:1,name:"SPEED"},{no:2,name:"CODE_SIZE"},{no:3,name:"LITE_RUNTIME"}]);var Ea=class extends vt.Message{constructor(e){super(),this.uninterpretedOption=[],ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Ea().fromBinary(e,t)}static fromJson(e,t){return new Ea().fromJson(e,t)}static fromJsonString(e,t){return new Ea().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(Ea,e,t)}};Ea.runtime=ue.proto2;Ea.typeName="google.protobuf.MessageOptions";Ea.fields=ue.proto2.util.newFieldList(()=>[{no:1,name:"message_set_wire_format",kind:"scalar",T:8,opt:!0,default:!1},{no:2,name:"no_standard_descriptor_accessor",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:7,name:"map_entry",kind:"scalar",T:8,opt:!0},{no:11,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:Er,repeated:!0}]);ve.MessageOptions=Ea;var ba=class extends vt.Message{constructor(e){super(),this.targets=[],this.uninterpretedOption=[],ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new ba().fromBinary(e,t)}static fromJson(e,t){return new ba().fromJson(e,t)}static fromJsonString(e,t){return new ba().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(ba,e,t)}};ba.runtime=ue.proto2;ba.typeName="google.protobuf.FieldOptions";ba.fields=ue.proto2.util.newFieldList(()=>[{no:1,name:"ctype",kind:"enum",T:ue.proto2.getEnumType(F3),opt:!0,default:F3.STRING},{no:2,name:"packed",kind:"scalar",T:8,opt:!0},{no:6,name:"jstype",kind:"enum",T:ue.proto2.getEnumType(U3),opt:!0,default:U3.JS_NORMAL},{no:5,name:"lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:15,name:"unverified_lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:10,name:"weak",kind:"scalar",T:8,opt:!0,default:!1},{no:16,name:"debug_redact",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"retention",kind:"enum",T:ue.proto2.getEnumType(eS),opt:!0},{no:18,name:"target",kind:"enum",T:ue.proto2.getEnumType(L3),opt:!0},{no:19,name:"targets",kind:"enum",T:ue.proto2.getEnumType(L3),repeated:!0},{no:999,name:"uninterpreted_option",kind:"message",T:Er,repeated:!0}]);ve.FieldOptions=ba;var F3;(function(r){r[r.STRING=0]="STRING",r[r.CORD=1]="CORD",r[r.STRING_PIECE=2]="STRING_PIECE"})(F3=ve.FieldOptions_CType||(ve.FieldOptions_CType={}));ue.proto2.util.setEnumType(F3,"google.protobuf.FieldOptions.CType",[{no:0,name:"STRING"},{no:1,name:"CORD"},{no:2,name:"STRING_PIECE"}]);var U3;(function(r){r[r.JS_NORMAL=0]="JS_NORMAL",r[r.JS_STRING=1]="JS_STRING",r[r.JS_NUMBER=2]="JS_NUMBER"})(U3=ve.FieldOptions_JSType||(ve.FieldOptions_JSType={}));ue.proto2.util.setEnumType(U3,"google.protobuf.FieldOptions.JSType",[{no:0,name:"JS_NORMAL"},{no:1,name:"JS_STRING"},{no:2,name:"JS_NUMBER"}]);var eS;(function(r){r[r.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",r[r.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",r[r.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(eS=ve.FieldOptions_OptionRetention||(ve.FieldOptions_OptionRetention={}));ue.proto2.util.setEnumType(eS,"google.protobuf.FieldOptions.OptionRetention",[{no:0,name:"RETENTION_UNKNOWN"},{no:1,name:"RETENTION_RUNTIME"},{no:2,name:"RETENTION_SOURCE"}]);var L3;(function(r){r[r.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",r[r.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",r[r.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",r[r.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",r[r.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",r[r.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",r[r.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",r[r.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",r[r.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",r[r.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(L3=ve.FieldOptions_OptionTargetType||(ve.FieldOptions_OptionTargetType={}));ue.proto2.util.setEnumType(L3,"google.protobuf.FieldOptions.OptionTargetType",[{no:0,name:"TARGET_TYPE_UNKNOWN"},{no:1,name:"TARGET_TYPE_FILE"},{no:2,name:"TARGET_TYPE_EXTENSION_RANGE"},{no:3,name:"TARGET_TYPE_MESSAGE"},{no:4,name:"TARGET_TYPE_FIELD"},{no:5,name:"TARGET_TYPE_ONEOF"},{no:6,name:"TARGET_TYPE_ENUM"},{no:7,name:"TARGET_TYPE_ENUM_ENTRY"},{no:8,name:"TARGET_TYPE_SERVICE"},{no:9,name:"TARGET_TYPE_METHOD"}]);var Ia=class extends vt.Message{constructor(e){super(),this.uninterpretedOption=[],ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Ia().fromBinary(e,t)}static fromJson(e,t){return new Ia().fromJson(e,t)}static fromJsonString(e,t){return new Ia().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(Ia,e,t)}};Ia.runtime=ue.proto2;Ia.typeName="google.protobuf.OneofOptions";Ia.fields=ue.proto2.util.newFieldList(()=>[{no:999,name:"uninterpreted_option",kind:"message",T:Er,repeated:!0}]);ve.OneofOptions=Ia;var Ta=class extends vt.Message{constructor(e){super(),this.uninterpretedOption=[],ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Ta().fromBinary(e,t)}static fromJson(e,t){return new Ta().fromJson(e,t)}static fromJsonString(e,t){return new Ta().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(Ta,e,t)}};Ta.runtime=ue.proto2;Ta.typeName="google.protobuf.EnumOptions";Ta.fields=ue.proto2.util.newFieldList(()=>[{no:2,name:"allow_alias",kind:"scalar",T:8,opt:!0},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:Er,repeated:!0}]);ve.EnumOptions=Ta;var Sa=class extends vt.Message{constructor(e){super(),this.uninterpretedOption=[],ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Sa().fromBinary(e,t)}static fromJson(e,t){return new Sa().fromJson(e,t)}static fromJsonString(e,t){return new Sa().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(Sa,e,t)}};Sa.runtime=ue.proto2;Sa.typeName="google.protobuf.EnumValueOptions";Sa.fields=ue.proto2.util.newFieldList(()=>[{no:1,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:Er,repeated:!0}]);ve.EnumValueOptions=Sa;var Ca=class extends vt.Message{constructor(e){super(),this.uninterpretedOption=[],ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Ca().fromBinary(e,t)}static fromJson(e,t){return new Ca().fromJson(e,t)}static fromJsonString(e,t){return new Ca().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(Ca,e,t)}};Ca.runtime=ue.proto2;Ca.typeName="google.protobuf.ServiceOptions";Ca.fields=ue.proto2.util.newFieldList(()=>[{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:Er,repeated:!0}]);ve.ServiceOptions=Ca;var Aa=class extends vt.Message{constructor(e){super(),this.uninterpretedOption=[],ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Aa().fromBinary(e,t)}static fromJson(e,t){return new Aa().fromJson(e,t)}static fromJsonString(e,t){return new Aa().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(Aa,e,t)}};Aa.runtime=ue.proto2;Aa.typeName="google.protobuf.MethodOptions";Aa.fields=ue.proto2.util.newFieldList(()=>[{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:34,name:"idempotency_level",kind:"enum",T:ue.proto2.getEnumType(k3),opt:!0,default:k3.IDEMPOTENCY_UNKNOWN},{no:999,name:"uninterpreted_option",kind:"message",T:Er,repeated:!0}]);ve.MethodOptions=Aa;var k3;(function(r){r[r.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",r[r.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",r[r.IDEMPOTENT=2]="IDEMPOTENT"})(k3=ve.MethodOptions_IdempotencyLevel||(ve.MethodOptions_IdempotencyLevel={}));ue.proto2.util.setEnumType(k3,"google.protobuf.MethodOptions.IdempotencyLevel",[{no:0,name:"IDEMPOTENCY_UNKNOWN"},{no:1,name:"NO_SIDE_EFFECTS"},{no:2,name:"IDEMPOTENT"}]);var Er=class extends vt.Message{constructor(e){super(),this.name=[],ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Er().fromBinary(e,t)}static fromJson(e,t){return new Er().fromJson(e,t)}static fromJsonString(e,t){return new Er().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(Er,e,t)}};Er.runtime=ue.proto2;Er.typeName="google.protobuf.UninterpretedOption";Er.fields=ue.proto2.util.newFieldList(()=>[{no:2,name:"name",kind:"message",T:Oa,repeated:!0},{no:3,name:"identifier_value",kind:"scalar",T:9,opt:!0},{no:4,name:"positive_int_value",kind:"scalar",T:4,opt:!0},{no:5,name:"negative_int_value",kind:"scalar",T:3,opt:!0},{no:6,name:"double_value",kind:"scalar",T:1,opt:!0},{no:7,name:"string_value",kind:"scalar",T:12,opt:!0},{no:8,name:"aggregate_value",kind:"scalar",T:9,opt:!0}]);ve.UninterpretedOption=Er;var Oa=class extends vt.Message{constructor(e){super(),ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Oa().fromBinary(e,t)}static fromJson(e,t){return new Oa().fromJson(e,t)}static fromJsonString(e,t){return new Oa().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(Oa,e,t)}};Oa.runtime=ue.proto2;Oa.typeName="google.protobuf.UninterpretedOption.NamePart";Oa.fields=ue.proto2.util.newFieldList(()=>[{no:1,name:"name_part",kind:"scalar",T:9},{no:2,name:"is_extension",kind:"scalar",T:8}]);ve.UninterpretedOption_NamePart=Oa;var Da=class extends vt.Message{constructor(e){super(),this.location=[],ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Da().fromBinary(e,t)}static fromJson(e,t){return new Da().fromJson(e,t)}static fromJsonString(e,t){return new Da().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(Da,e,t)}};Da.runtime=ue.proto2;Da.typeName="google.protobuf.SourceCodeInfo";Da.fields=ue.proto2.util.newFieldList(()=>[{no:1,name:"location",kind:"message",T:Ra,repeated:!0}]);ve.SourceCodeInfo=Da;var Ra=class extends vt.Message{constructor(e){super(),this.path=[],this.span=[],this.leadingDetachedComments=[],ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Ra().fromBinary(e,t)}static fromJson(e,t){return new Ra().fromJson(e,t)}static fromJsonString(e,t){return new Ra().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(Ra,e,t)}};Ra.runtime=ue.proto2;Ra.typeName="google.protobuf.SourceCodeInfo.Location";Ra.fields=ue.proto2.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"span",kind:"scalar",T:5,repeated:!0,packed:!0},{no:3,name:"leading_comments",kind:"scalar",T:9,opt:!0},{no:4,name:"trailing_comments",kind:"scalar",T:9,opt:!0},{no:6,name:"leading_detached_comments",kind:"scalar",T:9,repeated:!0}]);ve.SourceCodeInfo_Location=Ra;var Is=class extends vt.Message{constructor(e){super(),this.annotation=[],ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Is().fromBinary(e,t)}static fromJson(e,t){return new Is().fromJson(e,t)}static fromJsonString(e,t){return new Is().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(Is,e,t)}};Is.runtime=ue.proto2;Is.typeName="google.protobuf.GeneratedCodeInfo";Is.fields=ue.proto2.util.newFieldList(()=>[{no:1,name:"annotation",kind:"message",T:Pa,repeated:!0}]);ve.GeneratedCodeInfo=Is;var Pa=class extends vt.Message{constructor(e){super(),this.path=[],ue.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Pa().fromBinary(e,t)}static fromJson(e,t){return new Pa().fromJson(e,t)}static fromJsonString(e,t){return new Pa().fromJsonString(e,t)}static equals(e,t){return ue.proto2.util.equals(Pa,e,t)}};Pa.runtime=ue.proto2;Pa.typeName="google.protobuf.GeneratedCodeInfo.Annotation";Pa.fields=ue.proto2.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"source_file",kind:"scalar",T:9,opt:!0},{no:3,name:"begin",kind:"scalar",T:5,opt:!0},{no:4,name:"end",kind:"scalar",T:5,opt:!0},{no:5,name:"semantic",kind:"enum",T:ue.proto2.getEnumType(tS),opt:!0}]);ve.GeneratedCodeInfo_Annotation=Pa;var tS;(function(r){r[r.NONE=0]="NONE",r[r.SET=1]="SET",r[r.ALIAS=2]="ALIAS"})(tS=ve.GeneratedCodeInfo_Annotation_Semantic||(ve.GeneratedCodeInfo_Annotation_Semantic={}));ue.proto2.util.setEnumType(tS,"google.protobuf.GeneratedCodeInfo.Annotation.Semantic",[{no:0,name:"NONE"},{no:1,name:"SET"},{no:2,name:"ALIAS"}])});var oS=b(k1=>{"use strict";d();h();Object.defineProperty(k1,"__esModule",{value:!0});k1.isPackedFieldByDefault=k1.createDescriptorSet=void 0;var Ue=Ty(),tt=Es(),ze=Oo(),U1=$T(),Pq=ld(),rS=Ef();function Xie(r){let e={enums:new Map,messages:new Map,services:new Map,extensions:new Map,mapEntries:new Map},n=(r instanceof Ue.FileDescriptorSet?r.file:r instanceof Uint8Array?Ue.FileDescriptorSet.fromBinary(r).file:r).map(i=>Jie(i,e));return Object.assign({files:n},e)}k1.createDescriptorSet=Xie;function Jie(r,e){var t,n,i;(0,tt.assert)(r.name,"invalid FileDescriptorProto: missing name"),(0,tt.assert)(r.syntax===void 0||r.syntax==="proto3",`invalid FileDescriptorProto: unsupported syntax: ${(t=r.syntax)!==null&&t!==void 0?t:"undefined"}`);let o={kind:"file",proto:r,deprecated:(i=(n=r.options)===null||n===void 0?void 0:n.deprecated)!==null&&i!==void 0?i:!1,syntax:r.syntax==="proto3"?"proto3":"proto2",name:r.name.replace(/\.proto/,""),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${this.proto.name}`},getSyntaxComments(){return Iu(this.proto.sourceCodeInfo,[ki.FileDescriptorProto_Syntax])},getPackageComments(){return Iu(this.proto.sourceCodeInfo,[ki.FileDescriptorProto_Package])}};e.mapEntries.clear();for(let a of r.enumType)Bq(a,o,void 0,e);for(let a of r.messageType)Nq(a,o,void 0,e);for(let a of r.service)$ie(a,o,e);nS(o,e);for(let a of e.mapEntries.values())iS(a,e);for(let a of o.messages)iS(a,e),nS(a,e);return e.mapEntries.clear(),o}function nS(r,e){switch(r.kind){case"file":for(let t of r.proto.extension){let n=Dq(t,r,void 0,e);r.extensions.push(n),e.extensions.set(n.typeName,n)}break;case"message":for(let t of r.proto.extension){let n=Dq(t,r.file,r,e);r.nestedExtensions.push(n),e.extensions.set(n.typeName,n)}for(let t of r.nestedMessages)nS(t,e);break}}function iS(r,e){let t=r.proto.oneofDecl.map(i=>Qie(i,r)),n=new Set;for(let i of r.proto.field){let o=toe(i,t),a=Mq(i,r.file,r,o,e);r.fields.push(a),o===void 0?r.members.push(a):(o.fields.push(a),n.has(o)||(n.add(o),r.members.push(o)))}for(let i of t.filter(o=>n.has(o)))r.oneofs.push(i);for(let i of r.nestedMessages)iS(i,e)}function Bq(r,e,t,n){var i,o,a;(0,tt.assert)(r.name,"invalid EnumDescriptorProto: missing name");let s={kind:"enum",proto:r,deprecated:(o=(i=r.options)===null||i===void 0?void 0:i.deprecated)!==null&&o!==void 0?o:!1,file:e,parent:t,name:r.name,typeName:j3(r,t,e),values:[],sharedPrefix:(0,Pq.findEnumSharedPrefix)(r.name,r.value.map(u=>{var f;return(f=u.name)!==null&&f!==void 0?f:""})),toString(){return`enum ${this.typeName}`},getComments(){let u=this.parent?[...this.parent.getComments().sourcePath,ki.DescriptorProto_EnumType,this.parent.proto.enumType.indexOf(this.proto)]:[ki.FileDescriptorProto_EnumType,this.file.proto.enumType.indexOf(this.proto)];return Iu(e.proto.sourceCodeInfo,u)}};n.enums.set(s.typeName,s),r.value.forEach(u=>{var f,l;(0,tt.assert)(u.name,"invalid EnumValueDescriptorProto: missing name"),(0,tt.assert)(u.number!==void 0,"invalid EnumValueDescriptorProto: missing number"),s.values.push({kind:"enum_value",proto:u,deprecated:(l=(f=u.options)===null||f===void 0?void 0:f.deprecated)!==null&&l!==void 0?l:!1,parent:s,name:u.name,number:u.number,toString(){return`enum value ${s.typeName}.${this.name}`},declarationString(){var p;let g=`${this.name} = ${this.number}`;return((p=this.proto.options)===null||p===void 0?void 0:p.deprecated)===!0&&(g+=" [deprecated = true]"),g},getComments(){let p=[...this.parent.getComments().sourcePath,ki.EnumDescriptorProto_Value,this.parent.proto.value.indexOf(this.proto)];return Iu(e.proto.sourceCodeInfo,p)}})}),((a=t==null?void 0:t.nestedEnums)!==null&&a!==void 0?a:e.enums).push(s)}function Nq(r,e,t,n){var i,o,a,s;(0,tt.assert)(r.name,"invalid DescriptorProto: missing name");let u={kind:"message",proto:r,deprecated:(o=(i=r.options)===null||i===void 0?void 0:i.deprecated)!==null&&o!==void 0?o:!1,file:e,parent:t,name:r.name,typeName:j3(r,t,e),fields:[],oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`},getComments(){let f=this.parent?[...this.parent.getComments().sourcePath,ki.DescriptorProto_NestedType,this.parent.proto.nestedType.indexOf(this.proto)]:[ki.FileDescriptorProto_MessageType,this.file.proto.messageType.indexOf(this.proto)];return Iu(e.proto.sourceCodeInfo,f)}};((a=r.options)===null||a===void 0?void 0:a.mapEntry)===!0?n.mapEntries.set(u.typeName,u):(((s=t==null?void 0:t.nestedMessages)!==null&&s!==void 0?s:e.messages).push(u),n.messages.set(u.typeName,u));for(let f of r.enumType)Bq(f,e,u,n);for(let f of r.nestedType)Nq(f,e,u,n)}function $ie(r,e,t){var n,i;(0,tt.assert)(r.name,"invalid ServiceDescriptorProto: missing name");let o={kind:"service",proto:r,deprecated:(i=(n=r.options)===null||n===void 0?void 0:n.deprecated)!==null&&i!==void 0?i:!1,file:e,name:r.name,typeName:j3(r,void 0,e),methods:[],toString(){return`service ${this.typeName}`},getComments(){let a=[ki.FileDescriptorProto_Service,this.file.proto.service.indexOf(this.proto)];return Iu(e.proto.sourceCodeInfo,a)}};e.services.push(o),t.services.set(o.typeName,o);for(let a of r.method)o.methods.push(Zie(a,o,t))}function Zie(r,e,t){var n,i,o;(0,tt.assert)(r.name,"invalid MethodDescriptorProto: missing name"),(0,tt.assert)(r.inputType,"invalid MethodDescriptorProto: missing input_type"),(0,tt.assert)(r.outputType,"invalid MethodDescriptorProto: missing output_type");let a;r.clientStreaming===!0&&r.serverStreaming===!0?a=U1.MethodKind.BiDiStreaming:r.clientStreaming===!0?a=U1.MethodKind.ClientStreaming:r.serverStreaming===!0?a=U1.MethodKind.ServerStreaming:a=U1.MethodKind.Unary;let s;switch((n=r.options)===null||n===void 0?void 0:n.idempotencyLevel){case Ue.MethodOptions_IdempotencyLevel.IDEMPOTENT:s=U1.MethodIdempotency.Idempotent;break;case Ue.MethodOptions_IdempotencyLevel.NO_SIDE_EFFECTS:s=U1.MethodIdempotency.NoSideEffects;break;case Ue.MethodOptions_IdempotencyLevel.IDEMPOTENCY_UNKNOWN:case void 0:s=void 0;break}let u=t.messages.get(L1(r.inputType)),f=t.messages.get(L1(r.outputType));(0,tt.assert)(u,`invalid MethodDescriptorProto: input_type ${r.inputType} not found`),(0,tt.assert)(f,`invalid MethodDescriptorProto: output_type ${r.inputType} not found`);let l=r.name;return{kind:"rpc",proto:r,deprecated:(o=(i=r.options)===null||i===void 0?void 0:i.deprecated)!==null&&o!==void 0?o:!1,parent:e,name:l,methodKind:a,input:u,output:f,idempotency:s,toString(){return`rpc ${e.typeName}.${l}`},getComments(){let p=[...this.parent.getComments().sourcePath,ki.ServiceDescriptorProto_Method,this.parent.proto.method.indexOf(this.proto)];return Iu(e.file.proto.sourceCodeInfo,p)}}}function Qie(r,e){return(0,tt.assert)(r.name,"invalid OneofDescriptorProto: missing name"),{kind:"oneof",proto:r,deprecated:!1,parent:e,fields:[],name:r.name,toString(){return`oneof ${e.typeName}.${this.name}`},getComments(){let t=[...this.parent.getComments().sourcePath,ki.DescriptorProto_OneofDecl,this.parent.proto.oneofDecl.indexOf(this.proto)];return Iu(e.file.proto.sourceCodeInfo,t)}}}function Mq(r,e,t,n,i){var o,a,s,u;(0,tt.assert)(r.name,"invalid FieldDescriptorProto: missing name"),(0,tt.assert)(r.number,"invalid FieldDescriptorProto: missing number"),(0,tt.assert)(r.type,"invalid FieldDescriptorProto: missing type");let f=qq(r,e.syntax),l={proto:r,deprecated:(a=(o=r.options)===null||o===void 0?void 0:o.deprecated)!==null&&a!==void 0?a:!1,name:r.name,number:r.number,parent:t,oneof:n,optional:roe(r,e.syntax),packed:(u=(s=r.options)===null||s===void 0?void 0:s.packed)!==null&&u!==void 0?u:f,packedByDefault:f,jsonName:r.jsonName===(0,Pq.fieldJsonName)(r.name)?void 0:r.jsonName,scalar:void 0,message:void 0,enum:void 0,mapKey:void 0,mapValue:void 0,toString(){return`field ${this.parent.typeName}.${this.name}`},declarationString:ioe,getComments(){let g=[...this.parent.getComments().sourcePath,ki.DescriptorProto_Field,this.parent.proto.field.indexOf(this.proto)];return Iu(e.proto.sourceCodeInfo,g)}},p=r.label===Ue.FieldDescriptorProto_Label.REPEATED;switch(r.type){case Ue.FieldDescriptorProto_Type.MESSAGE:case Ue.FieldDescriptorProto_Type.GROUP:{(0,tt.assert)(r.typeName,"invalid FieldDescriptorProto: missing type_name");let g=i.mapEntries.get(L1(r.typeName));if(g!==void 0)return(0,tt.assert)(p,"invalid FieldDescriptorProto: expected map entry to be repeated"),Object.assign(Object.assign(Object.assign({},l),{kind:"field",fieldKind:"map",repeated:!1}),eoe(g));let v=i.messages.get(L1(r.typeName));return(0,tt.assert)(v!==void 0,`invalid FieldDescriptorProto: type_name ${r.typeName} not found`),Object.assign(Object.assign({},l),{kind:"field",fieldKind:"message",repeated:p,message:v})}case Ue.FieldDescriptorProto_Type.ENUM:{(0,tt.assert)(r.typeName,"invalid FieldDescriptorProto: missing type_name");let g=i.enums.get(L1(r.typeName));return(0,tt.assert)(g!==void 0,`invalid FieldDescriptorProto: type_name ${r.typeName} not found`),Object.assign(Object.assign({},l),{kind:"field",fieldKind:"enum",getDefaultValue:Rq,repeated:p,enum:g})}default:{let g=noe[r.type];return(0,tt.assert)(g,`invalid FieldDescriptorProto: unknown type ${r.type}`),Object.assign(Object.assign({},l),{kind:"field",fieldKind:"scalar",getDefaultValue:Rq,repeated:p,scalar:g})}}}function Dq(r,e,t,n){(0,tt.assert)(r.extendee,"invalid FieldDescriptorProto: missing extendee");let i=Mq(r,e,null,void 0,n),o=n.messages.get(L1(r.extendee));return(0,tt.assert)(o,`invalid FieldDescriptorProto: extendee ${r.extendee} not found`),Object.assign(Object.assign({},i),{kind:"extension",typeName:j3(r,t,e),parent:t,file:e,extendee:o,toString(){return`extension ${this.typeName}`},getComments(){let a=this.parent?[...this.parent.getComments().sourcePath,ki.DescriptorProto_Extension,this.parent.proto.extension.indexOf(r)]:[ki.FileDescriptorProto_Extension,this.file.proto.extension.indexOf(r)];return Iu(e.proto.sourceCodeInfo,a)}})}function j3(r,e,t){(0,tt.assert)(r.name,`invalid ${r.getType().typeName}: missing name`);let n;return e?n=`${e.typeName}.${r.name}`:t.proto.package!==void 0?n=`${t.proto.package}.${r.name}`:n=`${r.name}`,n}function L1(r){return r.startsWith(".")?r.substring(1):r}function eoe(r){var e,t;(0,tt.assert)((e=r.proto.options)===null||e===void 0?void 0:e.mapEntry,`invalid DescriptorProto: expected ${r.toString()} to be a map entry`),(0,tt.assert)(r.fields.length===2,`invalid DescriptorProto: map entry ${r.toString()} has ${r.fields.length} fields`);let n=r.fields.find(a=>a.proto.number===1);(0,tt.assert)(n,`invalid DescriptorProto: map entry ${r.toString()} is missing key field`);let i=n.scalar;(0,tt.assert)(i!==void 0&&i!==ze.ScalarType.BYTES&&i!==ze.ScalarType.FLOAT&&i!==ze.ScalarType.DOUBLE,`invalid DescriptorProto: map entry ${r.toString()} has unexpected key type ${(t=n.proto.type)!==null&&t!==void 0?t:-1}`);let o=r.fields.find(a=>a.proto.number===2);switch((0,tt.assert)(o,`invalid DescriptorProto: map entry ${r.toString()} is missing value field`),o.fieldKind){case"scalar":return{mapKey:i,mapValue:Object.assign(Object.assign({},o),{kind:"scalar"})};case"message":return{mapKey:i,mapValue:Object.assign(Object.assign({},o),{kind:"message"})};case"enum":return{mapKey:i,mapValue:Object.assign(Object.assign({},o),{kind:"enum"})};default:throw new Error("invalid DescriptorProto: unsupported map entry value field")}}function toe(r,e){var t;let n=r.oneofIndex;if(n===void 0)return;let i;return r.proto3Optional!==!0&&(i=e[n],(0,tt.assert)(i,`invalid FieldDescriptorProto: oneof #${n} for field #${(t=r.number)!==null&&t!==void 0?t:-1} not found`)),i}function roe(r,e){switch(e){case"proto2":return r.oneofIndex===void 0&&r.label===Ue.FieldDescriptorProto_Label.OPTIONAL;case"proto3":return r.proto3Optional===!0}}function qq(r,e){if((0,tt.assert)(r.type,"invalid FieldDescriptorProto: missing type"),e==="proto3")switch(r.type){case Ue.FieldDescriptorProto_Type.DOUBLE:case Ue.FieldDescriptorProto_Type.FLOAT:case Ue.FieldDescriptorProto_Type.INT64:case Ue.FieldDescriptorProto_Type.UINT64:case Ue.FieldDescriptorProto_Type.INT32:case Ue.FieldDescriptorProto_Type.FIXED64:case Ue.FieldDescriptorProto_Type.FIXED32:case Ue.FieldDescriptorProto_Type.UINT32:case Ue.FieldDescriptorProto_Type.SFIXED32:case Ue.FieldDescriptorProto_Type.SFIXED64:case Ue.FieldDescriptorProto_Type.SINT32:case Ue.FieldDescriptorProto_Type.SINT64:case Ue.FieldDescriptorProto_Type.BOOL:case Ue.FieldDescriptorProto_Type.ENUM:return!0;default:return!1}return!1}k1.isPackedFieldByDefault=qq;var noe={[Ue.FieldDescriptorProto_Type.DOUBLE]:ze.ScalarType.DOUBLE,[Ue.FieldDescriptorProto_Type.FLOAT]:ze.ScalarType.FLOAT,[Ue.FieldDescriptorProto_Type.INT64]:ze.ScalarType.INT64,[Ue.FieldDescriptorProto_Type.UINT64]:ze.ScalarType.UINT64,[Ue.FieldDescriptorProto_Type.INT32]:ze.ScalarType.INT32,[Ue.FieldDescriptorProto_Type.FIXED64]:ze.ScalarType.FIXED64,[Ue.FieldDescriptorProto_Type.FIXED32]:ze.ScalarType.FIXED32,[Ue.FieldDescriptorProto_Type.BOOL]:ze.ScalarType.BOOL,[Ue.FieldDescriptorProto_Type.STRING]:ze.ScalarType.STRING,[Ue.FieldDescriptorProto_Type.GROUP]:void 0,[Ue.FieldDescriptorProto_Type.MESSAGE]:void 0,[Ue.FieldDescriptorProto_Type.BYTES]:ze.ScalarType.BYTES,[Ue.FieldDescriptorProto_Type.UINT32]:ze.ScalarType.UINT32,[Ue.FieldDescriptorProto_Type.ENUM]:void 0,[Ue.FieldDescriptorProto_Type.SFIXED32]:ze.ScalarType.SFIXED32,[Ue.FieldDescriptorProto_Type.SFIXED64]:ze.ScalarType.SFIXED64,[Ue.FieldDescriptorProto_Type.SINT32]:ze.ScalarType.SINT32,[Ue.FieldDescriptorProto_Type.SINT64]:ze.ScalarType.SINT64};function Iu(r,e){if(!r)return{leadingDetached:[],sourcePath:e};for(let t of r.location)if(t.path.length===e.length&&!t.path.some((n,i)=>e[i]!==n))return{leadingDetached:t.leadingDetachedComments,leading:t.leadingComments,trailing:t.trailingComments,sourcePath:e};return{leadingDetached:[],sourcePath:e}}var ki;(function(r){r[r.FileDescriptorProto_Package=2]="FileDescriptorProto_Package",r[r.FileDescriptorProto_MessageType=4]="FileDescriptorProto_MessageType",r[r.FileDescriptorProto_EnumType=5]="FileDescriptorProto_EnumType",r[r.FileDescriptorProto_Service=6]="FileDescriptorProto_Service",r[r.FileDescriptorProto_Extension=7]="FileDescriptorProto_Extension",r[r.FileDescriptorProto_Syntax=12]="FileDescriptorProto_Syntax",r[r.DescriptorProto_Field=2]="DescriptorProto_Field",r[r.DescriptorProto_NestedType=3]="DescriptorProto_NestedType",r[r.DescriptorProto_EnumType=4]="DescriptorProto_EnumType",r[r.DescriptorProto_Extension=6]="DescriptorProto_Extension",r[r.DescriptorProto_OneofDecl=8]="DescriptorProto_OneofDecl",r[r.EnumDescriptorProto_Value=2]="EnumDescriptorProto_Value",r[r.ServiceDescriptorProto_Method=2]="ServiceDescriptorProto_Method"})(ki||(ki={}));function ioe(){var r,e;let t=[];this.repeated&&t.push("repeated"),this.optional&&t.push("optional"),(this.kind==="extension"?this.file:this.parent.file).syntax=="proto2"&&this.proto.label===Ue.FieldDescriptorProto_Label.REQUIRED&&t.push("required");let i;switch(this.fieldKind){case"scalar":i=ze.ScalarType[this.scalar].toLowerCase();break;case"enum":i=this.enum.typeName;break;case"message":i=this.message.typeName;break;case"map":{let s=ze.ScalarType[this.mapKey].toLowerCase(),u;switch(this.mapValue.kind){case"scalar":u=ze.ScalarType[this.mapValue.scalar].toLowerCase();break;case"enum":u=this.mapValue.enum.typeName;break;case"message":u=this.mapValue.message.typeName;break}i=`map<${s}, ${u}>`;break}}t.push(`${i} ${this.name} = ${this.number}`);let o=[];((r=this.proto.options)===null||r===void 0?void 0:r.packed)!==void 0&&o.push(`packed = ${this.proto.options.packed.toString()}`);let a=this.proto.defaultValue;return a!==void 0&&((this.proto.type==Ue.FieldDescriptorProto_Type.BYTES||this.proto.type==Ue.FieldDescriptorProto_Type.STRING)&&(a='"'+a.replace('"','\\"')+'"'),o.push(`default = ${a}`)),this.jsonName!==void 0&&o.push(`json_name = "${this.jsonName}"`),((e=this.proto.options)===null||e===void 0?void 0:e.deprecated)===!0&&o.push("deprecated = true"),o.length>0&&t.push("["+o.join(", ")+"]"),t.join(" ")}function Rq(){let r=this.proto.defaultValue;if(r!==void 0)switch(this.fieldKind){case"enum":{let e=this.enum.values.find(t=>t.name===r);return(0,tt.assert)(e,`cannot parse ${this.toString()} default value: ${r}`),e.number}case"scalar":switch(this.scalar){case ze.ScalarType.STRING:return r;case ze.ScalarType.BYTES:{let e=ooe(r);if(e===!1)throw new Error(`cannot parse ${this.toString()} default value: ${r}`);return e}case ze.ScalarType.INT64:case ze.ScalarType.SFIXED64:case ze.ScalarType.SINT64:return rS.protoInt64.parse(r);case ze.ScalarType.UINT64:case ze.ScalarType.FIXED64:return rS.protoInt64.uParse(r);case ze.ScalarType.DOUBLE:case ze.ScalarType.FLOAT:switch(r){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(r)}case ze.ScalarType.BOOL:return r==="true";case ze.ScalarType.INT32:case ze.ScalarType.UINT32:case ze.ScalarType.SINT32:case ze.ScalarType.FIXED32:case ze.ScalarType.SFIXED32:return parseInt(r,10)}break;default:return}}function ooe(r){let e=[],t={tail:r,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(n){if(this.tail.length>=n){let i=this.tail.substring(0,n);return this.tail=this.tail.substring(n),i}return!1}};for(;t.next();)switch(t.c){case"\\":if(t.next())switch(t.c){case"\\":e.push(t.c.charCodeAt(0));break;case"b":e.push(8);break;case"f":e.push(12);break;case"n":e.push(10);break;case"r":e.push(13);break;case"t":e.push(9);break;case"v":e.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{let n=t.c,i=t.take(2);if(i===!1)return!1;let o=parseInt(n+i,8);if(isNaN(o))return!1;e.push(o);break}case"x":{let n=t.c,i=t.take(2);if(i===!1)return!1;let o=parseInt(n+i,16);if(isNaN(o))return!1;e.push(o);break}case"u":{let n=t.c,i=t.take(4);if(i===!1)return!1;let o=parseInt(n+i,16);if(isNaN(o))return!1;let a=new Uint8Array(4);new DataView(a.buffer).setInt32(0,o,!0),e.push(a[0],a[1],a[2],a[3]);break}case"U":{let n=t.c,i=t.take(8);if(i===!1)return!1;let o=rS.protoInt64.uEnc(n+i),a=new Uint8Array(8),s=new DataView(a.buffer);s.setInt32(0,o.lo,!0),s.setInt32(4,o.hi,!0),e.push(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7]);break}}break;default:e.push(t.c.charCodeAt(0))}return new Uint8Array(e)}});var Fq=b(H3=>{"use strict";d();h();Object.defineProperty(H3,"__esModule",{value:!0});H3.createRegistry=void 0;function aoe(...r){let e={},t={},n={},i={add(o){if("fields"in o){if(!this.findMessage(o.typeName)){e[o.typeName]=o;for(let a of o.fields.list())a.kind=="message"?this.add(a.T):a.kind=="map"&&a.V.kind=="message"?this.add(a.V.T):a.kind=="enum"&&this.add(a.T)}}else if("methods"in o){if(!this.findService(o.typeName)){n[o.typeName]=o;for(let a of Object.values(o.methods))this.add(a.I),this.add(a.O)}}else t[o.typeName]=o},findMessage(o){return e[o]},findEnum(o){return t[o]},findService(o){return n[o]}};for(let o of r)i.add(o);return i}H3.createRegistry=aoe});var sS=b(K3=>{"use strict";d();h();Object.defineProperty(K3,"__esModule",{value:!0});K3.Timestamp=void 0;var soe=Mr(),aS=Ef(),Sy=Do(),Bo=class extends soe.Message{constructor(e){super(),this.seconds=aS.protoInt64.zero,this.nanos=0,Sy.proto3.util.initPartial(e,this)}fromJson(e,t){if(typeof e!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${Sy.proto3.json.debug(e)}`);let n=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!n)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");let i=Date.parse(n[1]+"-"+n[2]+"-"+n[3]+"T"+n[4]+":"+n[5]+":"+n[6]+(n[8]?n[8]:"Z"));if(Number.isNaN(i))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=aS.protoInt64.parse(i/1e3),this.nanos=0,n[7]&&(this.nanos=parseInt("1"+n[7]+"0".repeat(9-n[7].length))-1e9),this}toJson(e){let t=Number(this.seconds)*1e3;if(t<Date.parse("0001-01-01T00:00:00Z")||t>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let n="Z";if(this.nanos>0){let i=(this.nanos+1e9).toString().substring(1);i.substring(3)==="000000"?n="."+i.substring(0,3)+"Z":i.substring(6)==="000"?n="."+i.substring(0,6)+"Z":n="."+i+"Z"}return new Date(t).toISOString().replace(".000Z",n)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return Bo.fromDate(new Date)}static fromDate(e){let t=e.getTime();return new Bo({seconds:aS.protoInt64.parse(Math.floor(t/1e3)),nanos:t%1e3*1e6})}static fromBinary(e,t){return new Bo().fromBinary(e,t)}static fromJson(e,t){return new Bo().fromJson(e,t)}static fromJsonString(e,t){return new Bo().fromJsonString(e,t)}static equals(e,t){return Sy.proto3.util.equals(Bo,e,t)}};Bo.runtime=Sy.proto3;Bo.typeName="google.protobuf.Timestamp";Bo.fields=Sy.proto3.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);K3.Timestamp=Bo});var fS=b(V3=>{"use strict";d();h();Object.defineProperty(V3,"__esModule",{value:!0});V3.Duration=void 0;var uoe=Mr(),uS=Ef(),hd=Do(),Ts=class extends uoe.Message{constructor(e){super(),this.seconds=uS.protoInt64.zero,this.nanos=0,hd.proto3.util.initPartial(e,this)}fromJson(e,t){if(typeof e!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${hd.proto3.json.debug(e)}`);let n=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(n===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${hd.proto3.json.debug(e)}`);let i=Number(n[1]);if(i>315576e6||i<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${hd.proto3.json.debug(e)}`);if(this.seconds=uS.protoInt64.parse(i),typeof n[2]=="string"){let o=n[2]+"0".repeat(9-n[2].length);this.nanos=parseInt(o),(i<0||Object.is(i,-0))&&(this.nanos=-this.nanos)}return this}toJson(e){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let t=this.seconds.toString();if(this.nanos!==0){let n=Math.abs(this.nanos).toString();n="0".repeat(9-n.length)+n,n.substring(3)==="000000"?n=n.substring(0,3):n.substring(6)==="000"&&(n=n.substring(0,6)),t+="."+n,this.nanos<0&&this.seconds===uS.protoInt64.zero&&(t="-"+t)}return t+"s"}static fromBinary(e,t){return new Ts().fromBinary(e,t)}static fromJson(e,t){return new Ts().fromJson(e,t)}static fromJsonString(e,t){return new Ts().fromJsonString(e,t)}static equals(e,t){return hd.proto3.util.equals(Ts,e,t)}};Ts.runtime=hd.proto3;Ts.typeName="google.protobuf.Duration";Ts.fields=hd.proto3.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);V3.Duration=Ts});var z3=b(Y3=>{"use strict";d();h();Object.defineProperty(Y3,"__esModule",{value:!0});Y3.Any=void 0;var foe=Mr(),G3=Do(),Ba=class extends foe.Message{constructor(e){super(),this.typeUrl="",this.value=new Uint8Array(0),G3.proto3.util.initPartial(e,this)}toJson(e){var t;if(this.typeUrl==="")return{};let n=this.typeUrlToName(this.typeUrl),i=(t=e==null?void 0:e.typeRegistry)===null||t===void 0?void 0:t.findMessage(n);if(!i)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let a=i.fromBinary(this.value).toJson(e);return(n.startsWith("google.protobuf.")||a===null||Array.isArray(a)||typeof a!="object")&&(a={value:a}),a["@type"]=this.typeUrl,a}fromJson(e,t){var n;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${e===null?"null":Array.isArray(e)?"array":typeof e}`);if(Object.keys(e).length==0)return this;let i=e["@type"];if(typeof i!="string"||i=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');let o=this.typeUrlToName(i),a=(n=t==null?void 0:t.typeRegistry)===null||n===void 0?void 0:n.findMessage(o);if(!a)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${i} is not in the type registry`);let s;if(o.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value"))s=a.fromJson(e.value,t);else{let u=Object.assign({},e);delete u["@type"],s=a.fromJson(u,t)}return this.packFrom(s),this}packFrom(e){this.value=e.toBinary(),this.typeUrl=this.typeNameToUrl(e.getType().typeName)}unpackTo(e){return this.is(e.getType())?(e.fromBinary(this.value),!0):!1}unpack(e){if(this.typeUrl==="")return;let t=e.findMessage(this.typeUrlToName(this.typeUrl));if(!!t)return t.fromBinary(this.value)}is(e){if(this.typeUrl==="")return!1;let t=this.typeUrlToName(this.typeUrl),n="";return typeof e=="string"?n=e:n=e.typeName,t===n}typeNameToUrl(e){return`type.googleapis.com/${e}`}typeUrlToName(e){if(!e.length)throw new Error(`invalid type url: ${e}`);let t=e.lastIndexOf("/"),n=t>0?e.substring(t+1):e;if(!n.length)throw new Error(`invalid type url: ${e}`);return n}static pack(e){let t=new Ba;return t.packFrom(e),t}static fromBinary(e,t){return new Ba().fromBinary(e,t)}static fromJson(e,t){return new Ba().fromJson(e,t)}static fromJsonString(e,t){return new Ba().fromJsonString(e,t)}static equals(e,t){return G3.proto3.util.equals(Ba,e,t)}};Ba.runtime=G3.proto3;Ba.typeName="google.protobuf.Any";Ba.fields=G3.proto3.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);Y3.Any=Ba});var cS=b(X3=>{"use strict";d();h();Object.defineProperty(X3,"__esModule",{value:!0});X3.Empty=void 0;var coe=Mr(),W3=Do(),Ss=class extends coe.Message{constructor(e){super(),W3.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ss().fromBinary(e,t)}static fromJson(e,t){return new Ss().fromJson(e,t)}static fromJsonString(e,t){return new Ss().fromJsonString(e,t)}static equals(e,t){return W3.proto3.util.equals(Ss,e,t)}};Ss.runtime=W3.proto3;Ss.typeName="google.protobuf.Empty";Ss.fields=W3.proto3.util.newFieldList(()=>[]);X3.Empty=Ss});var lS=b(J3=>{"use strict";d();h();Object.defineProperty(J3,"__esModule",{value:!0});J3.FieldMask=void 0;var loe=Mr(),Cy=Do(),Cs=class extends loe.Message{constructor(e){super(),this.paths=[],Cy.proto3.util.initPartial(e,this)}toJson(e){function t(n){let i=!1,o=[];for(let a=0;a<n.length;a++){let s=n.charAt(a);switch(s){case"_":i=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":o.push(s),i=!1;break;default:i&&(i=!1,s=s.toUpperCase()),o.push(s);break}}return o.join("")}return this.paths.map(n=>{if(n.match(/_[0-9]?_/g)||n.match(/[A-Z]/g))throw new Error('cannot encode google.protobuf.FieldMask to JSON: lowerCamelCase of path name "'+n+'" is irreversible');return t(n)}).join(",")}fromJson(e,t){if(typeof e!="string")throw new Error("cannot decode google.protobuf.FieldMask from JSON: "+Cy.proto3.json.debug(e));if(e==="")return this;function n(i){if(i.includes("_"))throw new Error("cannot decode google.protobuf.FieldMask from JSON: path names must be lowerCamelCase");let o=i.replace(/[A-Z]/g,a=>"_"+a.toLowerCase());return o[0]==="_"?o.substring(1):o}return this.paths=e.split(",").map(n),this}static fromBinary(e,t){return new Cs().fromBinary(e,t)}static fromJson(e,t){return new Cs().fromJson(e,t)}static fromJsonString(e,t){return new Cs().fromJsonString(e,t)}static equals(e,t){return Cy.proto3.util.equals(Cs,e,t)}};Cs.runtime=Cy.proto3;Cs.typeName="google.protobuf.FieldMask";Cs.fields=Cy.proto3.util.newFieldList(()=>[{no:1,name:"paths",kind:"scalar",T:9,repeated:!0}]);J3.FieldMask=Cs});var hS=b(As=>{"use strict";d();h();Object.defineProperty(As,"__esModule",{value:!0});As.ListValue=As.Value=As.Struct=As.NullValue=void 0;var fn=Do(),dS=Mr(),$3;(function(r){r[r.NULL_VALUE=0]="NULL_VALUE"})($3=As.NullValue||(As.NullValue={}));fn.proto3.util.setEnumType($3,"google.protobuf.NullValue",[{no:0,name:"NULL_VALUE"}]);var No=class extends dS.Message{constructor(e){super(),this.fields={},fn.proto3.util.initPartial(e,this)}toJson(e){let t={};for(let[n,i]of Object.entries(this.fields))t[n]=i.toJson(e);return t}fromJson(e,t){if(typeof e!="object"||e==null||Array.isArray(e))throw new Error("cannot decode google.protobuf.Struct from JSON "+fn.proto3.json.debug(e));for(let[n,i]of Object.entries(e))this.fields[n]=ji.fromJson(i);return this}static fromBinary(e,t){return new No().fromBinary(e,t)}static fromJson(e,t){return new No().fromJson(e,t)}static fromJsonString(e,t){return new No().fromJsonString(e,t)}static equals(e,t){return fn.proto3.util.equals(No,e,t)}};No.runtime=fn.proto3;No.typeName="google.protobuf.Struct";No.fields=fn.proto3.util.newFieldList(()=>[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:ji}}]);As.Struct=No;var ji=class extends dS.Message{constructor(e){super(),this.kind={case:void 0},fn.proto3.util.initPartial(e,this)}toJson(e){switch(this.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(this.kind.value))throw new Error("google.protobuf.Value cannot be NaN or Infinity");return this.kind.value;case"boolValue":return this.kind.value;case"stringValue":return this.kind.value;case"structValue":case"listValue":return this.kind.value.toJson(Object.assign(Object.assign({},e),{emitDefaultValues:!0}))}throw new Error("google.protobuf.Value must have a value")}fromJson(e,t){switch(typeof e){case"number":this.kind={case:"numberValue",value:e};break;case"string":this.kind={case:"stringValue",value:e};break;case"boolean":this.kind={case:"boolValue",value:e};break;case"object":e===null?this.kind={case:"nullValue",value:$3.NULL_VALUE}:Array.isArray(e)?this.kind={case:"listValue",value:Mo.fromJson(e)}:this.kind={case:"structValue",value:No.fromJson(e)};break;default:throw new Error("cannot decode google.protobuf.Value from JSON "+fn.proto3.json.debug(e))}return this}static fromBinary(e,t){return new ji().fromBinary(e,t)}static fromJson(e,t){return new ji().fromJson(e,t)}static fromJsonString(e,t){return new ji().fromJsonString(e,t)}static equals(e,t){return fn.proto3.util.equals(ji,e,t)}};ji.runtime=fn.proto3;ji.typeName="google.protobuf.Value";ji.fields=fn.proto3.util.newFieldList(()=>[{no:1,name:"null_value",kind:"enum",T:fn.proto3.getEnumType($3),oneof:"kind"},{no:2,name:"number_value",kind:"scalar",T:1,oneof:"kind"},{no:3,name:"string_value",kind:"scalar",T:9,oneof:"kind"},{no:4,name:"bool_value",kind:"scalar",T:8,oneof:"kind"},{no:5,name:"struct_value",kind:"message",T:No,oneof:"kind"},{no:6,name:"list_value",kind:"message",T:Mo,oneof:"kind"}]);As.Value=ji;var Mo=class extends dS.Message{constructor(e){super(),this.values=[],fn.proto3.util.initPartial(e,this)}toJson(e){return this.values.map(t=>t.toJson())}fromJson(e,t){if(!Array.isArray(e))throw new Error("cannot decode google.protobuf.ListValue from JSON "+fn.proto3.json.debug(e));for(let n of e)this.values.push(ji.fromJson(n));return this}static fromBinary(e,t){return new Mo().fromBinary(e,t)}static fromJson(e,t){return new Mo().fromJson(e,t)}static fromJsonString(e,t){return new Mo().fromJsonString(e,t)}static equals(e,t){return fn.proto3.util.equals(Mo,e,t)}};Mo.runtime=fn.proto3;Mo.typeName="google.protobuf.ListValue";Mo.fields=fn.proto3.util.newFieldList(()=>[{no:1,name:"values",kind:"message",T:ji,repeated:!0}]);As.ListValue=Mo});var pS=b(br=>{"use strict";d();h();Object.defineProperty(br,"__esModule",{value:!0});br.BytesValue=br.StringValue=br.BoolValue=br.UInt32Value=br.Int32Value=br.UInt64Value=br.Int64Value=br.FloatValue=br.DoubleValue=void 0;var Af=Mr(),Re=Do(),zr=Oo(),Uq=Ef(),qo=class extends Af.Message{constructor(e){super(),this.value=0,Re.proto3.util.initPartial(e,this)}toJson(e){return Re.proto3.json.writeScalar(zr.ScalarType.DOUBLE,this.value,!0)}fromJson(e,t){try{this.value=Re.proto3.json.readScalar(zr.ScalarType.DOUBLE,e)}catch(n){let i='cannot decode message google.protobuf.DoubleValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new qo().fromBinary(e,t)}static fromJson(e,t){return new qo().fromJson(e,t)}static fromJsonString(e,t){return new qo().fromJsonString(e,t)}static equals(e,t){return Re.proto3.util.equals(qo,e,t)}};qo.runtime=Re.proto3;qo.typeName="google.protobuf.DoubleValue";qo.fields=Re.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);qo.fieldWrapper={wrapField(r){return new qo({value:r})},unwrapField(r){return r.value}};br.DoubleValue=qo;var Fo=class extends Af.Message{constructor(e){super(),this.value=0,Re.proto3.util.initPartial(e,this)}toJson(e){return Re.proto3.json.writeScalar(zr.ScalarType.FLOAT,this.value,!0)}fromJson(e,t){try{this.value=Re.proto3.json.readScalar(zr.ScalarType.FLOAT,e)}catch(n){let i='cannot decode message google.protobuf.FloatValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new Fo().fromBinary(e,t)}static fromJson(e,t){return new Fo().fromJson(e,t)}static fromJsonString(e,t){return new Fo().fromJsonString(e,t)}static equals(e,t){return Re.proto3.util.equals(Fo,e,t)}};Fo.runtime=Re.proto3;Fo.typeName="google.protobuf.FloatValue";Fo.fields=Re.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);Fo.fieldWrapper={wrapField(r){return new Fo({value:r})},unwrapField(r){return r.value}};br.FloatValue=Fo;var Uo=class extends Af.Message{constructor(e){super(),this.value=Uq.protoInt64.zero,Re.proto3.util.initPartial(e,this)}toJson(e){return Re.proto3.json.writeScalar(zr.ScalarType.INT64,this.value,!0)}fromJson(e,t){try{this.value=Re.proto3.json.readScalar(zr.ScalarType.INT64,e)}catch(n){let i='cannot decode message google.protobuf.Int64Value from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new Uo().fromBinary(e,t)}static fromJson(e,t){return new Uo().fromJson(e,t)}static fromJsonString(e,t){return new Uo().fromJsonString(e,t)}static equals(e,t){return Re.proto3.util.equals(Uo,e,t)}};Uo.runtime=Re.proto3;Uo.typeName="google.protobuf.Int64Value";Uo.fields=Re.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);Uo.fieldWrapper={wrapField(r){return new Uo({value:r})},unwrapField(r){return r.value}};br.Int64Value=Uo;var Lo=class extends Af.Message{constructor(e){super(),this.value=Uq.protoInt64.zero,Re.proto3.util.initPartial(e,this)}toJson(e){return Re.proto3.json.writeScalar(zr.ScalarType.UINT64,this.value,!0)}fromJson(e,t){try{this.value=Re.proto3.json.readScalar(zr.ScalarType.UINT64,e)}catch(n){let i='cannot decode message google.protobuf.UInt64Value from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new Lo().fromBinary(e,t)}static fromJson(e,t){return new Lo().fromJson(e,t)}static fromJsonString(e,t){return new Lo().fromJsonString(e,t)}static equals(e,t){return Re.proto3.util.equals(Lo,e,t)}};Lo.runtime=Re.proto3;Lo.typeName="google.protobuf.UInt64Value";Lo.fields=Re.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);Lo.fieldWrapper={wrapField(r){return new Lo({value:r})},unwrapField(r){return r.value}};br.UInt64Value=Lo;var ko=class extends Af.Message{constructor(e){super(),this.value=0,Re.proto3.util.initPartial(e,this)}toJson(e){return Re.proto3.json.writeScalar(zr.ScalarType.INT32,this.value,!0)}fromJson(e,t){try{this.value=Re.proto3.json.readScalar(zr.ScalarType.INT32,e)}catch(n){let i='cannot decode message google.protobuf.Int32Value from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new ko().fromBinary(e,t)}static fromJson(e,t){return new ko().fromJson(e,t)}static fromJsonString(e,t){return new ko().fromJsonString(e,t)}static equals(e,t){return Re.proto3.util.equals(ko,e,t)}};ko.runtime=Re.proto3;ko.typeName="google.protobuf.Int32Value";ko.fields=Re.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);ko.fieldWrapper={wrapField(r){return new ko({value:r})},unwrapField(r){return r.value}};br.Int32Value=ko;var jo=class extends Af.Message{constructor(e){super(),this.value=0,Re.proto3.util.initPartial(e,this)}toJson(e){return Re.proto3.json.writeScalar(zr.ScalarType.UINT32,this.value,!0)}fromJson(e,t){try{this.value=Re.proto3.json.readScalar(zr.ScalarType.UINT32,e)}catch(n){let i='cannot decode message google.protobuf.UInt32Value from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new jo().fromBinary(e,t)}static fromJson(e,t){return new jo().fromJson(e,t)}static fromJsonString(e,t){return new jo().fromJsonString(e,t)}static equals(e,t){return Re.proto3.util.equals(jo,e,t)}};jo.runtime=Re.proto3;jo.typeName="google.protobuf.UInt32Value";jo.fields=Re.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);jo.fieldWrapper={wrapField(r){return new jo({value:r})},unwrapField(r){return r.value}};br.UInt32Value=jo;var Ho=class extends Af.Message{constructor(e){super(),this.value=!1,Re.proto3.util.initPartial(e,this)}toJson(e){return Re.proto3.json.writeScalar(zr.ScalarType.BOOL,this.value,!0)}fromJson(e,t){try{this.value=Re.proto3.json.readScalar(zr.ScalarType.BOOL,e)}catch(n){let i='cannot decode message google.protobuf.BoolValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new Ho().fromBinary(e,t)}static fromJson(e,t){return new Ho().fromJson(e,t)}static fromJsonString(e,t){return new Ho().fromJsonString(e,t)}static equals(e,t){return Re.proto3.util.equals(Ho,e,t)}};Ho.runtime=Re.proto3;Ho.typeName="google.protobuf.BoolValue";Ho.fields=Re.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);Ho.fieldWrapper={wrapField(r){return new Ho({value:r})},unwrapField(r){return r.value}};br.BoolValue=Ho;var Ko=class extends Af.Message{constructor(e){super(),this.value="",Re.proto3.util.initPartial(e,this)}toJson(e){return Re.proto3.json.writeScalar(zr.ScalarType.STRING,this.value,!0)}fromJson(e,t){try{this.value=Re.proto3.json.readScalar(zr.ScalarType.STRING,e)}catch(n){let i='cannot decode message google.protobuf.StringValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new Ko().fromBinary(e,t)}static fromJson(e,t){return new Ko().fromJson(e,t)}static fromJsonString(e,t){return new Ko().fromJsonString(e,t)}static equals(e,t){return Re.proto3.util.equals(Ko,e,t)}};Ko.runtime=Re.proto3;Ko.typeName="google.protobuf.StringValue";Ko.fields=Re.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);Ko.fieldWrapper={wrapField(r){return new Ko({value:r})},unwrapField(r){return r.value}};br.StringValue=Ko;var Vo=class extends Af.Message{constructor(e){super(),this.value=new Uint8Array(0),Re.proto3.util.initPartial(e,this)}toJson(e){return Re.proto3.json.writeScalar(zr.ScalarType.BYTES,this.value,!0)}fromJson(e,t){try{this.value=Re.proto3.json.readScalar(zr.ScalarType.BYTES,e)}catch(n){let i='cannot decode message google.protobuf.BytesValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new Vo().fromBinary(e,t)}static fromJson(e,t){return new Vo().fromJson(e,t)}static fromJsonString(e,t){return new Vo().fromJsonString(e,t)}static equals(e,t){return Re.proto3.util.equals(Vo,e,t)}};Vo.runtime=Re.proto3;Vo.typeName="google.protobuf.BytesValue";Vo.fields=Re.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);Vo.fieldWrapper={wrapField(r){return new Vo({value:r})},unwrapField(r){return r.value}};br.BytesValue=Vo});var Hq=b(Q3=>{"use strict";d();h();Object.defineProperty(Q3,"__esModule",{value:!0});Q3.createRegistryFromDescriptors=void 0;var j1=Es(),Lq=Do(),kq=Iy(),gS=ld(),doe=sS(),jq=fS(),hoe=z3(),poe=cS(),goe=lS(),Z3=hS(),yoe=s3(),Of=pS(),moe=Ty(),voe=oS(),xoe=[hoe.Any,jq.Duration,poe.Empty,goe.FieldMask,Z3.Struct,Z3.Value,Z3.ListValue,doe.Timestamp,jq.Duration,Of.DoubleValue,Of.FloatValue,Of.Int64Value,Of.Int32Value,Of.UInt32Value,Of.UInt64Value,Of.BoolValue,Of.StringValue,Of.BytesValue],_oe=[(0,yoe.getEnumType)(Z3.NullValue)];function woe(r,e=!0){let t=r instanceof Uint8Array||r instanceof moe.FileDescriptorSet?(0,voe.createDescriptorSet)(r):r,n={},i={},o={};if(e){for(let a of xoe)i[a.typeName]=a;for(let a of _oe)n[a.typeName]=a}return{findEnum(a){let s=n[a];if(s)return s;let u=t.enums.get(a);if(!u)return;let l=(u.file.syntax=="proto3"?Lq.proto3:kq.proto2).makeEnumType(a,u.values.map(p=>({no:p.number,name:p.name,localName:(0,gS.localName)(p)})),{});return n[a]=l,l},findMessage(a){let s=i[a];if(s)return s;let u=t.messages.get(a);if(!u)return;let f=u.file.syntax=="proto3"?Lq.proto3:kq.proto2,l=[],p=f.makeMessageType(a,()=>l,{localName:(0,gS.localName)(u)});i[a]=p;for(let g of u.fields){let v=Eoe(g,this);l.push(v)}return p},findService(a){let s=o[a];if(s)return s;let u=t.services.get(a);if(!u)return;let f={};for(let l of u.methods){let p=this.findMessage(l.input.typeName),g=this.findMessage(l.output.typeName);(0,j1.assert)(p,`message "${l.input.typeName}" for ${l.toString()} not found`),(0,j1.assert)(g,`output message "${l.output.typeName}" for ${l.toString()} not found`),f[(0,gS.localName)(l)]={name:l.name,I:p,O:g,kind:l.methodKind,idempotency:l.idempotency}}return o[a]={typeName:u.typeName,methods:f}}}}Q3.createRegistryFromDescriptors=woe;function Eoe(r,e){switch(r.fieldKind){case"map":return boe(r,e);case"message":return Toe(r,e);case"enum":{let t=Soe(r,e);return t.default=r.getDefaultValue(),t}case"scalar":{let t=Ioe(r);return t.default=r.getDefaultValue(),t}}}function boe(r,e){let t={kind:"map",no:r.number,name:r.name,jsonName:r.jsonName,K:r.mapKey};if(r.mapValue.message){let n=e.findMessage(r.mapValue.message.typeName);return(0,j1.assert)(n,`message "${r.mapValue.message.typeName}" for ${r.toString()} not found`),Object.assign(Object.assign({},t),{V:{kind:"message",T:n}})}if(r.mapValue.enum){let n=e.findEnum(r.mapValue.enum.typeName);return(0,j1.assert)(n,`enum "${r.mapValue.enum.typeName}" for ${r.toString()} not found`),Object.assign(Object.assign({},t),{V:{kind:"enum",T:n}})}return Object.assign(Object.assign({},t),{V:{kind:"scalar",T:r.mapValue.scalar}})}function Ioe(r){let e={kind:"scalar",no:r.number,name:r.name,jsonName:r.jsonName,T:r.scalar};return r.repeated?Object.assign(Object.assign({},e),{repeated:!0,packed:r.packed,oneof:void 0,T:r.scalar}):r.oneof?Object.assign(Object.assign({},e),{oneof:r.oneof.name}):r.optional?Object.assign(Object.assign({},e),{opt:!0}):e}function Toe(r,e){let t=e.findMessage(r.message.typeName);(0,j1.assert)(t,`message "${r.message.typeName}" for ${r.toString()} not found`);let n={kind:"message",no:r.number,name:r.name,jsonName:r.jsonName,T:t};return r.repeated?Object.assign(Object.assign({},n),{repeated:!0,packed:r.packed,oneof:void 0}):r.oneof?Object.assign(Object.assign({},n),{oneof:r.oneof.name}):r.optional?Object.assign(Object.assign({},n),{opt:!0}):n}function Soe(r,e){let t=e.findEnum(r.enum.typeName);(0,j1.assert)(t,`enum "${r.enum.typeName}" for ${r.toString()} not found`);let n={kind:"enum",no:r.number,name:r.name,jsonName:r.jsonName,T:t};return r.repeated?Object.assign(Object.assign({},n),{repeated:!0,packed:r.packed,oneof:void 0}):r.oneof?Object.assign(Object.assign({},n),{oneof:r.oneof.name}):r.optional?Object.assign(Object.assign({},n),{opt:!0}):n}});var Gq=b(Go=>{"use strict";d();h();Object.defineProperty(Go,"__esModule",{value:!0});Go.CodeGeneratorResponse_File=Go.CodeGeneratorResponse_Feature=Go.CodeGeneratorResponse=Go.CodeGeneratorRequest=Go.Version=void 0;var ew=Mr(),cn=Iy(),Kq=Ty(),Na=class extends ew.Message{constructor(e){super(),cn.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Na().fromBinary(e,t)}static fromJson(e,t){return new Na().fromJson(e,t)}static fromJsonString(e,t){return new Na().fromJsonString(e,t)}static equals(e,t){return cn.proto2.util.equals(Na,e,t)}};Na.runtime=cn.proto2;Na.typeName="google.protobuf.compiler.Version";Na.fields=cn.proto2.util.newFieldList(()=>[{no:1,name:"major",kind:"scalar",T:5,opt:!0},{no:2,name:"minor",kind:"scalar",T:5,opt:!0},{no:3,name:"patch",kind:"scalar",T:5,opt:!0},{no:4,name:"suffix",kind:"scalar",T:9,opt:!0}]);Go.Version=Na;var Os=class extends ew.Message{constructor(e){super(),this.fileToGenerate=[],this.protoFile=[],cn.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Os().fromBinary(e,t)}static fromJson(e,t){return new Os().fromJson(e,t)}static fromJsonString(e,t){return new Os().fromJsonString(e,t)}static equals(e,t){return cn.proto2.util.equals(Os,e,t)}};Os.runtime=cn.proto2;Os.typeName="google.protobuf.compiler.CodeGeneratorRequest";Os.fields=cn.proto2.util.newFieldList(()=>[{no:1,name:"file_to_generate",kind:"scalar",T:9,repeated:!0},{no:2,name:"parameter",kind:"scalar",T:9,opt:!0},{no:15,name:"proto_file",kind:"message",T:Kq.FileDescriptorProto,repeated:!0},{no:3,name:"compiler_version",kind:"message",T:Na,opt:!0}]);Go.CodeGeneratorRequest=Os;var Ds=class extends ew.Message{constructor(e){super(),this.file=[],cn.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Ds().fromBinary(e,t)}static fromJson(e,t){return new Ds().fromJson(e,t)}static fromJsonString(e,t){return new Ds().fromJsonString(e,t)}static equals(e,t){return cn.proto2.util.equals(Ds,e,t)}};Ds.runtime=cn.proto2;Ds.typeName="google.protobuf.compiler.CodeGeneratorResponse";Ds.fields=cn.proto2.util.newFieldList(()=>[{no:1,name:"error",kind:"scalar",T:9,opt:!0},{no:2,name:"supported_features",kind:"scalar",T:4,opt:!0},{no:15,name:"file",kind:"message",T:Ma,repeated:!0}]);Go.CodeGeneratorResponse=Ds;var Vq;(function(r){r[r.NONE=0]="NONE",r[r.PROTO3_OPTIONAL=1]="PROTO3_OPTIONAL"})(Vq=Go.CodeGeneratorResponse_Feature||(Go.CodeGeneratorResponse_Feature={}));cn.proto2.util.setEnumType(Vq,"google.protobuf.compiler.CodeGeneratorResponse.Feature",[{no:0,name:"FEATURE_NONE"},{no:1,name:"FEATURE_PROTO3_OPTIONAL"}]);var Ma=class extends ew.Message{constructor(e){super(),cn.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Ma().fromBinary(e,t)}static fromJson(e,t){return new Ma().fromJson(e,t)}static fromJsonString(e,t){return new Ma().fromJsonString(e,t)}static equals(e,t){return cn.proto2.util.equals(Ma,e,t)}};Ma.runtime=cn.proto2;Ma.typeName="google.protobuf.compiler.CodeGeneratorResponse.File";Ma.fields=cn.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"insertion_point",kind:"scalar",T:9,opt:!0},{no:15,name:"content",kind:"scalar",T:9,opt:!0},{no:16,name:"generated_code_info",kind:"message",T:Kq.GeneratedCodeInfo,opt:!0}]);Go.CodeGeneratorResponse_File=Ma});var nw=b(rw=>{"use strict";d();h();Object.defineProperty(rw,"__esModule",{value:!0});rw.SourceContext=void 0;var Coe=Mr(),tw=Do(),Rs=class extends Coe.Message{constructor(e){super(),this.fileName="",tw.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Rs().fromBinary(e,t)}static fromJson(e,t){return new Rs().fromJson(e,t)}static fromJsonString(e,t){return new Rs().fromJsonString(e,t)}static equals(e,t){return tw.proto3.util.equals(Rs,e,t)}};Rs.runtime=tw.proto3;Rs.typeName="google.protobuf.SourceContext";Rs.fields=tw.proto3.util.newFieldList(()=>[{no:1,name:"file_name",kind:"scalar",T:9}]);rw.SourceContext=Rs});var yS=b(hr=>{"use strict";d();h();Object.defineProperty(hr,"__esModule",{value:!0});hr.Option=hr.EnumValue=hr.Enum=hr.Field_Cardinality=hr.Field_Kind=hr.Field=hr.Type=hr.Syntax=void 0;var Ct=Do(),Ay=Mr(),Yq=nw(),Aoe=z3(),H1;(function(r){r[r.PROTO2=0]="PROTO2",r[r.PROTO3=1]="PROTO3",r[r.EDITIONS=2]="EDITIONS"})(H1=hr.Syntax||(hr.Syntax={}));Ct.proto3.util.setEnumType(H1,"google.protobuf.Syntax",[{no:0,name:"SYNTAX_PROTO2"},{no:1,name:"SYNTAX_PROTO3"},{no:2,name:"SYNTAX_EDITIONS"}]);var Ps=class extends Ay.Message{constructor(e){super(),this.name="",this.fields=[],this.oneofs=[],this.options=[],this.syntax=H1.PROTO2,this.edition="",Ct.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ps().fromBinary(e,t)}static fromJson(e,t){return new Ps().fromJson(e,t)}static fromJsonString(e,t){return new Ps().fromJsonString(e,t)}static equals(e,t){return Ct.proto3.util.equals(Ps,e,t)}};Ps.runtime=Ct.proto3;Ps.typeName="google.protobuf.Type";Ps.fields=Ct.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"fields",kind:"message",T:qa,repeated:!0},{no:3,name:"oneofs",kind:"scalar",T:9,repeated:!0},{no:4,name:"options",kind:"message",T:Hi,repeated:!0},{no:5,name:"source_context",kind:"message",T:Yq.SourceContext},{no:6,name:"syntax",kind:"enum",T:Ct.proto3.getEnumType(H1)},{no:7,name:"edition",kind:"scalar",T:9}]);hr.Type=Ps;var qa=class extends Ay.Message{constructor(e){super(),this.kind=iw.TYPE_UNKNOWN,this.cardinality=ow.UNKNOWN,this.number=0,this.name="",this.typeUrl="",this.oneofIndex=0,this.packed=!1,this.options=[],this.jsonName="",this.defaultValue="",Ct.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new qa().fromBinary(e,t)}static fromJson(e,t){return new qa().fromJson(e,t)}static fromJsonString(e,t){return new qa().fromJsonString(e,t)}static equals(e,t){return Ct.proto3.util.equals(qa,e,t)}};qa.runtime=Ct.proto3;qa.typeName="google.protobuf.Field";qa.fields=Ct.proto3.util.newFieldList(()=>[{no:1,name:"kind",kind:"enum",T:Ct.proto3.getEnumType(iw)},{no:2,name:"cardinality",kind:"enum",T:Ct.proto3.getEnumType(ow)},{no:3,name:"number",kind:"scalar",T:5},{no:4,name:"name",kind:"scalar",T:9},{no:6,name:"type_url",kind:"scalar",T:9},{no:7,name:"oneof_index",kind:"scalar",T:5},{no:8,name:"packed",kind:"scalar",T:8},{no:9,name:"options",kind:"message",T:Hi,repeated:!0},{no:10,name:"json_name",kind:"scalar",T:9},{no:11,name:"default_value",kind:"scalar",T:9}]);hr.Field=qa;var iw;(function(r){r[r.TYPE_UNKNOWN=0]="TYPE_UNKNOWN",r[r.TYPE_DOUBLE=1]="TYPE_DOUBLE",r[r.TYPE_FLOAT=2]="TYPE_FLOAT",r[r.TYPE_INT64=3]="TYPE_INT64",r[r.TYPE_UINT64=4]="TYPE_UINT64",r[r.TYPE_INT32=5]="TYPE_INT32",r[r.TYPE_FIXED64=6]="TYPE_FIXED64",r[r.TYPE_FIXED32=7]="TYPE_FIXED32",r[r.TYPE_BOOL=8]="TYPE_BOOL",r[r.TYPE_STRING=9]="TYPE_STRING",r[r.TYPE_GROUP=10]="TYPE_GROUP",r[r.TYPE_MESSAGE=11]="TYPE_MESSAGE",r[r.TYPE_BYTES=12]="TYPE_BYTES",r[r.TYPE_UINT32=13]="TYPE_UINT32",r[r.TYPE_ENUM=14]="TYPE_ENUM",r[r.TYPE_SFIXED32=15]="TYPE_SFIXED32",r[r.TYPE_SFIXED64=16]="TYPE_SFIXED64",r[r.TYPE_SINT32=17]="TYPE_SINT32",r[r.TYPE_SINT64=18]="TYPE_SINT64"})(iw=hr.Field_Kind||(hr.Field_Kind={}));Ct.proto3.util.setEnumType(iw,"google.protobuf.Field.Kind",[{no:0,name:"TYPE_UNKNOWN"},{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var ow;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.OPTIONAL=1]="OPTIONAL",r[r.REQUIRED=2]="REQUIRED",r[r.REPEATED=3]="REPEATED"})(ow=hr.Field_Cardinality||(hr.Field_Cardinality={}));Ct.proto3.util.setEnumType(ow,"google.protobuf.Field.Cardinality",[{no:0,name:"CARDINALITY_UNKNOWN"},{no:1,name:"CARDINALITY_OPTIONAL"},{no:2,name:"CARDINALITY_REQUIRED"},{no:3,name:"CARDINALITY_REPEATED"}]);var Bs=class extends Ay.Message{constructor(e){super(),this.name="",this.enumvalue=[],this.options=[],this.syntax=H1.PROTO2,this.edition="",Ct.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Bs().fromBinary(e,t)}static fromJson(e,t){return new Bs().fromJson(e,t)}static fromJsonString(e,t){return new Bs().fromJsonString(e,t)}static equals(e,t){return Ct.proto3.util.equals(Bs,e,t)}};Bs.runtime=Ct.proto3;Bs.typeName="google.protobuf.Enum";Bs.fields=Ct.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"enumvalue",kind:"message",T:Fa,repeated:!0},{no:3,name:"options",kind:"message",T:Hi,repeated:!0},{no:4,name:"source_context",kind:"message",T:Yq.SourceContext},{no:5,name:"syntax",kind:"enum",T:Ct.proto3.getEnumType(H1)},{no:6,name:"edition",kind:"scalar",T:9}]);hr.Enum=Bs;var Fa=class extends Ay.Message{constructor(e){super(),this.name="",this.number=0,this.options=[],Ct.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Fa().fromBinary(e,t)}static fromJson(e,t){return new Fa().fromJson(e,t)}static fromJsonString(e,t){return new Fa().fromJsonString(e,t)}static equals(e,t){return Ct.proto3.util.equals(Fa,e,t)}};Fa.runtime=Ct.proto3;Fa.typeName="google.protobuf.EnumValue";Fa.fields=Ct.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"number",kind:"scalar",T:5},{no:3,name:"options",kind:"message",T:Hi,repeated:!0}]);hr.EnumValue=Fa;var Hi=class extends Ay.Message{constructor(e){super(),this.name="",Ct.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Hi().fromBinary(e,t)}static fromJson(e,t){return new Hi().fromJson(e,t)}static fromJsonString(e,t){return new Hi().fromJsonString(e,t)}static equals(e,t){return Ct.proto3.util.equals(Hi,e,t)}};Hi.runtime=Ct.proto3;Hi.typeName="google.protobuf.Option";Hi.fields=Ct.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"value",kind:"message",T:Aoe.Any}]);hr.Option=Hi});var zq=b(n0=>{"use strict";d();h();Object.defineProperty(n0,"__esModule",{value:!0});n0.Mixin=n0.Method=n0.Api=void 0;var mS=Mr(),K1=yS(),Ooe=nw(),lo=Do(),Ns=class extends mS.Message{constructor(e){super(),this.name="",this.methods=[],this.options=[],this.version="",this.mixins=[],this.syntax=K1.Syntax.PROTO2,lo.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ns().fromBinary(e,t)}static fromJson(e,t){return new Ns().fromJson(e,t)}static fromJsonString(e,t){return new Ns().fromJsonString(e,t)}static equals(e,t){return lo.proto3.util.equals(Ns,e,t)}};Ns.runtime=lo.proto3;Ns.typeName="google.protobuf.Api";Ns.fields=lo.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"methods",kind:"message",T:Ua,repeated:!0},{no:3,name:"options",kind:"message",T:K1.Option,repeated:!0},{no:4,name:"version",kind:"scalar",T:9},{no:5,name:"source_context",kind:"message",T:Ooe.SourceContext},{no:6,name:"mixins",kind:"message",T:La,repeated:!0},{no:7,name:"syntax",kind:"enum",T:lo.proto3.getEnumType(K1.Syntax)}]);n0.Api=Ns;var Ua=class extends mS.Message{constructor(e){super(),this.name="",this.requestTypeUrl="",this.requestStreaming=!1,this.responseTypeUrl="",this.responseStreaming=!1,this.options=[],this.syntax=K1.Syntax.PROTO2,lo.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ua().fromBinary(e,t)}static fromJson(e,t){return new Ua().fromJson(e,t)}static fromJsonString(e,t){return new Ua().fromJsonString(e,t)}static equals(e,t){return lo.proto3.util.equals(Ua,e,t)}};Ua.runtime=lo.proto3;Ua.typeName="google.protobuf.Method";Ua.fields=lo.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"request_type_url",kind:"scalar",T:9},{no:3,name:"request_streaming",kind:"scalar",T:8},{no:4,name:"response_type_url",kind:"scalar",T:9},{no:5,name:"response_streaming",kind:"scalar",T:8},{no:6,name:"options",kind:"message",T:K1.Option,repeated:!0},{no:7,name:"syntax",kind:"enum",T:lo.proto3.getEnumType(K1.Syntax)}]);n0.Method=Ua;var La=class extends mS.Message{constructor(e){super(),this.name="",this.root="",lo.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new La().fromBinary(e,t)}static fromJson(e,t){return new La().fromJson(e,t)}static fromJsonString(e,t){return new La().fromJsonString(e,t)}static equals(e,t){return lo.proto3.util.equals(La,e,t)}};La.runtime=lo.proto3;La.typeName="google.protobuf.Mixin";La.fields=lo.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"root",kind:"scalar",T:9}]);n0.Mixin=La});var ja=b(Be=>{"use strict";d();h();var Doe=Be&&Be.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ka=Be&&Be.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Doe(e,r,t)};Object.defineProperty(Be,"__esModule",{value:!0});Be.createRegistryFromDescriptors=Be.createRegistry=Be.createDescriptorSet=Be.BinaryReader=Be.BinaryWriter=Be.WireType=Be.MethodIdempotency=Be.MethodKind=Be.ScalarType=Be.Message=Be.codegenInfo=Be.protoDelimited=Be.protoBase64=Be.protoInt64=Be.proto2=Be.proto3=void 0;var Roe=Do();Object.defineProperty(Be,"proto3",{enumerable:!0,get:function(){return Roe.proto3}});var Poe=Iy();Object.defineProperty(Be,"proto2",{enumerable:!0,get:function(){return Poe.proto2}});var Boe=Ef();Object.defineProperty(Be,"protoInt64",{enumerable:!0,get:function(){return Boe.protoInt64}});var Noe=UT();Object.defineProperty(Be,"protoBase64",{enumerable:!0,get:function(){return Noe.protoBase64}});var Moe=Cq();Object.defineProperty(Be,"protoDelimited",{enumerable:!0,get:function(){return Moe.protoDelimited}});var qoe=Oq();Object.defineProperty(Be,"codegenInfo",{enumerable:!0,get:function(){return qoe.codegenInfo}});var Foe=Mr();Object.defineProperty(Be,"Message",{enumerable:!0,get:function(){return Foe.Message}});var Uoe=Oo();Object.defineProperty(Be,"ScalarType",{enumerable:!0,get:function(){return Uoe.ScalarType}});var Wq=$T();Object.defineProperty(Be,"MethodKind",{enumerable:!0,get:function(){return Wq.MethodKind}});Object.defineProperty(Be,"MethodIdempotency",{enumerable:!0,get:function(){return Wq.MethodIdempotency}});var vS=xy();Object.defineProperty(Be,"WireType",{enumerable:!0,get:function(){return vS.WireType}});Object.defineProperty(Be,"BinaryWriter",{enumerable:!0,get:function(){return vS.BinaryWriter}});Object.defineProperty(Be,"BinaryReader",{enumerable:!0,get:function(){return vS.BinaryReader}});var Loe=oS();Object.defineProperty(Be,"createDescriptorSet",{enumerable:!0,get:function(){return Loe.createDescriptorSet}});var koe=Fq();Object.defineProperty(Be,"createRegistry",{enumerable:!0,get:function(){return koe.createRegistry}});var joe=Hq();Object.defineProperty(Be,"createRegistryFromDescriptors",{enumerable:!0,get:function(){return joe.createRegistryFromDescriptors}});ka(Gq(),Be);ka(zq(),Be);ka(z3(),Be);ka(Ty(),Be);ka(fS(),Be);ka(cS(),Be);ka(lS(),Be);ka(nw(),Be);ka(hS(),Be);ka(sS(),Be);ka(yS(),Be);ka(pS(),Be)});var Xq=b(i0=>{"use strict";d();h();Object.defineProperty(i0,"__esModule",{value:!0});i0.TriggerSmartContract=i0.TransferAssetContract=i0.TransferContract=void 0;var Ir=ja(),Ms=class extends Ir.Message{constructor(e){super(),this.ownerAddress=new Uint8Array(0),this.toAddress=new Uint8Array(0),this.amount=Ir.protoInt64.zero,Ir.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ms().fromBinary(e,t)}static fromJson(e,t){return new Ms().fromJson(e,t)}static fromJsonString(e,t){return new Ms().fromJsonString(e,t)}static equals(e,t){return Ir.proto3.util.equals(Ms,e,t)}};Ms.runtime=Ir.proto3;Ms.typeName="protocol.TransferContract";Ms.fields=Ir.proto3.util.newFieldList(()=>[{no:1,name:"owner_address",kind:"scalar",T:12},{no:2,name:"to_address",kind:"scalar",T:12},{no:3,name:"amount",kind:"scalar",T:3}]);i0.TransferContract=Ms;var qs=class extends Ir.Message{constructor(e){super(),this.assetName=new Uint8Array(0),this.ownerAddress=new Uint8Array(0),this.toAddress=new Uint8Array(0),this.amount=Ir.protoInt64.zero,Ir.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new qs().fromBinary(e,t)}static fromJson(e,t){return new qs().fromJson(e,t)}static fromJsonString(e,t){return new qs().fromJsonString(e,t)}static equals(e,t){return Ir.proto3.util.equals(qs,e,t)}};qs.runtime=Ir.proto3;qs.typeName="protocol.TransferAssetContract";qs.fields=Ir.proto3.util.newFieldList(()=>[{no:1,name:"asset_name",kind:"scalar",T:12},{no:2,name:"owner_address",kind:"scalar",T:12},{no:3,name:"to_address",kind:"scalar",T:12},{no:4,name:"amount",kind:"scalar",T:3}]);i0.TransferAssetContract=qs;var Fs=class extends Ir.Message{constructor(e){super(),this.ownerAddress=new Uint8Array(0),this.contractAddress=new Uint8Array(0),this.callValue=Ir.protoInt64.zero,this.data=new Uint8Array(0),this.callTokenValue=Ir.protoInt64.zero,this.tokenId=Ir.protoInt64.zero,Ir.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Fs().fromBinary(e,t)}static fromJson(e,t){return new Fs().fromJson(e,t)}static fromJsonString(e,t){return new Fs().fromJsonString(e,t)}static equals(e,t){return Ir.proto3.util.equals(Fs,e,t)}};Fs.runtime=Ir.proto3;Fs.typeName="protocol.TriggerSmartContract";Fs.fields=Ir.proto3.util.newFieldList(()=>[{no:1,name:"owner_address",kind:"scalar",T:12},{no:2,name:"contract_address",kind:"scalar",T:12},{no:3,name:"call_value",kind:"scalar",T:3},{no:4,name:"data",kind:"scalar",T:12},{no:5,name:"call_token_value",kind:"scalar",T:3},{no:6,name:"token_id",kind:"scalar",T:3}]);i0.TriggerSmartContract=Fs});var xS=b(Ki=>{"use strict";d();h();Object.defineProperty(Ki,"__esModule",{value:!0});Ki.Transaction_raw=Ki.Transaction_Contract_ContractType=Ki.Transaction_Contract=Ki.Transaction=Ki.authority=Ki.AccountId=void 0;var ot=ja(),Ha=class extends ot.Message{constructor(e){super(),this.name=new Uint8Array(0),this.address=new Uint8Array(0),ot.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ha().fromBinary(e,t)}static fromJson(e,t){return new Ha().fromJson(e,t)}static fromJsonString(e,t){return new Ha().fromJsonString(e,t)}static equals(e,t){return ot.proto3.util.equals(Ha,e,t)}};Ha.runtime=ot.proto3;Ha.typeName="protocol.AccountId";Ha.fields=ot.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:12},{no:2,name:"address",kind:"scalar",T:12}]);Ki.AccountId=Ha;var Ka=class extends ot.Message{constructor(e){super(),this.permissionName=new Uint8Array(0),ot.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ka().fromBinary(e,t)}static fromJson(e,t){return new Ka().fromJson(e,t)}static fromJsonString(e,t){return new Ka().fromJsonString(e,t)}static equals(e,t){return ot.proto3.util.equals(Ka,e,t)}};Ka.runtime=ot.proto3;Ka.typeName="protocol.authority";Ka.fields=ot.proto3.util.newFieldList(()=>[{no:1,name:"account",kind:"message",T:Ha},{no:2,name:"permission_name",kind:"scalar",T:12}]);Ki.authority=Ka;var Us=class extends ot.Message{constructor(e){super(),this.signature=[],ot.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Us().fromBinary(e,t)}static fromJson(e,t){return new Us().fromJson(e,t)}static fromJsonString(e,t){return new Us().fromJsonString(e,t)}static equals(e,t){return ot.proto3.util.equals(Us,e,t)}};Us.runtime=ot.proto3;Us.typeName="protocol.Transaction";Us.fields=ot.proto3.util.newFieldList(()=>[{no:1,name:"raw_data",kind:"message",T:Ga},{no:2,name:"signature",kind:"scalar",T:12,repeated:!0}]);Ki.Transaction=Us;var Va=class extends ot.Message{constructor(e){super(),this.type=aw.AccountCreateContract,this.provider=new Uint8Array(0),this.ContractName=new Uint8Array(0),this.PermissionId=0,ot.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Va().fromBinary(e,t)}static fromJson(e,t){return new Va().fromJson(e,t)}static fromJsonString(e,t){return new Va().fromJsonString(e,t)}static equals(e,t){return ot.proto3.util.equals(Va,e,t)}};Va.runtime=ot.proto3;Va.typeName="protocol.Transaction.Contract";Va.fields=ot.proto3.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:ot.proto3.getEnumType(aw)},{no:2,name:"parameter",kind:"message",T:ot.Any},{no:3,name:"provider",kind:"scalar",T:12},{no:4,name:"ContractName",kind:"scalar",T:12},{no:5,name:"Permission_id",kind:"scalar",T:5}]);Ki.Transaction_Contract=Va;var aw;(function(r){r[r.AccountCreateContract=0]="AccountCreateContract",r[r.TransferContract=1]="TransferContract",r[r.TransferAssetContract=2]="TransferAssetContract",r[r.TriggerSmartContract=31]="TriggerSmartContract"})(aw=Ki.Transaction_Contract_ContractType||(Ki.Transaction_Contract_ContractType={}));ot.proto3.util.setEnumType(aw,"protocol.Transaction.Contract.ContractType",[{no:0,name:"AccountCreateContract"},{no:1,name:"TransferContract"},{no:2,name:"TransferAssetContract"},{no:31,name:"TriggerSmartContract"}]);var Ga=class extends ot.Message{constructor(e){super(),this.refBlockBytes=new Uint8Array(0),this.refBlockNum=ot.protoInt64.zero,this.refBlockHash=new Uint8Array(0),this.expiration=ot.protoInt64.zero,this.auths=[],this.data=new Uint8Array(0),this.contract=[],this.scripts=new Uint8Array(0),this.timestamp=ot.protoInt64.zero,this.feeLimit=ot.protoInt64.zero,ot.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ga().fromBinary(e,t)}static fromJson(e,t){return new Ga().fromJson(e,t)}static fromJsonString(e,t){return new Ga().fromJsonString(e,t)}static equals(e,t){return ot.proto3.util.equals(Ga,e,t)}};Ga.runtime=ot.proto3;Ga.typeName="protocol.Transaction.raw";Ga.fields=ot.proto3.util.newFieldList(()=>[{no:1,name:"ref_block_bytes",kind:"scalar",T:12},{no:3,name:"ref_block_num",kind:"scalar",T:3},{no:4,name:"ref_block_hash",kind:"scalar",T:12},{no:8,name:"expiration",kind:"scalar",T:3},{no:9,name:"auths",kind:"message",T:Ka,repeated:!0},{no:10,name:"data",kind:"scalar",T:12},{no:11,name:"contract",kind:"message",T:Va,repeated:!0},{no:12,name:"scripts",kind:"scalar",T:12},{no:14,name:"timestamp",kind:"scalar",T:3},{no:18,name:"fee_limit",kind:"scalar",T:3}]);Ki.Transaction_raw=Ga});var _S=b(o0=>{"use strict";d();h();Object.defineProperty(o0,"__esModule",{value:!0});o0.TronTx=o0.Override=o0.LatestBlock=void 0;var Zn=ja(),Ya=class extends Zn.Message{constructor(e){super(),this.hash="",this.number=0,this.timestamp=Zn.protoInt64.zero,Zn.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ya().fromBinary(e,t)}static fromJson(e,t){return new Ya().fromJson(e,t)}static fromJsonString(e,t){return new Ya().fromJsonString(e,t)}static equals(e,t){return Zn.proto3.util.equals(Ya,e,t)}};Ya.runtime=Zn.proto3;Ya.typeName="protoc.LatestBlock";Ya.fields=Zn.proto3.util.newFieldList(()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"number",kind:"scalar",T:5},{no:3,name:"timestamp",kind:"scalar",T:3}]);o0.LatestBlock=Ya;var za=class extends Zn.Message{constructor(e){super(),this.tokenShortName="",this.tokenFullName="",this.decimals=0,Zn.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new za().fromBinary(e,t)}static fromJson(e,t){return new za().fromJson(e,t)}static fromJsonString(e,t){return new za().fromJsonString(e,t)}static equals(e,t){return Zn.proto3.util.equals(za,e,t)}};za.runtime=Zn.proto3;za.typeName="protoc.Override";za.fields=Zn.proto3.util.newFieldList(()=>[{no:1,name:"tokenShortName",kind:"scalar",T:9},{no:2,name:"tokenFullName",kind:"scalar",T:9},{no:3,name:"decimals",kind:"scalar",T:5}]);o0.Override=za;var Ls=class extends Zn.Message{constructor(e){super(),this.token="",this.contractAddress="",this.from="",this.to="",this.memo="",this.value="",this.fee=0,Zn.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ls().fromBinary(e,t)}static fromJson(e,t){return new Ls().fromJson(e,t)}static fromJsonString(e,t){return new Ls().fromJsonString(e,t)}static equals(e,t){return Zn.proto3.util.equals(Ls,e,t)}};Ls.runtime=Zn.proto3;Ls.typeName="protoc.TronTx";Ls.fields=Zn.proto3.util.newFieldList(()=>[{no:1,name:"token",kind:"scalar",T:9},{no:2,name:"contractAddress",kind:"scalar",T:9},{no:3,name:"from",kind:"scalar",T:9},{no:4,name:"to",kind:"scalar",T:9},{no:5,name:"memo",kind:"scalar",T:9},{no:6,name:"value",kind:"scalar",T:9},{no:7,name:"latestBlock",kind:"message",T:Ya},{no:8,name:"override",kind:"message",T:za},{no:9,name:"fee",kind:"scalar",T:5}]);o0.TronTx=Ls});var $q=b(V1=>{"use strict";d();h();var Hoe=V1&&V1.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(V1,"__esModule",{value:!0});V1.raw2tx=void 0;var Koe=Hoe(ZM()),wS=Xq(),sw=xS(),Jq=Qr(),uw=_S();function pd(r){return Koe.default.encode(r)}function Voe(r,e){let t;try{t=sw.Transaction_raw.fromBinary(r)}catch{throw new Error("Sign data is invalid")}let n=e!==void 0?{decimals:e.decimals,tokenFullName:e.name,tokenShortName:e.symbol}:null,i=m.Buffer.from([...new Uint8Array(8).fill(0),...t.refBlockHash,...new Uint8Array(16).fill(0)]),o=new uw.LatestBlock({hash:(0,Jq.toHex)(i),number:Number(`0x${(0,Jq.toHex)(t.refBlockBytes.slice(0,2))}`),timestamp:BigInt(Number(t.expiration)-600*5*1e3)}),a=t.contract[0];if(a.parameter===void 0)throw new Error("contract is invalid");let s;switch(a.type){case sw.Transaction_Contract_ContractType.TransferContract:try{s=wS.TransferContract.fromBinary(a.parameter.value)}catch{throw new Error("sign data is invalid")}return new uw.TronTx({fee:Number(t.feeLimit),from:pd(s.ownerAddress),latestBlock:o,to:pd(s.toAddress),token:"TRX",value:s.amount.toString()});case sw.Transaction_Contract_ContractType.TransferAssetContract:try{s=wS.TransferAssetContract.fromBinary(a.parameter.value)}catch{throw new Error("sign data is invalid")}if(n==null)throw new Error("token info is invalid");return new uw.TronTx({fee:Number(t.feeLimit),from:pd(s.ownerAddress),latestBlock:o,override:n,to:pd(s.toAddress),token:m.Buffer.from(s.assetName).toString(),value:s.amount.toString()});case sw.Transaction_Contract_ContractType.TriggerSmartContract:try{s=wS.TriggerSmartContract.fromBinary(a.parameter.value)}catch{throw new Error("sign data is invalid")}if(n==null)throw new Error("token info is invalid");return new uw.TronTx({contractAddress:pd(s.contractAddress),fee:Number(t.feeLimit),from:pd(s.ownerAddress),latestBlock:o,override:n,to:pd(m.Buffer.from([65,...s.data.slice(16,36)])),value:BigInt(`0x${m.Buffer.from(s.data.slice(36,68)).toString("hex")}`).toString()});default:throw new Error("contract is not supported")}}V1.raw2tx=Voe});var fw=b(Wa=>{"use strict";d();h();Object.defineProperty(Wa,"__esModule",{value:!0});Wa.Output=Wa.utxo=Wa.Input=Wa.Omni=Wa.BtcTx=void 0;var yt=ja(),ks=class extends yt.Message{constructor(e){super(),this.fee=yt.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],yt.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new ks().fromBinary(e,t)}static fromJson(e,t){return new ks().fromJson(e,t)}static fromJsonString(e,t){return new ks().fromJsonString(e,t)}static equals(e,t){return yt.proto3.util.equals(ks,e,t)}};ks.runtime=yt.proto3;ks.typeName="protoc.BtcTx";ks.fields=yt.proto3.util.newFieldList(()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:Ja,repeated:!0},{no:5,name:"outputs",kind:"message",T:Za,repeated:!0},{no:6,name:"omni",kind:"message",T:Xa}]);Wa.BtcTx=ks;var Xa=class extends yt.Message{constructor(e){super(),this.to="",this.changeAddress="",this.omniAmount=yt.protoInt64.zero,this.propertyId=0,yt.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Xa().fromBinary(e,t)}static fromJson(e,t){return new Xa().fromJson(e,t)}static fromJsonString(e,t){return new Xa().fromJsonString(e,t)}static equals(e,t){return yt.proto3.util.equals(Xa,e,t)}};Xa.runtime=yt.proto3;Xa.typeName="protoc.Omni";Xa.fields=yt.proto3.util.newFieldList(()=>[{no:5,name:"to",kind:"scalar",T:9},{no:6,name:"changeAddress",kind:"scalar",T:9},{no:7,name:"omniAmount",kind:"scalar",T:3},{no:8,name:"propertyId",kind:"scalar",T:5}]);Wa.Omni=Xa;var Ja=class extends yt.Message{constructor(e){super(),this.hash="",this.index=0,this.ownerKeyPath="",yt.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ja().fromBinary(e,t)}static fromJson(e,t){return new Ja().fromJson(e,t)}static fromJsonString(e,t){return new Ja().fromJsonString(e,t)}static equals(e,t){return yt.proto3.util.equals(Ja,e,t)}};Ja.runtime=yt.proto3;Ja.typeName="protoc.Input";Ja.fields=yt.proto3.util.newFieldList(()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"index",kind:"scalar",T:5},{no:3,name:"utxo",kind:"message",T:$a},{no:4,name:"ownerKeyPath",kind:"scalar",T:9}]);Wa.Input=Ja;var $a=class extends yt.Message{constructor(e){super(),this.publicKey="",this.script="",this.value=yt.protoInt64.zero,yt.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new $a().fromBinary(e,t)}static fromJson(e,t){return new $a().fromJson(e,t)}static fromJsonString(e,t){return new $a().fromJsonString(e,t)}static equals(e,t){return yt.proto3.util.equals($a,e,t)}};$a.runtime=yt.proto3;$a.typeName="protoc.utxo";$a.fields=yt.proto3.util.newFieldList(()=>[{no:1,name:"publicKey",kind:"scalar",T:9},{no:2,name:"script",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:3}]);Wa.utxo=$a;var Za=class extends yt.Message{constructor(e){super(),this.address="",this.value=yt.protoInt64.zero,this.isChange=!1,this.changeAddressPath="",yt.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Za().fromBinary(e,t)}static fromJson(e,t){return new Za().fromJson(e,t)}static fromJsonString(e,t){return new Za().fromJsonString(e,t)}static equals(e,t){return yt.proto3.util.equals(Za,e,t)}};Za.runtime=yt.proto3;Za.typeName="protoc.Output";Za.fields=yt.proto3.util.newFieldList(()=>[{no:1,name:"address",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:3},{no:3,name:"isChange",kind:"scalar",T:8},{no:4,name:"changeAddressPath",kind:"scalar",T:9}]);Wa.Output=Za});var ES=b(G1=>{"use strict";d();h();Object.defineProperty(G1,"__esModule",{value:!0});G1.BchTx_Input=G1.BchTx=void 0;var Qa=ja(),Goe=fw(),js=class extends Qa.Message{constructor(e){super(),this.fee=Qa.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],Qa.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new js().fromBinary(e,t)}static fromJson(e,t){return new js().fromJson(e,t)}static fromJsonString(e,t){return new js().fromJsonString(e,t)}static equals(e,t){return Qa.proto3.util.equals(js,e,t)}};js.runtime=Qa.proto3;js.typeName="protoc.BchTx";js.fields=Qa.proto3.util.newFieldList(()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:es,repeated:!0},{no:5,name:"outputs",kind:"message",T:Goe.Output,repeated:!0}]);G1.BchTx=js;var es=class extends Qa.Message{constructor(e){super(),this.hash="",this.index=0,this.value=Qa.protoInt64.zero,this.pubkey="",this.ownerKeyPath="",Qa.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new es().fromBinary(e,t)}static fromJson(e,t){return new es().fromJson(e,t)}static fromJsonString(e,t){return new es().fromJsonString(e,t)}static equals(e,t){return Qa.proto3.util.equals(es,e,t)}};es.runtime=Qa.proto3;es.typeName="protoc.BchTx.Input";es.fields=Qa.proto3.util.newFieldList(()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"index",kind:"scalar",T:5},{no:3,name:"value",kind:"scalar",T:3},{no:4,name:"pubkey",kind:"scalar",T:9},{no:5,name:"ownerKeyPath",kind:"scalar",T:9}]);G1.BchTx_Input=es});var bS=b(Y1=>{"use strict";d();h();Object.defineProperty(Y1,"__esModule",{value:!0});Y1.DashTx_Input=Y1.DashTx=void 0;var ts=ja(),Yoe=fw(),Hs=class extends ts.Message{constructor(e){super(),this.fee=ts.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],ts.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Hs().fromBinary(e,t)}static fromJson(e,t){return new Hs().fromJson(e,t)}static fromJsonString(e,t){return new Hs().fromJsonString(e,t)}static equals(e,t){return ts.proto3.util.equals(Hs,e,t)}};Hs.runtime=ts.proto3;Hs.typeName="protoc.DashTx";Hs.fields=ts.proto3.util.newFieldList(()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:rs,repeated:!0},{no:5,name:"outputs",kind:"message",T:Yoe.Output,repeated:!0}]);Y1.DashTx=Hs;var rs=class extends ts.Message{constructor(e){super(),this.hash="",this.index=0,this.value=ts.protoInt64.zero,this.pubkey="",this.ownerKeyPath="",ts.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new rs().fromBinary(e,t)}static fromJson(e,t){return new rs().fromJson(e,t)}static fromJsonString(e,t){return new rs().fromJsonString(e,t)}static equals(e,t){return ts.proto3.util.equals(rs,e,t)}};rs.runtime=ts.proto3;rs.typeName="protoc.DashTx.Input";rs.fields=ts.proto3.util.newFieldList(()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"index",kind:"scalar",T:5},{no:3,name:"value",kind:"scalar",T:3},{no:4,name:"pubkey",kind:"scalar",T:9},{no:5,name:"ownerKeyPath",kind:"scalar",T:9}]);Y1.DashTx_Input=rs});var IS=b(cw=>{"use strict";d();h();Object.defineProperty(cw,"__esModule",{value:!0});cw.LtcTx=void 0;var z1=ja(),Zq=fw(),Ks=class extends z1.Message{constructor(e){super(),this.fee=z1.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],z1.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ks().fromBinary(e,t)}static fromJson(e,t){return new Ks().fromJson(e,t)}static fromJsonString(e,t){return new Ks().fromJsonString(e,t)}static equals(e,t){return z1.proto3.util.equals(Ks,e,t)}};Ks.runtime=z1.proto3;Ks.typeName="protoc.LtcTx";Ks.fields=z1.proto3.util.newFieldList(()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:Zq.Input,repeated:!0},{no:5,name:"outputs",kind:"message",T:Zq.Output,repeated:!0}]);cw.LtcTx=Ks});var dw=b(lw=>{"use strict";d();h();Object.defineProperty(lw,"__esModule",{value:!0});lw.SignTransaction=void 0;var W1=ja(),zoe=_S(),Woe=ES(),Xoe=bS(),Joe=IS(),Vs=class extends W1.Message{constructor(e){super(),this.coinCode="",this.signId="",this.hdPath="",this.timestamp=W1.protoInt64.zero,this.decimal=0,this.Transaction={case:void 0},W1.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Vs().fromBinary(e,t)}static fromJson(e,t){return new Vs().fromJson(e,t)}static fromJsonString(e,t){return new Vs().fromJsonString(e,t)}static equals(e,t){return W1.proto3.util.equals(Vs,e,t)}};Vs.runtime=W1.proto3;Vs.typeName="protoc.SignTransaction";Vs.fields=W1.proto3.util.newFieldList(()=>[{no:1,name:"coinCode",kind:"scalar",T:9},{no:2,name:"signId",kind:"scalar",T:9},{no:3,name:"hdPath",kind:"scalar",T:9},{no:4,name:"timestamp",kind:"scalar",T:3},{no:5,name:"decimal",kind:"scalar",T:5},{no:8,name:"tronTx",kind:"message",T:zoe.TronTx,oneof:"Transaction"},{no:10,name:"bchTx",kind:"message",T:Woe.BchTx,oneof:"Transaction"},{no:11,name:"dashTx",kind:"message",T:Xoe.DashTx,oneof:"Transaction"},{no:12,name:"ltcTx",kind:"message",T:Joe.LtcTx,oneof:"Transaction"}]);lw.SignTransaction=Vs});var Qq=b(hw=>{"use strict";d();h();Object.defineProperty(hw,"__esModule",{value:!0});hw.SignTransactionResult=void 0;var Oy=ja(),Gs=class extends Oy.Message{constructor(e){super(),this.signId="",this.txId="",this.rawTx="",Oy.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Gs().fromBinary(e,t)}static fromJson(e,t){return new Gs().fromJson(e,t)}static fromJsonString(e,t){return new Gs().fromJsonString(e,t)}static equals(e,t){return Oy.proto3.util.equals(Gs,e,t)}};Gs.runtime=Oy.proto3;Gs.typeName="protoc.SignTransactionResult";Gs.fields=Oy.proto3.util.newFieldList(()=>[{no:1,name:"signId",kind:"scalar",T:9},{no:2,name:"txId",kind:"scalar",T:9},{no:3,name:"rawTx",kind:"scalar",T:9}]);hw.SignTransactionResult=Gs});var gw=b(yd=>{"use strict";d();h();Object.defineProperty(yd,"__esModule",{value:!0});yd.Payload_Type=yd.Payload=void 0;var gd=ja(),$oe=dw(),Zoe=Qq(),Ys=class extends gd.Message{constructor(e){super(),this.type=pw.RESERVE,this.xfp="",this.Content={case:void 0},gd.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ys().fromBinary(e,t)}static fromJson(e,t){return new Ys().fromJson(e,t)}static fromJsonString(e,t){return new Ys().fromJsonString(e,t)}static equals(e,t){return gd.proto3.util.equals(Ys,e,t)}};Ys.runtime=gd.proto3;Ys.typeName="protoc.Payload";Ys.fields=gd.proto3.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:gd.proto3.getEnumType(pw)},{no:2,name:"xfp",kind:"scalar",T:9},{no:4,name:"signTx",kind:"message",T:$oe.SignTransaction,oneof:"Content"},{no:7,name:"signTxResult",kind:"message",T:Zoe.SignTransactionResult,oneof:"Content"}]);yd.Payload=Ys;var pw;(function(r){r[r.RESERVE=0]="RESERVE",r[r.SYNC=1]="SYNC",r[r.SIGN_TX=2]="SIGN_TX",r[r.SIGN_MSG=3]="SIGN_MSG",r[r.SIGN_MULTI_SIG=4]="SIGN_MULTI_SIG",r[r.SYNC_MULTI_SIG_MSG=5]="SYNC_MULTI_SIG_MSG",r[r.SIGN_ETH_MULTI_SIG_MSG=6]="SIGN_ETH_MULTI_SIG_MSG",r[r.VERIFY_ADDRESS=7]="VERIFY_ADDRESS",r[r.STAKING=8]="STAKING",r[r.SIGN_TX_RESULT=9]="SIGN_TX_RESULT"})(pw=yd.Payload_Type||(yd.Payload_Type={}));gd.proto3.util.setEnumType(pw,"protoc.Payload.Type",[{no:0,name:"TYPE_RESERVE"},{no:1,name:"TYPE_SYNC"},{no:2,name:"TYPE_SIGN_TX"},{no:3,name:"TYPE_SIGN_MSG"},{no:4,name:"TYPE_SIGN_MULTI_SIG"},{no:5,name:"TYPE_SYNC_MULTI_SIG_MSG"},{no:6,name:"TYPE_SIGN_ETH_MULTI_SIG_MSG"},{no:7,name:"TYPE_VERIFY_ADDRESS"},{no:8,name:"TYPE_STAKING"},{no:9,name:"TYPE_SIGN_TX_RESULT"}])});var TS=b(yw=>{"use strict";d();h();Object.defineProperty(yw,"__esModule",{value:!0});yw.Base=void 0;var Dy=ja(),Qoe=gw(),zs=class extends Dy.Message{constructor(e){super(),this.version=0,this.description="",this.Content={case:void 0},this.deviceType="",Dy.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new zs().fromBinary(e,t)}static fromJson(e,t){return new zs().fromJson(e,t)}static fromJsonString(e,t){return new zs().fromJsonString(e,t)}static equals(e,t){return Dy.proto3.util.equals(zs,e,t)}};zs.runtime=Dy.proto3;zs.typeName="protoc.Base";zs.fields=Dy.proto3.util.newFieldList(()=>[{no:1,name:"version",kind:"scalar",T:5},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"data",kind:"message",T:Qoe.Payload},{no:4,name:"hotVersion",kind:"scalar",T:5,oneof:"Content"},{no:5,name:"coldVersion",kind:"scalar",T:5,oneof:"Content"},{no:6,name:"deviceType",kind:"scalar",T:9}]);yw.Base=zs});var eF=b(Ry=>{"use strict";d();h();Object.defineProperty(Ry,"__esModule",{value:!0});var Ws=lu(),SS={KEYSTONE_SIGN_REQUEST:new Ws.RegistryType("keystone-sign-request",6101),KEYSTONE_SIGN_RESULT:new Ws.RegistryType("keystone-sign-result",6102)},{decodeToDataItem:eae}=Ws.extend,X1;(function(r){r[r.signData=1]="signData",r[r.origin=2]="origin"})(X1||(X1={}));var Df=class extends Ws.RegistryItem{constructor(e){super(),this.getRegistryType=()=>SS.KEYSTONE_SIGN_REQUEST,this.getSignData=()=>this.signData,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};return t[X1.signData]=this.signData,this.origin&&(t[X1.origin]=this.origin),new Ws.DataItem(t)},this.signData=e.signData,this.origin=e.origin}static constructKeystoneRequest(e,t){return new Df({signData:e,origin:t})}};Df.fromDataItem=r=>{let e=r.getData();return new Df({signData:e[X1.signData],origin:e[X1.origin]})},Df.fromCBOR=r=>{let e=eae(r);return Df.fromDataItem(e)};var{decodeToDataItem:tae}=Ws.extend,mw;(function(r){r[r.signResult=1]="signResult"})(mw||(mw={}));var md=class extends Ws.RegistryItem{constructor(e){super(),this.getRegistryType=()=>SS.KEYSTONE_SIGN_RESULT,this.getSignResult=()=>this.signResult,this.toDataItem=()=>{let t={};return t[mw.signResult]=this.signResult,new Ws.DataItem(t)},this.signResult=e}};md.fromDataItem=r=>{let e=r.getData();return new md(e[mw.signResult])},md.fromCBOR=r=>{let e=tae(r);return md.fromDataItem(e)},Ws.patchTags(Object.values(SS).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(Ws).forEach(function(r){r!=="default"&&Object.defineProperty(Ry,r,{enumerable:!0,get:function(){return Ws[r]}})}),Ry.KeystoneSignRequest=Df,Ry.KeystoneSignResult=md});var CS=b((qqe,tF)=>{"use strict";d();h();tF.exports=eF()});var aF=b(J1=>{"use strict";d();h();var rae=J1&&J1.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(J1,"__esModule",{value:!0});J1.KeystoneTronSDK=void 0;var nae=Qr(),iae=so(),oae=$q(),aae=xS(),rF=rae(FR()),nF=TS(),iF=gw(),sae=dw(),oF=CS(),AS=class{parseSignature(e){var t,n;if(e.type!==iae.URType.KeystoneSignResult)throw new Error("type not match");let i=oF.KeystoneSignResult.fromCBOR(e.cbor),o=nF.Base.fromBinary(rF.default.ungzip(i.getSignResult()));if(((t=o.data)===null||t===void 0?void 0:t.Content.case)!=="signTxResult")throw new Error("invalid sign result");let{signId:a,rawTx:s}=(n=o.data)===null||n===void 0?void 0:n.Content.value,u=aae.Transaction.fromBinary(m.Buffer.from(s,"hex")),f=m.Buffer.from(u.signature[0]).toString("hex");return{requestId:a,signature:f}}generateSignRequest({requestId:e,signData:t,path:n,xfp:i,tokenInfo:o,origin:a}){let s=(0,oae.raw2tx)((0,nae.toBuffer)(t),o),u=rF.default.gzip(new nF.Base({version:2,description:"QrCode Protocol",deviceType:"",data:new iF.Payload({xfp:i,type:iF.Payload_Type.SIGN_TX,Content:{case:"signTx",value:new sae.SignTransaction({coinCode:"TRON",hdPath:n,signId:e,timestamp:BigInt(Date.now()),decimal:6,Transaction:{case:"tronTx",value:s}})}})}).toBinary());return new oF.KeystoneSignRequest({signData:m.Buffer.from(u),origin:a}).toUR()}};J1.KeystoneTronSDK=AS});function Py(){if(!vw&&(vw=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!vw))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vw(uae)}var vw,uae,OS=de(()=>{d();h();uae=new Uint8Array(16)});var sF,uF=de(()=>{d();h();sF=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function fae(r){return typeof r=="string"&&sF.test(r)}var a0,By=de(()=>{d();h();uF();a0=fae});function cae(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(ln[r[e+0]]+ln[r[e+1]]+ln[r[e+2]]+ln[r[e+3]]+"-"+ln[r[e+4]]+ln[r[e+5]]+"-"+ln[r[e+6]]+ln[r[e+7]]+"-"+ln[r[e+8]]+ln[r[e+9]]+"-"+ln[r[e+10]]+ln[r[e+11]]+ln[r[e+12]]+ln[r[e+13]]+ln[r[e+14]]+ln[r[e+15]]).toLowerCase();if(!a0(t))throw TypeError("Stringified UUID is invalid");return t}var ln,xw,s0,Ny=de(()=>{d();h();By();ln=[];for(xw=0;xw<256;++xw)ln.push((xw+256).toString(16).substr(1));s0=cae});function lae(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var o=r.node||fF,a=r.clockseq!==void 0?r.clockseq:DS;if(o==null||a==null){var s=r.random||(r.rng||Py)();o==null&&(o=fF=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=DS=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:PS+1,l=u-RS+(f-PS)/1e4;if(l<0&&r.clockseq===void 0&&(a=a+1&16383),(l<0||u>RS)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");RS=u,PS=f,DS=a,u+=122192928e5;var p=((u&268435455)*1e4+f)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=p&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var v=0;v<6;++v)i[n+v]=o[v];return e||s0(i)}var fF,DS,RS,PS,cF,lF=de(()=>{d();h();OS();Ny();RS=0,PS=0;cF=lae});function dae(r){if(!a0(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var _w,BS=de(()=>{d();h();By();_w=dae});function hae(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function ww(r,e,t){function n(i,o,a,s){if(typeof i=="string"&&(i=hae(i)),typeof o=="string"&&(o=_w(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,a){s=s||0;for(var f=0;f<16;++f)a[s+f]=u[f];return a}return s0(u)}try{n.name=r}catch{}return n.DNS=pae,n.URL=gae,n}var pae,gae,NS=de(()=>{d();h();Ny();BS();pae="6ba7b810-9dad-11d1-80b4-00c04fd430c8",gae="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function yae(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return mae(vae(xae(r),r.length*8))}function mae(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var o=r[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(a)}return e}function dF(r){return(r+64>>>9<<4)+14+1}function vae(r,e){r[e>>5]|=128<<e%32,r[dF(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<r.length;a+=16){var s=t,u=n,f=i,l=o;t=Qn(t,n,i,o,r[a],7,-680876936),o=Qn(o,t,n,i,r[a+1],12,-389564586),i=Qn(i,o,t,n,r[a+2],17,606105819),n=Qn(n,i,o,t,r[a+3],22,-1044525330),t=Qn(t,n,i,o,r[a+4],7,-176418897),o=Qn(o,t,n,i,r[a+5],12,1200080426),i=Qn(i,o,t,n,r[a+6],17,-1473231341),n=Qn(n,i,o,t,r[a+7],22,-45705983),t=Qn(t,n,i,o,r[a+8],7,1770035416),o=Qn(o,t,n,i,r[a+9],12,-1958414417),i=Qn(i,o,t,n,r[a+10],17,-42063),n=Qn(n,i,o,t,r[a+11],22,-1990404162),t=Qn(t,n,i,o,r[a+12],7,1804603682),o=Qn(o,t,n,i,r[a+13],12,-40341101),i=Qn(i,o,t,n,r[a+14],17,-1502002290),n=Qn(n,i,o,t,r[a+15],22,1236535329),t=ei(t,n,i,o,r[a+1],5,-165796510),o=ei(o,t,n,i,r[a+6],9,-1069501632),i=ei(i,o,t,n,r[a+11],14,643717713),n=ei(n,i,o,t,r[a],20,-373897302),t=ei(t,n,i,o,r[a+5],5,-701558691),o=ei(o,t,n,i,r[a+10],9,38016083),i=ei(i,o,t,n,r[a+15],14,-660478335),n=ei(n,i,o,t,r[a+4],20,-405537848),t=ei(t,n,i,o,r[a+9],5,568446438),o=ei(o,t,n,i,r[a+14],9,-1019803690),i=ei(i,o,t,n,r[a+3],14,-187363961),n=ei(n,i,o,t,r[a+8],20,1163531501),t=ei(t,n,i,o,r[a+13],5,-1444681467),o=ei(o,t,n,i,r[a+2],9,-51403784),i=ei(i,o,t,n,r[a+7],14,1735328473),n=ei(n,i,o,t,r[a+12],20,-1926607734),t=ti(t,n,i,o,r[a+5],4,-378558),o=ti(o,t,n,i,r[a+8],11,-2022574463),i=ti(i,o,t,n,r[a+11],16,1839030562),n=ti(n,i,o,t,r[a+14],23,-35309556),t=ti(t,n,i,o,r[a+1],4,-1530992060),o=ti(o,t,n,i,r[a+4],11,1272893353),i=ti(i,o,t,n,r[a+7],16,-155497632),n=ti(n,i,o,t,r[a+10],23,-1094730640),t=ti(t,n,i,o,r[a+13],4,681279174),o=ti(o,t,n,i,r[a],11,-358537222),i=ti(i,o,t,n,r[a+3],16,-722521979),n=ti(n,i,o,t,r[a+6],23,76029189),t=ti(t,n,i,o,r[a+9],4,-640364487),o=ti(o,t,n,i,r[a+12],11,-421815835),i=ti(i,o,t,n,r[a+15],16,530742520),n=ti(n,i,o,t,r[a+2],23,-995338651),t=ri(t,n,i,o,r[a],6,-198630844),o=ri(o,t,n,i,r[a+7],10,1126891415),i=ri(i,o,t,n,r[a+14],15,-1416354905),n=ri(n,i,o,t,r[a+5],21,-57434055),t=ri(t,n,i,o,r[a+12],6,1700485571),o=ri(o,t,n,i,r[a+3],10,-1894986606),i=ri(i,o,t,n,r[a+10],15,-1051523),n=ri(n,i,o,t,r[a+1],21,-2054922799),t=ri(t,n,i,o,r[a+8],6,1873313359),o=ri(o,t,n,i,r[a+15],10,-30611744),i=ri(i,o,t,n,r[a+6],15,-1560198380),n=ri(n,i,o,t,r[a+13],21,1309151649),t=ri(t,n,i,o,r[a+4],6,-145523070),o=ri(o,t,n,i,r[a+11],10,-1120210379),i=ri(i,o,t,n,r[a+2],15,718787259),n=ri(n,i,o,t,r[a+9],21,-343485551),t=u0(t,s),n=u0(n,u),i=u0(i,f),o=u0(o,l)}return[t,n,i,o]}function xae(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(dF(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function u0(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function _ae(r,e){return r<<e|r>>>32-e}function Ew(r,e,t,n,i,o){return u0(_ae(u0(u0(e,r),u0(n,o)),i),t)}function Qn(r,e,t,n,i,o,a){return Ew(e&t|~e&n,r,e,i,o,a)}function ei(r,e,t,n,i,o,a){return Ew(e&n|t&~n,r,e,i,o,a)}function ti(r,e,t,n,i,o,a){return Ew(e^t^n,r,e,i,o,a)}function ri(r,e,t,n,i,o,a){return Ew(t^(e|~n),r,e,i,o,a)}var hF,pF=de(()=>{d();h();hF=yae});var wae,gF,yF=de(()=>{d();h();NS();pF();wae=ww("v3",48,hF),gF=wae});function Eae(r,e,t){r=r||{};var n=r.random||(r.rng||Py)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return s0(n)}var mF,vF=de(()=>{d();h();OS();Ny();mF=Eae});function bae(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function MS(r,e){return r<<e|r>>>32-e}function Iae(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var f=new Uint32Array(16),l=0;l<16;++l)f[l]=r[u*64+l*4]<<24|r[u*64+l*4+1]<<16|r[u*64+l*4+2]<<8|r[u*64+l*4+3];s[u]=f}s[a-1][14]=(r.length-1)*8/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=(r.length-1)*8&4294967295;for(var p=0;p<a;++p){for(var g=new Uint32Array(80),v=0;v<16;++v)g[v]=s[p][v];for(var _=16;_<80;++_)g[_]=MS(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var T=t[0],O=t[1],R=t[2],D=t[3],U=t[4],K=0;K<80;++K){var A=Math.floor(K/20),c=MS(T,5)+bae(A,O,R,D)+U+e[A]+g[K]>>>0;U=D,D=R,R=MS(O,30)>>>0,O=T,T=c}t[0]=t[0]+T>>>0,t[1]=t[1]+O>>>0,t[2]=t[2]+R>>>0,t[3]=t[3]+D>>>0,t[4]=t[4]+U>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var xF,_F=de(()=>{d();h();xF=Iae});var Tae,wF,EF=de(()=>{d();h();NS();_F();Tae=ww("v5",80,xF),wF=Tae});var bF,IF=de(()=>{d();h();bF="00000000-0000-0000-0000-000000000000"});function Sae(r){if(!a0(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var TF,SF=de(()=>{d();h();By();TF=Sae});var CF={};fc(CF,{NIL:()=>bF,parse:()=>_w,stringify:()=>s0,v1:()=>cF,v3:()=>gF,v4:()=>mF,v5:()=>wF,validate:()=>a0,version:()=>TF});var AF=de(()=>{d();h();lF();yF();vF();EF();IF();SF();By();Ny();BS()});var OF=b(c0=>{"use strict";d();h();Object.defineProperty(c0,"__esModule",{value:!0});var ni=lu(),Cae=(AF(),cc(CF)),qS={APTOS_SIGN_REQUEST:new ni.RegistryType("aptos-sign-request",3101),APTOS_SIGNATURE:new ni.RegistryType("aptos-signature",3102)},{decodeToDataItem:Aae,RegistryTypes:Oae}=ni.extend,bw,dn;(bw=c0.SignType||(c0.SignType={}))[bw.SingleSign=1]="SingleSign",bw[bw.MultiSign=2]="MultiSign",function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.authenticationKeyDerivationPaths=3]="authenticationKeyDerivationPaths",r[r.accounts=4]="accounts",r[r.origin=5]="origin",r[r.signType=6]="signType"}(dn||(dn={}));var Rf=class extends ni.RegistryItem{constructor(e){super(),this.getRegistryType=()=>qS.APTOS_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getAuthenticationKeyDerivationPaths=()=>this.authenticationKeyDerivationPaths.map(t=>t.getPath()),this.getSignRequestAccounts=()=>this.accounts,this.getOrigin=()=>this.origin,this.getSignType=()=>this.signType,this.toDataItem=()=>{let t={};return t[dn.requestId]=new ni.DataItem(this.requestId,Oae.UUID.getTag()),this.accounts&&(t[dn.accounts]=this.accounts),this.origin&&(t[dn.origin]=this.origin),t[dn.signData]=this.signData,t[dn.signType]=this.signType,t[dn.authenticationKeyDerivationPaths]=this.authenticationKeyDerivationPaths.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),new ni.DataItem(t)},this.requestId=e.requestId,this.signData=e.signData,this.authenticationKeyDerivationPaths=e.authenticationKeyDerivationPaths,this.accounts=e.accounts,this.origin=e.origin,this.signType=e.signType}static constructAptosRequest(e,t,n,i,o,a,s){let u=t.map((f,l)=>{let p=f.replace(/[m|M]\//,"").split("/").map(g=>{let v=parseInt(g.replace("'","")),_=!1;return g.endsWith("'")&&(_=!0),new ni.PathComponent({index:v,hardened:_})});return new ni.CryptoKeypath(p,m.Buffer.from(n[l],"hex"))});return new Rf({requestId:m.Buffer.from(Cae.parse(o)),signData:e,authenticationKeyDerivationPaths:u,accounts:a||void 0,origin:s||void 0,signType:i||c0.SignType.SingleSign})}};Rf.fromDataItem=r=>{let e=r.getData(),t=e[dn.signData],n=e[dn.signType],i=e[dn.authenticationKeyDerivationPaths].map(s=>ni.CryptoKeypath.fromDataItem(s)),o=e[dn.accounts]?e[dn.accounts]:void 0,a=e[dn.requestId]?e[dn.requestId].getData():void 0;return new Rf({requestId:a,signData:t,authenticationKeyDerivationPaths:i,accounts:o,origin:e[dn.origin]?e[dn.origin]:void 0,signType:n})},Rf.fromCBOR=r=>{let e=Aae(r);return Rf.fromDataItem(e)};var{RegistryTypes:Dae,decodeToDataItem:Rae}=ni.extend,f0;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature",r[r.authenticationPublicKey=3]="authenticationPublicKey"})(f0||(f0={}));var vd=class extends ni.RegistryItem{constructor(e,t,n){super(),this.getRegistryType=()=>qS.APTOS_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getAuthenticationPublicKey=()=>this.authenticationPublicKey,this.toDataItem=()=>{let i={};return i[f0.requestId]=new ni.DataItem(this.requestId,Dae.UUID.getTag()),i[f0.signature]=this.signature,i[f0.authenticationPublicKey]=this.authenticationPublicKey,new ni.DataItem(i)},this.signature=e,this.requestId=t,this.authenticationPublicKey=n}};vd.fromDataItem=r=>{let e=r.getData(),t=e[f0.signature],n=e[f0.requestId].getData();return new vd(t,n,e[f0.authenticationPublicKey])},vd.fromCBOR=r=>{let e=Rae(r);return vd.fromDataItem(e)},ni.patchTags(Object.values(qS).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(ni).forEach(function(r){r!=="default"&&Object.defineProperty(c0,r,{enumerable:!0,get:function(){return ni[r]}})}),c0.AptosSignRequest=Rf,c0.AptosSignature=vd});var RF=b((iUe,DF)=>{"use strict";d();h();DF.exports=OF()});var PF=b(Tw=>{"use strict";d();h();Object.defineProperty(Tw,"__esModule",{value:!0});Tw.KeystoneAptosSDK=void 0;var My=RF(),l0=Qr(),Pae=so(),Iw=class{parseSignature(e){if(e.type!==Pae.URType.AptosSignature)throw new Error("type not match");let t=My.AptosSignature.fromCBOR(e.cbor);return{requestId:(0,l0.uuidStringify)(t.getRequestId()),signature:(0,l0.toHex)(t.getSignature()),authenticationPublicKey:(0,l0.toHex)(t.getAuthenticationPublicKey())}}generateSignRequest({requestId:e,signData:t,signType:n,accounts:i,origin:o}){let a=[],s=[];if(i.forEach(u=>{a.push(new My.CryptoKeypath((0,l0.parsePath)(u.path).map(f=>new My.PathComponent(f)),(0,l0.toBuffer)(u.xfp))),u.key!==void 0&&s.push((0,l0.toBuffer)(u.key))}),s.length>0&&s.length!==a.length)throw new Error("account and path count must match");return new My.AptosSignRequest({requestId:(0,l0.uuidParse)(e),signData:(0,l0.toBuffer)(t),signType:n,authenticationKeyDerivationPaths:a,accounts:s,origin:o}).toUR()}};Iw.SignType=My.SignType;Tw.KeystoneAptosSDK=Iw});var Cw=b(ns=>{"use strict";d();h();var Bae=ns&&ns.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ns,"__esModule",{value:!0});ns.Keystone=ns.TXCase=ns.Chain=void 0;var BF=Bae(FR()),Nae=so(),NF=CS(),MF=TS(),qF=gw(),Mae=dw(),qae=IS(),Fae=ES(),Uae=bS(),xd;(function(r){r.LTC="LTC",r.BCH="BCH",r.DASH="DASH"})(xd=ns.Chain||(ns.Chain={}));var Sw;(function(r){r.LTC="ltcTx",r.BCH="bchTx",r.DASH="dashTx"})(Sw=ns.TXCase||(ns.TXCase={}));var FS=class{generateSignData({chain:e,requestId:t,signData:n,xfp:i}){let o,a,s;switch(e){case xd.LTC:o=new qae.LtcTx(Object.assign(Object.assign({},n),{fee:BigInt(n.fee),dustThreshold:5460})),s=xd.LTC,a=Sw.LTC;break;case xd.BCH:o=new Fae.BchTx(Object.assign(Object.assign({},n),{fee:BigInt(n.fee),dustThreshold:546})),s=xd.BCH,a=Sw.BCH;break;case xd.DASH:o=new Uae.DashTx(Object.assign(Object.assign({},n),{fee:BigInt(n.fee),dustThreshold:546})),s=xd.DASH,a=Sw.DASH;break;default:throw new Error("chain not support")}return BF.default.gzip(new MF.Base({version:2,description:"QrCode Protocol",deviceType:"",data:new qF.Payload({xfp:i,type:qF.Payload_Type.SIGN_TX,Content:{case:"signTx",value:new Mae.SignTransaction({coinCode:s,hdPath:"",signId:t,timestamp:BigInt(Date.now()),decimal:8,Transaction:{case:a,value:o}})}})}).toBinary())}generateSignRequest(e){let t=m.Buffer.from(this.generateSignData(e));return new NF.KeystoneSignRequest({signData:t,origin:e.origin}).toUR()}parseSignResult(e){var t,n;if(e.type!==Nae.URType.KeystoneSignResult)throw new Error("type not match");let i=NF.KeystoneSignResult.fromCBOR(e.cbor),o=MF.Base.fromBinary(BF.default.ungzip(i.getSignResult()));if(((t=o.data)===null||t===void 0?void 0:t.Content.case)!=="signTxResult")throw new Error("invalid sign result");let a=(n=o.data)===null||n===void 0?void 0:n.Content.value;return{requestId:a.signId,rawData:a.rawTx}}};ns.Keystone=FS});var UF=b(Aw=>{"use strict";d();h();Object.defineProperty(Aw,"__esModule",{value:!0});Aw.KeystoneBitcoinCashSDK=void 0;var FF=Cw(),US=class extends FF.Keystone{generateSignRequest(e){return super.generateSignRequest(Object.assign({chain:FF.Chain.BCH},e))}};Aw.KeystoneBitcoinCashSDK=US});var kF=b(Ow=>{"use strict";d();h();Object.defineProperty(Ow,"__esModule",{value:!0});Ow.KeystoneDashSDK=void 0;var LF=Cw(),LS=class extends LF.Keystone{generateSignRequest(e){return super.generateSignRequest(Object.assign({chain:LF.Chain.DASH},e))}};Ow.KeystoneDashSDK=LS});var HF=b(Dw=>{"use strict";d();h();Object.defineProperty(Dw,"__esModule",{value:!0});Dw.KeystoneLitecoinSDK=void 0;var jF=Cw(),kS=class extends jF.Keystone{generateSignRequest(e){return super.generateSignRequest(Object.assign({chain:jF.Chain.LTC},e))}};Dw.KeystoneLitecoinSDK=kS});function qy(){if(!Rw&&(Rw=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Rw))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Rw(Lae)}var Rw,Lae,jS=de(()=>{d();h();Lae=new Uint8Array(16)});var KF,VF=de(()=>{d();h();KF=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function kae(r){return typeof r=="string"&&KF.test(r)}var d0,Fy=de(()=>{d();h();VF();d0=kae});function jae(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(hn[r[e+0]]+hn[r[e+1]]+hn[r[e+2]]+hn[r[e+3]]+"-"+hn[r[e+4]]+hn[r[e+5]]+"-"+hn[r[e+6]]+hn[r[e+7]]+"-"+hn[r[e+8]]+hn[r[e+9]]+"-"+hn[r[e+10]]+hn[r[e+11]]+hn[r[e+12]]+hn[r[e+13]]+hn[r[e+14]]+hn[r[e+15]]).toLowerCase();if(!d0(t))throw TypeError("Stringified UUID is invalid");return t}var hn,Pw,h0,Uy=de(()=>{d();h();Fy();hn=[];for(Pw=0;Pw<256;++Pw)hn.push((Pw+256).toString(16).substr(1));h0=jae});function Hae(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var o=r.node||GF,a=r.clockseq!==void 0?r.clockseq:HS;if(o==null||a==null){var s=r.random||(r.rng||qy)();o==null&&(o=GF=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=HS=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:VS+1,l=u-KS+(f-VS)/1e4;if(l<0&&r.clockseq===void 0&&(a=a+1&16383),(l<0||u>KS)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");KS=u,VS=f,HS=a,u+=122192928e5;var p=((u&268435455)*1e4+f)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=p&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var v=0;v<6;++v)i[n+v]=o[v];return e||h0(i)}var GF,HS,KS,VS,YF,zF=de(()=>{d();h();jS();Uy();KS=0,VS=0;YF=Hae});function Kae(r){if(!d0(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var Bw,GS=de(()=>{d();h();Fy();Bw=Kae});function Vae(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function Nw(r,e,t){function n(i,o,a,s){if(typeof i=="string"&&(i=Vae(i)),typeof o=="string"&&(o=Bw(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,a){s=s||0;for(var f=0;f<16;++f)a[s+f]=u[f];return a}return h0(u)}try{n.name=r}catch{}return n.DNS=Gae,n.URL=Yae,n}var Gae,Yae,YS=de(()=>{d();h();Uy();GS();Gae="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Yae="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function zae(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return Wae(Xae(Jae(r),r.length*8))}function Wae(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var o=r[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(a)}return e}function WF(r){return(r+64>>>9<<4)+14+1}function Xae(r,e){r[e>>5]|=128<<e%32,r[WF(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<r.length;a+=16){var s=t,u=n,f=i,l=o;t=ii(t,n,i,o,r[a],7,-680876936),o=ii(o,t,n,i,r[a+1],12,-389564586),i=ii(i,o,t,n,r[a+2],17,606105819),n=ii(n,i,o,t,r[a+3],22,-1044525330),t=ii(t,n,i,o,r[a+4],7,-176418897),o=ii(o,t,n,i,r[a+5],12,1200080426),i=ii(i,o,t,n,r[a+6],17,-1473231341),n=ii(n,i,o,t,r[a+7],22,-45705983),t=ii(t,n,i,o,r[a+8],7,1770035416),o=ii(o,t,n,i,r[a+9],12,-1958414417),i=ii(i,o,t,n,r[a+10],17,-42063),n=ii(n,i,o,t,r[a+11],22,-1990404162),t=ii(t,n,i,o,r[a+12],7,1804603682),o=ii(o,t,n,i,r[a+13],12,-40341101),i=ii(i,o,t,n,r[a+14],17,-1502002290),n=ii(n,i,o,t,r[a+15],22,1236535329),t=oi(t,n,i,o,r[a+1],5,-165796510),o=oi(o,t,n,i,r[a+6],9,-1069501632),i=oi(i,o,t,n,r[a+11],14,643717713),n=oi(n,i,o,t,r[a],20,-373897302),t=oi(t,n,i,o,r[a+5],5,-701558691),o=oi(o,t,n,i,r[a+10],9,38016083),i=oi(i,o,t,n,r[a+15],14,-660478335),n=oi(n,i,o,t,r[a+4],20,-405537848),t=oi(t,n,i,o,r[a+9],5,568446438),o=oi(o,t,n,i,r[a+14],9,-1019803690),i=oi(i,o,t,n,r[a+3],14,-187363961),n=oi(n,i,o,t,r[a+8],20,1163531501),t=oi(t,n,i,o,r[a+13],5,-1444681467),o=oi(o,t,n,i,r[a+2],9,-51403784),i=oi(i,o,t,n,r[a+7],14,1735328473),n=oi(n,i,o,t,r[a+12],20,-1926607734),t=ai(t,n,i,o,r[a+5],4,-378558),o=ai(o,t,n,i,r[a+8],11,-2022574463),i=ai(i,o,t,n,r[a+11],16,1839030562),n=ai(n,i,o,t,r[a+14],23,-35309556),t=ai(t,n,i,o,r[a+1],4,-1530992060),o=ai(o,t,n,i,r[a+4],11,1272893353),i=ai(i,o,t,n,r[a+7],16,-155497632),n=ai(n,i,o,t,r[a+10],23,-1094730640),t=ai(t,n,i,o,r[a+13],4,681279174),o=ai(o,t,n,i,r[a],11,-358537222),i=ai(i,o,t,n,r[a+3],16,-722521979),n=ai(n,i,o,t,r[a+6],23,76029189),t=ai(t,n,i,o,r[a+9],4,-640364487),o=ai(o,t,n,i,r[a+12],11,-421815835),i=ai(i,o,t,n,r[a+15],16,530742520),n=ai(n,i,o,t,r[a+2],23,-995338651),t=si(t,n,i,o,r[a],6,-198630844),o=si(o,t,n,i,r[a+7],10,1126891415),i=si(i,o,t,n,r[a+14],15,-1416354905),n=si(n,i,o,t,r[a+5],21,-57434055),t=si(t,n,i,o,r[a+12],6,1700485571),o=si(o,t,n,i,r[a+3],10,-1894986606),i=si(i,o,t,n,r[a+10],15,-1051523),n=si(n,i,o,t,r[a+1],21,-2054922799),t=si(t,n,i,o,r[a+8],6,1873313359),o=si(o,t,n,i,r[a+15],10,-30611744),i=si(i,o,t,n,r[a+6],15,-1560198380),n=si(n,i,o,t,r[a+13],21,1309151649),t=si(t,n,i,o,r[a+4],6,-145523070),o=si(o,t,n,i,r[a+11],10,-1120210379),i=si(i,o,t,n,r[a+2],15,718787259),n=si(n,i,o,t,r[a+9],21,-343485551),t=p0(t,s),n=p0(n,u),i=p0(i,f),o=p0(o,l)}return[t,n,i,o]}function Jae(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(WF(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function p0(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function $ae(r,e){return r<<e|r>>>32-e}function Mw(r,e,t,n,i,o){return p0($ae(p0(p0(e,r),p0(n,o)),i),t)}function ii(r,e,t,n,i,o,a){return Mw(e&t|~e&n,r,e,i,o,a)}function oi(r,e,t,n,i,o,a){return Mw(e&n|t&~n,r,e,i,o,a)}function ai(r,e,t,n,i,o,a){return Mw(e^t^n,r,e,i,o,a)}function si(r,e,t,n,i,o,a){return Mw(t^(e|~n),r,e,i,o,a)}var XF,JF=de(()=>{d();h();XF=zae});var Zae,$F,ZF=de(()=>{d();h();YS();JF();Zae=Nw("v3",48,XF),$F=Zae});function Qae(r,e,t){r=r||{};var n=r.random||(r.rng||qy)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return h0(n)}var QF,eU=de(()=>{d();h();jS();Uy();QF=Qae});function ese(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function zS(r,e){return r<<e|r>>>32-e}function tse(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var f=new Uint32Array(16),l=0;l<16;++l)f[l]=r[u*64+l*4]<<24|r[u*64+l*4+1]<<16|r[u*64+l*4+2]<<8|r[u*64+l*4+3];s[u]=f}s[a-1][14]=(r.length-1)*8/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=(r.length-1)*8&4294967295;for(var p=0;p<a;++p){for(var g=new Uint32Array(80),v=0;v<16;++v)g[v]=s[p][v];for(var _=16;_<80;++_)g[_]=zS(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var T=t[0],O=t[1],R=t[2],D=t[3],U=t[4],K=0;K<80;++K){var A=Math.floor(K/20),c=zS(T,5)+ese(A,O,R,D)+U+e[A]+g[K]>>>0;U=D,D=R,R=zS(O,30)>>>0,O=T,T=c}t[0]=t[0]+T>>>0,t[1]=t[1]+O>>>0,t[2]=t[2]+R>>>0,t[3]=t[3]+D>>>0,t[4]=t[4]+U>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var tU,rU=de(()=>{d();h();tU=tse});var rse,nU,iU=de(()=>{d();h();YS();rU();rse=Nw("v5",80,tU),nU=rse});var oU,aU=de(()=>{d();h();oU="00000000-0000-0000-0000-000000000000"});function nse(r){if(!d0(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var sU,uU=de(()=>{d();h();Fy();sU=nse});var fU={};fc(fU,{NIL:()=>oU,parse:()=>Bw,stringify:()=>h0,v1:()=>YF,v3:()=>$F,v4:()=>QF,v5:()=>nU,validate:()=>d0,version:()=>sU});var cU=de(()=>{d();h();zF();ZF();eU();iU();aU();uU();Fy();Uy();GS()});var lU=b(Ly=>{"use strict";d();h();Object.defineProperty(Ly,"__esModule",{value:!0});var pn=lu(),ise=(cU(),cc(fU)),WS={NEAR_SIGN_REQUEST:new pn.RegistryType("near-sign-request",2101),NEAR_SIGNATURE:new pn.RegistryType("near-signature",2102),CRYPTO_MULTI_ACCOUNTS:new pn.RegistryType("crypto-multi-accounts",2103)},{decodeToDataItem:ose,RegistryTypes:ase}=pn.extend,Vi;(function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.derivationPath=3]="derivationPath",r[r.account=4]="account",r[r.origin=5]="origin"})(Vi||(Vi={}));var Pf=class extends pn.RegistryItem{constructor(e){super(),this.getRegistryType=()=>WS.NEAR_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSignRequestAccount=()=>this.account,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};this.requestId&&(t[Vi.requestId]=new pn.DataItem(this.requestId,ase.UUID.getTag())),this.account&&(t[Vi.account]=this.account),this.origin&&(t[Vi.origin]=this.origin),t[Vi.signData]=this.signData;let n=this.derivationPath.toDataItem();return n.setTag(this.derivationPath.getRegistryType().getTag()),t[Vi.derivationPath]=n,new pn.DataItem(t)},this.requestId=e.requestId,this.signData=e.signData,this.derivationPath=e.derivationPath,this.account=e.account,this.origin=e.origin}static constructNearRequest(e,t,n,i,o,a){let s=t.replace(/[m|M]\//,"").split("/"),u=new pn.CryptoKeypath(s.map(f=>{let l=parseInt(f.replace("'","")),p=!1;return f.endsWith("'")&&(p=!0),new pn.PathComponent({index:l,hardened:p})}),m.Buffer.from(n,"hex"));return new Pf({requestId:i?m.Buffer.from(ise.parse(i)):void 0,signData:e,derivationPath:u,account:o||void 0,origin:a||void 0})}};Pf.fromDataItem=r=>{let e=r.getData(),t=e[Vi.signData],n=pn.CryptoKeypath.fromDataItem(e[Vi.derivationPath]),i=e[Vi.account]?e[Vi.account]:void 0,o=e[Vi.requestId]?e[Vi.requestId].getData():void 0;return new Pf({requestId:o,signData:t,derivationPath:n,account:i,origin:e[Vi.origin]?e[Vi.origin]:void 0})},Pf.fromCBOR=r=>{let e=ose(r);return Pf.fromDataItem(e)};var{RegistryTypes:sse,decodeToDataItem:use}=pn.extend,wd;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature"})(wd||(wd={}));var _d=class extends pn.RegistryItem{constructor(e,t){super(),this.getRegistryType=()=>WS.NEAR_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{let n={};return this.requestId&&(n[wd.requestId]=new pn.DataItem(this.requestId,sse.UUID.getTag())),n[wd.signature]=this.signature,new pn.DataItem(n)},this.signature=e,this.requestId=t}};_d.fromDataItem=r=>{let e=r.getData(),t=e[wd.signature],n=e[wd.requestId]?e[wd.requestId].getData():void 0;return new _d(t,n)},_d.fromCBOR=r=>{let e=use(r);return _d.fromDataItem(e)},pn.patchTags(Object.values(WS).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(pn).forEach(function(r){r!=="default"&&Object.defineProperty(Ly,r,{enumerable:!0,get:function(){return pn[r]}})}),Ly.NearSignRequest=Pf,Ly.NearSignature=_d});var hU=b((ULe,dU)=>{"use strict";d();h();dU.exports=lU()});var pU=b(Fw=>{"use strict";d();h();Object.defineProperty(Fw,"__esModule",{value:!0});Fw.KeystoneNearSDK=void 0;var $1=Qr(),fse=so(),qw=hU(),XS=class{parseSignature(e){if(e.type!==fse.URType.NearSignature)throw new Error("type not match");let t=qw.NearSignature.fromCBOR(e.cbor),n=t.getRequestId();return{requestId:n===void 0?void 0:(0,$1.uuidStringify)(n),signature:t.getSignature().map(i=>(0,$1.toHex)(i))}}generateSignRequest({requestId:e,signData:t,path:n,xfp:i,account:o,origin:a}){return new qw.NearSignRequest({requestId:(0,$1.uuidParse)(e),signData:t.map(s=>(0,$1.toBuffer)(s)),derivationPath:new qw.CryptoKeypath((0,$1.parsePath)(n).map(s=>new qw.PathComponent(s)),(0,$1.toBuffer)(i)),account:o,origin:a}).toUR()}};Fw.KeystoneNearSDK=XS});var Lw=b(Uw=>{"use strict";d();h();Object.defineProperty(Uw,"__esModule",{value:!0});Uw.DataItem=void 0;var JS=class{constructor(e,t){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}};Uw.DataItem=JS});var yU=b((gU,kw)=>{"use strict";d();h();(function(r,e){typeof define=="function"&&define.amd?define([],e):typeof kw<"u"&&kw.exports?kw.exports=e():r.CBOR=e()})(gU,function(){let{DataItem:r}=Lw();var e=function(){function t(c){this.$hex=c}t.prototype={length:function(){return this.$hex.length/2},toString:function(c){if(!c||c==="hex"||c===16)return this.$hex;if(c==="utf-8"){for(var y="",x=0;x<this.$hex.length;x+=2)y+="%"+this.$hex.substring(x,x+2);return decodeURIComponent(y)}if(c==="latin"){for(var y=[],x=0;x<this.$hex.length;x+=2)y.push(parseInt(this.$hex.substring(x,x+2),16));return String.fromCharCode.apply(String,y)}throw new Error("Unrecognised format: "+c)}},t.fromLatinString=function(c){for(var y="",x=0;x<c.length;x++){var M=c.charCodeAt(x).toString(16);M.length===1&&(M="0"+M),y+=M}return new t(y)},t.fromUtf8String=function(c){for(var y=encodeURIComponent(c),x="",M=0;M<y.length;M++)if(y.charAt(M)==="%")x+=y.substring(M+1,M+3),M+=2;else{var L=y.charCodeAt(M).toString(16);L.length<2&&(L="0"+L),x+=L}return new t(x)};var n=[],i={},o=function(c){return function(){throw new Error(c+" not implemented")}};function a(){}a.prototype={peekByte:o("peekByte"),readByte:o("readByte"),readChunk:o("readChunk"),readFloat16:function(){var c=this.readUint16(),y=(c&32767)>>10,x=c&1023,M=c&32768;if(y===31)return x===0?M?-1/0:1/0:NaN;var L=y?Math.pow(2,y-25)*(1024+x):Math.pow(2,-24)*x;return M?-L:L},readFloat32:function(){var c=this.readUint32(),y=(c&2147483647)>>23,x=c&8388607,M=c&2147483648;if(y===255)return x===0?M?-1/0:1/0:NaN;var L=y?Math.pow(2,y-23-127)*(8388608+x):Math.pow(2,-23-126)*x;return M?-L:L},readFloat64:function(){var c=this.readUint32(),y=this.readUint32(),x=c>>20&2047,M=(c&1048575)*4294967296+y,L=c&2147483648;if(x===2047)return M===0?L?-1/0:1/0:NaN;var ce=x?Math.pow(2,x-52-1023)*(4503599627370496+M):Math.pow(2,-52-1022)*M;return L?-ce:ce},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:o("writeByte"),result:o("result"),writeFloat16:o("writeFloat16"),writeFloat32:o("writeFloat32"),writeFloat64:o("writeFloat64"),writeUint16:function(c){this.writeByte(c>>8&255),this.writeByte(c&255)},writeUint32:function(c){this.writeUint16(c>>16&65535),this.writeUint16(c&65535)},writeUint64:function(c){if(c>=9007199254740992||c<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+c+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(c/4294967296)),this.writeUint32(c%4294967296)},writeString:o("writeString"),canWriteBinary:function(c){return!1},writeBinary:o("writeChunk")};function u(c){var y=c.readByte(),x=y>>5,M=y&31;return{type:x,value:M}}function f(c,y){var x=c.value;if(x<24)return x;if(x==24)return y.readByte();if(x==25)return y.readUint16();if(x==26)return y.readUint32();if(x==27)return y.readUint64();if(x==31)return null;o("Additional info: "+x)()}function l(c,y,x){x.writeByte(c<<5|y)}function p(c,y,x){var M=c<<5;y<24?x.writeByte(M|y):y<256?(x.writeByte(M|24),x.writeByte(y)):y<65536?(x.writeByte(M|25),x.writeUint16(y)):y<4294967296?(x.writeByte(M|26),x.writeUint32(y)):(x.writeByte(M|27),x.writeUint64(y))}var g=new Error;function v(c){var y=u(c);switch(y.type){case 0:return f(y,c);case 1:return-1-f(y,c);case 2:return c.readChunk(f(y,c));case 3:var x=c.readChunk(f(y,c));return x.toString("utf-8");case 4:case 5:var M=f(y,c),B=[];if(M!==null){y.type===5&&(M*=2);for(var L=0;L<M;L++)B[L]=v(c)}else for(var ce;(ce=v(c))!==g;)B.push(ce);if(y.type===5){for(var q={},L=0;L<B.length;L+=2)q[B[L]]=B[L+1];return q}else return B;case 6:var w=f(y,c),S=i[w],B=v(c);return S?S(B):B;case 7:if(y.value===25)return c.readFloat16();if(y.value===26)return c.readFloat32();if(y.value===27)return c.readFloat64();switch(f(y,c)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+y.value)}default:throw new Error("Unsupported header: "+JSON.stringify(y))}throw new Error("not implemented yet")}function _(c,y){for(var x=0;x<n.length;x++){var M=n[x].fn(c);if(M!==void 0)return p(6,n[x].tag,y),_(M,y)}if(c&&typeof c.toCBOR=="function"&&(c=c.toCBOR()),c===!1)p(7,20,y);else if(c===!0)p(7,21,y);else if(c===null)p(7,22,y);else if(c===void 0)p(7,23,y);else if(typeof c=="number")Math.floor(c)===c&&c<9007199254740992&&c>-9007199254740992?c<0?p(1,-1-c,y):p(0,c,y):(l(7,27,y),y.writeFloat64(c));else if(typeof c=="string")y.writeString(c,function(ce){p(3,ce,y)});else if(y.canWriteBinary(c))y.writeBinary(c,function(ce){p(2,ce,y)});else if(typeof c=="object")if(R.config.useToJSON&&typeof c.toJSON=="function"&&(c=c.toJSON()),Array.isArray(c)){p(4,c.length,y);for(var x=0;x<c.length;x++)_(c[x],y)}else{var L=Object.keys(c);p(5,L.length,y);for(var x=0;x<L.length;x++){let q=parseInt(L[x]);isNaN(q)?(_(L[x],y),_(c[L[x]],y)):(_(q,y),_(c[L[x]],y))}}else throw new Error("CBOR encoding not supported: "+c)}var T=[],O=[],R={config:{useToJSON:!0},addWriter:function(c,y){typeof c=="string"?O.push(function(x){if(c===x)return y(x)}):O.push(c)},addReader:function(c,y){typeof c=="string"?T.push(function(x,M){if(c===M)return y(x,M)}):T.push(c)},encode:function(c,y){for(var x=0;x<O.length;x++){var M=O[x],L=M(y);if(L)return _(c,L),L.result()}throw new Error("Unsupported output format: "+y)},encodeDataItem:function(c,y){for(var x=0;x<O.length;x++){var M=O[x],L=M(y);if(L)return c.getTag()!==void 0?(_(c,L),L.result()):(_(c.getData(),L),L.result())}throw new Error("Unsupported output format: "+y)},decode:function(c,y){for(var x=0;x<T.length;x++){var M=T[x],L=M(c,y);if(L)return v(L)}throw new Error("Unsupported input format: "+y)},decodeToDataItem:function(c,y){for(var x=0;x<T.length;x++){var M=T[x],L=M(c,y);if(L){let ce=v(L);return ce instanceof r?ce:new r(ce)}}throw new Error("Unsupported input format: "+y)},addSemanticEncode:function(c,y){if(typeof c!="number"||c%1!==0||c<0)throw new Error("Tag must be a positive integer");return n.push({tag:c,fn:y}),this},addSemanticDecode:function(c,y){if(typeof c!="number"||c%1!==0||c<0)throw new Error("Tag must be a positive integer");return i[c]=y,this}};function D(c){this.buffer=c,this.pos=0}D.prototype=Object.create(a.prototype),D.prototype.peekByte=function(){return this.buffer[this.pos]},D.prototype.readByte=function(){return this.buffer[this.pos++]},D.prototype.readUint16=function(){var c=this.buffer.readUInt16BE(this.pos);return this.pos+=2,c},D.prototype.readUint32=function(){var c=this.buffer.readUInt32BE(this.pos);return this.pos+=4,c},D.prototype.readFloat32=function(){var c=this.buffer.readFloatBE(this.pos);return this.pos+=4,c},D.prototype.readFloat64=function(){var c=this.buffer.readDoubleBE(this.pos);return this.pos+=8,c},D.prototype.readChunk=function(c){var y=m.Buffer.alloc(c);return this.buffer.copy(y,0,this.pos,this.pos+=c),y};function U(c){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=c}U.prototype=Object.create(s.prototype),U.prototype.writeByte=function(c){this.latestBuffer[this.latestBufferOffset++]=c,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},U.prototype.writeFloat32=function(c){var y=m.Buffer.alloc(4);y.writeFloatBE(c,0),this.writeBuffer(y)},U.prototype.writeFloat64=function(c){var y=m.Buffer.alloc(8);y.writeDoubleBE(c,0),this.writeBuffer(y)},U.prototype.writeString=function(c,y){var x=m.Buffer.from(c,"utf-8");y(x.length),this.writeBuffer(x)},U.prototype.canWriteBinary=function(c){return c instanceof m.Buffer},U.prototype.writeBinary=function(c,y){y(c.length),this.writeBuffer(c)},U.prototype.writeBuffer=function(c){if(!(c instanceof m.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=c.length?(c.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=c.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(c),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(c),this.byteLength+=c.length},U.prototype.result=function(){for(var c=m.Buffer.alloc(this.byteLength),y=0,x=0;x<this.completeBuffers.length;x++){var M=this.completeBuffers[x];M.copy(c,y,0,M.length),y+=M.length}return this.latestBufferOffset&&this.latestBuffer.copy(c,y,0,this.latestBufferOffset),this.stringFormat?c.toString(this.stringFormat):c},typeof m.Buffer=="function"&&(R.addReader(function(c,y){if(m.Buffer.isBuffer(c))return new D(c);if(y==="hex"||y==="base64"){var x=m.Buffer.from(c,y);return new D(x)}}),R.addWriter(function(c){if(!c||c==="buffer")return new U;if(c==="hex"||c==="base64")return new U(c)}));function K(c){this.hex=c,this.pos=0}K.prototype=Object.create(a.prototype),K.prototype.peekByte=function(){var c=this.hex.substring(this.pos,2);return parseInt(c,16)},K.prototype.readByte=function(){var c=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(c,16)},K.prototype.readChunk=function(c){var y=this.hex.substring(this.pos,this.pos+c*2);return this.pos+=c*2,typeof m.Buffer=="function"?m.Buffer.from(y,"hex"):new t(y)};function A(c){this.$hex="",this.finalFormat=c||"hex"}return A.prototype=Object.create(s.prototype),A.prototype.writeByte=function(c){if(c<0||c>255)throw new Error("Byte value out of range: "+c);var y=c.toString(16);y.length==1&&(y="0"+y),this.$hex+=y},A.prototype.canWriteBinary=function(c){return c instanceof t||typeof m.Buffer=="function"&&c instanceof m.Buffer},A.prototype.writeBinary=function(c,y){if(c instanceof t)y(c.length()),this.$hex+=c.$hex;else if(typeof m.Buffer=="function"&&c instanceof m.Buffer)y(c.length),this.$hex+=c.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},A.prototype.result=function(){return this.finalFormat==="buffer"&&typeof m.Buffer=="function"?m.Buffer.from(this.$hex,"hex"):new t(this.$hex).toString(this.finalFormat)},A.prototype.writeString=function(c,y){var x=t.fromUtf8String(c);y(x.length()),this.$hex+=x.$hex},R.addReader(function(c,y){if(c instanceof t||c.$hex)return new K(c.$hex);if(y==="hex")return new K(c)}),R.addWriter(function(c){if(c==="hex")return new A}),R}();return e.addSemanticEncode(0,function(t){if(t instanceof Date)return t.toISOString()}).addSemanticDecode(0,function(t){return new Date(t)}).addSemanticDecode(1,function(t){return new Date(t)}),e})});var gn=b(ui=>{"use strict";d();h();Object.defineProperty(ui,"__esModule",{value:!0});ui.DataItem=ui.addWriter=ui.addReader=ui.addSemanticEncode=ui.addSemanticDecode=ui.decodeToDataItem=ui.encodeDataItem=void 0;var Z1=yU();Object.defineProperty(ui,"encodeDataItem",{enumerable:!0,get:function(){return Z1.encodeDataItem}});Object.defineProperty(ui,"decodeToDataItem",{enumerable:!0,get:function(){return Z1.decodeToDataItem}});Object.defineProperty(ui,"addSemanticDecode",{enumerable:!0,get:function(){return Z1.addSemanticDecode}});Object.defineProperty(ui,"addSemanticEncode",{enumerable:!0,get:function(){return Z1.addSemanticEncode}});Object.defineProperty(ui,"addReader",{enumerable:!0,get:function(){return Z1.addReader}});Object.defineProperty(ui,"addWriter",{enumerable:!0,get:function(){return Z1.addWriter}});var cse=Lw();Object.defineProperty(ui,"DataItem",{enumerable:!0,get:function(){return cse.DataItem}})});var Kw=b(Hw=>{"use strict";d();h();Object.defineProperty(Hw,"__esModule",{value:!0});Hw.patchTags=void 0;var jw=gn(),mU=[],lse=r=>{r.forEach(e=>{mU.find(t=>t===e)||(jw.addSemanticEncode(e,t=>{if(t instanceof jw.DataItem&&t.getTag()===e)return t.getData()}),jw.addSemanticDecode(e,t=>new jw.DataItem(t,e)),mU.push(e))})};Hw.patchTags=lse});var yn=b(Q1=>{"use strict";d();h();Object.defineProperty(Q1,"__esModule",{value:!0});Q1.RegistryTypes=Q1.RegistryType=void 0;var Gi=class{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}};Q1.RegistryType=Gi;Q1.RegistryTypes={UUID:new Gi("uuid",37),BYTES:new Gi("bytes",void 0),CRYPTO_HDKEY:new Gi("crypto-hdkey",303),CRYPTO_KEYPATH:new Gi("crypto-keypath",304),CRYPTO_COIN_INFO:new Gi("crypto-coin-info",305),CRYPTO_ECKEY:new Gi("crypto-eckey",306),CRYPTO_OUTPUT:new Gi("crypto-output",308),CRYPTO_PSBT:new Gi("crypto-psbt",310),CRYPTO_ACCOUNT:new Gi("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new Gi("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new Gi("qr-hardware-call",1201),KEY_DERIVATION_CALL:new Gi("key-derivation-call",1301)}});var Vw=b(Ed=>{"use strict";d();h();Object.defineProperty(Ed,"__esModule",{value:!0});Ed.ScriptExpressions=Ed.ScriptExpression=void 0;var ho=class{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};Ed.ScriptExpression=ho;ho.fromTag=r=>Object.values(Ed.ScriptExpressions).find(t=>t.getTag()===r);Ed.ScriptExpressions={SCRIPT_HASH:new ho(400,"sh"),WITNESS_SCRIPT_HASH:new ho(401,"wsh"),PUBLIC_KEY:new ho(402,"pk"),PUBLIC_KEY_HASH:new ho(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new ho(404,"wpkh"),COMBO:new ho(405,"combo"),MULTISIG:new ho(406,"multi"),SORTED_MULTISIG:new ho(407,"sortedmulti"),ADDRESS:new ho(307,"addr"),RAW_SCRIPT:new ho(408,"raw")}});var $S=b(vU=>{"use strict";d();h();Object.defineProperty(vU,"__esModule",{value:!0});var dse=Kw(),hse=yn(),pse=Vw(),gse=Object.values(hse.RegistryTypes).filter(r=>!!r.getTag()).map(r=>r.getTag()),yse=Object.values(pse.ScriptExpressions).map(r=>r.getTag());dse.patchTags(gse.concat(yse))});var Yi=b(Gw=>{"use strict";d();h();Object.defineProperty(Gw,"__esModule",{value:!0});Gw.RegistryItem=void 0;var xU=Gr(),mse=gn(),ZS=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return mse.encodeDataItem(this.toDataItem())},this.toUR=()=>new xU.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,n)=>{let i=this.toUR();return new xU.UREncoder(i,e,t,n)}}};Gw.RegistryItem=ZS});var Yw=b(Tu=>{"use strict";d();h();Object.defineProperty(Tu,"__esModule",{value:!0});Tu.CryptoCoinInfo=Tu.Network=Tu.Type=void 0;var _U=gn(),vse=Yi(),xse=yn(),ep;(function(r){r.type="1",r.network="2"})(ep||(ep={}));var wU;(function(r){r[r.bitcoin=0]="bitcoin"})(wU=Tu.Type||(Tu.Type={}));var EU;(function(r){r[r.mainnet=0]="mainnet",r[r.testnet=1]="testnet"})(EU=Tu.Network||(Tu.Network={}));var bd=class extends vse.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>xse.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||wU.bitcoin,this.getNetwork=()=>this.network||EU.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[ep.type]=this.type),this.network&&(n[ep.network]=this.network),new _U.DataItem(n)}}};Tu.CryptoCoinInfo=bd;bd.fromDataItem=r=>{let e=r.getData(),t=e[ep.type],n=e[ep.network];return new bd(t,n)};bd.fromCBOR=r=>{let e=_U.decodeToDataItem(r);return bd.fromDataItem(e)}});var Ww=b(zw=>{"use strict";d();h();Object.defineProperty(zw,"__esModule",{value:!0});zw.PathComponent=void 0;var tp=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&tp.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};zw.PathComponent=tp;tp.HARDENED_BIT=2147483648});var ky=b(Xw=>{"use strict";d();h();Object.defineProperty(Xw,"__esModule",{value:!0});Xw.CryptoKeypath=void 0;var IU=gn(),bU=Ww(),_se=Yi(),wse=yn(),g0;(function(r){r[r.components=1]="components",r[r.source_fingerprint=2]="source_fingerprint",r[r.depth=3]="depth"})(g0||(g0={}));var Id=class extends _se.RegistryItem{constructor(e=[],t,n){super(),this.components=e,this.sourceFingerprint=t,this.depth=n,this.getRegistryType=()=>wse.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(o=>`${o.isWildcard()?"*":o.getIndex()}${o.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},o=[];return this.components&&this.components.forEach(a=>{a.isWildcard()?o.push([]):o.push(a.getIndex()),o.push(a.isHardened())}),i[g0.components]=o,this.sourceFingerprint&&(i[g0.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[g0.depth]=this.depth),new IU.DataItem(i)}}};Xw.CryptoKeypath=Id;Id.fromDataItem=r=>{let e=r.getData(),t=[],n=e[g0.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?t.push(new bU.PathComponent({index:f,hardened:u})):t.push(new bU.PathComponent({hardened:u}))}let i=e[g0.source_fingerprint],o;i&&(o=m.Buffer.alloc(4),o.writeUInt32BE(i,0));let a=e[g0.depth];return new Id(t,o,a)};Id.fromCBOR=r=>{let e=IU.decodeToDataItem(r);return Id.fromDataItem(e)}});var rp=b(Jw=>{"use strict";d();h();Object.defineProperty(Jw,"__esModule",{value:!0});Jw.CryptoHDKey=void 0;var Ese=ll(),bse=Yw(),TU=ky(),SU=gn(),Ise=Yi(),Tse=yn(),At;(function(r){r[r.is_master=1]="is_master",r[r.is_private=2]="is_private",r[r.key_data=3]="key_data",r[r.chain_code=4]="chain_code",r[r.use_info=5]="use_info",r[r.origin=6]="origin",r[r.children=7]="children",r[r.parent_fingerprint=8]="parent_fingerprint",r[r.name=9]="name",r[r.note=10]="note"})(At||(At={}));var Td=class extends Ise.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var t,n,i;let o,a,s=0,u=m.Buffer.alloc(4).fill(0);if(this.isMaster())o=m.Buffer.from("0488ADE4","hex"),a=0,s=0;else{a=((t=this.getOrigin())===null||t===void 0?void 0:t.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());let v=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),_=v[v.length-1];_&&(s=_.isHardened()?_.getIndex()+2147483648:_.getIndex(),this.getParentFingerprint()&&(u=this.getParentFingerprint())),this.isPrivateKey()?o=m.Buffer.from("0488ADE4","hex"):o=m.Buffer.from("0488B21E","hex")}let f=m.Buffer.alloc(1);f.writeUInt8(a,0);let l=m.Buffer.alloc(4);l.writeUInt32BE(s,0);let p=this.getChainCode(),g=this.getKey();return Ese.encode(m.Buffer.concat([o,f,u,l,p,g]))},this.getRegistryType=()=>Tse.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var t,n,i,o,a,s,u;let f="";return this.getOrigin()&&((t=this.getOrigin())===null||t===void 0?void 0:t.getSourceFingerprint())&&((n=this.getOrigin())===null||n===void 0?void 0:n.getPath())&&(f+=`${(o=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||o===void 0?void 0:o.toString("hex")}/${(a=this.getOrigin())===null||a===void 0?void 0:a.getPath()}`),f+=this.getBip32Key(),this.getChildren()&&!((s=this.getChildren())===null||s===void 0)&&s.getPath()&&(f+=`/${(u=this.getChildren())===null||u===void 0?void 0:u.getPath()}`),f},this.setupMasterKey=t=>{this.master=!0,this.key=t.key,this.chainCode=t.chainCode},this.setupDeriveKey=t=>{this.master=!1,this.privateKey=t.isPrivateKey,this.key=t.key,this.chainCode=t.chainCode,this.useInfo=t.useInfo,this.origin=t.origin,this.children=t.children,this.parentFingerprint=t.parentFingerprint,this.name=t.name,this.note=t.note},this.toDataItem=()=>{let t={};if(this.master)t[At.is_master]=!0,t[At.key_data]=this.key,t[At.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(t[At.is_private]=this.privateKey),t[At.key_data]=this.key,this.chainCode&&(t[At.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),t[At.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),t[At.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),t[At.children]=n}this.parentFingerprint&&(t[At.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(t[At.name]=this.name),this.note!==void 0&&(t[At.note]=this.note)}return new SU.DataItem(t)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};Jw.CryptoHDKey=Td;Td.fromDataItem=r=>{let e=r.getData(),t=!!e[At.is_master],n=e[At.is_private],i=e[At.key_data],o=e[At.chain_code],a=e[At.use_info]?bse.CryptoCoinInfo.fromDataItem(e[At.use_info]):void 0,s=e[At.origin]?TU.CryptoKeypath.fromDataItem(e[At.origin]):void 0,u=e[At.children]?TU.CryptoKeypath.fromDataItem(e[At.children]):void 0,f=e[At.parent_fingerprint],l;f&&(l=m.Buffer.alloc(4),l.writeUInt32BE(f,0));let p=e[At.name],g=e[At.note];return new Td({isMaster:t,isPrivateKey:n,key:i,chainCode:o,useInfo:a,origin:s,children:u,parentFingerprint:l,name:p,note:g})};Td.fromCBOR=r=>{let e=SU.decodeToDataItem(r);return Td.fromDataItem(e)}});var jy=b($w=>{"use strict";d();h();Object.defineProperty($w,"__esModule",{value:!0});$w.CryptoECKey=void 0;var CU=gn(),Sse=Yi(),Cse=yn(),y0;(function(r){r[r.curve=1]="curve",r[r.private=2]="private",r[r.data=3]="data"})(y0||(y0={}));var Sd=class extends Sse.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>Cse.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let t={};return this.curve&&(t[y0.curve]=this.curve),this.privateKey!==void 0&&(t[y0.private]=this.privateKey),t[y0.data]=this.data,new CU.DataItem(t)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||void 0}};$w.CryptoECKey=Sd;Sd.fromDataItem=r=>{let e=r.getData(),t=e[y0.curve],n=e[y0.private],i=e[y0.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${r}`);return new Sd({data:i,curve:t,privateKey:n})};Sd.fromCBOR=r=>{let e=CU.decodeToDataItem(r);return Sd.fromDataItem(e)}});var OU=b(Zw=>{"use strict";d();h();Object.defineProperty(Zw,"__esModule",{value:!0});Zw.Bytes=void 0;var AU=gn(),Ase=Yi(),Ose=yn(),Cd=class extends Ase.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>Ose.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new AU.DataItem(this.bytes)}};Zw.Bytes=Cd;Cd.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new Cd(e)};Cd.fromCBOR=r=>{let e=AU.decodeToDataItem(r);return Cd.fromDataItem(e)}});var e4=b(Qw=>{"use strict";d();h();Object.defineProperty(Qw,"__esModule",{value:!0});Qw.MultiKey=void 0;var Dse=jy(),Rse=rp(),Pse=Lw(),Bse=Yi(),DU=yn(),np;(function(r){r[r.threshold=1]="threshold",r[r.keys=2]="keys"})(np||(np={}));var Hy=class extends Bse.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{let n={};n[np.threshold]=this.threshold;let i=this.keys.map(o=>{let a=o.toDataItem();return a.setTag(o.getRegistryType().getTag()),a});return n[np.keys]=i,new Pse.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};Qw.MultiKey=Hy;Hy.fromDataItem=r=>{let e=r.getData(),t=e[np.threshold],n=e[np.keys],i=[];return n.forEach(o=>{o.getTag()===DU.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(Rse.CryptoHDKey.fromDataItem(o)):o.getTag()===DU.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(Dse.CryptoECKey.fromDataItem(o))}),new Hy(t,i)}});var nC=b(t4=>{"use strict";d();h();Object.defineProperty(t4,"__esModule",{value:!0});t4.CryptoOutput=void 0;var eC=jy(),tC=rp(),rC=gn(),RU=e4(),Nse=Yi(),PU=yn(),QS=Vw(),Bf=class extends Nse.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>PU.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof tC.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof eC.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof RU.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof eC.CryptoECKey||this.cryptoKey instanceof tC.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(o=>{let a=o.getTag();n.getTag()===void 0?n.setTag(a):n=new rC.DataItem(n,a)}),n}}};t4.CryptoOutput=Bf;Bf.fromDataItem=r=>{let e=[],t=r;for(;;){let o=t.getTag(),a=QS.ScriptExpression.fromTag(o);if(a)if(e.push(a),t.getData()instanceof rC.DataItem)t=t.getData(),o=t.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===QS.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===QS.ScriptExpressions.SORTED_MULTISIG.getExpression())){let o=RU.MultiKey.fromDataItem(t);return new Bf(e,o)}if(t.getTag()===PU.RegistryTypes.CRYPTO_HDKEY.getTag()){let o=tC.CryptoHDKey.fromDataItem(t);return new Bf(e,o)}else{let o=eC.CryptoECKey.fromDataItem(t);return new Bf(e,o)}};Bf.fromCBOR=r=>{let e=rC.decodeToDataItem(r);return Bf.fromDataItem(e)}});var iC=b(r4=>{"use strict";d();h();Object.defineProperty(r4,"__esModule",{value:!0});r4.CryptoPSBT=void 0;var BU=gn(),Mse=Yi(),qse=yn(),Ad=class extends Mse.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>qse.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new BU.DataItem(this.psbt)}};r4.CryptoPSBT=Ad;Ad.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new Ad(e)};Ad.fromCBOR=r=>{let e=BU.decodeToDataItem(r);return Ad.fromDataItem(e)}});var oC=b(n4=>{"use strict";d();h();Object.defineProperty(n4,"__esModule",{value:!0});n4.CryptoAccount=void 0;var Fse=i4(),NU=gn(),Use=Yi(),Lse=yn(),ip;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.outputDescriptors=2]="outputDescriptors"})(ip||(ip={}));var Od=class extends Use.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>Lse.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[ip.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[ip.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new NU.DataItem(n)}}};n4.CryptoAccount=Od;Od.fromDataItem=r=>{let e=r.getData(),t=m.Buffer.alloc(4),n=e[ip.masterFingerprint];n&&t.writeUInt32BE(n,0);let o=e[ip.outputDescriptors].map(a=>Fse.CryptoOutput.fromDataItem(a));return new Od(t,o)};Od.fromCBOR=r=>{let e=NU.decodeToDataItem(r);return Od.fromDataItem(e)}});var sC=b(o4=>{"use strict";d();h();Object.defineProperty(o4,"__esModule",{value:!0});o4.UnknownURTypeError=void 0;var aC=class extends Error{constructor(e){super(e)}};o4.UnknownURTypeError=aC});var fC=b(a4=>{"use strict";d();h();Object.defineProperty(a4,"__esModule",{value:!0});a4.URRegistryDecoder=void 0;var kse=Gr(),m0=i4(),v0=yn(),jse=sC(),uC=class extends kse.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case v0.RegistryTypes.BYTES.getType():return m0.Bytes.fromCBOR(e.cbor);case v0.RegistryTypes.CRYPTO_HDKEY.getType():return m0.CryptoHDKey.fromCBOR(e.cbor);case v0.RegistryTypes.CRYPTO_KEYPATH.getType():return m0.CryptoKeypath.fromCBOR(e.cbor);case v0.RegistryTypes.CRYPTO_COIN_INFO.getType():return m0.CryptoCoinInfo.fromCBOR(e.cbor);case v0.RegistryTypes.CRYPTO_ECKEY.getType():return m0.CryptoECKey.fromCBOR(e.cbor);case v0.RegistryTypes.CRYPTO_OUTPUT.getType():return m0.CryptoOutput.fromCBOR(e.cbor);case v0.RegistryTypes.CRYPTO_PSBT.getType():return m0.CryptoPSBT.fromCBOR(e.cbor);case v0.RegistryTypes.CRYPTO_ACCOUNT.getType():return m0.CryptoAccount.fromCBOR(e.cbor);default:throw new jse.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};a4.URRegistryDecoder=uC});var cC=b(s4=>{"use strict";d();h();Object.defineProperty(s4,"__esModule",{value:!0});s4.CryptoMultiAccounts=void 0;var Hse=yn(),Kse=rp(),Vse=Yi(),MU=gn(),x0;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.keys=2]="keys",r[r.device=3]="device"})(x0||(x0={}));var Dd=class extends Vse.RegistryItem{constructor(e,t,n){super(),this.masterFingerprint=e,this.keys=t,this.device=n,this.getRegistryType=()=>Hse.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{let i={};return this.masterFingerprint&&(i[x0.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(i[x0.keys]=this.keys.map(o=>{let a=o.toDataItem();return a.setTag(o.getRegistryType().getTag()),a})),this.device&&(i[x0.device]=this.device),new MU.DataItem(i)}}};s4.CryptoMultiAccounts=Dd;Dd.fromDataItem=r=>{let e=r.getData(),t=m.Buffer.alloc(4),n=e[x0.masterFingerprint];n&&t.writeUInt32BE(n,0);let o=e[x0.keys].map(s=>Kse.CryptoHDKey.fromDataItem(s)),a=e[x0.device];return new Dd(t,o,a)};Dd.fromCBOR=r=>{let e=MU.decodeToDataItem(r);return Dd.fromDataItem(e)}});var lC=b(Cu=>{"use strict";d();h();Object.defineProperty(Cu,"__esModule",{value:!0});Cu.KeyDerivation=Cu.DerivationAlgorithm=Cu.Curve=void 0;var Gse=yn(),Yse=Yi(),qU=gn(),zse=ky(),Su;(function(r){r[r.keyPaths=1]="keyPaths",r[r.curve=2]="curve",r[r.algo=3]="algo",r[r.origin=4]="origin"})(Su||(Su={}));var FU;(function(r){r.secp256k1="secp256k1",r.ed25519="ed25519"})(FU=Cu.Curve||(Cu.Curve={}));var UU;(function(r){r.slip10="slip10",r.bip32ed25519="bip32ed25519"})(UU=Cu.DerivationAlgorithm||(Cu.DerivationAlgorithm={}));var Rd=class extends Yse.RegistryItem{constructor(e,t=FU.secp256k1,n=UU.slip10,i){super(),this.keypaths=e,this.curve=t,this.algo=n,this.origin=i,this.getRegistryType=()=>Gse.RegistryTypes.KEY_DERIVATION_CALL,this.getKeypaths=()=>this.keypaths,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let o={};return o[Su.keyPaths]=this.keypaths.map(a=>{let s=a.toDataItem();return s.setTag(a.getRegistryType().getTag()),s}),o[Su.curve]=this.curve,o[Su.algo]=this.algo,this.origin&&(o[Su.origin]=this.origin),new qU.DataItem(o)}}};Cu.KeyDerivation=Rd;Rd.fromDataItem=r=>{let e=r.getData(),t=e[Su.keyPaths].map(a=>zse.CryptoKeypath.fromDataItem(a)),n=e[Su.curve],i=e[Su.algo],o=e[Su.origin];return new Rd(t,n,i,o)};Rd.fromCBOR=r=>{let e=qU.decodeToDataItem(r);return Rd.fromDataItem(e)}});var kU=b(Bd=>{"use strict";d();h();Object.defineProperty(Bd,"__esModule",{value:!0});Bd.QRHardwareCall=Bd.QRHardwareCallName=void 0;var Wse=yn(),Xse=Yi(),LU=gn(),Jse=lC(),op;(function(r){r[r.name=1]="name",r[r.params=2]="params"})(op||(op={}));var dC;(function(r){r.KeyDerivation="key-derivation"})(dC=Bd.QRHardwareCallName||(Bd.QRHardwareCallName={}));var Pd=class extends Xse.RegistryItem{constructor(e,t){super(),this.name=e,this.params=t,this.getRegistryType=()=>Wse.RegistryTypes.QR_HARDWARE_CALL,this.getName=()=>this.name,this.getParams=()=>this.params,this.toDataItem=()=>{let n={};n[op.name]=this.name;let i=this.params.toDataItem();return i.setTag(this.params.getRegistryType().getTag()),n[op.params]=i,new LU.DataItem(n)}}};Bd.QRHardwareCall=Pd;Pd.fromDataItem=r=>{let e=r.getData(),t=e[op.name]||dC.KeyDerivation,n;switch(t){case dC.KeyDerivation:n=Jse.KeyDerivation.fromDataItem(e[op.params])}return new Pd(t,n)};Pd.fromCBOR=r=>{let e=LU.decodeToDataItem(r);return Pd.fromDataItem(e)}});var HU=b(jU=>{"use strict";d();h();Object.defineProperty(jU,"__esModule",{value:!0})});var i4=b(Ce=>{"use strict";d();h();Object.defineProperty(Ce,"__esModule",{value:!0});Ce.Buffer=Ce.extend=Ce.PathComponent=Ce.ScriptExpressions=Ce.MultiKey=Ce.CryptoPSBT=Ce.CryptoOutput=Ce.CryptoECKey=Ce.CryptoCoinInfoNetwork=Ce.CryptoCoinInfoType=Ce.CryptoCoinInfo=Ce.CryptoKeypath=Ce.CryptoMultiAccounts=Ce.CryptoHDKey=Ce.CryptoAccount=Ce.Bytes=Ce.URRegistryDecoder=Ce.DataItem=void 0;var Tr=Fg();$S();var $se=Xh();Object.defineProperty(Ce,"Buffer",{enumerable:!0,get:function(){return $se.Buffer}});var VU=rp();Object.defineProperty(Ce,"CryptoHDKey",{enumerable:!0,get:function(){return VU.CryptoHDKey}});var GU=ky();Object.defineProperty(Ce,"CryptoKeypath",{enumerable:!0,get:function(){return GU.CryptoKeypath}});var sp=Yw();Object.defineProperty(Ce,"CryptoCoinInfo",{enumerable:!0,get:function(){return sp.CryptoCoinInfo}});Object.defineProperty(Ce,"CryptoCoinInfoType",{enumerable:!0,get:function(){return sp.Type}});Object.defineProperty(Ce,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return sp.Network}});var YU=jy();Object.defineProperty(Ce,"CryptoECKey",{enumerable:!0,get:function(){return YU.CryptoECKey}});var zU=OU();Object.defineProperty(Ce,"Bytes",{enumerable:!0,get:function(){return zU.Bytes}});var WU=nC();Object.defineProperty(Ce,"CryptoOutput",{enumerable:!0,get:function(){return WU.CryptoOutput}});var XU=iC();Object.defineProperty(Ce,"CryptoPSBT",{enumerable:!0,get:function(){return XU.CryptoPSBT}});var JU=oC();Object.defineProperty(Ce,"CryptoAccount",{enumerable:!0,get:function(){return JU.CryptoAccount}});var $U=fC();Object.defineProperty(Ce,"URRegistryDecoder",{enumerable:!0,get:function(){return $U.URRegistryDecoder}});var ZU=e4();Object.defineProperty(Ce,"MultiKey",{enumerable:!0,get:function(){return ZU.MultiKey}});var QU=Vw();Object.defineProperty(Ce,"ScriptExpressions",{enumerable:!0,get:function(){return QU.ScriptExpressions}});var eL=Ww();Object.defineProperty(Ce,"PathComponent",{enumerable:!0,get:function(){return eL.PathComponent}});var Zse=Yi(),KU=yn(),ap=gn(),Qse=gn();Object.defineProperty(Ce,"DataItem",{enumerable:!0,get:function(){return Qse.DataItem}});var eue=Kw(),tL=cC();Object.defineProperty(Ce,"CryptoMultiAccounts",{enumerable:!0,get:function(){return tL.CryptoMultiAccounts}});var tue={URRegistryDecoder:$U.URRegistryDecoder,Bytes:zU.Bytes,CryptoAccount:JU.CryptoAccount,CryptoHDKey:VU.CryptoHDKey,CryptoMultiAccounts:tL.CryptoMultiAccounts,CryptoKeypath:GU.CryptoKeypath,CryptoCoinInfo:sp.CryptoCoinInfo,CryptoCoinInfoType:sp.Type,CryptoCoinInfoNetwork:sp.Network,CryptoECKey:YU.CryptoECKey,CryptoOutput:WU.CryptoOutput,CryptoPSBT:XU.CryptoPSBT,MultiKey:ZU.MultiKey,ScriptExpressions:QU.ScriptExpressions,PathComponent:eL.PathComponent},rue={addReader:ap.addReader,addSemanticDecode:ap.addSemanticDecode,addSemanticEncode:ap.addSemanticEncode,addWriter:ap.addWriter,patchTags:eue.patchTags},nue={RegistryTypes:KU.RegistryTypes,RegistryItem:Zse.RegistryItem,RegistryType:KU.RegistryType,decodeToDataItem:ap.decodeToDataItem,encodeDataItem:ap.encodeDataItem,cbor:rue};Ce.extend=nue;Tr.__exportStar(sC(),Ce);Tr.__exportStar(fC(),Ce);Tr.__exportStar(gn(),Ce);Tr.__exportStar(oC(),Ce);Tr.__exportStar(iC(),Ce);Tr.__exportStar(rp(),Ce);Tr.__exportStar(cC(),Ce);Tr.__exportStar(kU(),Ce);Tr.__exportStar(lC(),Ce);Tr.__exportStar(nC(),Ce);Tr.__exportStar(Yw(),Ce);Tr.__exportStar(jy(),Ce);Tr.__exportStar(e4(),Ce);Tr.__exportStar(ky(),Ce);Tr.__exportStar($S(),Ce);Tr.__exportStar(Ww(),Ce);Tr.__exportStar(Yi(),Ce);Tr.__exportStar(yn(),Ce);Tr.__exportStar(HU(),Ce);Tr.__exportStar(Kw(),Ce);Ce.default=tue});function Ky(){if(!u4&&(u4=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!u4))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u4(iue)}var u4,iue,hC=de(()=>{d();h();iue=new Uint8Array(16)});var rL,nL=de(()=>{d();h();rL=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function oue(r){return typeof r=="string"&&rL.test(r)}var _0,Vy=de(()=>{d();h();nL();_0=oue});function aue(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(mn[r[e+0]]+mn[r[e+1]]+mn[r[e+2]]+mn[r[e+3]]+"-"+mn[r[e+4]]+mn[r[e+5]]+"-"+mn[r[e+6]]+mn[r[e+7]]+"-"+mn[r[e+8]]+mn[r[e+9]]+"-"+mn[r[e+10]]+mn[r[e+11]]+mn[r[e+12]]+mn[r[e+13]]+mn[r[e+14]]+mn[r[e+15]]).toLowerCase();if(!_0(t))throw TypeError("Stringified UUID is invalid");return t}var mn,f4,w0,Gy=de(()=>{d();h();Vy();mn=[];for(f4=0;f4<256;++f4)mn.push((f4+256).toString(16).substr(1));w0=aue});function sue(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var o=r.node||iL,a=r.clockseq!==void 0?r.clockseq:pC;if(o==null||a==null){var s=r.random||(r.rng||Ky)();o==null&&(o=iL=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=pC=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:yC+1,l=u-gC+(f-yC)/1e4;if(l<0&&r.clockseq===void 0&&(a=a+1&16383),(l<0||u>gC)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");gC=u,yC=f,pC=a,u+=122192928e5;var p=((u&268435455)*1e4+f)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=p&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var v=0;v<6;++v)i[n+v]=o[v];return e||w0(i)}var iL,pC,gC,yC,oL,aL=de(()=>{d();h();hC();Gy();gC=0,yC=0;oL=sue});function uue(r){if(!_0(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var c4,mC=de(()=>{d();h();Vy();c4=uue});function fue(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function l4(r,e,t){function n(i,o,a,s){if(typeof i=="string"&&(i=fue(i)),typeof o=="string"&&(o=c4(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,a){s=s||0;for(var f=0;f<16;++f)a[s+f]=u[f];return a}return w0(u)}try{n.name=r}catch{}return n.DNS=cue,n.URL=lue,n}var cue,lue,vC=de(()=>{d();h();Gy();mC();cue="6ba7b810-9dad-11d1-80b4-00c04fd430c8",lue="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function due(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return hue(pue(gue(r),r.length*8))}function hue(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var o=r[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(a)}return e}function sL(r){return(r+64>>>9<<4)+14+1}function pue(r,e){r[e>>5]|=128<<e%32,r[sL(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<r.length;a+=16){var s=t,u=n,f=i,l=o;t=fi(t,n,i,o,r[a],7,-680876936),o=fi(o,t,n,i,r[a+1],12,-389564586),i=fi(i,o,t,n,r[a+2],17,606105819),n=fi(n,i,o,t,r[a+3],22,-1044525330),t=fi(t,n,i,o,r[a+4],7,-176418897),o=fi(o,t,n,i,r[a+5],12,1200080426),i=fi(i,o,t,n,r[a+6],17,-1473231341),n=fi(n,i,o,t,r[a+7],22,-45705983),t=fi(t,n,i,o,r[a+8],7,1770035416),o=fi(o,t,n,i,r[a+9],12,-1958414417),i=fi(i,o,t,n,r[a+10],17,-42063),n=fi(n,i,o,t,r[a+11],22,-1990404162),t=fi(t,n,i,o,r[a+12],7,1804603682),o=fi(o,t,n,i,r[a+13],12,-40341101),i=fi(i,o,t,n,r[a+14],17,-1502002290),n=fi(n,i,o,t,r[a+15],22,1236535329),t=ci(t,n,i,o,r[a+1],5,-165796510),o=ci(o,t,n,i,r[a+6],9,-1069501632),i=ci(i,o,t,n,r[a+11],14,643717713),n=ci(n,i,o,t,r[a],20,-373897302),t=ci(t,n,i,o,r[a+5],5,-701558691),o=ci(o,t,n,i,r[a+10],9,38016083),i=ci(i,o,t,n,r[a+15],14,-660478335),n=ci(n,i,o,t,r[a+4],20,-405537848),t=ci(t,n,i,o,r[a+9],5,568446438),o=ci(o,t,n,i,r[a+14],9,-1019803690),i=ci(i,o,t,n,r[a+3],14,-187363961),n=ci(n,i,o,t,r[a+8],20,1163531501),t=ci(t,n,i,o,r[a+13],5,-1444681467),o=ci(o,t,n,i,r[a+2],9,-51403784),i=ci(i,o,t,n,r[a+7],14,1735328473),n=ci(n,i,o,t,r[a+12],20,-1926607734),t=li(t,n,i,o,r[a+5],4,-378558),o=li(o,t,n,i,r[a+8],11,-2022574463),i=li(i,o,t,n,r[a+11],16,1839030562),n=li(n,i,o,t,r[a+14],23,-35309556),t=li(t,n,i,o,r[a+1],4,-1530992060),o=li(o,t,n,i,r[a+4],11,1272893353),i=li(i,o,t,n,r[a+7],16,-155497632),n=li(n,i,o,t,r[a+10],23,-1094730640),t=li(t,n,i,o,r[a+13],4,681279174),o=li(o,t,n,i,r[a],11,-358537222),i=li(i,o,t,n,r[a+3],16,-722521979),n=li(n,i,o,t,r[a+6],23,76029189),t=li(t,n,i,o,r[a+9],4,-640364487),o=li(o,t,n,i,r[a+12],11,-421815835),i=li(i,o,t,n,r[a+15],16,530742520),n=li(n,i,o,t,r[a+2],23,-995338651),t=di(t,n,i,o,r[a],6,-198630844),o=di(o,t,n,i,r[a+7],10,1126891415),i=di(i,o,t,n,r[a+14],15,-1416354905),n=di(n,i,o,t,r[a+5],21,-57434055),t=di(t,n,i,o,r[a+12],6,1700485571),o=di(o,t,n,i,r[a+3],10,-1894986606),i=di(i,o,t,n,r[a+10],15,-1051523),n=di(n,i,o,t,r[a+1],21,-2054922799),t=di(t,n,i,o,r[a+8],6,1873313359),o=di(o,t,n,i,r[a+15],10,-30611744),i=di(i,o,t,n,r[a+6],15,-1560198380),n=di(n,i,o,t,r[a+13],21,1309151649),t=di(t,n,i,o,r[a+4],6,-145523070),o=di(o,t,n,i,r[a+11],10,-1120210379),i=di(i,o,t,n,r[a+2],15,718787259),n=di(n,i,o,t,r[a+9],21,-343485551),t=E0(t,s),n=E0(n,u),i=E0(i,f),o=E0(o,l)}return[t,n,i,o]}function gue(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(sL(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function E0(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function yue(r,e){return r<<e|r>>>32-e}function d4(r,e,t,n,i,o){return E0(yue(E0(E0(e,r),E0(n,o)),i),t)}function fi(r,e,t,n,i,o,a){return d4(e&t|~e&n,r,e,i,o,a)}function ci(r,e,t,n,i,o,a){return d4(e&n|t&~n,r,e,i,o,a)}function li(r,e,t,n,i,o,a){return d4(e^t^n,r,e,i,o,a)}function di(r,e,t,n,i,o,a){return d4(t^(e|~n),r,e,i,o,a)}var uL,fL=de(()=>{d();h();uL=due});var mue,cL,lL=de(()=>{d();h();vC();fL();mue=l4("v3",48,uL),cL=mue});function vue(r,e,t){r=r||{};var n=r.random||(r.rng||Ky)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return w0(n)}var dL,hL=de(()=>{d();h();hC();Gy();dL=vue});function xue(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function xC(r,e){return r<<e|r>>>32-e}function _ue(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var f=new Uint32Array(16),l=0;l<16;++l)f[l]=r[u*64+l*4]<<24|r[u*64+l*4+1]<<16|r[u*64+l*4+2]<<8|r[u*64+l*4+3];s[u]=f}s[a-1][14]=(r.length-1)*8/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=(r.length-1)*8&4294967295;for(var p=0;p<a;++p){for(var g=new Uint32Array(80),v=0;v<16;++v)g[v]=s[p][v];for(var _=16;_<80;++_)g[_]=xC(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var T=t[0],O=t[1],R=t[2],D=t[3],U=t[4],K=0;K<80;++K){var A=Math.floor(K/20),c=xC(T,5)+xue(A,O,R,D)+U+e[A]+g[K]>>>0;U=D,D=R,R=xC(O,30)>>>0,O=T,T=c}t[0]=t[0]+T>>>0,t[1]=t[1]+O>>>0,t[2]=t[2]+R>>>0,t[3]=t[3]+D>>>0,t[4]=t[4]+U>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var pL,gL=de(()=>{d();h();pL=_ue});var wue,yL,mL=de(()=>{d();h();vC();gL();wue=l4("v5",80,pL),yL=wue});var vL,xL=de(()=>{d();h();vL="00000000-0000-0000-0000-000000000000"});function Eue(r){if(!_0(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var _L,wL=de(()=>{d();h();Vy();_L=Eue});var EL={};fc(EL,{NIL:()=>vL,parse:()=>c4,stringify:()=>w0,v1:()=>oL,v3:()=>cL,v4:()=>dL,v5:()=>yL,validate:()=>_0,version:()=>_L});var bL=de(()=>{d();h();aL();lL();hL();mL();xL();wL();Vy();Gy();mC()});var IL=b(up=>{"use strict";d();h();Object.defineProperty(up,"__esModule",{value:!0});var Ot=i4(),bue=(bL(),cc(EL)),Yy={CARDANO_UTXO:new Ot.RegistryType("cardano-utxo",2201),CARDANO_SIGN_REQUEST:new Ot.RegistryType("cardano-sign-request",2202),CARDANO_SIGNATURE:new Ot.RegistryType("cardano-signature",2203),CARDANO_CERT_KEY:new Ot.RegistryType("cardano-cert-key",2204)},{decodeToDataItem:Iue}=Ot.extend,is;(function(r){r[r.transactionHash=1]="transactionHash",r[r.index=2]="index",r[r.amount=3]="amount",r[r.keyPath=4]="keyPath",r[r.address=5]="address"})(is||(is={}));var Au=class extends Ot.RegistryItem{constructor(e){super(),this.getRegistryType=()=>Yy.CARDANO_UTXO,this.getTransactionHash=()=>this.transactionHash,this.getIndex=()=>this.index,this.getKeyPath=()=>this.keyPath.getPath(),this.getAmount=()=>this.amount,this.getAddress=()=>this.address,this.toDataItem=()=>{let t={};this.transactionHash&&(t[is.transactionHash]=this.transactionHash),t[is.index]=this.index,t[is.amount]=this.amount;let n=this.keyPath.toDataItem();return n.setTag(this.keyPath.getRegistryType().getTag()),t[is.keyPath]=n,t[is.address]=this.address,new Ot.DataItem(t)},this.transactionHash=e.transactionHash,this.index=e.index,this.amount=e.amount,this.keyPath=e.keyPath,this.address=e.address}static constructCardanoUtxo({transactionHash:e,index:t,amount:n,xfp:i,hdPath:o,address:a}){let s=o.replace(/[m|M]\//,"").split("/"),u=new Ot.CryptoKeypath(s.map(f=>{let l=parseInt(f.replace("'","")),p=f.endsWith("'");return new Ot.PathComponent({index:l,hardened:p})}),m.Buffer.from(i,"hex"));return new Au({transactionHash:m.Buffer.from(e,"hex"),index:t,amount:n,keyPath:u,address:a})}};Au.fromDataItem=r=>{let e=r.getData(),t=e[is.transactionHash],n=e[is.index],i=Ot.CryptoKeypath.fromDataItem(e[is.keyPath]);return new Au({transactionHash:t,index:n,amount:e[is.amount],keyPath:i,address:e[is.address]})},Au.fromCBOR=r=>{let e=Iue(r);return Au.fromDataItem(e)};var{decodeToDataItem:Tue}=Ot.extend,fp;(function(r){r[r.keyHash=1]="keyHash",r[r.keyPath=2]="keyPath"})(fp||(fp={}));var Xs=class extends Ot.RegistryItem{constructor(e){super(),this.getRegistryType=()=>Yy.CARDANO_CERT_KEY,this.getKeyHash=()=>this.keyHash,this.getKeyPath=()=>this.keyPath.getPath(),this.toDataItem=()=>{let t={};t[fp.keyHash]=this.keyHash;let n=this.keyPath.toDataItem();return n.setTag(this.keyPath.getRegistryType().getTag()),t[fp.keyPath]=n,new Ot.DataItem(t)},this.keyHash=e.keyHash,this.keyPath=e.keyPath}static constructCardanoCertKey({keyHash:e,xfp:t,keyPath:n}){let i=n.replace(/[m|M]\//,"").split("/"),o=new Ot.CryptoKeypath(i.map(a=>{let s=parseInt(a.replace("'","")),u=a.endsWith("'");return new Ot.PathComponent({index:s,hardened:u})}),m.Buffer.from(t,"hex"));return new Xs({keyHash:m.Buffer.from(e,"hex"),keyPath:o})}};Xs.fromDataItem=r=>{let e=r.getData(),t=e[fp.keyHash],n=Ot.CryptoKeypath.fromDataItem(e[fp.keyPath]);return new Xs({keyHash:t,keyPath:n})},Xs.fromCBOR=r=>{let e=Tue(r);return Xs.fromDataItem(e)};var{decodeToDataItem:Sue,RegistryTypes:Cue}=Ot.extend,po;(function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.utxos=3]="utxos",r[r.extraSigners=4]="extraSigners",r[r.origin=5]="origin"})(po||(po={}));var Nf=class extends Ot.RegistryItem{constructor(e){super(),this.getRegistryType=()=>Yy.CARDANO_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getUtxos=()=>this.utxos,this.getAdditionalSigners=()=>this.extraSigners,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};return this.requestId&&(t[po.requestId]=new Ot.DataItem(this.requestId,Cue.UUID.getTag())),t[po.signData]=this.signData,t[po.utxos]=this.utxos.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),t[po.extraSigners]=this.extraSigners.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),this.origin&&(t[po.origin]=this.origin),new Ot.DataItem(t)},this.requestId=e.requestId,this.signData=e.signData,this.utxos=e.utxos,this.extraSigners=e.extraSigners,this.origin=e.origin}static constructCardanoSignRequest(e,t,n,i,o){let a=t.map(u=>Au.constructCardanoUtxo(u)),s=n.map(u=>Xs.constructCardanoCertKey(u));return new Nf({requestId:i?m.Buffer.from(bue.parse(i)):void 0,signData:e,utxos:a,extraSigners:s,origin:o||void 0})}};Nf.fromDataItem=r=>{let e=r.getData(),t=e[po.signData],n=e[po.utxos].map(a=>Au.fromDataItem(a)),i=e[po.extraSigners].map(a=>Xs.fromDataItem(a)),o=e[po.requestId]?e[po.requestId].getData():void 0;return new Nf({requestId:o,signData:t,utxos:n,extraSigners:i,origin:e[po.origin]?e[po.origin]:void 0})},Nf.fromCBOR=r=>{let e=Sue(r);return Nf.fromDataItem(e)};var{RegistryTypes:Aue,decodeToDataItem:Oue}=Ot.extend,Md;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature"})(Md||(Md={}));var Nd=class extends Ot.RegistryItem{constructor(e,t){super(),this.getRegistryType=()=>Yy.CARDANO_SIGNATURE,this.getRequestId=()=>this.requestId,this.getWitnessSet=()=>this.witnessSet,this.toDataItem=()=>{let n={};return this.requestId&&(n[Md.requestId]=new Ot.DataItem(this.requestId,Aue.UUID.getTag())),n[Md.signature]=this.witnessSet,new Ot.DataItem(n)},this.witnessSet=e,this.requestId=t}};Nd.fromDataItem=r=>{let e=r.getData(),t=e[Md.signature],n=e[Md.requestId]?e[Md.requestId].getData():void 0;return new Nd(t,n)},Nd.fromCBOR=r=>{let e=Oue(r);return Nd.fromDataItem(e)},Ot.patchTags(Object.values(Yy).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(Ot).forEach(function(r){r!=="default"&&Object.defineProperty(up,r,{enumerable:!0,get:function(){return Ot[r]}})}),up.CardanoCertKey=Xs,up.CardanoSignRequest=Nf,up.CardanoSignature=Nd});var SL=b((SHe,TL)=>{"use strict";d();h();TL.exports=IL()});var OL=b(h4=>{"use strict";d();h();Object.defineProperty(h4,"__esModule",{value:!0});h4.KeystoneCardanoSDK=void 0;var CL=SL(),AL=Qr(),Due=so(),_C=class{parseSignature(e){if(e.type!==Due.URType.CardanoSignature)throw new Error("type not match");let t=CL.CardanoSignature.fromCBOR(e.cbor),n=t.getRequestId();return{requestId:m.Buffer.isBuffer(n)?(0,AL.uuidStringify)(n):"",witnessSet:(0,AL.toHex)(t.getWitnessSet())}}generateSignRequest({signData:e,utxos:t,extraSigners:n,requestId:i,origin:o}){return CL.CardanoSignRequest.constructCardanoSignRequest(e,t,n,i,o).toUR()}};h4.KeystoneCardanoSDK=_C});function zy(){if(!p4&&(p4=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!p4))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p4(Rue)}var p4,Rue,wC=de(()=>{d();h();Rue=new Uint8Array(16)});var DL,RL=de(()=>{d();h();DL=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Pue(r){return typeof r=="string"&&DL.test(r)}var b0,Wy=de(()=>{d();h();RL();b0=Pue});function Bue(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(vn[r[e+0]]+vn[r[e+1]]+vn[r[e+2]]+vn[r[e+3]]+"-"+vn[r[e+4]]+vn[r[e+5]]+"-"+vn[r[e+6]]+vn[r[e+7]]+"-"+vn[r[e+8]]+vn[r[e+9]]+"-"+vn[r[e+10]]+vn[r[e+11]]+vn[r[e+12]]+vn[r[e+13]]+vn[r[e+14]]+vn[r[e+15]]).toLowerCase();if(!b0(t))throw TypeError("Stringified UUID is invalid");return t}var vn,g4,I0,Xy=de(()=>{d();h();Wy();vn=[];for(g4=0;g4<256;++g4)vn.push((g4+256).toString(16).substr(1));I0=Bue});function Nue(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var o=r.node||PL,a=r.clockseq!==void 0?r.clockseq:EC;if(o==null||a==null){var s=r.random||(r.rng||zy)();o==null&&(o=PL=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=EC=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:IC+1,l=u-bC+(f-IC)/1e4;if(l<0&&r.clockseq===void 0&&(a=a+1&16383),(l<0||u>bC)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");bC=u,IC=f,EC=a,u+=122192928e5;var p=((u&268435455)*1e4+f)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=p&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var v=0;v<6;++v)i[n+v]=o[v];return e||I0(i)}var PL,EC,bC,IC,BL,NL=de(()=>{d();h();wC();Xy();bC=0,IC=0;BL=Nue});function Mue(r){if(!b0(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var y4,TC=de(()=>{d();h();Wy();y4=Mue});function que(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function m4(r,e,t){function n(i,o,a,s){if(typeof i=="string"&&(i=que(i)),typeof o=="string"&&(o=y4(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,a){s=s||0;for(var f=0;f<16;++f)a[s+f]=u[f];return a}return I0(u)}try{n.name=r}catch{}return n.DNS=Fue,n.URL=Uue,n}var Fue,Uue,SC=de(()=>{d();h();Xy();TC();Fue="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Uue="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Lue(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return kue(jue(Hue(r),r.length*8))}function kue(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var o=r[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(a)}return e}function ML(r){return(r+64>>>9<<4)+14+1}function jue(r,e){r[e>>5]|=128<<e%32,r[ML(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<r.length;a+=16){var s=t,u=n,f=i,l=o;t=hi(t,n,i,o,r[a],7,-680876936),o=hi(o,t,n,i,r[a+1],12,-389564586),i=hi(i,o,t,n,r[a+2],17,606105819),n=hi(n,i,o,t,r[a+3],22,-1044525330),t=hi(t,n,i,o,r[a+4],7,-176418897),o=hi(o,t,n,i,r[a+5],12,1200080426),i=hi(i,o,t,n,r[a+6],17,-1473231341),n=hi(n,i,o,t,r[a+7],22,-45705983),t=hi(t,n,i,o,r[a+8],7,1770035416),o=hi(o,t,n,i,r[a+9],12,-1958414417),i=hi(i,o,t,n,r[a+10],17,-42063),n=hi(n,i,o,t,r[a+11],22,-1990404162),t=hi(t,n,i,o,r[a+12],7,1804603682),o=hi(o,t,n,i,r[a+13],12,-40341101),i=hi(i,o,t,n,r[a+14],17,-1502002290),n=hi(n,i,o,t,r[a+15],22,1236535329),t=pi(t,n,i,o,r[a+1],5,-165796510),o=pi(o,t,n,i,r[a+6],9,-1069501632),i=pi(i,o,t,n,r[a+11],14,643717713),n=pi(n,i,o,t,r[a],20,-373897302),t=pi(t,n,i,o,r[a+5],5,-701558691),o=pi(o,t,n,i,r[a+10],9,38016083),i=pi(i,o,t,n,r[a+15],14,-660478335),n=pi(n,i,o,t,r[a+4],20,-405537848),t=pi(t,n,i,o,r[a+9],5,568446438),o=pi(o,t,n,i,r[a+14],9,-1019803690),i=pi(i,o,t,n,r[a+3],14,-187363961),n=pi(n,i,o,t,r[a+8],20,1163531501),t=pi(t,n,i,o,r[a+13],5,-1444681467),o=pi(o,t,n,i,r[a+2],9,-51403784),i=pi(i,o,t,n,r[a+7],14,1735328473),n=pi(n,i,o,t,r[a+12],20,-1926607734),t=gi(t,n,i,o,r[a+5],4,-378558),o=gi(o,t,n,i,r[a+8],11,-2022574463),i=gi(i,o,t,n,r[a+11],16,1839030562),n=gi(n,i,o,t,r[a+14],23,-35309556),t=gi(t,n,i,o,r[a+1],4,-1530992060),o=gi(o,t,n,i,r[a+4],11,1272893353),i=gi(i,o,t,n,r[a+7],16,-155497632),n=gi(n,i,o,t,r[a+10],23,-1094730640),t=gi(t,n,i,o,r[a+13],4,681279174),o=gi(o,t,n,i,r[a],11,-358537222),i=gi(i,o,t,n,r[a+3],16,-722521979),n=gi(n,i,o,t,r[a+6],23,76029189),t=gi(t,n,i,o,r[a+9],4,-640364487),o=gi(o,t,n,i,r[a+12],11,-421815835),i=gi(i,o,t,n,r[a+15],16,530742520),n=gi(n,i,o,t,r[a+2],23,-995338651),t=yi(t,n,i,o,r[a],6,-198630844),o=yi(o,t,n,i,r[a+7],10,1126891415),i=yi(i,o,t,n,r[a+14],15,-1416354905),n=yi(n,i,o,t,r[a+5],21,-57434055),t=yi(t,n,i,o,r[a+12],6,1700485571),o=yi(o,t,n,i,r[a+3],10,-1894986606),i=yi(i,o,t,n,r[a+10],15,-1051523),n=yi(n,i,o,t,r[a+1],21,-2054922799),t=yi(t,n,i,o,r[a+8],6,1873313359),o=yi(o,t,n,i,r[a+15],10,-30611744),i=yi(i,o,t,n,r[a+6],15,-1560198380),n=yi(n,i,o,t,r[a+13],21,1309151649),t=yi(t,n,i,o,r[a+4],6,-145523070),o=yi(o,t,n,i,r[a+11],10,-1120210379),i=yi(i,o,t,n,r[a+2],15,718787259),n=yi(n,i,o,t,r[a+9],21,-343485551),t=T0(t,s),n=T0(n,u),i=T0(i,f),o=T0(o,l)}return[t,n,i,o]}function Hue(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(ML(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function T0(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function Kue(r,e){return r<<e|r>>>32-e}function v4(r,e,t,n,i,o){return T0(Kue(T0(T0(e,r),T0(n,o)),i),t)}function hi(r,e,t,n,i,o,a){return v4(e&t|~e&n,r,e,i,o,a)}function pi(r,e,t,n,i,o,a){return v4(e&n|t&~n,r,e,i,o,a)}function gi(r,e,t,n,i,o,a){return v4(e^t^n,r,e,i,o,a)}function yi(r,e,t,n,i,o,a){return v4(t^(e|~n),r,e,i,o,a)}var qL,FL=de(()=>{d();h();qL=Lue});var Vue,UL,LL=de(()=>{d();h();SC();FL();Vue=m4("v3",48,qL),UL=Vue});function Gue(r,e,t){r=r||{};var n=r.random||(r.rng||zy)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return I0(n)}var kL,jL=de(()=>{d();h();wC();Xy();kL=Gue});function Yue(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function CC(r,e){return r<<e|r>>>32-e}function zue(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var f=new Uint32Array(16),l=0;l<16;++l)f[l]=r[u*64+l*4]<<24|r[u*64+l*4+1]<<16|r[u*64+l*4+2]<<8|r[u*64+l*4+3];s[u]=f}s[a-1][14]=(r.length-1)*8/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=(r.length-1)*8&4294967295;for(var p=0;p<a;++p){for(var g=new Uint32Array(80),v=0;v<16;++v)g[v]=s[p][v];for(var _=16;_<80;++_)g[_]=CC(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var T=t[0],O=t[1],R=t[2],D=t[3],U=t[4],K=0;K<80;++K){var A=Math.floor(K/20),c=CC(T,5)+Yue(A,O,R,D)+U+e[A]+g[K]>>>0;U=D,D=R,R=CC(O,30)>>>0,O=T,T=c}t[0]=t[0]+T>>>0,t[1]=t[1]+O>>>0,t[2]=t[2]+R>>>0,t[3]=t[3]+D>>>0,t[4]=t[4]+U>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var HL,KL=de(()=>{d();h();HL=zue});var Wue,VL,GL=de(()=>{d();h();SC();KL();Wue=m4("v5",80,HL),VL=Wue});var YL,zL=de(()=>{d();h();YL="00000000-0000-0000-0000-000000000000"});function Xue(r){if(!b0(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var WL,XL=de(()=>{d();h();Wy();WL=Xue});var JL={};fc(JL,{NIL:()=>YL,parse:()=>y4,stringify:()=>I0,v1:()=>BL,v3:()=>UL,v4:()=>kL,v5:()=>VL,validate:()=>b0,version:()=>WL});var $L=de(()=>{d();h();NL();LL();jL();GL();zL();XL();Wy();Xy();TC()});var ZL=b(Ou=>{"use strict";d();h();Object.defineProperty(Ou,"__esModule",{value:!0});var xn=lu(),Jue=($L(),cc(JL)),_4={ARWEAVE_CRYPTO_ACCOUNT:new xn.RegistryType("arweave-crypto-account",5101),ARWEAVE_SIGN_REQUEST:new xn.RegistryType("arweave-sign-request",5102),ARWEAVE_SIGNATURE:new xn.RegistryType("arweave-signature",5103)},{decodeToDataItem:$ue,RegistryTypes:Zue}=xn.extend,cp,x4,Fr;(cp=Ou.SignType||(Ou.SignType={}))[cp.Transaction=1]="Transaction",cp[cp.DataItem=2]="DataItem",cp[cp.Message=3]="Message",(x4=Ou.SaltLen||(Ou.SaltLen={}))[x4.Zero=0]="Zero",x4[x4.Digest=32]="Digest",function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.requestId=2]="requestId",r[r.signData=3]="signData",r[r.signType=4]="signType",r[r.saltLen=5]="saltLen",r[r.origin=6]="origin",r[r.account=7]="account"}(Fr||(Fr={}));var Mf=class extends xn.RegistryItem{constructor(e){super(),this.getRegistryType=()=>_4.ARWEAVE_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getSignType=()=>this.signType,this.getSaltLen=()=>this.saltLen,this.getOrigin=()=>this.origin,this.getAccount=()=>this.account,this.getMasterFingerprint=()=>this.masterFingerprint,this.toDataItem=()=>{let t={};return this.requestId&&(t[Fr.requestId]=new xn.DataItem(this.requestId,Zue.UUID.getTag())),this.account&&(t[Fr.account]=this.account),this.origin&&(t[Fr.origin]=this.origin),t[Fr.masterFingerprint]=this.masterFingerprint.readUInt32BE(0),t[Fr.signData]=this.signData,t[Fr.signType]=this.signType,t[Fr.saltLen]=this.saltLen,new xn.DataItem(t)},this.masterFingerprint=e.masterFingerprint,this.requestId=e.requestId,this.signData=e.signData,this.signType=e.signType,this.saltLen=e.saltLen,this.origin=e.origin,this.account=e.account}static constructArweaveRequest(e,t,n,i,o,a,s){return new Mf({masterFingerprint:m.Buffer.from(t,"hex"),requestId:o?m.Buffer.from(Jue.parse(o)):void 0,signData:e,signType:n,saltLen:i,account:a,origin:s})}};Mf.fromDataItem=r=>{let e=r.getData(),t=e[Fr.signData],n=e[Fr.account]?e[Fr.account]:void 0,i=e[Fr.requestId]?e[Fr.requestId].getData():void 0,o=e[Fr.origin]?e[Fr.origin]:void 0,a=e[Fr.signType],s=e[Fr.saltLen],u=m.Buffer.alloc(4);return u.writeUInt32BE(e[Fr.masterFingerprint],0),new Mf({masterFingerprint:u,requestId:i,signData:t,signType:a,saltLen:s,origin:o,account:n})},Mf.fromCBOR=r=>{let e=$ue(r);return Mf.fromDataItem(e)};var{RegistryTypes:Que,decodeToDataItem:efe}=xn.extend,Ud;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature"})(Ud||(Ud={}));var Fd=class extends xn.RegistryItem{constructor(e,t){super(),this.getRegistryType=()=>_4.ARWEAVE_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{let n={};return this.requestId&&(n[Ud.requestId]=new xn.DataItem(this.requestId,Que.UUID.getTag())),n[Ud.signature]=this.signature,new xn.DataItem(n)},this.signature=e,this.requestId=t}};Fd.fromDataItem=r=>{let e=r.getData(),t=e[Ud.signature],n=e[Ud.requestId]?e[Ud.requestId].getData():void 0;return new Fd(t,n)},Fd.fromCBOR=r=>{let e=efe(r);return Fd.fromDataItem(e)};var{decodeToDataItem:tfe}=xn.extend,qf;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.keyData=2]="keyData",r[r.device=3]="device"})(qf||(qf={}));var qd=class extends xn.RegistryItem{constructor(e,t,n){super(),this.masterFingerprint=e,this.keyData=t,this.device=n,this.getRegistryType=()=>_4.ARWEAVE_CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeyData=()=>this.keyData,this.getDevice=()=>this.device,this.toDataItem=()=>{let i={};return i[qf.masterFingerprint]=this.masterFingerprint.readUInt32BE(0),i[qf.keyData]=this.keyData,this.device&&(i[qf.device]=this.device),new xn.DataItem(i)}}};qd.fromDataItem=r=>{let e=r.getData(),t=e[qf.keyData],n=m.Buffer.alloc(4);return n.writeUInt32BE(e[qf.masterFingerprint],0),new qd(n,t,e[qf.device]?e[qf.device]:void 0)},qd.fromCBOR=r=>{let e=tfe(r);return qd.fromDataItem(e)},xn.patchTags(Object.values(_4).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(xn).forEach(function(r){r!=="default"&&Object.defineProperty(Ou,r,{enumerable:!0,get:function(){return xn[r]}})}),Ou.ArweaveCryptoAccount=qd,Ou.ArweaveSignRequest=Mf,Ou.ArweaveSignature=Fd});var ek=b((WKe,QL)=>{"use strict";d();h();QL.exports=ZL()});var rk=b(w4=>{"use strict";d();h();Object.defineProperty(w4,"__esModule",{value:!0});w4.KeystoneArweaveSDK=void 0;var S0=Qr(),tk=so(),Jy=ek(),$y=class{parseAccount(e){if(e.type!==tk.URType.ArweaveCryptoAccount)throw new Error("type not match");let t=Jy.ArweaveCryptoAccount.fromCBOR(e.cbor);return{masterFingerprint:(0,S0.toHex)(t.getMasterFingerprint()),keyData:(0,S0.toHex)(t.getKeyData()),device:t.getDevice()}}parseSignature(e){if(e.type!==tk.URType.ArweaveSignature)throw new Error("type not match");let t=Jy.ArweaveSignature.fromCBOR(e.cbor),n=t.getRequestId();return{requestId:(0,S0.uuidStringify)(n),signature:(0,S0.toHex)(t.getSignature())}}generateSignRequest({requestId:e,signData:t,signType:n,saltLen:i,masterFingerprint:o,account:a,origin:s}){return new Jy.ArweaveSignRequest({requestId:(0,S0.uuidParse)(e),signData:(0,S0.toBuffer)(t),signType:n,saltLen:i,masterFingerprint:(0,S0.toBuffer)(o),account:a!==void 0?(0,S0.toBuffer)(a):void 0,origin:s}).toUR()}};$y.SignType=Jy.SignType;$y.SaltLen=Jy.SaltLen;w4.KeystoneArweaveSDK=$y});var b4=b(E4=>{"use strict";d();h();Object.defineProperty(E4,"__esModule",{value:!0});E4.DataItem=void 0;var AC=class{constructor(e,t){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}};E4.DataItem=AC});var ik=b((nk,I4)=>{"use strict";d();h();(function(r,e){typeof define=="function"&&define.amd?define([],e):typeof I4<"u"&&I4.exports?I4.exports=e():r.CBOR=e()})(nk,function(){let{DataItem:r}=b4();var e=function(){function t(c){this.$hex=c}t.prototype={length:function(){return this.$hex.length/2},toString:function(c){if(!c||c==="hex"||c===16)return this.$hex;if(c==="utf-8"){for(var y="",x=0;x<this.$hex.length;x+=2)y+="%"+this.$hex.substring(x,x+2);return decodeURIComponent(y)}if(c==="latin"){for(var y=[],x=0;x<this.$hex.length;x+=2)y.push(parseInt(this.$hex.substring(x,x+2),16));return String.fromCharCode.apply(String,y)}throw new Error("Unrecognised format: "+c)}},t.fromLatinString=function(c){for(var y="",x=0;x<c.length;x++){var M=c.charCodeAt(x).toString(16);M.length===1&&(M="0"+M),y+=M}return new t(y)},t.fromUtf8String=function(c){for(var y=encodeURIComponent(c),x="",M=0;M<y.length;M++)if(y.charAt(M)==="%")x+=y.substring(M+1,M+3),M+=2;else{var L=y.charCodeAt(M).toString(16);L.length<2&&(L="0"+L),x+=L}return new t(x)};var n=[],i={},o=function(c){return function(){throw new Error(c+" not implemented")}};function a(){}a.prototype={peekByte:o("peekByte"),readByte:o("readByte"),readChunk:o("readChunk"),readFloat16:function(){var c=this.readUint16(),y=(c&32767)>>10,x=c&1023,M=c&32768;if(y===31)return x===0?M?-1/0:1/0:NaN;var L=y?Math.pow(2,y-25)*(1024+x):Math.pow(2,-24)*x;return M?-L:L},readFloat32:function(){var c=this.readUint32(),y=(c&2147483647)>>23,x=c&8388607,M=c&2147483648;if(y===255)return x===0?M?-1/0:1/0:NaN;var L=y?Math.pow(2,y-23-127)*(8388608+x):Math.pow(2,-23-126)*x;return M?-L:L},readFloat64:function(){var c=this.readUint32(),y=this.readUint32(),x=c>>20&2047,M=(c&1048575)*4294967296+y,L=c&2147483648;if(x===2047)return M===0?L?-1/0:1/0:NaN;var ce=x?Math.pow(2,x-52-1023)*(4503599627370496+M):Math.pow(2,-52-1022)*M;return L?-ce:ce},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:o("writeByte"),result:o("result"),writeFloat16:o("writeFloat16"),writeFloat32:o("writeFloat32"),writeFloat64:o("writeFloat64"),writeUint16:function(c){this.writeByte(c>>8&255),this.writeByte(c&255)},writeUint32:function(c){this.writeUint16(c>>16&65535),this.writeUint16(c&65535)},writeUint64:function(c){if(c>=9007199254740992||c<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+c+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(c/4294967296)),this.writeUint32(c%4294967296)},writeString:o("writeString"),canWriteBinary:function(c){return!1},writeBinary:o("writeChunk")};function u(c){var y=c.readByte(),x=y>>5,M=y&31;return{type:x,value:M}}function f(c,y){var x=c.value;if(x<24)return x;if(x==24)return y.readByte();if(x==25)return y.readUint16();if(x==26)return y.readUint32();if(x==27)return y.readUint64();if(x==31)return null;o("Additional info: "+x)()}function l(c,y,x){x.writeByte(c<<5|y)}function p(c,y,x){var M=c<<5;y<24?x.writeByte(M|y):y<256?(x.writeByte(M|24),x.writeByte(y)):y<65536?(x.writeByte(M|25),x.writeUint16(y)):y<4294967296?(x.writeByte(M|26),x.writeUint32(y)):(x.writeByte(M|27),x.writeUint64(y))}var g=new Error;function v(c){var y=u(c);switch(y.type){case 0:return f(y,c);case 1:return-1-f(y,c);case 2:return c.readChunk(f(y,c));case 3:var x=c.readChunk(f(y,c));return x.toString("utf-8");case 4:case 5:var M=f(y,c),B=[];if(M!==null){y.type===5&&(M*=2);for(var L=0;L<M;L++)B[L]=v(c)}else for(var ce;(ce=v(c))!==g;)B.push(ce);if(y.type===5){for(var q={},L=0;L<B.length;L+=2)q[B[L]]=B[L+1];return q}else return B;case 6:var w=f(y,c),S=i[w],B=v(c);return S?S(B):B;case 7:if(y.value===25)return c.readFloat16();if(y.value===26)return c.readFloat32();if(y.value===27)return c.readFloat64();switch(f(y,c)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+y.value)}default:throw new Error("Unsupported header: "+JSON.stringify(y))}throw new Error("not implemented yet")}function _(c,y){for(var x=0;x<n.length;x++){var M=n[x].fn(c);if(M!==void 0)return p(6,n[x].tag,y),_(M,y)}if(c&&typeof c.toCBOR=="function"&&(c=c.toCBOR()),c===!1)p(7,20,y);else if(c===!0)p(7,21,y);else if(c===null)p(7,22,y);else if(c===void 0)p(7,23,y);else if(typeof c=="number")Math.floor(c)===c&&c<9007199254740992&&c>-9007199254740992?c<0?p(1,-1-c,y):p(0,c,y):(l(7,27,y),y.writeFloat64(c));else if(typeof c=="string")y.writeString(c,function(ce){p(3,ce,y)});else if(y.canWriteBinary(c))y.writeBinary(c,function(ce){p(2,ce,y)});else if(typeof c=="object")if(R.config.useToJSON&&typeof c.toJSON=="function"&&(c=c.toJSON()),Array.isArray(c)){p(4,c.length,y);for(var x=0;x<c.length;x++)_(c[x],y)}else{var L=Object.keys(c);p(5,L.length,y);for(var x=0;x<L.length;x++){let q=parseInt(L[x]);isNaN(q)?(_(L[x],y),_(c[L[x]],y)):(_(q,y),_(c[L[x]],y))}}else throw new Error("CBOR encoding not supported: "+c)}var T=[],O=[],R={config:{useToJSON:!0},addWriter:function(c,y){typeof c=="string"?O.push(function(x){if(c===x)return y(x)}):O.push(c)},addReader:function(c,y){typeof c=="string"?T.push(function(x,M){if(c===M)return y(x,M)}):T.push(c)},encode:function(c,y){for(var x=0;x<O.length;x++){var M=O[x],L=M(y);if(L)return _(c,L),L.result()}throw new Error("Unsupported output format: "+y)},encodeDataItem:function(c,y){for(var x=0;x<O.length;x++){var M=O[x],L=M(y);if(L)return c.getTag()!==void 0?(_(c,L),L.result()):(_(c.getData(),L),L.result())}throw new Error("Unsupported output format: "+y)},decode:function(c,y){for(var x=0;x<T.length;x++){var M=T[x],L=M(c,y);if(L)return v(L)}throw new Error("Unsupported input format: "+y)},decodeToDataItem:function(c,y){for(var x=0;x<T.length;x++){var M=T[x],L=M(c,y);if(L){let ce=v(L);return ce instanceof r?ce:new r(ce)}}throw new Error("Unsupported input format: "+y)},addSemanticEncode:function(c,y){if(typeof c!="number"||c%1!==0||c<0)throw new Error("Tag must be a positive integer");return n.push({tag:c,fn:y}),this},addSemanticDecode:function(c,y){if(typeof c!="number"||c%1!==0||c<0)throw new Error("Tag must be a positive integer");return i[c]=y,this}};function D(c){this.buffer=c,this.pos=0}D.prototype=Object.create(a.prototype),D.prototype.peekByte=function(){return this.buffer[this.pos]},D.prototype.readByte=function(){return this.buffer[this.pos++]},D.prototype.readUint16=function(){var c=this.buffer.readUInt16BE(this.pos);return this.pos+=2,c},D.prototype.readUint32=function(){var c=this.buffer.readUInt32BE(this.pos);return this.pos+=4,c},D.prototype.readFloat32=function(){var c=this.buffer.readFloatBE(this.pos);return this.pos+=4,c},D.prototype.readFloat64=function(){var c=this.buffer.readDoubleBE(this.pos);return this.pos+=8,c},D.prototype.readChunk=function(c){var y=m.Buffer.alloc(c);return this.buffer.copy(y,0,this.pos,this.pos+=c),y};function U(c){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=c}U.prototype=Object.create(s.prototype),U.prototype.writeByte=function(c){this.latestBuffer[this.latestBufferOffset++]=c,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},U.prototype.writeFloat32=function(c){var y=m.Buffer.alloc(4);y.writeFloatBE(c,0),this.writeBuffer(y)},U.prototype.writeFloat64=function(c){var y=m.Buffer.alloc(8);y.writeDoubleBE(c,0),this.writeBuffer(y)},U.prototype.writeString=function(c,y){var x=m.Buffer.from(c,"utf-8");y(x.length),this.writeBuffer(x)},U.prototype.canWriteBinary=function(c){return c instanceof m.Buffer},U.prototype.writeBinary=function(c,y){y(c.length),this.writeBuffer(c)},U.prototype.writeBuffer=function(c){if(!(c instanceof m.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=c.length?(c.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=c.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(c),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(c),this.byteLength+=c.length},U.prototype.result=function(){for(var c=m.Buffer.alloc(this.byteLength),y=0,x=0;x<this.completeBuffers.length;x++){var M=this.completeBuffers[x];M.copy(c,y,0,M.length),y+=M.length}return this.latestBufferOffset&&this.latestBuffer.copy(c,y,0,this.latestBufferOffset),this.stringFormat?c.toString(this.stringFormat):c},typeof m.Buffer=="function"&&(R.addReader(function(c,y){if(m.Buffer.isBuffer(c))return new D(c);if(y==="hex"||y==="base64"){var x=m.Buffer.from(c,y);return new D(x)}}),R.addWriter(function(c){if(!c||c==="buffer")return new U;if(c==="hex"||c==="base64")return new U(c)}));function K(c){this.hex=c,this.pos=0}K.prototype=Object.create(a.prototype),K.prototype.peekByte=function(){var c=this.hex.substring(this.pos,2);return parseInt(c,16)},K.prototype.readByte=function(){var c=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(c,16)},K.prototype.readChunk=function(c){var y=this.hex.substring(this.pos,this.pos+c*2);return this.pos+=c*2,typeof m.Buffer=="function"?m.Buffer.from(y,"hex"):new t(y)};function A(c){this.$hex="",this.finalFormat=c||"hex"}return A.prototype=Object.create(s.prototype),A.prototype.writeByte=function(c){if(c<0||c>255)throw new Error("Byte value out of range: "+c);var y=c.toString(16);y.length==1&&(y="0"+y),this.$hex+=y},A.prototype.canWriteBinary=function(c){return c instanceof t||typeof m.Buffer=="function"&&c instanceof m.Buffer},A.prototype.writeBinary=function(c,y){if(c instanceof t)y(c.length()),this.$hex+=c.$hex;else if(typeof m.Buffer=="function"&&c instanceof m.Buffer)y(c.length),this.$hex+=c.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},A.prototype.result=function(){return this.finalFormat==="buffer"&&typeof m.Buffer=="function"?m.Buffer.from(this.$hex,"hex"):new t(this.$hex).toString(this.finalFormat)},A.prototype.writeString=function(c,y){var x=t.fromUtf8String(c);y(x.length()),this.$hex+=x.$hex},R.addReader(function(c,y){if(c instanceof t||c.$hex)return new K(c.$hex);if(y==="hex")return new K(c)}),R.addWriter(function(c){if(c==="hex")return new A}),R}();return e.addSemanticEncode(0,function(t){if(t instanceof Date)return t.toISOString()}).addSemanticDecode(0,function(t){return new Date(t)}).addSemanticDecode(1,function(t){return new Date(t)}),e})});var _n=b(mi=>{"use strict";d();h();Object.defineProperty(mi,"__esModule",{value:!0});mi.DataItem=mi.addWriter=mi.addReader=mi.addSemanticEncode=mi.addSemanticDecode=mi.decodeToDataItem=mi.encodeDataItem=void 0;var lp=ik();Object.defineProperty(mi,"encodeDataItem",{enumerable:!0,get:function(){return lp.encodeDataItem}});Object.defineProperty(mi,"decodeToDataItem",{enumerable:!0,get:function(){return lp.decodeToDataItem}});Object.defineProperty(mi,"addSemanticDecode",{enumerable:!0,get:function(){return lp.addSemanticDecode}});Object.defineProperty(mi,"addSemanticEncode",{enumerable:!0,get:function(){return lp.addSemanticEncode}});Object.defineProperty(mi,"addReader",{enumerable:!0,get:function(){return lp.addReader}});Object.defineProperty(mi,"addWriter",{enumerable:!0,get:function(){return lp.addWriter}});var rfe=b4();Object.defineProperty(mi,"DataItem",{enumerable:!0,get:function(){return rfe.DataItem}})});var C4=b(S4=>{"use strict";d();h();Object.defineProperty(S4,"__esModule",{value:!0});S4.patchTags=void 0;var T4=_n(),ok=[],nfe=r=>{r.forEach(e=>{ok.find(t=>t===e)||(T4.addSemanticEncode(e,t=>{if(t instanceof T4.DataItem&&t.getTag()===e)return t.getData()}),T4.addSemanticDecode(e,t=>new T4.DataItem(t,e)),ok.push(e))})};S4.patchTags=nfe});var wn=b(dp=>{"use strict";d();h();Object.defineProperty(dp,"__esModule",{value:!0});dp.RegistryTypes=dp.RegistryType=void 0;var zi=class{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}};dp.RegistryType=zi;dp.RegistryTypes={UUID:new zi("uuid",37),BYTES:new zi("bytes",void 0),CRYPTO_HDKEY:new zi("crypto-hdkey",303),CRYPTO_KEYPATH:new zi("crypto-keypath",304),CRYPTO_COIN_INFO:new zi("crypto-coin-info",305),CRYPTO_ECKEY:new zi("crypto-eckey",306),CRYPTO_OUTPUT:new zi("crypto-output",308),CRYPTO_PSBT:new zi("crypto-psbt",310),CRYPTO_ACCOUNT:new zi("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new zi("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new zi("qr-hardware-call",1201),KEY_DERIVATION_CALL:new zi("key-derivation-call",1301)}});var A4=b(Ld=>{"use strict";d();h();Object.defineProperty(Ld,"__esModule",{value:!0});Ld.ScriptExpressions=Ld.ScriptExpression=void 0;var go=class{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};Ld.ScriptExpression=go;go.fromTag=r=>Object.values(Ld.ScriptExpressions).find(t=>t.getTag()===r);Ld.ScriptExpressions={SCRIPT_HASH:new go(400,"sh"),WITNESS_SCRIPT_HASH:new go(401,"wsh"),PUBLIC_KEY:new go(402,"pk"),PUBLIC_KEY_HASH:new go(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new go(404,"wpkh"),COMBO:new go(405,"combo"),MULTISIG:new go(406,"multi"),SORTED_MULTISIG:new go(407,"sortedmulti"),ADDRESS:new go(307,"addr"),RAW_SCRIPT:new go(408,"raw")}});var OC=b(ak=>{"use strict";d();h();Object.defineProperty(ak,"__esModule",{value:!0});var ife=C4(),ofe=wn(),afe=A4(),sfe=Object.values(ofe.RegistryTypes).filter(r=>!!r.getTag()).map(r=>r.getTag()),ufe=Object.values(afe.ScriptExpressions).map(r=>r.getTag());ife.patchTags(sfe.concat(ufe))});var Wi=b(O4=>{"use strict";d();h();Object.defineProperty(O4,"__esModule",{value:!0});O4.RegistryItem=void 0;var sk=Gr(),ffe=_n(),DC=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return ffe.encodeDataItem(this.toDataItem())},this.toUR=()=>new sk.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,n)=>{let i=this.toUR();return new sk.UREncoder(i,e,t,n)}}};O4.RegistryItem=DC});var D4=b(Du=>{"use strict";d();h();Object.defineProperty(Du,"__esModule",{value:!0});Du.CryptoCoinInfo=Du.Network=Du.Type=void 0;var uk=_n(),cfe=Wi(),lfe=wn(),hp;(function(r){r.type="1",r.network="2"})(hp||(hp={}));var fk;(function(r){r[r.bitcoin=0]="bitcoin"})(fk=Du.Type||(Du.Type={}));var ck;(function(r){r[r.mainnet=0]="mainnet",r[r.testnet=1]="testnet"})(ck=Du.Network||(Du.Network={}));var kd=class extends cfe.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>lfe.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||fk.bitcoin,this.getNetwork=()=>this.network||ck.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[hp.type]=this.type),this.network&&(n[hp.network]=this.network),new uk.DataItem(n)}}};Du.CryptoCoinInfo=kd;kd.fromDataItem=r=>{let e=r.getData(),t=e[hp.type],n=e[hp.network];return new kd(t,n)};kd.fromCBOR=r=>{let e=uk.decodeToDataItem(r);return kd.fromDataItem(e)}});var P4=b(R4=>{"use strict";d();h();Object.defineProperty(R4,"__esModule",{value:!0});R4.PathComponent=void 0;var pp=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&pp.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};R4.PathComponent=pp;pp.HARDENED_BIT=2147483648});var Zy=b(B4=>{"use strict";d();h();Object.defineProperty(B4,"__esModule",{value:!0});B4.CryptoKeypath=void 0;var dk=_n(),lk=P4(),dfe=Wi(),hfe=wn(),C0;(function(r){r[r.components=1]="components",r[r.source_fingerprint=2]="source_fingerprint",r[r.depth=3]="depth"})(C0||(C0={}));var jd=class extends dfe.RegistryItem{constructor(e=[],t,n){super(),this.components=e,this.sourceFingerprint=t,this.depth=n,this.getRegistryType=()=>hfe.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(o=>`${o.isWildcard()?"*":o.getIndex()}${o.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},o=[];return this.components&&this.components.forEach(a=>{a.isWildcard()?o.push([]):o.push(a.getIndex()),o.push(a.isHardened())}),i[C0.components]=o,this.sourceFingerprint&&(i[C0.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[C0.depth]=this.depth),new dk.DataItem(i)}}};B4.CryptoKeypath=jd;jd.fromDataItem=r=>{let e=r.getData(),t=[],n=e[C0.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?t.push(new lk.PathComponent({index:f,hardened:u})):t.push(new lk.PathComponent({hardened:u}))}let i=e[C0.source_fingerprint],o;i&&(o=m.Buffer.alloc(4),o.writeUInt32BE(i,0));let a=e[C0.depth];return new jd(t,o,a)};jd.fromCBOR=r=>{let e=dk.decodeToDataItem(r);return jd.fromDataItem(e)}});var gp=b(N4=>{"use strict";d();h();Object.defineProperty(N4,"__esModule",{value:!0});N4.CryptoHDKey=void 0;var pfe=ll(),gfe=D4(),hk=Zy(),pk=_n(),yfe=Wi(),mfe=wn(),Dt;(function(r){r[r.is_master=1]="is_master",r[r.is_private=2]="is_private",r[r.key_data=3]="key_data",r[r.chain_code=4]="chain_code",r[r.use_info=5]="use_info",r[r.origin=6]="origin",r[r.children=7]="children",r[r.parent_fingerprint=8]="parent_fingerprint",r[r.name=9]="name",r[r.note=10]="note"})(Dt||(Dt={}));var Hd=class extends yfe.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var t,n,i;let o,a,s=0,u=m.Buffer.alloc(4).fill(0);if(this.isMaster())o=m.Buffer.from("0488ADE4","hex"),a=0,s=0;else{a=((t=this.getOrigin())===null||t===void 0?void 0:t.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());let v=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),_=v[v.length-1];_&&(s=_.isHardened()?_.getIndex()+2147483648:_.getIndex(),this.getParentFingerprint()&&(u=this.getParentFingerprint())),this.isPrivateKey()?o=m.Buffer.from("0488ADE4","hex"):o=m.Buffer.from("0488B21E","hex")}let f=m.Buffer.alloc(1);f.writeUInt8(a,0);let l=m.Buffer.alloc(4);l.writeUInt32BE(s,0);let p=this.getChainCode(),g=this.getKey();return pfe.encode(m.Buffer.concat([o,f,u,l,p,g]))},this.getRegistryType=()=>mfe.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var t,n,i,o,a,s,u;let f="";return this.getOrigin()&&((t=this.getOrigin())===null||t===void 0?void 0:t.getSourceFingerprint())&&((n=this.getOrigin())===null||n===void 0?void 0:n.getPath())&&(f+=`${(o=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||o===void 0?void 0:o.toString("hex")}/${(a=this.getOrigin())===null||a===void 0?void 0:a.getPath()}`),f+=this.getBip32Key(),this.getChildren()&&!((s=this.getChildren())===null||s===void 0)&&s.getPath()&&(f+=`/${(u=this.getChildren())===null||u===void 0?void 0:u.getPath()}`),f},this.setupMasterKey=t=>{this.master=!0,this.key=t.key,this.chainCode=t.chainCode},this.setupDeriveKey=t=>{this.master=!1,this.privateKey=t.isPrivateKey,this.key=t.key,this.chainCode=t.chainCode,this.useInfo=t.useInfo,this.origin=t.origin,this.children=t.children,this.parentFingerprint=t.parentFingerprint,this.name=t.name,this.note=t.note},this.toDataItem=()=>{let t={};if(this.master)t[Dt.is_master]=!0,t[Dt.key_data]=this.key,t[Dt.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(t[Dt.is_private]=this.privateKey),t[Dt.key_data]=this.key,this.chainCode&&(t[Dt.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),t[Dt.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),t[Dt.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),t[Dt.children]=n}this.parentFingerprint&&(t[Dt.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(t[Dt.name]=this.name),this.note!==void 0&&(t[Dt.note]=this.note)}return new pk.DataItem(t)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};N4.CryptoHDKey=Hd;Hd.fromDataItem=r=>{let e=r.getData(),t=!!e[Dt.is_master],n=e[Dt.is_private],i=e[Dt.key_data],o=e[Dt.chain_code],a=e[Dt.use_info]?gfe.CryptoCoinInfo.fromDataItem(e[Dt.use_info]):void 0,s=e[Dt.origin]?hk.CryptoKeypath.fromDataItem(e[Dt.origin]):void 0,u=e[Dt.children]?hk.CryptoKeypath.fromDataItem(e[Dt.children]):void 0,f=e[Dt.parent_fingerprint],l;f&&(l=m.Buffer.alloc(4),l.writeUInt32BE(f,0));let p=e[Dt.name],g=e[Dt.note];return new Hd({isMaster:t,isPrivateKey:n,key:i,chainCode:o,useInfo:a,origin:s,children:u,parentFingerprint:l,name:p,note:g})};Hd.fromCBOR=r=>{let e=pk.decodeToDataItem(r);return Hd.fromDataItem(e)}});var Qy=b(M4=>{"use strict";d();h();Object.defineProperty(M4,"__esModule",{value:!0});M4.CryptoECKey=void 0;var gk=_n(),vfe=Wi(),xfe=wn(),A0;(function(r){r[r.curve=1]="curve",r[r.private=2]="private",r[r.data=3]="data"})(A0||(A0={}));var Kd=class extends vfe.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>xfe.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let t={};return this.curve&&(t[A0.curve]=this.curve),this.privateKey!==void 0&&(t[A0.private]=this.privateKey),t[A0.data]=this.data,new gk.DataItem(t)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||void 0}};M4.CryptoECKey=Kd;Kd.fromDataItem=r=>{let e=r.getData(),t=e[A0.curve],n=e[A0.private],i=e[A0.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${r}`);return new Kd({data:i,curve:t,privateKey:n})};Kd.fromCBOR=r=>{let e=gk.decodeToDataItem(r);return Kd.fromDataItem(e)}});var mk=b(q4=>{"use strict";d();h();Object.defineProperty(q4,"__esModule",{value:!0});q4.Bytes=void 0;var yk=_n(),_fe=Wi(),wfe=wn(),Vd=class extends _fe.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>wfe.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new yk.DataItem(this.bytes)}};q4.Bytes=Vd;Vd.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new Vd(e)};Vd.fromCBOR=r=>{let e=yk.decodeToDataItem(r);return Vd.fromDataItem(e)}});var U4=b(F4=>{"use strict";d();h();Object.defineProperty(F4,"__esModule",{value:!0});F4.MultiKey=void 0;var Efe=Qy(),bfe=gp(),Ife=b4(),Tfe=Wi(),vk=wn(),yp;(function(r){r[r.threshold=1]="threshold",r[r.keys=2]="keys"})(yp||(yp={}));var em=class extends Tfe.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{let n={};n[yp.threshold]=this.threshold;let i=this.keys.map(o=>{let a=o.toDataItem();return a.setTag(o.getRegistryType().getTag()),a});return n[yp.keys]=i,new Ife.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};F4.MultiKey=em;em.fromDataItem=r=>{let e=r.getData(),t=e[yp.threshold],n=e[yp.keys],i=[];return n.forEach(o=>{o.getTag()===vk.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(bfe.CryptoHDKey.fromDataItem(o)):o.getTag()===vk.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(Efe.CryptoECKey.fromDataItem(o))}),new em(t,i)}});var MC=b(L4=>{"use strict";d();h();Object.defineProperty(L4,"__esModule",{value:!0});L4.CryptoOutput=void 0;var PC=Qy(),BC=gp(),NC=_n(),xk=U4(),Sfe=Wi(),_k=wn(),RC=A4(),Ff=class extends Sfe.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>_k.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof BC.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof PC.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof xk.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof PC.CryptoECKey||this.cryptoKey instanceof BC.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(o=>{let a=o.getTag();n.getTag()===void 0?n.setTag(a):n=new NC.DataItem(n,a)}),n}}};L4.CryptoOutput=Ff;Ff.fromDataItem=r=>{let e=[],t=r;for(;;){let o=t.getTag(),a=RC.ScriptExpression.fromTag(o);if(a)if(e.push(a),t.getData()instanceof NC.DataItem)t=t.getData(),o=t.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===RC.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===RC.ScriptExpressions.SORTED_MULTISIG.getExpression())){let o=xk.MultiKey.fromDataItem(t);return new Ff(e,o)}if(t.getTag()===_k.RegistryTypes.CRYPTO_HDKEY.getTag()){let o=BC.CryptoHDKey.fromDataItem(t);return new Ff(e,o)}else{let o=PC.CryptoECKey.fromDataItem(t);return new Ff(e,o)}};Ff.fromCBOR=r=>{let e=NC.decodeToDataItem(r);return Ff.fromDataItem(e)}});var qC=b(k4=>{"use strict";d();h();Object.defineProperty(k4,"__esModule",{value:!0});k4.CryptoPSBT=void 0;var wk=_n(),Cfe=Wi(),Afe=wn(),Gd=class extends Cfe.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>Afe.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new wk.DataItem(this.psbt)}};k4.CryptoPSBT=Gd;Gd.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new Gd(e)};Gd.fromCBOR=r=>{let e=wk.decodeToDataItem(r);return Gd.fromDataItem(e)}});var FC=b(j4=>{"use strict";d();h();Object.defineProperty(j4,"__esModule",{value:!0});j4.CryptoAccount=void 0;var Ofe=H4(),Ek=_n(),Dfe=Wi(),Rfe=wn(),mp;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.outputDescriptors=2]="outputDescriptors"})(mp||(mp={}));var Yd=class extends Dfe.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>Rfe.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[mp.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[mp.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new Ek.DataItem(n)}}};j4.CryptoAccount=Yd;Yd.fromDataItem=r=>{let e=r.getData(),t=m.Buffer.alloc(4),n=e[mp.masterFingerprint];n&&t.writeUInt32BE(n,0);let o=e[mp.outputDescriptors].map(a=>Ofe.CryptoOutput.fromDataItem(a));return new Yd(t,o)};Yd.fromCBOR=r=>{let e=Ek.decodeToDataItem(r);return Yd.fromDataItem(e)}});var LC=b(K4=>{"use strict";d();h();Object.defineProperty(K4,"__esModule",{value:!0});K4.UnknownURTypeError=void 0;var UC=class extends Error{constructor(e){super(e)}};K4.UnknownURTypeError=UC});var jC=b(V4=>{"use strict";d();h();Object.defineProperty(V4,"__esModule",{value:!0});V4.URRegistryDecoder=void 0;var Pfe=Gr(),O0=H4(),D0=wn(),Bfe=LC(),kC=class extends Pfe.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case D0.RegistryTypes.BYTES.getType():return O0.Bytes.fromCBOR(e.cbor);case D0.RegistryTypes.CRYPTO_HDKEY.getType():return O0.CryptoHDKey.fromCBOR(e.cbor);case D0.RegistryTypes.CRYPTO_KEYPATH.getType():return O0.CryptoKeypath.fromCBOR(e.cbor);case D0.RegistryTypes.CRYPTO_COIN_INFO.getType():return O0.CryptoCoinInfo.fromCBOR(e.cbor);case D0.RegistryTypes.CRYPTO_ECKEY.getType():return O0.CryptoECKey.fromCBOR(e.cbor);case D0.RegistryTypes.CRYPTO_OUTPUT.getType():return O0.CryptoOutput.fromCBOR(e.cbor);case D0.RegistryTypes.CRYPTO_PSBT.getType():return O0.CryptoPSBT.fromCBOR(e.cbor);case D0.RegistryTypes.CRYPTO_ACCOUNT.getType():return O0.CryptoAccount.fromCBOR(e.cbor);default:throw new Bfe.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};V4.URRegistryDecoder=kC});var HC=b(G4=>{"use strict";d();h();Object.defineProperty(G4,"__esModule",{value:!0});G4.CryptoMultiAccounts=void 0;var Nfe=wn(),Mfe=gp(),qfe=Wi(),bk=_n(),R0;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.keys=2]="keys",r[r.device=3]="device"})(R0||(R0={}));var zd=class extends qfe.RegistryItem{constructor(e,t,n){super(),this.masterFingerprint=e,this.keys=t,this.device=n,this.getRegistryType=()=>Nfe.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{let i={};return this.masterFingerprint&&(i[R0.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(i[R0.keys]=this.keys.map(o=>{let a=o.toDataItem();return a.setTag(o.getRegistryType().getTag()),a})),this.device&&(i[R0.device]=this.device),new bk.DataItem(i)}}};G4.CryptoMultiAccounts=zd;zd.fromDataItem=r=>{let e=r.getData(),t=m.Buffer.alloc(4),n=e[R0.masterFingerprint];n&&t.writeUInt32BE(n,0);let o=e[R0.keys].map(s=>Mfe.CryptoHDKey.fromDataItem(s)),a=e[R0.device];return new zd(t,o,a)};zd.fromCBOR=r=>{let e=bk.decodeToDataItem(r);return zd.fromDataItem(e)}});var KC=b(Pu=>{"use strict";d();h();Object.defineProperty(Pu,"__esModule",{value:!0});Pu.KeyDerivation=Pu.DerivationAlgorithm=Pu.Curve=void 0;var Ffe=wn(),Ufe=Wi(),Ik=_n(),Lfe=Zy(),Ru;(function(r){r[r.keyPaths=1]="keyPaths",r[r.curve=2]="curve",r[r.algo=3]="algo",r[r.origin=4]="origin"})(Ru||(Ru={}));var Tk;(function(r){r.secp256k1="secp256k1",r.ed25519="ed25519"})(Tk=Pu.Curve||(Pu.Curve={}));var Sk;(function(r){r.slip10="slip10",r.bip32ed25519="bip32ed25519"})(Sk=Pu.DerivationAlgorithm||(Pu.DerivationAlgorithm={}));var Wd=class extends Ufe.RegistryItem{constructor(e,t=Tk.secp256k1,n=Sk.slip10,i){super(),this.keypaths=e,this.curve=t,this.algo=n,this.origin=i,this.getRegistryType=()=>Ffe.RegistryTypes.KEY_DERIVATION_CALL,this.getKeypaths=()=>this.keypaths,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let o={};return o[Ru.keyPaths]=this.keypaths.map(a=>{let s=a.toDataItem();return s.setTag(a.getRegistryType().getTag()),s}),o[Ru.curve]=this.curve,o[Ru.algo]=this.algo,this.origin&&(o[Ru.origin]=this.origin),new Ik.DataItem(o)}}};Pu.KeyDerivation=Wd;Wd.fromDataItem=r=>{let e=r.getData(),t=e[Ru.keyPaths].map(a=>Lfe.CryptoKeypath.fromDataItem(a)),n=e[Ru.curve],i=e[Ru.algo],o=e[Ru.origin];return new Wd(t,n,i,o)};Wd.fromCBOR=r=>{let e=Ik.decodeToDataItem(r);return Wd.fromDataItem(e)}});var Ak=b(Jd=>{"use strict";d();h();Object.defineProperty(Jd,"__esModule",{value:!0});Jd.QRHardwareCall=Jd.QRHardwareCallName=void 0;var kfe=wn(),jfe=Wi(),Ck=_n(),Hfe=KC(),vp;(function(r){r[r.name=1]="name",r[r.params=2]="params"})(vp||(vp={}));var VC;(function(r){r.KeyDerivation="key-derivation"})(VC=Jd.QRHardwareCallName||(Jd.QRHardwareCallName={}));var Xd=class extends jfe.RegistryItem{constructor(e,t){super(),this.name=e,this.params=t,this.getRegistryType=()=>kfe.RegistryTypes.QR_HARDWARE_CALL,this.getName=()=>this.name,this.getParams=()=>this.params,this.toDataItem=()=>{let n={};n[vp.name]=this.name;let i=this.params.toDataItem();return i.setTag(this.params.getRegistryType().getTag()),n[vp.params]=i,new Ck.DataItem(n)}}};Jd.QRHardwareCall=Xd;Xd.fromDataItem=r=>{let e=r.getData(),t=e[vp.name]||VC.KeyDerivation,n;switch(t){case VC.KeyDerivation:n=Hfe.KeyDerivation.fromDataItem(e[vp.params])}return new Xd(t,n)};Xd.fromCBOR=r=>{let e=Ck.decodeToDataItem(r);return Xd.fromDataItem(e)}});var Dk=b(Ok=>{"use strict";d();h();Object.defineProperty(Ok,"__esModule",{value:!0})});var H4=b(Ae=>{"use strict";d();h();Object.defineProperty(Ae,"__esModule",{value:!0});Ae.Buffer=Ae.extend=Ae.PathComponent=Ae.ScriptExpressions=Ae.MultiKey=Ae.CryptoPSBT=Ae.CryptoOutput=Ae.CryptoECKey=Ae.CryptoCoinInfoNetwork=Ae.CryptoCoinInfoType=Ae.CryptoCoinInfo=Ae.CryptoKeypath=Ae.CryptoMultiAccounts=Ae.CryptoHDKey=Ae.CryptoAccount=Ae.Bytes=Ae.URRegistryDecoder=Ae.DataItem=void 0;var Sr=Fg();OC();var Kfe=Xh();Object.defineProperty(Ae,"Buffer",{enumerable:!0,get:function(){return Kfe.Buffer}});var Pk=gp();Object.defineProperty(Ae,"CryptoHDKey",{enumerable:!0,get:function(){return Pk.CryptoHDKey}});var Bk=Zy();Object.defineProperty(Ae,"CryptoKeypath",{enumerable:!0,get:function(){return Bk.CryptoKeypath}});var _p=D4();Object.defineProperty(Ae,"CryptoCoinInfo",{enumerable:!0,get:function(){return _p.CryptoCoinInfo}});Object.defineProperty(Ae,"CryptoCoinInfoType",{enumerable:!0,get:function(){return _p.Type}});Object.defineProperty(Ae,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return _p.Network}});var Nk=Qy();Object.defineProperty(Ae,"CryptoECKey",{enumerable:!0,get:function(){return Nk.CryptoECKey}});var Mk=mk();Object.defineProperty(Ae,"Bytes",{enumerable:!0,get:function(){return Mk.Bytes}});var qk=MC();Object.defineProperty(Ae,"CryptoOutput",{enumerable:!0,get:function(){return qk.CryptoOutput}});var Fk=qC();Object.defineProperty(Ae,"CryptoPSBT",{enumerable:!0,get:function(){return Fk.CryptoPSBT}});var Uk=FC();Object.defineProperty(Ae,"CryptoAccount",{enumerable:!0,get:function(){return Uk.CryptoAccount}});var Lk=jC();Object.defineProperty(Ae,"URRegistryDecoder",{enumerable:!0,get:function(){return Lk.URRegistryDecoder}});var kk=U4();Object.defineProperty(Ae,"MultiKey",{enumerable:!0,get:function(){return kk.MultiKey}});var jk=A4();Object.defineProperty(Ae,"ScriptExpressions",{enumerable:!0,get:function(){return jk.ScriptExpressions}});var Hk=P4();Object.defineProperty(Ae,"PathComponent",{enumerable:!0,get:function(){return Hk.PathComponent}});var Vfe=Wi(),Rk=wn(),xp=_n(),Gfe=_n();Object.defineProperty(Ae,"DataItem",{enumerable:!0,get:function(){return Gfe.DataItem}});var Yfe=C4(),Kk=HC();Object.defineProperty(Ae,"CryptoMultiAccounts",{enumerable:!0,get:function(){return Kk.CryptoMultiAccounts}});var zfe={URRegistryDecoder:Lk.URRegistryDecoder,Bytes:Mk.Bytes,CryptoAccount:Uk.CryptoAccount,CryptoHDKey:Pk.CryptoHDKey,CryptoMultiAccounts:Kk.CryptoMultiAccounts,CryptoKeypath:Bk.CryptoKeypath,CryptoCoinInfo:_p.CryptoCoinInfo,CryptoCoinInfoType:_p.Type,CryptoCoinInfoNetwork:_p.Network,CryptoECKey:Nk.CryptoECKey,CryptoOutput:qk.CryptoOutput,CryptoPSBT:Fk.CryptoPSBT,MultiKey:kk.MultiKey,ScriptExpressions:jk.ScriptExpressions,PathComponent:Hk.PathComponent},Wfe={addReader:xp.addReader,addSemanticDecode:xp.addSemanticDecode,addSemanticEncode:xp.addSemanticEncode,addWriter:xp.addWriter,patchTags:Yfe.patchTags},Xfe={RegistryTypes:Rk.RegistryTypes,RegistryItem:Vfe.RegistryItem,RegistryType:Rk.RegistryType,decodeToDataItem:xp.decodeToDataItem,encodeDataItem:xp.encodeDataItem,cbor:Wfe};Ae.extend=Xfe;Sr.__exportStar(LC(),Ae);Sr.__exportStar(jC(),Ae);Sr.__exportStar(_n(),Ae);Sr.__exportStar(FC(),Ae);Sr.__exportStar(qC(),Ae);Sr.__exportStar(gp(),Ae);Sr.__exportStar(HC(),Ae);Sr.__exportStar(Ak(),Ae);Sr.__exportStar(KC(),Ae);Sr.__exportStar(MC(),Ae);Sr.__exportStar(D4(),Ae);Sr.__exportStar(Qy(),Ae);Sr.__exportStar(U4(),Ae);Sr.__exportStar(Zy(),Ae);Sr.__exportStar(OC(),Ae);Sr.__exportStar(P4(),Ae);Sr.__exportStar(Wi(),Ae);Sr.__exportStar(wn(),Ae);Sr.__exportStar(Dk(),Ae);Sr.__exportStar(C4(),Ae);Ae.default=zfe});var Vk=b(tm=>{"use strict";d();h();Object.defineProperty(tm,"__esModule",{value:!0});var vi=H4(),Jfe=Z2(),GC={SUI_SIGN_REQUEST:new vi.RegistryType("sui-sign-request",7101),SUI_SIGNATURE:new vi.RegistryType("sui-signature",7102)},{decodeToDataItem:$fe,RegistryTypes:Zfe}=vi.extend,Xi;(function(r){r[r.requestId=1]="requestId",r[r.intentMessage=2]="intentMessage",r[r.derivationPaths=3]="derivationPaths",r[r.addresses=4]="addresses",r[r.origin=5]="origin"})(Xi||(Xi={}));var Uf=class extends vi.RegistryItem{constructor(e){super(),this.getRegistryType=()=>GC.SUI_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getIntentMessage=()=>this.intentMessage,this.getDerivationPaths=()=>this.derivationPaths.map(t=>t.getPath()),this.getAddresses=()=>this.addresses,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};return this.requestId&&(t[Xi.requestId]=new vi.DataItem(this.requestId,Zfe.UUID.getTag())),this.addresses&&(t[Xi.addresses]=this.addresses),this.origin&&(t[Xi.origin]=this.origin),t[Xi.intentMessage]=this.intentMessage,t[Xi.derivationPaths]=this.derivationPaths.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),new vi.DataItem(t)},this.requestId=e.requestId,this.intentMessage=e.intentMessage,this.derivationPaths=e.derivationPaths,this.addresses=e.addresses,this.origin=e.origin}static constructSuiRequest(e,t,n,i,o,a){let s=t.map((u,f)=>{let l=u.replace(/[m|M]\//,"").split("/").map(p=>{let g=parseInt(p.replace("'","")),v=!1;return p.endsWith("'")&&(v=!0),new vi.PathComponent({index:g,hardened:v})});return new vi.CryptoKeypath(l,m.Buffer.from(n[f],"hex"))});return new Uf({requestId:m.Buffer.from(Jfe.parse(i)),intentMessage:e,derivationPaths:s,addresses:o||void 0,origin:a||void 0})}};Uf.fromDataItem=r=>{let e=r.getData(),t=e[Xi.intentMessage],n=e[Xi.derivationPaths].map(a=>vi.CryptoKeypath.fromDataItem(a)),i=e[Xi.addresses]?e[Xi.addresses]:void 0,o=e[Xi.requestId]?e[Xi.requestId].getData():void 0;return new Uf({requestId:o,intentMessage:t,derivationPaths:n,addresses:i,origin:e[Xi.origin]?e[Xi.origin]:void 0})},Uf.fromCBOR=r=>{let e=$fe(r);return Uf.fromDataItem(e)};var{RegistryTypes:Qfe,decodeToDataItem:ece}=vi.extend,P0;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature",r[r.publicKey=3]="publicKey"})(P0||(P0={}));var $d=class extends vi.RegistryItem{constructor(e,t,n){super(),this.getRegistryType=()=>GC.SUI_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getPublicKey=()=>this.publicKey,this.toDataItem=()=>{let i={};return this.requestId&&(i[P0.requestId]=new vi.DataItem(this.requestId,Qfe.UUID.getTag())),i[P0.signature]=this.signature,this.publicKey&&(i[P0.publicKey]=this.publicKey),new vi.DataItem(i)},this.signature=e,this.requestId=t,this.publicKey=n}};$d.fromDataItem=r=>{let e=r.getData(),t=e[P0.signature],n=e[P0.requestId].getData();return new $d(t,n,e[P0.publicKey])},$d.fromCBOR=r=>{let e=ece(r);return $d.fromDataItem(e)},vi.patchTags(Object.values(GC).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(vi).forEach(function(r){r!=="default"&&Object.defineProperty(tm,r,{enumerable:!0,get:function(){return vi[r]}})}),tm.SuiSignRequest=Uf,tm.SuiSignature=$d});var Yk=b((bGe,Gk)=>{"use strict";d();h();Gk.exports=Vk()});var zk=b(z4=>{"use strict";d();h();Object.defineProperty(z4,"__esModule",{value:!0});z4.KeystoneSuiSDK=void 0;var Y4=Yk(),B0=Qr(),tce=so(),YC=class{parseSignature(e){if(e.type!==tce.URType.SuiSignature)throw new Error("type not match");let t=Y4.SuiSignature.fromCBOR(e.cbor),n=t.getRequestId();return{requestId:m.Buffer.isBuffer(n)?(0,B0.uuidStringify)(n):"",signature:(0,B0.toHex)(t.getSignature()),publicKey:(0,B0.toHex)(t.getPublicKey())}}generateSignRequest({requestId:e,intentMessage:t,accounts:n,origin:i}){let o=[],a=[];if(n.forEach(s=>{o.push(new Y4.CryptoKeypath((0,B0.parsePath)(s.path).map(u=>new Y4.PathComponent(u)),(0,B0.toBuffer)(s.xfp))),s.address!==void 0&&a.push((0,B0.toBuffer)(s.address.startsWith("0x")?s.address.substring(2):s.address))}),a.length>0&&a.length!==o.length)throw new Error("address and path count must match");return new Y4.SuiSignRequest({requestId:(0,B0.uuidParse)(e),intentMessage:(0,B0.toBuffer)(t),derivationPaths:o,addresses:a,origin:i}).toUR()}};z4.KeystoneSuiSDK=YC});var zC=b(Cr=>{"use strict";d();h();var rce=Cr&&Cr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),yo=Cr&&Cr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&rce(e,r,t)};Object.defineProperty(Cr,"__esModule",{value:!0});yo(FP(),Cr);yo(GB(),Cr);yo(qN(),Cr);yo(wM(),Cr);yo(zM(),Cr);yo(aF(),Cr);yo(PF(),Cr);yo(UF(),Cr);yo(kF(),Cr);yo(HF(),Cr);yo(pU(),Cr);yo(OL(),Cr);yo(rk(),Cr);yo(zk(),Cr)});var WC=b(N0=>{"use strict";d();h();Object.defineProperty(N0,"__esModule",{value:!0});N0.generateKeyDerivationCall=N0.DerivationAlgorithm=N0.Curve=void 0;var Bu=Ec();Object.defineProperty(N0,"Curve",{enumerable:!0,get:function(){return Bu.Curve}});Object.defineProperty(N0,"DerivationAlgorithm",{enumerable:!0,get:function(){return Bu.DerivationAlgorithm}});var nce=Qr(),ice=({schemas:r,origin:e})=>{let t=r.map(({path:o,curve:a=Bu.Curve.secp256k1,algo:s=Bu.DerivationAlgorithm.slip10})=>{if(a===Bu.Curve.secp256k1&&s===Bu.DerivationAlgorithm.bip32ed25519)throw new Error("the combination of the given curve and algo not supported");return new Bu.KeyDerivationSchema((0,nce.pathToKeypath)(o),a,s)}),n=new Bu.KeyDerivation(t);return new Bu.QRHardwareCall(Bu.QRHardwareCallType.KeyDerivation,n,e).toUR()};N0.generateKeyDerivationCall=ice});var Wk=b(rm=>{"use strict";d();h();Object.defineProperty(rm,"__esModule",{value:!0});rm.AccountNote=void 0;var oce;(function(r){r.Standard="account.standard",r.LedgerLegacy="account.ledger_legacy",r.LedgerLive="account.ledger_live"})(oce=rm.AccountNote||(rm.AccountNote={}))});var Jk=b(Xk=>{"use strict";d();h();Object.defineProperty(Xk,"__esModule",{value:!0})});var Zk=b($k=>{"use strict";d();h();Object.defineProperty($k,"__esModule",{value:!0})});var ej=b(Qk=>{"use strict";d();h();Object.defineProperty(Qk,"__esModule",{value:!0})});var W4=b(Js=>{"use strict";d();h();var ace=Js&&Js.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),nm=Js&&Js.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ace(e,r,t)};Object.defineProperty(Js,"__esModule",{value:!0});nm(Wk(),Js);nm(Jk(),Js);nm(Zk(),Js);nm(ej(),Js);nm(so(),Js)});var XC=b(X4=>{"use strict";d();h();Object.defineProperty(X4,"__esModule",{value:!0});X4.generateExtraData=void 0;var sce={60:1},uce=r=>{var e;return{okx:{chainId:(e=sce[r])!==null&&e!==void 0?e:r}}};X4.generateExtraData=uce});var tj=b(J4=>{"use strict";d();h();Object.defineProperty(J4,"__esModule",{value:!0});J4.parseMultiAccounts=void 0;var fce=W4(),cce=Ec(),im=Qr(),lce=XC(),dce=r=>{if(r.type!==fce.URType.CryptoMultiAccounts)throw new Error("type not match");let e=cce.CryptoMultiAccounts.fromCBOR(r.cbor),t=(0,im.toHex)(e.getMasterFingerprint());return{device:e.getDevice(),masterFingerprint:t,keys:e.getKeys().map(n=>{let i=(0,im.toHex)(n.getChainCode()),o=(0,im.toHex)(n.getParentFingerprint()),a=n.getOrigin();if(a===void 0)throw new Error("multi accounts is invalid");let s;i.length!==0&&o.length!==0&&(s=n.getBip32Key());let u=a.getComponents()[1].getIndex();return{chain:(0,im.getCoinSymbol)(u),path:`m/${a.getPath()}`,publicKey:(0,im.toHex)(n.getKey()),name:n.getName(),chainCode:i,extendedPublicKey:s,note:n.getNote(),extra:(0,lce.generateExtraData)(u)}}),deviceId:e.getDeviceId(),deviceVersion:e.getVersion()}};J4.parseMultiAccounts=dce});var rj=b(Z4=>{"use strict";d();h();Object.defineProperty(Z4,"__esModule",{value:!0});Z4.parseHDKey=void 0;var hce=W4(),pce=Ec(),$4=Qr(),gce=XC(),yce=r=>{var e;if(r.type!==hce.URType.CryptoHDKey)throw new Error("type not match");let t=pce.CryptoHDKey.fromCBOR(r.cbor),n=(0,$4.toHex)(t.getChainCode()),i=(0,$4.toHex)(t.getParentFingerprint()),o=t.getOrigin();if(((e=t.getOrigin().getSourceFingerprint())===null||e===void 0?void 0:e.toString("hex"))===void 0)throw new Error("HDKey is invalid");let s;n.length!==0&&i.length!==0&&(s=t.getBip32Key());let u=o.getComponents()[1].getIndex();return{chain:(0,$4.getCoinSymbol)(u),path:`m/${o.getPath()}`,publicKey:(0,$4.toHex)(t.getKey()),name:t.getName(),xfp:o.getSourceFingerprint().toString("hex"),chainCode:n,extendedPublicKey:s,note:t.getNote(),extra:(0,gce.generateExtraData)(u)}};Z4.parseHDKey=yce});var nj=b(Lf=>{"use strict";d();h();var mce=Lf&&Lf.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),JC=Lf&&Lf.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&mce(e,r,t)};Object.defineProperty(Lf,"__esModule",{value:!0});JC(WC(),Lf);JC(tj(),Lf);JC(rj(),Lf)});var ij=b((uYe,vce)=>{vce.exports={TYPES:{Done:-1,Unknown:-2,NotPresent:0,UInt16:1,UInt32:2,UInt64:3,Hash128:4,Hash256:5,Amount:6,Blob:7,AccountID:8,STObject:14,STArray:15,UInt8:16,Hash160:17,PathSet:18,Vector256:19,UInt96:20,UInt192:21,UInt384:22,UInt512:23,Transaction:10001,LedgerEntry:10002,Validation:10003,Metadata:10004},LEDGER_ENTRY_TYPES:{Invalid:-1,AccountRoot:97,DirectoryNode:100,RippleState:114,Ticket:84,SignerList:83,Offer:111,LedgerHashes:104,Amendments:102,FeeSettings:115,Escrow:117,PayChannel:120,Check:67,DepositPreauth:112,NegativeUNL:78,NFTokenPage:80,NFTokenOffer:55,Any:-3,Child:-2,Nickname:110,Contract:99,GeneratorMap:103},FIELDS:[["Generic",{nth:0,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Unknown"}],["Invalid",{nth:-1,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Unknown"}],["ObjectEndMarker",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["ArrayEndMarker",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["hash",{nth:257,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Hash256"}],["index",{nth:258,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Hash256"}],["taker_gets_funded",{nth:258,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Amount"}],["taker_pays_funded",{nth:259,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Amount"}],["LedgerEntry",{nth:1,isVLEncoded:!1,isSerialized:!1,isSigningField:!0,type:"LedgerEntry"}],["Transaction",{nth:1,isVLEncoded:!1,isSerialized:!1,isSigningField:!0,type:"Transaction"}],["Validation",{nth:1,isVLEncoded:!1,isSerialized:!1,isSigningField:!0,type:"Validation"}],["Metadata",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Metadata"}],["CloseResolution",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["Method",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["TransactionResult",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["TickSize",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["UNLModifyDisabling",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["HookResult",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["LedgerEntryType",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["TransactionType",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["SignerWeight",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["TransferFee",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["Version",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookStateChangeCount",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookEmitCount",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookExecutionIndex",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookApiVersion",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["Flags",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SourceTag",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["Sequence",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["PreviousTxnLgrSeq",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LedgerSequence",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["CloseTime",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ParentCloseTime",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SigningTime",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["Expiration",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TransferRate",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["WalletSize",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["OwnerCount",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["DestinationTag",{nth:14,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["HighQualityIn",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["HighQualityOut",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LowQualityIn",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LowQualityOut",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["QualityIn",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["QualityOut",{nth:21,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["StampEscrow",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["BondAmount",{nth:23,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LoadFee",{nth:24,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["OfferSequence",{nth:25,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["FirstLedgerSequence",{nth:26,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LastLedgerSequence",{nth:27,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TransactionIndex",{nth:28,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["OperationLimit",{nth:29,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ReferenceFeeUnits",{nth:30,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ReserveBase",{nth:31,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ReserveIncrement",{nth:32,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SetFlag",{nth:33,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ClearFlag",{nth:34,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SignerQuorum",{nth:35,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["CancelAfter",{nth:36,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["FinishAfter",{nth:37,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SignerListID",{nth:38,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SettleDelay",{nth:39,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TicketCount",{nth:40,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TicketSequence",{nth:41,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["NFTokenTaxon",{nth:42,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["MintedNFTokens",{nth:43,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["BurnedNFTokens",{nth:44,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["HookStateCount",{nth:45,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["EmitGeneration",{nth:46,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["IndexNext",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["IndexPrevious",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["BookNode",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["OwnerNode",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["BaseFee",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["ExchangeRate",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["LowNode",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HighNode",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["DestinationNode",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["Cookie",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["ServerVersion",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["NFTokenOfferNode",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["EmitBurden",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HookOn",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HookInstructionCount",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HookReturnCode",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["ReferenceCount",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["EmailHash",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash128"}],["TakerPaysCurrency",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["TakerPaysIssuer",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["TakerGetsCurrency",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["TakerGetsIssuer",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["LedgerHash",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["ParentHash",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["TransactionHash",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["AccountHash",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["PreviousTxnID",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["LedgerIndex",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["WalletLocator",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["RootIndex",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["AccountTxnID",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NFTokenID",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["EmitParentTxnID",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["EmitNonce",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["EmitHookHash",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["BookDirectory",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["InvoiceID",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Nickname",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Amendment",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Digest",{nth:21,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Channel",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["ConsensusHash",{nth:23,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["CheckID",{nth:24,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["ValidatedHash",{nth:25,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["PreviousPageMin",{nth:26,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NextPageMin",{nth:27,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NFTokenBuyOffer",{nth:28,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NFTokenSellOffer",{nth:29,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookStateKey",{nth:30,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookHash",{nth:31,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookNamespace",{nth:32,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookSetTxnID",{nth:33,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Amount",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["Balance",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["LimitAmount",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["TakerPays",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["TakerGets",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["LowLimit",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["HighLimit",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["Fee",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["SendMax",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["DeliverMin",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["MinimumOffer",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["RippleEscrow",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["DeliveredAmount",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["NFTokenBrokerFee",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["PublicKey",{nth:1,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MessageKey",{nth:2,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["SigningPubKey",{nth:3,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["TxnSignature",{nth:4,isVLEncoded:!0,isSerialized:!0,isSigningField:!1,type:"Blob"}],["URI",{nth:5,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Signature",{nth:6,isVLEncoded:!0,isSerialized:!0,isSigningField:!1,type:"Blob"}],["Domain",{nth:7,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["FundCode",{nth:8,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["RemoveCode",{nth:9,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["ExpireCode",{nth:10,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["CreateCode",{nth:11,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MemoType",{nth:12,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MemoData",{nth:13,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MemoFormat",{nth:14,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Fulfillment",{nth:16,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Condition",{nth:17,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MasterSignature",{nth:18,isVLEncoded:!0,isSerialized:!0,isSigningField:!1,type:"Blob"}],["UNLModifyValidator",{nth:19,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["ValidatorToDisable",{nth:20,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["ValidatorToReEnable",{nth:21,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookStateData",{nth:22,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookReturnString",{nth:23,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookParameterName",{nth:24,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookParameterValue",{nth:25,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Account",{nth:1,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Owner",{nth:2,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Destination",{nth:3,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Issuer",{nth:4,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Authorize",{nth:5,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Unauthorize",{nth:6,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["RegularKey",{nth:8,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["NFTokenMinter",{nth:9,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["EmitCallback",{nth:10,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["HookAccount",{nth:16,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Indexes",{nth:1,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["Hashes",{nth:2,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["Amendments",{nth:3,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["NFTokenOffers",{nth:4,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["Paths",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"PathSet"}],["TransactionMetaData",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["CreatedNode",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["DeletedNode",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["ModifiedNode",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["PreviousFields",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["FinalFields",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["NewFields",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["TemplateEntry",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Memo",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["SignerEntry",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["NFToken",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["EmitDetails",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Hook",{nth:14,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Signer",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Majority",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["DisabledValidator",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["EmittedTxn",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookExecution",{nth:21,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookDefinition",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookParameter",{nth:23,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookGrant",{nth:24,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Signers",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!1,type:"STArray"}],["SignerEntries",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Template",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Necessary",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Sufficient",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["AffectedNodes",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Memos",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["NFTokens",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Hooks",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Majorities",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["DisabledValidators",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["HookExecutions",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["HookParameters",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["HookGrants",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}]],TRANSACTION_RESULTS:{telLOCAL_ERROR:-399,telBAD_DOMAIN:-398,telBAD_PATH_COUNT:-397,telBAD_PUBLIC_KEY:-396,telFAILED_PROCESSING:-395,telINSUF_FEE_P:-394,telNO_DST_PARTIAL:-393,telCAN_NOT_QUEUE:-392,telCAN_NOT_QUEUE_BALANCE:-391,telCAN_NOT_QUEUE_BLOCKS:-390,telCAN_NOT_QUEUE_BLOCKED:-389,telCAN_NOT_QUEUE_FEE:-388,telCAN_NOT_QUEUE_FULL:-387,temMALFORMED:-299,temBAD_AMOUNT:-298,temBAD_CURRENCY:-297,temBAD_EXPIRATION:-296,temBAD_FEE:-295,temBAD_ISSUER:-294,temBAD_LIMIT:-293,temBAD_OFFER:-292,temBAD_PATH:-291,temBAD_PATH_LOOP:-290,temBAD_REGKEY:-289,temBAD_SEND_XRP_LIMIT:-288,temBAD_SEND_XRP_MAX:-287,temBAD_SEND_XRP_NO_DIRECT:-286,temBAD_SEND_XRP_PARTIAL:-285,temBAD_SEND_XRP_PATHS:-284,temBAD_SEQUENCE:-283,temBAD_SIGNATURE:-282,temBAD_SRC_ACCOUNT:-281,temBAD_TRANSFER_RATE:-280,temDST_IS_SRC:-279,temDST_NEEDED:-278,temINVALID:-277,temINVALID_FLAG:-276,temREDUNDANT:-275,temRIPPLE_EMPTY:-274,temDISABLED:-273,temBAD_SIGNER:-272,temBAD_QUORUM:-271,temBAD_WEIGHT:-270,temBAD_TICK_SIZE:-269,temINVALID_ACCOUNT_ID:-268,temCANNOT_PREAUTH_SELF:-267,temINVALID_COUNT:-266,temUNCERTAIN:-265,temUNKNOWN:-264,temSEQ_AND_TICKET:-263,temBAD_NFTOKEN_TRANSFER_FEE:-262,tefFAILURE:-199,tefALREADY:-198,tefBAD_ADD_AUTH:-197,tefBAD_AUTH:-196,tefBAD_LEDGER:-195,tefCREATED:-194,tefEXCEPTION:-193,tefINTERNAL:-192,tefNO_AUTH_REQUIRED:-191,tefPAST_SEQ:-190,tefWRONG_PRIOR:-189,tefMASTER_DISABLED:-188,tefMAX_LEDGER:-187,tefBAD_SIGNATURE:-186,tefBAD_QUORUM:-185,tefNOT_MULTI_SIGNING:-184,tefBAD_AUTH_MASTER:-183,tefINVARIANT_FAILED:-182,tefTOO_BIG:-181,tefNO_TICKET:-180,tefNFTOKEN_IS_NOT_TRANSFERABLE:-179,terRETRY:-99,terFUNDS_SPENT:-98,terINSUF_FEE_B:-97,terNO_ACCOUNT:-96,terNO_AUTH:-95,terNO_LINE:-94,terOWNERS:-93,terPRE_SEQ:-92,terLAST:-91,terNO_RIPPLE:-90,terQUEUED:-89,terPRE_TICKET:-88,tesSUCCESS:0,tecCLAIM:100,tecPATH_PARTIAL:101,tecUNFUNDED_ADD:102,tecUNFUNDED_OFFER:103,tecUNFUNDED_PAYMENT:104,tecFAILED_PROCESSING:105,tecDIR_FULL:121,tecINSUF_RESERVE_LINE:122,tecINSUF_RESERVE_OFFER:123,tecNO_DST:124,tecNO_DST_INSUF_XRP:125,tecNO_LINE_INSUF_RESERVE:126,tecNO_LINE_REDUNDANT:127,tecPATH_DRY:128,tecUNFUNDED:129,tecNO_ALTERNATIVE_KEY:130,tecNO_REGULAR_KEY:131,tecOWNERS:132,tecNO_ISSUER:133,tecNO_AUTH:134,tecNO_LINE:135,tecINSUFF_FEE:136,tecFROZEN:137,tecNO_TARGET:138,tecNO_PERMISSION:139,tecNO_ENTRY:140,tecINSUFFICIENT_RESERVE:141,tecNEED_MASTER_KEY:142,tecDST_TAG_NEEDED:143,tecINTERNAL:144,tecOVERSIZE:145,tecCRYPTOCONDITION_ERROR:146,tecINVARIANT_FAILED:147,tecEXPIRED:148,tecDUPLICATE:149,tecKILLED:150,tecHAS_OBLIGATIONS:151,tecTOO_SOON:152,tecMAX_SEQUENCE_REACHED:154,tecNO_SUITABLE_NFTOKEN_PAGE:155,tecNFTOKEN_BUY_SELL_MISMATCH:156,tecNFTOKEN_OFFER_TYPE_MISMATCH:157,tecCANT_ACCEPT_OWN_NFTOKEN_OFFER:158,tecINSUFFICIENT_FUNDS:159,tecOBJECT_NOT_FOUND:160,tecINSUFFICIENT_PAYMENT:161},TRANSACTION_TYPES:{Invalid:-1,Payment:0,EscrowCreate:1,EscrowFinish:2,AccountSet:3,EscrowCancel:4,SetRegularKey:5,NickNameSet:6,OfferCreate:7,OfferCancel:8,Contract:9,TicketCreate:10,TicketCancel:11,SignerListSet:12,PaymentChannelCreate:13,PaymentChannelFund:14,PaymentChannelClaim:15,CheckCreate:16,CheckCash:17,CheckCancel:18,DepositPreauth:19,TrustSet:20,AccountDelete:21,SetHook:22,NFTokenMint:25,NFTokenBurn:26,NFTokenCreateOffer:27,NFTokenCancelOffer:28,NFTokenAcceptOffer:29,EnableAmendment:100,SetFee:101,UNLModify:102}}});var jt=b(Ep=>{"use strict";d();h();var $C=UR(),wp=gI(),oj=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Ep.Buffer=ye;Ep.SlowBuffer=bce;Ep.INSPECT_MAX_BYTES=50;var Q4=2147483647;Ep.kMaxLength=Q4;ye.TYPED_ARRAY_SUPPORT=xce();!ye.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function xce(){try{var r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(ye.prototype,"parent",{enumerable:!0,get:function(){if(!!ye.isBuffer(this))return this.buffer}});Object.defineProperty(ye.prototype,"offset",{enumerable:!0,get:function(){if(!!ye.isBuffer(this))return this.byteOffset}});function kf(r){if(r>Q4)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,ye.prototype),e}function ye(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return e5(r)}return fj(r,e,t)}ye.poolSize=8192;function fj(r,e,t){if(typeof r=="string")return wce(r,e);if(ArrayBuffer.isView(r))return ZC(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(jf(r,ArrayBuffer)||r&&jf(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(jf(r,SharedArrayBuffer)||r&&jf(r.buffer,SharedArrayBuffer)))return aj(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return ye.from(n,e,t);var i=Ece(r);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return ye.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}ye.from=function(r,e,t){return fj(r,e,t)};Object.setPrototypeOf(ye.prototype,Uint8Array.prototype);Object.setPrototypeOf(ye,Uint8Array);function cj(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function _ce(r,e,t){return cj(r),r<=0?kf(r):e!==void 0?typeof t=="string"?kf(r).fill(e,t):kf(r).fill(e):kf(r)}ye.alloc=function(r,e,t){return _ce(r,e,t)};function e5(r){return cj(r),kf(r<0?0:t5(r)|0)}ye.allocUnsafe=function(r){return e5(r)};ye.allocUnsafeSlow=function(r){return e5(r)};function wce(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!ye.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var t=lj(r,e)|0,n=kf(t),i=n.write(r,e);return i!==t&&(n=n.slice(0,i)),n}function ZC(r){for(var e=r.length<0?0:t5(r.length)|0,t=kf(e),n=0;n<e;n+=1)t[n]=r[n]&255;return t}function aj(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var n;return e===void 0&&t===void 0?n=new Uint8Array(r):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(n,ye.prototype),n}function Ece(r){if(ye.isBuffer(r)){var e=t5(r.length)|0,t=kf(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||r5(r.length)?kf(0):ZC(r);if(r.type==="Buffer"&&Array.isArray(r.data))return ZC(r.data)}function t5(r){if(r>=Q4)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Q4.toString(16)+" bytes");return r|0}function bce(r){return+r!=r&&(r=0),ye.alloc(+r)}ye.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==ye.prototype};ye.compare=function(e,t){if(jf(e,Uint8Array)&&(e=ye.from(e,e.offset,e.byteLength)),jf(t,Uint8Array)&&(t=ye.from(t,t.offset,t.byteLength)),!ye.isBuffer(e)||!ye.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,i=t.length,o=0,a=Math.min(n,i);o<a;++o)if(e[o]!==t[o]){n=e[o],i=t[o];break}return n<i?-1:i<n?1:0};ye.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};ye.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ye.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=ye.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(jf(a,Uint8Array)&&(a=ye.from(a)),!ye.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i};function lj(r,e){if(ye.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||jf(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return QC(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return vj(r).length;default:if(i)return n?-1:QC(r).length;e=(""+e).toLowerCase(),i=!0}}ye.byteLength=lj;function Ice(r,e,t){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return Nce(this,e,t);case"utf8":case"utf-8":return pj(this,e,t);case"ascii":return Pce(this,e,t);case"latin1":case"binary":return Bce(this,e,t);case"base64":return Dce(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Mce(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}ye.prototype._isBuffer=!0;function Zd(r,e,t){var n=r[e];r[e]=r[t],r[t]=n}ye.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Zd(this,t,t+1);return this};ye.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Zd(this,t,t+3),Zd(this,t+1,t+2);return this};ye.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Zd(this,t,t+7),Zd(this,t+1,t+6),Zd(this,t+2,t+5),Zd(this,t+3,t+4);return this};ye.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?pj(this,0,e):Ice.apply(this,arguments)};ye.prototype.toLocaleString=ye.prototype.toString;ye.prototype.equals=function(e){if(!ye.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:ye.compare(this,e)===0};ye.prototype.inspect=function(){var e="",t=Ep.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};oj&&(ye.prototype[oj]=ye.prototype.inspect);ye.prototype.compare=function(e,t,n,i,o){if(jf(e,Uint8Array)&&(e=ye.from(e,e.offset,e.byteLength)),!ye.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),t<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&t>=n)return 0;if(i>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var a=o-i,s=n-t,u=Math.min(a,s),f=this.slice(i,o),l=e.slice(t,n),p=0;p<u;++p)if(f[p]!==l[p]){a=f[p],s=l[p];break}return a<s?-1:s<a?1:0};function dj(r,e,t,n,i){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,r5(t)&&(t=i?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(i)return-1;t=r.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e=="string"&&(e=ye.from(e,n)),ye.isBuffer(e))return e.length===0?-1:sj(r,e,t,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):sj(r,[e],t,n,i);throw new TypeError("val must be string, number or Buffer")}function sj(r,e,t,n,i){var o=1,a=r.length,s=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;o=2,a/=2,s/=2,t/=2}function u(v,_){return o===1?v[_]:v.readUInt16BE(_*o)}var f;if(i){var l=-1;for(f=t;f<a;f++)if(u(r,f)===u(e,l===-1?0:f-l)){if(l===-1&&(l=f),f-l+1===s)return l*o}else l!==-1&&(f-=f-l),l=-1}else for(t+s>a&&(t=a-s),f=t;f>=0;f--){for(var p=!0,g=0;g<s;g++)if(u(r,f+g)!==u(e,g)){p=!1;break}if(p)return f}return-1}ye.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};ye.prototype.indexOf=function(e,t,n){return dj(this,e,t,n,!0)};ye.prototype.lastIndexOf=function(e,t,n){return dj(this,e,t,n,!1)};function Tce(r,e,t,n){t=Number(t)||0;var i=r.length-t;n?(n=Number(n),n>i&&(n=i)):n=i;var o=e.length;n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(a*2,2),16);if(r5(s))return a;r[t+a]=s}return a}function Sce(r,e,t,n){return eE(QC(e,r.length-t),r,t,n)}function hj(r,e,t,n){return eE(Uce(e),r,t,n)}function Cce(r,e,t,n){return hj(r,e,t,n)}function Ace(r,e,t,n){return eE(vj(e),r,t,n)}function Oce(r,e,t,n){return eE(Lce(e,r.length-t),r,t,n)}ye.prototype.write=function(e,t,n,i){if(t===void 0)i="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")i=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-t;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return Tce(this,e,t,n);case"utf8":case"utf-8":return Sce(this,e,t,n);case"ascii":return hj(this,e,t,n);case"latin1":case"binary":return Cce(this,e,t,n);case"base64":return Ace(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Oce(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}};ye.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Dce(r,e,t){return e===0&&t===r.length?$C.fromByteArray(r):$C.fromByteArray(r.slice(e,t))}function pj(r,e,t){t=Math.min(r.length,t);for(var n=[],i=e;i<t;){var o=r[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=t){var u,f,l,p;switch(s){case 1:o<128&&(a=o);break;case 2:u=r[i+1],(u&192)===128&&(p=(o&31)<<6|u&63,p>127&&(a=p));break;case 3:u=r[i+1],f=r[i+2],(u&192)===128&&(f&192)===128&&(p=(o&15)<<12|(u&63)<<6|f&63,p>2047&&(p<55296||p>57343)&&(a=p));break;case 4:u=r[i+1],f=r[i+2],l=r[i+3],(u&192)===128&&(f&192)===128&&(l&192)===128&&(p=(o&15)<<18|(u&63)<<12|(f&63)<<6|l&63,p>65535&&p<1114112&&(a=p))}}a===null?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=s}return Rce(n)}var uj=4096;function Rce(r){var e=r.length;if(e<=uj)return String.fromCharCode.apply(String,r);for(var t="",n=0;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=uj));return t}function Pce(r,e,t){var n="";t=Math.min(r.length,t);for(var i=e;i<t;++i)n+=String.fromCharCode(r[i]&127);return n}function Bce(r,e,t){var n="";t=Math.min(r.length,t);for(var i=e;i<t;++i)n+=String.fromCharCode(r[i]);return n}function Nce(r,e,t){var n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);for(var i="",o=e;o<t;++o)i+=kce[r[o]];return i}function Mce(r,e,t){for(var n=r.slice(e,t),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}ye.prototype.slice=function(e,t){var n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var i=this.subarray(e,t);return Object.setPrototypeOf(i,ye.prototype),i};function Wr(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}ye.prototype.readUIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Wr(e,t,this.length);for(var i=this[e],o=1,a=0;++a<t&&(o*=256);)i+=this[e+a]*o;return i};ye.prototype.readUIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Wr(e,t,this.length);for(var i=this[e+--t],o=1;t>0&&(o*=256);)i+=this[e+--t]*o;return i};ye.prototype.readUInt8=function(e,t){return e=e>>>0,t||Wr(e,1,this.length),this[e]};ye.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Wr(e,2,this.length),this[e]|this[e+1]<<8};ye.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Wr(e,2,this.length),this[e]<<8|this[e+1]};ye.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Wr(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};ye.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Wr(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};ye.prototype.readIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Wr(e,t,this.length);for(var i=this[e],o=1,a=0;++a<t&&(o*=256);)i+=this[e+a]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i};ye.prototype.readIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Wr(e,t,this.length);for(var i=t,o=1,a=this[e+--i];i>0&&(o*=256);)a+=this[e+--i]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*t)),a};ye.prototype.readInt8=function(e,t){return e=e>>>0,t||Wr(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};ye.prototype.readInt16LE=function(e,t){e=e>>>0,t||Wr(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};ye.prototype.readInt16BE=function(e,t){e=e>>>0,t||Wr(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};ye.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Wr(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};ye.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Wr(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};ye.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Wr(e,4,this.length),wp.read(this,e,!0,23,4)};ye.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Wr(e,4,this.length),wp.read(this,e,!1,23,4)};ye.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Wr(e,8,this.length),wp.read(this,e,!0,52,8)};ye.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Wr(e,8,this.length),wp.read(this,e,!1,52,8)};function mo(r,e,t,n,i,o){if(!ye.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}ye.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){var o=Math.pow(2,8*n)-1;mo(this,e,t,n,o,0)}var a=1,s=0;for(this[t]=e&255;++s<n&&(a*=256);)this[t+s]=e/a&255;return t+n};ye.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){var o=Math.pow(2,8*n)-1;mo(this,e,t,n,o,0)}var a=n-1,s=1;for(this[t+a]=e&255;--a>=0&&(s*=256);)this[t+a]=e/s&255;return t+n};ye.prototype.writeUInt8=function(e,t,n){return e=+e,t=t>>>0,n||mo(this,e,t,1,255,0),this[t]=e&255,t+1};ye.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||mo(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};ye.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||mo(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};ye.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||mo(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};ye.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||mo(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};ye.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){var o=Math.pow(2,8*n-1);mo(this,e,t,n,o-1,-o)}var a=0,s=1,u=0;for(this[t]=e&255;++a<n&&(s*=256);)e<0&&u===0&&this[t+a-1]!==0&&(u=1),this[t+a]=(e/s>>0)-u&255;return t+n};ye.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){var o=Math.pow(2,8*n-1);mo(this,e,t,n,o-1,-o)}var a=n-1,s=1,u=0;for(this[t+a]=e&255;--a>=0&&(s*=256);)e<0&&u===0&&this[t+a+1]!==0&&(u=1),this[t+a]=(e/s>>0)-u&255;return t+n};ye.prototype.writeInt8=function(e,t,n){return e=+e,t=t>>>0,n||mo(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};ye.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||mo(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};ye.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||mo(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};ye.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||mo(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};ye.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||mo(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function gj(r,e,t,n,i,o){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function yj(r,e,t,n,i){return e=+e,t=t>>>0,i||gj(r,e,t,4,34028234663852886e22,-34028234663852886e22),wp.write(r,e,t,n,23,4),t+4}ye.prototype.writeFloatLE=function(e,t,n){return yj(this,e,t,!0,n)};ye.prototype.writeFloatBE=function(e,t,n){return yj(this,e,t,!1,n)};function mj(r,e,t,n,i){return e=+e,t=t>>>0,i||gj(r,e,t,8,17976931348623157e292,-17976931348623157e292),wp.write(r,e,t,n,52,8),t+8}ye.prototype.writeDoubleLE=function(e,t,n){return mj(this,e,t,!0,n)};ye.prototype.writeDoubleBE=function(e,t,n){return mj(this,e,t,!1,n)};ye.prototype.copy=function(e,t,n,i){if(!ye.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var o=i-n;if(this===e&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(t,n,i);else if(this===e&&n<t&&t<i)for(var a=o-1;a>=0;--a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,i),t);return o};ye.prototype.fill=function(e,t,n,i){if(typeof e=="string"){if(typeof t=="string"?(i=t,t=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!ye.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){var o=e.charCodeAt(0);(i==="utf8"&&o<128||i==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var a;if(typeof e=="number")for(a=t;a<n;++a)this[a]=e;else{var s=ye.isBuffer(e)?e:ye.from(e,i),u=s.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=s[a%u]}return this};var qce=/[^+/0-9A-Za-z-_]/g;function Fce(r){if(r=r.split("=")[0],r=r.trim().replace(qce,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function QC(r,e){e=e||1/0;for(var t,n=r.length,i=null,o=[],a=0;a<n;++a){if(t=r.charCodeAt(a),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&o.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;o.push(t)}else if(t<2048){if((e-=2)<0)break;o.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;o.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return o}function Uce(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function Lce(r,e){for(var t,n,i,o=[],a=0;a<r.length&&!((e-=2)<0);++a)t=r.charCodeAt(a),n=t>>8,i=t%256,o.push(i),o.push(n);return o}function vj(r){return $C.toByteArray(Fce(r))}function eE(r,e,t,n){for(var i=0;i<n&&!(i+t>=e.length||i>=r.length);++i)e[i+t]=r[i];return i}function jf(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function r5(r){return r!==r}var kce=function(){for(var r="0123456789abcdef",e=new Array(256),t=0;t<16;++t)for(var n=t*16,i=0;i<16;++i)e[n+i]=r[t]+r[i];return e}()});var bp=b(os=>{"use strict";d();h();var jce=os&&os.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Hce=os&&os.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Kce=os&&os.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&jce(e,r,t);return Hce(e,r),e};Object.defineProperty(os,"__esModule",{value:!0});os.BinarySerializer=os.BytesList=void 0;var xj=Kce(So()),tE=jt(),om=class{constructor(){this.bytesArray=[]}getLength(){return tE.Buffer.concat(this.bytesArray).byteLength}put(e){let t=tE.Buffer.from(e);return this.bytesArray.push(t),this}toBytesSink(e){e.put(this.toBytes())}toBytes(){return tE.Buffer.concat(this.bytesArray)}toHex(){return this.toBytes().toString("hex").toUpperCase()}};os.BytesList=om;var n5=class{constructor(e){this.sink=new om,this.sink=e}write(e){e.toBytesSink(this.sink)}put(e){this.sink.put(e)}writeType(e,t){this.write(e.from(t))}writeBytesList(e){e.toBytesSink(this.sink)}encodeVariableLength(e){let t=tE.Buffer.alloc(3);if(e<=192)return t[0]=e,t.slice(0,1);if(e<=12480)return e-=193,t[0]=193+(e>>>8),t[1]=e&255,t.slice(0,2);if(e<=918744)return e-=12481,t[0]=241+(e>>>16),t[1]=e>>8&255,t[2]=e&255,t.slice(0,3);throw new Error("Overflow error")}writeFieldAndValue(e,t,n=!1){let i=e.associatedType.from(t);xj.ok(i.toBytesSink!==void 0),xj.ok(e.name!==void 0),this.sink.put(e.header),e.isVariableLengthEncoded?this.writeLengthEncoded(i,n):i.toBytesSink(this.sink)}writeLengthEncoded(e,t=!1){let n=new om;t||e.toBytesSink(n),this.put(this.encodeVariableLength(n.getLength())),this.writeBytesList(n)}};os.BinarySerializer=n5});var Nu=b(Ip=>{"use strict";d();h();Object.defineProperty(Ip,"__esModule",{value:!0});Ip.Comparable=Ip.SerializedType=void 0;var Vce=bp(),_j=jt(),rE=class{constructor(e){this.bytes=_j.Buffer.alloc(0),this.bytes=e!=null?e:_j.Buffer.alloc(0)}static fromParser(e,t){throw new Error("fromParser not implemented")}static from(e){throw new Error("from not implemented")}toBytesSink(e){e.put(this.bytes)}toHex(){return this.toBytes().toString("hex").toUpperCase()}toBytes(){if(this.bytes)return this.bytes;let e=new Vce.BytesList;return this.toBytesSink(e),e.toBytes()}toJSON(){return this.toHex()}toString(){return this.toHex()}};Ip.SerializedType=rE;var i5=class extends rE{lt(e){return this.compareTo(e)<0}eq(e){return this.compareTo(e)===0}gt(e){return this.compareTo(e)>0}gte(e){return this.compareTo(e)>-1}lte(e){return this.compareTo(e)<1}compareTo(e){throw new Error(`cannot compare ${this.toString()} and ${e.toString()}`)}};Ip.Comparable=i5});var Cp=b(or=>{"use strict";d();h();var Gce=or&&or.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Yce=or&&or.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),zce=or&&or.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Gce(e,r,t);return Yce(e,r),e};Object.defineProperty(or,"__esModule",{value:!0});or.TransactionType=or.TransactionResult=or.LedgerEntryType=or.Type=or.Field=or.Bytes=or.TRANSACTION_TYPES=void 0;var Qd=zce(ij()),Wce=Nu(),wj=jt();or.TRANSACTION_TYPES=Object.entries(Qd.TRANSACTION_TYPES).filter(([r,e])=>e>=0).map(([r,e])=>r);var Ej=2,Xce=2,Jce=2,$ce=1;function Zce(r,e){let t=[];return r<16?e<16?t.push(r<<4|e):t.push(r<<4,e):e<16?t.push(e,r):t.push(0,r,e),wj.Buffer.from(t)}var Tp=class{constructor(e,t,n){this.name=e,this.ordinal=t,this.ordinalWidth=n,this.bytes=wj.Buffer.alloc(n);for(let i=0;i<n;i++)this.bytes[n-i-1]=t>>>i*8&255}toJSON(){return this.name}toBytesSink(e){e.put(this.bytes)}toBytes(){return this.bytes}};or.Bytes=Tp;var Sp=class{constructor(e,t){this.ordinalWidth=t,Object.entries(e).forEach(([n,i])=>{this[n]=new Tp(n,i,t),this[i.toString()]=this[n]})}from(e){return e instanceof Tp?e:this[e]}fromParser(e){return this.from(e.readUIntN(this.ordinalWidth).toString())}};function Qce([r,e]){let t=Qd.TYPES[e.type],n=Zce(t,e.nth);return{name:r,nth:e.nth,isVariableLengthEncoded:e.isVLEncoded,isSerialized:e.isSerialized,isSigningField:e.isSigningField,ordinal:t<<16|e.nth,type:new Tp(e.type,t,Ej),header:n,associatedType:Wce.SerializedType}}var o5=class{constructor(e){e.forEach(([t,n])=>{this[t]=Qce([t,n]),this[this[t].ordinal.toString()]=this[t]})}fromString(e){return this[e]}},e0e=new Sp(Qd.TYPES,Ej);or.Type=e0e;var t0e=new Sp(Qd.LEDGER_ENTRY_TYPES,Xce);or.LedgerEntryType=t0e;var r0e=new Sp(Qd.TRANSACTION_TYPES,Jce);or.TransactionType=r0e;var n0e=new Sp(Qd.TRANSACTION_RESULTS,$ce);or.TransactionResult=n0e;var i0e=new o5(Qd.FIELDS);or.Field=i0e});var iE=b(nE=>{"use strict";d();h();Object.defineProperty(nE,"__esModule",{value:!0});nE.Hash=void 0;var o0e=Nu(),a0e=jt(),a5=class extends o0e.Comparable{constructor(e){if(super(e),this.bytes.byteLength!==this.constructor.width)throw new Error(`Invalid Hash length ${this.bytes.byteLength}`)}static from(e){if(e instanceof this)return e;if(typeof e=="string")return new this(a0e.Buffer.from(e,"hex"));throw new Error("Cannot construct Hash from given value")}static fromParser(e,t){return new this(e.read(t!=null?t:this.width))}compareTo(e){return this.bytes.compare(this.constructor.from(e).bytes)}toString(){return this.toHex()}nibblet(e){let t=e>0?e/2|0:0,n=this.bytes[t];return e%2===0?n=(n&240)>>>4:n=n&15,n}};nE.Hash=a5});var aE=b(oE=>{"use strict";d();h();Object.defineProperty(oE,"__esModule",{value:!0});oE.Hash160=void 0;var s0e=iE(),u0e=jt(),Mu=class extends s0e.Hash{constructor(e){e&&e.byteLength===0&&(e=Mu.ZERO_160.bytes),super(e!=null?e:Mu.ZERO_160.bytes)}};oE.Hash160=Mu;Mu.width=20;Mu.ZERO_160=new Mu(u0e.Buffer.alloc(Mu.width))});var fE=b(uE=>{"use strict";d();h();Object.defineProperty(uE,"__esModule",{value:!0});uE.AccountID=void 0;var sE=VR(),f0e=aE(),s5=jt(),c0e=/^[A-F0-9]{40}$/,$s=class extends f0e.Hash160{constructor(e){super(e!=null?e:$s.defaultAccountID.bytes)}static from(e){if(e instanceof $s)return e;if(typeof e=="string")return e===""?new $s:c0e.test(e)?new $s(s5.Buffer.from(e,"hex")):this.fromBase58(e);throw new Error("Cannot construct AccountID from value given")}static fromBase58(e){if((0,sE.isValidXAddress)(e)){let t=(0,sE.xAddressToClassicAddress)(e);if(t.tag!==!1)throw new Error("Only allowed to have tag on Account or Destination");e=t.classicAddress}return new $s(s5.Buffer.from((0,sE.decodeAccountID)(e)))}toJSON(){return this.toBase58()}toBase58(){return(0,sE.encodeAccountID)(this.bytes)}};uE.AccountID=$s;$s.defaultAccountID=new $s(s5.Buffer.alloc(20))});var u5=b((bj,cE)=>{d();h();(function(r){"use strict";var e=9e15,t=1e9,n="0123456789abcdef",i="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",o="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",a={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-e,maxE:e,crypto:!1},s,u,f,l,p=!0,g="[DecimalError] ",v=g+"Invalid argument: ",_=g+"Precision limit exceeded",T=g+"crypto unavailable",O="[object Decimal]",R=Math.floor,D=Math.pow,U=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,K=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,A=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,c=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,y=1e7,x=7,M=9007199254740991,L=i.length-1,ce=o.length-1,q={toStringTag:O};q.absoluteValue=q.abs=function(){var E=new this.constructor(this);return E.s<0&&(E.s=1),$(E)},q.ceil=function(){return $(new this.constructor(this),this.e+1,2)},q.clampedTo=q.clamp=function(E,C){var P,N=this,k=N.constructor;if(E=new k(E),C=new k(C),!E.s||!C.s)return new k(NaN);if(E.gt(C))throw Error(v+C);return P=N.cmp(E),P<0?E:N.cmp(C)>0?C:new k(N)},q.comparedTo=q.cmp=function(E){var C,P,N,k,j=this,J=j.d,Q=(E=new j.constructor(E)).d,re=j.s,ee=E.s;if(!J||!Q)return!re||!ee?NaN:re!==ee?re:J===Q?0:!J^re<0?1:-1;if(!J[0]||!Q[0])return J[0]?re:Q[0]?-ee:0;if(re!==ee)return re;if(j.e!==E.e)return j.e>E.e^re<0?1:-1;for(N=J.length,k=Q.length,C=0,P=N<k?N:k;C<P;++C)if(J[C]!==Q[C])return J[C]>Q[C]^re<0?1:-1;return N===k?0:N>k^re<0?1:-1},q.cosine=q.cos=function(){var E,C,P=this,N=P.constructor;return P.d?P.d[0]?(E=N.precision,C=N.rounding,N.precision=E+Math.max(P.e,P.sd())+x,N.rounding=1,P=z(N,Ft(N,P)),N.precision=E,N.rounding=C,$(l==2||l==3?P.neg():P,E,C,!0)):new N(1):new N(NaN)},q.cubeRoot=q.cbrt=function(){var E,C,P,N,k,j,J,Q,re,ee,ae=this,fe=ae.constructor;if(!ae.isFinite()||ae.isZero())return new fe(ae);for(p=!1,j=ae.s*D(ae.s*ae,1/3),!j||Math.abs(j)==1/0?(P=w(ae.d),E=ae.e,(j=(E-P.length+1)%3)&&(P+=j==1||j==-2?"0":"00"),j=D(P,1/3),E=R((E+1)/3)-(E%3==(E<0?-1:2)),j==1/0?P="5e"+E:(P=j.toExponential(),P=P.slice(0,P.indexOf("e")+1)+E),N=new fe(P),N.s=ae.s):N=new fe(j.toString()),J=(E=fe.precision)+3;;)if(Q=N,re=Q.times(Q).times(Q),ee=re.plus(ae),N=X(ee.plus(ae).times(Q),ee.plus(re),J+2,1),w(Q.d).slice(0,J)===(P=w(N.d)).slice(0,J))if(P=P.slice(J-3,J+1),P=="9999"||!k&&P=="4999"){if(!k&&($(Q,E+1,0),Q.times(Q).times(Q).eq(ae))){N=Q;break}J+=4,k=1}else{(!+P||!+P.slice(1)&&P.charAt(0)=="5")&&($(N,E+1,1),C=!N.times(N).times(N).eq(ae));break}return p=!0,$(N,E,fe.rounding,C)},q.decimalPlaces=q.dp=function(){var E,C=this.d,P=NaN;if(C){if(E=C.length-1,P=(E-R(this.e/x))*x,E=C[E],E)for(;E%10==0;E/=10)P--;P<0&&(P=0)}return P},q.dividedBy=q.div=function(E){return X(this,new this.constructor(E))},q.dividedToIntegerBy=q.divToInt=function(E){var C=this,P=C.constructor;return $(X(C,new P(E),0,1,1),P.precision,P.rounding)},q.equals=q.eq=function(E){return this.cmp(E)===0},q.floor=function(){return $(new this.constructor(this),this.e+1,3)},q.greaterThan=q.gt=function(E){return this.cmp(E)>0},q.greaterThanOrEqualTo=q.gte=function(E){var C=this.cmp(E);return C==1||C===0},q.hyperbolicCosine=q.cosh=function(){var E,C,P,N,k,j=this,J=j.constructor,Q=new J(1);if(!j.isFinite())return new J(j.s?1/0:NaN);if(j.isZero())return Q;P=J.precision,N=J.rounding,J.precision=P+Math.max(j.e,j.sd())+4,J.rounding=1,k=j.d.length,k<32?(E=Math.ceil(k/3),C=(1/mt(4,E)).toString()):(E=16,C="2.3283064365386962890625e-10"),j=ys(J,1,j.times(C),new J(1),!0);for(var re,ee=E,ae=new J(8);ee--;)re=j.times(j),j=Q.minus(re.times(ae.minus(re.times(ae))));return $(j,J.precision=P,J.rounding=N,!0)},q.hyperbolicSine=q.sinh=function(){var E,C,P,N,k=this,j=k.constructor;if(!k.isFinite()||k.isZero())return new j(k);if(C=j.precision,P=j.rounding,j.precision=C+Math.max(k.e,k.sd())+4,j.rounding=1,N=k.d.length,N<3)k=ys(j,2,k,k,!0);else{E=1.4*Math.sqrt(N),E=E>16?16:E|0,k=k.times(1/mt(5,E)),k=ys(j,2,k,k,!0);for(var J,Q=new j(5),re=new j(16),ee=new j(20);E--;)J=k.times(k),k=k.times(Q.plus(J.times(re.times(J).plus(ee))))}return j.precision=C,j.rounding=P,$(k,C,P,!0)},q.hyperbolicTangent=q.tanh=function(){var E,C,P=this,N=P.constructor;return P.isFinite()?P.isZero()?new N(P):(E=N.precision,C=N.rounding,N.precision=E+7,N.rounding=1,X(P.sinh(),P.cosh(),N.precision=E,N.rounding=C)):new N(P.s)},q.inverseCosine=q.acos=function(){var E,C=this,P=C.constructor,N=C.abs().cmp(1),k=P.precision,j=P.rounding;return N!==-1?N===0?C.isNeg()?xe(P,k,j):new P(0):new P(NaN):C.isZero()?xe(P,k+4,j).times(.5):(P.precision=k+6,P.rounding=1,C=C.asin(),E=xe(P,k+4,j).times(.5),P.precision=k,P.rounding=j,E.minus(C))},q.inverseHyperbolicCosine=q.acosh=function(){var E,C,P=this,N=P.constructor;return P.lte(1)?new N(P.eq(1)?0:NaN):P.isFinite()?(E=N.precision,C=N.rounding,N.precision=E+Math.max(Math.abs(P.e),P.sd())+4,N.rounding=1,p=!1,P=P.times(P).minus(1).sqrt().plus(P),p=!0,N.precision=E,N.rounding=C,P.ln()):new N(P)},q.inverseHyperbolicSine=q.asinh=function(){var E,C,P=this,N=P.constructor;return!P.isFinite()||P.isZero()?new N(P):(E=N.precision,C=N.rounding,N.precision=E+2*Math.max(Math.abs(P.e),P.sd())+6,N.rounding=1,p=!1,P=P.times(P).plus(1).sqrt().plus(P),p=!0,N.precision=E,N.rounding=C,P.ln())},q.inverseHyperbolicTangent=q.atanh=function(){var E,C,P,N,k=this,j=k.constructor;return k.isFinite()?k.e>=0?new j(k.abs().eq(1)?k.s/0:k.isZero()?k:NaN):(E=j.precision,C=j.rounding,N=k.sd(),Math.max(N,E)<2*-k.e-1?$(new j(k),E,C,!0):(j.precision=P=N-k.e,k=X(k.plus(1),new j(1).minus(k),P+E,1),j.precision=E+4,j.rounding=1,k=k.ln(),j.precision=E,j.rounding=C,k.times(.5))):new j(NaN)},q.inverseSine=q.asin=function(){var E,C,P,N,k=this,j=k.constructor;return k.isZero()?new j(k):(C=k.abs().cmp(1),P=j.precision,N=j.rounding,C!==-1?C===0?(E=xe(j,P+4,N).times(.5),E.s=k.s,E):new j(NaN):(j.precision=P+6,j.rounding=1,k=k.div(new j(1).minus(k.times(k)).sqrt().plus(1)).atan(),j.precision=P,j.rounding=N,k.times(2)))},q.inverseTangent=q.atan=function(){var E,C,P,N,k,j,J,Q,re,ee=this,ae=ee.constructor,fe=ae.precision,ge=ae.rounding;if(ee.isFinite()){if(ee.isZero())return new ae(ee);if(ee.abs().eq(1)&&fe+4<=ce)return J=xe(ae,fe+4,ge).times(.25),J.s=ee.s,J}else{if(!ee.s)return new ae(NaN);if(fe+4<=ce)return J=xe(ae,fe+4,ge).times(.5),J.s=ee.s,J}for(ae.precision=Q=fe+10,ae.rounding=1,P=Math.min(28,Q/x+2|0),E=P;E;--E)ee=ee.div(ee.times(ee).plus(1).sqrt().plus(1));for(p=!1,C=Math.ceil(Q/x),N=1,re=ee.times(ee),J=new ae(ee),k=ee;E!==-1;)if(k=k.times(re),j=J.minus(k.div(N+=2)),k=k.times(re),J=j.plus(k.div(N+=2)),J.d[C]!==void 0)for(E=C;J.d[E]===j.d[E]&&E--;);return P&&(J=J.times(2<<P-1)),p=!0,$(J,ae.precision=fe,ae.rounding=ge,!0)},q.isFinite=function(){return!!this.d},q.isInteger=q.isInt=function(){return!!this.d&&R(this.e/x)>this.d.length-2},q.isNaN=function(){return!this.s},q.isNegative=q.isNeg=function(){return this.s<0},q.isPositive=q.isPos=function(){return this.s>0},q.isZero=function(){return!!this.d&&this.d[0]===0},q.lessThan=q.lt=function(E){return this.cmp(E)<0},q.lessThanOrEqualTo=q.lte=function(E){return this.cmp(E)<1},q.logarithm=q.log=function(E){var C,P,N,k,j,J,Q,re,ee=this,ae=ee.constructor,fe=ae.precision,ge=ae.rounding,Te=5;if(E==null)E=new ae(10),C=!0;else{if(E=new ae(E),P=E.d,E.s<0||!P||!P[0]||E.eq(1))return new ae(NaN);C=E.eq(10)}if(P=ee.d,ee.s<0||!P||!P[0]||ee.eq(1))return new ae(P&&!P[0]?-1/0:ee.s!=1?NaN:P?0:1/0);if(C)if(P.length>1)j=!0;else{for(k=P[0];k%10===0;)k/=10;j=k!==1}if(p=!1,Q=fe+Te,J=He(ee,Q),N=C?W(ae,Q+10):He(E,Q),re=X(J,N,Q,1),B(re.d,k=fe,ge))do if(Q+=10,J=He(ee,Q),N=C?W(ae,Q+10):He(E,Q),re=X(J,N,Q,1),!j){+w(re.d).slice(k+1,k+15)+1==1e14&&(re=$(re,fe+1,0));break}while(B(re.d,k+=10,ge));return p=!0,$(re,fe,ge)},q.minus=q.sub=function(E){var C,P,N,k,j,J,Q,re,ee,ae,fe,ge,Te=this,Ve=Te.constructor;if(E=new Ve(E),!Te.d||!E.d)return!Te.s||!E.s?E=new Ve(NaN):Te.d?E.s=-E.s:E=new Ve(E.d||Te.s!==E.s?Te:NaN),E;if(Te.s!=E.s)return E.s=-E.s,Te.plus(E);if(ee=Te.d,ge=E.d,Q=Ve.precision,re=Ve.rounding,!ee[0]||!ge[0]){if(ge[0])E.s=-E.s;else if(ee[0])E=new Ve(Te);else return new Ve(re===3?-0:0);return p?$(E,Q,re):E}if(P=R(E.e/x),ae=R(Te.e/x),ee=ee.slice(),j=ae-P,j){for(fe=j<0,fe?(C=ee,j=-j,J=ge.length):(C=ge,P=ae,J=ee.length),N=Math.max(Math.ceil(Q/x),J)+2,j>N&&(j=N,C.length=1),C.reverse(),N=j;N--;)C.push(0);C.reverse()}else{for(N=ee.length,J=ge.length,fe=N<J,fe&&(J=N),N=0;N<J;N++)if(ee[N]!=ge[N]){fe=ee[N]<ge[N];break}j=0}for(fe&&(C=ee,ee=ge,ge=C,E.s=-E.s),J=ee.length,N=ge.length-J;N>0;--N)ee[J++]=0;for(N=ge.length;N>j;){if(ee[--N]<ge[N]){for(k=N;k&&ee[--k]===0;)ee[k]=y-1;--ee[k],ee[N]+=y}ee[N]-=ge[N]}for(;ee[--J]===0;)ee.pop();for(;ee[0]===0;ee.shift())--P;return ee[0]?(E.d=ee,E.e=I(ee,P),p?$(E,Q,re):E):new Ve(re===3?-0:0)},q.modulo=q.mod=function(E){var C,P=this,N=P.constructor;return E=new N(E),!P.d||!E.s||E.d&&!E.d[0]?new N(NaN):!E.d||P.d&&!P.d[0]?$(new N(P),N.precision,N.rounding):(p=!1,N.modulo==9?(C=X(P,E.abs(),0,3,1),C.s*=E.s):C=X(P,E,0,N.modulo,1),C=C.times(E),p=!0,P.minus(C))},q.naturalExponential=q.exp=function(){return Ni(this)},q.naturalLogarithm=q.ln=function(){return He(this)},q.negated=q.neg=function(){var E=new this.constructor(this);return E.s=-E.s,$(E)},q.plus=q.add=function(E){var C,P,N,k,j,J,Q,re,ee,ae,fe=this,ge=fe.constructor;if(E=new ge(E),!fe.d||!E.d)return!fe.s||!E.s?E=new ge(NaN):fe.d||(E=new ge(E.d||fe.s===E.s?fe:NaN)),E;if(fe.s!=E.s)return E.s=-E.s,fe.minus(E);if(ee=fe.d,ae=E.d,Q=ge.precision,re=ge.rounding,!ee[0]||!ae[0])return ae[0]||(E=new ge(fe)),p?$(E,Q,re):E;if(j=R(fe.e/x),N=R(E.e/x),ee=ee.slice(),k=j-N,k){for(k<0?(P=ee,k=-k,J=ae.length):(P=ae,N=j,J=ee.length),j=Math.ceil(Q/x),J=j>J?j+1:J+1,k>J&&(k=J,P.length=1),P.reverse();k--;)P.push(0);P.reverse()}for(J=ee.length,k=ae.length,J-k<0&&(k=J,P=ae,ae=ee,ee=P),C=0;k;)C=(ee[--k]=ee[k]+ae[k]+C)/y|0,ee[k]%=y;for(C&&(ee.unshift(C),++N),J=ee.length;ee[--J]==0;)ee.pop();return E.d=ee,E.e=I(ee,N),p?$(E,Q,re):E},q.precision=q.sd=function(E){var C,P=this;if(E!==void 0&&E!==!!E&&E!==1&&E!==0)throw Error(v+E);return P.d?(C=be(P.d),E&&P.e+1>C&&(C=P.e+1)):C=NaN,C},q.round=function(){var E=this,C=E.constructor;return $(new C(E),E.e+1,C.rounding)},q.sine=q.sin=function(){var E,C,P=this,N=P.constructor;return P.isFinite()?P.isZero()?new N(P):(E=N.precision,C=N.rounding,N.precision=E+Math.max(P.e,P.sd())+x,N.rounding=1,P=kt(N,Ft(N,P)),N.precision=E,N.rounding=C,$(l>2?P.neg():P,E,C,!0)):new N(NaN)},q.squareRoot=q.sqrt=function(){var E,C,P,N,k,j,J=this,Q=J.d,re=J.e,ee=J.s,ae=J.constructor;if(ee!==1||!Q||!Q[0])return new ae(!ee||ee<0&&(!Q||Q[0])?NaN:Q?J:1/0);for(p=!1,ee=Math.sqrt(+J),ee==0||ee==1/0?(C=w(Q),(C.length+re)%2==0&&(C+="0"),ee=Math.sqrt(C),re=R((re+1)/2)-(re<0||re%2),ee==1/0?C="5e"+re:(C=ee.toExponential(),C=C.slice(0,C.indexOf("e")+1)+re),N=new ae(C)):N=new ae(ee.toString()),P=(re=ae.precision)+3;;)if(j=N,N=j.plus(X(J,j,P+2,1)).times(.5),w(j.d).slice(0,P)===(C=w(N.d)).slice(0,P))if(C=C.slice(P-3,P+1),C=="9999"||!k&&C=="4999"){if(!k&&($(j,re+1,0),j.times(j).eq(J))){N=j;break}P+=4,k=1}else{(!+C||!+C.slice(1)&&C.charAt(0)=="5")&&($(N,re+1,1),E=!N.times(N).eq(J));break}return p=!0,$(N,re,ae.rounding,E)},q.tangent=q.tan=function(){var E,C,P=this,N=P.constructor;return P.isFinite()?P.isZero()?new N(P):(E=N.precision,C=N.rounding,N.precision=E+10,N.rounding=1,P=P.sin(),P.s=1,P=X(P,new N(1).minus(P.times(P)).sqrt(),E+10,0),N.precision=E,N.rounding=C,$(l==2||l==4?P.neg():P,E,C,!0)):new N(NaN)},q.times=q.mul=function(E){var C,P,N,k,j,J,Q,re,ee,ae=this,fe=ae.constructor,ge=ae.d,Te=(E=new fe(E)).d;if(E.s*=ae.s,!ge||!ge[0]||!Te||!Te[0])return new fe(!E.s||ge&&!ge[0]&&!Te||Te&&!Te[0]&&!ge?NaN:!ge||!Te?E.s/0:E.s*0);for(P=R(ae.e/x)+R(E.e/x),re=ge.length,ee=Te.length,re<ee&&(j=ge,ge=Te,Te=j,J=re,re=ee,ee=J),j=[],J=re+ee,N=J;N--;)j.push(0);for(N=ee;--N>=0;){for(C=0,k=re+N;k>N;)Q=j[k]+Te[N]*ge[k-N-1]+C,j[k--]=Q%y|0,C=Q/y|0;j[k]=(j[k]+C)%y|0}for(;!j[--J];)j.pop();return C?++P:j.shift(),E.d=j,E.e=I(j,P),p?$(E,fe.precision,fe.rounding):E},q.toBinary=function(E,C){return ta(this,2,E,C)},q.toDecimalPlaces=q.toDP=function(E,C){var P=this,N=P.constructor;return P=new N(P),E===void 0?P:(S(E,0,t),C===void 0?C=N.rounding:S(C,0,8),$(P,E+P.e+1,C))},q.toExponential=function(E,C){var P,N=this,k=N.constructor;return E===void 0?P=Y(N,!0):(S(E,0,t),C===void 0?C=k.rounding:S(C,0,8),N=$(new k(N),E+1,C),P=Y(N,!0,E+1)),N.isNeg()&&!N.isZero()?"-"+P:P},q.toFixed=function(E,C){var P,N,k=this,j=k.constructor;return E===void 0?P=Y(k):(S(E,0,t),C===void 0?C=j.rounding:S(C,0,8),N=$(new j(k),E+k.e+1,C),P=Y(N,!1,E+N.e+1)),k.isNeg()&&!k.isZero()?"-"+P:P},q.toFraction=function(E){var C,P,N,k,j,J,Q,re,ee,ae,fe,ge,Te=this,Ve=Te.d,qe=Te.constructor;if(!Ve)return new qe(Te);if(ee=P=new qe(1),N=re=new qe(0),C=new qe(N),j=C.e=be(Ve)-Te.e-1,J=j%x,C.d[0]=D(10,J<0?x+J:J),E==null)E=j>0?C:ee;else{if(Q=new qe(E),!Q.isInt()||Q.lt(ee))throw Error(v+Q);E=Q.gt(C)?j>0?C:ee:Q}for(p=!1,Q=new qe(w(Ve)),ae=qe.precision,qe.precision=j=Ve.length*x*2;fe=X(Q,C,0,1,1),k=P.plus(fe.times(N)),k.cmp(E)!=1;)P=N,N=k,k=ee,ee=re.plus(fe.times(k)),re=k,k=C,C=Q.minus(fe.times(k)),Q=k;return k=X(E.minus(P),N,0,1,1),re=re.plus(k.times(ee)),P=P.plus(k.times(N)),re.s=ee.s=Te.s,ge=X(ee,N,j,1).minus(Te).abs().cmp(X(re,P,j,1).minus(Te).abs())<1?[ee,N]:[re,P],qe.precision=ae,p=!0,ge},q.toHexadecimal=q.toHex=function(E,C){return ta(this,16,E,C)},q.toNearest=function(E,C){var P=this,N=P.constructor;if(P=new N(P),E==null){if(!P.d)return P;E=new N(1),C=N.rounding}else{if(E=new N(E),C===void 0?C=N.rounding:S(C,0,8),!P.d)return E.s?P:E;if(!E.d)return E.s&&(E.s=P.s),E}return E.d[0]?(p=!1,P=X(P,E,0,C,1).times(E),p=!0,$(P)):(E.s=P.s,P=E),P},q.toNumber=function(){return+this},q.toOctal=function(E,C){return ta(this,8,E,C)},q.toPower=q.pow=function(E){var C,P,N,k,j,J,Q=this,re=Q.constructor,ee=+(E=new re(E));if(!Q.d||!E.d||!Q.d[0]||!E.d[0])return new re(D(+Q,ee));if(Q=new re(Q),Q.eq(1))return Q;if(N=re.precision,j=re.rounding,E.eq(1))return $(Q,N,j);if(C=R(E.e/x),C>=E.d.length-1&&(P=ee<0?-ee:ee)<=M)return k=Me(re,Q,P,N),E.s<0?new re(1).div(k):$(k,N,j);if(J=Q.s,J<0){if(C<E.d.length-1)return new re(NaN);if((E.d[C]&1)==0&&(J=1),Q.e==0&&Q.d[0]==1&&Q.d.length==1)return Q.s=J,Q}return P=D(+Q,ee),C=P==0||!isFinite(P)?R(ee*(Math.log("0."+w(Q.d))/Math.LN10+Q.e+1)):new re(P+"").e,C>re.maxE+1||C<re.minE-1?new re(C>0?J/0:0):(p=!1,re.rounding=Q.s=1,P=Math.min(12,(C+"").length),k=Ni(E.times(He(Q,N+P)),N),k.d&&(k=$(k,N+5,1),B(k.d,N,j)&&(C=N+10,k=$(Ni(E.times(He(Q,C+P)),C),C+5,1),+w(k.d).slice(N+1,N+15)+1==1e14&&(k=$(k,N+1,0)))),k.s=J,p=!0,re.rounding=j,$(k,N,j))},q.toPrecision=function(E,C){var P,N=this,k=N.constructor;return E===void 0?P=Y(N,N.e<=k.toExpNeg||N.e>=k.toExpPos):(S(E,1,t),C===void 0?C=k.rounding:S(C,0,8),N=$(new k(N),E,C),P=Y(N,E<=N.e||N.e<=k.toExpNeg,E)),N.isNeg()&&!N.isZero()?"-"+P:P},q.toSignificantDigits=q.toSD=function(E,C){var P=this,N=P.constructor;return E===void 0?(E=N.precision,C=N.rounding):(S(E,1,t),C===void 0?C=N.rounding:S(C,0,8)),$(new N(P),E,C)},q.toString=function(){var E=this,C=E.constructor,P=Y(E,E.e<=C.toExpNeg||E.e>=C.toExpPos);return E.isNeg()&&!E.isZero()?"-"+P:P},q.truncated=q.trunc=function(){return $(new this.constructor(this),this.e+1,1)},q.valueOf=q.toJSON=function(){var E=this,C=E.constructor,P=Y(E,E.e<=C.toExpNeg||E.e>=C.toExpPos);return E.isNeg()?"-"+P:P};function w(E){var C,P,N,k=E.length-1,j="",J=E[0];if(k>0){for(j+=J,C=1;C<k;C++)N=E[C]+"",P=x-N.length,P&&(j+=we(P)),j+=N;J=E[C],N=J+"",P=x-N.length,P&&(j+=we(P))}else if(J===0)return"0";for(;J%10===0;)J/=10;return j+J}function S(E,C,P){if(E!==~~E||E<C||E>P)throw Error(v+E)}function B(E,C,P,N){var k,j,J,Q;for(j=E[0];j>=10;j/=10)--C;return--C<0?(C+=x,k=0):(k=Math.ceil((C+1)/x),C%=x),j=D(10,x-C),Q=E[k]%j|0,N==null?C<3?(C==0?Q=Q/100|0:C==1&&(Q=Q/10|0),J=P<4&&Q==99999||P>3&&Q==49999||Q==5e4||Q==0):J=(P<4&&Q+1==j||P>3&&Q+1==j/2)&&(E[k+1]/j/100|0)==D(10,C-2)-1||(Q==j/2||Q==0)&&(E[k+1]/j/100|0)==0:C<4?(C==0?Q=Q/1e3|0:C==1?Q=Q/100|0:C==2&&(Q=Q/10|0),J=(N||P<4)&&Q==9999||!N&&P>3&&Q==4999):J=((N||P<4)&&Q+1==j||!N&&P>3&&Q+1==j/2)&&(E[k+1]/j/1e3|0)==D(10,C-3)-1,J}function V(E,C,P){for(var N,k=[0],j,J=0,Q=E.length;J<Q;){for(j=k.length;j--;)k[j]*=C;for(k[0]+=n.indexOf(E.charAt(J++)),N=0;N<k.length;N++)k[N]>P-1&&(k[N+1]===void 0&&(k[N+1]=0),k[N+1]+=k[N]/P|0,k[N]%=P)}return k.reverse()}function z(E,C){var P,N,k;if(C.isZero())return C;N=C.d.length,N<32?(P=Math.ceil(N/3),k=(1/mt(4,P)).toString()):(P=16,k="2.3283064365386962890625e-10"),E.precision+=P,C=ys(E,1,C.times(k),new E(1));for(var j=P;j--;){var J=C.times(C);C=J.times(J).minus(J).times(8).plus(1)}return E.precision-=P,C}var X=function(){function E(N,k,j){var J,Q=0,re=N.length;for(N=N.slice();re--;)J=N[re]*k+Q,N[re]=J%j|0,Q=J/j|0;return Q&&N.unshift(Q),N}function C(N,k,j,J){var Q,re;if(j!=J)re=j>J?1:-1;else for(Q=re=0;Q<j;Q++)if(N[Q]!=k[Q]){re=N[Q]>k[Q]?1:-1;break}return re}function P(N,k,j,J){for(var Q=0;j--;)N[j]-=Q,Q=N[j]<k[j]?1:0,N[j]=Q*J+N[j]-k[j];for(;!N[0]&&N.length>1;)N.shift()}return function(N,k,j,J,Q,re){var ee,ae,fe,ge,Te,Ve,qe,Nr,Et,Mi,ft,yr,R2,sf,zb,P2,qg,Wb,ms,B2,N2=N.constructor,Xb=N.s==k.s?1:-1,Sn=N.d,Bt=k.d;if(!Sn||!Sn[0]||!Bt||!Bt[0])return new N2(!N.s||!k.s||(Sn?Bt&&Sn[0]==Bt[0]:!Bt)?NaN:Sn&&Sn[0]==0||!Bt?Xb*0:Xb/0);for(re?(Te=1,ae=N.e-k.e):(re=y,Te=x,ae=R(N.e/Te)-R(k.e/Te)),ms=Bt.length,qg=Sn.length,Et=new N2(Xb),Mi=Et.d=[],fe=0;Bt[fe]==(Sn[fe]||0);fe++);if(Bt[fe]>(Sn[fe]||0)&&ae--,j==null?(sf=j=N2.precision,J=N2.rounding):Q?sf=j+(N.e-k.e)+1:sf=j,sf<0)Mi.push(1),Ve=!0;else{if(sf=sf/Te+2|0,fe=0,ms==1){for(ge=0,Bt=Bt[0],sf++;(fe<qg||ge)&&sf--;fe++)zb=ge*re+(Sn[fe]||0),Mi[fe]=zb/Bt|0,ge=zb%Bt|0;Ve=ge||fe<qg}else{for(ge=re/(Bt[0]+1)|0,ge>1&&(Bt=E(Bt,ge,re),Sn=E(Sn,ge,re),ms=Bt.length,qg=Sn.length),P2=ms,ft=Sn.slice(0,ms),yr=ft.length;yr<ms;)ft[yr++]=0;B2=Bt.slice(),B2.unshift(0),Wb=Bt[0],Bt[1]>=re/2&&++Wb;do ge=0,ee=C(Bt,ft,ms,yr),ee<0?(R2=ft[0],ms!=yr&&(R2=R2*re+(ft[1]||0)),ge=R2/Wb|0,ge>1?(ge>=re&&(ge=re-1),qe=E(Bt,ge,re),Nr=qe.length,yr=ft.length,ee=C(qe,ft,Nr,yr),ee==1&&(ge--,P(qe,ms<Nr?B2:Bt,Nr,re))):(ge==0&&(ee=ge=1),qe=Bt.slice()),Nr=qe.length,Nr<yr&&qe.unshift(0),P(ft,qe,yr,re),ee==-1&&(yr=ft.length,ee=C(Bt,ft,ms,yr),ee<1&&(ge++,P(ft,ms<yr?B2:Bt,yr,re))),yr=ft.length):ee===0&&(ge++,ft=[0]),Mi[fe++]=ge,ee&&ft[0]?ft[yr++]=Sn[P2]||0:(ft=[Sn[P2]],yr=1);while((P2++<qg||ft[0]!==void 0)&&sf--);Ve=ft[0]!==void 0}Mi[0]||Mi.shift()}if(Te==1)Et.e=ae,u=Ve;else{for(fe=1,ge=Mi[0];ge>=10;ge/=10)fe++;Et.e=fe+ae*Te-1,$(Et,Q?j+Et.e+1:j,J,Ve)}return Et}}();function $(E,C,P,N){var k,j,J,Q,re,ee,ae,fe,ge,Te=E.constructor;e:if(C!=null){if(fe=E.d,!fe)return E;for(k=1,Q=fe[0];Q>=10;Q/=10)k++;if(j=C-k,j<0)j+=x,J=C,ae=fe[ge=0],re=ae/D(10,k-J-1)%10|0;else if(ge=Math.ceil((j+1)/x),Q=fe.length,ge>=Q)if(N){for(;Q++<=ge;)fe.push(0);ae=re=0,k=1,j%=x,J=j-x+1}else break e;else{for(ae=Q=fe[ge],k=1;Q>=10;Q/=10)k++;j%=x,J=j-x+k,re=J<0?0:ae/D(10,k-J-1)%10|0}if(N=N||C<0||fe[ge+1]!==void 0||(J<0?ae:ae%D(10,k-J-1)),ee=P<4?(re||N)&&(P==0||P==(E.s<0?3:2)):re>5||re==5&&(P==4||N||P==6&&(j>0?J>0?ae/D(10,k-J):0:fe[ge-1])%10&1||P==(E.s<0?8:7)),C<1||!fe[0])return fe.length=0,ee?(C-=E.e+1,fe[0]=D(10,(x-C%x)%x),E.e=-C||0):fe[0]=E.e=0,E;if(j==0?(fe.length=ge,Q=1,ge--):(fe.length=ge+1,Q=D(10,x-j),fe[ge]=J>0?(ae/D(10,k-J)%D(10,J)|0)*Q:0),ee)for(;;)if(ge==0){for(j=1,J=fe[0];J>=10;J/=10)j++;for(J=fe[0]+=Q,Q=1;J>=10;J/=10)Q++;j!=Q&&(E.e++,fe[0]==y&&(fe[0]=1));break}else{if(fe[ge]+=Q,fe[ge]!=y)break;fe[ge--]=0,Q=1}for(j=fe.length;fe[--j]===0;)fe.pop()}return p&&(E.e>Te.maxE?(E.d=null,E.e=NaN):E.e<Te.minE&&(E.e=0,E.d=[0])),E}function Y(E,C,P){if(!E.isFinite())return ut(E);var N,k=E.e,j=w(E.d),J=j.length;return C?(P&&(N=P-J)>0?j=j.charAt(0)+"."+j.slice(1)+we(N):J>1&&(j=j.charAt(0)+"."+j.slice(1)),j=j+(E.e<0?"e":"e+")+E.e):k<0?(j="0."+we(-k-1)+j,P&&(N=P-J)>0&&(j+=we(N))):k>=J?(j+=we(k+1-J),P&&(N=P-k-1)>0&&(j=j+"."+we(N))):((N=k+1)<J&&(j=j.slice(0,N)+"."+j.slice(N)),P&&(N=P-J)>0&&(k+1===J&&(j+="."),j+=we(N))),j}function I(E,C){var P=E[0];for(C*=x;P>=10;P/=10)C++;return C}function W(E,C,P){if(C>L)throw p=!0,P&&(E.precision=P),Error(_);return $(new E(i),C,1,!0)}function xe(E,C,P){if(C>ce)throw Error(_);return $(new E(o),C,P,!0)}function be(E){var C=E.length-1,P=C*x+1;if(C=E[C],C){for(;C%10==0;C/=10)P--;for(C=E[0];C>=10;C/=10)P++}return P}function we(E){for(var C="";E--;)C+="0";return C}function Me(E,C,P,N){var k,j=new E(1),J=Math.ceil(N/x+4);for(p=!1;;){if(P%2&&(j=j.times(C),Pt(j.d,J)&&(k=!0)),P=R(P/2),P===0){P=j.d.length-1,k&&j.d[P]===0&&++j.d[P];break}C=C.times(C),Pt(C.d,J)}return p=!0,j}function We(E){return E.d[E.d.length-1]&1}function Ze(E,C,P){for(var N,k=new E(C[0]),j=0;++j<C.length;)if(N=new E(C[j]),N.s)k[P](N)&&(k=N);else{k=N;break}return k}function Ni(E,C){var P,N,k,j,J,Q,re,ee=0,ae=0,fe=0,ge=E.constructor,Te=ge.rounding,Ve=ge.precision;if(!E.d||!E.d[0]||E.e>17)return new ge(E.d?E.d[0]?E.s<0?0:1/0:1:E.s?E.s<0?0:E:0/0);for(C==null?(p=!1,re=Ve):re=C,Q=new ge(.03125);E.e>-2;)E=E.times(Q),fe+=5;for(N=Math.log(D(2,fe))/Math.LN10*2+5|0,re+=N,P=j=J=new ge(1),ge.precision=re;;){if(j=$(j.times(E),re,1),P=P.times(++ae),Q=J.plus(X(j,P,re,1)),w(Q.d).slice(0,re)===w(J.d).slice(0,re)){for(k=fe;k--;)J=$(J.times(J),re,1);if(C==null)if(ee<3&&B(J.d,re-N,Te,ee))ge.precision=re+=10,P=j=Q=new ge(1),ae=0,ee++;else return $(J,ge.precision=Ve,Te,p=!0);else return ge.precision=Ve,J}J=Q}}function He(E,C){var P,N,k,j,J,Q,re,ee,ae,fe,ge,Te=1,Ve=10,qe=E,Nr=qe.d,Et=qe.constructor,Mi=Et.rounding,ft=Et.precision;if(qe.s<0||!Nr||!Nr[0]||!qe.e&&Nr[0]==1&&Nr.length==1)return new Et(Nr&&!Nr[0]?-1/0:qe.s!=1?NaN:Nr?0:qe);if(C==null?(p=!1,ae=ft):ae=C,Et.precision=ae+=Ve,P=w(Nr),N=P.charAt(0),Math.abs(j=qe.e)<15e14){for(;N<7&&N!=1||N==1&&P.charAt(1)>3;)qe=qe.times(E),P=w(qe.d),N=P.charAt(0),Te++;j=qe.e,N>1?(qe=new Et("0."+P),j++):qe=new Et(N+"."+P.slice(1))}else return ee=W(Et,ae+2,ft).times(j+""),qe=He(new Et(N+"."+P.slice(1)),ae-Ve).plus(ee),Et.precision=ft,C==null?$(qe,ft,Mi,p=!0):qe;for(fe=qe,re=J=qe=X(qe.minus(1),qe.plus(1),ae,1),ge=$(qe.times(qe),ae,1),k=3;;){if(J=$(J.times(ge),ae,1),ee=re.plus(X(J,new Et(k),ae,1)),w(ee.d).slice(0,ae)===w(re.d).slice(0,ae))if(re=re.times(2),j!==0&&(re=re.plus(W(Et,ae+2,ft).times(j+""))),re=X(re,new Et(Te),ae,1),C==null)if(B(re.d,ae-Ve,Mi,Q))Et.precision=ae+=Ve,ee=J=qe=X(fe.minus(1),fe.plus(1),ae,1),ge=$(qe.times(qe),ae,1),k=Q=1;else return $(re,Et.precision=ft,Mi,p=!0);else return Et.precision=ft,re;re=ee,k+=2}}function ut(E){return String(E.s*E.s/0)}function af(E,C){var P,N,k;for((P=C.indexOf("."))>-1&&(C=C.replace(".","")),(N=C.search(/e/i))>0?(P<0&&(P=N),P+=+C.slice(N+1),C=C.substring(0,N)):P<0&&(P=C.length),N=0;C.charCodeAt(N)===48;N++);for(k=C.length;C.charCodeAt(k-1)===48;--k);if(C=C.slice(N,k),C){if(k-=N,E.e=P=P-N-1,E.d=[],N=(P+1)%x,P<0&&(N+=x),N<k){for(N&&E.d.push(+C.slice(0,N)),k-=x;N<k;)E.d.push(+C.slice(N,N+=x));C=C.slice(N),N=x-C.length}else N-=k;for(;N--;)C+="0";E.d.push(+C),p&&(E.e>E.constructor.maxE?(E.d=null,E.e=NaN):E.e<E.constructor.minE&&(E.e=0,E.d=[0]))}else E.e=0,E.d=[0];return E}function Lt(E,C){var P,N,k,j,J,Q,re,ee,ae;if(C.indexOf("_")>-1){if(C=C.replace(/(\d)_(?=\d)/g,"$1"),c.test(C))return af(E,C)}else if(C==="Infinity"||C==="NaN")return+C||(E.s=NaN),E.e=NaN,E.d=null,E;if(K.test(C))P=16,C=C.toLowerCase();else if(U.test(C))P=2;else if(A.test(C))P=8;else throw Error(v+C);for(j=C.search(/p/i),j>0?(re=+C.slice(j+1),C=C.substring(2,j)):C=C.slice(2),j=C.indexOf("."),J=j>=0,N=E.constructor,J&&(C=C.replace(".",""),Q=C.length,j=Q-j,k=Me(N,new N(P),j,j*2)),ee=V(C,P,y),ae=ee.length-1,j=ae;ee[j]===0;--j)ee.pop();return j<0?new N(E.s*0):(E.e=I(ee,ae),E.d=ee,p=!1,J&&(E=X(E,k,Q*4)),re&&(E=E.times(Math.abs(re)<54?D(2,re):s.pow(2,re))),p=!0,E)}function kt(E,C){var P,N=C.d.length;if(N<3)return C.isZero()?C:ys(E,2,C,C);P=1.4*Math.sqrt(N),P=P>16?16:P|0,C=C.times(1/mt(5,P)),C=ys(E,2,C,C);for(var k,j=new E(5),J=new E(16),Q=new E(20);P--;)k=C.times(C),C=C.times(j.plus(k.times(J.times(k).minus(Q))));return C}function ys(E,C,P,N,k){var j,J,Q,re,ee=1,ae=E.precision,fe=Math.ceil(ae/x);for(p=!1,re=P.times(P),Q=new E(N);;){if(J=X(Q.times(re),new E(C++*C++),ae,1),Q=k?N.plus(J):N.minus(J),N=X(J.times(re),new E(C++*C++),ae,1),J=Q.plus(N),J.d[fe]!==void 0){for(j=fe;J.d[j]===Q.d[j]&&j--;);if(j==-1)break}j=Q,Q=N,N=J,J=j,ee++}return p=!0,J.d.length=fe+1,J}function mt(E,C){for(var P=E;--C;)P*=E;return P}function Ft(E,C){var P,N=C.s<0,k=xe(E,E.precision,1),j=k.times(.5);if(C=C.abs(),C.lte(j))return l=N?4:1,C;if(P=C.divToInt(k),P.isZero())l=N?3:2;else{if(C=C.minus(P.times(k)),C.lte(j))return l=We(P)?N?2:3:N?4:1,C;l=We(P)?N?1:4:N?3:2}return C.minus(k).abs()}function ta(E,C,P,N){var k,j,J,Q,re,ee,ae,fe,ge,Te=E.constructor,Ve=P!==void 0;if(Ve?(S(P,1,t),N===void 0?N=Te.rounding:S(N,0,8)):(P=Te.precision,N=Te.rounding),!E.isFinite())ae=ut(E);else{for(ae=Y(E),J=ae.indexOf("."),Ve?(k=2,C==16?P=P*4-3:C==8&&(P=P*3-2)):k=C,J>=0&&(ae=ae.replace(".",""),ge=new Te(1),ge.e=ae.length-J,ge.d=V(Y(ge),10,k),ge.e=ge.d.length),fe=V(ae,10,k),j=re=fe.length;fe[--re]==0;)fe.pop();if(!fe[0])ae=Ve?"0p+0":"0";else{if(J<0?j--:(E=new Te(E),E.d=fe,E.e=j,E=X(E,ge,P,N,0,k),fe=E.d,j=E.e,ee=u),J=fe[P],Q=k/2,ee=ee||fe[P+1]!==void 0,ee=N<4?(J!==void 0||ee)&&(N===0||N===(E.s<0?3:2)):J>Q||J===Q&&(N===4||ee||N===6&&fe[P-1]&1||N===(E.s<0?8:7)),fe.length=P,ee)for(;++fe[--P]>k-1;)fe[P]=0,P||(++j,fe.unshift(1));for(re=fe.length;!fe[re-1];--re);for(J=0,ae="";J<re;J++)ae+=n.charAt(fe[J]);if(Ve){if(re>1)if(C==16||C==8){for(J=C==16?4:3,--re;re%J;re++)ae+="0";for(fe=V(ae,k,C),re=fe.length;!fe[re-1];--re);for(J=1,ae="1.";J<re;J++)ae+=n.charAt(fe[J])}else ae=ae.charAt(0)+"."+ae.slice(1);ae=ae+(j<0?"p":"p+")+j}else if(j<0){for(;++j;)ae="0"+ae;ae="0."+ae}else if(++j>re)for(j-=re;j--;)ae+="0";else j<re&&(ae=ae.slice(0,j)+"."+ae.slice(j))}ae=(C==16?"0x":C==2?"0b":C==8?"0o":"")+ae}return E.s<0?"-"+ae:ae}function Pt(E,C){if(E.length>C)return E.length=C,!0}function Ut(E){return new this(E).abs()}function Vh(E){return new this(E).acos()}function _e(E){return new this(E).acosh()}function ht(E,C){return new this(E).plus(C)}function F(E){return new this(E).asin()}function H(E){return new this(E).asinh()}function Z(E){return new this(E).atan()}function te(E){return new this(E).atanh()}function oe(E,C){E=new this(E),C=new this(C);var P,N=this.precision,k=this.rounding,j=N+4;return!E.s||!C.s?P=new this(NaN):!E.d&&!C.d?(P=xe(this,j,1).times(C.s>0?.25:.75),P.s=E.s):!C.d||E.isZero()?(P=C.s<0?xe(this,N,k):new this(0),P.s=E.s):!E.d||C.isZero()?(P=xe(this,j,1).times(.5),P.s=E.s):C.s<0?(this.precision=j,this.rounding=1,P=this.atan(X(E,C,j,1)),C=xe(this,j,1),this.precision=N,this.rounding=k,P=E.s<0?P.minus(C):P.plus(C)):P=this.atan(X(E,C,j,1)),P}function ne(E){return new this(E).cbrt()}function pe(E){return $(E=new this(E),E.e+1,2)}function se(E,C,P){return new this(E).clamp(C,P)}function le(E){if(!E||typeof E!="object")throw Error(g+"Object expected");var C,P,N,k=E.defaults===!0,j=["precision",1,t,"rounding",0,8,"toExpNeg",-e,0,"toExpPos",0,e,"maxE",0,e,"minE",-e,0,"modulo",0,9];for(C=0;C<j.length;C+=3)if(P=j[C],k&&(this[P]=a[P]),(N=E[P])!==void 0)if(R(N)===N&&N>=j[C+1]&&N<=j[C+2])this[P]=N;else throw Error(v+P+": "+N);if(P="crypto",k&&(this[P]=a[P]),(N=E[P])!==void 0)if(N===!0||N===!1||N===0||N===1)if(N)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[P]=!0;else throw Error(T);else this[P]=!1;else throw Error(v+P+": "+N);return this}function Pe(E){return new this(E).cos()}function Oe(E){return new this(E).cosh()}function Ee(E){var C,P,N;function k(j){var J,Q,re,ee=this;if(!(ee instanceof k))return new k(j);if(ee.constructor=k,wt(j)){ee.s=j.s,p?!j.d||j.e>k.maxE?(ee.e=NaN,ee.d=null):j.e<k.minE?(ee.e=0,ee.d=[0]):(ee.e=j.e,ee.d=j.d.slice()):(ee.e=j.e,ee.d=j.d?j.d.slice():j.d);return}if(re=typeof j,re==="number"){if(j===0){ee.s=1/j<0?-1:1,ee.e=0,ee.d=[0];return}if(j<0?(j=-j,ee.s=-1):ee.s=1,j===~~j&&j<1e7){for(J=0,Q=j;Q>=10;Q/=10)J++;p?J>k.maxE?(ee.e=NaN,ee.d=null):J<k.minE?(ee.e=0,ee.d=[0]):(ee.e=J,ee.d=[j]):(ee.e=J,ee.d=[j]);return}else if(j*0!==0){j||(ee.s=NaN),ee.e=NaN,ee.d=null;return}return af(ee,j.toString())}else if(re!=="string")throw Error(v+j);return(Q=j.charCodeAt(0))===45?(j=j.slice(1),ee.s=-1):(Q===43&&(j=j.slice(1)),ee.s=1),c.test(j)?af(ee,j):Lt(ee,j)}if(k.prototype=q,k.ROUND_UP=0,k.ROUND_DOWN=1,k.ROUND_CEIL=2,k.ROUND_FLOOR=3,k.ROUND_HALF_UP=4,k.ROUND_HALF_DOWN=5,k.ROUND_HALF_EVEN=6,k.ROUND_HALF_CEIL=7,k.ROUND_HALF_FLOOR=8,k.EUCLID=9,k.config=k.set=le,k.clone=Ee,k.isDecimal=wt,k.abs=Ut,k.acos=Vh,k.acosh=_e,k.add=ht,k.asin=F,k.asinh=H,k.atan=Z,k.atanh=te,k.atan2=oe,k.cbrt=ne,k.ceil=pe,k.clamp=se,k.cos=Pe,k.cosh=Oe,k.div=Xe,k.exp=Ye,k.floor=Ke,k.hypot=uc,k.ln=Gt,k.log=I2,k.log10=zt,k.log2=Yt,k.max=T2,k.min=Wt,k.mod=Xt,k.mul=S2,k.pow=Jt,k.random=$t,k.round=C2,k.sign=Zt,k.sin=Qt,k.sinh=A2,k.sqrt=er,k.sub=tr,k.sum=O2,k.tan=rr,k.tanh=nr,k.trunc=D2,E===void 0&&(E={}),E&&E.defaults!==!0)for(N=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],C=0;C<N.length;)E.hasOwnProperty(P=N[C++])||(E[P]=this[P]);return k.config(E),k}function Xe(E,C){return new this(E).div(C)}function Ye(E){return new this(E).exp()}function Ke(E){return $(E=new this(E),E.e+1,3)}function uc(){var E,C,P=new this(0);for(p=!1,E=0;E<arguments.length;)if(C=new this(arguments[E++]),C.d)P.d&&(P=P.plus(C.times(C)));else{if(C.s)return p=!0,new this(1/0);P=C}return p=!0,P.sqrt()}function wt(E){return E instanceof s||E&&E.toStringTag===O||!1}function Gt(E){return new this(E).ln()}function I2(E,C){return new this(E).log(C)}function Yt(E){return new this(E).log(2)}function zt(E){return new this(E).log(10)}function T2(){return Ze(this,arguments,"lt")}function Wt(){return Ze(this,arguments,"gt")}function Xt(E,C){return new this(E).mod(C)}function S2(E,C){return new this(E).mul(C)}function Jt(E,C){return new this(E).pow(C)}function $t(E){var C,P,N,k,j=0,J=new this(1),Q=[];if(E===void 0?E=this.precision:S(E,1,t),N=Math.ceil(E/x),this.crypto)if(crypto.getRandomValues)for(C=crypto.getRandomValues(new Uint32Array(N));j<N;)k=C[j],k>=429e7?C[j]=crypto.getRandomValues(new Uint32Array(1))[0]:Q[j++]=k%1e7;else if(crypto.randomBytes){for(C=crypto.randomBytes(N*=4);j<N;)k=C[j]+(C[j+1]<<8)+(C[j+2]<<16)+((C[j+3]&127)<<24),k>=214e7?crypto.randomBytes(4).copy(C,j):(Q.push(k%1e7),j+=4);j=N/4}else throw Error(T);else for(;j<N;)Q[j++]=Math.random()*1e7|0;for(N=Q[--j],E%=x,N&&E&&(k=D(10,x-E),Q[j]=(N/k|0)*k);Q[j]===0;j--)Q.pop();if(j<0)P=0,Q=[0];else{for(P=-1;Q[0]===0;P-=x)Q.shift();for(N=1,k=Q[0];k>=10;k/=10)N++;N<x&&(P-=x-N)}return J.e=P,J.d=Q,J}function C2(E){return $(E=new this(E),E.e+1,this.rounding)}function Zt(E){return E=new this(E),E.d?E.d[0]?E.s:0*E.s:E.s||NaN}function Qt(E){return new this(E).sin()}function A2(E){return new this(E).sinh()}function er(E){return new this(E).sqrt()}function tr(E,C){return new this(E).sub(C)}function O2(){var E=0,C=arguments,P=new this(C[E]);for(p=!1;P.s&&++E<C.length;)P=P.plus(C[E]);return p=!0,$(P,this.precision,this.rounding)}function rr(E){return new this(E).tan()}function nr(E){return new this(E).tanh()}function D2(E){return $(E=new this(E),E.e+1,1)}s=Ee(a),s.prototype.constructor=s,s.default=s.Decimal=s,i=new s(i),o=new s(o),typeof define=="function"&&define.amd?define(function(){return s}):typeof cE<"u"&&cE.exports?(typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(q[Symbol.for("nodejs.util.inspect.custom")]=q.toString,q[Symbol.toStringTag]="Decimal"),cE.exports=s):(r||(r=typeof self<"u"&&self&&self.self==self?self:window),f=r.Decimal,s.noConflict=function(){return r.Decimal=f,s},r.Decimal=s)})(bj)});var eh=b(qu=>{"use strict";d();h();var l0e=qu&&qu.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),d0e=qu&&qu.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),h0e=qu&&qu.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&l0e(e,r,t);return d0e(e,r),e};Object.defineProperty(qu,"__esModule",{value:!0});qu.BinaryParser=void 0;var lE=h0e(So()),p0e=Cp(),g0e=jt(),f5=class{constructor(e){this.bytes=g0e.Buffer.from(e,"hex")}peek(){return lE.ok(this.bytes.byteLength!==0),this.bytes[0]}skip(e){lE.ok(e<=this.bytes.byteLength),this.bytes=this.bytes.slice(e)}read(e){lE.ok(e<=this.bytes.byteLength);let t=this.bytes.slice(0,e);return this.skip(e),t}readUIntN(e){return lE.ok(0<e&&e<=4,"invalid n"),this.read(e).reduce((t,n)=>t<<8|n)>>>0}readUInt8(){return this.readUIntN(1)}readUInt16(){return this.readUIntN(2)}readUInt32(){return this.readUIntN(4)}size(){return this.bytes.byteLength}end(e){let t=this.bytes.byteLength;return t===0||e!==void 0&&t<=e}readVariableLength(){return this.read(this.readVariableLengthLength())}readVariableLengthLength(){let e=this.readUInt8();if(e<=192)return e;if(e<=240){let t=this.readUInt8();return 193+(e-193)*256+t}else if(e<=254){let t=this.readUInt8(),n=this.readUInt8();return 12481+(e-241)*65536+t*256+n}throw new Error("Invalid variable length indicator")}readFieldOrdinal(){let e=this.readUInt8(),t=e&15;if(e>>=4,e===0&&(e=this.readUInt8(),e===0||e<16))throw new Error("Cannot read FieldOrdinal, type_code out of range");if(t===0&&(t=this.readUInt8(),t===0||t<16))throw new Error("Cannot read FieldOrdinal, field_code out of range");return e<<16|t}readField(){return p0e.Field.fromString(this.readFieldOrdinal().toString())}readType(e){return e.fromParser(this)}typeForField(e){return e.associatedType}readFieldValue(e){let t=this.typeForField(e);if(!t)throw new Error(`unsupported: (${e.name}, ${e.type.name})`);let n=e.isVariableLengthEncoded?this.readVariableLengthLength():void 0,i=t.fromParser(this,n);if(i===void 0)throw new Error(`fromParser for (${e.name}, ${e.type.name}) -> undefined `);return i}readFieldAndValue(){let e=this.readField();return[e,this.readFieldValue(e)]}};qu.BinaryParser=f5});var pE=b(hE=>{"use strict";d();h();Object.defineProperty(hE,"__esModule",{value:!0});hE.Currency=void 0;var y0e=aE(),dE=jt(),m0e=/^0{40}$/,v0e=/^[A-Z0-9a-z?!@#$%^&*(){}[\]|]{3}$/,x0e=/^[A-F0-9]{40}$/,_0e=/^0{24}[\x00-\x7F]{6}0{10}$/;function w0e(r){let e=dE.Buffer.alloc(20);if(r!=="XRP"){let t=r.split("").map(n=>n.charCodeAt(0));e.set(t,12)}return e}function E0e(r){return v0e.test(r)}function b0e(r){let e=r.toString();return e==="XRP"?null:E0e(e)?e:null}function I0e(r){return x0e.test(r)}function T0e(r){return r.length===3||I0e(r)}function S0e(r){return r.byteLength===20}function C0e(r){return r instanceof dE.Buffer?S0e(r):T0e(r)}function A0e(r){if(!C0e(r))throw new Error(`Unsupported Currency representation: ${r}`);return r.length===3?w0e(r):dE.Buffer.from(r,"hex")}var Hf=class extends y0e.Hash160{constructor(e){super(e!=null?e:Hf.XRP.bytes);let t=this.bytes.toString("hex");m0e.test(t)?this._iso="XRP":_0e.test(t)?this._iso=b0e(this.bytes.slice(12,15)):this._iso=null}iso(){return this._iso}static from(e){if(e instanceof Hf)return e;if(typeof e=="string")return new Hf(A0e(e));throw new Error("Cannot construct Currency from value given")}toJSON(){let e=this.iso();return e!==null?e:this.bytes.toString("hex").toUpperCase()}};hE.Currency=Hf;Hf.XRP=new Hf(dE.Buffer.alloc(20))});var th=b((UYe,gE)=>{d();h();var Ur=function(r){"use strict";var e=1e7,t=7,n=9007199254740992,i=g(n),o="0123456789abcdefghijklmnopqrstuvwxyz",a=typeof BigInt=="function";function s(F,H,Z,te){return typeof F>"u"?s[0]:typeof H<"u"?+H==10&&!Z?_e(F):ys(F,H,Z,te):_e(F)}function u(F,H){this.value=F,this.sign=H,this.isSmall=!1}u.prototype=Object.create(s.prototype);function f(F){this.value=F,this.sign=F<0,this.isSmall=!0}f.prototype=Object.create(s.prototype);function l(F){this.value=F}l.prototype=Object.create(s.prototype);function p(F){return-n<F&&F<n}function g(F){return F<1e7?[F]:F<1e14?[F%1e7,Math.floor(F/1e7)]:[F%1e7,Math.floor(F/1e7)%1e7,Math.floor(F/1e14)]}function v(F){_(F);var H=F.length;if(H<4&&X(F,i)<0)switch(H){case 0:return 0;case 1:return F[0];case 2:return F[0]+F[1]*e;default:return F[0]+(F[1]+F[2]*e)*e}return F}function _(F){for(var H=F.length;F[--H]===0;);F.length=H+1}function T(F){for(var H=new Array(F),Z=-1;++Z<F;)H[Z]=0;return H}function O(F){return F>0?Math.floor(F):Math.ceil(F)}function R(F,H){var Z=F.length,te=H.length,oe=new Array(Z),ne=0,pe=e,se,le;for(le=0;le<te;le++)se=F[le]+H[le]+ne,ne=se>=pe?1:0,oe[le]=se-ne*pe;for(;le<Z;)se=F[le]+ne,ne=se===pe?1:0,oe[le++]=se-ne*pe;return ne>0&&oe.push(ne),oe}function D(F,H){return F.length>=H.length?R(F,H):R(H,F)}function U(F,H){var Z=F.length,te=new Array(Z),oe=e,ne,pe;for(pe=0;pe<Z;pe++)ne=F[pe]-oe+H,H=Math.floor(ne/oe),te[pe]=ne-H*oe,H+=1;for(;H>0;)te[pe++]=H%oe,H=Math.floor(H/oe);return te}u.prototype.add=function(F){var H=_e(F);if(this.sign!==H.sign)return this.subtract(H.negate());var Z=this.value,te=H.value;return H.isSmall?new u(U(Z,Math.abs(te)),this.sign):new u(D(Z,te),this.sign)},u.prototype.plus=u.prototype.add,f.prototype.add=function(F){var H=_e(F),Z=this.value;if(Z<0!==H.sign)return this.subtract(H.negate());var te=H.value;if(H.isSmall){if(p(Z+te))return new f(Z+te);te=g(Math.abs(te))}return new u(U(te,Math.abs(Z)),Z<0)},f.prototype.plus=f.prototype.add,l.prototype.add=function(F){return new l(this.value+_e(F).value)},l.prototype.plus=l.prototype.add;function K(F,H){var Z=F.length,te=H.length,oe=new Array(Z),ne=0,pe=e,se,le;for(se=0;se<te;se++)le=F[se]-ne-H[se],le<0?(le+=pe,ne=1):ne=0,oe[se]=le;for(se=te;se<Z;se++){if(le=F[se]-ne,le<0)le+=pe;else{oe[se++]=le;break}oe[se]=le}for(;se<Z;se++)oe[se]=F[se];return _(oe),oe}function A(F,H,Z){var te;return X(F,H)>=0?te=K(F,H):(te=K(H,F),Z=!Z),te=v(te),typeof te=="number"?(Z&&(te=-te),new f(te)):new u(te,Z)}function c(F,H,Z){var te=F.length,oe=new Array(te),ne=-H,pe=e,se,le;for(se=0;se<te;se++)le=F[se]+ne,ne=Math.floor(le/pe),le%=pe,oe[se]=le<0?le+pe:le;return oe=v(oe),typeof oe=="number"?(Z&&(oe=-oe),new f(oe)):new u(oe,Z)}u.prototype.subtract=function(F){var H=_e(F);if(this.sign!==H.sign)return this.add(H.negate());var Z=this.value,te=H.value;return H.isSmall?c(Z,Math.abs(te),this.sign):A(Z,te,this.sign)},u.prototype.minus=u.prototype.subtract,f.prototype.subtract=function(F){var H=_e(F),Z=this.value;if(Z<0!==H.sign)return this.add(H.negate());var te=H.value;return H.isSmall?new f(Z-te):c(te,Math.abs(Z),Z>=0)},f.prototype.minus=f.prototype.subtract,l.prototype.subtract=function(F){return new l(this.value-_e(F).value)},l.prototype.minus=l.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},f.prototype.negate=function(){var F=this.sign,H=new f(-this.value);return H.sign=!F,H},l.prototype.negate=function(){return new l(-this.value)},u.prototype.abs=function(){return new u(this.value,!1)},f.prototype.abs=function(){return new f(Math.abs(this.value))},l.prototype.abs=function(){return new l(this.value>=0?this.value:-this.value)};function y(F,H){var Z=F.length,te=H.length,oe=Z+te,ne=T(oe),pe=e,se,le,Pe,Oe,Ee;for(Pe=0;Pe<Z;++Pe){Oe=F[Pe];for(var Xe=0;Xe<te;++Xe)Ee=H[Xe],se=Oe*Ee+ne[Pe+Xe],le=Math.floor(se/pe),ne[Pe+Xe]=se-le*pe,ne[Pe+Xe+1]+=le}return _(ne),ne}function x(F,H){var Z=F.length,te=new Array(Z),oe=e,ne=0,pe,se;for(se=0;se<Z;se++)pe=F[se]*H+ne,ne=Math.floor(pe/oe),te[se]=pe-ne*oe;for(;ne>0;)te[se++]=ne%oe,ne=Math.floor(ne/oe);return te}function M(F,H){for(var Z=[];H-- >0;)Z.push(0);return Z.concat(F)}function L(F,H){var Z=Math.max(F.length,H.length);if(Z<=30)return y(F,H);Z=Math.ceil(Z/2);var te=F.slice(Z),oe=F.slice(0,Z),ne=H.slice(Z),pe=H.slice(0,Z),se=L(oe,pe),le=L(te,ne),Pe=L(D(oe,te),D(pe,ne)),Oe=D(D(se,M(K(K(Pe,se),le),Z)),M(le,2*Z));return _(Oe),Oe}function ce(F,H){return-.012*F-.012*H+15e-6*F*H>0}u.prototype.multiply=function(F){var H=_e(F),Z=this.value,te=H.value,oe=this.sign!==H.sign,ne;if(H.isSmall){if(te===0)return s[0];if(te===1)return this;if(te===-1)return this.negate();if(ne=Math.abs(te),ne<e)return new u(x(Z,ne),oe);te=g(ne)}return ce(Z.length,te.length)?new u(L(Z,te),oe):new u(y(Z,te),oe)},u.prototype.times=u.prototype.multiply;function q(F,H,Z){return F<e?new u(x(H,F),Z):new u(y(H,g(F)),Z)}f.prototype._multiplyBySmall=function(F){return p(F.value*this.value)?new f(F.value*this.value):q(Math.abs(F.value),g(Math.abs(this.value)),this.sign!==F.sign)},u.prototype._multiplyBySmall=function(F){return F.value===0?s[0]:F.value===1?this:F.value===-1?this.negate():q(Math.abs(F.value),this.value,this.sign!==F.sign)},f.prototype.multiply=function(F){return _e(F)._multiplyBySmall(this)},f.prototype.times=f.prototype.multiply,l.prototype.multiply=function(F){return new l(this.value*_e(F).value)},l.prototype.times=l.prototype.multiply;function w(F){var H=F.length,Z=T(H+H),te=e,oe,ne,pe,se,le;for(pe=0;pe<H;pe++){se=F[pe],ne=0-se*se;for(var Pe=pe;Pe<H;Pe++)le=F[Pe],oe=2*(se*le)+Z[pe+Pe]+ne,ne=Math.floor(oe/te),Z[pe+Pe]=oe-ne*te;Z[pe+H]=ne}return _(Z),Z}u.prototype.square=function(){return new u(w(this.value),!1)},f.prototype.square=function(){var F=this.value*this.value;return p(F)?new f(F):new u(w(g(Math.abs(this.value))),!1)},l.prototype.square=function(F){return new l(this.value*this.value)};function S(F,H){var Z=F.length,te=H.length,oe=e,ne=T(H.length),pe=H[te-1],se=Math.ceil(oe/(2*pe)),le=x(F,se),Pe=x(H,se),Oe,Ee,Xe,Ye,Ke,uc,wt;for(le.length<=Z&&le.push(0),Pe.push(0),pe=Pe[te-1],Ee=Z-te;Ee>=0;Ee--){for(Oe=oe-1,le[Ee+te]!==pe&&(Oe=Math.floor((le[Ee+te]*oe+le[Ee+te-1])/pe)),Xe=0,Ye=0,uc=Pe.length,Ke=0;Ke<uc;Ke++)Xe+=Oe*Pe[Ke],wt=Math.floor(Xe/oe),Ye+=le[Ee+Ke]-(Xe-wt*oe),Xe=wt,Ye<0?(le[Ee+Ke]=Ye+oe,Ye=-1):(le[Ee+Ke]=Ye,Ye=0);for(;Ye!==0;){for(Oe-=1,Xe=0,Ke=0;Ke<uc;Ke++)Xe+=le[Ee+Ke]-oe+Pe[Ke],Xe<0?(le[Ee+Ke]=Xe+oe,Xe=0):(le[Ee+Ke]=Xe,Xe=1);Ye+=Xe}ne[Ee]=Oe}return le=V(le,se)[0],[v(ne),v(le)]}function B(F,H){for(var Z=F.length,te=H.length,oe=[],ne=[],pe=e,se,le,Pe,Oe,Ee;Z;){if(ne.unshift(F[--Z]),_(ne),X(ne,H)<0){oe.push(0);continue}le=ne.length,Pe=ne[le-1]*pe+ne[le-2],Oe=H[te-1]*pe+H[te-2],le>te&&(Pe=(Pe+1)*pe),se=Math.ceil(Pe/Oe);do{if(Ee=x(H,se),X(Ee,ne)<=0)break;se--}while(se);oe.push(se),ne=K(ne,Ee)}return oe.reverse(),[v(oe),v(ne)]}function V(F,H){var Z=F.length,te=T(Z),oe=e,ne,pe,se,le;for(se=0,ne=Z-1;ne>=0;--ne)le=se*oe+F[ne],pe=O(le/H),se=le-pe*H,te[ne]=pe|0;return[te,se|0]}function z(F,H){var Z,te=_e(H);if(a)return[new l(F.value/te.value),new l(F.value%te.value)];var oe=F.value,ne=te.value,pe;if(ne===0)throw new Error("Cannot divide by zero");if(F.isSmall)return te.isSmall?[new f(O(oe/ne)),new f(oe%ne)]:[s[0],F];if(te.isSmall){if(ne===1)return[F,s[0]];if(ne==-1)return[F.negate(),s[0]];var se=Math.abs(ne);if(se<e){Z=V(oe,se),pe=v(Z[0]);var le=Z[1];return F.sign&&(le=-le),typeof pe=="number"?(F.sign!==te.sign&&(pe=-pe),[new f(pe),new f(le)]):[new u(pe,F.sign!==te.sign),new f(le)]}ne=g(se)}var Pe=X(oe,ne);if(Pe===-1)return[s[0],F];if(Pe===0)return[s[F.sign===te.sign?1:-1],s[0]];oe.length+ne.length<=200?Z=S(oe,ne):Z=B(oe,ne),pe=Z[0];var Oe=F.sign!==te.sign,Ee=Z[1],Xe=F.sign;return typeof pe=="number"?(Oe&&(pe=-pe),pe=new f(pe)):pe=new u(pe,Oe),typeof Ee=="number"?(Xe&&(Ee=-Ee),Ee=new f(Ee)):Ee=new u(Ee,Xe),[pe,Ee]}u.prototype.divmod=function(F){var H=z(this,F);return{quotient:H[0],remainder:H[1]}},l.prototype.divmod=f.prototype.divmod=u.prototype.divmod,u.prototype.divide=function(F){return z(this,F)[0]},l.prototype.over=l.prototype.divide=function(F){return new l(this.value/_e(F).value)},f.prototype.over=f.prototype.divide=u.prototype.over=u.prototype.divide,u.prototype.mod=function(F){return z(this,F)[1]},l.prototype.mod=l.prototype.remainder=function(F){return new l(this.value%_e(F).value)},f.prototype.remainder=f.prototype.mod=u.prototype.remainder=u.prototype.mod,u.prototype.pow=function(F){var H=_e(F),Z=this.value,te=H.value,oe,ne,pe;if(te===0)return s[1];if(Z===0)return s[0];if(Z===1)return s[1];if(Z===-1)return H.isEven()?s[1]:s[-1];if(H.sign)return s[0];if(!H.isSmall)throw new Error("The exponent "+H.toString()+" is too large.");if(this.isSmall&&p(oe=Math.pow(Z,te)))return new f(O(oe));for(ne=this,pe=s[1];te&!0&&(pe=pe.times(ne),--te),te!==0;)te/=2,ne=ne.square();return pe},f.prototype.pow=u.prototype.pow,l.prototype.pow=function(F){var H=_e(F),Z=this.value,te=H.value,oe=BigInt(0),ne=BigInt(1),pe=BigInt(2);if(te===oe)return s[1];if(Z===oe)return s[0];if(Z===ne)return s[1];if(Z===BigInt(-1))return H.isEven()?s[1]:s[-1];if(H.isNegative())return new l(oe);for(var se=this,le=s[1];(te&ne)===ne&&(le=le.times(se),--te),te!==oe;)te/=pe,se=se.square();return le},u.prototype.modPow=function(F,H){if(F=_e(F),H=_e(H),H.isZero())throw new Error("Cannot take modPow with modulus 0");var Z=s[1],te=this.mod(H);for(F.isNegative()&&(F=F.multiply(s[-1]),te=te.modInv(H));F.isPositive();){if(te.isZero())return s[0];F.isOdd()&&(Z=Z.multiply(te).mod(H)),F=F.divide(2),te=te.square().mod(H)}return Z},l.prototype.modPow=f.prototype.modPow=u.prototype.modPow;function X(F,H){if(F.length!==H.length)return F.length>H.length?1:-1;for(var Z=F.length-1;Z>=0;Z--)if(F[Z]!==H[Z])return F[Z]>H[Z]?1:-1;return 0}u.prototype.compareAbs=function(F){var H=_e(F),Z=this.value,te=H.value;return H.isSmall?1:X(Z,te)},f.prototype.compareAbs=function(F){var H=_e(F),Z=Math.abs(this.value),te=H.value;return H.isSmall?(te=Math.abs(te),Z===te?0:Z>te?1:-1):-1},l.prototype.compareAbs=function(F){var H=this.value,Z=_e(F).value;return H=H>=0?H:-H,Z=Z>=0?Z:-Z,H===Z?0:H>Z?1:-1},u.prototype.compare=function(F){if(F===1/0)return-1;if(F===-1/0)return 1;var H=_e(F),Z=this.value,te=H.value;return this.sign!==H.sign?H.sign?1:-1:H.isSmall?this.sign?-1:1:X(Z,te)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare,f.prototype.compare=function(F){if(F===1/0)return-1;if(F===-1/0)return 1;var H=_e(F),Z=this.value,te=H.value;return H.isSmall?Z==te?0:Z>te?1:-1:Z<0!==H.sign?Z<0?-1:1:Z<0?1:-1},f.prototype.compareTo=f.prototype.compare,l.prototype.compare=function(F){if(F===1/0)return-1;if(F===-1/0)return 1;var H=this.value,Z=_e(F).value;return H===Z?0:H>Z?1:-1},l.prototype.compareTo=l.prototype.compare,u.prototype.equals=function(F){return this.compare(F)===0},l.prototype.eq=l.prototype.equals=f.prototype.eq=f.prototype.equals=u.prototype.eq=u.prototype.equals,u.prototype.notEquals=function(F){return this.compare(F)!==0},l.prototype.neq=l.prototype.notEquals=f.prototype.neq=f.prototype.notEquals=u.prototype.neq=u.prototype.notEquals,u.prototype.greater=function(F){return this.compare(F)>0},l.prototype.gt=l.prototype.greater=f.prototype.gt=f.prototype.greater=u.prototype.gt=u.prototype.greater,u.prototype.lesser=function(F){return this.compare(F)<0},l.prototype.lt=l.prototype.lesser=f.prototype.lt=f.prototype.lesser=u.prototype.lt=u.prototype.lesser,u.prototype.greaterOrEquals=function(F){return this.compare(F)>=0},l.prototype.geq=l.prototype.greaterOrEquals=f.prototype.geq=f.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals,u.prototype.lesserOrEquals=function(F){return this.compare(F)<=0},l.prototype.leq=l.prototype.lesserOrEquals=f.prototype.leq=f.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals,u.prototype.isEven=function(){return(this.value[0]&1)===0},f.prototype.isEven=function(){return(this.value&1)===0},l.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},u.prototype.isOdd=function(){return(this.value[0]&1)===1},f.prototype.isOdd=function(){return(this.value&1)===1},l.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},u.prototype.isPositive=function(){return!this.sign},f.prototype.isPositive=function(){return this.value>0},l.prototype.isPositive=f.prototype.isPositive,u.prototype.isNegative=function(){return this.sign},f.prototype.isNegative=function(){return this.value<0},l.prototype.isNegative=f.prototype.isNegative,u.prototype.isUnit=function(){return!1},f.prototype.isUnit=function(){return Math.abs(this.value)===1},l.prototype.isUnit=function(){return this.abs().value===BigInt(1)},u.prototype.isZero=function(){return!1},f.prototype.isZero=function(){return this.value===0},l.prototype.isZero=function(){return this.value===BigInt(0)},u.prototype.isDivisibleBy=function(F){var H=_e(F);return H.isZero()?!1:H.isUnit()?!0:H.compareAbs(2)===0?this.isEven():this.mod(H).isZero()},l.prototype.isDivisibleBy=f.prototype.isDivisibleBy=u.prototype.isDivisibleBy;function $(F){var H=F.abs();if(H.isUnit())return!1;if(H.equals(2)||H.equals(3)||H.equals(5))return!0;if(H.isEven()||H.isDivisibleBy(3)||H.isDivisibleBy(5))return!1;if(H.lesser(49))return!0}function Y(F,H){for(var Z=F.prev(),te=Z,oe=0,ne,pe,se,le;te.isEven();)te=te.divide(2),oe++;e:for(se=0;se<H.length;se++)if(!F.lesser(H[se])&&(le=Ur(H[se]).modPow(te,F),!(le.isUnit()||le.equals(Z)))){for(ne=oe-1;ne!=0;ne--){if(le=le.square().mod(F),le.isUnit())return!1;if(le.equals(Z))continue e}return!1}return!0}u.prototype.isPrime=function(F){var H=$(this);if(H!==r)return H;var Z=this.abs(),te=Z.bitLength();if(te<=64)return Y(Z,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var oe=Math.log(2)*te.toJSNumber(),ne=Math.ceil(F===!0?2*Math.pow(oe,2):oe),pe=[],se=0;se<ne;se++)pe.push(Ur(se+2));return Y(Z,pe)},l.prototype.isPrime=f.prototype.isPrime=u.prototype.isPrime,u.prototype.isProbablePrime=function(F,H){var Z=$(this);if(Z!==r)return Z;for(var te=this.abs(),oe=F===r?5:F,ne=[],pe=0;pe<oe;pe++)ne.push(Ur.randBetween(2,te.minus(2),H));return Y(te,ne)},l.prototype.isProbablePrime=f.prototype.isProbablePrime=u.prototype.isProbablePrime,u.prototype.modInv=function(F){for(var H=Ur.zero,Z=Ur.one,te=_e(F),oe=this.abs(),ne,pe,se;!oe.isZero();)ne=te.divide(oe),pe=H,se=te,H=Z,te=oe,Z=pe.subtract(ne.multiply(Z)),oe=se.subtract(ne.multiply(oe));if(!te.isUnit())throw new Error(this.toString()+" and "+F.toString()+" are not co-prime");return H.compare(0)===-1&&(H=H.add(F)),this.isNegative()?H.negate():H},l.prototype.modInv=f.prototype.modInv=u.prototype.modInv,u.prototype.next=function(){var F=this.value;return this.sign?c(F,1,this.sign):new u(U(F,1),this.sign)},f.prototype.next=function(){var F=this.value;return F+1<n?new f(F+1):new u(i,!1)},l.prototype.next=function(){return new l(this.value+BigInt(1))},u.prototype.prev=function(){var F=this.value;return this.sign?new u(U(F,1),!0):c(F,1,this.sign)},f.prototype.prev=function(){var F=this.value;return F-1>-n?new f(F-1):new u(i,!0)},l.prototype.prev=function(){return new l(this.value-BigInt(1))};for(var I=[1];2*I[I.length-1]<=e;)I.push(2*I[I.length-1]);var W=I.length,xe=I[W-1];function be(F){return Math.abs(F)<=e}u.prototype.shiftLeft=function(F){var H=_e(F).toJSNumber();if(!be(H))throw new Error(String(H)+" is too large for shifting.");if(H<0)return this.shiftRight(-H);var Z=this;if(Z.isZero())return Z;for(;H>=W;)Z=Z.multiply(xe),H-=W-1;return Z.multiply(I[H])},l.prototype.shiftLeft=f.prototype.shiftLeft=u.prototype.shiftLeft,u.prototype.shiftRight=function(F){var H,Z=_e(F).toJSNumber();if(!be(Z))throw new Error(String(Z)+" is too large for shifting.");if(Z<0)return this.shiftLeft(-Z);for(var te=this;Z>=W;){if(te.isZero()||te.isNegative()&&te.isUnit())return te;H=z(te,xe),te=H[1].isNegative()?H[0].prev():H[0],Z-=W-1}return H=z(te,I[Z]),H[1].isNegative()?H[0].prev():H[0]},l.prototype.shiftRight=f.prototype.shiftRight=u.prototype.shiftRight;function we(F,H,Z){H=_e(H);for(var te=F.isNegative(),oe=H.isNegative(),ne=te?F.not():F,pe=oe?H.not():H,se=0,le=0,Pe=null,Oe=null,Ee=[];!ne.isZero()||!pe.isZero();)Pe=z(ne,xe),se=Pe[1].toJSNumber(),te&&(se=xe-1-se),Oe=z(pe,xe),le=Oe[1].toJSNumber(),oe&&(le=xe-1-le),ne=Pe[0],pe=Oe[0],Ee.push(Z(se,le));for(var Xe=Z(te?1:0,oe?1:0)!==0?Ur(-1):Ur(0),Ye=Ee.length-1;Ye>=0;Ye-=1)Xe=Xe.multiply(xe).add(Ur(Ee[Ye]));return Xe}u.prototype.not=function(){return this.negate().prev()},l.prototype.not=f.prototype.not=u.prototype.not,u.prototype.and=function(F){return we(this,F,function(H,Z){return H&Z})},l.prototype.and=f.prototype.and=u.prototype.and,u.prototype.or=function(F){return we(this,F,function(H,Z){return H|Z})},l.prototype.or=f.prototype.or=u.prototype.or,u.prototype.xor=function(F){return we(this,F,function(H,Z){return H^Z})},l.prototype.xor=f.prototype.xor=u.prototype.xor;var Me=1<<30,We=(e&-e)*(e&-e)|Me;function Ze(F){var H=F.value,Z=typeof H=="number"?H|Me:typeof H=="bigint"?H|BigInt(Me):H[0]+H[1]*e|We;return Z&-Z}function Ni(F,H){if(H.compareTo(F)<=0){var Z=Ni(F,H.square(H)),te=Z.p,oe=Z.e,ne=te.multiply(H);return ne.compareTo(F)<=0?{p:ne,e:oe*2+1}:{p:te,e:oe*2}}return{p:Ur(1),e:0}}u.prototype.bitLength=function(){var F=this;return F.compareTo(Ur(0))<0&&(F=F.negate().subtract(Ur(1))),F.compareTo(Ur(0))===0?Ur(0):Ur(Ni(F,Ur(2)).e).add(Ur(1))},l.prototype.bitLength=f.prototype.bitLength=u.prototype.bitLength;function He(F,H){return F=_e(F),H=_e(H),F.greater(H)?F:H}function ut(F,H){return F=_e(F),H=_e(H),F.lesser(H)?F:H}function af(F,H){if(F=_e(F).abs(),H=_e(H).abs(),F.equals(H))return F;if(F.isZero())return H;if(H.isZero())return F;for(var Z=s[1],te,oe;F.isEven()&&H.isEven();)te=ut(Ze(F),Ze(H)),F=F.divide(te),H=H.divide(te),Z=Z.multiply(te);for(;F.isEven();)F=F.divide(Ze(F));do{for(;H.isEven();)H=H.divide(Ze(H));F.greater(H)&&(oe=H,H=F,F=oe),H=H.subtract(F)}while(!H.isZero());return Z.isUnit()?F:F.multiply(Z)}function Lt(F,H){return F=_e(F).abs(),H=_e(H).abs(),F.divide(af(F,H)).multiply(H)}function kt(F,H,Z){F=_e(F),H=_e(H);var te=Z||Math.random,oe=ut(F,H),ne=He(F,H),pe=ne.subtract(oe).add(1);if(pe.isSmall)return oe.add(Math.floor(te()*pe));for(var se=ta(pe,e).value,le=[],Pe=!0,Oe=0;Oe<se.length;Oe++){var Ee=Pe?se[Oe]+(Oe+1<se.length?se[Oe+1]/e:0):e,Xe=O(te()*Ee);le.push(Xe),Xe<se[Oe]&&(Pe=!1)}return oe.add(s.fromArray(le,e,!1))}var ys=function(F,H,Z,te){Z=Z||o,F=String(F),te||(F=F.toLowerCase(),Z=Z.toLowerCase());var oe=F.length,ne,pe=Math.abs(H),se={};for(ne=0;ne<Z.length;ne++)se[Z[ne]]=ne;for(ne=0;ne<oe;ne++){var le=F[ne];if(le!=="-"&&le in se&&se[le]>=pe){if(le==="1"&&pe===1)continue;throw new Error(le+" is not a valid digit in base "+H+".")}}H=_e(H);var Pe=[],Oe=F[0]==="-";for(ne=Oe?1:0;ne<F.length;ne++){var le=F[ne];if(le in se)Pe.push(_e(se[le]));else if(le==="<"){var Ee=ne;do ne++;while(F[ne]!==">"&&ne<F.length);Pe.push(_e(F.slice(Ee+1,ne)))}else throw new Error(le+" is not a valid character")}return mt(Pe,H,Oe)};function mt(F,H,Z){var te=s[0],oe=s[1],ne;for(ne=F.length-1;ne>=0;ne--)te=te.add(F[ne].times(oe)),oe=oe.times(H);return Z?te.negate():te}function Ft(F,H){return H=H||o,F<H.length?H[F]:"<"+F+">"}function ta(F,H){if(H=Ur(H),H.isZero()){if(F.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(H.equals(-1)){if(F.isZero())return{value:[0],isNegative:!1};if(F.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-F.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var Z=Array.apply(null,Array(F.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return Z.unshift([1]),{value:[].concat.apply([],Z),isNegative:!1}}var te=!1;if(F.isNegative()&&H.isPositive()&&(te=!0,F=F.abs()),H.isUnit())return F.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(F.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:te};for(var oe=[],ne=F,pe;ne.isNegative()||ne.compareAbs(H)>=0;){pe=ne.divmod(H),ne=pe.quotient;var se=pe.remainder;se.isNegative()&&(se=H.minus(se).abs(),ne=ne.next()),oe.push(se.toJSNumber())}return oe.push(ne.toJSNumber()),{value:oe.reverse(),isNegative:te}}function Pt(F,H,Z){var te=ta(F,H);return(te.isNegative?"-":"")+te.value.map(function(oe){return Ft(oe,Z)}).join("")}u.prototype.toArray=function(F){return ta(this,F)},f.prototype.toArray=function(F){return ta(this,F)},l.prototype.toArray=function(F){return ta(this,F)},u.prototype.toString=function(F,H){if(F===r&&(F=10),F!==10)return Pt(this,F,H);for(var Z=this.value,te=Z.length,oe=String(Z[--te]),ne="0000000",pe;--te>=0;)pe=String(Z[te]),oe+=ne.slice(pe.length)+pe;var se=this.sign?"-":"";return se+oe},f.prototype.toString=function(F,H){return F===r&&(F=10),F!=10?Pt(this,F,H):String(this.value)},l.prototype.toString=f.prototype.toString,l.prototype.toJSON=u.prototype.toJSON=f.prototype.toJSON=function(){return this.toString()},u.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf,f.prototype.valueOf=function(){return this.value},f.prototype.toJSNumber=f.prototype.valueOf,l.prototype.valueOf=l.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function Ut(F){if(p(+F)){var H=+F;if(H===O(H))return a?new l(BigInt(H)):new f(H);throw new Error("Invalid integer: "+F)}var Z=F[0]==="-";Z&&(F=F.slice(1));var te=F.split(/e/i);if(te.length>2)throw new Error("Invalid integer: "+te.join("e"));if(te.length===2){var oe=te[1];if(oe[0]==="+"&&(oe=oe.slice(1)),oe=+oe,oe!==O(oe)||!p(oe))throw new Error("Invalid integer: "+oe+" is not a valid exponent.");var ne=te[0],pe=ne.indexOf(".");if(pe>=0&&(oe-=ne.length-pe-1,ne=ne.slice(0,pe)+ne.slice(pe+1)),oe<0)throw new Error("Cannot include negative exponent part for integers");ne+=new Array(oe+1).join("0"),F=ne}var se=/^([0-9][0-9]*)$/.test(F);if(!se)throw new Error("Invalid integer: "+F);if(a)return new l(BigInt(Z?"-"+F:F));for(var le=[],Pe=F.length,Oe=t,Ee=Pe-Oe;Pe>0;)le.push(+F.slice(Ee,Pe)),Ee-=Oe,Ee<0&&(Ee=0),Pe-=Oe;return _(le),new u(le,Z)}function Vh(F){if(a)return new l(BigInt(F));if(p(F)){if(F!==O(F))throw new Error(F+" is not an integer.");return new f(F)}return Ut(F.toString())}function _e(F){return typeof F=="number"?Vh(F):typeof F=="string"?Ut(F):typeof F=="bigint"?new l(F):F}for(var ht=0;ht<1e3;ht++)s[ht]=_e(ht),ht>0&&(s[-ht]=_e(-ht));return s.one=s[1],s.zero=s[0],s.minusOne=s[-1],s.max=He,s.min=ut,s.gcd=af,s.lcm=Lt,s.isInstance=function(F){return F instanceof u||F instanceof f||F instanceof l},s.randBetween=kt,s.fromArray=function(F,H,Z){return mt(F.map(_e),_e(H||10),Z)},s}();typeof gE<"u"&&gE.hasOwnProperty("exports")&&(gE.exports=Ur);typeof define=="function"&&define.amd&&define(function(){return Ur})});var Oj=b(yE=>{"use strict";d();h();Object.defineProperty(yE,"__esModule",{value:!0});yE.Amount=void 0;var rh=u5(),O0e=eh(),Ij=fE(),Tj=pE(),D0e=Nu(),am=th(),Kf=jt(),Cj=-96,Aj=80,c5=16,R0e=new rh.Decimal("1e17"),P0e=new rh.Decimal("1e-6"),Sj=am(4294967295);rh.Decimal.config({toExpPos:Aj+c5,toExpNeg:Cj-c5});function B0e(r){let e=Object.keys(r).sort();return e.length===3&&e[0]==="currency"&&e[1]==="issuer"&&e[2]==="value"}var vo=class extends D0e.SerializedType{constructor(e){super(e!=null?e:vo.defaultAmount.bytes)}static from(e){if(e instanceof vo)return e;let t=Kf.Buffer.alloc(8);if(typeof e=="string"){vo.assertXrpIsValid(e);let n=am(e),i=[Kf.Buffer.alloc(4),Kf.Buffer.alloc(4)];return i[0].writeUInt32BE(Number(n.shiftRight(32)),0),i[1].writeUInt32BE(Number(n.and(Sj)),0),t=Kf.Buffer.concat(i),t[0]|=64,new vo(t)}if(B0e(e)){let n=new rh.Decimal(e.value);if(vo.assertIouIsValid(n),n.isZero())t[0]|=128;else{let a=n.times(`1e${-(n.e-15)}`).abs().toString(),s=am(a),u=[Kf.Buffer.alloc(4),Kf.Buffer.alloc(4)];u[0].writeUInt32BE(Number(s.shiftRight(32)),0),u[1].writeUInt32BE(Number(s.and(Sj)),0),t=Kf.Buffer.concat(u),t[0]|=128,n.gt(new rh.Decimal(0))&&(t[0]|=64);let f=n.e-15,l=97+f;t[0]|=l>>>2,t[1]|=(l&3)<<6}let i=Tj.Currency.from(e.currency).toBytes(),o=Ij.AccountID.from(e.issuer).toBytes();return new vo(Kf.Buffer.concat([t,i,o]))}throw new Error("Invalid type to construct an Amount")}static fromParser(e){let n=e.peek()&128?48:8;return new vo(e.read(n))}toJSON(){if(this.isNative()){let e=this.bytes,n=e[0]&64?"":"-";e[0]&=63;let i=am(e.slice(0,4).readUInt32BE(0)),o=am(e.slice(4).readUInt32BE(0)),a=i.shiftLeft(32).or(o);return`${n}${a.toString()}`}else{let e=new O0e.BinaryParser(this.toString()),t=e.read(8),n=Tj.Currency.fromParser(e),i=Ij.AccountID.fromParser(e),o=t[0],a=t[1],u=o&64?"":"-",f=((o&63)<<2)+((a&255)>>6)-97;t[0]=0,t[1]&=63;let l=new rh.Decimal(`${u}0x${t.toString("hex")}`).times(`1e${f}`);return vo.assertIouIsValid(l),{value:l.toString(),currency:n.toJSON(),issuer:i.toJSON()}}}static assertXrpIsValid(e){if(e.indexOf(".")!==-1)throw new Error(`${e.toString()} is an illegal amount`);let t=new rh.Decimal(e);if(!t.isZero()&&(t.lt(P0e)||t.gt(R0e)))throw new Error(`${e.toString()} is an illegal amount`)}static assertIouIsValid(e){if(!e.isZero()){let t=e.precision(),n=e.e-15;if(t>c5||n>Aj||n<Cj)throw new Error("Decimal precision out of range");this.verifyNoDecimal(e)}}static verifyNoDecimal(e){if(e.times(`1e${-(e.e-15)}`).abs().toString().indexOf(".")!==-1)throw new Error("Decimal place found in integerNumberString")}isNative(){return(this.bytes[0]&128)===0}};yE.Amount=vo;vo.defaultAmount=new vo(Kf.Buffer.from("4000000000000000","hex"))});var Dj=b(mE=>{"use strict";d();h();Object.defineProperty(mE,"__esModule",{value:!0});mE.Blob=void 0;var N0e=Nu(),M0e=jt(),nh=class extends N0e.SerializedType{constructor(e){super(e)}static fromParser(e,t){return new nh(e.read(t))}static from(e){if(e instanceof nh)return e;if(typeof e=="string")return new nh(M0e.Buffer.from(e,"hex"));throw new Error("Cannot construct Blob from value given")}};mE.Blob=nh});var Rj=b(vE=>{"use strict";d();h();Object.defineProperty(vE,"__esModule",{value:!0});vE.Hash128=void 0;var q0e=iE(),F0e=jt(),Fu=class extends q0e.Hash{constructor(e){e&&e.byteLength===0&&(e=Fu.ZERO_128.bytes),super(e!=null?e:Fu.ZERO_128.bytes)}toHex(){let e=this.toBytes().toString("hex").toUpperCase();return/^0+$/.exec(e)?"":e}};vE.Hash128=Fu;Fu.width=16;Fu.ZERO_128=new Fu(F0e.Buffer.alloc(Fu.width))});var sm=b(xE=>{"use strict";d();h();Object.defineProperty(xE,"__esModule",{value:!0});xE.Hash256=void 0;var U0e=iE(),L0e=jt(),Vf=class extends U0e.Hash{constructor(e){super(e!=null?e:Vf.ZERO_256.bytes)}};xE.Hash256=Vf;Vf.width=32;Vf.ZERO_256=new Vf(L0e.Buffer.alloc(Vf.width))});var Bj=b(_E=>{"use strict";d();h();Object.defineProperty(_E,"__esModule",{value:!0});_E.PathSet=void 0;var Ap=fE(),l5=pE(),y5=eh(),m5=Nu(),Uu=jt(),g5=0,Pj=255,d5=1,h5=16,p5=32;function k0e(r){return r.issuer!==void 0||r.account!==void 0||r.currency!==void 0}function j0e(r){return Array.isArray(r)&&r.length===0||Array.isArray(r)&&Array.isArray(r[0])&&r[0].length===0||Array.isArray(r)&&Array.isArray(r[0])&&k0e(r[0][0])}var Gf=class extends m5.SerializedType{static from(e){if(e instanceof Gf)return e;let t=[Uu.Buffer.from([0])];return e.account&&(t.push(Ap.AccountID.from(e.account).toBytes()),t[0][0]|=d5),e.currency&&(t.push(l5.Currency.from(e.currency).toBytes()),t[0][0]|=h5),e.issuer&&(t.push(Ap.AccountID.from(e.issuer).toBytes()),t[0][0]|=p5),new Gf(Uu.Buffer.concat(t))}static fromParser(e){let t=e.readUInt8(),n=[Uu.Buffer.from([t])];return t&d5&&n.push(e.read(Ap.AccountID.width)),t&h5&&n.push(e.read(l5.Currency.width)),t&p5&&n.push(e.read(Ap.AccountID.width)),new Gf(Uu.Buffer.concat(n))}toJSON(){let e=new y5.BinaryParser(this.bytes.toString("hex")),t=e.readUInt8(),n,i,o;t&d5&&(n=Ap.AccountID.fromParser(e).toJSON()),t&h5&&(i=l5.Currency.fromParser(e).toJSON()),t&p5&&(o=Ap.AccountID.fromParser(e).toJSON());let a={};return n&&(a.account=n),o&&(a.issuer=o),i&&(a.currency=i),a}type(){return this.bytes[0]}},Yf=class extends m5.SerializedType{static from(e){if(e instanceof Yf)return e;let t=[];return e.forEach(n=>{t.push(Gf.from(n).toBytes())}),new Yf(Uu.Buffer.concat(t))}static fromParser(e){let t=[];for(;!e.end()&&(t.push(Gf.fromParser(e).toBytes()),!(e.peek()===g5||e.peek()===Pj)););return new Yf(Uu.Buffer.concat(t))}toJSON(){let e=[],t=new y5.BinaryParser(this.toString());for(;!t.end();)e.push(Gf.fromParser(t).toJSON());return e}},ih=class extends m5.SerializedType{static from(e){if(e instanceof ih)return e;if(j0e(e)){let t=[];return e.forEach(n=>{t.push(Yf.from(n).toBytes()),t.push(Uu.Buffer.from([Pj]))}),t[t.length-1]=Uu.Buffer.from([g5]),new ih(Uu.Buffer.concat(t))}throw new Error("Cannot construct PathSet from given value")}static fromParser(e){let t=[];for(;!e.end()&&(t.push(Yf.fromParser(e).toBytes()),t.push(e.read(1)),t[t.length-1][0]!=g5););return new ih(Uu.Buffer.concat(t))}toJSON(){let e=[],t=new y5.BinaryParser(this.toString());for(;!t.end();)e.push(Yf.fromParser(t).toJSON()),t.skip(1);return e}};_E.PathSet=ih});var bE=b(EE=>{"use strict";d();h();Object.defineProperty(EE,"__esModule",{value:!0});EE.STObject=void 0;var H0e=Cp(),K0e=Nu(),Fj=VR(),V0e=eh(),wE=bp(),G0e=jt(),Nj=G0e.Buffer.from([225]),Mj="ObjectEndMarker",qj="STObject",Y0e="Destination",z0e="Account",v5="SourceTag",x5="DestinationTag";function W0e(r,e){let t=(0,Fj.xAddressToClassicAddress)(e),n;if(r===Y0e)n=x5;else if(r===z0e)n=v5;else if(t.tag!==!1)throw new Error(`${r} cannot have an associated tag`);return t.tag!==!1?{[r]:t.classicAddress,[n]:t.tag}:{[r]:t.classicAddress}}function X0e(r,e){if(!(r[v5]===void 0||e[v5]===void 0))throw new Error("Cannot have Account X-Address and SourceTag");if(!(r[x5]===void 0||e[x5]===void 0))throw new Error("Cannot have Destination X-Address and DestinationTag")}var oh=class extends K0e.SerializedType{static fromParser(e){let t=new wE.BytesList,n=new wE.BinarySerializer(t);for(;!e.end();){let i=e.readField();if(i.name===Mj)break;let o=e.readFieldValue(i);n.writeFieldAndValue(i,o),i.type.name===qj&&n.put(Nj)}return new oh(t.toBytes())}static from(e,t){if(e instanceof oh)return e;let n=new wE.BytesList,i=new wE.BinarySerializer(n),o=!1,a=Object.entries(e).reduce((u,[f,l])=>{let p;return l&&(0,Fj.isValidXAddress)(l.toString())&&(p=W0e(f,l.toString()),X0e(p,e)),Object.assign(u,p!=null?p:{[f]:l})},{}),s=Object.keys(a).map(u=>H0e.Field[u]).filter(u=>u!==void 0&&a[u.name]!==void 0&&u.isSerialized).sort((u,f)=>u.ordinal-f.ordinal);return t!==void 0&&(s=s.filter(t)),s.forEach(u=>{let f=u.associatedType.from(a[u.name]);if(f==null)throw new TypeError(`Unable to interpret "${u.name}: ${a[u.name]}".`);f.name==="UNLModify"&&(o=!0);let l=u.name=="Account"&&o;i.writeFieldAndValue(u,f,l),u.type.name===qj&&i.put(Nj)}),new oh(n.toBytes())}toJSON(){let e=new V0e.BinaryParser(this.toString()),t={};for(;!e.end();){let n=e.readField();if(n.name===Mj)break;t[n.name]=e.readFieldValue(n).toJSON()}return t}};EE.STObject=oh});var jj=b(TE=>{"use strict";d();h();Object.defineProperty(TE,"__esModule",{value:!0});TE.STArray=void 0;var J0e=Nu(),Uj=bE(),$0e=eh(),IE=jt(),Lj=IE.Buffer.from([241]),kj="ArrayEndMarker",Z0e=IE.Buffer.from([225]);function Q0e(r){return Array.isArray(r)&&(r.length===0||typeof r[0]=="object")}var ah=class extends J0e.SerializedType{static fromParser(e){let t=[];for(;!e.end();){let n=e.readField();if(n.name===kj)break;t.push(n.header,e.readFieldValue(n).toBytes(),Z0e)}return t.push(Lj),new ah(IE.Buffer.concat(t))}static from(e){if(e instanceof ah)return e;if(Q0e(e)){let t=[];return e.forEach(n=>{t.push(Uj.STObject.from(n).toBytes())}),t.push(Lj),new ah(IE.Buffer.concat(t))}throw new Error("Cannot construct STArray from value given")}toJSON(){let e=[],t=new $0e.BinaryParser(this.toString());for(;!t.end();){let n=t.readField();if(n.name===kj)break;let i={};i[n.name]=Uj.STObject.fromParser(t).toJSON(),e.push(i)}return e}};TE.STArray=ah});var um=b(SE=>{"use strict";d();h();Object.defineProperty(SE,"__esModule",{value:!0});SE.UInt=void 0;var ele=Nu();function tle(r,e){return r<e?-1:r==e?0:1}var _5=class extends ele.Comparable{constructor(e){super(e)}compareTo(e){return tle(this.valueOf(),e.valueOf())}toJSON(){let e=this.valueOf();return typeof e=="number"?e:e.toString()}};SE.UInt=_5});var Kj=b(CE=>{"use strict";d();h();Object.defineProperty(CE,"__esModule",{value:!0});CE.UInt16=void 0;var rle=um(),Hj=jt(),xo=class extends rle.UInt{constructor(e){super(e!=null?e:xo.defaultUInt16.bytes)}static fromParser(e){return new xo(e.read(xo.width))}static from(e){if(e instanceof xo)return e;if(typeof e=="number"){let t=Hj.Buffer.alloc(xo.width);return t.writeUInt16BE(e,0),new xo(t)}throw new Error("Can not construct UInt16 with given value")}valueOf(){return this.bytes.readUInt16BE(0)}};CE.UInt16=xo;xo.width=16/8;xo.defaultUInt16=new xo(Hj.Buffer.alloc(xo.width))});var w5=b(AE=>{"use strict";d();h();Object.defineProperty(AE,"__esModule",{value:!0});AE.UInt32=void 0;var nle=um(),Vj=jt(),Ji=class extends nle.UInt{constructor(e){super(e!=null?e:Ji.defaultUInt32.bytes)}static fromParser(e){return new Ji(e.read(Ji.width))}static from(e){if(e instanceof Ji)return e;let t=Vj.Buffer.alloc(Ji.width);if(typeof e=="string"){let n=Number.parseInt(e);return t.writeUInt32BE(n,0),new Ji(t)}if(typeof e=="number")return t.writeUInt32BE(e,0),new Ji(t);throw new Error("Cannot construct UInt32 from given value")}valueOf(){return this.bytes.readUInt32BE(0)}};AE.UInt32=Ji;Ji.width=32/8;Ji.defaultUInt32=new Ji(Vj.Buffer.alloc(Ji.width))});var E5=b(OE=>{"use strict";d();h();Object.defineProperty(OE,"__esModule",{value:!0});OE.UInt64=void 0;var ile=um(),Op=th(),ole=th(),zf=jt(),ale=/^[a-fA-F0-9]{1,16}$/,Gj=Op(4294967295),xi=class extends ile.UInt{constructor(e){super(e!=null?e:xi.defaultUInt64.bytes)}static fromParser(e){return new xi(e.read(xi.width))}static from(e){if(e instanceof xi)return e;let t=zf.Buffer.alloc(xi.width);if(typeof e=="number"){if(e<0)throw new Error("value must be an unsigned integer");let n=Op(e),i=[zf.Buffer.alloc(4),zf.Buffer.alloc(4)];return i[0].writeUInt32BE(Number(n.shiftRight(32)),0),i[1].writeUInt32BE(Number(n.and(Gj)),0),new xi(zf.Buffer.concat(i))}if(typeof e=="string"){if(!ale.test(e))throw new Error(`${e} is not a valid hex-string`);let n=e.padStart(16,"0");return t=zf.Buffer.from(n,"hex"),new xi(t)}if((0,ole.isInstance)(e)){let n=[zf.Buffer.alloc(4),zf.Buffer.alloc(4)];return n[0].writeUInt32BE(Number(e.shiftRight(Op(32))),0),n[1].writeUInt32BE(Number(e.and(Gj)),0),new xi(zf.Buffer.concat(n))}throw new Error("Cannot construct UInt64 from given value")}toJSON(){return this.bytes.toString("hex").toUpperCase()}valueOf(){let e=Op(this.bytes.slice(0,4).readUInt32BE(0)),t=Op(this.bytes.slice(4).readUInt32BE(0));return e.shiftLeft(Op(32)).or(t)}toBytes(){return this.bytes}};OE.UInt64=xi;xi.width=64/8;xi.defaultUInt64=new xi(zf.Buffer.alloc(xi.width))});var b5=b(DE=>{"use strict";d();h();Object.defineProperty(DE,"__esModule",{value:!0});DE.UInt8=void 0;var sle=um(),Yj=jt(),_o=class extends sle.UInt{constructor(e){super(e!=null?e:_o.defaultUInt8.bytes)}static fromParser(e){return new _o(e.read(_o.width))}static from(e){if(e instanceof _o)return e;if(typeof e=="number"){let t=Yj.Buffer.alloc(_o.width);return t.writeUInt8(e,0),new _o(t)}throw new Error("Cannot construct UInt8 from given value")}valueOf(){return this.bytes.readUInt8(0)}};DE.UInt8=_o;_o.width=8/8;_o.defaultUInt8=new _o(Yj.Buffer.alloc(_o.width))});var Xj=b(RE=>{"use strict";d();h();Object.defineProperty(RE,"__esModule",{value:!0});RE.Vector256=void 0;var ule=Nu(),zj=sm(),Wj=bp();function fle(r){return Array.isArray(r)&&(r.length===0||typeof r[0]=="string")}var sh=class extends ule.SerializedType{constructor(e){super(e)}static fromParser(e,t){let n=new Wj.BytesList,o=(t!=null?t:e.size())/32;for(let a=0;a<o;a++)zj.Hash256.fromParser(e).toBytesSink(n);return new sh(n.toBytes())}static from(e){if(e instanceof sh)return e;if(fle(e)){let t=new Wj.BytesList;return e.forEach(n=>{zj.Hash256.from(n).toBytesSink(t)}),new sh(t.toBytes())}throw new Error("Cannot construct Vector256 from given value")}toJSON(){if(this.bytes.byteLength%32!==0)throw new Error("Invalid bytes for Vector256");let e=[];for(let t=0;t<this.bytes.byteLength;t+=32)e.push(this.bytes.slice(t,t+32).toString("hex").toUpperCase());return e}};RE.Vector256=sh});var fm=b(PE=>{"use strict";d();h();Object.defineProperty(PE,"__esModule",{value:!0});PE.coreTypes=void 0;var uh=Cp(),cle=fE(),lle=Oj(),dle=Dj(),hle=pE(),ple=Rj(),gle=aE(),yle=sm(),mle=Bj(),vle=jj(),xle=bE(),_le=Kj(),wle=w5(),Ele=E5(),ble=b5(),Ile=Xj(),Jj={AccountID:cle.AccountID,Amount:lle.Amount,Blob:dle.Blob,Currency:hle.Currency,Hash128:ple.Hash128,Hash160:gle.Hash160,Hash256:yle.Hash256,PathSet:mle.PathSet,STArray:vle.STArray,STObject:xle.STObject,UInt8:ble.UInt8,UInt16:_le.UInt16,UInt32:wle.UInt32,UInt64:Ele.UInt64,Vector256:Ile.Vector256};PE.coreTypes=Jj;Object.values(uh.Field).forEach(r=>{r.associatedType=Jj[r.type.name]});uh.Field.TransactionType.associatedType=uh.TransactionType;uh.Field.TransactionResult.associatedType=uh.TransactionResult;uh.Field.LedgerEntryType.associatedType=uh.LedgerEntryType});var Dp=b(BE=>{"use strict";d();h();Object.defineProperty(BE,"__esModule",{value:!0});BE.HashPrefix=void 0;var Tle=jt();function Lu(r){let e=Tle.Buffer.alloc(4);return e.writeUInt32BE(r,0),e}var Sle={transactionID:Lu(1415073280),transaction:Lu(1397638144),accountStateEntry:Lu(1296846336),innerNode:Lu(1296649728),ledgerHeader:Lu(1280791040),transactionSig:Lu(1398036480),transactionMultiSig:Lu(1397576704),validation:Lu(1447119872),proposal:Lu(1347571712),paymentChannelClaim:Lu(1129073920)};BE.HashPrefix=Sle});var cm=b(M0=>{"use strict";d();h();Object.defineProperty(M0,"__esModule",{value:!0});M0.transactionID=M0.sha512Half=M0.Sha512Half=void 0;var Cle=Dp(),Ale=Jb(),$j=sm(),Ole=bp(),Dle=jt(),Rp=class extends Ole.BytesList{constructor(){super(...arguments),this.hash=Ale("sha512")}static put(e){return new Rp().put(e)}put(e){return this.hash.update(e),this}finish256(){return Dle.Buffer.from(this.hash.digest().slice(0,32))}finish(){return new $j.Hash256(this.finish256())}};M0.Sha512Half=Rp;function Zj(...r){let e=new Rp;return r.forEach(t=>e.put(t)),e.finish256()}M0.sha512Half=Zj;function Rle(r){return new $j.Hash256(Zj(Cle.HashPrefix.transactionID,r))}M0.transactionID=Rle});var S5=b(Mt=>{"use strict";d();h();Object.defineProperty(Mt,"__esModule",{value:!0});Mt.transactionID=Mt.sha512Half=Mt.binaryToJSON=Mt.signingClaimData=Mt.signingData=Mt.multiSigningData=Mt.readJSON=Mt.serializeObject=Mt.makeParser=Mt.BytesList=Mt.BinarySerializer=Mt.BinaryParser=void 0;var lm=fm(),Qj=eh();Object.defineProperty(Mt,"BinaryParser",{enumerable:!0,get:function(){return Qj.BinaryParser}});var I5=Dp(),NE=bp();Object.defineProperty(Mt,"BinarySerializer",{enumerable:!0,get:function(){return NE.BinarySerializer}});Object.defineProperty(Mt,"BytesList",{enumerable:!0,get:function(){return NE.BytesList}});var eH=cm();Object.defineProperty(Mt,"sha512Half",{enumerable:!0,get:function(){return eH.sha512Half}});Object.defineProperty(Mt,"transactionID",{enumerable:!0,get:function(){return eH.transactionID}});var Ple=th(),tH=r=>new Qj.BinaryParser(r);Mt.makeParser=tH;var rH=r=>r.readType(lm.coreTypes.STObject).toJSON();Mt.readJSON=rH;var Ble=r=>rH(tH(r));Mt.binaryToJSON=Ble;function T5(r,e={}){let{prefix:t,suffix:n,signingFieldsOnly:i=!1}=e,o=new NE.BytesList;t&&o.put(t);let a=i?s=>s.isSigningField:void 0;return lm.coreTypes.STObject.from(r,a).toBytesSink(o),n&&o.put(n),o.toBytes()}Mt.serializeObject=T5;function Nle(r,e=I5.HashPrefix.transactionSig){return T5(r,{prefix:e,signingFieldsOnly:!0})}Mt.signingData=Nle;function Mle(r){let e=Ple(String(r.amount)),t=I5.HashPrefix.paymentChannelClaim,n=lm.coreTypes.Hash256.from(r.channel).toBytes(),i=lm.coreTypes.UInt64.from(e).toBytes(),o=new NE.BytesList;return o.put(t),o.put(n),o.put(i),o.toBytes()}Mt.signingClaimData=Mle;function qle(r,e){let t=I5.HashPrefix.transactionMultiSig,n=lm.coreTypes.AccountID.from(e).toBytes();return T5(r,{prefix:t,suffix:n,signingFieldsOnly:!0})}Mt.multiSigningData=qle});var A5=b(q0=>{"use strict";d();h();Object.defineProperty(q0,"__esModule",{value:!0});q0.ShaMapLeaf=q0.ShaMapNode=q0.ShaMap=void 0;var Fle=So(),nH=fm(),Ule=Dp(),iH=cm(),Lle=jt(),dm=class{};q0.ShaMapNode=dm;var hm=class extends dm{constructor(e,t){super(),this.index=e,this.item=t}isLeaf(){return!0}isInner(){return!1}hashPrefix(){return this.item===void 0?Lle.Buffer.alloc(0):this.item.hashPrefix()}hash(){let e=iH.Sha512Half.put(this.hashPrefix());return this.toBytesSink(e),e.finish()}toBytesSink(e){this.item!==void 0&&this.item.toBytesSink(e),this.index.toBytesSink(e)}};q0.ShaMapLeaf=hm;var Pp=class extends dm{constructor(e=0){super(),this.depth=e,this.slotBits=0,this.branches=Array(16)}isInner(){return!0}isLeaf(){return!1}hashPrefix(){return Ule.HashPrefix.innerNode}setBranch(e,t){this.slotBits=this.slotBits|1<<e,this.branches[e]=t}empty(){return this.slotBits===0}hash(){if(this.empty())return nH.coreTypes.Hash256.ZERO_256;let e=iH.Sha512Half.put(this.hashPrefix());return this.toBytesSink(e),e.finish()}toBytesSink(e){for(let t=0;t<this.branches.length;t++){let n=this.branches[t];(n?n.hash():nH.coreTypes.Hash256.ZERO_256).toBytesSink(e)}}addItem(e,t,n){if(Fle.strict.ok(e!==void 0),e!==void 0){let i=e.nibblet(this.depth),o=this.branches[i];if(o===void 0)this.setBranch(i,n||new hm(e,t));else if(o instanceof hm){let a=new Pp(this.depth+1);a.addItem(o.index,void 0,o),a.addItem(e,t,n),this.setBranch(i,a)}else if(o instanceof Pp)o.addItem(e,t,n);else throw new Error("invalid ShaMap.addItem call")}}},C5=class extends Pp{};q0.ShaMap=C5});var R5=b(_i=>{"use strict";d();h();var kle=_i&&_i.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),jle=_i&&_i.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Hle=_i&&_i.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&kle(e,r,t);return jle(e,r),e};Object.defineProperty(_i,"__esModule",{value:!0});_i.decodeLedgerData=_i.ledgerHash=_i.transactionTreeHash=_i.accountStateHash=void 0;var ME=Hle(So()),Kle=A5(),D5=Dp(),Vle=cm(),sH=S5(),F0=sm(),oH=bE(),uH=E5(),O5=w5(),aH=b5(),Gle=eh(),Yle=th();function fH(r,e){let t=new Kle.ShaMap;return e.forEach(n=>t.addItem(...r(n))),t.hash()}function zle(r){return ME.ok(r.hash),[F0.Hash256.from(r.hash),{hashPrefix(){return D5.HashPrefix.transaction},toBytesSink(n){let i=new sH.BinarySerializer(n);i.writeLengthEncoded(oH.STObject.from(r)),i.writeLengthEncoded(oH.STObject.from(r.metaData))}},void 0]}function Wle(r){let e=F0.Hash256.from(r.index),t=(0,sH.serializeObject)(r);return[e,{hashPrefix(){return D5.HashPrefix.accountStateEntry},toBytesSink(i){i.put(t)}},void 0]}function Xle(r){return fH(zle,r)}_i.transactionTreeHash=Xle;function Jle(r){return fH(Wle,r)}_i.accountStateHash=Jle;function $le(r){let e=new Vle.Sha512Half;return e.put(D5.HashPrefix.ledgerHeader),ME.ok(r.parent_close_time!==void 0),ME.ok(r.close_flags!==void 0),O5.UInt32.from(r.ledger_index).toBytesSink(e),uH.UInt64.from(Yle(String(r.total_coins))).toBytesSink(e),F0.Hash256.from(r.parent_hash).toBytesSink(e),F0.Hash256.from(r.transaction_hash).toBytesSink(e),F0.Hash256.from(r.account_hash).toBytesSink(e),O5.UInt32.from(r.parent_close_time).toBytesSink(e),O5.UInt32.from(r.close_time).toBytesSink(e),aH.UInt8.from(r.close_time_resolution).toBytesSink(e),aH.UInt8.from(r.close_flags).toBytesSink(e),e.finish()}_i.ledgerHash=$le;function Zle(r){ME.ok(typeof r=="string","binary must be a hex string");let e=new Gle.BinaryParser(r);return{ledger_index:e.readUInt32(),total_coins:e.readType(uH.UInt64).valueOf().toString(),parent_hash:e.readType(F0.Hash256).toHex(),transaction_hash:e.readType(F0.Hash256).toHex(),account_hash:e.readType(F0.Hash256).toHex(),parent_close_time:e.readUInt32(),close_time:e.readUInt32(),close_time_resolution:e.readUInt8(),close_flags:e.readUInt8()}}_i.decodeLedgerData=Zle});var lH=b(qE=>{"use strict";d();h();Object.defineProperty(qE,"__esModule",{value:!0});qE.quality=void 0;var Qle=fm(),cH=u5(),ede=th(),tde=jt(),P5=class{static encode(e){let t=new cH.Decimal(e),n=t.e-15,i=t.times(`1e${-n}`).abs().toString(),o=Qle.coreTypes.UInt64.from(ede(i)).toBytes();return o[0]=n+100,o}static decode(e){let t=tde.Buffer.from(e,"hex").slice(-8),n=t[0]-100;return new cH.Decimal(`0x${t.slice(1).toString("hex")}`).times(`1e${n}`)}};qE.quality=P5});var dH=b(at=>{"use strict";d();h();var rde=at&&at.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),nde=at&&at.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),FE=at&&at.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&rde(e,r,t);return nde(e,r),e};Object.defineProperty(at,"__esModule",{value:!0});at.types=at.ShaMap=at.HashPrefix=at.quality=at.TransactionResult=at.Type=at.LedgerEntryType=at.TransactionType=at.Field=at.ledgerHashes=at.binary=at.hashes=void 0;var pm=Cp();Object.defineProperty(at,"Field",{enumerable:!0,get:function(){return pm.Field}});Object.defineProperty(at,"TransactionType",{enumerable:!0,get:function(){return pm.TransactionType}});Object.defineProperty(at,"LedgerEntryType",{enumerable:!0,get:function(){return pm.LedgerEntryType}});Object.defineProperty(at,"Type",{enumerable:!0,get:function(){return pm.Type}});Object.defineProperty(at,"TransactionResult",{enumerable:!0,get:function(){return pm.TransactionResult}});var ide=FE(fm());at.types=ide;var ode=FE(S5());at.binary=ode;var ade=A5();Object.defineProperty(at,"ShaMap",{enumerable:!0,get:function(){return ade.ShaMap}});var sde=FE(R5());at.ledgerHashes=sde;var ude=FE(cm());at.hashes=ude;var fde=lH();Object.defineProperty(at,"quality",{enumerable:!0,get:function(){return fde.quality}});var cde=Dp();Object.defineProperty(at,"HashPrefix",{enumerable:!0,get:function(){return cde.HashPrefix}})});var hH=b(qt=>{"use strict";d();h();var lde=qt&&qt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),dde=qt&&qt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),hde=qt&&qt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&lde(e,r,t);return dde(e,r),e};Object.defineProperty(qt,"__esModule",{value:!0});qt.TRANSACTION_TYPES=qt.decodeLedgerData=qt.decodeQuality=qt.encodeQuality=qt.encodeForMultisigning=qt.encodeForSigningClaim=qt.encodeForSigning=qt.encode=qt.decode=void 0;var U0=hde(So()),B5=dH(),pde=R5();Object.defineProperty(qt,"decodeLedgerData",{enumerable:!0,get:function(){return pde.decodeLedgerData}});var gde=Cp();Object.defineProperty(qt,"TRANSACTION_TYPES",{enumerable:!0,get:function(){return gde.TRANSACTION_TYPES}});var{signingData:yde,signingClaimData:mde,multiSigningData:vde,binaryToJSON:xde,serializeObject:_de}=B5.binary;function wde(r){return U0.ok(typeof r=="string","binary must be a hex string"),xde(r)}qt.decode=wde;function Ede(r){return U0.ok(typeof r=="object"),_de(r).toString("hex").toUpperCase()}qt.encode=Ede;function bde(r){return U0.ok(typeof r=="object"),yde(r).toString("hex").toUpperCase()}qt.encodeForSigning=bde;function Ide(r){return U0.ok(typeof r=="object"),mde(r).toString("hex").toUpperCase()}qt.encodeForSigningClaim=Ide;function Tde(r,e){return U0.ok(typeof r=="object"),U0.equal(r.SigningPubKey,""),vde(r,e).toString("hex").toUpperCase()}qt.encodeForMultisigning=Tde;function Sde(r){return U0.ok(typeof r=="string"),B5.quality.encode(r).toString("hex").toUpperCase()}qt.encodeQuality=Sde;function Cde(r){return U0.ok(typeof r=="string"),B5.quality.decode(r).toString()}qt.decodeQuality=Cde});var pH=b(UE=>{"use strict";d();h();Object.defineProperty(UE,"__esModule",{value:!0});UE.KeystoneXrpSDK=void 0;var Ade=Gr(),Ode=hH(),N5=class{parseAccount(e){let t=e.decodeCBOR().toString();return JSON.parse(t)}parseSignature(e){if(e.type!=="bytes")throw new Error("type not match");try{let t=e.decodeCBOR().toString("hex");return(0,Ode.decode)(t).TxnSignature}catch{throw new Error("signature is invalid")}}generateSignRequest(e){let t=JSON.stringify(e);return Ade.UR.fromBuffer(m.Buffer.from(t))}};UE.KeystoneXrpSDK=N5});var gH=b(fh=>{"use strict";d();h();var Dde=fh&&fh.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Rde=fh&&fh.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Dde(e,r,t)};Object.defineProperty(fh,"__esModule",{value:!0});Rde(pH(),fh)});var yH=b(LE=>{"use strict";d();h();Object.defineProperty(LE,"__esModule",{value:!0});LE.KeystoneSDK=void 0;var wo=zC(),Bp=nj(),Pde=gH(),Np=class{constructor(e){this.parseMultiAccounts=Bp.parseMultiAccounts,this.parseHDKey=Bp.parseHDKey,this.generateKeyDerivationCall=Bp.generateKeyDerivationCall,this.config=e}get btc(){return this._btc===void 0&&(this._btc=new wo.KeystoneBitcoinSDK),this._btc}get eth(){return this._eth===void 0&&(this._eth=new wo.KeystoneEthereumSDK(this.config)),this._eth}get sol(){return this._sol===void 0&&(this._sol=new wo.KeystoneSolanaSDK),this._sol}get cosmos(){return this._cosmos===void 0&&(this._cosmos=new wo.KeystoneCosmosSDK(this.config)),this._cosmos}get evm(){return this._evm===void 0&&(this._evm=new wo.KeystoneEvmSDK(this.config)),this._evm}get tron(){return this._tron===void 0&&(this._tron=new wo.KeystoneTronSDK),this._tron}get ltc(){return this._ltc===void 0&&(this._ltc=new wo.KeystoneLitecoinSDK),this._ltc}get bch(){return this._bch===void 0&&(this._bch=new wo.KeystoneBitcoinCashSDK),this._bch}get dash(){return this._dash===void 0&&(this._dash=new wo.KeystoneDashSDK),this._dash}get aptos(){return this._aptos===void 0&&(this._aptos=new wo.KeystoneAptosSDK),this._aptos}get near(){return this._near===void 0&&(this._near=new wo.KeystoneNearSDK),this._near}get arweave(){return this._arweave===void 0&&(this._arweave=new wo.KeystoneArweaveSDK),this._arweave}get sui(){return this._sui===void 0&&(this._sui=new wo.KeystoneSuiSDK),this._sui}get cardano(){return this._cardano===void 0&&(this._cardano=new wo.KeystoneCardanoSDK),this._cardano}get xrp(){return this._xrp===void 0&&(this._xrp=new Pde.KeystoneXrpSDK),this._xrp}};Np.parseMultiAccounts=Bp.parseMultiAccounts;Np.parseHDKey=Bp.parseHDKey;Np.generateKeyDerivationCall=Bp.generateKeyDerivationCall;LE.KeystoneSDK=Np});var kE=b(ar=>{"use strict";d();h();var mH=ar&&ar.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Bde=ar&&ar.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Nde=ar&&ar.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&mH(e,r,t);return Bde(e,r),e},M5=ar&&ar.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&mH(e,r,t)};Object.defineProperty(ar,"__esModule",{value:!0});ar.utils=ar.KeystoneSDK=ar.DerivationAlgorithm=ar.Curve=void 0;var Mde=Nde(Qr());ar.utils=Mde;var vH=yH();Object.defineProperty(ar,"KeystoneSDK",{enumerable:!0,get:function(){return vH.KeystoneSDK}});M5(Gr(),ar);M5(W4(),ar);M5(zC(),ar);var xH=WC();Object.defineProperty(ar,"Curve",{enumerable:!0,get:function(){return xH.Curve}});Object.defineProperty(ar,"DerivationAlgorithm",{enumerable:!0,get:function(){return xH.DerivationAlgorithm}});ar.default=vH.KeystoneSDK});var FH=b((IWe,qH)=>{d();h();var Fde=Object.create,ym=Object.defineProperty,Ude=Object.getOwnPropertyDescriptor,Lde=Object.getOwnPropertyNames,jE=Object.getOwnPropertySymbols,kde=Object.getPrototypeOf,q5=Object.prototype.hasOwnProperty,EH=Object.prototype.propertyIsEnumerable,wH=(r,e,t)=>e in r?ym(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,gm=(r,e)=>{for(var t in e||(e={}))q5.call(e,t)&&wH(r,t,e[t]);if(jE)for(var t of jE(e))EH.call(e,t)&&wH(r,t,e[t]);return r},F5=(r,e)=>{var t={};for(var n in r)q5.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&jE)for(var n of jE(r))e.indexOf(n)<0&&EH.call(r,n)&&(t[n]=r[n]);return t},jde=(r,e)=>{for(var t in e)ym(r,t,{get:e[t],enumerable:!0})},bH=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Lde(e))!q5.call(r,i)&&i!==t&&ym(r,i,{get:()=>e[i],enumerable:!(n=Ude(e,i))||n.enumerable});return r},Hde=(r,e,t)=>(t=r!=null?Fde(kde(r)):{},bH(e||!r||!r.__esModule?ym(t,"default",{value:r,enumerable:!0}):t,r)),Kde=r=>bH(ym({},"__esModule",{value:!0}),r),IH={};jde(IH,{QRCodeCanvas:()=>NH,QRCodeSVG:()=>MH,default:()=>Yde});qH.exports=Kde(IH);var $i=Hde(uf());var ch;(r=>{let e=class{constructor(u,f,l,p){if(this.version=u,this.errorCorrectionLevel=f,this.modules=[],this.isFunction=[],u<e.MIN_VERSION||u>e.MAX_VERSION)throw new RangeError("Version value out of range");if(p<-1||p>7)throw new RangeError("Mask value out of range");this.size=u*4+17;let g=[];for(let _=0;_<this.size;_++)g.push(!1);for(let _=0;_<this.size;_++)this.modules.push(g.slice()),this.isFunction.push(g.slice());this.drawFunctionPatterns();let v=this.addEccAndInterleave(l);if(this.drawCodewords(v),p==-1){let _=1e9;for(let T=0;T<8;T++){this.applyMask(T),this.drawFormatBits(T);let O=this.getPenaltyScore();O<_&&(p=T,_=O),this.applyMask(T)}}o(0<=p&&p<=7),this.mask=p,this.applyMask(p),this.drawFormatBits(p),this.isFunction=[]}static encodeText(u,f){let l=r.QrSegment.makeSegments(u);return e.encodeSegments(l,f)}static encodeBinary(u,f){let l=r.QrSegment.makeBytes(u);return e.encodeSegments([l],f)}static encodeSegments(u,f,l=1,p=40,g=-1,v=!0){if(!(e.MIN_VERSION<=l&&l<=p&&p<=e.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");let _,T;for(_=l;;_++){let U=e.getNumDataCodewords(_,f)*8,K=s.getTotalBits(u,_);if(K<=U){T=K;break}if(_>=p)throw new RangeError("Data too long")}for(let U of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])v&&T<=e.getNumDataCodewords(_,U)*8&&(f=U);let O=[];for(let U of u){n(U.mode.modeBits,4,O),n(U.numChars,U.mode.numCharCountBits(_),O);for(let K of U.getData())O.push(K)}o(O.length==T);let R=e.getNumDataCodewords(_,f)*8;o(O.length<=R),n(0,Math.min(4,R-O.length),O),n(0,(8-O.length%8)%8,O),o(O.length%8==0);for(let U=236;O.length<R;U^=253)n(U,8,O);let D=[];for(;D.length*8<O.length;)D.push(0);return O.forEach((U,K)=>D[K>>>3]|=U<<7-(K&7)),new e(_,f,D,g)}getModule(u,f){return 0<=u&&u<this.size&&0<=f&&f<this.size&&this.modules[f][u]}getModules(){return this.modules}drawFunctionPatterns(){for(let l=0;l<this.size;l++)this.setFunctionModule(6,l,l%2==0),this.setFunctionModule(l,6,l%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let u=this.getAlignmentPatternPositions(),f=u.length;for(let l=0;l<f;l++)for(let p=0;p<f;p++)l==0&&p==0||l==0&&p==f-1||l==f-1&&p==0||this.drawAlignmentPattern(u[l],u[p]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(u){let f=this.errorCorrectionLevel.formatBits<<3|u,l=f;for(let g=0;g<10;g++)l=l<<1^(l>>>9)*1335;let p=(f<<10|l)^21522;o(p>>>15==0);for(let g=0;g<=5;g++)this.setFunctionModule(8,g,i(p,g));this.setFunctionModule(8,7,i(p,6)),this.setFunctionModule(8,8,i(p,7)),this.setFunctionModule(7,8,i(p,8));for(let g=9;g<15;g++)this.setFunctionModule(14-g,8,i(p,g));for(let g=0;g<8;g++)this.setFunctionModule(this.size-1-g,8,i(p,g));for(let g=8;g<15;g++)this.setFunctionModule(8,this.size-15+g,i(p,g));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let u=this.version;for(let l=0;l<12;l++)u=u<<1^(u>>>11)*7973;let f=this.version<<12|u;o(f>>>18==0);for(let l=0;l<18;l++){let p=i(f,l),g=this.size-11+l%3,v=Math.floor(l/3);this.setFunctionModule(g,v,p),this.setFunctionModule(v,g,p)}}drawFinderPattern(u,f){for(let l=-4;l<=4;l++)for(let p=-4;p<=4;p++){let g=Math.max(Math.abs(p),Math.abs(l)),v=u+p,_=f+l;0<=v&&v<this.size&&0<=_&&_<this.size&&this.setFunctionModule(v,_,g!=2&&g!=4)}}drawAlignmentPattern(u,f){for(let l=-2;l<=2;l++)for(let p=-2;p<=2;p++)this.setFunctionModule(u+p,f+l,Math.max(Math.abs(p),Math.abs(l))!=1)}setFunctionModule(u,f,l){this.modules[f][u]=l,this.isFunction[f][u]=!0}addEccAndInterleave(u){let f=this.version,l=this.errorCorrectionLevel;if(u.length!=e.getNumDataCodewords(f,l))throw new RangeError("Invalid argument");let p=e.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][f],g=e.ECC_CODEWORDS_PER_BLOCK[l.ordinal][f],v=Math.floor(e.getNumRawDataModules(f)/8),_=p-v%p,T=Math.floor(v/p),O=[],R=e.reedSolomonComputeDivisor(g);for(let U=0,K=0;U<p;U++){let A=u.slice(K,K+T-g+(U<_?0:1));K+=A.length;let c=e.reedSolomonComputeRemainder(A,R);U<_&&A.push(0),O.push(A.concat(c))}let D=[];for(let U=0;U<O[0].length;U++)O.forEach((K,A)=>{(U!=T-g||A>=_)&&D.push(K[U])});return o(D.length==v),D}drawCodewords(u){if(u.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let f=0;for(let l=this.size-1;l>=1;l-=2){l==6&&(l=5);for(let p=0;p<this.size;p++)for(let g=0;g<2;g++){let v=l-g,T=(l+1&2)==0?this.size-1-p:p;!this.isFunction[T][v]&&f<u.length*8&&(this.modules[T][v]=i(u[f>>>3],7-(f&7)),f++)}}o(f==u.length*8)}applyMask(u){if(u<0||u>7)throw new RangeError("Mask value out of range");for(let f=0;f<this.size;f++)for(let l=0;l<this.size;l++){let p;switch(u){case 0:p=(l+f)%2==0;break;case 1:p=f%2==0;break;case 2:p=l%3==0;break;case 3:p=(l+f)%3==0;break;case 4:p=(Math.floor(l/3)+Math.floor(f/2))%2==0;break;case 5:p=l*f%2+l*f%3==0;break;case 6:p=(l*f%2+l*f%3)%2==0;break;case 7:p=((l+f)%2+l*f%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[f][l]&&p&&(this.modules[f][l]=!this.modules[f][l])}}getPenaltyScore(){let u=0;for(let g=0;g<this.size;g++){let v=!1,_=0,T=[0,0,0,0,0,0,0];for(let O=0;O<this.size;O++)this.modules[g][O]==v?(_++,_==5?u+=e.PENALTY_N1:_>5&&u++):(this.finderPenaltyAddHistory(_,T),v||(u+=this.finderPenaltyCountPatterns(T)*e.PENALTY_N3),v=this.modules[g][O],_=1);u+=this.finderPenaltyTerminateAndCount(v,_,T)*e.PENALTY_N3}for(let g=0;g<this.size;g++){let v=!1,_=0,T=[0,0,0,0,0,0,0];for(let O=0;O<this.size;O++)this.modules[O][g]==v?(_++,_==5?u+=e.PENALTY_N1:_>5&&u++):(this.finderPenaltyAddHistory(_,T),v||(u+=this.finderPenaltyCountPatterns(T)*e.PENALTY_N3),v=this.modules[O][g],_=1);u+=this.finderPenaltyTerminateAndCount(v,_,T)*e.PENALTY_N3}for(let g=0;g<this.size-1;g++)for(let v=0;v<this.size-1;v++){let _=this.modules[g][v];_==this.modules[g][v+1]&&_==this.modules[g+1][v]&&_==this.modules[g+1][v+1]&&(u+=e.PENALTY_N2)}let f=0;for(let g of this.modules)f=g.reduce((v,_)=>v+(_?1:0),f);let l=this.size*this.size,p=Math.ceil(Math.abs(f*20-l*10)/l)-1;return o(0<=p&&p<=9),u+=p*e.PENALTY_N4,o(0<=u&&u<=2568888),u}getAlignmentPatternPositions(){if(this.version==1)return[];{let u=Math.floor(this.version/7)+2,f=this.version==32?26:Math.ceil((this.version*4+4)/(u*2-2))*2,l=[6];for(let p=this.size-7;l.length<u;p-=f)l.splice(1,0,p);return l}}static getNumRawDataModules(u){if(u<e.MIN_VERSION||u>e.MAX_VERSION)throw new RangeError("Version number out of range");let f=(16*u+128)*u+64;if(u>=2){let l=Math.floor(u/7)+2;f-=(25*l-10)*l-55,u>=7&&(f-=36)}return o(208<=f&&f<=29648),f}static getNumDataCodewords(u,f){return Math.floor(e.getNumRawDataModules(u)/8)-e.ECC_CODEWORDS_PER_BLOCK[f.ordinal][u]*e.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][u]}static reedSolomonComputeDivisor(u){if(u<1||u>255)throw new RangeError("Degree out of range");let f=[];for(let p=0;p<u-1;p++)f.push(0);f.push(1);let l=1;for(let p=0;p<u;p++){for(let g=0;g<f.length;g++)f[g]=e.reedSolomonMultiply(f[g],l),g+1<f.length&&(f[g]^=f[g+1]);l=e.reedSolomonMultiply(l,2)}return f}static reedSolomonComputeRemainder(u,f){let l=f.map(p=>0);for(let p of u){let g=p^l.shift();l.push(0),f.forEach((v,_)=>l[_]^=e.reedSolomonMultiply(v,g))}return l}static reedSolomonMultiply(u,f){if(u>>>8!=0||f>>>8!=0)throw new RangeError("Byte out of range");let l=0;for(let p=7;p>=0;p--)l=l<<1^(l>>>7)*285,l^=(f>>>p&1)*u;return o(l>>>8==0),l}finderPenaltyCountPatterns(u){let f=u[1];o(f<=this.size*3);let l=f>0&&u[2]==f&&u[3]==f*3&&u[4]==f&&u[5]==f;return(l&&u[0]>=f*4&&u[6]>=f?1:0)+(l&&u[6]>=f*4&&u[0]>=f?1:0)}finderPenaltyTerminateAndCount(u,f,l){return u&&(this.finderPenaltyAddHistory(f,l),f=0),f+=this.size,this.finderPenaltyAddHistory(f,l),this.finderPenaltyCountPatterns(l)}finderPenaltyAddHistory(u,f){f[0]==0&&(u+=this.size),f.pop(),f.unshift(u)}},t=e;t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],r.QrCode=t;function n(u,f,l){if(f<0||f>31||u>>>f!=0)throw new RangeError("Value out of range");for(let p=f-1;p>=0;p--)l.push(u>>>p&1)}function i(u,f){return(u>>>f&1)!=0}function o(u){if(!u)throw new Error("Assertion error")}let a=class{constructor(u,f,l){if(this.mode=u,this.numChars=f,this.bitData=l,f<0)throw new RangeError("Invalid argument");this.bitData=l.slice()}static makeBytes(u){let f=[];for(let l of u)n(l,8,f);return new a(a.Mode.BYTE,u.length,f)}static makeNumeric(u){if(!a.isNumeric(u))throw new RangeError("String contains non-numeric characters");let f=[];for(let l=0;l<u.length;){let p=Math.min(u.length-l,3);n(parseInt(u.substr(l,p),10),p*3+1,f),l+=p}return new a(a.Mode.NUMERIC,u.length,f)}static makeAlphanumeric(u){if(!a.isAlphanumeric(u))throw new RangeError("String contains unencodable characters in alphanumeric mode");let f=[],l;for(l=0;l+2<=u.length;l+=2){let p=a.ALPHANUMERIC_CHARSET.indexOf(u.charAt(l))*45;p+=a.ALPHANUMERIC_CHARSET.indexOf(u.charAt(l+1)),n(p,11,f)}return l<u.length&&n(a.ALPHANUMERIC_CHARSET.indexOf(u.charAt(l)),6,f),new a(a.Mode.ALPHANUMERIC,u.length,f)}static makeSegments(u){return u==""?[]:a.isNumeric(u)?[a.makeNumeric(u)]:a.isAlphanumeric(u)?[a.makeAlphanumeric(u)]:[a.makeBytes(a.toUtf8ByteArray(u))]}static makeEci(u){let f=[];if(u<0)throw new RangeError("ECI assignment value out of range");if(u<1<<7)n(u,8,f);else if(u<1<<14)n(2,2,f),n(u,14,f);else if(u<1e6)n(6,3,f),n(u,21,f);else throw new RangeError("ECI assignment value out of range");return new a(a.Mode.ECI,0,f)}static isNumeric(u){return a.NUMERIC_REGEX.test(u)}static isAlphanumeric(u){return a.ALPHANUMERIC_REGEX.test(u)}getData(){return this.bitData.slice()}static getTotalBits(u,f){let l=0;for(let p of u){let g=p.mode.numCharCountBits(f);if(p.numChars>=1<<g)return 1/0;l+=4+g+p.bitData.length}return l}static toUtf8ByteArray(u){u=encodeURI(u);let f=[];for(let l=0;l<u.length;l++)u.charAt(l)!="%"?f.push(u.charCodeAt(l)):(f.push(parseInt(u.substr(l+1,2),16)),l+=2);return f}},s=a;s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",r.QrSegment=s})(ch||(ch={}));(r=>{let e;(t=>{let n=class{constructor(o,a){this.ordinal=o,this.formatBits=a}},i=n;i.LOW=new n(0,1),i.MEDIUM=new n(1,0),i.QUARTILE=new n(2,3),i.HIGH=new n(3,2),t.Ecc=i})(e=r.QrCode||(r.QrCode={}))})(ch||(ch={}));(r=>{let e;(t=>{let n=class{constructor(o,a){this.modeBits=o,this.numBitsCharCount=a}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}},i=n;i.NUMERIC=new n(1,[10,12,14]),i.ALPHANUMERIC=new n(2,[9,11,13]),i.BYTE=new n(4,[8,16,16]),i.KANJI=new n(8,[8,10,12]),i.ECI=new n(7,[0,0,0]),t.Mode=i})(e=r.QrSegment||(r.QrSegment={}))})(ch||(ch={}));var Fp=ch;var TH={L:Fp.QrCode.Ecc.LOW,M:Fp.QrCode.Ecc.MEDIUM,Q:Fp.QrCode.Ecc.QUARTILE,H:Fp.QrCode.Ecc.HIGH},SH=128,CH="L",AH="#FFFFFF",OH="#000000",DH=!1,U5=4,Vde=.1;function RH(r,e=0){let t=[];return r.forEach(function(n,i){let o=null;n.forEach(function(a,s){if(!a&&o!==null){t.push(`M${o+e} ${i+e}h${s-o}v1H${o+e}z`),o=null;return}if(s===n.length-1){if(!a)return;o===null?t.push(`M${s+e},${i+e} h1v1H${s+e}z`):t.push(`M${o+e},${i+e} h${s+1-o}v1H${o+e}z`);return}a&&o===null&&(o=s)})}),t.join("")}function PH(r,e){return r.slice().map((t,n)=>n<e.y||n>=e.y+e.h?t:t.map((i,o)=>o<e.x||o>=e.x+e.w?i:!1))}function BH(r,e,t,n){if(n==null)return null;let i=t?U5:0,o=r.length+i*2,a=Math.floor(e*Vde),s=o/e,u=(n.width||a)*s,f=(n.height||a)*s,l=n.x==null?r.length/2-u/2:n.x*s,p=n.y==null?r.length/2-f/2:n.y*s,g=null;if(n.excavate){let v=Math.floor(l),_=Math.floor(p),T=Math.ceil(u+l-v),O=Math.ceil(f+p-_);g={x:v,y:_,w:T,h:O}}return{x:l,y:p,h:f,w:u,excavation:g}}var Gde=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function NH(r){let e=r,{value:t,size:n=SH,level:i=CH,bgColor:o=AH,fgColor:a=OH,includeMargin:s=DH,style:u,imageSettings:f}=e,l=F5(e,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),p=f==null?void 0:f.src,g=(0,$i.useRef)(null),v=(0,$i.useRef)(null),[_,T]=(0,$i.useState)(!1);(0,$i.useEffect)(()=>{if(g.current!=null){let D=g.current,U=D.getContext("2d");if(!U)return;let K=Fp.QrCode.encodeText(t,TH[i]).getModules(),A=s?U5:0,c=K.length+A*2,y=BH(K,n,s,f),x=v.current,M=y!=null&&x!==null&&x.complete&&x.naturalHeight!==0&&x.naturalWidth!==0;M&&y.excavation!=null&&(K=PH(K,y.excavation));let L=window.devicePixelRatio||1;D.height=D.width=n*L;let ce=n/c*L;U.scale(ce,ce),U.fillStyle=o,U.fillRect(0,0,c,c),U.fillStyle=a,Gde?U.fill(new Path2D(RH(K,A))):K.forEach(function(q,w){q.forEach(function(S,B){S&&U.fillRect(B+A,w+A,1,1)})}),M&&U.drawImage(x,y.x+A,y.y+A,y.w,y.h)}}),(0,$i.useEffect)(()=>{T(!1)},[p]);let O=gm({height:n,width:n},u),R=null;return p!=null&&(R=$i.default.createElement("img",{src:p,key:p,style:{display:"none"},onLoad:()=>{T(!0)},ref:v})),$i.default.createElement($i.default.Fragment,null,$i.default.createElement("canvas",gm({style:O,height:n,width:n,ref:g},l)),R)}function MH(r){let e=r,{value:t,size:n=SH,level:i=CH,bgColor:o=AH,fgColor:a=OH,includeMargin:s=DH,imageSettings:u}=e,f=F5(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]),l=Fp.QrCode.encodeText(t,TH[i]).getModules(),p=s?U5:0,g=l.length+p*2,v=BH(l,n,s,u),_=null;u!=null&&v!=null&&(v.excavation!=null&&(l=PH(l,v.excavation)),_=$i.default.createElement("image",{xlinkHref:u.src,height:v.h,width:v.w,x:v.x+p,y:v.y+p,preserveAspectRatio:"none"}));let T=RH(l,p);return $i.default.createElement("svg",gm({height:n,width:n,viewBox:`0 0 ${g} ${g}`},f),$i.default.createElement("path",{fill:o,d:`M0,0 h${g}v${g}H0z`,shapeRendering:"crispEdges"}),$i.default.createElement("path",{fill:a,d:T,shapeRendering:"crispEdges"}),_)}var Yde=r=>{let e=r,{renderAs:t}=e,n=F5(e,["renderAs"]);return t==="svg"?$i.default.createElement(MH,gm({},n)):$i.default.createElement(NH,gm({},n))}});var LH=b(L5=>{d();h();function zde(r,e){var t=Object.setPrototypeOf;t?t(r,e):r.__proto__=e}function UH(r,e){e===void 0&&(e=r.constructor);var t=Error.captureStackTrace;t&&t(r,e)}var Wde=function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},r(t,n)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xde=function(r){Wde(e,r);function e(t,n){var i=this.constructor,o=r.call(this,t,n)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1,configurable:!0}),zde(o,i.prototype),UH(o),o}return e}(Error),Jde=function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))};function $de(r,e){e===void 0&&(e=Error);function t(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(!(this instanceof t))return new(t.bind.apply(t,Jde([void 0],n,!1)));e.apply(this,n),Object.defineProperty(this,"name",{value:r.name||e.name,enumerable:!1,configurable:!0}),r.apply(this,n),UH(this,t)}return Object.defineProperties(t,{prototype:{value:Object.create(e.prototype,{constructor:{value:t,writable:!0,configurable:!0}})}})}L5.CustomError=Xde;L5.customErrorFactory=$de});var wi=b(mm=>{"use strict";d();h();var Zde=mm&&mm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(mm,"__esModule",{value:!0});var Qde=LH(),ehe=function(r){Zde(e,r);function e(t){t===void 0&&(t=void 0);var n=r.call(this,t)||this;return n.message=t,n}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e}(Qde.CustomError);mm.default=ehe});var HE=b(vm=>{"use strict";d();h();var the=vm&&vm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(vm,"__esModule",{value:!0});var rhe=wi(),nhe=function(r){the(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArgumentException",e}(rhe.default);vm.default=nhe});var ct=b(xm=>{"use strict";d();h();var ihe=xm&&xm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(xm,"__esModule",{value:!0});var ohe=wi(),ahe=function(r){ihe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(ohe.default);xm.default=ahe});var j5=b(k5=>{"use strict";d();h();Object.defineProperty(k5,"__esModule",{value:!0});var she=ct(),uhe=function(){function r(e){if(this.binarizer=e,e===null)throw new she.default("Binarizer must be non-null.")}return r.prototype.getWidth=function(){return this.binarizer.getWidth()},r.prototype.getHeight=function(){return this.binarizer.getHeight()},r.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},r.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},r.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},r.prototype.crop=function(e,t,n,i){var o=this.binarizer.getLuminanceSource().crop(e,t,n,i);return new r(this.binarizer.createBinarizer(o))},r.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},r.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new r(this.binarizer.createBinarizer(e))},r.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new r(this.binarizer.createBinarizer(e))},r.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},r}();k5.default=uhe});var Zs=b(_m=>{"use strict";d();h();var fhe=_m&&_m.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(_m,"__esModule",{value:!0});var che=wi(),lhe=function(r){fhe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(che.default);_m.default=lhe});var K5=b(H5=>{"use strict";d();h();Object.defineProperty(H5,"__esModule",{value:!0});var dhe=function(){function r(e){this.source=e}return r.prototype.getLuminanceSource=function(){return this.source},r.prototype.getWidth=function(){return this.source.getWidth()},r.prototype.getHeight=function(){return this.source.getHeight()},r}();H5.default=dhe});var Xr=b(V5=>{"use strict";d();h();Object.defineProperty(V5,"__esModule",{value:!0});var hhe=function(){function r(){}return r.arraycopy=function(e,t,n,i,o){for(;o--;)n[i++]=e[t++]},r.currentTimeMillis=function(){return Date.now()},r}();V5.default=hhe});var KE=b(wm=>{"use strict";d();h();var phe=wm&&wm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(wm,"__esModule",{value:!0});var ghe=wi(),yhe=function(r){phe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(ghe.default);wm.default=yhe});var kH=b(Em=>{"use strict";d();h();var mhe=Em&&Em.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Em,"__esModule",{value:!0});var vhe=KE(),xhe=function(r){mhe(e,r);function e(t,n){t===void 0&&(t=void 0),n===void 0&&(n=void 0);var i=r.call(this,n)||this;return i.index=t,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(vhe.default);Em.default=xhe});var Qs=b(bm=>{"use strict";d();h();var _he=bm&&bm.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(bm,"__esModule",{value:!0});var whe=Xr(),Ehe=ct(),jH=kH(),bhe=function(){function r(){}return r.fill=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n]=t},r.fillWithin=function(e,t,n,i){r.rangeCheck(e.length,t,n);for(var o=t;o<n;o++)e[o]=i},r.rangeCheck=function(e,t,n){if(t>n)throw new Ehe.default("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new jH.default(t);if(n>e)throw new jH.default(n)},r.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},r.create=function(e,t,n){var i=Array.from({length:e});return i.map(function(o){return Array.from({length:t}).fill(n)})},r.createInt32Array=function(e,t,n){var i=Array.from({length:e});return i.map(function(o){return Int32Array.from({length:t}).fill(n)})},r.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0},r.hashCode=function(e){var t,n;if(e===null)return 0;var i=1;try{for(var o=_he(e),a=o.next();!a.done;a=o.next()){var s=a.value;i=31*i+s}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},r.fillUint8Array=function(e,t){for(var n=0;n!==e.length;n++)e[n]=t},r.copyOf=function(e,t){return e.slice(0,t)},r.copyOfUint8Array=function(e,t){if(e.length<=t){var n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)},r.copyOfRange=function(e,t,n){var i=n-t,o=new Int32Array(i);return whe.default.arraycopy(e,t,o,0,i),o},r.binarySearch=function(e,t,n){n===void 0&&(n=r.numberComparator);for(var i=0,o=e.length-1;i<=o;){var a=o+i>>1,s=n(t,e[a]);if(s>0)i=a+1;else if(s<0)o=a-1;else return a}return-i-1},r.numberComparator=function(e,t){return e-t},r}();bm.default=bhe});var Eo=b(G5=>{"use strict";d();h();Object.defineProperty(G5,"__esModule",{value:!0});var Ihe=function(){function r(){}return r.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var n=31;return t=e<<16,t!==0&&(n-=16,e=t),t=e<<8,t!==0&&(n-=8,e=t),t=e<<4,t!==0&&(n-=4,e=t),t=e<<2,t!==0&&(n-=2,e=t),n-(e<<1>>>31)},r.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16===0&&(t+=16,e<<=16),e>>>24===0&&(t+=8,e<<=8),e>>>28===0&&(t+=4,e<<=4),e>>>30===0&&(t+=2,e<<=2),t-=e>>>31,t},r.toHexString=function(e){return e.toString(16)},r.toBinaryString=function(e){return String(parseInt(String(e),2))},r.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},r.truncDivision=function(e,t){return Math.trunc(e/t)},r.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r.MIN_VALUE_32_BITS=-2147483648,r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r}();G5.default=Ihe});var ku=b(Y5=>{"use strict";d();h();Object.defineProperty(Y5,"__esModule",{value:!0});var VE=ct(),HH=Qs(),KH=Eo(),The=Xr(),She=function(){function r(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=r.makeArray(e):this.bits=t)}return r.prototype.getSize=function(){return this.size},r.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},r.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=r.makeArray(e);The.default.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},r.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},r.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},r.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},r.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,i=Math.floor(e/32),o=n[i];o&=~((1<<(e&31))-1);for(var a=n.length;o===0;){if(++i===a)return t;o=n[i]}var s=i*32+KH.default.numberOfTrailingZeros(o);return s>t?t:s},r.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,i=Math.floor(e/32),o=~n[i];o&=~((1<<(e&31))-1);for(var a=n.length;o===0;){if(++i===a)return t;o=~n[i]}var s=i*32+KH.default.numberOfTrailingZeros(o);return s>t?t:s},r.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},r.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new VE.default;if(t!==e){t--;for(var n=Math.floor(e/32),i=Math.floor(t/32),o=this.bits,a=n;a<=i;a++){var s=a>n?0:e&31,u=a<i?31:t&31,f=(2<<u)-(1<<s);o[a]|=f}}},r.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,n=0;n<e;n++)t[n]=0},r.prototype.isRange=function(e,t,n){if(t<e||e<0||t>this.size)throw new VE.default;if(t===e)return!0;t--;for(var i=Math.floor(e/32),o=Math.floor(t/32),a=this.bits,s=i;s<=o;s++){var u=s>i?0:e&31,f=s<o?31:t&31,l=(2<<f)-(1<<u)&4294967295;if((a[s]&l)!==(n?l:0))return!1}return!0},r.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},r.prototype.appendBits=function(e,t){if(t<0||t>32)throw new VE.default("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var n=t;n>0;n--)this.appendBit((e>>n-1&1)===1)},r.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var n=0;n<t;n++)this.appendBit(e.get(n))},r.prototype.xor=function(e){if(this.size!==e.size)throw new VE.default("Sizes don't match");for(var t=this.bits,n=0,i=t.length;n<i;n++)t[n]^=e.bits[n]},r.prototype.toBytes=function(e,t,n,i){for(var o=0;o<i;o++){for(var a=0,s=0;s<8;s++)this.get(e)&&(a|=1<<7-s),e++;t[n+o]=a}},r.prototype.getBitArray=function(){return this.bits},r.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,i=this.bits,o=0;o<n;o++){var a=i[o];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[t-o]=a}if(this.size!==n*32){for(var s=n*32-this.size,u=e[0]>>>s,o=1;o<n;o++){var f=e[o];u|=f<<32-s,e[o-1]=u,u=f>>>s}e[n-1]=u}this.bits=e},r.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.size===t.size&&HH.default.equals(this.bits,t.bits)},r.prototype.hashCode=function(){return 31*this.size+HH.default.hashCode(this.bits)},r.prototype.toString=function(){for(var e="",t=0,n=this.size;t<n;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e},r.prototype.clone=function(){return new r(this.size,this.bits.slice())},r}();Y5.default=She});var Ei=b(W5=>{"use strict";d();h();Object.defineProperty(W5,"__esModule",{value:!0});var z5;(function(r){r[r.OTHER=0]="OTHER",r[r.PURE_BARCODE=1]="PURE_BARCODE",r[r.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",r[r.TRY_HARDER=3]="TRY_HARDER",r[r.CHARACTER_SET=4]="CHARACTER_SET",r[r.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",r[r.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",r[r.ASSUME_GS1=7]="ASSUME_GS1",r[r.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",r[r.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",r[r.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(z5||(z5={}));W5.default=z5});var pr=b(Im=>{"use strict";d();h();var Che=Im&&Im.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Im,"__esModule",{value:!0});var Ahe=wi(),Ohe=function(r){Che(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Ahe.default);Im.default=Ohe});var Wf=b(L0=>{"use strict";d();h();var Dhe=L0&&L0.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(L0,"__esModule",{value:!0});L0.CharacterSetValueIdentifiers=void 0;var X5=pr(),xt;(function(r){r[r.Cp437=0]="Cp437",r[r.ISO8859_1=1]="ISO8859_1",r[r.ISO8859_2=2]="ISO8859_2",r[r.ISO8859_3=3]="ISO8859_3",r[r.ISO8859_4=4]="ISO8859_4",r[r.ISO8859_5=5]="ISO8859_5",r[r.ISO8859_6=6]="ISO8859_6",r[r.ISO8859_7=7]="ISO8859_7",r[r.ISO8859_8=8]="ISO8859_8",r[r.ISO8859_9=9]="ISO8859_9",r[r.ISO8859_10=10]="ISO8859_10",r[r.ISO8859_11=11]="ISO8859_11",r[r.ISO8859_13=12]="ISO8859_13",r[r.ISO8859_14=13]="ISO8859_14",r[r.ISO8859_15=14]="ISO8859_15",r[r.ISO8859_16=15]="ISO8859_16",r[r.SJIS=16]="SJIS",r[r.Cp1250=17]="Cp1250",r[r.Cp1251=18]="Cp1251",r[r.Cp1252=19]="Cp1252",r[r.Cp1256=20]="Cp1256",r[r.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",r[r.UTF8=22]="UTF8",r[r.ASCII=23]="ASCII",r[r.Big5=24]="Big5",r[r.GB18030=25]="GB18030",r[r.EUC_KR=26]="EUC_KR"})(xt=L0.CharacterSetValueIdentifiers||(L0.CharacterSetValueIdentifiers={}));var Rhe=function(){function r(e,t,n){for(var i,o,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=a,r.VALUE_IDENTIFIER_TO_ECI.set(e,this),r.NAME_TO_ECI.set(n,this);for(var u=this.values,f=0,l=u.length;f!==l;f++){var p=u[f];r.VALUES_TO_ECI.set(p,this)}try{for(var g=Dhe(a),v=g.next();!v.done;v=g.next()){var _=v.value;r.NAME_TO_ECI.set(_,this)}}catch(T){i={error:T}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}}return r.prototype.getValueIdentifier=function(){return this.valueIdentifier},r.prototype.getName=function(){return this.name},r.prototype.getValue=function(){return this.values[0]},r.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new X5.default("incorect value");var t=r.VALUES_TO_ECI.get(e);if(t===void 0)throw new X5.default("incorect value");return t},r.getCharacterSetECIByName=function(e){var t=r.NAME_TO_ECI.get(e);if(t===void 0)throw new X5.default("incorect value");return t},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.getName()===t.getName()},r.VALUE_IDENTIFIER_TO_ECI=new Map,r.VALUES_TO_ECI=new Map,r.NAME_TO_ECI=new Map,r.Cp437=new r(xt.Cp437,Int32Array.from([0,2]),"Cp437"),r.ISO8859_1=new r(xt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),r.ISO8859_2=new r(xt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),r.ISO8859_3=new r(xt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),r.ISO8859_4=new r(xt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),r.ISO8859_5=new r(xt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),r.ISO8859_6=new r(xt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),r.ISO8859_7=new r(xt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),r.ISO8859_8=new r(xt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),r.ISO8859_9=new r(xt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),r.ISO8859_10=new r(xt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),r.ISO8859_11=new r(xt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),r.ISO8859_13=new r(xt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),r.ISO8859_14=new r(xt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),r.ISO8859_15=new r(xt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),r.ISO8859_16=new r(xt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),r.SJIS=new r(xt.SJIS,20,"SJIS","Shift_JIS"),r.Cp1250=new r(xt.Cp1250,21,"Cp1250","windows-1250"),r.Cp1251=new r(xt.Cp1251,22,"Cp1251","windows-1251"),r.Cp1252=new r(xt.Cp1252,23,"Cp1252","windows-1252"),r.Cp1256=new r(xt.Cp1256,24,"Cp1256","windows-1256"),r.UnicodeBigUnmarked=new r(xt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),r.UTF8=new r(xt.UTF8,26,"UTF8","UTF-8"),r.ASCII=new r(xt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),r.Big5=new r(xt.Big5,28,"Big5"),r.GB18030=new r(xt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),r.EUC_KR=new r(xt.EUC_KR,30,"EUC_KR","EUC-KR"),r}();L0.default=Rhe});var GE=b(Tm=>{"use strict";d();h();var Phe=Tm&&Tm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Tm,"__esModule",{value:!0});var Bhe=wi(),Nhe=function(r){Phe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Bhe.default);Tm.default=Nhe});var lh=b(J5=>{"use strict";d();h();Object.defineProperty(J5,"__esModule",{value:!0});var Mhe=GE(),Up=Wf(),qhe=function(){function r(){}return r.decode=function(e,t){var n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},r.shouldDecodeOnFallback=function(e){return!r.isBrowser()&&e==="ISO-8859-1"},r.encode=function(e,t){var n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},r.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},r.encodingName=function(e){return typeof e=="string"?e:e.getName()},r.encodingCharacterSet=function(e){return e instanceof Up.default?e:Up.default.getCharacterSetECIByName(e)},r.decodeFallback=function(e,t){var n=this.encodingCharacterSet(t);if(r.isDecodeFallbackSupported(n)){for(var i="",o=0,a=e.length;o<a;o++){var s=e[o].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals(Up.default.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Mhe.default("Encoding "+this.encodingName(t)+" not supported by fallback.")},r.isDecodeFallbackSupported=function(e){return e.equals(Up.default.UTF8)||e.equals(Up.default.ISO8859_1)||e.equals(Up.default.ASCII)},r.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),n=t.split(""),i=[],o=0;o<n.length;o++)i.push(n[o].charCodeAt(0));return new Uint8Array(i)},r}();J5.default=qhe});var eu=b(Z5=>{"use strict";d();h();Object.defineProperty(Z5,"__esModule",{value:!0});var VH=Ei(),$5=Wf(),GH=lh(),Fhe=function(){function r(){}return r.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var n=t?t.getName():this.ISO88591;return GH.default.decode(new Uint8Array([e]),n)},r.guessEncoding=function(e,t){if(t!=null&&t.get(VH.default.CHARACTER_SET)!==void 0)return t.get(VH.default.CHARACTER_SET).toString();for(var n=e.length,i=!0,o=!0,a=!0,s=0,u=0,f=0,l=0,p=0,g=0,v=0,_=0,T=0,O=0,R=0,D=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,U=0;U<n&&(i||o||a);U++){var K=e[U]&255;a&&(s>0?(K&128)===0?a=!1:s--:(K&128)!==0&&((K&64)===0?a=!1:(s++,(K&32)===0?u++:(s++,(K&16)===0?f++:(s++,(K&8)===0?l++:a=!1))))),i&&(K>127&&K<160?i=!1:K>159&&(K<192||K===215||K===247)&&R++),o&&(p>0?K<64||K===127||K>252?o=!1:p--:K===128||K===160||K>239?o=!1:K>160&&K<224?(g++,_=0,v++,v>T&&(T=v)):K>127?(p++,v=0,_++,_>O&&(O=_)):(v=0,_=0))}return a&&s>0&&(a=!1),o&&p>0&&(o=!1),a&&(D||u+f+l>0)?r.UTF8:o&&(r.ASSUME_SHIFT_JIS||T>=3||O>=3)?r.SHIFT_JIS:i&&o?T===2&&g===2||R*10>=n?r.SHIFT_JIS:r.ISO88591:i?r.ISO88591:o?r.SHIFT_JIS:a?r.UTF8:r.PLATFORM_DEFAULT_ENCODING},r.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=-1;function o(s,u,f,l,p,g){if(s==="%%")return"%";if(t[++i]!==void 0){s=l?parseInt(l.substr(1)):void 0;var v=p?parseInt(p.substr(1)):void 0,_;switch(g){case"s":_=t[i];break;case"c":_=t[i][0];break;case"f":_=parseFloat(t[i]).toFixed(s);break;case"p":_=parseFloat(t[i]).toPrecision(s);break;case"e":_=parseFloat(t[i]).toExponential(s);break;case"x":_=parseInt(t[i]).toString(v||16);break;case"d":_=parseFloat(parseInt(t[i],v||10).toPrecision(s)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(v);for(var T=parseInt(f),O=f&&f[0]+""=="0"?"0":" ";_.length<T;)_=u!==void 0?_+O:O+_;return _}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,o)},r.getBytes=function(e,t){return GH.default.encode(e,t)},r.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},r.getCharAt=function(e){return String.fromCharCode(e)},r.SHIFT_JIS=$5.default.SJIS.getName(),r.GB2312="GB2312",r.ISO88591=$5.default.ISO8859_1.getName(),r.EUC_JP="EUC_JP",r.UTF8=$5.default.UTF8.getName(),r.PLATFORM_DEFAULT_ENCODING=r.UTF8,r.ASSUME_SHIFT_JIS=!1,r}();Z5.default=Fhe});var Ar=b(Q5=>{"use strict";d();h();Object.defineProperty(Q5,"__esModule",{value:!0});var Uhe=eu(),Lhe=function(){function r(e){e===void 0&&(e=""),this.value=e}return r.prototype.enableDecoding=function(e){return this.encoding=e,this},r.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Uhe.default.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},r.prototype.appendChars=function(e,t,n){for(var i=t;t<t+n;i++)this.append(e[i]);return this},r.prototype.length=function(){return this.value.length},r.prototype.charAt=function(e){return this.value.charAt(e)},r.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},r.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},r.prototype.substring=function(e,t){return this.value.substring(e,t)},r.prototype.setLengthToZero=function(){this.value=""},r.prototype.toString=function(){return this.value},r.prototype.insert=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)},r}();Q5.default=Lhe});var Yo=b(eA=>{"use strict";d();h();Object.defineProperty(eA,"__esModule",{value:!0});var YE=ku(),khe=Xr(),YH=Qs(),jhe=Ar(),Xf=ct(),Hhe=function(){function r(e,t,n,i){if(this.width=e,this.height=t,this.rowSize=n,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new Xf.default("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return r.parseFromBooleanArray=function(e){for(var t=e.length,n=e[0].length,i=new r(n,t),o=0;o<t;o++)for(var a=e[o],s=0;s<n;s++)a[s]&&i.set(s,o);return i},r.parseFromString=function(e,t,n){if(e===null)throw new Xf.default("stringRepresentation cannot be null");for(var i=new Array(e.length),o=0,a=0,s=-1,u=0,f=0;f<e.length;)if(e.charAt(f)===`
`||e.charAt(f)==="\r"){if(o>a){if(s===-1)s=o-a;else if(o-a!==s)throw new Xf.default("row lengths do not match");a=o,u++}f++}else if(e.substring(f,f+t.length)===t)f+=t.length,i[o]=!0,o++;else if(e.substring(f,f+n.length)===n)f+=n.length,i[o]=!1,o++;else throw new Xf.default("illegal character encountered: "+e.substring(f));if(o>a){if(s===-1)s=o-a;else if(o-a!==s)throw new Xf.default("row lengths do not match");u++}for(var l=new r(s,u),p=0;p<o;p++)i[p]&&l.set(Math.floor(p%s),Math.floor(p/s));return l},r.prototype.get=function(e,t){var n=t*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},r.prototype.set=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},r.prototype.unset=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},r.prototype.flip=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},r.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Xf.default("input matrix dimensions do not match");for(var t=new YE.default(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,o=0,a=this.height;o<a;o++)for(var s=o*n,u=e.getRow(o,t).getBitArray(),f=0;f<n;f++)i[s+f]^=u[f]},r.prototype.clear=function(){for(var e=this.bits,t=e.length,n=0;n<t;n++)e[n]=0},r.prototype.setRegion=function(e,t,n,i){if(t<0||e<0)throw new Xf.default("Left and top must be nonnegative");if(i<1||n<1)throw new Xf.default("Height and width must be at least 1");var o=e+n,a=t+i;if(a>this.height||o>this.width)throw new Xf.default("The region must fit inside the matrix");for(var s=this.rowSize,u=this.bits,f=t;f<a;f++)for(var l=f*s,p=e;p<o;p++)u[l+Math.floor(p/32)]|=1<<(p&31)&4294967295},r.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new YE.default(this.width):t.clear();for(var n=this.rowSize,i=this.bits,o=e*n,a=0;a<n;a++)t.setBulk(a*32,i[o+a]);return t},r.prototype.setRow=function(e,t){khe.default.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},r.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),n=new YE.default(e),i=new YE.default(e),o=0,a=Math.floor((t+1)/2);o<a;o++)n=this.getRow(o,n),i=this.getRow(t-1-o,i),n.reverse(),i.reverse(),this.setRow(o,i),this.setRow(t-1-o,n)},r.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,n=this.rowSize,i=this.bits,o=e,a=t,s=-1,u=-1,f=0;f<t;f++)for(var l=0;l<n;l++){var p=i[f*n+l];if(p!==0){if(f<a&&(a=f),f>u&&(u=f),l*32<o){for(var g=0;(p<<31-g&4294967295)===0;)g++;l*32+g<o&&(o=l*32+g)}if(l*32+31>s){for(var g=31;p>>>g===0;)g--;l*32+g>s&&(s=l*32+g)}}}return s<o||u<a?null:Int32Array.from([o,a,s-o+1,u-a+1])},r.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,n=0;n<t.length&&t[n]===0;)n++;if(n===t.length)return null;for(var i=n/e,o=n%e*32,a=t[n],s=0;(a<<31-s&4294967295)===0;)s++;return o+=s,Int32Array.from([o,i])},r.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,n=t.length-1;n>=0&&t[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),o=Math.floor(n%e)*32,a=t[n],s=31;a>>>s===0;)s--;return o+=s,Int32Array.from([o,i])},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRowSize=function(){return this.rowSize},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&YH.default.equals(this.bits,t.bits)},r.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+YH.default.hashCode(this.bits),e},r.prototype.toString=function(e,t,n){return e===void 0&&(e="X "),t===void 0&&(t="  "),n===void 0&&(n=`
`),this.buildToString(e,t,n)},r.prototype.buildToString=function(e,t,n){for(var i=new jhe.default,o=0,a=this.height;o<a;o++){for(var s=0,u=this.width;s<u;s++)i.append(this.get(s,o)?e:t);i.append(n)}return i.toString()},r.prototype.clone=function(){return new r(this.width,this.height,this.rowSize,this.bits.slice())},r}();eA.default=Hhe});var je=b(Sm=>{"use strict";d();h();var Khe=Sm&&Sm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Sm,"__esModule",{value:!0});var Vhe=wi(),Ghe=function(r){Khe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Vhe.default);Sm.default=Ghe});var tA=b(Cm=>{"use strict";d();h();var Yhe=Cm&&Cm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Cm,"__esModule",{value:!0});var zhe=K5(),Whe=ku(),Xhe=Yo(),Jhe=je(),$he=function(r){Yhe(e,r);function e(t){var n=r.call(this,t)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(t,n){var i=this.getLuminanceSource(),o=i.getWidth();n==null||n.getSize()<o?n=new Whe.default(o):n.clear(),this.initArrays(o);for(var a=i.getRow(t,this.luminances),s=this.buckets,u=0;u<o;u++)s[(a[u]&255)>>e.LUMINANCE_SHIFT]++;var f=e.estimateBlackPoint(s);if(o<3)for(var u=0;u<o;u++)(a[u]&255)<f&&n.set(u);else for(var l=a[0]&255,p=a[1]&255,u=1;u<o-1;u++){var g=a[u+1]&255;(p*4-l-g)/2<f&&n.set(u),l=p,p=g}return n},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),n=t.getWidth(),i=t.getHeight(),o=new Xhe.default(n,i);this.initArrays(n);for(var a=this.buckets,s=1;s<5;s++)for(var u=Math.floor(i*s/5),f=t.getRow(u,this.luminances),l=Math.floor(n*4/5),p=Math.floor(n/5);p<l;p++){var g=f[p]&255;a[g>>e.LUMINANCE_SHIFT]++}for(var v=e.estimateBlackPoint(a),_=t.getMatrix(),s=0;s<i;s++)for(var T=s*n,p=0;p<n;p++){var g=_[T+p]&255;g<v&&o.set(p,s)}return o},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(t){for(var n=t.length,i=0,o=0,a=0,s=0;s<n;s++)t[s]>a&&(o=s,a=t[s]),t[s]>i&&(i=t[s]);for(var u=0,f=0,s=0;s<n;s++){var l=s-o,p=t[s]*l*l;p>f&&(u=s,f=p)}if(o>u){var g=o;o=u,u=g}if(u-o<=n/16)throw new Jhe.default;for(var v=u-1,_=-1,s=u-1;s>o;s--){var T=s-o,p=T*T*(u-s)*(i-t[s]);p>_&&(v=s,_=p)}return v<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(zhe.default);Cm.default=$he});var rA=b(Am=>{"use strict";d();h();var Zhe=Am&&Am.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Am,"__esModule",{value:!0});var Qhe=tA(),e1e=Yo(),t1e=function(r){Zhe(e,r);function e(t){var n=r.call(this,t)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),n=t.getWidth(),i=t.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var o=t.getMatrix(),a=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!==0&&a++;var s=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&s++;var u=e.calculateBlackPoints(o,a,s,n,i),f=new e1e.default(n,i);e.calculateThresholdForBlock(o,a,s,n,i,u,f),this.matrix=f}else this.matrix=r.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,n,i,o,a,s,u){for(var f=a-e.BLOCK_SIZE,l=o-e.BLOCK_SIZE,p=0;p<i;p++){var g=p<<e.BLOCK_SIZE_POWER;g>f&&(g=f);for(var v=e.cap(p,2,i-3),_=0;_<n;_++){var T=_<<e.BLOCK_SIZE_POWER;T>l&&(T=l);for(var O=e.cap(_,2,n-3),R=0,D=-2;D<=2;D++){var U=s[v+D];R+=U[O-2]+U[O-1]+U[O]+U[O+1]+U[O+2]}var K=R/25;e.thresholdBlock(t,T,g,K,o,u)}}},e.cap=function(t,n,i){return t<n?n:t>i?i:t},e.thresholdBlock=function(t,n,i,o,a,s){for(var u=0,f=i*a+n;u<e.BLOCK_SIZE;u++,f+=a)for(var l=0;l<e.BLOCK_SIZE;l++)(t[f+l]&255)<=o&&s.set(n+l,i+u)},e.calculateBlackPoints=function(t,n,i,o,a){for(var s=a-e.BLOCK_SIZE,u=o-e.BLOCK_SIZE,f=new Array(i),l=0;l<i;l++){f[l]=new Int32Array(n);var p=l<<e.BLOCK_SIZE_POWER;p>s&&(p=s);for(var g=0;g<n;g++){var v=g<<e.BLOCK_SIZE_POWER;v>u&&(v=u);for(var _=0,T=255,O=0,R=0,D=p*o+v;R<e.BLOCK_SIZE;R++,D+=o){for(var U=0;U<e.BLOCK_SIZE;U++){var K=t[D+U]&255;_+=K,K<T&&(T=K),K>O&&(O=K)}if(O-T>e.MIN_DYNAMIC_RANGE)for(R++,D+=o;R<e.BLOCK_SIZE;R++,D+=o)for(var U=0;U<e.BLOCK_SIZE;U++)_+=t[D+U]&255}var A=_>>e.BLOCK_SIZE_POWER*2;if(O-T<=e.MIN_DYNAMIC_RANGE&&(A=T/2,l>0&&g>0)){var c=(f[l-1][g]+2*f[l][g-1]+f[l-1][g-1])/4;T<c&&(A=c)}f[l][g]=A}}return f},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(Qhe.default);Am.default=t1e});var Lp=b(iA=>{"use strict";d();h();Object.defineProperty(iA,"__esModule",{value:!0});var r1e=Ar(),nA=GE(),n1e=function(){function r(e,t){this.width=e,this.height=t}return r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.isCropSupported=function(){return!1},r.prototype.crop=function(e,t,n,i){throw new nA.default("This luminance source does not support cropping.")},r.prototype.isRotateSupported=function(){return!1},r.prototype.rotateCounterClockwise=function(){throw new nA.default("This luminance source does not support rotation by 90 degrees.")},r.prototype.rotateCounterClockwise45=function(){throw new nA.default("This luminance source does not support rotation by 45 degrees.")},r.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new r1e.default,n=0;n<this.height;n++){for(var i=this.getRow(n,e),o=0;o<this.width;o++){var a=i[o]&255,s=void 0;a<64?s="#":a<128?s="+":a<192?s=".":s=" ",t.append(s)}t.append(`
`)}return t.toString()},r}();iA.default=n1e});var kp=b(Om=>{"use strict";d();h();var i1e=Om&&Om.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Om,"__esModule",{value:!0});var o1e=Lp(),a1e=function(r){i1e(e,r);function e(t){var n=r.call(this,t.getWidth(),t.getHeight())||this;return n.delegate=t,n}return e.prototype.getRow=function(t,n){for(var i=this.delegate.getRow(t,n),o=this.getWidth(),a=0;a<o;a++)i[a]=255-(i[a]&255);return i},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),o=0;o<n;o++)i[o]=255-(t[o]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,n,i,o){return new e(this.delegate.crop(t,n,i,o))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(o1e.default);Om.default=a1e});var oA=b(jp=>{"use strict";d();h();var s1e=jp&&jp.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(jp,"__esModule",{value:!0});jp.HTMLCanvasElementLuminanceSource=void 0;var u1e=kp(),f1e=Lp(),c1e=ct(),l1e=function(r){s1e(e,r);function e(t){var n=r.call(this,t.width,t.height)||this;return n.canvas=t,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(t),n}return e.makeBufferFromCanvasImageData=function(t){var n=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(n.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,n,i){for(var o=new Uint8ClampedArray(n*i),a=0,s=0,u=t.length;a<u;a+=4,s++){var f=void 0,l=t[a+3];if(l===0)f=255;else{var p=t[a],g=t[a+1],v=t[a+2];f=306*p+601*g+117*v+512>>10}o[s]=f}return o},e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new c1e.default("Requested row is outside the image: "+t);var i=this.getWidth(),o=t*i;return n===null?n=this.buffer.slice(o,o+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(o,o+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,o){return r.prototype.crop.call(this,t,n,i,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var n=this.getTempCanvasElement(),i=n.getContext("2d"),o=t*e.DEGREE_TO_RADIANS,a=this.canvas.width,s=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(o))*a+Math.abs(Math.sin(o))*s),f=Math.ceil(Math.abs(Math.sin(o))*a+Math.abs(Math.cos(o))*s);return n.width=u,n.height=f,i.translate(u/2,f/2),i.rotate(o),i.drawImage(this.canvas,a/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new u1e.default(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e}(f1e.default);jp.HTMLCanvasElementLuminanceSource=l1e});var aA=b(zE=>{"use strict";d();h();Object.defineProperty(zE,"__esModule",{value:!0});zE.VideoInputDevice=void 0;var d1e=function(){function r(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}return r.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},r}();zE.VideoInputDevice=d1e});var k0=b(Hu=>{"use strict";d();h();var Zi=Hu&&Hu.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(l){try{f(n.next(l))}catch(p){a(p)}}function u(l){try{f(n.throw(l))}catch(p){a(p)}}function f(l){l.done?o(l.value):i(l.value).then(s,u)}f((n=n.apply(r,e||[])).next())})},Qi=Hu&&Hu.__generator||function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(l){return u([f,l])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){t.label=f[1];break}if(f[0]===6&&t.label<o[1]){t.label=o[1],o=f;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(f);break}o[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(l){f=[6,l],i=0}finally{n=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},h1e=Hu&&Hu.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Hu,"__esModule",{value:!0});Hu.BrowserCodeReader=void 0;var ju=HE(),p1e=j5(),zH=Zs(),g1e=rA(),WH=pr(),sA=je(),y1e=oA(),m1e=aA(),v1e=function(){function r(e,t,n){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(r.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),r.prototype.listVideoInputDevices=function(){return Zi(this,void 0,void 0,function(){var e,t,n,i,o,a,s,u,f,l,p,g;return Qi(this,function(v){switch(v.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=v.sent(),t=[];try{for(n=h1e(e),i=n.next();!i.done;i=n.next())o=i.value,a=o.kind==="video"?"videoinput":o.kind,a==="videoinput"&&(s=o.deviceId||o.id,u=o.label||"Video device "+(t.length+1),f=o.groupId,l={deviceId:s,label:u,kind:a,groupId:f},t.push(l))}catch(_){p={error:_}}finally{try{i&&!i.done&&(g=n.return)&&g.call(n)}finally{if(p)throw p.error}}return[2,t]}})})},r.prototype.getVideoInputDevices=function(){return Zi(this,void 0,void 0,function(){var e;return Qi(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(n){return new m1e.VideoInputDevice(n.deviceId,n.label)})]}})})},r.prototype.findDeviceById=function(e){return Zi(this,void 0,void 0,function(){var t;return Qi(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=n.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2,null]}})})},r.prototype.decodeFromInputVideoDevice=function(e,t){return Zi(this,void 0,void 0,function(){return Qi(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,n.sent()]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,t){return Zi(this,void 0,void 0,function(){var n,i;return Qi(this,function(o){switch(o.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,o.sent()]}})})},r.prototype.decodeOnceFromConstraints=function(e,t){return Zi(this,void 0,void 0,function(){var n;return Qi(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,t)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,t){return Zi(this,void 0,void 0,function(){var n,i;return Qi(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return n=o.sent(),[4,this.decodeOnce(n)];case 2:return i=o.sent(),[2,i]}})})},r.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,n){return Zi(this,void 0,void 0,function(){return Qi(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,t,n)];case 1:return[2,i.sent()]}})})},r.prototype.decodeFromVideoDevice=function(e,t,n){return Zi(this,void 0,void 0,function(){var i,o;return Qi(this,function(a){switch(a.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},o={video:i},[4,this.decodeFromConstraints(o,t,n)];case 1:return[2,a.sent()]}})})},r.prototype.decodeFromConstraints=function(e,t,n){return Zi(this,void 0,void 0,function(){var i;return Qi(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=o.sent(),[4,this.decodeFromStream(i,t,n)];case 2:return[2,o.sent()]}})})},r.prototype.decodeFromStream=function(e,t,n){return Zi(this,void 0,void 0,function(){var i;return Qi(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return i=o.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,o.sent()]}})})},r.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},r.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},r.prototype.attachStreamToVideo=function(e,t){return Zi(this,void 0,void 0,function(){var n;return Qi(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(t),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},r.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(n,i){return t.playVideoOnLoad(e,function(){return n()})})},r.prototype.playVideoOnLoad=function(e,t){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},r.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},r.prototype.tryPlayVideo=function(e){return Zi(this,void 0,void 0,function(){var t;return Qi(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},r.prototype.getMediaElement=function(e,t){var n=document.getElementById(e);if(!n)throw new ju.default("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new ju.default("element with id '"+e+"' must be an "+t+" element");return n},r.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new ju.default("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},r.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new ju.default("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},r.prototype.decodeFromVideoContinuously=function(e,t,n){if(e===void 0&&t===void 0)throw new ju.default("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)},r.prototype.decodeFromImageElement=function(e){if(!e)throw new ju.default("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var n;return this.isImageLoaded(t)?n=this.decodeOnce(t,!1,!0):n=this._decodeOnLoadImage(t),n},r.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},r.prototype.decodeFromVideoElementContinuously=function(e,t){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)},r.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new ju.default("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},r.prototype.decodeFromImageUrl=function(e){if(!e)throw new ju.default("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var n=this._decodeOnLoadImage(t);return t.src=e,n},r.prototype.decodeFromVideoUrl=function(e){if(!e)throw new ju.default("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n},r.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new ju.default("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,t);return n.src=e,i},r.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(n,i){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",t.imageLoadedListener)})},r.prototype._decodeOnLoadVideo=function(e){return Zi(this,void 0,void 0,function(){return Qi(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},r.prototype._decodeOnLoadVideoContinuously=function(e,t){return Zi(this,void 0,void 0,function(){return Qi(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,t),[2]}})})},r.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},r.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},r.prototype.decodeOnce=function(e,t,n){var i=this;t===void 0&&(t=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var o=function(a,s){if(i._stopAsyncDecode){s(new sA.default("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var u=i.decode(e);a(u)}catch(g){var f=t&&g instanceof sA.default,l=g instanceof zH.default||g instanceof WH.default,p=l&&n;if(f||p)return setTimeout(o,i._timeBetweenDecodingAttempts,a,s);s(g)}};return new Promise(function(a,s){return o(a,s)})},r.prototype.decodeContinuously=function(e,t){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var o=n.decode(e);t(o,null),setTimeout(i,n.timeBetweenScansMillis)}catch(u){t(null,u);var a=u instanceof zH.default||u instanceof WH.default,s=u instanceof sA.default;(a||s)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},r.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},r.prototype._isHTMLVideoElement=function(e){var t=e;return t.videoWidth!==0},r.prototype.createBinaryBitmap=function(e){var t=this.getCaptureCanvasContext(e);this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new y1e.HTMLCanvasElementLuminanceSource(n),o=new g1e.default(i);return new p1e.default(o)},r.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),n=void 0;try{n=t.getContext("2d",{willReadFrequently:!0})}catch{n=t.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},r.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},r.prototype.drawFrameOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.drawImageOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},r.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=i+"px",t.width=n,t.height=i,t},r.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},r.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},r.prototype._destroyVideoElement=function(){!this.videoElement||(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},r.prototype._destroyImageElement=function(){!this.imageElement||(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},r.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},r.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},r.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},r}();Hu.BrowserCodeReader=v1e});var bi=b(uA=>{"use strict";d();h();Object.defineProperty(uA,"__esModule",{value:!0});var WE=Xr(),x1e=function(){function r(e,t,n,i,o,a){n===void 0&&(n=t==null?0:8*t.length),a===void 0&&(a=WE.default.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=i,this.format=o,this.timestamp=a,this.text=e,this.rawBytes=t,n==null?this.numBits=t==null?0:8*t.length:this.numBits=n,this.resultPoints=i,this.format=o,this.resultMetadata=null,a==null?this.timestamp=WE.default.currentTimeMillis():this.timestamp=a}return r.prototype.getText=function(){return this.text},r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.getBarcodeFormat=function(){return this.format},r.prototype.getResultMetadata=function(){return this.resultMetadata},r.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},r.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},r.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(t.length+e.length);WE.default.arraycopy(t,0,n,0,t.length),WE.default.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.toString=function(){return this.text},r}();uA.default=x1e});var Ht=b(cA=>{"use strict";d();h();Object.defineProperty(cA,"__esModule",{value:!0});var fA;(function(r){r[r.AZTEC=0]="AZTEC",r[r.CODABAR=1]="CODABAR",r[r.CODE_39=2]="CODE_39",r[r.CODE_93=3]="CODE_93",r[r.CODE_128=4]="CODE_128",r[r.DATA_MATRIX=5]="DATA_MATRIX",r[r.EAN_8=6]="EAN_8",r[r.EAN_13=7]="EAN_13",r[r.ITF=8]="ITF",r[r.MAXICODE=9]="MAXICODE",r[r.PDF_417=10]="PDF_417",r[r.QR_CODE=11]="QR_CODE",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(fA||(fA={}));cA.default=fA});var Ku=b(dA=>{"use strict";d();h();Object.defineProperty(dA,"__esModule",{value:!0});var lA;(function(r){r[r.OTHER=0]="OTHER",r[r.ORIENTATION=1]="ORIENTATION",r[r.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",r[r.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",r[r.ISSUE_NUMBER=4]="ISSUE_NUMBER",r[r.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",r[r.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",r[r.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",r[r.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",r[r.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",r[r.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(lA||(lA={}));dA.default=lA});var Hp=b(hA=>{"use strict";d();h();Object.defineProperty(hA,"__esModule",{value:!0});var _1e=function(){function r(e,t,n,i,o,a){o===void 0&&(o=-1),a===void 0&&(a=-1),this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}return r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.setNumBits=function(e){this.numBits=e},r.prototype.getText=function(){return this.text},r.prototype.getByteSegments=function(){return this.byteSegments},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getErrorsCorrected=function(){return this.errorsCorrected},r.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},r.prototype.getErasures=function(){return this.erasures},r.prototype.setErasures=function(e){this.erasures=e},r.prototype.getOther=function(){return this.other},r.prototype.setOther=function(e){this.other=e},r.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},r.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},r.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},r}();hA.default=_1e});var gA=b(pA=>{"use strict";d();h();Object.defineProperty(pA,"__esModule",{value:!0});var w1e=ct(),E1e=function(){function r(){}return r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new w1e.default;return this.logTable[e]},r.addOrSubtract=function(e,t){return e^t},r}();pA.default=E1e});var Dm=b(yA=>{"use strict";d();h();Object.defineProperty(yA,"__esModule",{value:!0});var XE=gA(),XH=Xr(),Kp=ct(),b1e=function(){function r(e,t){if(t.length===0)throw new Kp.default;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var i=1;i<n&&t[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),XH.default.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,n;if(e===1){n=0;for(var i=0,o=t.length;i!==o;i++){var a=t[i];n=XE.default.addOrSubtract(n,a)}return n}n=t[0];for(var s=t.length,u=this.field,i=1;i<s;i++)n=XE.default.addOrSubtract(u.multiply(e,n),t[i]);return n},r.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Kp.default("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var i=t;t=n,n=i}var o=new Int32Array(n.length),a=n.length-t.length;XH.default.arraycopy(n,0,o,0,a);for(var s=a;s<n.length;s++)o[s]=XE.default.addOrSubtract(t[s-a],n[s]);return new r(this.field,o)},r.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Kp.default("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,n=t.length,i=e.coefficients,o=i.length,a=new Int32Array(n+o-1),s=this.field,u=0;u<n;u++)for(var f=t[u],l=0;l<o;l++)a[u+l]=XE.default.addOrSubtract(a[u+l],s.multiply(f,i[l]));return new r(s,a)},r.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,n=this.field,i=new Int32Array(t),o=this.coefficients,a=0;a<t;a++)i[a]=n.multiply(o[a],e);return new r(n,i)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Kp.default;if(t===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,o=new Int32Array(i+e),a=this.field,s=0;s<i;s++)o[s]=a.multiply(n[s],t);return new r(a,o)},r.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Kp.default("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Kp.default("Divide by 0");for(var t=this.field,n=t.getZero(),i=this,o=e.getCoefficient(e.getDegree()),a=t.inverse(o);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),u=t.multiply(i.getCoefficient(i.getDegree()),a),f=e.multiplyByMonomial(s,u),l=t.buildMonomial(s,u);n=n.addOrSubtract(l),i=i.addOrSubtract(f)}return[n,i]},r.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),t===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},r}();yA.default=b1e});var JE=b(Rm=>{"use strict";d();h();var I1e=Rm&&Rm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Rm,"__esModule",{value:!0});var T1e=wi(),S1e=function(r){I1e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(T1e.default);Rm.default=S1e});var Jf=b(Pm=>{"use strict";d();h();var C1e=Pm&&Pm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Pm,"__esModule",{value:!0});var mA=Dm(),A1e=gA(),O1e=Eo(),D1e=ct(),R1e=JE(),P1e=function(r){C1e(e,r);function e(t,n,i){var o=r.call(this)||this;o.primitive=t,o.size=n,o.generatorBase=i;for(var a=new Int32Array(n),s=1,u=0;u<n;u++)a[u]=s,s*=2,s>=n&&(s^=t,s&=n-1);o.expTable=a;for(var f=new Int32Array(n),u=0;u<n-1;u++)f[a[u]]=u;return o.logTable=f,o.zero=new mA.default(o,Int32Array.from([0])),o.one=new mA.default(o,Int32Array.from([1])),o}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new D1e.default;if(n===0)return this.zero;var i=new Int32Array(t+1);return i[0]=n,new mA.default(this,i)},e.prototype.inverse=function(t){if(t===0)throw new R1e.default;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+O1e.default.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(A1e.default);Pm.default=P1e});var vA=b(Bm=>{"use strict";d();h();var B1e=Bm&&Bm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Bm,"__esModule",{value:!0});var N1e=wi(),M1e=function(r){B1e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(N1e.default);Bm.default=M1e});var Vu=b(Nm=>{"use strict";d();h();var q1e=Nm&&Nm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Nm,"__esModule",{value:!0});var F1e=wi(),U1e=function(r){q1e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(F1e.default);Nm.default=U1e});var Vp=b(xA=>{"use strict";d();h();Object.defineProperty(xA,"__esModule",{value:!0});var L1e=Jf(),JH=Dm(),$E=vA(),k1e=Vu(),j1e=function(){function r(e){this.field=e}return r.prototype.decode=function(e,t){for(var n=this.field,i=new JH.default(n,e),o=new Int32Array(t),a=!0,s=0;s<t;s++){var u=i.evaluateAt(n.exp(s+n.getGeneratorBase()));o[o.length-1-s]=u,u!==0&&(a=!1)}if(!a)for(var f=new JH.default(n,o),l=this.runEuclideanAlgorithm(n.buildMonomial(t,1),f,t),p=l[0],g=l[1],v=this.findErrorLocations(p),_=this.findErrorMagnitudes(g,v),s=0;s<v.length;s++){var T=e.length-1-n.log(v[s]);if(T<0)throw new $E.default("Bad error location");e[T]=L1e.default.addOrSubtract(e[T],_[s])}},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var o=this.field,a=e,s=t,u=o.getZero(),f=o.getOne();s.getDegree()>=(n/2|0);){var l=a,p=u;if(a=s,u=f,a.isZero())throw new $E.default("r_{i-1} was zero");s=l;for(var g=o.getZero(),v=a.getCoefficient(a.getDegree()),_=o.inverse(v);s.getDegree()>=a.getDegree()&&!s.isZero();){var T=s.getDegree()-a.getDegree(),O=o.multiply(s.getCoefficient(s.getDegree()),_);g=g.addOrSubtract(o.buildMonomial(T,O)),s=s.addOrSubtract(a.multiplyByMonomial(T,O))}if(f=g.multiply(u).addOrSubtract(p),s.getDegree()>=a.getDegree())throw new k1e.default("Division algorithm failed to reduce polynomial?")}var R=f.getCoefficient(0);if(R===0)throw new $E.default("sigmaTilde(0) was zero");var D=o.inverse(R),U=f.multiplyScalar(D),K=s.multiplyScalar(D);return[U,K]},r.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(t),i=0,o=this.field,a=1;a<o.getSize()&&i<t;a++)e.evaluateAt(a)===0&&(n[i]=o.inverse(a),i++);if(i!==t)throw new $E.default("Error locator degree does not match number of roots");return n},r.prototype.findErrorMagnitudes=function(e,t){for(var n=t.length,i=new Int32Array(n),o=this.field,a=0;a<n;a++){for(var s=o.inverse(t[a]),u=1,f=0;f<n;f++)if(a!==f){var l=o.multiply(t[f],s),p=(l&1)===0?l|1:l&-2;u=o.multiply(u,p)}i[a]=o.multiply(e.evaluateAt(s),o.inverse(u)),o.getGeneratorBase()!==0&&(i[a]=o.multiply(i[a],s))}return i},r}();xA.default=j1e});var EA=b(wA=>{"use strict";d();h();Object.defineProperty(wA,"__esModule",{value:!0});var H1e=Hp(),ZE=Jf(),K1e=Vp(),V1e=Vu(),_A=pr(),G1e=eu(),QE=Eo(),En;(function(r){r[r.UPPER=0]="UPPER",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.DIGIT=3]="DIGIT",r[r.PUNCT=4]="PUNCT",r[r.BINARY=5]="BINARY"})(En||(En={}));var Y1e=function(){function r(){}return r.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),n=this.extractBits(t),i=this.correctBits(n),o=r.convertBoolArrayToByteArray(i),a=r.getEncodedData(i),s=new H1e.default(o,a,null,null);return s.setNumBits(i.length),s},r.highLevelDecode=function(e){return this.getEncodedData(e)},r.getEncodedData=function(e){for(var t=e.length,n=En.UPPER,i=En.UPPER,o="",a=0;a<t;)if(i===En.BINARY){if(t-a<5)break;var s=r.readCode(e,a,5);if(a+=5,s===0){if(t-a<11)break;s=r.readCode(e,a,11)+31,a+=11}for(var u=0;u<s;u++){if(t-a<8){a=t;break}var f=r.readCode(e,a,8);o+=G1e.default.castAsNonUtf8Char(f),a+=8}i=n}else{var l=i===En.DIGIT?4:5;if(t-a<l)break;var f=r.readCode(e,a,l);a+=l;var p=r.getCharacter(i,f);p.startsWith("CTRL_")?(n=i,i=r.getTable(p.charAt(5)),p.charAt(6)==="L"&&(n=i)):(o+=p,i=n)}return o},r.getTable=function(e){switch(e){case"L":return En.LOWER;case"P":return En.PUNCT;case"M":return En.MIXED;case"D":return En.DIGIT;case"B":return En.BINARY;case"U":default:return En.UPPER}},r.getCharacter=function(e,t){switch(e){case En.UPPER:return r.UPPER_TABLE[t];case En.LOWER:return r.LOWER_TABLE[t];case En.MIXED:return r.MIXED_TABLE[t];case En.PUNCT:return r.PUNCT_TABLE[t];case En.DIGIT:return r.DIGIT_TABLE[t];default:throw new V1e.default("Bad table")}},r.prototype.correctBits=function(e){var t,n;this.ddata.getNbLayers()<=2?(n=6,t=ZE.default.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=ZE.default.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=ZE.default.AZTEC_DATA_10):(n=12,t=ZE.default.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),o=e.length/n;if(o<i)throw new _A.default;for(var a=e.length%n,s=new Int32Array(o),u=0;u<o;u++,a+=n)s[u]=r.readCode(e,a,n);try{var f=new K1e.default(t);f.decode(s,o-i)}catch(O){throw new _A.default(O)}for(var l=(1<<n)-1,p=0,u=0;u<i;u++){var g=s[u];if(g===0||g===l)throw new _A.default;(g===1||g===l-1)&&p++}for(var v=new Array(i*n-p),_=0,u=0;u<i;u++){var g=s[u];if(g===1||g===l-1)v.fill(g>1,_,_+n-1),_+=n-1;else for(var T=n-1;T>=0;--T)v[_++]=(g&1<<T)!==0}return v},r.prototype.extractBits=function(e){var t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(t?11:14)+n*4,o=new Int32Array(i),a=new Array(this.totalBitsInLayer(n,t));if(t)for(var s=0;s<o.length;s++)o[s]=s;else for(var u=i+1+2*QE.default.truncDivision(QE.default.truncDivision(i,2)-1,15),f=i/2,l=QE.default.truncDivision(u,2),s=0;s<f;s++){var p=s+QE.default.truncDivision(s,15);o[f-s-1]=l-p-1,o[f+s]=l+p+1}for(var s=0,g=0;s<n;s++){for(var v=(n-s)*4+(t?9:12),_=s*2,T=i-1-_,O=0;O<v;O++)for(var R=O*2,D=0;D<2;D++)a[g+R+D]=e.get(o[_+D],o[_+O]),a[g+2*v+R+D]=e.get(o[_+O],o[T-D]),a[g+4*v+R+D]=e.get(o[T-D],o[T-O]),a[g+6*v+R+D]=e.get(o[T-O],o[_+D]);g+=v*8}return a},r.readCode=function(e,t,n){for(var i=0,o=t;o<t+n;o++)i<<=1,e[o]&&(i|=1);return i},r.readByte=function(e,t){var n=e.length-t;return n>=8?r.readCode(e,t,8):r.readCode(e,t,n)<<8-n},r.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),n=0;n<t.length;n++)t[n]=r.readByte(e,8*n);return t},r.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],r.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],r.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],r.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],r.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],r}();wA.default=Y1e});var as=b(bA=>{"use strict";d();h();Object.defineProperty(bA,"__esModule",{value:!0});var z1e=function(){function r(){}return r.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},r.distance=function(e,t,n,i){var o=e-n,a=t-i;return Math.sqrt(o*o+a*a)},r.sum=function(e){for(var t=0,n=0,i=e.length;n!==i;n++){var o=e[n];t+=o}return t},r}();bA.default=z1e});var TA=b(IA=>{"use strict";d();h();Object.defineProperty(IA,"__esModule",{value:!0});var W1e=function(){function r(){}return r.floatToIntBits=function(e){return e},r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r}();IA.default=W1e});var Or=b(SA=>{"use strict";d();h();Object.defineProperty(SA,"__esModule",{value:!0});var X1e=as(),$H=TA(),J1e=function(){function r(e,t){this.x=e,this.y=t}return r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.equals=function(e){if(e instanceof r){var t=e;return this.x===t.x&&this.y===t.y}return!1},r.prototype.hashCode=function(){return 31*$H.default.floatToIntBits(this.x)+$H.default.floatToIntBits(this.y)},r.prototype.toString=function(){return"("+this.x+","+this.y+")"},r.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),o,a,s;if(n>=t&&n>=i?(a=e[0],o=e[1],s=e[2]):i>=n&&i>=t?(a=e[1],o=e[0],s=e[2]):(a=e[2],o=e[0],s=e[1]),this.crossProductZ(o,a,s)<0){var u=o;o=s,s=u}e[0]=o,e[1]=a,e[2]=s},r.distance=function(e,t){return X1e.default.distance(e.x,e.y,t.x,t.y)},r.crossProductZ=function(e,t,n){var i=t.x,o=t.y;return(n.x-i)*(e.y-o)-(n.y-o)*(e.x-i)},r}();SA.default=J1e});var Mm=b(CA=>{"use strict";d();h();Object.defineProperty(CA,"__esModule",{value:!0});var $1e=function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r}();CA.default=$1e});var AA=b(qm=>{"use strict";d();h();var Z1e=qm&&qm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(qm,"__esModule",{value:!0});var Q1e=Mm(),epe=function(r){Z1e(e,r);function e(t,n,i,o,a){var s=r.call(this,t,n)||this;return s.compact=i,s.nbDatablocks=o,s.nbLayers=a,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(Q1e.default);qm.default=epe});var t6=b(OA=>{"use strict";d();h();Object.defineProperty(OA,"__esModule",{value:!0});var $f=Or(),e6=as(),Gp=je(),tpe=function(){function r(e,t,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=r.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var o=t/2|0;if(this.leftInit=n-o,this.rightInit=n+o,this.upInit=i-o,this.downInit=i+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Gp.default}return r.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,n=this.upInit,i=this.downInit,o=!1,a=!0,s=!1,u=!1,f=!1,l=!1,p=!1,g=this.width,v=this.height;a;){a=!1;for(var _=!0;(_||!u)&&t<g;)_=this.containsBlackPoint(n,i,t,!1),_?(t++,a=!0,u=!0):u||t++;if(t>=g){o=!0;break}for(var T=!0;(T||!f)&&i<v;)T=this.containsBlackPoint(e,t,i,!0),T?(i++,a=!0,f=!0):f||i++;if(i>=v){o=!0;break}for(var O=!0;(O||!l)&&e>=0;)O=this.containsBlackPoint(n,i,e,!1),O?(e--,a=!0,l=!0):l||e--;if(e<0){o=!0;break}for(var R=!0;(R||!p)&&n>=0;)R=this.containsBlackPoint(e,t,n,!0),R?(n--,a=!0,p=!0):p||n--;if(n<0){o=!0;break}a&&(s=!0)}if(!o&&s){for(var D=t-e,U=null,K=1;U===null&&K<D;K++)U=this.getBlackPointOnSegment(e,i-K,e+K,i);if(U==null)throw new Gp.default;for(var A=null,K=1;A===null&&K<D;K++)A=this.getBlackPointOnSegment(e,n+K,e+K,n);if(A==null)throw new Gp.default;for(var c=null,K=1;c===null&&K<D;K++)c=this.getBlackPointOnSegment(t,n+K,t-K,n);if(c==null)throw new Gp.default;for(var y=null,K=1;y===null&&K<D;K++)y=this.getBlackPointOnSegment(t,i-K,t-K,i);if(y==null)throw new Gp.default;return this.centerEdges(y,U,c,A)}else throw new Gp.default},r.prototype.getBlackPointOnSegment=function(e,t,n,i){for(var o=e6.default.round(e6.default.distance(e,t,n,i)),a=(n-e)/o,s=(i-t)/o,u=this.image,f=0;f<o;f++){var l=e6.default.round(e+f*a),p=e6.default.round(t+f*s);if(u.get(l,p))return new $f.default(l,p)}return null},r.prototype.centerEdges=function(e,t,n,i){var o=e.getX(),a=e.getY(),s=t.getX(),u=t.getY(),f=n.getX(),l=n.getY(),p=i.getX(),g=i.getY(),v=r.CORR;return o<this.width/2?[new $f.default(p-v,g+v),new $f.default(s+v,u+v),new $f.default(f-v,l-v),new $f.default(o+v,a-v)]:[new $f.default(p+v,g+v),new $f.default(s+v,u-v),new $f.default(f-v,l+v),new $f.default(o-v,a-v)]},r.prototype.containsBlackPoint=function(e,t,n,i){var o=this.image;if(i){for(var a=e;a<=t;a++)if(o.get(a,n))return!0}else for(var s=e;s<=t;s++)if(o.get(n,s))return!0;return!1},r.INIT_SIZE=10,r.CORR=1,r}();OA.default=tpe});var RA=b(DA=>{"use strict";d();h();Object.defineProperty(DA,"__esModule",{value:!0});var ZH=je(),rpe=function(){function r(){}return r.checkAndNudgePoints=function(e,t){for(var n=e.getWidth(),i=e.getHeight(),o=!0,a=0;a<t.length&&o;a+=2){var s=Math.floor(t[a]),u=Math.floor(t[a+1]);if(s<-1||s>n||u<-1||u>i)throw new ZH.default;o=!1,s===-1?(t[a]=0,o=!0):s===n&&(t[a]=n-1,o=!0),u===-1?(t[a+1]=0,o=!0):u===i&&(t[a+1]=i-1,o=!0)}o=!0;for(var a=t.length-2;a>=0&&o;a-=2){var s=Math.floor(t[a]),u=Math.floor(t[a+1]);if(s<-1||s>n||u<-1||u>i)throw new ZH.default;o=!1,s===-1?(t[a]=0,o=!0):s===n&&(t[a]=n-1,o=!0),u===-1?(t[a+1]=0,o=!0):u===i&&(t[a+1]=i-1,o=!0)}},r}();DA.default=rpe});var r6=b(PA=>{"use strict";d();h();Object.defineProperty(PA,"__esModule",{value:!0});var npe=function(){function r(e,t,n,i,o,a,s,u,f){this.a11=e,this.a21=t,this.a31=n,this.a12=i,this.a22=o,this.a32=a,this.a13=s,this.a23=u,this.a33=f}return r.quadrilateralToQuadrilateral=function(e,t,n,i,o,a,s,u,f,l,p,g,v,_,T,O){var R=r.quadrilateralToSquare(e,t,n,i,o,a,s,u),D=r.squareToQuadrilateral(f,l,p,g,v,_,T,O);return D.times(R)},r.prototype.transformPoints=function(e){for(var t=e.length,n=this.a11,i=this.a12,o=this.a13,a=this.a21,s=this.a22,u=this.a23,f=this.a31,l=this.a32,p=this.a33,g=0;g<t;g+=2){var v=e[g],_=e[g+1],T=o*v+u*_+p;e[g]=(n*v+a*_+f)/T,e[g+1]=(i*v+s*_+l)/T}},r.prototype.transformPointsWithValues=function(e,t){for(var n=this.a11,i=this.a12,o=this.a13,a=this.a21,s=this.a22,u=this.a23,f=this.a31,l=this.a32,p=this.a33,g=e.length,v=0;v<g;v++){var _=e[v],T=t[v],O=o*_+u*T+p;e[v]=(n*_+a*T+f)/O,t[v]=(i*_+s*T+l)/O}},r.squareToQuadrilateral=function(e,t,n,i,o,a,s,u){var f=e-n+o-s,l=t-i+a-u;if(f===0&&l===0)return new r(n-e,o-n,e,i-t,a-i,t,0,0,1);var p=n-o,g=s-o,v=i-a,_=u-a,T=p*_-g*v,O=(f*_-g*l)/T,R=(p*l-f*v)/T;return new r(n-e+O*n,s-e+R*s,e,i-t+O*i,u-t+R*u,t,O,R,1)},r.quadrilateralToSquare=function(e,t,n,i,o,a,s,u){return r.squareToQuadrilateral(e,t,n,i,o,a,s,u).buildAdjoint()},r.prototype.buildAdjoint=function(){return new r(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},r.prototype.times=function(e){return new r(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},r}();PA.default=npe});var BA=b(Fm=>{"use strict";d();h();var ipe=Fm&&Fm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Fm,"__esModule",{value:!0});var QH=RA(),ope=Yo(),ape=r6(),eK=je(),spe=function(r){ipe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,n,i,o,a,s,u,f,l,p,g,v,_,T,O,R,D,U,K){var A=ape.default.quadrilateralToQuadrilateral(o,a,s,u,f,l,p,g,v,_,T,O,R,D,U,K);return this.sampleGridWithTransform(t,n,i,A)},e.prototype.sampleGridWithTransform=function(t,n,i,o){if(n<=0||i<=0)throw new eK.default;for(var a=new ope.default(n,i),s=new Float32Array(2*n),u=0;u<i;u++){for(var f=s.length,l=u+.5,p=0;p<f;p+=2)s[p]=p/2+.5,s[p+1]=l;o.transformPoints(s),QH.default.checkAndNudgePoints(t,s);try{for(var p=0;p<f;p+=2)t.get(Math.floor(s[p]),Math.floor(s[p+1]))&&a.set(p/2,u)}catch{throw new eK.default}}return a},e}(QH.default);Fm.default=spe});var Um=b(NA=>{"use strict";d();h();Object.defineProperty(NA,"__esModule",{value:!0});var upe=BA(),fpe=function(){function r(){}return r.setGridSampler=function(e){r.gridSampler=e},r.getInstance=function(){return r.gridSampler},r.gridSampler=new upe.default,r}();NA.default=fpe});var i6=b(Lm=>{"use strict";d();h();Object.defineProperty(Lm,"__esModule",{value:!0});Lm.Point=void 0;var Zf=Or(),cpe=AA(),ss=as(),tK=t6(),lpe=Jf(),dpe=Vp(),n6=je(),hpe=Um(),rK=Eo(),eo=function(){function r(e,t){this.x=e,this.y=t}return r.prototype.toResultPoint=function(){return new Zf.default(this.getX(),this.getY())},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r}();Lm.Point=eo;var ppe=function(){function r(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return r.prototype.detect=function(){return this.detectMirror(!1)},r.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var o=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),a=this.getMatrixCornerPoints(n);return new cpe.default(o,a,this.compact,this.nbDataBlocks,this.nbLayers)},r.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new n6.default;var t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);for(var i=0,o=0;o<4;o++){var a=n[(this.shift+o)%4];this.compact?(i<<=7,i+=a>>1&127):(i<<=10,i+=(a>>2&31<<5)+(a>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},r.prototype.getRotation=function(e,t){var n=0;e.forEach(function(o,a,s){var u=(o>>t-2<<1)+(o&1);n=(n<<3)+u}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(rK.default.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new n6.default},r.prototype.getCorrectedParameterData=function(e,t){var n,i;t?(n=7,i=2):(n=10,i=4);for(var o=n-i,a=new Int32Array(n),s=n-1;s>=0;--s)a[s]=e&15,e>>=4;try{var u=new dpe.default(lpe.default.AZTEC_PARAM);u.decode(a,o)}catch{throw new n6.default}for(var f=0,s=0;s<i;s++)f=(f<<4)+a[s];return f},r.prototype.getBullsEyeCorners=function(e){var t=e,n=e,i=e,o=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(t,a,1,-1),u=this.getFirstDifferent(n,a,1,1),f=this.getFirstDifferent(i,a,-1,1),l=this.getFirstDifferent(o,a,-1,-1);if(this.nbCenterLayers>2){var p=this.distancePoint(l,s)*this.nbCenterLayers/(this.distancePoint(o,t)*(this.nbCenterLayers+2));if(p<.75||p>1.25||!this.isWhiteOrBlackRectangle(s,u,f,l))break}t=s,n=u,i=f,o=l,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new n6.default;this.compact=this.nbCenterLayers===5;var g=new Zf.default(t.getX()+.5,t.getY()-.5),v=new Zf.default(n.getX()+.5,n.getY()+.5),_=new Zf.default(i.getX()-.5,i.getY()+.5),T=new Zf.default(o.getX()-.5,o.getY()-.5);return this.expandSquare([g,v,_,T],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},r.prototype.getMatrixCenter=function(){var e,t,n,i;try{var o=new tK.default(this.image).detect();e=o[0],t=o[1],n=o[2],i=o[3]}catch{var a=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new eo(a+7,s-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new eo(a+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new eo(a-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new eo(a-7,s-7),!1,-1,-1).toResultPoint()}var u=ss.default.round((e.getX()+i.getX()+t.getX()+n.getX())/4),f=ss.default.round((e.getY()+i.getY()+t.getY()+n.getY())/4);try{var o=new tK.default(this.image,15,u,f).detect();e=o[0],t=o[1],n=o[2],i=o[3]}catch{e=this.getFirstDifferent(new eo(u+7,f-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new eo(u+7,f+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new eo(u-7,f+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new eo(u-7,f-7),!1,-1,-1).toResultPoint()}return u=ss.default.round((e.getX()+i.getX()+t.getX()+n.getX())/4),f=ss.default.round((e.getY()+i.getY()+t.getY()+n.getY())/4),new eo(u,f)},r.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},r.prototype.sampleGrid=function(e,t,n,i,o){var a=hpe.default.getInstance(),s=this.getDimension(),u=s/2-this.nbCenterLayers,f=s/2+this.nbCenterLayers;return a.sampleGrid(e,s,s,u,u,f,u,f,f,u,f,t.getX(),t.getY(),n.getX(),n.getY(),i.getX(),i.getY(),o.getX(),o.getY())},r.prototype.sampleLine=function(e,t,n){for(var i=0,o=this.distanceResultPoint(e,t),a=o/n,s=e.getX(),u=e.getY(),f=a*(t.getX()-e.getX())/o,l=a*(t.getY()-e.getY())/o,p=0;p<n;p++)this.image.get(ss.default.round(s+p*f),ss.default.round(u+p*l))&&(i|=1<<n-p-1);return i},r.prototype.isWhiteOrBlackRectangle=function(e,t,n,i){var o=3;e=new eo(e.getX()-o,e.getY()+o),t=new eo(t.getX()-o,t.getY()-o),n=new eo(n.getX()+o,n.getY()-o),i=new eo(i.getX()+o,i.getY()+o);var a=this.getColor(i,e);if(a===0)return!1;var s=this.getColor(e,t);return s!==a||(s=this.getColor(t,n),s!==a)?!1:(s=this.getColor(n,i),s===a)},r.prototype.getColor=function(e,t){for(var n=this.distancePoint(e,t),i=(t.getX()-e.getX())/n,o=(t.getY()-e.getY())/n,a=0,s=e.getX(),u=e.getY(),f=this.image.get(e.getX(),e.getY()),l=Math.ceil(n),p=0;p<l;p++)s+=i,u+=o,this.image.get(ss.default.round(s),ss.default.round(u))!==f&&a++;var g=a/n;return g>.1&&g<.9?0:g<=.1===f?1:-1},r.prototype.getFirstDifferent=function(e,t,n,i){for(var o=e.getX()+n,a=e.getY()+i;this.isValid(o,a)&&this.image.get(o,a)===t;)o+=n,a+=i;for(o-=n,a-=i;this.isValid(o,a)&&this.image.get(o,a)===t;)o+=n;for(o-=n;this.isValid(o,a)&&this.image.get(o,a)===t;)a+=i;return a-=i,new eo(o,a)},r.prototype.expandSquare=function(e,t,n){var i=n/(2*t),o=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,f=new Zf.default(s+i*o,u+i*a),l=new Zf.default(s-i*o,u-i*a);o=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;var p=new Zf.default(s+i*o,u+i*a),g=new Zf.default(s-i*o,u-i*a),v=[f,p,l,g];return v},r.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},r.prototype.isValidPoint=function(e){var t=ss.default.round(e.getX()),n=ss.default.round(e.getY());return this.isValid(t,n)},r.prototype.distancePoint=function(e,t){return ss.default.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.distanceResultPoint=function(e,t){return ss.default.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(rK.default.truncDivision(this.nbLayers-4,8)+1)+15},r}();Lm.default=ppe});var o6=b(MA=>{"use strict";d();h();Object.defineProperty(MA,"__esModule",{value:!0});var gpe=bi(),ype=Ht(),mpe=Ei(),nK=Ku(),vpe=Xr(),iK=EA(),xpe=i6(),_pe=function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=null,i=new xpe.default(e.getBlackMatrix()),o=null,a=null;try{var s=i.detectMirror(!1);o=s.getPoints(),this.reportFoundResultPoints(t,o),a=new iK.default().decode(s)}catch(p){n=p}if(a==null)try{var s=i.detectMirror(!0);o=s.getPoints(),this.reportFoundResultPoints(t,o),a=new iK.default().decode(s)}catch(p){throw n!=null?n:p}var u=new gpe.default(a.getText(),a.getRawBytes(),a.getNumBits(),o,ype.default.AZTEC,vpe.default.currentTimeMillis()),f=a.getByteSegments();f!=null&&u.putMetadata(nK.default.BYTE_SEGMENTS,f);var l=a.getECLevel();return l!=null&&u.putMetadata(nK.default.ERROR_CORRECTION_LEVEL,l),u},r.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var n=e.get(mpe.default.NEED_RESULT_POINT_CALLBACK);n!=null&&t.forEach(function(i,o,a){n.foundPossibleResultPoint(i)})}},r.prototype.reset=function(){},r}();MA.default=_pe});var oK=b(Yp=>{"use strict";d();h();var wpe=Yp&&Yp.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Yp,"__esModule",{value:!0});Yp.BrowserAztecCodeReader=void 0;var Epe=k0(),bpe=o6(),Ipe=function(r){wpe(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new bpe.default,t)||this}return e}(Epe.BrowserCodeReader);Yp.BrowserAztecCodeReader=Ipe});var Gu=b(FA=>{"use strict";d();h();Object.defineProperty(FA,"__esModule",{value:!0});var Tpe=ku(),a6=Ei(),s6=Ku(),qA=Or(),km=je(),Spe=function(){function r(){}return r.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var n=t&&t.get(a6.default.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),o=this.doDecode(i,t),a=o.getResultMetadata(),s=270;a!==null&&a.get(s6.default.ORIENTATION)===!0&&(s=s+a.get(s6.default.ORIENTATION)%360),o.putMetadata(s6.default.ORIENTATION,s);var u=o.getResultPoints();if(u!==null)for(var f=i.getHeight(),l=0;l<u.length;l++)u[l]=new qA.default(f-u[l].getY()-1,u[l].getX());return o}else throw new km.default}},r.prototype.reset=function(){},r.prototype.doDecode=function(e,t){var n=e.getWidth(),i=e.getHeight(),o=new Tpe.default(n),a=t&&t.get(a6.default.TRY_HARDER)===!0,s=Math.max(1,i>>(a?8:5)),u;a?u=i:u=15;for(var f=Math.trunc(i/2),l=0;l<u;l++){var p=Math.trunc((l+1)/2),g=(l&1)===0,v=f+s*(g?p:-p);if(v<0||v>=i)break;try{o=e.getBlackRow(v,o)}catch{continue}for(var _=function(D){if(D===1&&(o.reverse(),t&&t.get(a6.default.NEED_RESULT_POINT_CALLBACK)===!0)){var U=new Map;t.forEach(function(c,y){return U.set(y,c)}),U.delete(a6.default.NEED_RESULT_POINT_CALLBACK),t=U}try{var K=T.decodeRow(v,o,t);if(D===1){K.putMetadata(s6.default.ORIENTATION,180);var A=K.getResultPoints();A!==null&&(A[0]=new qA.default(n-A[0].getX()-1,A[0].getY()),A[1]=new qA.default(n-A[1].getX()-1,A[1].getY()))}return{value:K}}catch{}},T=this,O=0;O<2;O++){var R=_(O);if(typeof R=="object")return R.value}}throw new km.default},r.recordPattern=function(e,t,n){for(var i=n.length,o=0;o<i;o++)n[o]=0;var a=e.getSize();if(t>=a)throw new km.default;for(var s=!e.get(t),u=0,f=t;f<a;){if(e.get(f)!==s)n[u]++;else{if(++u===i)break;n[u]=1,s=!s}f++}if(!(u===i||u===i-1&&f===a))throw new km.default},r.recordPatternInReverse=function(e,t,n){for(var i=n.length,o=e.get(t);t>0&&i>=0;)e.get(--t)!==o&&(i--,o=!o);if(i>=0)throw new km.default;r.recordPattern(e,t+1,n)},r.patternMatchVariance=function(e,t,n){for(var i=e.length,o=0,a=0,s=0;s<i;s++)o+=e[s],a+=t[s];if(o<a)return Number.POSITIVE_INFINITY;var u=o/a;n*=u;for(var f=0,l=0;l<i;l++){var p=e[l],g=t[l]*u,v=p>g?p-g:g-p;if(v>n)return Number.POSITIVE_INFINITY;f+=v}return f/o},r}();FA.default=Spe});var LA=b(jm=>{"use strict";d();h();var Cpe=jm&&jm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(jm,"__esModule",{value:!0});var Ape=Ht(),Ope=Zs(),Dpe=Ei(),aK=pr(),u6=je(),Rpe=bi(),sK=Or(),UA=Gu(),Ppe=function(r){Cpe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var n=t.getSize(),i=t.getNextSet(0),o=0,a=Int32Array.from([0,0,0,0,0,0]),s=i,u=!1,f=6,l=i;l<n;l++)if(t.get(l)!==u)a[o]++;else{if(o===f-1){for(var p=e.MAX_AVG_VARIANCE,g=-1,v=e.CODE_START_A;v<=e.CODE_START_C;v++){var _=UA.default.patternMatchVariance(a,e.CODE_PATTERNS[v],e.MAX_INDIVIDUAL_VARIANCE);_<p&&(p=_,g=v)}if(g>=0&&t.isRange(Math.max(0,s-(l-s)/2),s,!1))return Int32Array.from([s,l,g]);s+=a[0]+a[1],a=a.slice(2,a.length-1),a[o-1]=0,a[o]=0,o--}else o++;a[o]=1,u=!u}throw new u6.default},e.decodeCode=function(t,n,i){UA.default.recordPattern(t,i,n);for(var o=e.MAX_AVG_VARIANCE,a=-1,s=0;s<e.CODE_PATTERNS.length;s++){var u=e.CODE_PATTERNS[s],f=this.patternMatchVariance(n,u,e.MAX_INDIVIDUAL_VARIANCE);f<o&&(o=f,a=s)}if(a>=0)return a;throw new u6.default},e.prototype.decodeRow=function(t,n,i){var o=i&&i.get(Dpe.default.ASSUME_GS1)===!0,a=e.findStartPattern(n),s=a[2],u=0,f=new Uint8Array(20);f[u++]=s;var l;switch(s){case e.CODE_START_A:l=e.CODE_CODE_A;break;case e.CODE_START_B:l=e.CODE_CODE_B;break;case e.CODE_START_C:l=e.CODE_CODE_C;break;default:throw new aK.default}for(var p=!1,g=!1,v="",_=a[0],T=a[1],O=Int32Array.from([0,0,0,0,0,0]),R=0,D=0,U=s,K=0,A=!0,c=!1,y=!1;!p;){var x=g;switch(g=!1,R=D,D=e.decodeCode(n,O,T),f[u++]=D,D!==e.CODE_STOP&&(A=!0),D!==e.CODE_STOP&&(K++,U+=K*D),_=T,T+=O.reduce(function(z,X){return z+X},0),D){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new aK.default}switch(l){case e.CODE_CODE_A:if(D<64)y===c?v+=String.fromCharCode(" ".charCodeAt(0)+D):v+=String.fromCharCode(" ".charCodeAt(0)+D+128),y=!1;else if(D<96)y===c?v+=String.fromCharCode(D-64):v+=String.fromCharCode(D+64),y=!1;else switch(D!==e.CODE_STOP&&(A=!1),D){case e.CODE_FNC_1:o&&(v.length===0?v+="]C1":v+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!c&&y?(c=!0,y=!1):c&&y?(c=!1,y=!1):y=!0;break;case e.CODE_SHIFT:g=!0,l=e.CODE_CODE_B;break;case e.CODE_CODE_B:l=e.CODE_CODE_B;break;case e.CODE_CODE_C:l=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_B:if(D<96)y===c?v+=String.fromCharCode(" ".charCodeAt(0)+D):v+=String.fromCharCode(" ".charCodeAt(0)+D+128),y=!1;else switch(D!==e.CODE_STOP&&(A=!1),D){case e.CODE_FNC_1:o&&(v.length===0?v+="]C1":v+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!c&&y?(c=!0,y=!1):c&&y?(c=!1,y=!1):y=!0;break;case e.CODE_SHIFT:g=!0,l=e.CODE_CODE_A;break;case e.CODE_CODE_A:l=e.CODE_CODE_A;break;case e.CODE_CODE_C:l=e.CODE_CODE_C;break;case e.CODE_STOP:p=!0;break}break;case e.CODE_CODE_C:if(D<100)D<10&&(v+="0"),v+=D;else switch(D!==e.CODE_STOP&&(A=!1),D){case e.CODE_FNC_1:o&&(v.length===0?v+="]C1":v+=String.fromCharCode(29));break;case e.CODE_CODE_A:l=e.CODE_CODE_A;break;case e.CODE_CODE_B:l=e.CODE_CODE_B;break;case e.CODE_STOP:p=!0;break}break}x&&(l=l===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var M=T-_;if(T=n.getNextUnset(T),!n.isRange(T,Math.min(n.getSize(),T+(T-_)/2),!1))throw new u6.default;if(U-=K*R,U%103!==R)throw new Ope.default;var L=v.length;if(L===0)throw new u6.default;L>0&&A&&(l===e.CODE_CODE_C?v=v.substring(0,L-2):v=v.substring(0,L-1));for(var ce=(a[1]+a[0])/2,q=_+M/2,w=f.length,S=new Uint8Array(w),B=0;B<w;B++)S[B]=f[B];var V=[new sK.default(ce,t),new sK.default(q,t)];return new Rpe.default(v,S,0,V,Ape.default.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(UA.default);jm.default=Ppe});var jA=b(dh=>{"use strict";d();h();var Bpe=dh&&dh.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kA=dh&&dh.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(dh,"__esModule",{value:!0});var Npe=Ht(),Mpe=Zs(),f6=pr(),Hm=je(),qpe=Gu(),Fpe=bi(),uK=Or(),Upe=function(r){Bpe(e,r);function e(t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=r.call(this)||this;return i.usingCheckDigit=t,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(t,n,i){var o,a,s,u,f=this.counters;f.fill(0),this.decodeRowResult="";var l=e.findAsteriskPattern(n,f),p=n.getNextSet(l[1]),g=n.getSize(),v,_;do{e.recordPattern(n,p,f);var T=e.toNarrowWidePattern(f);if(T<0)throw new Hm.default;v=e.patternToChar(T),this.decodeRowResult+=v,_=p;try{for(var O=(o=void 0,kA(f)),R=O.next();!R.done;R=O.next()){var D=R.value;p+=D}}catch(w){o={error:w}}finally{try{R&&!R.done&&(a=O.return)&&a.call(O)}finally{if(o)throw o.error}}p=n.getNextSet(p)}while(v!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var U=0;try{for(var K=kA(f),A=K.next();!A.done;A=K.next()){var D=A.value;U+=D}}catch(w){s={error:w}}finally{try{A&&!A.done&&(u=K.return)&&u.call(K)}finally{if(s)throw s.error}}var c=p-_-U;if(p!==g&&c*2<U)throw new Hm.default;if(this.usingCheckDigit){for(var y=this.decodeRowResult.length-1,x=0,M=0;M<y;M++)x+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(M));if(this.decodeRowResult.charAt(y)!==e.ALPHABET_STRING.charAt(x%43))throw new Mpe.default;this.decodeRowResult=this.decodeRowResult.substring(0,y)}if(this.decodeRowResult.length===0)throw new Hm.default;var L;this.extendedMode?L=e.decodeExtended(this.decodeRowResult):L=this.decodeRowResult;var ce=(l[1]+l[0])/2,q=_+U/2;return new Fpe.default(L,null,0,[new uK.default(ce,t),new uK.default(q,t)],Npe.default.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,n){for(var i=t.getSize(),o=t.getNextSet(0),a=0,s=o,u=!1,f=n.length,l=o;l<i;l++)if(t.get(l)!==u)n[a]++;else{if(a===f-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,s-Math.floor((l-s)/2)),s,!1))return[s,l];s+=n[0]+n[1],n.copyWithin(0,2,2+a-1),n[a-1]=0,n[a]=0,a--}else a++;n[a]=1,u=!u}throw new Hm.default},e.toNarrowWidePattern=function(t){var n,i,o=t.length,a=0,s;do{var u=2147483647;try{for(var f=(n=void 0,kA(t)),l=f.next();!l.done;l=f.next()){var p=l.value;p<u&&p>a&&(u=p)}}catch(T){n={error:T}}finally{try{l&&!l.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}a=u,s=0;for(var g=0,v=0,_=0;_<o;_++){var p=t[_];p>a&&(v|=1<<o-1-_,s++,g+=p)}if(s===3){for(var _=0;_<o&&s>0;_++){var p=t[_];if(p>a&&(s--,p*2>=g))return-1}return v}}while(s>3);return-1},e.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);if(t===e.ASTERISK_ENCODING)return"*";throw new Hm.default},e.decodeExtended=function(t){for(var n=t.length,i="",o=0;o<n;o++){var a=t.charAt(o);if(a==="+"||a==="$"||a==="%"||a==="/"){var s=t.charAt(o+1),u="\0";switch(a){case"+":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)+32);else throw new f6.default;break;case"$":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)-64);else throw new f6.default;break;case"%":if(s>="A"&&s<="E")u=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")u=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")u=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")u="\0";else if(s==="V")u="@";else if(s==="W")u="`";else if(s==="X"||s==="Y"||s==="Z")u="\x7F";else throw new f6.default;break;case"/":if(s>="A"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")u=":";else throw new f6.default;break}i+=u,o++}else i+=a}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(qpe.default);dh.default=Upe});var HA=b(hh=>{"use strict";d();h();var Lpe=hh&&hh.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kpe=hh&&hh.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(hh,"__esModule",{value:!0});var jpe=Ht(),Hpe=Ei(),Kpe=pr(),Km=je(),Vpe=bi(),fK=Or(),Gpe=Ar(),Ype=Xr(),c6=Gu(),zpe=function(r){Lpe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,n,i){var o,a,s=this.decodeStart(n),u=this.decodeEnd(n),f=new Gpe.default;e.decodeMiddle(n,s[1],u[0],f);var l=f.toString(),p=null;i!=null&&(p=i.get(Hpe.default.ALLOWED_LENGTHS)),p==null&&(p=e.DEFAULT_ALLOWED_LENGTHS);var g=l.length,v=!1,_=0;try{for(var T=kpe(p),O=T.next();!O.done;O=T.next()){var R=O.value;if(g===R){v=!0;break}R>_&&(_=R)}}catch(K){o={error:K}}finally{try{O&&!O.done&&(a=T.return)&&a.call(T)}finally{if(o)throw o.error}}if(!v&&g>_&&(v=!0),!v)throw new Kpe.default;var D=[new fK.default(s[1],t),new fK.default(u[0],t)],U=new Vpe.default(l,null,0,D,jpe.default.ITF,new Date().getTime());return U},e.decodeMiddle=function(t,n,i,o){var a=new Int32Array(10),s=new Int32Array(5),u=new Int32Array(5);for(a.fill(0),s.fill(0),u.fill(0);n<i;){c6.default.recordPattern(t,n,a);for(var f=0;f<5;f++){var l=2*f;s[f]=a[l],u[f]=a[l+1]}var p=e.decodeDigit(s);o.append(p.toString()),p=this.decodeDigit(u),o.append(p.toString()),a.forEach(function(g){n+=g})}},e.prototype.decodeStart=function(t){var n=e.skipWhiteSpace(t),i=e.findGuardPattern(t,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i},e.prototype.validateQuietZone=function(t,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var o=n-1;i>0&&o>=0&&!t.get(o);o--)i--;if(i!==0)throw new Km.default},e.skipWhiteSpace=function(t){var n=t.getSize(),i=t.getNextSet(0);if(i===n)throw new Km.default;return i},e.prototype.decodeEnd=function(t){t.reverse();try{var n=e.skipWhiteSpace(t),i=void 0;try{i=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[0])}catch(a){a instanceof Km.default&&(i=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);var o=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-o,i}finally{t.reverse()}},e.findGuardPattern=function(t,n,i){var o=i.length,a=new Int32Array(o),s=t.getSize(),u=!1,f=0,l=n;a.fill(0);for(var p=n;p<s;p++)if(t.get(p)!==u)a[f]++;else{if(f===o-1){if(c6.default.patternMatchVariance(a,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[l,p];l+=a[0]+a[1],Ype.default.arraycopy(a,2,a,0,f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,u=!u}throw new Km.default},e.decodeDigit=function(t){for(var n=e.MAX_AVG_VARIANCE,i=-1,o=e.PATTERNS.length,a=0;a<o;a++){var s=e.PATTERNS[a],u=c6.default.patternMatchVariance(t,s,e.MAX_INDIVIDUAL_VARIANCE);u<n?(n=u,i=a):u===n&&(i=-1)}if(i>=0)return i%10;throw new Km.default},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(c6.default);hh.default=zpe});var Gm=b(Vm=>{"use strict";d();h();var Wpe=Vm&&Vm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Vm,"__esModule",{value:!0});var KA=Gu(),cK=je(),lK=pr(),Xpe=function(r){Wpe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var n=!1,i,o=0,a=Int32Array.from([0,0,0]);!n;){a=Int32Array.from([0,0,0]),i=e.findGuardPattern(t,o,!1,this.START_END_PATTERN,a);var s=i[0];o=i[1];var u=s-(o-s);u>=0&&(n=t.isRange(u,s,!1))}return i},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var i=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,i=0,o=n-1;o>=0;o-=2){var a=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(a<0||a>9)throw new lK.default;i+=a}i*=3;for(var o=n-2;o>=0;o-=2){var a=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(a<0||a>9)throw new lK.default;i+=a}return(1e3-i)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,n,i,o){return this.findGuardPattern(t,n,i,o,new Int32Array(o.length))},e.findGuardPattern=function(t,n,i,o,a){var s=t.getSize();n=i?t.getNextUnset(n):t.getNextSet(n);for(var u=0,f=n,l=o.length,p=i,g=n;g<s;g++)if(t.get(g)!==p)a[u]++;else{if(u===l-1){if(KA.default.patternMatchVariance(a,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([f,g]);f+=a[0]+a[1];for(var v=a.slice(2,a.length-1),_=0;_<u-1;_++)a[_]=v[_];a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,p=!p}throw new cK.default},e.decodeDigit=function(t,n,i,o){this.recordPattern(t,i,n);for(var a=this.MAX_AVG_VARIANCE,s=-1,u=o.length,f=0;f<u;f++){var l=o[f],p=KA.default.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);p<a&&(a=p,s=f)}if(s>=0)return s;throw new cK.default},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(KA.default);Vm.default=Xpe});var pK=b(Ym=>{"use strict";d();h();var Jpe=Ym&&Ym.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ym,"__esModule",{value:!0});var $pe=Ht(),dK=Gm(),Zpe=bi(),hK=Or(),Qpe=Ku(),VA=je(),ege=function(){function r(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(t,n,i),a=i.toString(),s=r.parseExtensionString(a),u=[new hK.default((n[0]+n[1])/2,e),new hK.default(o,e)],f=new Zpe.default(a,null,0,u,$pe.default.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&f.putAllMetadata(s),f},r.prototype.decodeMiddle=function(e,t,n){var i,o,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),u=t[1],f=0,l=0;l<5&&u<s;l++){var p=dK.default.decodeDigit(e,a,u,dK.default.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+p%10);try{for(var g=(i=void 0,Jpe(a)),v=g.next();!v.done;v=g.next()){var _=v.value;u+=_}}catch(O){i={error:O}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}p>=10&&(f|=1<<4-l),l!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(n.length!==5)throw new VA.default;var T=this.determineCheckDigit(f);if(r.extensionChecksum(n.toString())!==T)throw new VA.default;return u},r.extensionChecksum=function(e){for(var t=e.length,n=0,i=t-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(var i=t-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);return n*=3,n%10},r.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new VA.default},r.parseExtensionString=function(e){if(e.length!==5)return null;var t=r.parseExtension5String(e);return t==null?null:new Map([[Qpe.default.SUGGESTED_PRICE,t]])},r.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="\xA3";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),o=n%100,a=o<10?"0"+o:o.toString();return t+i+"."+a},r}();Ym.default=ege});var vK=b(zm=>{"use strict";d();h();var tge=zm&&zm.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(zm,"__esModule",{value:!0});var rge=Ht(),gK=Gm(),nge=bi(),yK=Or(),ige=Ku(),mK=je(),oge=function(){function r(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(t,n,i),a=i.toString(),s=r.parseExtensionString(a),u=[new yK.default((n[0]+n[1])/2,e),new yK.default(o,e)],f=new nge.default(a,null,0,u,rge.default.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&f.putAllMetadata(s),f},r.prototype.decodeMiddle=function(e,t,n){var i,o,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),u=t[1],f=0,l=0;l<2&&u<s;l++){var p=gK.default.decodeDigit(e,a,u,gK.default.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+p%10);try{for(var g=(i=void 0,tge(a)),v=g.next();!v.done;v=g.next()){var _=v.value;u+=_}}catch(T){i={error:T}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}p>=10&&(f|=1<<1-l),l!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(n.length!==2)throw new mK.default;if(parseInt(n.toString())%4!==f)throw new mK.default;return u},r.parseExtensionString=function(e){return e.length!==2?null:new Map([[ige.default.ISSUE_NUMBER,parseInt(e)]])},r}();zm.default=oge});var xK=b(GA=>{"use strict";d();h();Object.defineProperty(GA,"__esModule",{value:!0});var age=Gm(),sge=pK(),uge=vK(),fge=function(){function r(){}return r.decodeRow=function(e,t,n){var i=age.default.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var o=new sge.default;return o.decodeRow(e,t,i)}catch{var a=new uge.default;return a.decodeRow(e,t,i)}},r.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),r}();GA.default=fge});var Jm=b(Xm=>{"use strict";d();h();var cge=Xm&&Xm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Xm,"__esModule",{value:!0});var _K=Ht(),wK=Ei(),lge=bi(),dge=Ku(),Wm=Or(),hge=xK(),pge=Gm(),EK=je(),YA=pr(),gge=Zs(),yge=function(r){cge(e,r);function e(){var t=r.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],o=new Int32Array(i.length),a=0;a<i.length;a++)o[a]=i[i.length-a-1];e.L_AND_G_PATTERNS[n]=o}return t}return e.prototype.decodeRow=function(t,n,i){var o=e.findStartGuardPattern(n),a=i==null?null:i.get(wK.default.NEED_RESULT_POINT_CALLBACK);if(a!=null){var s=new Wm.default((o[0]+o[1])/2,t);a.foundPossibleResultPoint(s)}var u=this.decodeMiddle(n,o,this.decodeRowStringBuffer),f=u.rowOffset,l=u.resultString;if(a!=null){var p=new Wm.default(f,t);a.foundPossibleResultPoint(p)}var g=e.decodeEnd(n,f);if(a!=null){var v=new Wm.default((g[0]+g[1])/2,t);a.foundPossibleResultPoint(v)}var _=g[1],T=_+(_-g[0]);if(T>=n.getSize()||!n.isRange(_,T,!1))throw new EK.default;var O=l.toString();if(O.length<8)throw new YA.default;if(!e.checkChecksum(O))throw new gge.default;var R=(o[1]+o[0])/2,D=(g[1]+g[0])/2,U=this.getBarcodeFormat(),K=[new Wm.default(R,t),new Wm.default(D,t)],A=new lge.default(O,null,0,K,U,new Date().getTime()),c=0;try{var y=hge.default.decodeRow(t,n,g[1]);A.putMetadata(dge.default.UPC_EAN_EXTENSION,y.getText()),A.putAllMetadata(y.getResultMetadata()),A.addResultPoints(y.getResultPoints()),c=y.getText().length}catch{}var x=i==null?null:i.get(wK.default.ALLOWED_EAN_EXTENSIONS);if(x!=null){var M=!1;for(var L in x)if(c.toString()===L){M=!0;break}if(!M)throw new EK.default}return U===_K.default.EAN_13||_K.default.UPC_A,A},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var i=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,i=0,o=n-1;o>=0;o-=2){var a=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(a<0||a>9)throw new YA.default;i+=a}i*=3;for(var o=n-2;o>=0;o-=2){var a=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(a<0||a>9)throw new YA.default;i+=a}return(1e3-i)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(pge.default);Xm.default=yge});var l6=b(ph=>{"use strict";d();h();var mge=ph&&ph.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bK=ph&&ph.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ph,"__esModule",{value:!0});var vge=Ht(),j0=Jm(),xge=je(),_ge=function(r){mge(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,i){var o,a,s,u,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var l=t.getSize(),p=n[1],g=0,v=0;v<6&&p<l;v++){var _=j0.default.decodeDigit(t,f,p,j0.default.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+_%10);try{for(var T=(o=void 0,bK(f)),O=T.next();!O.done;O=T.next()){var R=O.value;p+=R}}catch(A){o={error:A}}finally{try{O&&!O.done&&(a=T.return)&&a.call(T)}finally{if(o)throw o.error}}_>=10&&(g|=1<<5-v)}i=e.determineFirstDigit(i,g);var D=j0.default.findGuardPattern(t,p,!0,j0.default.MIDDLE_PATTERN,new Int32Array(j0.default.MIDDLE_PATTERN.length).fill(0));p=D[1];for(var v=0;v<6&&p<l;v++){var _=j0.default.decodeDigit(t,f,p,j0.default.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+_);try{for(var U=(s=void 0,bK(f)),K=U.next();!K.done;K=U.next()){var R=K.value;p+=R}}catch(y){s={error:y}}finally{try{K&&!K.done&&(u=U.return)&&u.call(U)}finally{if(s)throw s.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return vge.default.EAN_13},e.determineFirstDigit=function(t,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode("0".charCodeAt(0)+i)+t,t;throw new xge.default},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(j0.default);ph.default=_ge});var TK=b(gh=>{"use strict";d();h();var wge=gh&&gh.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),IK=gh&&gh.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(gh,"__esModule",{value:!0});var Ege=Ht(),H0=Jm(),bge=function(r){wge(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,i){var o,a,s,u,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var l=t.getSize(),p=n[1],g=0;g<4&&p<l;g++){var v=H0.default.decodeDigit(t,f,p,H0.default.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+v);try{for(var _=(o=void 0,IK(f)),T=_.next();!T.done;T=_.next()){var O=T.value;p+=O}}catch(K){o={error:K}}finally{try{T&&!T.done&&(a=_.return)&&a.call(_)}finally{if(o)throw o.error}}}var R=H0.default.findGuardPattern(t,p,!0,H0.default.MIDDLE_PATTERN,new Int32Array(H0.default.MIDDLE_PATTERN.length).fill(0));p=R[1];for(var g=0;g<4&&p<l;g++){var v=H0.default.decodeDigit(t,f,p,H0.default.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+v);try{for(var D=(s=void 0,IK(f)),U=D.next();!U.done;U=D.next()){var O=U.value;p+=O}}catch(c){s={error:c}}finally{try{U&&!U.done&&(u=D.return)&&u.call(D)}finally{if(s)throw s.error}}}return{rowOffset:p,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ege.default.EAN_8},e}(H0.default);gh.default=bge});var CK=b($m=>{"use strict";d();h();var Ige=$m&&$m.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty($m,"__esModule",{value:!0});var SK=Ht(),Tge=bi(),Sge=je(),Cge=l6(),Age=Jm(),Oge=function(r){Ige(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.ean13Reader=new Cge.default,t}return e.prototype.getBarcodeFormat=function(){return SK.default.UPC_A},e.prototype.decode=function(t,n){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,n,i))},e.prototype.decodeMiddle=function(t,n,i){return this.ean13Reader.decodeMiddle(t,n,i)},e.prototype.maybeReturnResult=function(t){var n=t.getText();if(n.charAt(0)==="0"){var i=new Tge.default(n.substring(1),null,null,t.getResultPoints(),SK.default.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new Sge.default},e.prototype.reset=function(){this.ean13Reader.reset()},e}(Age.default);$m.default=Oge});var DK=b(yh=>{"use strict";d();h();var Dge=yh&&yh.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rge=yh&&yh.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(yh,"__esModule",{value:!0});var AK=Jm(),OK=Ar(),Pge=je(),Bge=Ht(),Nge=function(r){Dge(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,n,i){var o,a,s=this.decodeMiddleCounters.map(function(O){return O});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=t.getSize(),f=n[1],l=0,p=0;p<6&&f<u;p++){var g=e.decodeDigit(t,s,f,e.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+g%10);try{for(var v=(o=void 0,Rge(s)),_=v.next();!_.done;_=v.next()){var T=_.value;f+=T}}catch(O){o={error:O}}finally{try{_&&!_.done&&(a=v.return)&&a.call(v)}finally{if(o)throw o.error}}g>=10&&(l|=1<<5-p)}return e.determineNumSysAndCheckDigit(new OK.default(i),l),f},e.prototype.decodeEnd=function(t,n){return e.findGuardPatternWithoutCounters(t,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return AK.default.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,n){for(var i=0;i<=1;i++)for(var o=0;o<10;o++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){t.insert(0,"0"+i),t.append("0"+o);return}throw Pge.default.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Bge.default.UPC_E},e.convertUPCEtoUPCA=function(t){var n=t.slice(1,7).split("").map(function(a){return a.charCodeAt(0)}),i=new OK.default;i.append(t.charAt(0));var o=n[5];switch(o){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(o),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(o);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(AK.default);yh.default=Nge});var FK=b(vh=>{"use strict";d();h();var Mge=vh&&vh.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),RK=vh&&vh.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(vh,"__esModule",{value:!0});var mh=Ht(),PK=Ei(),qge=bi(),Fge=Gu(),BK=l6(),NK=TK(),MK=CK(),Uge=je(),qK=DK(),Lge=function(r){Mge(e,r);function e(t){var n=r.call(this)||this,i=t==null?null:t.get(PK.default.POSSIBLE_FORMATS),o=[];return i!=null&&(i.indexOf(mh.default.EAN_13)>-1&&o.push(new BK.default),i.indexOf(mh.default.UPC_A)>-1&&o.push(new MK.default),i.indexOf(mh.default.EAN_8)>-1&&o.push(new NK.default),i.indexOf(mh.default.UPC_E)>-1&&o.push(new qK.default)),o.length===0&&(o.push(new BK.default),o.push(new MK.default),o.push(new NK.default),o.push(new qK.default)),n.readers=o,n}return e.prototype.decodeRow=function(t,n,i){var o,a;try{for(var s=RK(this.readers),u=s.next();!u.done;u=s.next()){var f=u.value;try{var l=f.decodeRow(t,n,i),p=l.getBarcodeFormat()===mh.default.EAN_13&&l.getText().charAt(0)==="0",g=i==null?null:i.get(PK.default.POSSIBLE_FORMATS),v=g==null||g.includes(mh.default.UPC_A);if(p&&v){var _=l.getRawBytes(),T=new qge.default(l.getText().substring(1),_,_?_.length:null,l.getResultPoints(),mh.default.UPC_A);return T.putAllMetadata(l.getResultMetadata()),T}return l}catch{}}}catch(O){o={error:O}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}throw new Uge.default},e.prototype.reset=function(){var t,n;try{for(var i=RK(this.readers),o=i.next();!o.done;o=i.next()){var a=o.value;a.reset()}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e}(Fge.default);vh.default=Lge});var zA=b(xh=>{"use strict";d();h();var kge=xh&&xh.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jge=xh&&xh.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xh,"__esModule",{value:!0});var Hge=as(),Kge=je(),UK=Gu(),Vge=function(r){kge(e,r);function e(){var t=r.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,n){for(var i=0;i<n.length;i++)if(UK.default.patternMatchVariance(t,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new Kge.default},e.count=function(t){return Hge.default.sum(new Int32Array(t))},e.increment=function(t,n){for(var i=0,o=n[0],a=1;a<t.length;a++)n[a]>o&&(o=n[a],i=a);t[i]++},e.decrement=function(t,n){for(var i=0,o=n[0],a=1;a<t.length;a++)n[a]<o&&(o=n[a],i=a);t[i]--},e.isFinderPattern=function(t){var n,i,o=t[0]+t[1],a=o+t[2]+t[3],s=o/a;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;try{for(var l=jge(t),p=l.next();!p.done;p=l.next()){var g=p.value;g>f&&(f=g),g<u&&(u=g)}}catch(v){n={error:v}}finally{try{p&&!p.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return f<10*u}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(UK.default);xh.default=Vge});var d6=b(WA=>{"use strict";d();h();Object.defineProperty(WA,"__esModule",{value:!0});var Gge=function(){function r(e,t){this.value=e,this.checksumPortion=t}return r.prototype.getValue=function(){return this.value},r.prototype.getChecksumPortion=function(){return this.checksumPortion},r.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},r.prototype.hashCode=function(){return this.value^this.checksumPortion},r}();WA.default=Gge});var JA=b(XA=>{"use strict";d();h();Object.defineProperty(XA,"__esModule",{value:!0});var LK=Or(),Yge=function(){function r(e,t,n,i,o){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new LK.default(n,o)),this.resultPoints.push(new LK.default(i,o))}return r.prototype.getValue=function(){return this.value},r.prototype.getStartEnd=function(){return this.startEnd},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.hashCode=function(){return this.value},r}();XA.default=Yge});var $A=b(Zm=>{"use strict";d();h();var zge=Zm&&Zm.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Zm,"__esModule",{value:!0});var Wge=function(){function r(){}return r.getRSSvalue=function(e,t,n){var i,o,a=0;try{for(var s=zge(e),u=s.next();!u.done;u=s.next()){var f=u.value;a+=f}}catch(D){i={error:D}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}for(var l=0,p=0,g=e.length,v=0;v<g-1;v++){var _=void 0;for(_=1,p|=1<<v;_<e[v];_++,p&=~(1<<v)){var T=r.combins(a-_-1,g-v-2);if(n&&p===0&&a-_-(g-v-1)>=g-v-1&&(T-=r.combins(a-_-(g-v),g-v-2)),g-v-1>1){for(var O=0,R=a-_-(g-v-2);R>t;R--)O+=r.combins(a-_-R-1,g-v-3);T-=O*(g-1-v)}else a-_>t&&T--;l+=T}a-=_}return l},r.combins=function(e,t){var n,i;e-t>t?(i=t,n=e-t):(i=e-t,n=t);for(var o=1,a=1,s=e;s>n;s--)o*=s,a<=i&&(o/=a,a++);for(;a<=i;)o/=a,a++;return o},r}();Zm.default=Wge});var kK=b(ZA=>{"use strict";d();h();Object.defineProperty(ZA,"__esModule",{value:!0});var Xge=ku(),Jge=function(){function r(){}return r.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var n=12*t,i=new Xge.default(n),o=0,a=e[0],s=a.getRightChar().getValue(),u=11;u>=0;--u)(s&1<<u)!=0&&i.set(o),o++;for(var u=1;u<e.length;++u){for(var f=e[u],l=f.getLeftChar().getValue(),p=11;p>=0;--p)(l&1<<p)!=0&&i.set(o),o++;if(f.getRightChar()!=null)for(var g=f.getRightChar().getValue(),p=11;p>=0;--p)(g&1<<p)!=0&&i.set(o),o++}return i},r}();ZA.default=Jge});var jK=b(QA=>{"use strict";d();h();Object.defineProperty(QA,"__esModule",{value:!0});var $ge=function(){function r(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return r.prototype.getDecodedInformation=function(){return this.decodedInformation},r.prototype.isFinished=function(){return this.finished},r}();QA.default=$ge});var h6=b(eO=>{"use strict";d();h();Object.defineProperty(eO,"__esModule",{value:!0});var Zge=function(){function r(e){this.newPosition=e}return r.prototype.getNewPosition=function(){return this.newPosition},r}();eO.default=Zge});var HK=b(Qm=>{"use strict";d();h();var Qge=Qm&&Qm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Qm,"__esModule",{value:!0});var eye=h6(),tye=function(r){Qge(e,r);function e(t,n){var i=r.call(this,t)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(eye.default);Qm.default=tye});var KK=b(ev=>{"use strict";d();h();var rye=ev&&ev.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ev,"__esModule",{value:!0});var nye=h6(),iye=function(r){rye(e,r);function e(t,n,i){var o=r.call(this,t)||this;return i?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=n,o}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(nye.default);ev.default=iye});var VK=b(tv=>{"use strict";d();h();var oye=tv&&tv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(tv,"__esModule",{value:!0});var aye=pr(),sye=h6(),uye=function(r){oye(e,r);function e(t,n,i){var o=r.call(this,t)||this;if(n<0||n>10||i<0||i>10)throw new aye.default;return o.firstDigit=n,o.secondDigit=i,o}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(sye.default);tv.default=uye});var GK=b(rv=>{"use strict";d();h();var p6=rv&&rv.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(rv,"__esModule",{value:!0});var zp=je(),fye=function(){function r(){}return r.parseFieldsInGeneralPurpose=function(e){var t,n,i,o,a,s,u,f;if(!e)return null;if(e.length<2)throw new zp.default;var l=e.substring(0,2);try{for(var p=p6(r.TWO_DIGIT_DATA_LENGTH),g=p.next();!g.done;g=p.next()){var v=g.value;if(v[0]===l)return v[1]===r.VARIABLE_LENGTH?r.processVariableAI(2,v[2],e):r.processFixedAI(2,v[1],e)}}catch(c){t={error:c}}finally{try{g&&!g.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}if(e.length<3)throw new zp.default;var _=e.substring(0,3);try{for(var T=p6(r.THREE_DIGIT_DATA_LENGTH),O=T.next();!O.done;O=T.next()){var v=O.value;if(v[0]===_)return v[1]===r.VARIABLE_LENGTH?r.processVariableAI(3,v[2],e):r.processFixedAI(3,v[1],e)}}catch(c){i={error:c}}finally{try{O&&!O.done&&(o=T.return)&&o.call(T)}finally{if(i)throw i.error}}try{for(var R=p6(r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),D=R.next();!D.done;D=R.next()){var v=D.value;if(v[0]===_)return v[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,v[2],e):r.processFixedAI(4,v[1],e)}}catch(c){a={error:c}}finally{try{D&&!D.done&&(s=R.return)&&s.call(R)}finally{if(a)throw a.error}}if(e.length<4)throw new zp.default;var U=e.substring(0,4);try{for(var K=p6(r.FOUR_DIGIT_DATA_LENGTH),A=K.next();!A.done;A=K.next()){var v=A.value;if(v[0]===U)return v[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,v[2],e):r.processFixedAI(4,v[1],e)}}catch(c){u={error:c}}finally{try{A&&!A.done&&(f=K.return)&&f.call(K)}finally{if(u)throw u.error}}throw new zp.default},r.processFixedAI=function(e,t,n){if(n.length<e)throw new zp.default;var i=n.substring(0,e);if(n.length<e+t)throw new zp.default;var o=n.substring(e,e+t),a=n.substring(e+t),s="("+i+")"+o,u=r.parseFieldsInGeneralPurpose(a);return u==null?s:s+u},r.processVariableAI=function(e,t,n){var i=n.substring(0,e),o;n.length<e+t?o=n.length:o=e+t;var a=n.substring(e,o),s=n.substring(o),u="("+i+")"+a,f=r.parseFieldsInGeneralPurpose(s);return f==null?u:u+f},r.VARIABLE_LENGTH=[],r.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",r.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",r.VARIABLE_LENGTH,20],["22",r.VARIABLE_LENGTH,29],["30",r.VARIABLE_LENGTH,8],["37",r.VARIABLE_LENGTH,8],["90",r.VARIABLE_LENGTH,30],["91",r.VARIABLE_LENGTH,30],["92",r.VARIABLE_LENGTH,30],["93",r.VARIABLE_LENGTH,30],["94",r.VARIABLE_LENGTH,30],["95",r.VARIABLE_LENGTH,30],["96",r.VARIABLE_LENGTH,30],["97",r.VARIABLE_LENGTH,3],["98",r.VARIABLE_LENGTH,30],["99",r.VARIABLE_LENGTH,30]],r.THREE_DIGIT_DATA_LENGTH=[["240",r.VARIABLE_LENGTH,30],["241",r.VARIABLE_LENGTH,30],["242",r.VARIABLE_LENGTH,6],["250",r.VARIABLE_LENGTH,30],["251",r.VARIABLE_LENGTH,30],["253",r.VARIABLE_LENGTH,17],["254",r.VARIABLE_LENGTH,20],["400",r.VARIABLE_LENGTH,30],["401",r.VARIABLE_LENGTH,30],["402",17],["403",r.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",r.VARIABLE_LENGTH,20],["421",r.VARIABLE_LENGTH,15],["422",3],["423",r.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",r.VARIABLE_LENGTH,15],["391",r.VARIABLE_LENGTH,18],["392",r.VARIABLE_LENGTH,15],["393",r.VARIABLE_LENGTH,18],["703",r.VARIABLE_LENGTH,30]],r.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",r.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",r.VARIABLE_LENGTH,20],["8003",r.VARIABLE_LENGTH,30],["8004",r.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",r.VARIABLE_LENGTH,30],["8008",r.VARIABLE_LENGTH,12],["8018",18],["8020",r.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",r.VARIABLE_LENGTH,70],["8200",r.VARIABLE_LENGTH,70]],r}();rv.default=fye});var rO=b(tO=>{"use strict";d();h();Object.defineProperty(tO,"__esModule",{value:!0});var cye=pr(),lye=Vu(),dye=Ar(),_h=jK(),tu=HK(),wh=KK(),Wp=VK(),hye=GK(),pye=function(){function r(e){this.buffer=new dye.default,this.information=e}return r.prototype.decodeAllCodes=function(e,t){var n=t,i=null;do{var o=this.decodeGeneralPurposeField(n,i),a=hye.default.parseFieldsInGeneralPurpose(o.getNewString());if(a!=null&&e.append(a),o.isRemaining()?i=""+o.getRemainingValue():i=null,n===o.getNewPosition())break;n=o.getNewPosition()}while(!0);return e.toString()},r.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},r.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new Wp.default(this.information.getSize(),Wp.default.FNC1,Wp.default.FNC1):new Wp.default(this.information.getSize(),t-1,Wp.default.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,o=(n-8)%11;return new Wp.default(e+7,i,o)},r.prototype.extractNumericValueFromBitArray=function(e,t){return r.extractNumericValueFromBitArray(this.information,e,t)},r.extractNumericValueFromBitArray=function(e,t,n){for(var i=0,o=0;o<n;++o)e.get(t+o)&&(i|=1<<n-o-1);return i},r.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new wh.default(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new wh.default(this.current.getPosition(),this.buffer.toString())},r.prototype.parseBlocks=function(){var e,t;do{var n=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return t.getDecodedInformation()},r.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new wh.default(this.current.getPosition(),this.buffer.toString()):t=new wh.default(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new _h.default(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new wh.default(this.current.getPosition(),this.buffer.toString());return new _h.default(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new _h.default(!1)},r.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new wh.default(this.current.getPosition(),this.buffer.toString());return new _h.default(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new _h.default(!1)},r.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new wh.default(this.current.getPosition(),this.buffer.toString());return new _h.default(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new _h.default(!1)},r.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},r.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new tu.default(e+5,tu.default.FNC1);if(t>=5&&t<15)return new tu.default(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new tu.default(e+7,""+(n+1));if(n>=90&&n<116)return new tu.default(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),o;switch(i){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new cye.default}return new tu.default(e+8,o)},r.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},r.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new tu.default(e+5,tu.default.FNC1);if(t>=5&&t<15)return new tu.default(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new tu.default(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new lye.default("Decoding invalid alphanumeric value: "+n)}return new tu.default(e+6,i)},r.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},r.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},r.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},r}();tO.default=pye});var g6=b(nO=>{"use strict";d();h();Object.defineProperty(nO,"__esModule",{value:!0});var gye=rO(),yye=function(){function r(e){this.information=e,this.generalDecoder=new gye.default(e)}return r.prototype.getInformation=function(){return this.information},r.prototype.getGeneralDecoder=function(){return this.generalDecoder},r}();nO.default=yye});var iv=b(nv=>{"use strict";d();h();var mye=nv&&nv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(nv,"__esModule",{value:!0});var vye=g6(),xye=function(r){mye(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,n){t.append("(01)");var i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(t,n,i){for(var o=0;o<4;++o){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*o,10);a/100===0&&t.append("0"),a/10===0&&t.append("0"),t.append(a)}e.appendCheckDigit(t,i)},e.appendCheckDigit=function(t,n){for(var i=0,o=0;o<13;o++){var a=t.charAt(o+n).charCodeAt(0)-"0".charCodeAt(0);i+=(o&1)===0?3*a:a}i=10-i%10,i===10&&(i=0),t.append(i)},e.GTIN_SIZE=40,e}(vye.default);nv.default=xye});var YK=b(ov=>{"use strict";d();h();var _ye=ov&&ov.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ov,"__esModule",{value:!0});var wye=iv(),Eye=Ar(),bye=function(r){_ye(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new Eye.default;t.append("(01)");var n=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=1+1+2,e}(wye.default);ov.default=bye});var zK=b(av=>{"use strict";d();h();var Iye=av&&av.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(av,"__esModule",{value:!0});var Tye=Ar(),Sye=g6(),Cye=function(r){Iye(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new Tye.default;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=2+1+2,e}(Sye.default);av.default=Cye});var iO=b(sv=>{"use strict";d();h();var Aye=sv&&sv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(sv,"__esModule",{value:!0});var Oye=iv(),Dye=function(r){Aye(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,n,i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(t,o);for(var a=this.checkWeight(o),s=1e5,u=0;u<5;++u)a/s===0&&t.append("0"),s/=10;t.append(a)},e}(Oye.default);sv.default=Dye});var aO=b(uv=>{"use strict";d();h();var Rye=uv&&uv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(uv,"__esModule",{value:!0});var oO=iO(),Pye=Ar(),Bye=je(),Nye=function(r){Rye(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+oO.default.GTIN_SIZE+e.WEIGHT_SIZE)throw new Bye.default;var t=new Pye.default;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+oO.default.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=4+1,e.WEIGHT_SIZE=15,e}(oO.default);uv.default=Nye});var WK=b(fv=>{"use strict";d();h();var Mye=fv&&fv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(fv,"__esModule",{value:!0});var qye=aO(),Fye=function(r){Mye(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(qye.default);fv.default=Fye});var XK=b(cv=>{"use strict";d();h();var Uye=cv&&cv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(cv,"__esModule",{value:!0});var Lye=aO(),kye=function(r){Uye(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){n<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(Lye.default);cv.default=kye});var JK=b(lv=>{"use strict";d();h();var jye=lv&&lv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(lv,"__esModule",{value:!0});var y6=iv(),Hye=je(),Kye=Ar(),Vye=function(r){jye(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+y6.default.GTIN_SIZE)throw new Hye.default;var t=new Kye.default;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+y6.default.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(n),t.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+y6.default.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e}(y6.default);lv.default=Vye});var $K=b(hv=>{"use strict";d();h();var Gye=hv&&hv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(hv,"__esModule",{value:!0});var dv=iv(),Yye=je(),zye=Ar(),Wye=function(r){Gye(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+dv.default.GTIN_SIZE)throw new Yye.default;var t=new zye.default;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+dv.default.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(n),t.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+dv.default.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100==0&&t.append("0"),i/10==0&&t.append("0"),t.append(i);var o=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+dv.default.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(dv.default);hv.default=Wye});var ZK=b(pv=>{"use strict";d();h();var Xye=pv&&pv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(pv,"__esModule",{value:!0});var Jye=iO(),$ye=je(),Zye=Ar(),Qye=function(r){Xye(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.dateCode=i,o.firstAIdigits=n,o}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new $ye.default;var t=new Zye.default;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!=38400){t.append("("),t.append(this.dateCode),t.append(")");var o=i%32;i/=32;var a=i%12+1;i/=12;var s=i;s/10==0&&t.append("0"),t.append(s),a/10==0&&t.append("0"),t.append(a),o/10==0&&t.append("0"),t.append(o)}},e.prototype.addWeightCode=function(t,n){t.append("("),t.append(this.firstAIdigits),t.append(n/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=7+1,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Jye.default);pv.default=Qye});var uO=b(m6=>{"use strict";d();h();Object.defineProperty(m6,"__esModule",{value:!0});m6.createDecoder=void 0;var eme=Vu(),sO=rO(),tme=YK(),rme=zK(),nme=WK(),ime=XK(),ome=JK(),ame=$K(),K0=ZK();function sme(r){try{if(r.get(1))return new tme.default(r);if(!r.get(2))return new rme.default(r);var e=sO.default.extractNumericValueFromBitArray(r,1,4);switch(e){case 4:return new nme.default(r);case 5:return new ime.default(r)}var t=sO.default.extractNumericValueFromBitArray(r,1,5);switch(t){case 12:return new ome.default(r);case 13:return new ame.default(r)}var n=sO.default.extractNumericValueFromBitArray(r,1,7);switch(n){case 56:return new K0.default(r,"310","11");case 57:return new K0.default(r,"320","11");case 58:return new K0.default(r,"310","13");case 59:return new K0.default(r,"320","13");case 60:return new K0.default(r,"310","15");case 61:return new K0.default(r,"320","15");case 62:return new K0.default(r,"310","17");case 63:return new K0.default(r,"320","17")}}catch(i){throw console.log(i),new eme.default("unknown decoder: "+r)}}m6.createDecoder=sme});var QK=b(fO=>{"use strict";d();h();Object.defineProperty(fO,"__esModule",{value:!0});var ume=function(){function r(e,t,n,i){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=i}return r.prototype.mayBeLast=function(){return this.maybeLast},r.prototype.getLeftChar=function(){return this.leftchar},r.prototype.getRightChar=function(){return this.rightchar},r.prototype.getFinderPattern=function(){return this.finderpattern},r.prototype.mustBeLast=function(){return this.rightchar==null},r.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},r.equals=function(e,t){return e instanceof r?r.equalsOrNull(e.leftchar,t.leftchar)&&r.equalsOrNull(e.rightchar,t.rightchar)&&r.equalsOrNull(e.finderpattern,t.finderpattern):!1},r.equalsOrNull=function(e,t){return e===null?t===null:r.equals(e,t)},r.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},r}();fO.default=ume});var eV=b(cO=>{"use strict";d();h();Object.defineProperty(cO,"__esModule",{value:!0});var fme=function(){function r(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}return r.prototype.getPairs=function(){return this.pairs},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.isReversed=function(){return this.wasReversed},r.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},r.prototype.toString=function(){return"{ "+this.pairs+" }"},r.prototype.equals=function(e,t){return e instanceof r?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},r.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var n;return e.forEach(function(i,o){t.forEach(function(a){i.getLeftChar().getValue()===a.getLeftChar().getValue()&&i.getRightChar().getValue()===a.getRightChar().getValue()&&i.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(n=!0)})}),n}},r}();cO.default=fme});var dO=b(Eh=>{"use strict";d();h();var cme=Eh&&Eh.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),V0=Eh&&Eh.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Eh,"__esModule",{value:!0});var lme=Ht(),lO=as(),Lr=je(),dme=bi(),hme=Xr(),pme=zA(),gme=d6(),yme=JA(),tV=$A(),mme=kK(),vme=uO(),rV=QK(),xme=eV(),_me=function(r){cme(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,t))}catch(s){if(s instanceof Lr.default){if(!this.pairs.length)throw new Lr.default;i=!0}}if(this.checkChecksum())return this.pairs;var o;if(this.rows.length?o=!0:o=!1,this.storeRow(t,!1),o){var a=this.checkRowsBoolean(!1);if(a!=null||(a=this.checkRowsBoolean(!0),a!=null))return a}throw new Lr.default},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return t&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(t,n){for(var i,o,a=n;a<this.rows.length;a++){var s=this.rows[a];this.pairs.length=0;try{for(var u=(i=void 0,V0(t)),f=u.next();!f.done;f=u.next()){var l=f.value;this.pairs.push(l.getPairs())}}catch(g){i={error:g}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var p=new Array(t);p.push(s);try{return this.checkRows(p,a+1)}catch(g){console.log(g)}}}throw new Lr.default},e.isValidSequence=function(t){var n,i;try{for(var o=V0(e.FINDER_PATTERN_SEQUENCES),a=o.next();!a.done;a=o.next()){var s=a.value;if(!(t.length>s.length)){for(var u=!0,f=0;f<t.length;f++)if(t[f].getFinderPattern().getValue()!=s[f]){u=!1;break}if(u)return!0}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(t,n){for(var i=0,o=!1,a=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>t){a=s.isEquivalent(this.pairs);break}o=s.isEquivalent(this.pairs),i++}a||o||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new xme.default(this.pairs,t,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,n){var i,o,a,s,u,f;try{for(var l=V0(n),p=l.next();!p.done;p=l.next()){var g=p.value;if(g.getPairs().length!==t.length){var v=!0;try{for(var _=(a=void 0,V0(g.getPairs())),T=_.next();!T.done;T=_.next()){var O=T.value,R=!1;try{for(var D=(u=void 0,V0(t)),U=D.next();!U.done;U=D.next()){var K=U.value;if(rV.default.equals(O,K)){R=!0;break}}}catch(A){u={error:A}}finally{try{U&&!U.done&&(f=D.return)&&f.call(D)}finally{if(u)throw u.error}}R||(v=!1)}}catch(A){a={error:A}}finally{try{T&&!T.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}}}}catch(A){i={error:A}}finally{try{p&&!p.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}},e.isPartialRow=function(t,n){var i,o,a,s,u,f;try{for(var l=V0(n),p=l.next();!p.done;p=l.next()){var g=p.value,v=!0;try{for(var _=(a=void 0,V0(t)),T=_.next();!T.done;T=_.next()){var O=T.value,R=!1;try{for(var D=(u=void 0,V0(g.getPairs())),U=D.next();!U.done;U=D.next()){var K=U.value;if(O.equals(K)){R=!0;break}}}catch(A){u={error:A}}finally{try{U&&!U.done&&(f=D.return)&&f.call(D)}finally{if(u)throw u.error}}if(!R){v=!1;break}}}catch(A){a={error:A}}finally{try{T&&!T.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}if(v)return!0}}catch(A){i={error:A}}finally{try{p&&!p.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var n=mme.default.buildBitArray(t),i=vme.createDecoder(n),o=i.parseInformation(),a=t[0].getFinderPattern().getResultPoints(),s=t[t.length-1].getFinderPattern().getResultPoints(),u=[a[0],a[1],s[0],s[1]];return new dme.default(o,null,null,u,lme.default.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),n=t.getLeftChar(),i=t.getRightChar();if(i==null)return!1;for(var o=i.getChecksumPortion(),a=2,s=1;s<this.pairs.size();++s){var u=this.pairs.get(s);o+=u.getLeftChar().getChecksumPortion(),a++;var f=u.getRightChar();f!=null&&(o+=f.getChecksumPortion(),a++)}o%=211;var l=211*(a-4)+o;return l==n.getValue()},e.getNextSecondBar=function(t,n){var i;return t.get(n)?(i=t.getNextUnset(n),i=t.getNextSet(i)):(i=t.getNextSet(n),i=t.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(t,n,i){var o=n.length%2==0;this.startFromEven&&(o=!o);var a,s=!0,u=-1;do this.findNextPair(t,n,u),a=this.parseFoundFinderPattern(t,i,o),a==null?u=e.getNextSecondBar(t,this.startEnd[0]):s=!1;while(s);var f=this.decodeDataCharacter(t,a,o,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new Lr.default;var l;try{l=this.decodeDataCharacter(t,a,o,!1)}catch(p){l=null,console.log(p)}return new rV.default(f,l,a,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,n,i){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var a=t.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(n))s=0;else{var u=n[n.length-1];s=u.getFinderPattern().getStartEnd()[1]}var f=n.length%2!=0;this.startFromEven&&(f=!f);for(var l=!1;s<a&&(l=!t.get(s),!!l);)s++;for(var p=0,g=s,v=s;v<a;v++)if(t.get(v)!=l)o[p]++;else{if(p==3){if(f&&e.reverseCounters(o),e.isFinderPattern(o)){this.startEnd[0]=g,this.startEnd[1]=v;return}f&&e.reverseCounters(o),g+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,p--}else p++;o[p]=1,l=!l}throw new Lr.default},e.reverseCounters=function(t){for(var n=t.length,i=0;i<n/2;++i){var o=t[i];t[i]=t[n-i-1],t[n-i-1]=o}},e.prototype.parseFoundFinderPattern=function(t,n,i){var o,a,s;if(i){for(var u=this.startEnd[0]-1;u>=0&&!t.get(u);)u--;u++,o=this.startEnd[0]-u,a=u,s=this.startEnd[1]}else a=this.startEnd[0],s=t.getNextUnset(this.startEnd[1]+1),o=s-this.startEnd[1];var f=this.getDecodeFinderCounters();hme.default.arraycopy(f,0,f,1,f.length-1),f[0]=o;var l;try{l=this.parseFinderValue(f,e.FINDER_PATTERNS)}catch(p){return null}return new yme.default(l,[a,s],a,s,n)},e.prototype.decodeDataCharacter=function(t,n,i,o){for(var a=this.getDataCharacterCounters(),s=0;s<a.length;s++)a[s]=0;if(o)e.recordPatternInReverse(t,n.getStartEnd()[0],a);else{e.recordPattern(t,n.getStartEnd()[1],a);for(var u=0,f=a.length-1;u<f;u++,f--){var l=a[u];a[u]=a[f],a[f]=l}}var p=17,g=lO.default.sum(new Int32Array(a))/p,v=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(g-v)/v>.3)throw new Lr.default;for(var _=this.getOddCounts(),T=this.getEvenCounts(),O=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors(),u=0;u<a.length;u++){var D=1*a[u]/g,U=D+.5;if(U<1){if(D<.3)throw new Lr.default;U=1}else if(U>8){if(D>8.7)throw new Lr.default;U=8}var K=u/2;(u&1)==0?(_[K]=U,O[K]=D-U):(T[K]=U,R[K]=D-U)}this.adjustOddEvenCounts(p);for(var A=4*n.getValue()+(i?0:2)+(o?0:1)-1,c=0,y=0,u=_.length-1;u>=0;u--){if(e.isNotA1left(n,i,o)){var x=e.WEIGHTS[A][2*u];y+=_[u]*x}c+=_[u]}for(var M=0,u=T.length-1;u>=0;u--)if(e.isNotA1left(n,i,o)){var x=e.WEIGHTS[A][2*u+1];M+=T[u]*x}var L=y+M;if((c&1)!=0||c>13||c<4)throw new Lr.default;var ce=(13-c)/2,q=e.SYMBOL_WIDEST[ce],w=9-q,S=tV.default.getRSSvalue(_,q,!0),B=tV.default.getRSSvalue(T,w,!1),V=e.EVEN_TOTAL_SUBSET[ce],z=e.GSUM[ce],X=S*V+B+z;return new gme.default(X,L)},e.isNotA1left=function(t,n,i){return!(t.getValue()==0&&n&&i)},e.prototype.adjustOddEvenCounts=function(t){var n=lO.default.sum(new Int32Array(this.getOddCounts())),i=lO.default.sum(new Int32Array(this.getEvenCounts())),o=!1,a=!1;n>13?a=!0:n<4&&(o=!0);var s=!1,u=!1;i>13?u=!0:i<4&&(s=!0);var f=n+i-t,l=(n&1)==1,p=(i&1)==0;if(f==1)if(l){if(p)throw new Lr.default;a=!0}else{if(!p)throw new Lr.default;u=!0}else if(f==-1)if(l){if(p)throw new Lr.default;o=!0}else{if(!p)throw new Lr.default;s=!0}else if(f==0){if(l){if(!p)throw new Lr.default;n<i?(o=!0,u=!0):(a=!0,s=!0)}else if(p)throw new Lr.default}else throw new Lr.default;if(o){if(a)throw new Lr.default;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(u)throw new Lr.default;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(pme.default);Eh.default=_me});var nV=b(gv=>{"use strict";d();h();var wme=gv&&gv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(gv,"__esModule",{value:!0});var Eme=d6(),bme=function(r){wme(e,r);function e(t,n,i){var o=r.call(this,t,n)||this;return o.count=0,o.finderPattern=i,o}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(Eme.default);gv.default=bme});var gO=b(bh=>{"use strict";d();h();var Ime=bh&&bh.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hO=bh&&bh.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(bh,"__esModule",{value:!0});var Xp=zA(),Tme=nV(),Sme=bi(),Cme=Ei(),zo=je(),Ame=Ar(),Ome=Ht(),Dme=Or(),Rme=JA(),iV=d6(),pO=as(),v6=$A(),Pme=Xr(),oV=Gu(),Bme=function(r){Ime(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,n,i){var o,a,s,u,f=this.decodePair(n,!1,t,i);e.addOrTally(this.possibleLeftPairs,f),n.reverse();var l=this.decodePair(n,!0,t,i);e.addOrTally(this.possibleRightPairs,l),n.reverse();try{for(var p=hO(this.possibleLeftPairs),g=p.next();!g.done;g=p.next()){var v=g.value;if(v.getCount()>1)try{for(var _=(s=void 0,hO(this.possibleRightPairs)),T=_.next();!T.done;T=_.next()){var O=T.value;if(O.getCount()>1&&e.checkChecksum(v,O))return e.constructResult(v,O)}}catch(R){s={error:R}}finally{try{T&&!T.done&&(u=_.return)&&u.call(_)}finally{if(s)throw s.error}}}}catch(R){o={error:R}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}throw new zo.default},e.addOrTally=function(t,n){var i,o;if(n!=null){var a=!1;try{for(var s=hO(t),u=s.next();!u.done;u=s.next()){var f=u.value;if(f.getValue()===n.getValue()){f.incrementCount(),a=!0;break}}}catch(l){i={error:l}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}a||t.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,n){for(var i=4537077*t.getValue()+n.getValue(),o=new String(i).toString(),a=new Ame.default,s=13-o.length;s>0;s--)a.append("0");a.append(o);for(var u=0,s=0;s<13;s++){var f=a.charAt(s).charCodeAt(0)-"0".charCodeAt(0);u+=(s&1)===0?3*f:f}u=10-u%10,u===10&&(u=0),a.append(u.toString());var l=t.getFinderPattern().getResultPoints(),p=n.getFinderPattern().getResultPoints();return new Sme.default(a.toString(),null,0,[l[0],l[1],p[0],p[1]],Ome.default.RSS_14,new Date().getTime())},e.checkChecksum=function(t,n){var i=(t.getChecksumPortion()+16*n.getChecksumPortion())%79,o=9*t.getFinderPattern().getValue()+n.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o},e.prototype.decodePair=function(t,n,i,o){try{var a=this.findFinderPattern(t,n),s=this.parseFoundFinderPattern(t,i,n,a),u=o==null?null:o.get(Cme.default.NEED_RESULT_POINT_CALLBACK);if(u!=null){var f=(a[0]+a[1])/2;n&&(f=t.getSize()-1-f),u.foundPossibleResultPoint(new Dme.default(f,i))}var l=this.decodeDataCharacter(t,s,!0),p=this.decodeDataCharacter(t,s,!1);return new Tme.default(1597*l.getValue()+p.getValue(),l.getChecksumPortion()+4*p.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(t,n,i){for(var o=this.getDataCharacterCounters(),a=0;a<o.length;a++)o[a]=0;if(i)oV.default.recordPatternInReverse(t,n.getStartEnd()[0],o);else{oV.default.recordPattern(t,n.getStartEnd()[1]+1,o);for(var s=0,u=o.length-1;s<u;s++,u--){var f=o[s];o[s]=o[u],o[u]=f}}for(var l=i?16:15,p=pO.default.sum(new Int32Array(o))/l,g=this.getOddCounts(),v=this.getEvenCounts(),_=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors(),s=0;s<o.length;s++){var O=o[s]/p,R=Math.floor(O+.5);R<1?R=1:R>8&&(R=8);var D=Math.floor(s/2);(s&1)===0?(g[D]=R,_[D]=O-R):(v[D]=R,T[D]=O-R)}this.adjustOddEvenCounts(i,l);for(var U=0,K=0,s=g.length-1;s>=0;s--)K*=9,K+=g[s],U+=g[s];for(var A=0,c=0,s=v.length-1;s>=0;s--)A*=9,A+=v[s],c+=v[s];var y=K+3*A;if(i){if((U&1)!==0||U>12||U<4)throw new zo.default;var x=(12-U)/2,M=e.OUTSIDE_ODD_WIDEST[x],L=9-M,ce=v6.default.getRSSvalue(g,M,!1),q=v6.default.getRSSvalue(v,L,!0),w=e.OUTSIDE_EVEN_TOTAL_SUBSET[x],S=e.OUTSIDE_GSUM[x];return new iV.default(ce*w+q+S,y)}else{if((c&1)!==0||c>10||c<4)throw new zo.default;var x=(10-c)/2,M=e.INSIDE_ODD_WIDEST[x],L=9-M,ce=v6.default.getRSSvalue(g,M,!0),q=v6.default.getRSSvalue(v,L,!1),B=e.INSIDE_ODD_TOTAL_SUBSET[x],S=e.INSIDE_GSUM[x];return new iV.default(q*B+ce+S,y)}},e.prototype.findFinderPattern=function(t,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var o=t.getSize(),a=!1,s=0;s<o&&(a=!t.get(s),n!==a);)s++;for(var u=0,f=s,l=s;l<o;l++)if(t.get(l)!==a)i[u]++;else{if(u===3){if(Xp.default.isFinderPattern(i))return[f,l];f+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,u--}else u++;i[u]=1,a=!a}throw new zo.default},e.prototype.parseFoundFinderPattern=function(t,n,i,o){for(var a=t.get(o[0]),s=o[0]-1;s>=0&&a!==t.get(s);)s--;s++;var u=o[0]-s,f=this.getDecodeFinderCounters(),l=new Int32Array(f.length);Pme.default.arraycopy(f,0,l,1,f.length-1),l[0]=u;var p=this.parseFinderValue(l,e.FINDER_PATTERNS),g=s,v=o[1];return i&&(g=t.getSize()-1-g,v=t.getSize()-1-v),new Rme.default(p,[s,o[1]],g,v,n)},e.prototype.adjustOddEvenCounts=function(t,n){var i=pO.default.sum(new Int32Array(this.getOddCounts())),o=pO.default.sum(new Int32Array(this.getEvenCounts())),a=!1,s=!1,u=!1,f=!1;t?(i>12?s=!0:i<4&&(a=!0),o>12?f=!0:o<4&&(u=!0)):(i>11?s=!0:i<5&&(a=!0),o>10?f=!0:o<4&&(u=!0));var l=i+o-n,p=(i&1)===(t?1:0),g=(o&1)===1;if(l===1)if(p){if(g)throw new zo.default;s=!0}else{if(!g)throw new zo.default;f=!0}else if(l===-1)if(p){if(g)throw new zo.default;a=!0}else{if(!g)throw new zo.default;u=!0}else if(l===0){if(p){if(!g)throw new zo.default;i<o?(a=!0,f=!0):(s=!0,u=!0)}else if(g)throw new zo.default}else throw new zo.default;if(a){if(s)throw new zo.default;Xp.default.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Xp.default.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new zo.default;Xp.default.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&Xp.default.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(Xp.default);bh.default=Bme});var x6=b(yv=>{"use strict";d();h();var Nme=yv&&yv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(yv,"__esModule",{value:!0});var Qf=Ht(),aV=Ei(),Mme=je(),sV=LA(),uV=jA(),fV=HA(),yO=FK(),qme=Gu(),Fme=dO(),cV=gO(),Ume=function(r){Nme(e,r);function e(t){var n=r.call(this)||this;n.readers=[];var i=t?t.get(aV.default.POSSIBLE_FORMATS):null,o=t&&t.get(aV.default.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;return i&&((i.includes(Qf.default.EAN_13)||i.includes(Qf.default.UPC_A)||i.includes(Qf.default.EAN_8)||i.includes(Qf.default.UPC_E))&&n.readers.push(new yO.default(t)),i.includes(Qf.default.CODE_39)&&n.readers.push(new uV.default(o)),i.includes(Qf.default.CODE_128)&&n.readers.push(new sV.default),i.includes(Qf.default.ITF)&&n.readers.push(new fV.default),i.includes(Qf.default.RSS_14)&&n.readers.push(new cV.default),i.includes(Qf.default.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new Fme.default))),n.readers.length===0&&(n.readers.push(new yO.default(t)),n.readers.push(new uV.default),n.readers.push(new yO.default(t)),n.readers.push(new sV.default),n.readers.push(new fV.default),n.readers.push(new cV.default)),n}return e.prototype.decodeRow=function(t,n,i){for(var o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(t,n,i)}catch{}throw new Mme.default},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e}(qme.default);yv.default=Ume});var lV=b(Jp=>{"use strict";d();h();var Lme=Jp&&Jp.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Jp,"__esModule",{value:!0});Jp.BrowserBarcodeReader=void 0;var kme=k0(),jme=x6(),Hme=function(r){Lme(e,r);function e(t,n){return t===void 0&&(t=500),r.call(this,new jme.default(n),t,n)||this}return e}(kme.BrowserCodeReader);Jp.BrowserBarcodeReader=Hme});var pV=b(ec=>{"use strict";d();h();var dV=ec&&ec.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ec,"__esModule",{value:!0});ec.ECB=ec.ECBlocks=void 0;var hV=pr(),lt=function(){function r(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}return r.prototype.getECCodewords=function(){return this.ecCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r}();ec.ECBlocks=lt;var st=function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r}();ec.ECB=st;var Kme=function(){function r(e,t,n,i,o,a){var s,u;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=o,this.ecBlocks=a;var f=0,l=a.getECCodewords(),p=a.getECBlocks();try{for(var g=dV(p),v=g.next();!v.done;v=g.next()){var _=v.value;f+=_.getCount()*(_.getDataCodewords()+l)}}catch(T){s={error:T}}finally{try{v&&!v.done&&(u=g.return)&&u.call(g)}finally{if(s)throw s.error}}this.totalCodewords=f}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},r.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},r.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},r.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r.getVersionForDimensions=function(e,t){var n,i;if((e&1)!==0||(t&1)!==0)throw new hV.default;try{for(var o=dV(r.VERSIONS),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===t)return s}}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}throw new hV.default},r.prototype.toString=function(){return""+this.versionNumber},r.buildVersions=function(){return[new r(1,10,10,8,8,new lt(5,new st(1,3))),new r(2,12,12,10,10,new lt(7,new st(1,5))),new r(3,14,14,12,12,new lt(10,new st(1,8))),new r(4,16,16,14,14,new lt(12,new st(1,12))),new r(5,18,18,16,16,new lt(14,new st(1,18))),new r(6,20,20,18,18,new lt(18,new st(1,22))),new r(7,22,22,20,20,new lt(20,new st(1,30))),new r(8,24,24,22,22,new lt(24,new st(1,36))),new r(9,26,26,24,24,new lt(28,new st(1,44))),new r(10,32,32,14,14,new lt(36,new st(1,62))),new r(11,36,36,16,16,new lt(42,new st(1,86))),new r(12,40,40,18,18,new lt(48,new st(1,114))),new r(13,44,44,20,20,new lt(56,new st(1,144))),new r(14,48,48,22,22,new lt(68,new st(1,174))),new r(15,52,52,24,24,new lt(42,new st(2,102))),new r(16,64,64,14,14,new lt(56,new st(2,140))),new r(17,72,72,16,16,new lt(36,new st(4,92))),new r(18,80,80,18,18,new lt(48,new st(4,114))),new r(19,88,88,20,20,new lt(56,new st(4,144))),new r(20,96,96,22,22,new lt(68,new st(4,174))),new r(21,104,104,24,24,new lt(56,new st(6,136))),new r(22,120,120,18,18,new lt(68,new st(6,175))),new r(23,132,132,20,20,new lt(62,new st(8,163))),new r(24,144,144,22,22,new lt(62,new st(8,156),new st(2,155))),new r(25,8,18,6,16,new lt(7,new st(1,5))),new r(26,8,32,6,14,new lt(11,new st(1,10))),new r(27,12,26,10,24,new lt(14,new st(1,16))),new r(28,12,36,10,16,new lt(18,new st(1,22))),new r(29,16,36,14,16,new lt(24,new st(1,32))),new r(30,16,48,14,22,new lt(28,new st(1,49)))]},r.VERSIONS=r.buildVersions(),r}();ec.default=Kme});var mV=b(mO=>{"use strict";d();h();Object.defineProperty(mO,"__esModule",{value:!0});var gV=Yo(),Vme=pV(),yV=pr(),Gme=ct(),Yme=function(){function r(e){var t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new yV.default;this.version=r.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new gV.default(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return r.prototype.getVersion=function(){return this.version},r.readVersion=function(e){var t=e.getHeight(),n=e.getWidth();return Vme.default.getVersionForDimensions(t,n)},r.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,n=4,i=0,o=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth(),s=!1,u=!1,f=!1,l=!1;do if(n===o&&i===0&&!s)e[t++]=this.readCorner1(o,a)&255,n-=2,i+=2,s=!0;else if(n===o-2&&i===0&&(a&3)!==0&&!u)e[t++]=this.readCorner2(o,a)&255,n-=2,i+=2,u=!0;else if(n===o+4&&i===2&&(a&7)===0&&!f)e[t++]=this.readCorner3(o,a)&255,n-=2,i+=2,f=!0;else if(n===o-2&&i===0&&(a&7)===4&&!l)e[t++]=this.readCorner4(o,a)&255,n-=2,i+=2,l=!0;else{do n<o&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,o,a)&255),n-=2,i+=2;while(n>=0&&i<a);n+=1,i+=3;do n>=0&&i<a&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,o,a)&255),n+=2,i-=2;while(n<o&&i>=0);n+=3,i+=1}while(n<o||i<a);if(t!==this.version.getTotalCodewords())throw new yV.default;return e},r.prototype.readModule=function(e,t,n,i){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},r.prototype.readUtah=function(e,t,n,i){var o=0;return this.readModule(e-2,t-2,n,i)&&(o|=1),o<<=1,this.readModule(e-2,t-1,n,i)&&(o|=1),o<<=1,this.readModule(e-1,t-2,n,i)&&(o|=1),o<<=1,this.readModule(e-1,t-1,n,i)&&(o|=1),o<<=1,this.readModule(e-1,t,n,i)&&(o|=1),o<<=1,this.readModule(e,t-2,n,i)&&(o|=1),o<<=1,this.readModule(e,t-1,n,i)&&(o|=1),o<<=1,this.readModule(e,t,n,i)&&(o|=1),o},r.prototype.readCorner1=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.readCorner2=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner3=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner4=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new Gme.default("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),a=t/i|0,s=n/o|0,u=a*i,f=s*o,l=new gV.default(f,u),p=0;p<a;++p)for(var g=p*i,v=0;v<s;++v)for(var _=v*o,T=0;T<i;++T)for(var O=p*(i+2)+1+T,R=g+T,D=0;D<o;++D){var U=v*(o+2)+1+D;if(e.get(U,O)){var K=_+D;l.set(K,R)}}return l},r}();mO.default=Yme});var xV=b(mv=>{"use strict";d();h();var vV=mv&&mv.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(mv,"__esModule",{value:!0});var zme=ct(),Wme=function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t){var n,i,o,a,s=t.getECBlocks(),u=0,f=s.getECBlocks();try{for(var l=vV(f),p=l.next();!p.done;p=l.next()){var g=p.value;u+=g.getCount()}}catch(S){n={error:S}}finally{try{p&&!p.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}var v=new Array(u),_=0;try{for(var T=vV(f),O=T.next();!O.done;O=T.next())for(var g=O.value,R=0;R<g.getCount();R++){var D=g.getDataCodewords(),U=s.getECCodewords()+D;v[_++]=new r(D,new Uint8Array(U))}}catch(S){o={error:S}}finally{try{O&&!O.done&&(a=T.return)&&a.call(T)}finally{if(o)throw o.error}}for(var K=v[0].codewords.length,A=K-s.getECCodewords(),c=A-1,y=0,R=0;R<c;R++)for(var x=0;x<_;x++)v[x].codewords[R]=e[y++];for(var M=t.getVersionNumber()===24,L=M?8:_,x=0;x<L;x++)v[x].codewords[A-1]=e[y++];for(var ce=v[0].codewords.length,R=A;R<ce;R++)for(var x=0;x<_;x++){var q=M?(x+8)%_:x,w=M&&q>7?R-1:R;v[q].codewords[w]=e[y++]}if(y!==e.length)throw new zme.default;return v},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r}();mv.default=Wme});var _6=b(vO=>{"use strict";d();h();Object.defineProperty(vO,"__esModule",{value:!0});var Xme=ct(),Jme=function(){function r(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return r.prototype.getBitOffset=function(){return this.bitOffset},r.prototype.getByteOffset=function(){return this.byteOffset},r.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Xme.default(""+e);var t=0,n=this.bitOffset,i=this.byteOffset,o=this.bytes;if(n>0){var a=8-n,s=e<a?e:a,u=a-s,f=255>>8-s<<u;t=(o[i]&f)>>u,e-=s,n+=s,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)t=t<<8|o[i]&255,i++,e-=8;if(e>0){var u=8-e,f=255>>u<<u;t=t<<e|(o[i]&f)>>u,n+=e}}return this.bitOffset=n,this.byteOffset=i,t},r.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},r}();vO.default=Jme});var _O=b(xO=>{"use strict";d();h();Object.defineProperty(xO,"__esModule",{value:!0});var $me=Hp(),Zme=_6(),_V=Ar(),Qme=lh(),eve=eu(),Wo=pr(),tve=Vu(),kr;(function(r){r[r.PAD_ENCODE=0]="PAD_ENCODE",r[r.ASCII_ENCODE=1]="ASCII_ENCODE",r[r.C40_ENCODE=2]="C40_ENCODE",r[r.TEXT_ENCODE=3]="TEXT_ENCODE",r[r.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",r[r.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",r[r.BASE256_ENCODE=6]="BASE256_ENCODE"})(kr||(kr={}));var rve=function(){function r(){}return r.decode=function(e){var t=new Zme.default(e),n=new _V.default,i=new _V.default,o=new Array,a=kr.ASCII_ENCODE;do if(a===kr.ASCII_ENCODE)a=this.decodeAsciiSegment(t,n,i);else{switch(a){case kr.C40_ENCODE:this.decodeC40Segment(t,n);break;case kr.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case kr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case kr.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case kr.BASE256_ENCODE:this.decodeBase256Segment(t,n,o);break;default:throw new Wo.default}a=kr.ASCII_ENCODE}while(a!==kr.PAD_ENCODE&&t.available()>0);return i.length()>0&&n.append(i.toString()),new $me.default(e,n.toString(),o.length===0?null:o,null)},r.decodeAsciiSegment=function(e,t,n){var i=!1;do{var o=e.readBits(8);if(o===0)throw new Wo.default;if(o<=128)return i&&(o+=128),t.append(String.fromCharCode(o-1)),kr.ASCII_ENCODE;if(o===129)return kr.PAD_ENCODE;if(o<=229){var a=o-130;a<10&&t.append("0"),t.append(""+a)}else switch(o){case 230:return kr.C40_ENCODE;case 231:return kr.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),n.insert(0,"");break;case 237:t.append("[)>06"),n.insert(0,"");break;case 238:return kr.ANSIX12_ENCODE;case 239:return kr.TEXT_ENCODE;case 240:return kr.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new Wo.default;break}}while(e.available()>0);return kr.ASCII_ENCODE},r.decodeC40Segment=function(e,t){var n=!1,i=[],o=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(var s=0;s<3;s++){var u=i[s];switch(o){case 0:if(u<3)o=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){var f=this.C40_BASIC_SET_CHARS[u];n?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):t.append(f)}else throw new Wo.default;break;case 1:n?(t.append(String.fromCharCode(u+128)),n=!1):t.append(String.fromCharCode(u)),o=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){var f=this.C40_SHIFT2_SET_CHARS[u];n?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):t.append(f)}else switch(u){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new Wo.default}o=0;break;case 3:n?(t.append(String.fromCharCode(u+224)),n=!1):t.append(String.fromCharCode(u+96)),o=0;break;default:throw new Wo.default}}}while(e.available()>0)},r.decodeTextSegment=function(e,t){var n=!1,i=[],o=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(var s=0;s<3;s++){var u=i[s];switch(o){case 0:if(u<3)o=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){var f=this.TEXT_BASIC_SET_CHARS[u];n?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):t.append(f)}else throw new Wo.default;break;case 1:n?(t.append(String.fromCharCode(u+128)),n=!1):t.append(String.fromCharCode(u)),o=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){var f=this.TEXT_SHIFT2_SET_CHARS[u];n?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):t.append(f)}else switch(u){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new Wo.default}o=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){var f=this.TEXT_SHIFT3_SET_CHARS[u];n?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):t.append(f),o=0}else throw new Wo.default;break;default:throw new Wo.default}}}while(e.available()>0)},r.decodeAnsiX12Segment=function(e,t){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var o=0;o<3;o++){var a=n[o];switch(a){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(a<14)t.append(String.fromCharCode(a+44));else if(a<40)t.append(String.fromCharCode(a+51));else throw new Wo.default;break}}}while(e.available()>0)},r.parseTwoBytes=function(e,t,n){var i=(e<<8)+t-1,o=Math.floor(i/1600);n[0]=o,i-=o*1600,o=Math.floor(i/40),n[1]=o,n[2]=i-o*40},r.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var o=8-e.getBitOffset();o!==8&&e.readBits(o);return}(i&32)===0&&(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)},r.decodeBase256Segment=function(e,t,n){var i=1+e.getByteOffset(),o=this.unrandomize255State(e.readBits(8),i++),a;if(o===0?a=e.available()/8|0:o<250?a=o:a=250*(o-249)+this.unrandomize255State(e.readBits(8),i++),a<0)throw new Wo.default;for(var s=new Uint8Array(a),u=0;u<a;u++){if(e.available()<8)throw new Wo.default;s[u]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{t.append(Qme.default.decode(s,eve.default.ISO88591))}catch(f){throw new tve.default("Platform does not support required encoding: "+f.message)}},r.unrandomize255State=function(e,t){var n=149*t%255+1,i=e-n;return i>=0?i:i+256},r.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],r.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],r.TEXT_SHIFT2_SET_CHARS=r.C40_SHIFT2_SET_CHARS,r.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],r}();xO.default=rve});var wV=b(vv=>{"use strict";d();h();var nve=vv&&vv.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(vv,"__esModule",{value:!0});var ive=Zs(),ove=Jf(),ave=Vp(),sve=mV(),uve=xV(),fve=_O(),cve=function(){function r(){this.rsDecoder=new ave.default(ove.default.DATA_MATRIX_FIELD_256)}return r.prototype.decode=function(e){var t,n,i=new sve.default(e),o=i.getVersion(),a=i.readCodewords(),s=uve.default.getDataBlocks(a,o),u=0;try{for(var f=nve(s),l=f.next();!l.done;l=f.next()){var p=l.value;u+=p.getNumDataCodewords()}}catch(U){t={error:U}}finally{try{l&&!l.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}for(var g=new Uint8Array(u),v=s.length,_=0;_<v;_++){var T=s[_],O=T.getCodewords(),R=T.getNumDataCodewords();this.correctErrors(O,R);for(var D=0;D<R;D++)g[D*v+_]=O[D]}return fve.default.decode(g)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new ive.default}for(var i=0;i<t;i++)e[i]=n[i]},r}();vv.default=cve});var EV=b(wO=>{"use strict";d();h();Object.defineProperty(wO,"__esModule",{value:!0});var lve=t6(),dve=Mm(),hve=Um(),pve=je(),w6=Or(),gve=function(){function r(e){this.image=e,this.rectangleDetector=new lve.default(this.image)}return r.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new pve.default;t=this.shiftToModuleCenter(t);var n=t[0],i=t[1],o=t[2],a=t[3],s=this.transitionsBetween(n,a)+1,u=this.transitionsBetween(o,a)+1;(s&1)===1&&(s+=1),(u&1)===1&&(u+=1),4*s<7*u&&4*u<7*s&&(s=u=Math.max(s,u));var f=r.sampleGrid(this.image,n,i,o,a,s,u);return new dve.default(f,[n,i,o,a])},r.shiftPoint=function(e,t,n){var i=(t.getX()-e.getX())/(n+1),o=(t.getY()-e.getY())/(n+1);return new w6.default(e.getX()+i,e.getY()+o)},r.moveAway=function(e,t,n){var i=e.getX(),o=e.getY();return i<t?i-=1:i+=1,o<n?o-=1:o+=1,new w6.default(i,o)},r.prototype.detectSolid1=function(e){var t=e[0],n=e[1],i=e[3],o=e[2],a=this.transitionsBetween(t,n),s=this.transitionsBetween(n,i),u=this.transitionsBetween(i,o),f=this.transitionsBetween(o,t),l=a,p=[o,t,n,i];return l>s&&(l=s,p[0]=t,p[1]=n,p[2]=i,p[3]=o),l>u&&(l=u,p[0]=n,p[1]=i,p[2]=o,p[3]=t),l>f&&(p[0]=i,p[1]=o,p[2]=t,p[3]=n),p},r.prototype.detectSolid2=function(e){var t=e[0],n=e[1],i=e[2],o=e[3],a=this.transitionsBetween(t,o),s=r.shiftPoint(n,i,(a+1)*4),u=r.shiftPoint(i,n,(a+1)*4),f=this.transitionsBetween(s,t),l=this.transitionsBetween(u,o);return f<l?(e[0]=t,e[1]=n,e[2]=i,e[3]=o):(e[0]=n,e[1]=i,e[2]=o,e[3]=t),e},r.prototype.correctTopRight=function(e){var t=e[0],n=e[1],i=e[2],o=e[3],a=this.transitionsBetween(t,o),s=this.transitionsBetween(n,o),u=r.shiftPoint(t,n,(s+1)*4),f=r.shiftPoint(i,n,(a+1)*4);a=this.transitionsBetween(u,o),s=this.transitionsBetween(f,o);var l=new w6.default(o.getX()+(i.getX()-n.getX())/(a+1),o.getY()+(i.getY()-n.getY())/(a+1)),p=new w6.default(o.getX()+(t.getX()-n.getX())/(s+1),o.getY()+(t.getY()-n.getY())/(s+1));if(!this.isValid(l))return this.isValid(p)?p:null;if(!this.isValid(p))return l;var g=this.transitionsBetween(u,l)+this.transitionsBetween(f,l),v=this.transitionsBetween(u,p)+this.transitionsBetween(f,p);return g>v?l:p},r.prototype.shiftToModuleCenter=function(e){var t=e[0],n=e[1],i=e[2],o=e[3],a=this.transitionsBetween(t,o)+1,s=this.transitionsBetween(i,o)+1,u=r.shiftPoint(t,n,s*4),f=r.shiftPoint(i,n,a*4);a=this.transitionsBetween(u,o)+1,s=this.transitionsBetween(f,o)+1,(a&1)===1&&(a+=1),(s&1)===1&&(s+=1);var l=(t.getX()+n.getX()+i.getX()+o.getX())/4,p=(t.getY()+n.getY()+i.getY()+o.getY())/4;t=r.moveAway(t,l,p),n=r.moveAway(n,l,p),i=r.moveAway(i,l,p),o=r.moveAway(o,l,p);var g,v;return u=r.shiftPoint(t,n,s*4),u=r.shiftPoint(u,o,a*4),g=r.shiftPoint(n,t,s*4),g=r.shiftPoint(g,i,a*4),f=r.shiftPoint(i,o,s*4),f=r.shiftPoint(f,n,a*4),v=r.shiftPoint(o,i,s*4),v=r.shiftPoint(v,t,a*4),[u,g,f,v]},r.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},r.sampleGrid=function(e,t,n,i,o,a,s){var u=hve.default.getInstance();return u.sampleGrid(e,a,s,.5,.5,a-.5,.5,a-.5,s-.5,.5,s-.5,t.getX(),t.getY(),o.getX(),o.getY(),i.getX(),i.getY(),n.getX(),n.getY())},r.prototype.transitionsBetween=function(e,t){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),o=Math.trunc(t.getX()),a=Math.trunc(t.getY()),s=Math.abs(a-i)>Math.abs(o-n);if(s){var u=n;n=i,i=u,u=o,o=a,a=u}for(var f=Math.abs(o-n),l=Math.abs(a-i),p=-f/2,g=i<a?1:-1,v=n<o?1:-1,_=0,T=this.image.get(s?i:n,s?n:i),O=n,R=i;O!==o;O+=v){var D=this.image.get(s?R:O,s?O:R);if(D!==T&&(_++,T=D),p+=l,p>0){if(R===a)break;R+=g,p-=f}}return _},r}();wO.default=gve});var b6=b(EO=>{"use strict";d();h();Object.defineProperty(EO,"__esModule",{value:!0});var yve=Ht(),mve=Yo(),vve=Ei(),E6=je(),xve=bi(),bV=Ku(),_ve=Xr(),wve=wV(),Eve=EV(),bve=function(){function r(){this.decoder=new wve.default}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n,i;if(t!=null&&t.has(vve.default.PURE_BARCODE)){var o=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(o),i=r.NO_POINTS}else{var a=new Eve.default(e.getBlackMatrix()).detect();n=this.decoder.decode(a.getBits()),i=a.getPoints()}var s=n.getRawBytes(),u=new xve.default(n.getText(),s,8*s.length,i,yve.default.DATA_MATRIX,_ve.default.currentTimeMillis()),f=n.getByteSegments();f!=null&&u.putMetadata(bV.default.BYTE_SEGMENTS,f);var l=n.getECLevel();return l!=null&&u.putMetadata(bV.default.ERROR_CORRECTION_LEVEL,l),u},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t==null||n==null)throw new E6.default;var i=this.moduleSize(t,e),o=t[1],a=n[1],s=t[0],u=n[0],f=(u-s+1)/i,l=(a-o+1)/i;if(f<=0||l<=0)throw new E6.default;var p=i/2;o+=p,s+=p;for(var g=new mve.default(f,l),v=0;v<l;v++)for(var _=o+v*i,T=0;T<f;T++)e.get(s+T*i,_)&&g.set(T,v);return g},r.moduleSize=function(e,t){for(var n=t.getWidth(),i=e[0],o=e[1];i<n&&t.get(i,o);)i++;if(i===n)throw new E6.default;var a=i-e[0];if(a===0)throw new E6.default;return a},r.NO_POINTS=[],r}();EO.default=bve});var IV=b($p=>{"use strict";d();h();var Ive=$p&&$p.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty($p,"__esModule",{value:!0});$p.BrowserDatamatrixCodeReader=void 0;var Tve=k0(),Sve=b6(),Cve=function(r){Ive(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new Sve.default,t)||this}return e}(Tve.BrowserCodeReader);$p.BrowserDatamatrixCodeReader=Cve});var _v=b(Zp=>{"use strict";d();h();Object.defineProperty(Zp,"__esModule",{value:!0});Zp.ErrorCorrectionLevelValues=void 0;var Ave=HE(),Ove=ct(),xv;(function(r){r[r.L=0]="L",r[r.M=1]="M",r[r.Q=2]="Q",r[r.H=3]="H"})(xv=Zp.ErrorCorrectionLevelValues||(Zp.ErrorCorrectionLevelValues={}));var Dve=function(){function r(e,t,n){this.value=e,this.stringValue=t,this.bits=n,r.FOR_BITS.set(n,this),r.FOR_VALUE.set(e,this)}return r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.fromString=function(e){switch(e){case"L":return r.L;case"M":return r.M;case"Q":return r.Q;case"H":return r.H;default:throw new Ave.default(e+"not available")}},r.prototype.toString=function(){return this.stringValue},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.forBits=function(e){if(e<0||e>=r.FOR_BITS.size)throw new Ove.default;return r.FOR_BITS.get(e)},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.L=new r(xv.L,"L",1),r.M=new r(xv.M,"M",0),r.Q=new r(xv.Q,"Q",3),r.H=new r(xv.H,"H",2),r}();Zp.default=Dve});var I6=b(wv=>{"use strict";d();h();var Rve=wv&&wv.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(wv,"__esModule",{value:!0});var Pve=_v(),Bve=Eo(),Nve=function(){function r(e){this.errorCorrectionLevel=Pve.default.forBits(e>>3&3),this.dataMask=e&7}return r.numBitsDiffering=function(e,t){return Bve.default.bitCount(e^t)},r.decodeFormatInformation=function(e,t){var n=r.doDecodeFormatInformation(e,t);return n!==null?n:r.doDecodeFormatInformation(e^r.FORMAT_INFO_MASK_QR,t^r.FORMAT_INFO_MASK_QR)},r.doDecodeFormatInformation=function(e,t){var n,i,o=Number.MAX_SAFE_INTEGER,a=0;try{for(var s=Rve(r.FORMAT_INFO_DECODE_LOOKUP),u=s.next();!u.done;u=s.next()){var f=u.value,l=f[0];if(l===e||l===t)return new r(f[1]);var p=r.numBitsDiffering(e,l);p<o&&(a=f[1],o=p),e!==t&&(p=r.numBitsDiffering(t,l),p<o&&(a=f[1],o=p))}}catch(g){n={error:g}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o<=3?new r(a):null},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getDataMask=function(){return this.dataMask},r.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},r.FORMAT_INFO_MASK_QR=21522,r.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],r}();wv.default=Nve});var TV=b(Ev=>{"use strict";d();h();var Mve=Ev&&Ev.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ev,"__esModule",{value:!0});var qve=function(){function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return r.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},r.prototype.getNumBlocks=function(){var e,t,n=0,i=this.ecBlocks;try{for(var o=Mve(i),a=o.next();!a.done;a=o.next()){var s=a.value;n+=s.getCount()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n},r.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},r.prototype.getECBlocks=function(){return this.ecBlocks},r}();Ev.default=qve});var SV=b(bO=>{"use strict";d();h();Object.defineProperty(bO,"__esModule",{value:!0});var Fve=function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r}();bO.default=Fve});var Iv=b(bv=>{"use strict";d();h();var Uve=bv&&bv.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(bv,"__esModule",{value:!0});var Lve=Yo(),kve=I6(),ie=TV(),G=SV(),CV=pr(),jve=ct(),Hve=function(){function r(e,t){for(var n,i,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=o;var s=0,u=o[0].getECCodewordsPerBlock(),f=o[0].getECBlocks();try{for(var l=Uve(f),p=l.next();!p.done;p=l.next()){var g=p.value;s+=g.getCount()*(g.getDataCodewords()+u)}}catch(v){n={error:v}}finally{try{p&&!p.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}this.totalCodewords=s}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},r.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},r.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new CV.default;try{return this.getVersionForNumber((e-17)/4)}catch{throw new CV.default}},r.getVersionForNumber=function(e){if(e<1||e>40)throw new jve.default;return r.VERSIONS[e-1]},r.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,n=0,i=0;i<r.VERSION_DECODE_INFO.length;i++){var o=r.VERSION_DECODE_INFO[i];if(o===e)return r.getVersionForNumber(i+7);var a=kve.default.numBitsDiffering(e,o);a<t&&(n=i+7,t=a)}return t<=3?r.getVersionForNumber(n):null},r.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new Lve.default(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var o=this.alignmentPatternCenters[i]-2,a=0;a<n;a++)i===0&&(a===0||a===n-1)||i===n-1&&a===0||t.setRegion(this.alignmentPatternCenters[a]-2,o,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},r.prototype.toString=function(){return""+this.versionNumber},r.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),r.VERSIONS=[new r(1,new Int32Array(0),new ie.default(7,new G.default(1,19)),new ie.default(10,new G.default(1,16)),new ie.default(13,new G.default(1,13)),new ie.default(17,new G.default(1,9))),new r(2,Int32Array.from([6,18]),new ie.default(10,new G.default(1,34)),new ie.default(16,new G.default(1,28)),new ie.default(22,new G.default(1,22)),new ie.default(28,new G.default(1,16))),new r(3,Int32Array.from([6,22]),new ie.default(15,new G.default(1,55)),new ie.default(26,new G.default(1,44)),new ie.default(18,new G.default(2,17)),new ie.default(22,new G.default(2,13))),new r(4,Int32Array.from([6,26]),new ie.default(20,new G.default(1,80)),new ie.default(18,new G.default(2,32)),new ie.default(26,new G.default(2,24)),new ie.default(16,new G.default(4,9))),new r(5,Int32Array.from([6,30]),new ie.default(26,new G.default(1,108)),new ie.default(24,new G.default(2,43)),new ie.default(18,new G.default(2,15),new G.default(2,16)),new ie.default(22,new G.default(2,11),new G.default(2,12))),new r(6,Int32Array.from([6,34]),new ie.default(18,new G.default(2,68)),new ie.default(16,new G.default(4,27)),new ie.default(24,new G.default(4,19)),new ie.default(28,new G.default(4,15))),new r(7,Int32Array.from([6,22,38]),new ie.default(20,new G.default(2,78)),new ie.default(18,new G.default(4,31)),new ie.default(18,new G.default(2,14),new G.default(4,15)),new ie.default(26,new G.default(4,13),new G.default(1,14))),new r(8,Int32Array.from([6,24,42]),new ie.default(24,new G.default(2,97)),new ie.default(22,new G.default(2,38),new G.default(2,39)),new ie.default(22,new G.default(4,18),new G.default(2,19)),new ie.default(26,new G.default(4,14),new G.default(2,15))),new r(9,Int32Array.from([6,26,46]),new ie.default(30,new G.default(2,116)),new ie.default(22,new G.default(3,36),new G.default(2,37)),new ie.default(20,new G.default(4,16),new G.default(4,17)),new ie.default(24,new G.default(4,12),new G.default(4,13))),new r(10,Int32Array.from([6,28,50]),new ie.default(18,new G.default(2,68),new G.default(2,69)),new ie.default(26,new G.default(4,43),new G.default(1,44)),new ie.default(24,new G.default(6,19),new G.default(2,20)),new ie.default(28,new G.default(6,15),new G.default(2,16))),new r(11,Int32Array.from([6,30,54]),new ie.default(20,new G.default(4,81)),new ie.default(30,new G.default(1,50),new G.default(4,51)),new ie.default(28,new G.default(4,22),new G.default(4,23)),new ie.default(24,new G.default(3,12),new G.default(8,13))),new r(12,Int32Array.from([6,32,58]),new ie.default(24,new G.default(2,92),new G.default(2,93)),new ie.default(22,new G.default(6,36),new G.default(2,37)),new ie.default(26,new G.default(4,20),new G.default(6,21)),new ie.default(28,new G.default(7,14),new G.default(4,15))),new r(13,Int32Array.from([6,34,62]),new ie.default(26,new G.default(4,107)),new ie.default(22,new G.default(8,37),new G.default(1,38)),new ie.default(24,new G.default(8,20),new G.default(4,21)),new ie.default(22,new G.default(12,11),new G.default(4,12))),new r(14,Int32Array.from([6,26,46,66]),new ie.default(30,new G.default(3,115),new G.default(1,116)),new ie.default(24,new G.default(4,40),new G.default(5,41)),new ie.default(20,new G.default(11,16),new G.default(5,17)),new ie.default(24,new G.default(11,12),new G.default(5,13))),new r(15,Int32Array.from([6,26,48,70]),new ie.default(22,new G.default(5,87),new G.default(1,88)),new ie.default(24,new G.default(5,41),new G.default(5,42)),new ie.default(30,new G.default(5,24),new G.default(7,25)),new ie.default(24,new G.default(11,12),new G.default(7,13))),new r(16,Int32Array.from([6,26,50,74]),new ie.default(24,new G.default(5,98),new G.default(1,99)),new ie.default(28,new G.default(7,45),new G.default(3,46)),new ie.default(24,new G.default(15,19),new G.default(2,20)),new ie.default(30,new G.default(3,15),new G.default(13,16))),new r(17,Int32Array.from([6,30,54,78]),new ie.default(28,new G.default(1,107),new G.default(5,108)),new ie.default(28,new G.default(10,46),new G.default(1,47)),new ie.default(28,new G.default(1,22),new G.default(15,23)),new ie.default(28,new G.default(2,14),new G.default(17,15))),new r(18,Int32Array.from([6,30,56,82]),new ie.default(30,new G.default(5,120),new G.default(1,121)),new ie.default(26,new G.default(9,43),new G.default(4,44)),new ie.default(28,new G.default(17,22),new G.default(1,23)),new ie.default(28,new G.default(2,14),new G.default(19,15))),new r(19,Int32Array.from([6,30,58,86]),new ie.default(28,new G.default(3,113),new G.default(4,114)),new ie.default(26,new G.default(3,44),new G.default(11,45)),new ie.default(26,new G.default(17,21),new G.default(4,22)),new ie.default(26,new G.default(9,13),new G.default(16,14))),new r(20,Int32Array.from([6,34,62,90]),new ie.default(28,new G.default(3,107),new G.default(5,108)),new ie.default(26,new G.default(3,41),new G.default(13,42)),new ie.default(30,new G.default(15,24),new G.default(5,25)),new ie.default(28,new G.default(15,15),new G.default(10,16))),new r(21,Int32Array.from([6,28,50,72,94]),new ie.default(28,new G.default(4,116),new G.default(4,117)),new ie.default(26,new G.default(17,42)),new ie.default(28,new G.default(17,22),new G.default(6,23)),new ie.default(30,new G.default(19,16),new G.default(6,17))),new r(22,Int32Array.from([6,26,50,74,98]),new ie.default(28,new G.default(2,111),new G.default(7,112)),new ie.default(28,new G.default(17,46)),new ie.default(30,new G.default(7,24),new G.default(16,25)),new ie.default(24,new G.default(34,13))),new r(23,Int32Array.from([6,30,54,78,102]),new ie.default(30,new G.default(4,121),new G.default(5,122)),new ie.default(28,new G.default(4,47),new G.default(14,48)),new ie.default(30,new G.default(11,24),new G.default(14,25)),new ie.default(30,new G.default(16,15),new G.default(14,16))),new r(24,Int32Array.from([6,28,54,80,106]),new ie.default(30,new G.default(6,117),new G.default(4,118)),new ie.default(28,new G.default(6,45),new G.default(14,46)),new ie.default(30,new G.default(11,24),new G.default(16,25)),new ie.default(30,new G.default(30,16),new G.default(2,17))),new r(25,Int32Array.from([6,32,58,84,110]),new ie.default(26,new G.default(8,106),new G.default(4,107)),new ie.default(28,new G.default(8,47),new G.default(13,48)),new ie.default(30,new G.default(7,24),new G.default(22,25)),new ie.default(30,new G.default(22,15),new G.default(13,16))),new r(26,Int32Array.from([6,30,58,86,114]),new ie.default(28,new G.default(10,114),new G.default(2,115)),new ie.default(28,new G.default(19,46),new G.default(4,47)),new ie.default(28,new G.default(28,22),new G.default(6,23)),new ie.default(30,new G.default(33,16),new G.default(4,17))),new r(27,Int32Array.from([6,34,62,90,118]),new ie.default(30,new G.default(8,122),new G.default(4,123)),new ie.default(28,new G.default(22,45),new G.default(3,46)),new ie.default(30,new G.default(8,23),new G.default(26,24)),new ie.default(30,new G.default(12,15),new G.default(28,16))),new r(28,Int32Array.from([6,26,50,74,98,122]),new ie.default(30,new G.default(3,117),new G.default(10,118)),new ie.default(28,new G.default(3,45),new G.default(23,46)),new ie.default(30,new G.default(4,24),new G.default(31,25)),new ie.default(30,new G.default(11,15),new G.default(31,16))),new r(29,Int32Array.from([6,30,54,78,102,126]),new ie.default(30,new G.default(7,116),new G.default(7,117)),new ie.default(28,new G.default(21,45),new G.default(7,46)),new ie.default(30,new G.default(1,23),new G.default(37,24)),new ie.default(30,new G.default(19,15),new G.default(26,16))),new r(30,Int32Array.from([6,26,52,78,104,130]),new ie.default(30,new G.default(5,115),new G.default(10,116)),new ie.default(28,new G.default(19,47),new G.default(10,48)),new ie.default(30,new G.default(15,24),new G.default(25,25)),new ie.default(30,new G.default(23,15),new G.default(25,16))),new r(31,Int32Array.from([6,30,56,82,108,134]),new ie.default(30,new G.default(13,115),new G.default(3,116)),new ie.default(28,new G.default(2,46),new G.default(29,47)),new ie.default(30,new G.default(42,24),new G.default(1,25)),new ie.default(30,new G.default(23,15),new G.default(28,16))),new r(32,Int32Array.from([6,34,60,86,112,138]),new ie.default(30,new G.default(17,115)),new ie.default(28,new G.default(10,46),new G.default(23,47)),new ie.default(30,new G.default(10,24),new G.default(35,25)),new ie.default(30,new G.default(19,15),new G.default(35,16))),new r(33,Int32Array.from([6,30,58,86,114,142]),new ie.default(30,new G.default(17,115),new G.default(1,116)),new ie.default(28,new G.default(14,46),new G.default(21,47)),new ie.default(30,new G.default(29,24),new G.default(19,25)),new ie.default(30,new G.default(11,15),new G.default(46,16))),new r(34,Int32Array.from([6,34,62,90,118,146]),new ie.default(30,new G.default(13,115),new G.default(6,116)),new ie.default(28,new G.default(14,46),new G.default(23,47)),new ie.default(30,new G.default(44,24),new G.default(7,25)),new ie.default(30,new G.default(59,16),new G.default(1,17))),new r(35,Int32Array.from([6,30,54,78,102,126,150]),new ie.default(30,new G.default(12,121),new G.default(7,122)),new ie.default(28,new G.default(12,47),new G.default(26,48)),new ie.default(30,new G.default(39,24),new G.default(14,25)),new ie.default(30,new G.default(22,15),new G.default(41,16))),new r(36,Int32Array.from([6,24,50,76,102,128,154]),new ie.default(30,new G.default(6,121),new G.default(14,122)),new ie.default(28,new G.default(6,47),new G.default(34,48)),new ie.default(30,new G.default(46,24),new G.default(10,25)),new ie.default(30,new G.default(2,15),new G.default(64,16))),new r(37,Int32Array.from([6,28,54,80,106,132,158]),new ie.default(30,new G.default(17,122),new G.default(4,123)),new ie.default(28,new G.default(29,46),new G.default(14,47)),new ie.default(30,new G.default(49,24),new G.default(10,25)),new ie.default(30,new G.default(24,15),new G.default(46,16))),new r(38,Int32Array.from([6,32,58,84,110,136,162]),new ie.default(30,new G.default(4,122),new G.default(18,123)),new ie.default(28,new G.default(13,46),new G.default(32,47)),new ie.default(30,new G.default(48,24),new G.default(14,25)),new ie.default(30,new G.default(42,15),new G.default(32,16))),new r(39,Int32Array.from([6,26,54,82,110,138,166]),new ie.default(30,new G.default(20,117),new G.default(4,118)),new ie.default(28,new G.default(40,47),new G.default(7,48)),new ie.default(30,new G.default(43,24),new G.default(22,25)),new ie.default(30,new G.default(10,15),new G.default(67,16))),new r(40,Int32Array.from([6,30,58,86,114,142,170]),new ie.default(30,new G.default(19,118),new G.default(6,119)),new ie.default(28,new G.default(18,47),new G.default(31,48)),new ie.default(30,new G.default(34,24),new G.default(34,25)),new ie.default(30,new G.default(20,15),new G.default(61,16)))],r}();bv.default=Hve});var IO=b(Qp=>{"use strict";d();h();Object.defineProperty(Qp,"__esModule",{value:!0});Qp.DataMaskValues=void 0;var bn;(function(r){r[r.DATA_MASK_000=0]="DATA_MASK_000",r[r.DATA_MASK_001=1]="DATA_MASK_001",r[r.DATA_MASK_010=2]="DATA_MASK_010",r[r.DATA_MASK_011=3]="DATA_MASK_011",r[r.DATA_MASK_100=4]="DATA_MASK_100",r[r.DATA_MASK_101=5]="DATA_MASK_101",r[r.DATA_MASK_110=6]="DATA_MASK_110",r[r.DATA_MASK_111=7]="DATA_MASK_111"})(bn=Qp.DataMaskValues||(Qp.DataMaskValues={}));var Kve=function(){function r(e,t){this.value=e,this.isMasked=t}return r.prototype.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},r.values=new Map([[bn.DATA_MASK_000,new r(bn.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[bn.DATA_MASK_001,new r(bn.DATA_MASK_001,function(e,t){return(e&1)===0})],[bn.DATA_MASK_010,new r(bn.DATA_MASK_010,function(e,t){return t%3===0})],[bn.DATA_MASK_011,new r(bn.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[bn.DATA_MASK_100,new r(bn.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[bn.DATA_MASK_101,new r(bn.DATA_MASK_101,function(e,t){return e*t%6===0})],[bn.DATA_MASK_110,new r(bn.DATA_MASK_110,function(e,t){return e*t%6<3})],[bn.DATA_MASK_111,new r(bn.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),r}();Qp.default=Kve});var OV=b(SO=>{"use strict";d();h();Object.defineProperty(SO,"__esModule",{value:!0});var TO=Iv(),Vve=I6(),AV=IO(),T6=pr(),Gve=function(){function r(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new T6.default;this.bitMatrix=e}return r.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),o=0,a=i-7,n=i-1;n>=a;n--)o=this.copyBit(8,n,o);for(var t=i-8;t<i;t++)o=this.copyBit(t,8,o);if(this.parsedFormatInfo=Vve.default.decodeFormatInformation(e,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new T6.default},r.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return TO.default.getVersionForNumber(t);for(var n=0,i=e-11,o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(a,o,n);var s=TO.default.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(a,o,n);if(s=TO.default.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new T6.default},r.prototype.copyBit=function(e,t,n){var i=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return i?n<<1|1:n<<1},r.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),n=AV.default.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var o=t.buildFunctionPattern(),a=!0,s=new Uint8Array(t.getTotalCodewords()),u=0,f=0,l=0,p=i-1;p>0;p-=2){p===6&&p--;for(var g=0;g<i;g++)for(var v=a?i-1-g:g,_=0;_<2;_++)o.get(p-_,v)||(l++,f<<=1,this.bitMatrix.get(p-_,v)&&(f|=1),l===8&&(s[u++]=f,l=0,f=0));a=!a}if(u!==t.getTotalCodewords())throw new T6.default;return s},r.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=AV.default.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},r.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},r.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,n=e.getWidth();t<n;t++)for(var i=t+1,o=e.getHeight();i<o;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))},r}();SO.default=Gve});var RV=b(Tv=>{"use strict";d();h();var DV=Tv&&Tv.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Tv,"__esModule",{value:!0});var Yve=ct(),zve=function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t,n){var i,o,a,s;if(e.length!==t.getTotalCodewords())throw new Yve.default;var u=t.getECBlocksForLevel(n),f=0,l=u.getECBlocks();try{for(var p=DV(l),g=p.next();!g.done;g=p.next()){var v=g.value;f+=v.getCount()}}catch(w){i={error:w}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}var _=new Array(f),T=0;try{for(var O=DV(l),R=O.next();!R.done;R=O.next())for(var v=R.value,D=0;D<v.getCount();D++){var U=v.getDataCodewords(),K=u.getECCodewordsPerBlock()+U;_[T++]=new r(U,new Uint8Array(K))}}catch(w){a={error:w}}finally{try{R&&!R.done&&(s=O.return)&&s.call(O)}finally{if(a)throw a.error}}for(var A=_[0].codewords.length,c=_.length-1;c>=0;){var y=_[c].codewords.length;if(y===A)break;c--}c++;for(var x=A-u.getECCodewordsPerBlock(),M=0,D=0;D<x;D++)for(var L=0;L<T;L++)_[L].codewords[D]=e[M++];for(var L=c;L<T;L++)_[L].codewords[x]=e[M++];for(var ce=_[0].codewords.length,D=x;D<ce;D++)for(var L=0;L<T;L++){var q=L<c?D:D+1;_[L].codewords[q]=e[M++]}return _},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r}();Tv.default=zve});var S6=b(eg=>{"use strict";d();h();Object.defineProperty(eg,"__esModule",{value:!0});eg.ModeValues=void 0;var Wve=ct(),ru;(function(r){r[r.TERMINATOR=0]="TERMINATOR",r[r.NUMERIC=1]="NUMERIC",r[r.ALPHANUMERIC=2]="ALPHANUMERIC",r[r.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",r[r.BYTE=4]="BYTE",r[r.ECI=5]="ECI",r[r.KANJI=6]="KANJI",r[r.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",r[r.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",r[r.HANZI=9]="HANZI"})(ru=eg.ModeValues||(eg.ModeValues={}));var Xve=function(){function r(e,t,n,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=i,r.FOR_BITS.set(i,this),r.FOR_VALUE.set(e,this)}return r.forBits=function(e){var t=r.FOR_BITS.get(e);if(t===void 0)throw new Wve.default;return t},r.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),n;return t<=9?n=0:t<=26?n=1:n=2,this.characterCountBitsForVersions[n]},r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.toString=function(){return this.stringValue},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.TERMINATOR=new r(ru.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),r.NUMERIC=new r(ru.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),r.ALPHANUMERIC=new r(ru.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),r.STRUCTURED_APPEND=new r(ru.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),r.BYTE=new r(ru.BYTE,"BYTE",Int32Array.from([8,16,16]),4),r.ECI=new r(ru.ECI,"ECI",Int32Array.from([0,0,0]),7),r.KANJI=new r(ru.KANJI,"KANJI",Int32Array.from([8,10,12]),8),r.FNC1_FIRST_POSITION=new r(ru.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),r.FNC1_SECOND_POSITION=new r(ru.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),r.HANZI=new r(ru.HANZI,"HANZI",Int32Array.from([8,10,12]),13),r}();eg.default=Xve});var DO=b(OO=>{"use strict";d();h();Object.defineProperty(OO,"__esModule",{value:!0});var Jve=_6(),$ve=Wf(),Zve=Hp(),CO=eu(),Dr=pr(),Qve=Ar(),AO=lh(),Xo=S6(),e2e=function(){function r(){}return r.decode=function(e,t,n,i){var o=new Jve.default(e),a=new Qve.default,s=new Array,u=-1,f=-1;try{var l=null,p=!1,g=void 0;do{if(o.available()<4)g=Xo.default.TERMINATOR;else{var v=o.readBits(4);g=Xo.default.forBits(v)}switch(g){case Xo.default.TERMINATOR:break;case Xo.default.FNC1_FIRST_POSITION:case Xo.default.FNC1_SECOND_POSITION:p=!0;break;case Xo.default.STRUCTURED_APPEND:if(o.available()<16)throw new Dr.default;u=o.readBits(8),f=o.readBits(8);break;case Xo.default.ECI:var _=r.parseECIValue(o);if(l=$ve.default.getCharacterSetECIByValue(_),l===null)throw new Dr.default;break;case Xo.default.HANZI:var T=o.readBits(4),O=o.readBits(g.getCharacterCountBits(t));T===r.GB2312_SUBSET&&r.decodeHanziSegment(o,a,O);break;default:var R=o.readBits(g.getCharacterCountBits(t));switch(g){case Xo.default.NUMERIC:r.decodeNumericSegment(o,a,R);break;case Xo.default.ALPHANUMERIC:r.decodeAlphanumericSegment(o,a,R,p);break;case Xo.default.BYTE:r.decodeByteSegment(o,a,R,l,s,i);break;case Xo.default.KANJI:r.decodeKanjiSegment(o,a,R);break;default:throw new Dr.default}break}}while(g!==Xo.default.TERMINATOR)}catch{throw new Dr.default}return new Zve.default(e,a.toString(),s.length===0?null:s,n===null?null:n.toString(),u,f)},r.decodeHanziSegment=function(e,t,n){if(n*13>e.available())throw new Dr.default;for(var i=new Uint8Array(2*n),o=0;n>0;){var a=e.readBits(13),s=a/96<<8&4294967295|a%96;s<959?s+=41377:s+=42657,i[o]=s>>8&255,i[o+1]=s&255,o+=2,n--}try{t.append(AO.default.decode(i,CO.default.GB2312))}catch(u){throw new Dr.default(u)}},r.decodeKanjiSegment=function(e,t,n){if(n*13>e.available())throw new Dr.default;for(var i=new Uint8Array(2*n),o=0;n>0;){var a=e.readBits(13),s=a/192<<8&4294967295|a%192;s<7936?s+=33088:s+=49472,i[o]=s>>8,i[o+1]=s,o+=2,n--}try{t.append(AO.default.decode(i,CO.default.SHIFT_JIS))}catch(u){throw new Dr.default(u)}},r.decodeByteSegment=function(e,t,n,i,o,a){if(8*n>e.available())throw new Dr.default;for(var s=new Uint8Array(n),u=0;u<n;u++)s[u]=e.readBits(8);var f;i===null?f=CO.default.guessEncoding(s,a):f=i.getName();try{t.append(AO.default.decode(s,f))}catch(l){throw new Dr.default(l)}o.push(s)},r.toAlphaNumericChar=function(e){if(e>=r.ALPHANUMERIC_CHARS.length)throw new Dr.default;return r.ALPHANUMERIC_CHARS[e]},r.decodeAlphanumericSegment=function(e,t,n,i){for(var o=t.length();n>1;){if(e.available()<11)throw new Dr.default;var a=e.readBits(11);t.append(r.toAlphaNumericChar(Math.floor(a/45))),t.append(r.toAlphaNumericChar(a%45)),n-=2}if(n===1){if(e.available()<6)throw new Dr.default;t.append(r.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=o;s<t.length();s++)t.charAt(s)==="%"&&(s<t.length()-1&&t.charAt(s+1)==="%"?t.deleteCharAt(s+1):t.setCharAt(s,String.fromCharCode(29)))},r.decodeNumericSegment=function(e,t,n){for(;n>=3;){if(e.available()<10)throw new Dr.default;var i=e.readBits(10);if(i>=1e3)throw new Dr.default;t.append(r.toAlphaNumericChar(Math.floor(i/100))),t.append(r.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(r.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new Dr.default;var o=e.readBits(7);if(o>=100)throw new Dr.default;t.append(r.toAlphaNumericChar(Math.floor(o/10))),t.append(r.toAlphaNumericChar(o%10))}else if(n===1){if(e.available()<4)throw new Dr.default;var a=e.readBits(4);if(a>=10)throw new Dr.default;t.append(r.toAlphaNumericChar(a))}},r.parseECIValue=function(e){var t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){var n=e.readBits(8);return(t&63)<<8&4294967295|n}if((t&224)===192){var i=e.readBits(16);return(t&31)<<16&4294967295|i}throw new Dr.default},r.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",r.GB2312_SUBSET=1,r}();OO.default=e2e});var PO=b(RO=>{"use strict";d();h();Object.defineProperty(RO,"__esModule",{value:!0});var t2e=function(){function r(e){this.mirrored=e}return r.prototype.isMirrored=function(){return this.mirrored},r.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},r}();RO.default=t2e});var BV=b(Sv=>{"use strict";d();h();var PV=Sv&&Sv.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Sv,"__esModule",{value:!0});var r2e=Zs(),n2e=Yo(),i2e=Jf(),o2e=Vp(),a2e=OV(),s2e=RV(),u2e=DO(),f2e=PO(),c2e=function(){function r(){this.rsDecoder=new o2e.default(i2e.default.QR_CODE_FIELD_256)}return r.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(n2e.default.parseFromBooleanArray(e),t)},r.prototype.decodeBitMatrix=function(e,t){var n=new a2e.default(e),i=null;try{return this.decodeBitMatrixParser(n,t)}catch(a){i=a}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var o=this.decodeBitMatrixParser(n,t);return o.setOther(new f2e.default(!0)),o}catch(a){throw i!==null?i:a}},r.prototype.decodeBitMatrixParser=function(e,t){var n,i,o,a,s=e.readVersion(),u=e.readFormatInformation().getErrorCorrectionLevel(),f=e.readCodewords(),l=s2e.default.getDataBlocks(f,s,u),p=0;try{for(var g=PV(l),v=g.next();!v.done;v=g.next()){var _=v.value;p+=_.getNumDataCodewords()}}catch(c){n={error:c}}finally{try{v&&!v.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}var T=new Uint8Array(p),O=0;try{for(var R=PV(l),D=R.next();!D.done;D=R.next()){var _=D.value,U=_.getCodewords(),K=_.getNumDataCodewords();this.correctErrors(U,K);for(var A=0;A<K;A++)T[O++]=U[A]}}catch(c){o={error:c}}finally{try{D&&!D.done&&(a=R.return)&&a.call(R)}finally{if(o)throw o.error}}return u2e.default.decode(T,s,u,t)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new r2e.default}for(var i=0;i<t;i++)e[i]=n[i]},r}();Sv.default=c2e});var NV=b(Cv=>{"use strict";d();h();var l2e=Cv&&Cv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Cv,"__esModule",{value:!0});var d2e=Or(),h2e=function(r){l2e(e,r);function e(t,n,i){var o=r.call(this,t,n)||this;return o.estimatedModuleSize=i,o}return e.prototype.aboutEquals=function(t,n,i){if(Math.abs(n-this.getY())<=t&&Math.abs(i-this.getX())<=t){var o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,i){var o=(this.getX()+n)/2,a=(this.getY()+t)/2,s=(this.estimatedModuleSize+i)/2;return new e(o,a,s)},e}(d2e.default);Cv.default=h2e});var MV=b(Av=>{"use strict";d();h();var p2e=Av&&Av.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Av,"__esModule",{value:!0});var g2e=NV(),y2e=je(),m2e=function(){function r(e,t,n,i,o,a,s){this.image=e,this.startX=t,this.startY=n,this.width=i,this.height=o,this.moduleSize=a,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return r.prototype.find=function(){for(var e=this.startX,t=this.height,n=this.width,i=e+n,o=this.startY+t/2,a=new Int32Array(3),s=this.image,u=0;u<t;u++){var f=o+((u&1)===0?Math.floor((u+1)/2):-Math.floor((u+1)/2));a[0]=0,a[1]=0,a[2]=0;for(var l=e;l<i&&!s.get(l,f);)l++;for(var p=0;l<i;){if(s.get(l,f))if(p===1)a[1]++;else if(p===2){if(this.foundPatternCross(a)){var g=this.handlePossibleCenter(a,f,l);if(g!==null)return g}a[0]=a[2],a[1]=1,a[2]=0,p=1}else a[++p]++;else p===1&&p++,a[p]++;l++}if(this.foundPatternCross(a)){var g=this.handlePossibleCenter(a,f,i);if(g!==null)return g}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new y2e.default},r.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},r.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,n=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=n)return!1;return!0},r.prototype.crossCheckVertical=function(e,t,n,i){var o=this.image,a=o.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var u=e;u>=0&&o.get(t,u)&&s[1]<=n;)s[1]++,u--;if(u<0||s[1]>n)return NaN;for(;u>=0&&!o.get(t,u)&&s[0]<=n;)s[0]++,u--;if(s[0]>n)return NaN;for(u=e+1;u<a&&o.get(t,u)&&s[1]<=n;)s[1]++,u++;if(u===a||s[1]>n)return NaN;for(;u<a&&!o.get(t,u)&&s[2]<=n;)s[2]++,u++;if(s[2]>n)return NaN;var f=s[0]+s[1]+s[2];return 5*Math.abs(f-i)>=2*i?NaN:this.foundPatternCross(s)?r.centerFromEnd(s,u):NaN},r.prototype.handlePossibleCenter=function(e,t,n){var i,o,a=e[0]+e[1]+e[2],s=r.centerFromEnd(e,n),u=this.crossCheckVertical(t,s,2*e[1],a);if(!isNaN(u)){var f=(e[0]+e[1]+e[2])/3;try{for(var l=p2e(this.possibleCenters),p=l.next();!p.done;p=l.next()){var g=p.value;if(g.aboutEquals(f,u,s))return g.combineEstimate(u,s,f)}}catch(_){i={error:_}}finally{try{p&&!p.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}var v=new g2e.default(s,u,f);this.possibleCenters.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return null},r}();Av.default=m2e});var qV=b(Ov=>{"use strict";d();h();var v2e=Ov&&Ov.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ov,"__esModule",{value:!0});var x2e=Or(),_2e=function(r){v2e(e,r);function e(t,n,i,o){var a=r.call(this,t,n)||this;return a.estimatedModuleSize=i,a.count=o,o===void 0&&(a.count=1),a}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,n,i){if(Math.abs(n-this.getY())<=t&&Math.abs(i-this.getX())<=t){var o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,i){var o=this.count+1,a=(this.count*this.getX()+n)/o,s=(this.count*this.getY()+t)/o,u=(this.count*this.estimatedModuleSize+i)/o;return new e(a,s,u,o)},e}(x2e.default);Ov.default=_2e});var FV=b(BO=>{"use strict";d();h();Object.defineProperty(BO,"__esModule",{value:!0});var w2e=function(){function r(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r}();BO.default=w2e});var LV=b(Rv=>{"use strict";d();h();var Dv=Rv&&Rv.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Rv,"__esModule",{value:!0});var UV=Ei(),E2e=Or(),b2e=qV(),I2e=FV(),T2e=je(),S2e=function(){function r(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return r.prototype.getImage=function(){return this.image},r.prototype.getPossibleCenters=function(){return this.possibleCenters},r.prototype.find=function(e){var t=e!=null&&e.get(UV.default.TRY_HARDER)!==void 0,n=e!=null&&e.get(UV.default.PURE_BARCODE)!==void 0,i=this.image,o=i.getHeight(),a=i.getWidth(),s=Math.floor(3*o/(4*r.MAX_MODULES));(s<r.MIN_SKIP||t)&&(s=r.MIN_SKIP);for(var u=!1,f=new Int32Array(5),l=s-1;l<o&&!u;l+=s){f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0;for(var p=0,g=0;g<a;g++)if(i.get(g,l))(p&1)===1&&p++,f[p]++;else if((p&1)===0)if(p===4)if(r.foundPatternCross(f)){var v=this.handlePossibleCenter(f,l,g,n);if(v===!0)if(s=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{var _=this.findRowSkip();_>f[2]&&(l+=_-f[2]-s,g=a-1)}else{f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,p=3;continue}p=0,f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0}else f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,p=3;else f[++p]++;else f[p]++;if(r.foundPatternCross(f)){var v=this.handlePossibleCenter(f,l,a,n);v===!0&&(s=f[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}}var T=this.selectBestPatterns();return E2e.default.orderBestPatterns(T),new I2e.default(T)},r.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},r.foundPatternCross=function(e){for(var t=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;t+=i}if(t<7)return!1;var o=t/7,a=o/2;return Math.abs(o-e[0])<a&&Math.abs(o-e[1])<a&&Math.abs(3*o-e[2])<3*a&&Math.abs(o-e[3])<a&&Math.abs(o-e[4])<a},r.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},r.prototype.crossCheckDiagonal=function(e,t,n,i){for(var o=this.getCrossCheckStateCount(),a=0,s=this.image;e>=a&&t>=a&&s.get(t-a,e-a);)o[2]++,a++;if(e<a||t<a)return!1;for(;e>=a&&t>=a&&!s.get(t-a,e-a)&&o[1]<=n;)o[1]++,a++;if(e<a||t<a||o[1]>n)return!1;for(;e>=a&&t>=a&&s.get(t-a,e-a)&&o[0]<=n;)o[0]++,a++;if(o[0]>n)return!1;var u=s.getHeight(),f=s.getWidth();for(a=1;e+a<u&&t+a<f&&s.get(t+a,e+a);)o[2]++,a++;if(e+a>=u||t+a>=f)return!1;for(;e+a<u&&t+a<f&&!s.get(t+a,e+a)&&o[3]<n;)o[3]++,a++;if(e+a>=u||t+a>=f||o[3]>=n)return!1;for(;e+a<u&&t+a<f&&s.get(t+a,e+a)&&o[4]<n;)o[4]++,a++;if(o[4]>=n)return!1;var l=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(l-i)<2*i&&r.foundPatternCross(o)},r.prototype.crossCheckVertical=function(e,t,n,i){for(var o=this.image,a=o.getHeight(),s=this.getCrossCheckStateCount(),u=e;u>=0&&o.get(t,u);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!o.get(t,u)&&s[1]<=n;)s[1]++,u--;if(u<0||s[1]>n)return NaN;for(;u>=0&&o.get(t,u)&&s[0]<=n;)s[0]++,u--;if(s[0]>n)return NaN;for(u=e+1;u<a&&o.get(t,u);)s[2]++,u++;if(u===a)return NaN;for(;u<a&&!o.get(t,u)&&s[3]<n;)s[3]++,u++;if(u===a||s[3]>=n)return NaN;for(;u<a&&o.get(t,u)&&s[4]<n;)s[4]++,u++;if(s[4]>=n)return NaN;var f=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(f-i)>=2*i?NaN:r.foundPatternCross(s)?r.centerFromEnd(s,u):NaN},r.prototype.crossCheckHorizontal=function(e,t,n,i){for(var o=this.image,a=o.getWidth(),s=this.getCrossCheckStateCount(),u=e;u>=0&&o.get(u,t);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!o.get(u,t)&&s[1]<=n;)s[1]++,u--;if(u<0||s[1]>n)return NaN;for(;u>=0&&o.get(u,t)&&s[0]<=n;)s[0]++,u--;if(s[0]>n)return NaN;for(u=e+1;u<a&&o.get(u,t);)s[2]++,u++;if(u===a)return NaN;for(;u<a&&!o.get(u,t)&&s[3]<n;)s[3]++,u++;if(u===a||s[3]>=n)return NaN;for(;u<a&&o.get(u,t)&&s[4]<n;)s[4]++,u++;if(s[4]>=n)return NaN;var f=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(f-i)>=i?NaN:r.foundPatternCross(s)?r.centerFromEnd(s,u):NaN},r.prototype.handlePossibleCenter=function(e,t,n,i){var o=e[0]+e[1]+e[2]+e[3]+e[4],a=r.centerFromEnd(e,n),s=this.crossCheckVertical(t,Math.floor(a),e[2],o);if(!isNaN(s)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(s),e[2],o),!isNaN(a)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(a),e[2],o)))){for(var u=o/7,f=!1,l=this.possibleCenters,p=0,g=l.length;p<g;p++){var v=l[p];if(v.aboutEquals(u,s,a)){l[p]=v.combineEstimate(s,a,u),f=!0;break}}if(!f){var _=new b2e.default(a,s,u);l.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return!0}return!1},r.prototype.findRowSkip=function(){var e,t,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var o=Dv(this.possibleCenters),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.getCount()>=r.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return 0},r.prototype.haveMultiplyConfirmedCenters=function(){var e,t,n,i,o=0,a=0,s=this.possibleCenters.length;try{for(var u=Dv(this.possibleCenters),f=u.next();!f.done;f=u.next()){var l=f.value;l.getCount()>=r.CENTER_QUORUM&&(o++,a+=l.getEstimatedModuleSize())}}catch(T){e={error:T}}finally{try{f&&!f.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}if(o<3)return!1;var p=a/s,g=0;try{for(var v=Dv(this.possibleCenters),_=v.next();!_.done;_=v.next()){var l=_.value;g+=Math.abs(l.getEstimatedModuleSize()-p)}}catch(T){n={error:T}}finally{try{_&&!_.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}return g<=.05*a},r.prototype.selectBestPatterns=function(){var e,t,n,i,o=this.possibleCenters.length;if(o<3)throw new T2e.default;var a=this.possibleCenters,s;if(o>3){var u=0,f=0;try{for(var l=Dv(this.possibleCenters),p=l.next();!p.done;p=l.next()){var g=p.value,v=g.getEstimatedModuleSize();u+=v,f+=v*v}}catch(A){e={error:A}}finally{try{p&&!p.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}s=u/o;var _=Math.sqrt(f/o-s*s);a.sort(function(A,c){var y=Math.abs(c.getEstimatedModuleSize()-s),x=Math.abs(A.getEstimatedModuleSize()-s);return y<x?-1:y>x?1:0});for(var T=Math.max(.2*s,_),O=0;O<a.length&&a.length>3;O++){var R=a[O];Math.abs(R.getEstimatedModuleSize()-s)>T&&(a.splice(O,1),O--)}}if(a.length>3){var u=0;try{for(var D=Dv(a),U=D.next();!U.done;U=D.next()){var K=U.value;u+=K.getEstimatedModuleSize()}}catch(c){n={error:c}}finally{try{U&&!U.done&&(i=D.return)&&i.call(D)}finally{if(n)throw n.error}}s=u/a.length,a.sort(function(c,y){if(y.getCount()===c.getCount()){var x=Math.abs(y.getEstimatedModuleSize()-s),M=Math.abs(c.getEstimatedModuleSize()-s);return x<M?1:x>M?-1:0}else return y.getCount()-c.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]},r.CENTER_QUORUM=2,r.MIN_SKIP=3,r.MAX_MODULES=57,r}();Rv.default=S2e});var jV=b(NO=>{"use strict";d();h();Object.defineProperty(NO,"__esModule",{value:!0});var C6=as(),C2e=Mm(),A2e=Um(),O2e=r6(),D2e=Ei(),Pv=je(),kV=Or(),R2e=Iv(),P2e=MV(),B2e=LV(),N2e=function(){function r(e){this.image=e}return r.prototype.getImage=function(){return this.image},r.prototype.getResultPointCallback=function(){return this.resultPointCallback},r.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(D2e.default.NEED_RESULT_POINT_CALLBACK);var t=new B2e.default(this.image,this.resultPointCallback),n=t.find(e);return this.processFinderPatternInfo(n)},r.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),o=this.calculateModuleSize(t,n,i);if(o<1)throw new Pv.default("No pattern found in proccess finder.");var a=r.computeDimension(t,n,i,o),s=R2e.default.getProvisionalVersionForDimension(a),u=s.getDimensionForVersion()-7,f=null;if(s.getAlignmentPatternCenters().length>0)for(var l=n.getX()-t.getX()+i.getX(),p=n.getY()-t.getY()+i.getY(),g=1-3/u,v=Math.floor(t.getX()+g*(l-t.getX())),_=Math.floor(t.getY()+g*(p-t.getY())),T=4;T<=16;T<<=1)try{f=this.findAlignmentInRegion(o,v,_,T);break}catch(U){if(!(U instanceof Pv.default))throw U}var O=r.createTransform(t,n,i,f,a),R=r.sampleGrid(this.image,O,a),D;return f===null?D=[i,t,n]:D=[i,t,n,f],new C2e.default(R,D)},r.createTransform=function(e,t,n,i,o){var a=o-3.5,s,u,f,l;return i!==null?(s=i.getX(),u=i.getY(),f=a-3,l=f):(s=t.getX()-e.getX()+n.getX(),u=t.getY()-e.getY()+n.getY(),f=a,l=a),O2e.default.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,f,l,3.5,a,e.getX(),e.getY(),t.getX(),t.getY(),s,u,n.getX(),n.getY())},r.sampleGrid=function(e,t,n){var i=A2e.default.getInstance();return i.sampleGridWithTransform(e,n,n,t)},r.computeDimension=function(e,t,n,i){var o=C6.default.round(kV.default.distance(e,t)/i),a=C6.default.round(kV.default.distance(e,n)/i),s=Math.floor((o+a)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new Pv.default("Dimensions could be not found.")}return s},r.prototype.calculateModuleSize=function(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2},r.prototype.calculateModuleSizeOneWay=function(e,t){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},r.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,n,i){var o=this.sizeOfBlackWhiteBlackRun(e,t,n,i),a=1,s=e-(n-e);s<0?(a=e/(e-s),s=0):s>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var u=Math.floor(t-(i-t)*a);return a=1,u<0?(a=t/(t-u),u=0):u>=this.image.getHeight()&&(a=(this.image.getHeight()-1-t)/(u-t),u=this.image.getHeight()-1),s=Math.floor(e+(s-e)*a),o+=this.sizeOfBlackWhiteBlackRun(e,t,s,u),o-1},r.prototype.sizeOfBlackWhiteBlackRun=function(e,t,n,i){var o=Math.abs(i-t)>Math.abs(n-e);if(o){var a=e;e=t,t=a,a=n,n=i,i=a}for(var s=Math.abs(n-e),u=Math.abs(i-t),f=-s/2,l=e<n?1:-1,p=t<i?1:-1,g=0,v=n+l,_=e,T=t;_!==v;_+=l){var O=o?T:_,R=o?_:T;if(g===1===this.image.get(O,R)){if(g===2)return C6.default.distance(_,T,e,t);g++}if(f+=u,f>0){if(T===i)break;T+=p,f-=s}}return g===2?C6.default.distance(n+l,i,e,t):NaN},r.prototype.findAlignmentInRegion=function(e,t,n,i){var o=Math.floor(i*e),a=Math.max(0,t-o),s=Math.min(this.image.getWidth()-1,t+o);if(s-a<e*3)throw new Pv.default("Alignment top exceeds estimated module size.");var u=Math.max(0,n-o),f=Math.min(this.image.getHeight()-1,n+o);if(f-u<e*3)throw new Pv.default("Alignment bottom exceeds estimated module size.");var l=new P2e.default(this.image,a,u,s-a,f-u,e,this.resultPointCallback);return l.find()},r}();NO.default=N2e});var O6=b(MO=>{"use strict";d();h();Object.defineProperty(MO,"__esModule",{value:!0});var M2e=Ht(),q2e=Yo(),F2e=Ei(),G0=je(),U2e=bi(),A6=Ku(),L2e=BV(),k2e=PO(),j2e=jV(),H2e=function(){function r(){this.decoder=new L2e.default}return r.prototype.getDecoder=function(){return this.decoder},r.prototype.decode=function(e,t){var n,i;if(t!=null&&t.get(F2e.default.PURE_BARCODE)!==void 0){var o=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(o,t),i=r.NO_POINTS}else{var a=new j2e.default(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(a.getBits(),t),i=a.getPoints()}n.getOther()instanceof k2e.default&&n.getOther().applyMirroredCorrection(i);var s=new U2e.default(n.getText(),n.getRawBytes(),void 0,i,M2e.default.QR_CODE,void 0),u=n.getByteSegments();u!==null&&s.putMetadata(A6.default.BYTE_SEGMENTS,u);var f=n.getECLevel();return f!==null&&s.putMetadata(A6.default.ERROR_CORRECTION_LEVEL,f),n.hasStructuredAppend()&&(s.putMetadata(A6.default.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(A6.default.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t===null||n===null)throw new G0.default;var i=this.moduleSize(t,e),o=t[1],a=n[1],s=t[0],u=n[0];if(s>=u||o>=a)throw new G0.default;if(a-o!==u-s&&(u=s+(a-o),u>=e.getWidth()))throw new G0.default;var f=Math.round((u-s+1)/i),l=Math.round((a-o+1)/i);if(f<=0||l<=0)throw new G0.default;if(l!==f)throw new G0.default;var p=Math.floor(i/2);o+=p,s+=p;var g=s+Math.floor((f-1)*i)-u;if(g>0){if(g>p)throw new G0.default;s-=g}var v=o+Math.floor((l-1)*i)-a;if(v>0){if(v>p)throw new G0.default;o-=v}for(var _=new q2e.default(f,l),T=0;T<l;T++)for(var O=o+Math.floor(T*i),R=0;R<f;R++)e.get(s+Math.floor(R*i),O)&&_.set(R,T);return _},r.moduleSize=function(e,t){for(var n=t.getHeight(),i=t.getWidth(),o=e[0],a=e[1],s=!0,u=0;o<i&&a<n;){if(s!==t.get(o,a)){if(++u===5)break;s=!s}o++,a++}if(o===i||a===n)throw new G0.default;return(o-e[0])/7},r.NO_POINTS=new Array,r}();MO.default=H2e});var Y0=b(Bv=>{"use strict";d();h();var K2e=Bv&&Bv.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Bv,"__esModule",{value:!0});var V2e=Qs(),G2e=as(),Y2e=function(){function r(){}return r.prototype.PDF417Common=function(){},r.getBitCountSum=function(e){return G2e.default.sum(e)},r.toIntArray=function(e){var t,n;if(e==null||!e.length)return r.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),o=0;try{for(var a=K2e(e),s=a.next();!s.done;s=a.next()){var u=s.value;i[o++]=u}}catch(f){t={error:f}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},r.getCodeword=function(e){var t=V2e.default.binarySearch(r.SYMBOL_TABLE,e&262143);return t<0?-1:(r.CODEWORD_TABLE[t]-1)%r.NUMBER_OF_CODEWORDS},r.NUMBER_OF_CODEWORDS=929,r.MAX_CODEWORDS_IN_BARCODE=r.NUMBER_OF_CODEWORDS-1,r.MIN_ROWS_IN_BARCODE=3,r.MAX_ROWS_IN_BARCODE=90,r.MODULES_IN_CODEWORD=17,r.MODULES_IN_STOP_PATTERN=18,r.BARS_IN_MODULE=8,r.EMPTY_INT_ARRAY=new Int32Array([]),r.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),r.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),r}();Bv.default=Y2e});var HV=b(qO=>{"use strict";d();h();Object.defineProperty(qO,"__esModule",{value:!0});var z2e=function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r}();qO.default=z2e});var VV=b(Nv=>{"use strict";d();h();var W2e=Nv&&Nv.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Nv,"__esModule",{value:!0});var D6=Or(),X2e=Xr(),KV=Qs(),J2e=HV(),$2e=function(){function r(){}return r.detectMultiple=function(e,t,n){var i=e.getBlackMatrix(),o=r.detect(n,i);return o.length||(i=i.clone(),i.rotate180(),o=r.detect(n,i)),new J2e.default(i,o)},r.detect=function(e,t){for(var n,i,o=new Array,a=0,s=0,u=!1;a<t.getHeight();){var f=r.findVertices(t,a,s);if(f[0]==null&&f[3]==null){if(!u)break;u=!1,s=0;try{for(var l=(n=void 0,W2e(o)),p=l.next();!p.done;p=l.next()){var g=p.value;g[1]!=null&&(a=Math.trunc(Math.max(a,g[1].getY()))),g[3]!=null&&(a=Math.max(a,Math.trunc(g[3].getY())))}}catch(v){n={error:v}}finally{try{p&&!p.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}a+=r.ROW_STEP;continue}if(u=!0,o.push(f),!e)break;f[2]!=null?(s=Math.trunc(f[2].getX()),a=Math.trunc(f[2].getY())):(s=Math.trunc(f[4].getX()),a=Math.trunc(f[4].getY()))}return o},r.findVertices=function(e,t,n){var i=e.getHeight(),o=e.getWidth(),a=new Array(8);return r.copyToResult(a,r.findRowsWithPattern(e,i,o,t,n,r.START_PATTERN),r.INDEXES_START_PATTERN),a[4]!=null&&(n=Math.trunc(a[4].getX()),t=Math.trunc(a[4].getY())),r.copyToResult(a,r.findRowsWithPattern(e,i,o,t,n,r.STOP_PATTERN),r.INDEXES_STOP_PATTERN),a},r.copyToResult=function(e,t,n){for(var i=0;i<n.length;i++)e[n[i]]=t[i]},r.findRowsWithPattern=function(e,t,n,i,o,a){for(var s=new Array(4),u=!1,f=new Int32Array(a.length);i<t;i+=r.ROW_STEP){var l=r.findGuardPattern(e,o,i,n,!1,a,f);if(l!=null){for(;i>0;){var p=r.findGuardPattern(e,o,--i,n,!1,a,f);if(p!=null)l=p;else{i++;break}}s[0]=new D6.default(l[0],i),s[1]=new D6.default(l[1],i),u=!0;break}}var g=i+1;if(u){for(var v=0,p=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);g<t;g++){var l=r.findGuardPattern(e,p[0],g,n,!1,a,f);if(l!=null&&Math.abs(p[0]-l[0])<r.MAX_PATTERN_DRIFT&&Math.abs(p[1]-l[1])<r.MAX_PATTERN_DRIFT)p=l,v=0;else{if(v>r.SKIPPED_ROW_COUNT_MAX)break;v++}}g-=v+1,s[2]=new D6.default(p[0],g),s[3]=new D6.default(p[1],g)}return g-i<r.BARCODE_MIN_HEIGHT&&KV.default.fill(s,null),s},r.findGuardPattern=function(e,t,n,i,o,a,s){KV.default.fillWithin(s,0,s.length,0);for(var u=t,f=0;e.get(u,n)&&u>0&&f++<r.MAX_PIXEL_DRIFT;)u--;for(var l=u,p=0,g=a.length,v=o;l<i;l++){var _=e.get(l,n);if(_!==v)s[p]++;else{if(p===g-1){if(r.patternMatchVariance(s,a,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE)return new Int32Array([u,l]);u+=s[0]+s[1],X2e.default.arraycopy(s,2,s,0,p-1),s[p-1]=0,s[p]=0,p--}else p++;s[p]=1,v=!v}}return p===g-1&&r.patternMatchVariance(s,a,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE?new Int32Array([u,l-1]):null},r.patternMatchVariance=function(e,t,n){for(var i=e.length,o=0,a=0,s=0;s<i;s++)o+=e[s],a+=t[s];if(o<a)return 1/0;var u=o/a;n*=u;for(var f=0,l=0;l<i;l++){var p=e[l],g=t[l]*u,v=p>g?p-g:g-p;if(v>n)return 1/0;f+=v}return f/o},r.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),r.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),r.MAX_AVG_VARIANCE=.42,r.MAX_INDIVIDUAL_VARIANCE=.8,r.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),r.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),r.MAX_PIXEL_DRIFT=3,r.MAX_PATTERN_DRIFT=5,r.SKIPPED_ROW_COUNT_MAX=25,r.ROW_STEP=5,r.BARCODE_MIN_HEIGHT=10,r}();Nv.default=$2e});var FO=b(qv=>{"use strict";d();h();var Z2e=qv&&qv.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qv,"__esModule",{value:!0});var Mv=ct(),GV=Xr(),Q2e=Ar(),exe=function(){function r(e,t){if(t.length===0)throw new Mv.default;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var i=1;i<n&&t[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),GV.default.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){var t,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var o=Z2e(this.coefficients),a=o.next();!a.done;a=o.next()){var s=a.value;i=this.field.add(i,s)}}catch(p){t={error:p}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}for(var u=this.coefficients[0],f=this.coefficients.length,l=1;l<f;l++)u=this.field.add(this.field.multiply(e,u),this.coefficients[l]);return u},r.prototype.add=function(e){if(!this.field.equals(e.field))throw new Mv.default("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var i=t;t=n,n=i}var o=new Int32Array(n.length),a=n.length-t.length;GV.default.arraycopy(n,0,o,0,a);for(var s=a;s<n.length;s++)o[s]=this.field.add(t[s-a],n[s]);return new r(this.field,o)},r.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Mv.default("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},r.prototype.multiply=function(e){return e instanceof r?this.multiplyOther(e):this.multiplyScalar(e)},r.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Mv.default("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new r(this.field,new Int32Array([0]));for(var t=this.coefficients,n=t.length,i=e.coefficients,o=i.length,a=new Int32Array(n+o-1),s=0;s<n;s++)for(var u=t[s],f=0;f<o;f++)a[s+f]=this.field.add(a[s+f],this.field.multiply(u,i[f]));return new r(this.field,a)},r.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new r(this.field,t)},r.prototype.multiplyScalar=function(e){if(e===0)return new r(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,n=new Int32Array(t),i=0;i<t;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new r(this.field,n)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Mv.default;if(t===0)return new r(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),o=0;o<n;o++)i[o]=this.field.multiply(this.coefficients[o],t);return new r(this.field,i)},r.prototype.toString=function(){for(var e=new Q2e.default,t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(t===0||n!==1)&&e.append(n),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},r}();qv.default=exe});var YV=b(UO=>{"use strict";d();h();Object.defineProperty(UO,"__esModule",{value:!0});var txe=ct(),rxe=JE(),nxe=function(){function r(){}return r.prototype.add=function(e,t){return(e+t)%this.modulus},r.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new txe.default;return this.logTable[e]},r.prototype.inverse=function(e){if(e===0)throw new rxe.default;return this.expTable[this.modulus-this.logTable[e]-1]},r.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},r.prototype.getSize=function(){return this.modulus},r.prototype.equals=function(e){return e===this},r}();UO.default=nxe});var zV=b(Fv=>{"use strict";d();h();var ixe=Fv&&Fv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Fv,"__esModule",{value:!0});var oxe=Y0(),LO=FO(),axe=ct(),sxe=YV(),uxe=function(r){ixe(e,r);function e(t,n){var i=r.call(this)||this;i.modulus=t,i.expTable=new Int32Array(t),i.logTable=new Int32Array(t);for(var o=1,a=0;a<t;a++)i.expTable[a]=o,o=o*n%t;for(var a=0;a<t-1;a++)i.logTable[i.expTable[a]]=a;return i.zero=new LO.default(i,new Int32Array([0])),i.one=new LO.default(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new axe.default;if(n===0)return this.zero;var i=new Int32Array(t+1);return i[0]=n,new LO.default(this,i)},e.PDF417_GF=new e(oxe.default.NUMBER_OF_CODEWORDS,3),e}(sxe.default);Fv.default=uxe});var kO=b(Uv=>{"use strict";d();h();var fxe=Uv&&Uv.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Uv,"__esModule",{value:!0});var R6=Zs(),P6=FO(),cxe=zV(),lxe=function(){function r(){this.field=cxe.default.PDF417_GF}return r.prototype.decode=function(e,t,n){for(var i,o,a=new P6.default(this.field,e),s=new Int32Array(t),u=!1,f=t;f>0;f--){var l=a.evaluateAt(this.field.exp(f));s[t-f]=l,l!==0&&(u=!0)}if(!u)return 0;var p=this.field.getOne();if(n!=null)try{for(var g=fxe(n),v=g.next();!v.done;v=g.next()){var _=v.value,T=this.field.exp(e.length-1-_),O=new P6.default(this.field,new Int32Array([this.field.subtract(0,T),1]));p=p.multiply(O)}}catch(x){i={error:x}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}for(var R=new P6.default(this.field,s),D=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),R,t),U=D[0],K=D[1],A=this.findErrorLocations(U),c=this.findErrorMagnitudes(K,U,A),f=0;f<A.length;f++){var y=e.length-1-this.field.log(A[f]);if(y<0)throw R6.default.getChecksumInstance();e[y]=this.field.subtract(e[y],c[f])}return A.length},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var o=e,a=t,s=this.field.getZero(),u=this.field.getOne();a.getDegree()>=Math.round(n/2);){var f=o,l=s;if(o=a,s=u,o.isZero())throw R6.default.getChecksumInstance();a=f;for(var p=this.field.getZero(),g=o.getCoefficient(o.getDegree()),v=this.field.inverse(g);a.getDegree()>=o.getDegree()&&!a.isZero();){var _=a.getDegree()-o.getDegree(),T=this.field.multiply(a.getCoefficient(a.getDegree()),v);p=p.add(this.field.buildMonomial(_,T)),a=a.subtract(o.multiplyByMonomial(_,T))}u=p.multiply(s).subtract(l).negative()}var O=u.getCoefficient(0);if(O===0)throw R6.default.getChecksumInstance();var R=this.field.inverse(O),D=u.multiply(R),U=a.multiply(R);return[D,U]},r.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),n=new Int32Array(t),i=0,o=1;o<this.field.getSize()&&i<t;o++)e.evaluateAt(o)===0&&(n[i]=this.field.inverse(o),i++);if(i!==t)throw R6.default.getChecksumInstance();return n},r.prototype.findErrorMagnitudes=function(e,t,n){for(var i=t.getDegree(),o=new Int32Array(i),a=1;a<=i;a++)o[i-a]=this.field.multiply(a,t.getCoefficient(a));for(var s=new P6.default(this.field,o),u=n.length,f=new Int32Array(u),a=0;a<u;a++){var l=this.field.inverse(n[a]),p=this.field.subtract(0,e.evaluateAt(l)),g=this.field.inverse(s.evaluateAt(l));f[a]=this.field.multiply(p,g)}return f},r}();Uv.default=lxe});var HO=b(jO=>{"use strict";d();h();Object.defineProperty(jO,"__esModule",{value:!0});var dxe=je(),tg=Or(),hxe=function(){function r(e,t,n,i,o){e instanceof r?this.constructor_2(e):this.constructor_1(e,t,n,i,o)}return r.prototype.constructor_1=function(e,t,n,i,o){var a=t==null||n==null,s=i==null||o==null;if(a&&s)throw new dxe.default;a?(t=new tg.default(0,i.getY()),n=new tg.default(0,o.getY())):s&&(i=new tg.default(e.getWidth()-1,t.getY()),o=new tg.default(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=i,this.bottomRight=o,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),o.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),o.getY()))},r.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},r.merge=function(e,t){return e==null?t:t==null?e:new r(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},r.prototype.addMissingRows=function(e,t,n){var i=this.topLeft,o=this.bottomLeft,a=this.topRight,s=this.bottomRight;if(e>0){var u=n?this.topLeft:this.topRight,f=Math.trunc(u.getY()-e);f<0&&(f=0);var l=new tg.default(u.getX(),f);n?i=l:a=l}if(t>0){var p=n?this.bottomLeft:this.bottomRight,g=Math.trunc(p.getY()+t);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);var v=new tg.default(p.getX(),g);n?o=v:s=v}return new r(this.image,i,o,a,s)},r.prototype.getMinX=function(){return this.minX},r.prototype.getMaxX=function(){return this.maxX},r.prototype.getMinY=function(){return this.minY},r.prototype.getMaxY=function(){return this.maxY},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getBottomRight=function(){return this.bottomRight},r}();jO.default=hxe});var WV=b(KO=>{"use strict";d();h();Object.defineProperty(KO,"__esModule",{value:!0});var pxe=function(){function r(e,t,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}return r.prototype.getColumnCount=function(){return this.columnCount},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getRowCount=function(){return this.rowCount},r.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},r.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},r}();KO.default=pxe});var B6=b(VO=>{"use strict";d();h();Object.defineProperty(VO,"__esModule",{value:!0});var gxe=function(){function r(){this.buffer=""}return r.form=function(e,t){var n=-1;function i(a,s,u,f,l,p){if(a==="%%")return"%";if(t[++n]!==void 0){a=f?parseInt(f.substr(1)):void 0;var g=l?parseInt(l.substr(1)):void 0,v;switch(p){case"s":v=t[n];break;case"c":v=t[n][0];break;case"f":v=parseFloat(t[n]).toFixed(a);break;case"p":v=parseFloat(t[n]).toPrecision(a);break;case"e":v=parseFloat(t[n]).toExponential(a);break;case"x":v=parseInt(t[n]).toString(g||16);break;case"d":v=parseFloat(parseInt(t[n],g||10).toPrecision(a)).toFixed(0);break}v=typeof v=="object"?JSON.stringify(v):(+v).toString(g);for(var _=parseInt(u),T=u&&u[0]+""=="0"?"0":" ";v.length<_;)v=s!==void 0?v+T:T+v;return v}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,i)},r.prototype.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.buffer+=r.form(e,t)},r.prototype.toString=function(){return this.buffer},r}();VO.default=gxe});var GO=b(Lv=>{"use strict";d();h();var yxe=Lv&&Lv.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Lv,"__esModule",{value:!0});var mxe=B6(),vxe=HO(),xxe=function(){function r(e){this.boundingBox=new vxe.default(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return r.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var n=1;n<r.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null},r.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},r.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},r.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.getCodewords=function(){return this.codewords},r.prototype.toString=function(){var e,t,n=new mxe.default,i=0;try{for(var o=yxe(this.codewords),a=o.next();!a.done;a=o.next()){var s=a.value;if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(u){e={error:u}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n.toString()},r.MAX_NEARBY_DISTANCE=5,r}();Lv.default=xxe});var YO=b(Ih=>{"use strict";d();h();var _xe=Ih&&Ih.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wxe=Ih&&Ih.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o};Object.defineProperty(Ih,"__esModule",{value:!0});var Exe=Y0(),bxe=function(){function r(){this.values=new Map}return r.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},r.prototype.getValue=function(){var e,t,n=-1,i=new Array,o=function(p,g){var v={getKey:function(){return p},getValue:function(){return g}};v.getValue()>n?(n=v.getValue(),i=[],i.push(v.getKey())):v.getValue()===n&&i.push(v.getKey())};try{for(var a=_xe(this.values.entries()),s=a.next();!s.done;s=a.next()){var u=wxe(s.value,2),f=u[0],l=u[1];o(f,l)}}catch(p){e={error:p}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return Exe.default.toIntArray(i)},r.prototype.getConfidence=function(e){return this.values.get(e)},r}();Ih.default=bxe});var JV=b(Th=>{"use strict";d();h();var Ixe=Th&&Th.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zO=Th&&Th.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Th,"__esModule",{value:!0});var XV=Y0(),Txe=WV(),Sxe=GO(),N6=YO(),Cxe=function(r){Ixe(e,r);function e(t,n){var i=r.call(this,t)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var t,n;try{for(var i=zO(this.getCodewords()),o=i.next();!o.done;o=i.next()){var a=o.value;a!=null&&a.setRowNumberAsRowIndicatorColumn()}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,t);for(var i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=-1,l=1,p=0,g=s;g<u;g++)if(n[g]!=null){var v=n[g],_=v.getRowNumber()-f;if(_===0)p++;else if(_===1)l=Math.max(l,p),p=1,f=v.getRowNumber();else if(_<0||v.getRowNumber()>=t.getRowCount()||_>g)n[g]=null;else{var T=void 0;l>2?T=(l-2)*_:T=_;for(var O=T>=g,R=1;R<=T&&!O;R++)O=n[g-R]!=null;O?n[g]=null:(f=v.getRowNumber(),p=1)}}},e.prototype.getRowHeights=function(){var t,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var o=new Int32Array(i.getRowCount());try{for(var a=zO(this.getCodewords()),s=a.next();!s.done;s=a.next()){var u=s.value;if(u!=null){var f=u.getRowNumber();if(f>=o.length)continue;o[f]++}}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.getCodewords(),f=-1,l=1,p=0,g=a;g<s;g++)if(u[g]!=null){var v=u[g];v.setRowNumberAsRowIndicatorColumn();var _=v.getRowNumber()-f;_===0?p++:_===1?(l=Math.max(l,p),p=1,f=v.getRowNumber()):v.getRowNumber()>=t.getRowCount()?u[g]=null:(f=v.getRowNumber(),p=1)}},e.prototype.getBarcodeMetadata=function(){var t,n,i=this.getCodewords(),o=new N6.default,a=new N6.default,s=new N6.default,u=new N6.default;try{for(var f=zO(i),l=f.next();!l.done;l=f.next()){var p=l.value;if(p!=null){p.setRowNumberAsRowIndicatorColumn();var g=p.getValue()%30,v=p.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:a.setValue(g*3+1);break;case 1:u.setValue(g/3),s.setValue(g%3);break;case 2:o.setValue(g+1);break}}}}catch(T){t={error:T}}finally{try{l&&!l.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}if(o.getValue().length===0||a.getValue().length===0||s.getValue().length===0||u.getValue().length===0||o.getValue()[0]<1||a.getValue()[0]+s.getValue()[0]<XV.default.MIN_ROWS_IN_BARCODE||a.getValue()[0]+s.getValue()[0]>XV.default.MAX_ROWS_IN_BARCODE)return null;var _=new Txe.default(o.getValue()[0],a.getValue()[0],s.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,_),_},e.prototype.removeIncorrectCodewords=function(t,n){for(var i=0;i<t.length;i++){var o=t[i];if(t[i]!=null){var a=o.getValue()%30,s=o.getRowNumber();if(s>n.getRowCount()){t[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:a*3+1!==n.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(a/3)!==n.getErrorCorrectionLevel()||a%3!==n.getRowCountLowerPart())&&(t[i]=null);break;case 2:a+1!==n.getColumnCount()&&(t[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+r.prototype.toString.call(this)},e}(Sxe.default);Th.default=Cxe});var $V=b(kv=>{"use strict";d();h();var Axe=kv&&kv.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(kv,"__esModule",{value:!0});var Oxe=Y0(),Dxe=B6(),Rxe=function(){function r(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return r.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Oxe.default.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},r.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},r.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var n=this.detectionResultColumns[t].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,n));return e},r.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},r.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&t[n]!=null&&e[n].getRowNumber()===t[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var o=this.detectionResultColumns[i].getCodewords()[n];o!=null&&(o.setRowNumber(e[n].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},r.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var i=t[n].getRowNumber(),o=0,a=this.barcodeColumnCount+1;a>0&&o<this.ADJUST_ROW_NUMBER_SKIP;a--){var s=this.detectionResultColumns[a].getCodewords()[n];s!=null&&(o=r.adjustRowNumberIfValid(i,o,s),s.hasValidRowNumber()||e++)}return e},r.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var i=t[n].getRowNumber(),o=0,a=1;a<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;a++){var s=this.detectionResultColumns[a].getCodewords()[n];s!=null&&(o=r.adjustRowNumberIfValid(i,o,s),s.hasValidRowNumber()||e++)}return e},r.adjustRowNumberIfValid=function(e,t,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t},r.prototype.adjustRowNumbers=function(e,t,n){var i,o;if(this.detectionResultColumns[e-1]!=null){var a=n[t],s=this.detectionResultColumns[e-1].getCodewords(),u=s;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());var f=new Array(14);f[2]=s[t],f[3]=u[t],t>0&&(f[0]=n[t-1],f[4]=s[t-1],f[5]=u[t-1]),t>1&&(f[8]=n[t-2],f[10]=s[t-2],f[11]=u[t-2]),t<n.length-1&&(f[1]=n[t+1],f[6]=s[t+1],f[7]=u[t+1]),t<n.length-2&&(f[9]=n[t+2],f[12]=s[t+2],f[13]=u[t+2]);try{for(var l=Axe(f),p=l.next();!p.done;p=l.next()){var g=p.value;if(r.adjustRowNumber(a,g))return}}catch(v){i={error:v}}finally{try{p&&!p.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}}},r.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},r.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},r.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},r.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},r.prototype.setBoundingBox=function(e){this.boundingBox=e},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},r.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},r.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new Dxe.default,n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}var o=this.detectionResultColumns[i].getCodewords()[n];if(o==null){t.format("    |   ");continue}t.format(" %3d|%3d",o.getRowNumber(),o.getValue())}t.format("%n")}return t.toString()},r}();kv.default=Rxe});var ZV=b(WO=>{"use strict";d();h();Object.defineProperty(WO,"__esModule",{value:!0});var Pxe=function(){function r(e,t,n,i){this.rowNumber=r.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return r.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},r.prototype.isValidRowNumber=function(e){return e!==r.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},r.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},r.prototype.getWidth=function(){return this.endX-this.startX},r.prototype.getStartX=function(){return this.startX},r.prototype.getEndX=function(){return this.endX},r.prototype.getBucket=function(){return this.bucket},r.prototype.getValue=function(){return this.value},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.setRowNumber=function(e){this.rowNumber=e},r.prototype.toString=function(){return this.rowNumber+"|"+this.value},r.BARCODE_ROW_UNKNOWN=-1,r}();WO.default=Pxe});var eG=b(XO=>{"use strict";d();h();Object.defineProperty(XO,"__esModule",{value:!0});var QV=as(),Ii=Y0(),Bxe=TA(),Nxe=function(){function r(){}return r.initialize=function(){for(var e=0;e<Ii.default.SYMBOL_TABLE.length;e++)for(var t=Ii.default.SYMBOL_TABLE[e],n=t&1,i=0;i<Ii.default.BARS_IN_MODULE;i++){for(var o=0;(t&1)===n;)o+=1,t>>=1;n=t&1,r.RATIOS_TABLE[e]||(r.RATIOS_TABLE[e]=new Array(Ii.default.BARS_IN_MODULE)),r.RATIOS_TABLE[e][Ii.default.BARS_IN_MODULE-i-1]=Math.fround(o/Ii.default.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},r.getDecodedValue=function(e){var t=r.getDecodedCodewordValue(r.sampleBitCounts(e));return t!==-1?t:r.getClosestDecodedValue(e)},r.sampleBitCounts=function(e){for(var t=QV.default.sum(e),n=new Int32Array(Ii.default.BARS_IN_MODULE),i=0,o=0,a=0;a<Ii.default.MODULES_IN_CODEWORD;a++){var s=t/(2*Ii.default.MODULES_IN_CODEWORD)+a*t/Ii.default.MODULES_IN_CODEWORD;o+e[i]<=s&&(o+=e[i],i++),n[i]++}return n},r.getDecodedCodewordValue=function(e){var t=r.getBitValue(e);return Ii.default.getCodeword(t)===-1?-1:t},r.getBitValue=function(e){for(var t=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)},r.getClosestDecodedValue=function(e){var t=QV.default.sum(e),n=new Array(Ii.default.BARS_IN_MODULE);if(t>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/t);var o=Bxe.default.MAX_VALUE,a=-1;this.bSymbolTableReady||r.initialize();for(var s=0;s<r.RATIOS_TABLE.length;s++){for(var u=0,f=r.RATIOS_TABLE[s],l=0;l<Ii.default.BARS_IN_MODULE;l++){var p=Math.fround(f[l]-n[l]);if(u+=Math.fround(p*p),u>=o)break}u<o&&(o=u,a=Ii.default.SYMBOL_TABLE[s])}return a},r.bSymbolTableReady=!1,r.RATIOS_TABLE=new Array(Ii.default.SYMBOL_TABLE.length).map(function(e){return e=new Array(Ii.default.BARS_IN_MODULE)}),r}();XO.default=Nxe});var $O=b(JO=>{"use strict";d();h();Object.defineProperty(JO,"__esModule",{value:!0});var Mxe=function(){function r(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return r.prototype.getSegmentIndex=function(){return this.segmentIndex},r.prototype.setSegmentIndex=function(e){this.segmentIndex=e},r.prototype.getFileId=function(){return this.fileId},r.prototype.setFileId=function(e){this.fileId=e},r.prototype.getOptionalData=function(){return this.optionalData},r.prototype.setOptionalData=function(e){this.optionalData=e},r.prototype.isLastSegment=function(){return this.lastSegment},r.prototype.setLastSegment=function(e){this.lastSegment=e},r.prototype.getSegmentCount=function(){return this.segmentCount},r.prototype.setSegmentCount=function(e){this.segmentCount=e},r.prototype.getSender=function(){return this.sender||null},r.prototype.setSender=function(e){this.sender=e},r.prototype.getAddressee=function(){return this.addressee||null},r.prototype.setAddressee=function(e){this.addressee=e},r.prototype.getFileName=function(){return this.fileName},r.prototype.setFileName=function(e){this.fileName=e},r.prototype.getFileSize=function(){return this.fileSize},r.prototype.setFileSize=function(e){this.fileSize=e},r.prototype.getChecksum=function(){return this.checksum},r.prototype.setChecksum=function(e){this.checksum=e},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.setTimestamp=function(e){this.timestamp=e},r}();JO.default=Mxe});var tG=b(ZO=>{"use strict";d();h();Object.defineProperty(ZO,"__esModule",{value:!0});var qxe=function(){function r(){}return r.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r}();ZO.default=qxe});var rG=b(jv=>{"use strict";d();h();var Fxe=jv&&jv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(jv,"__esModule",{value:!0});var Uxe=wi(),Lxe=function(r){Fxe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Uxe.default);jv.default=Lxe});var nG=b(QO=>{"use strict";d();h();Object.defineProperty(QO,"__esModule",{value:!0});var kxe=KE(),jxe=rG(),Hxe=function(){function r(){}return r.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},r.prototype.writeBytesOffset=function(e,t,n){if(e==null)throw new jxe.default;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new kxe.default;if(n===0)return;for(var i=0;i<n;i++)this.write(e[t+i])},r.prototype.flush=function(){},r.prototype.close=function(){},r}();QO.default=Hxe});var iG=b(Hv=>{"use strict";d();h();var Kxe=Hv&&Hv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Hv,"__esModule",{value:!0});var Vxe=wi(),Gxe=function(r){Kxe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Vxe.default);Hv.default=Gxe});var aG=b(Kv=>{"use strict";d();h();var Yxe=Kv&&Kv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Kv,"__esModule",{value:!0});var oG=Qs(),zxe=nG(),Wxe=Eo(),Xxe=ct(),Jxe=iG(),$xe=Xr(),Zxe=KE(),Qxe=function(r){Yxe(e,r);function e(t){t===void 0&&(t=32);var n=r.call(this)||this;if(n.count=0,t<0)throw new Xxe.default("Negative initial size: "+t);return n.buf=new Uint8Array(t),n}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var n=this.buf.length,i=n<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new Jxe.default;i=Wxe.default.MAX_VALUE}this.buf=oG.default.copyOfUint8Array(this.buf,i)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,n,i){if(n<0||n>t.length||i<0||n+i-t.length>0)throw new Zxe.default;this.ensureCapacity(this.count+i),$xe.default.arraycopy(t,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return oG.default.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(zxe.default);Kv.default=Qxe});var rD=b(tD=>{"use strict";d();h();Object.defineProperty(tD,"__esModule",{value:!0});var Sh=pr(),sG=Wf(),e_e=Hp(),t_e=$O(),r_e=Qs(),tc=Ar(),eD=Eo(),uG=tG(),n_e=aG(),i_e=lh(),_t;(function(r){r[r.ALPHA=0]="ALPHA",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.PUNCT=3]="PUNCT",r[r.ALPHA_SHIFT=4]="ALPHA_SHIFT",r[r.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(_t||(_t={}));function fG(){if(typeof window<"u")return window.BigInt||null;if(typeof globalThis<"u")return globalThis.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var M6;function z0(r){if(typeof M6>"u"&&(M6=fG()),M6===null)throw new Error("BigInt is not supported!");return M6(r)}function o_e(){var r=[];r[0]=z0(1);var e=z0(900);r[1]=e;for(var t=2;t<16;t++)r[t]=r[t-1]*e;return r}var a_e=function(){function r(){}return r.decode=function(e,t){var n=new tc.default(""),i=sG.default.ISO8859_1;n.enableDecoding(i);for(var o=1,a=e[o++],s=new t_e.default;o<e[0];){switch(a){case r.TEXT_COMPACTION_MODE_LATCH:o=r.textCompaction(e,o,n);break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:o=r.byteCompaction(a,e,i,o,n);break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[o++]);break;case r.NUMERIC_COMPACTION_MODE_LATCH:o=r.numericCompaction(e,o,n);break;case r.ECI_CHARSET:var u=sG.default.getCharacterSetECIByValue(e[o++]);break;case r.ECI_GENERAL_PURPOSE:o+=2;break;case r.ECI_USER_DEFINED:o++;break;case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=r.decodeMacroBlock(e,o,s);break;case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:throw new Sh.default;default:o--,o=r.textCompaction(e,o,n);break}if(o<e.length)a=e[o++];else throw Sh.default.getFormatInstance()}if(n.length()===0)throw Sh.default.getFormatInstance();var f=new e_e.default(null,n.toString(),null,t);return f.setOther(s),f},r.decodeMacroBlock=function(e,t,n){if(t+r.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Sh.default.getFormatInstance();for(var i=new Int32Array(r.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<r.NUMBER_OF_SEQUENCE_CODEWORDS;o++,t++)i[o]=e[t];n.setSegmentIndex(eD.default.parseInt(r.decodeBase900toBase10(i,r.NUMBER_OF_SEQUENCE_CODEWORDS)));var a=new tc.default;t=r.textCompaction(e,t,a),n.setFileId(a.toString());var s=-1;for(e[t]===r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=t+1);t<e[0];)switch(e[t]){case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new tc.default;t=r.textCompaction(e,t+1,u),n.setFileName(u.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var f=new tc.default;t=r.textCompaction(e,t+1,f),n.setSender(f.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var l=new tc.default;t=r.textCompaction(e,t+1,l),n.setAddressee(l.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var p=new tc.default;t=r.numericCompaction(e,t+1,p),n.setSegmentCount(eD.default.parseInt(p.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var g=new tc.default;t=r.numericCompaction(e,t+1,g),n.setTimestamp(uG.default.parseLong(g.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var v=new tc.default;t=r.numericCompaction(e,t+1,v),n.setChecksum(eD.default.parseInt(v.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var _=new tc.default;t=r.numericCompaction(e,t+1,_),n.setFileSize(uG.default.parseLong(_.toString()));break;default:throw Sh.default.getFormatInstance()}break;case r.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw Sh.default.getFormatInstance()}if(s!==-1){var T=t-s;n.isLastSegment()&&T--,n.setOptionalData(r_e.default.copyOfRange(e,s,s+T))}return t},r.textCompaction=function(e,t,n){for(var i=new Int32Array((e[0]-t)*2),o=new Int32Array((e[0]-t)*2),a=0,s=!1;t<e[0]&&!s;){var u=e[t++];if(u<r.TEXT_COMPACTION_MODE_LATCH)i[a]=u/30,i[a+1]=u%30,a+=2;else switch(u){case r.TEXT_COMPACTION_MODE_LATCH:i[a++]=r.TEXT_COMPACTION_MODE_LATCH;break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,s=!0;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[a]=r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[t++],o[a]=u,a++;break}}return r.decodeTextCompaction(i,o,a,n),t},r.decodeTextCompaction=function(e,t,n,i){for(var o=_t.ALPHA,a=_t.ALPHA,s=0;s<n;){var u=e[s],f="";switch(o){case _t.ALPHA:if(u<26)f=String.fromCharCode(65+u);else switch(u){case 26:f=" ";break;case r.LL:o=_t.LOWER;break;case r.ML:o=_t.MIXED;break;case r.PS:a=o,o=_t.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:o=_t.ALPHA;break}break;case _t.LOWER:if(u<26)f=String.fromCharCode(97+u);else switch(u){case 26:f=" ";break;case r.AS:a=o,o=_t.ALPHA_SHIFT;break;case r.ML:o=_t.MIXED;break;case r.PS:a=o,o=_t.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:o=_t.ALPHA;break}break;case _t.MIXED:if(u<r.PL)f=r.MIXED_CHARS[u];else switch(u){case r.PL:o=_t.PUNCT;break;case 26:f=" ";break;case r.LL:o=_t.LOWER;break;case r.AL:o=_t.ALPHA;break;case r.PS:a=o,o=_t.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:o=_t.ALPHA;break}break;case _t.PUNCT:if(u<r.PAL)f=r.PUNCT_CHARS[u];else switch(u){case r.PAL:o=_t.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:o=_t.ALPHA;break}break;case _t.ALPHA_SHIFT:if(o=a,u<26)f=String.fromCharCode(65+u);else switch(u){case 26:f=" ";break;case r.TEXT_COMPACTION_MODE_LATCH:o=_t.ALPHA;break}break;case _t.PUNCT_SHIFT:if(o=a,u<r.PAL)f=r.PUNCT_CHARS[u];else switch(u){case r.PAL:o=_t.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:o=_t.ALPHA;break}break}f!==""&&i.append(f),s++}},r.byteCompaction=function(e,t,n,i,o){var a=new n_e.default,s=0,u=0,f=!1;switch(e){case r.BYTE_COMPACTION_MODE_LATCH:for(var l=new Int32Array(6),p=t[i++];i<t[0]&&!f;)switch(l[s++]=p,u=900*u+p,p=t[i++],p){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,f=!0;break;default:if(s%5===0&&s>0){for(var g=0;g<6;++g)a.write(Number(z0(u)>>z0(8*(5-g))));u=0,s=0}break}i===t[0]&&p<r.TEXT_COMPACTION_MODE_LATCH&&(l[s++]=p);for(var v=0;v<s;v++)a.write(l[v]);break;case r.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!f;){var _=t[i++];if(_<r.TEXT_COMPACTION_MODE_LATCH)s++,u=900*u+_;else switch(_){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,f=!0;break}if(s%5===0&&s>0){for(var g=0;g<6;++g)a.write(Number(z0(u)>>z0(8*(5-g))));u=0,s=0}}break}return o.append(i_e.default.decode(a.toByteArray(),n)),i},r.numericCompaction=function(e,t,n){for(var i=0,o=!1,a=new Int32Array(r.MAX_NUMERIC_CODEWORDS);t<e[0]&&!o;){var s=e[t++];if(t===e[0]&&(o=!0),s<r.TEXT_COMPACTION_MODE_LATCH)a[i]=s,i++;else switch(s){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,o=!0;break}(i%r.MAX_NUMERIC_CODEWORDS===0||s===r.NUMERIC_COMPACTION_MODE_LATCH||o)&&i>0&&(n.append(r.decodeBase900toBase10(a,i)),i=0)}return t},r.decodeBase900toBase10=function(e,t){for(var n=z0(0),i=0;i<t;i++)n+=r.EXP900[t-i-1]*z0(e[i]);var o=n.toString();if(o.charAt(0)!=="1")throw new Sh.default;return o.substring(1)},r.TEXT_COMPACTION_MODE_LATCH=900,r.BYTE_COMPACTION_MODE_LATCH=901,r.NUMERIC_COMPACTION_MODE_LATCH=902,r.BYTE_COMPACTION_MODE_LATCH_6=924,r.ECI_USER_DEFINED=925,r.ECI_GENERAL_PURPOSE=926,r.ECI_CHARSET=927,r.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,r.MACRO_PDF417_TERMINATOR=922,r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,r.MAX_NUMERIC_CODEWORDS=15,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,r.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,r.PL=25,r.LL=27,r.AS=27,r.ML=28,r.AL=28,r.PS=29,r.PAL=29,r.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,r.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",r.EXP900=fG()?o_e():[],r.NUMBER_OF_SEQUENCE_CODEWORDS=2,r}();tD.default=a_e});var hG=b(Yv=>{"use strict";d();h();var Vv=Yv&&Yv.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Yv,"__esModule",{value:!0});var Gv=Zs(),q6=pr(),cG=je(),s_e=as(),F6=Y0(),u_e=kO(),lG=HO(),dG=JV(),f_e=$V(),c_e=GO(),l_e=ZV(),d_e=YO(),h_e=eG(),p_e=rD(),g_e=B6(),y_e=function(){function r(){}return r.decode=function(e,t,n,i,o,a,s){for(var u=new lG.default(e,t,n,i,o),f=null,l=null,p,g=!0;;g=!1){if(t!=null&&(f=r.getRowIndicatorColumn(e,u,t,!0,a,s)),i!=null&&(l=r.getRowIndicatorColumn(e,u,i,!1,a,s)),p=r.merge(f,l),p==null)throw cG.default.getNotFoundInstance();var v=p.getBoundingBox();if(g&&v!=null&&(v.getMinY()<u.getMinY()||v.getMaxY()>u.getMaxY()))u=v;else break}p.setBoundingBox(u);var _=p.getBarcodeColumnCount()+1;p.setDetectionResultColumn(0,f),p.setDetectionResultColumn(_,l);for(var T=f!=null,O=1;O<=_;O++){var R=T?O:_-O;if(p.getDetectionResultColumn(R)===void 0){var D=void 0;R===0||R===_?D=new dG.default(u,R===0):D=new c_e.default(u),p.setDetectionResultColumn(R,D);for(var U=-1,K=U,A=u.getMinY();A<=u.getMaxY();A++){if(U=r.getStartColumn(p,R,A,T),U<0||U>u.getMaxX()){if(K===-1)continue;U=K}var c=r.detectCodeword(e,u.getMinX(),u.getMaxX(),T,U,A,a,s);c!=null&&(D.setCodeword(A,c),K=U,a=Math.min(a,c.getWidth()),s=Math.max(s,c.getWidth()))}}}return r.createDecoderResult(p)},r.merge=function(e,t){if(e==null&&t==null)return null;var n=r.getBarcodeMetadata(e,t);if(n==null)return null;var i=lG.default.merge(r.adjustBoundingBox(e),r.adjustBoundingBox(t));return new f_e.default(n,i)},r.adjustBoundingBox=function(e){var t,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var o=r.getMax(i),a=0;try{for(var s=Vv(i),u=s.next();!u.done;u=s.next()){var f=u.value;if(a+=o-f,f>0)break}}catch(v){t={error:v}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}for(var l=e.getCodewords(),p=0;a>0&&l[p]==null;p++)a--;for(var g=0,p=i.length-1;p>=0&&(g+=o-i[p],!(i[p]>0));p--);for(var p=l.length-1;g>0&&l[p]==null;p--)g--;return e.getBoundingBox().addMissingRows(a,g,e.isLeft())},r.getMax=function(e){var t,n,i=-1;try{for(var o=Vv(e),a=o.next();!a.done;a=o.next()){var s=a.value;i=Math.max(i,s)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},r.getBarcodeMetadata=function(e,t){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var i;return t==null||(i=t.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},r.getRowIndicatorColumn=function(e,t,n,i,o,a){for(var s=new dG.default(t,i),u=0;u<2;u++)for(var f=u===0?1:-1,l=Math.trunc(Math.trunc(n.getX())),p=Math.trunc(Math.trunc(n.getY()));p<=t.getMaxY()&&p>=t.getMinY();p+=f){var g=r.detectCodeword(e,0,e.getWidth(),i,l,p,o,a);g!=null&&(s.setCodeword(p,g),i?l=g.getStartX():l=g.getEndX())}return s},r.adjustCodewordCount=function(e,t){var n=t[0][1],i=n.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-r.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(o<1||o>F6.default.MAX_CODEWORDS_IN_BARCODE)throw cG.default.getNotFoundInstance();n.setValue(o)}else i[0]!==o&&n.setValue(o)},r.createDecoderResult=function(e){var t=r.createBarcodeMatrix(e);r.adjustCodewordCount(e,t);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],a=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var u=0;u<e.getBarcodeColumnCount();u++){var f=t[s][u+1].getValue(),l=s*e.getBarcodeColumnCount()+u;f.length===0?n.push(l):f.length===1?i[l]=f[0]:(a.push(l),o.push(f))}for(var p=new Array(o.length),g=0;g<p.length;g++)p[g]=o[g];return r.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,F6.default.toIntArray(n),F6.default.toIntArray(a),p)},r.createDecoderResultFromAmbiguousValues=function(e,t,n,i,o){for(var a=new Int32Array(i.length),s=100;s-- >0;){for(var u=0;u<a.length;u++)t[i[u]]=o[u][a[u]];try{return r.decodeCodewords(t,e,n)}catch(l){var f=l instanceof Gv.default;if(!f)throw l}if(a.length===0)throw Gv.default.getChecksumInstance();for(var u=0;u<a.length;u++)if(a[u]<o[u].length-1){a[u]++;break}else if(a[u]=0,u===a.length-1)throw Gv.default.getChecksumInstance()}throw Gv.default.getChecksumInstance()},r.createBarcodeMatrix=function(e){for(var t,n,i,o,a=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<a.length;s++)for(var u=0;u<a[s].length;u++)a[s][u]=new d_e.default;var f=0;try{for(var l=Vv(e.getDetectionResultColumns()),p=l.next();!p.done;p=l.next()){var g=p.value;if(g!=null)try{for(var v=(i=void 0,Vv(g.getCodewords())),_=v.next();!_.done;_=v.next()){var T=_.value;if(T!=null){var O=T.getRowNumber();if(O>=0){if(O>=a.length)continue;a[O][f].setValue(T.getValue())}}}}catch(R){i={error:R}}finally{try{_&&!_.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}f++}}catch(R){t={error:R}}finally{try{p&&!p.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return a},r.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},r.getStartColumn=function(e,t,n,i){var o,a,s=i?1:-1,u=null;if(r.isValidBarcodeColumn(e,t-s)&&(u=e.getDetectionResultColumn(t-s).getCodeword(n)),u!=null)return i?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(t).getCodewordNearby(n),u!=null)return i?u.getStartX():u.getEndX();if(r.isValidBarcodeColumn(e,t-s)&&(u=e.getDetectionResultColumn(t-s).getCodewordNearby(n)),u!=null)return i?u.getEndX():u.getStartX();for(var f=0;r.isValidBarcodeColumn(e,t-s);){t-=s;try{for(var l=(o=void 0,Vv(e.getDetectionResultColumn(t).getCodewords())),p=l.next();!p.done;p=l.next()){var g=p.value;if(g!=null)return(i?g.getEndX():g.getStartX())+s*f*(g.getEndX()-g.getStartX())}}catch(v){o={error:v}}finally{try{p&&!p.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}f++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},r.detectCodeword=function(e,t,n,i,o,a,s,u){o=r.adjustCodewordStartColumn(e,t,n,i,o,a);var f=r.getModuleBitCount(e,t,n,i,o,a);if(f==null)return null;var l,p=s_e.default.sum(f);if(i)l=o+p;else{for(var g=0;g<f.length/2;g++){var v=f[g];f[g]=f[f.length-1-g],f[f.length-1-g]=v}l=o,o=l-p}if(!r.checkCodewordSkew(p,s,u))return null;var _=h_e.default.getDecodedValue(f),T=F6.default.getCodeword(_);return T===-1?null:new l_e.default(o,l,r.getCodewordBucketNumber(_),T)},r.getModuleBitCount=function(e,t,n,i,o,a){for(var s=o,u=new Int32Array(8),f=0,l=i?1:-1,p=i;(i?s<n:s>=t)&&f<u.length;)e.get(s,a)===p?(u[f]++,s+=l):(f++,p=!p);return f===u.length||s===(i?n:t)&&f===u.length-1?u:null},r.getNumberOfECCodeWords=function(e){return 2<<e},r.adjustCodewordStartColumn=function(e,t,n,i,o,a){for(var s=o,u=i?-1:1,f=0;f<2;f++){for(;(i?s>=t:s<n)&&i===e.get(s,a);){if(Math.abs(o-s)>r.CODEWORD_SKEW_SIZE)return o;s+=u}u=-u,i=!i}return s},r.checkCodewordSkew=function(e,t,n){return t-r.CODEWORD_SKEW_SIZE<=e&&e<=n+r.CODEWORD_SKEW_SIZE},r.decodeCodewords=function(e,t,n){if(e.length===0)throw q6.default.getFormatInstance();var i=1<<t+1,o=r.correctErrors(e,n,i);r.verifyCodewordCount(e,i);var a=p_e.default.decode(e,""+t);return a.setErrorsCorrected(o),a.setErasures(n.length),a},r.correctErrors=function(e,t,n){if(t!=null&&t.length>n/2+r.MAX_ERRORS||n<0||n>r.MAX_EC_CODEWORDS)throw Gv.default.getChecksumInstance();return r.errorCorrection.decode(e,n,t)},r.verifyCodewordCount=function(e,t){if(e.length<4)throw q6.default.getFormatInstance();var n=e[0];if(n>e.length)throw q6.default.getFormatInstance();if(n===0)if(t<e.length)e[0]=e.length-t;else throw q6.default.getFormatInstance()},r.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),n=0,i=t.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)t[i]++,e>>=1;return t},r.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},r.getCodewordBucketNumber_number=function(e){return r.getCodewordBucketNumber(r.getBitCountForCodeword(e))},r.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},r.toString=function(e){for(var t=new g_e.default,n=0;n<e.length;n++){t.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var o=e[n][i];o.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}t.format("%n")}return t.toString()},r.CODEWORD_SKEW_SIZE=2,r.MAX_ERRORS=3,r.MAX_EC_CODEWORDS=512,r.errorCorrection=new u_e.default,r}();Yv.default=y_e});var U6=b(zv=>{"use strict";d();h();var m_e=zv&&zv.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(zv,"__esModule",{value:!0});var v_e=Ht(),x_e=Zs(),__e=pr(),pG=je(),w_e=bi(),W0=Y0(),E_e=Eo(),gG=Ku(),b_e=VV(),I_e=hG(),T_e=function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=r.decode(e,t,!1);if(n==null||n.length===0||n[0]==null)throw pG.default.getNotFoundInstance();return n[0]},r.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return r.decode(e,t,!0)}catch(n){throw n instanceof __e.default||n instanceof x_e.default?pG.default.getNotFoundInstance():n}},r.decode=function(e,t,n){var i,o,a=new Array,s=b_e.default.detectMultiple(e,t,n);try{for(var u=m_e(s.getPoints()),f=u.next();!f.done;f=u.next()){var l=f.value,p=I_e.default.decode(s.getBits(),l[4],l[5],l[6],l[7],r.getMinCodewordWidth(l),r.getMaxCodewordWidth(l)),g=new w_e.default(p.getText(),p.getRawBytes(),void 0,l,v_e.default.PDF_417);g.putMetadata(gG.default.ERROR_CORRECTION_LEVEL,p.getECLevel());var v=p.getOther();v!=null&&g.putMetadata(gG.default.PDF417_EXTRA_METADATA,v),a.push(g)}}catch(_){i={error:_}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return a.map(function(_){return _})},r.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMinWidth=function(e,t){return e==null||t==null?E_e.default.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(r.getMaxWidth(e[0],e[4]),r.getMaxWidth(e[6],e[2])*W0.default.MODULES_IN_CODEWORD/W0.default.MODULES_IN_STOP_PATTERN),Math.max(r.getMaxWidth(e[1],e[5]),r.getMaxWidth(e[7],e[3])*W0.default.MODULES_IN_CODEWORD/W0.default.MODULES_IN_STOP_PATTERN)))},r.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(r.getMinWidth(e[0],e[4]),r.getMinWidth(e[6],e[2])*W0.default.MODULES_IN_CODEWORD/W0.default.MODULES_IN_STOP_PATTERN),Math.min(r.getMinWidth(e[1],e[5]),r.getMinWidth(e[7],e[3])*W0.default.MODULES_IN_CODEWORD/W0.default.MODULES_IN_STOP_PATTERN)))},r.prototype.reset=function(){},r}();zv.default=T_e});var nD=b(Wv=>{"use strict";d();h();var S_e=Wv&&Wv.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Wv,"__esModule",{value:!0});var C_e=wi(),A_e=function(r){S_e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReaderException",e}(C_e.default);Wv.default=A_e});var iD=b(Xv=>{"use strict";d();h();var yG=Xv&&Xv.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Xv,"__esModule",{value:!0});var mG=Ei(),to=Ht(),vG=O6(),xG=o6(),L6=x6(),_G=b6(),O_e=je(),wG=U6(),EG=nD(),D_e=function(){function r(){}return r.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},r.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},r.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(mG.default.TRY_HARDER)!==void 0,n=e==null?null:e.get(mG.default.POSSIBLE_FORMATS),i=new Array;if(n!=null){var o=n.some(function(a){return a===to.default.UPC_A||a===to.default.UPC_E||a===to.default.EAN_13||a===to.default.EAN_8||a===to.default.CODABAR||a===to.default.CODE_39||a===to.default.CODE_93||a===to.default.CODE_128||a===to.default.ITF||a===to.default.RSS_14||a===to.default.RSS_EXPANDED});o&&!t&&i.push(new L6.default(e)),n.includes(to.default.QR_CODE)&&i.push(new vG.default),n.includes(to.default.DATA_MATRIX)&&i.push(new _G.default),n.includes(to.default.AZTEC)&&i.push(new xG.default),n.includes(to.default.PDF_417)&&i.push(new wG.default),o&&t&&i.push(new L6.default(e))}i.length===0&&(t||i.push(new L6.default(e)),i.push(new vG.default),i.push(new _G.default),i.push(new xG.default),i.push(new wG.default),t&&i.push(new L6.default(e))),this.readers=i},r.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var n=yG(this.readers),i=n.next();!i.done;i=n.next()){var o=i.value;o.reset()}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},r.prototype.decodeInternal=function(e){var t,n;if(this.readers===null)throw new EG.default("No readers where selected, nothing can be read.");try{for(var i=yG(this.readers),o=i.next();!o.done;o=i.next()){var a=o.value;try{return a.decode(e,this.hints)}catch(s){if(s instanceof EG.default)continue}}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}throw new O_e.default("No MultiFormat Readers were able to detect the code.")},r}();Xv.default=D_e});var bG=b(rg=>{"use strict";d();h();var R_e=rg&&rg.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(rg,"__esModule",{value:!0});rg.BrowserMultiFormatReader=void 0;var P_e=k0(),B_e=iD(),N_e=function(r){R_e(e,r);function e(t,n){t===void 0&&(t=null),n===void 0&&(n=500);var i=this,o=new B_e.default;return o.setHints(t),i=r.call(this,o,n)||this,i}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e}(P_e.BrowserCodeReader);rg.BrowserMultiFormatReader=N_e});var IG=b(ng=>{"use strict";d();h();var M_e=ng&&ng.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ng,"__esModule",{value:!0});ng.BrowserPDF417Reader=void 0;var q_e=k0(),F_e=U6(),U_e=function(r){M_e(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new F_e.default,t)||this}return e}(q_e.BrowserCodeReader);ng.BrowserPDF417Reader=U_e});var TG=b(ig=>{"use strict";d();h();var L_e=ig&&ig.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ig,"__esModule",{value:!0});ig.BrowserQRCodeReader=void 0;var k_e=k0(),j_e=O6(),H_e=function(r){L_e(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new j_e.default,t)||this}return e}(k_e.BrowserCodeReader);ig.BrowserQRCodeReader=H_e});var og=b(aD=>{"use strict";d();h();Object.defineProperty(aD,"__esModule",{value:!0});var oD;(function(r){r[r.ERROR_CORRECTION=0]="ERROR_CORRECTION",r[r.CHARACTER_SET=1]="CHARACTER_SET",r[r.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",r[r.MIN_SIZE=3]="MIN_SIZE",r[r.MAX_SIZE=4]="MAX_SIZE",r[r.MARGIN=5]="MARGIN",r[r.PDF417_COMPACT=6]="PDF417_COMPACT",r[r.PDF417_COMPACTION=7]="PDF417_COMPACTION",r[r.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",r[r.AZTEC_LAYERS=9]="AZTEC_LAYERS",r[r.QR_VERSION=10]="QR_VERSION"})(oD||(oD={}));aD.default=oD});var k6=b(uD=>{"use strict";d();h();Object.defineProperty(uD,"__esModule",{value:!0});var sD=Dm(),SG=Xr(),CG=ct(),K_e=function(){function r(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new sD.default(e,Int32Array.from([1])))}return r.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var n=t[t.length-1],i=this.field,o=t.length;o<=e;o++){var a=n.multiply(new sD.default(i,Int32Array.from([1,i.exp(o-1+i.getGeneratorBase())])));t.push(a),n=a}return t[e]},r.prototype.encode=function(e,t){if(t===0)throw new CG.default("No error correction bytes");var n=e.length-t;if(n<=0)throw new CG.default("No data bytes provided");var i=this.buildGenerator(t),o=new Int32Array(n);SG.default.arraycopy(e,0,o,0,n);var a=new sD.default(this.field,o);a=a.multiplyByMonomial(t,1);for(var s=a.divide(i)[1],u=s.getCoefficients(),f=t-u.length,l=0;l<f;l++)e[n+l]=0;SG.default.arraycopy(u,0,e,n+f,u.length)},r}();uD.default=K_e});var j6=b(fD=>{"use strict";d();h();Object.defineProperty(fD,"__esModule",{value:!0});var V_e=ct(),G_e=function(){function r(){}return r.applyMaskPenaltyRule1=function(e){return r.applyMaskPenaltyRule1Internal(e,!0)+r.applyMaskPenaltyRule1Internal(e,!1)},r.applyMaskPenaltyRule2=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o-1;a++)for(var s=n[a],u=0;u<i-1;u++){var f=s[u];f===s[u+1]&&f===n[a+1][u]&&f===n[a+1][u+1]&&t++}return r.N2*t},r.applyMaskPenaltyRule3=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o;a++)for(var s=0;s<i;s++){var u=n[a];s+6<i&&u[s]===1&&u[s+1]===0&&u[s+2]===1&&u[s+3]===1&&u[s+4]===1&&u[s+5]===0&&u[s+6]===1&&(r.isWhiteHorizontal(u,s-4,s)||r.isWhiteHorizontal(u,s+7,s+11))&&t++,a+6<o&&n[a][s]===1&&n[a+1][s]===0&&n[a+2][s]===1&&n[a+3][s]===1&&n[a+4][s]===1&&n[a+5][s]===0&&n[a+6][s]===1&&(r.isWhiteVertical(n,s,a-4,a)||r.isWhiteVertical(n,s,a+7,a+11))&&t++}return t*r.N3},r.isWhiteHorizontal=function(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(var i=t;i<n;i++)if(e[i]===1)return!1;return!0},r.isWhiteVertical=function(e,t,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var o=n;o<i;o++)if(e[o][t]===1)return!1;return!0},r.applyMaskPenaltyRule4=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o;a++)for(var s=n[a],u=0;u<i;u++)s[u]===1&&t++;var f=e.getHeight()*e.getWidth(),l=Math.floor(Math.abs(t*2-f)*10/f);return l*r.N4},r.getDataMaskBit=function(e,t,n){var i,o;switch(e){case 0:i=n+t&1;break;case 1:i=n&1;break;case 2:i=t%3;break;case 3:i=(n+t)%3;break;case 4:i=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:o=n*t,i=(o&1)+o%3;break;case 6:o=n*t,i=(o&1)+o%3&1;break;case 7:o=n*t,i=o%3+(n+t&1)&1;break;default:throw new V_e.default("Invalid mask pattern: "+e)}return i===0},r.applyMaskPenaltyRule1Internal=function(e,t){for(var n=0,i=t?e.getHeight():e.getWidth(),o=t?e.getWidth():e.getHeight(),a=e.getArray(),s=0;s<i;s++){for(var u=0,f=-1,l=0;l<o;l++){var p=t?a[s][l]:a[l][s];p===f?u++:(u>=5&&(n+=r.N1+(u-5)),u=1,f=p)}u>=5&&(n+=r.N1+(u-5))}return n},r.N1=3,r.N2=3,r.N3=40,r.N4=10,r}();fD.default=G_e});var cD=b(Jv=>{"use strict";d();h();var Y_e=Jv&&Jv.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Jv,"__esModule",{value:!0});var z_e=Qs(),W_e=Ar(),X_e=function(){function r(e,t){this.width=e,this.height=t;for(var n=new Array(t),i=0;i!==t;i++)n[i]=new Uint8Array(e);this.bytes=n}return r.prototype.getHeight=function(){return this.height},r.prototype.getWidth=function(){return this.width},r.prototype.get=function(e,t){return this.bytes[t][e]},r.prototype.getArray=function(){return this.bytes},r.prototype.setNumber=function(e,t,n){this.bytes[t][e]=n},r.prototype.setBoolean=function(e,t,n){this.bytes[t][e]=n?1:0},r.prototype.clear=function(e){var t,n;try{for(var i=Y_e(this.bytes),o=i.next();!o.done;o=i.next()){var a=o.value;z_e.default.fill(a,e)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var o=this.bytes[n],a=t.bytes[n],s=0,u=this.width;s<u;++s)if(o[s]!==a[s])return!1;return!0},r.prototype.toString=function(){for(var e=new W_e.default,t=0,n=this.height;t<n;++t){for(var i=this.bytes[t],o=0,a=this.width;o<a;++o)switch(i[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},r}();Jv.default=X_e});var H6=b(lD=>{"use strict";d();h();Object.defineProperty(lD,"__esModule",{value:!0});var J_e=Ar(),$_e=function(){function r(){this.maskPattern=-1}return r.prototype.getMode=function(){return this.mode},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getVersion=function(){return this.version},r.prototype.getMaskPattern=function(){return this.maskPattern},r.prototype.getMatrix=function(){return this.matrix},r.prototype.toString=function(){var e=new J_e.default;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},r.prototype.setMode=function(e){this.mode=e},r.prototype.setECLevel=function(e){this.ecLevel=e},r.prototype.setVersion=function(e){this.version=e},r.prototype.setMaskPattern=function(e){this.maskPattern=e},r.prototype.setMatrix=function(e){this.matrix=e},r.isValidMaskPattern=function(e){return e>=0&&e<r.NUM_MASK_PATTERNS},r.NUM_MASK_PATTERNS=8,r}();lD.default=$_e});var K6=b($v=>{"use strict";d();h();var Z_e=$v&&$v.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty($v,"__esModule",{value:!0});var Q_e=wi(),e3e=function(r){Z_e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="WriterException",e}(Q_e.default);$v.default=e3e});var pD=b(hD=>{"use strict";d();h();Object.defineProperty(hD,"__esModule",{value:!0});var dD=ku(),t3e=Eo(),r3e=H6(),n3e=j6(),Ch=K6(),i3e=ct(),o3e=function(){function r(){}return r.clearMatrix=function(e){e.clear(255)},r.buildMatrix=function(e,t,n,i,o){r.clearMatrix(o),r.embedBasicPatterns(n,o),r.embedTypeInfo(t,i,o),r.maybeEmbedVersionInfo(n,o),r.embedDataBits(e,i,o)},r.embedBasicPatterns=function(e,t){r.embedPositionDetectionPatternsAndSeparators(t),r.embedDarkDotAtLeftBottomCorner(t),r.maybeEmbedPositionAdjustmentPatterns(e,t),r.embedTimingPatterns(t)},r.embedTypeInfo=function(e,t,n){var i=new dD.default;r.makeTypeInfoBits(e,t,i);for(var o=0,a=i.getSize();o<a;++o){var s=i.get(i.getSize()-1-o),u=r.TYPE_INFO_COORDINATES[o],f=u[0],l=u[1];if(n.setBoolean(f,l,s),o<8){var p=n.getWidth()-o-1,g=8;n.setBoolean(p,g,s)}else{var p=8,g=n.getHeight()-7+(o-8);n.setBoolean(p,g,s)}}},r.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var n=new dD.default;r.makeVersionInfoBits(e,n);for(var i=6*3-1,o=0;o<6;++o)for(var a=0;a<3;++a){var s=n.get(i);i--,t.setBoolean(o,t.getHeight()-11+a,s),t.setBoolean(t.getHeight()-11+a,o,s)}}},r.embedDataBits=function(e,t,n){for(var i=0,o=-1,a=n.getWidth()-1,s=n.getHeight()-1;a>0;){for(a===6&&(a-=1);s>=0&&s<n.getHeight();){for(var u=0;u<2;++u){var f=a-u;if(!!r.isEmpty(n.get(f,s))){var l=void 0;i<e.getSize()?(l=e.get(i),++i):l=!1,t!==255&&n3e.default.getDataMaskBit(t,f,s)&&(l=!l),n.setBoolean(f,s,l)}}s+=o}o=-o,s+=o,a-=2}if(i!==e.getSize())throw new Ch.default("Not all bits consumed: "+i+"/"+e.getSize())},r.findMSBSet=function(e){return 32-t3e.default.numberOfLeadingZeros(e)},r.calculateBCHCode=function(e,t){if(t===0)throw new i3e.default("0 polynomial");var n=r.findMSBSet(t);for(e<<=n-1;r.findMSBSet(e)>=n;)e^=t<<r.findMSBSet(e)-n;return e},r.makeTypeInfoBits=function(e,t,n){if(!r3e.default.isValidMaskPattern(t))throw new Ch.default("Invalid mask pattern");var i=e.getBits()<<3|t;n.appendBits(i,5);var o=r.calculateBCHCode(i,r.TYPE_INFO_POLY);n.appendBits(o,10);var a=new dD.default;if(a.appendBits(r.TYPE_INFO_MASK_PATTERN,15),n.xor(a),n.getSize()!==15)throw new Ch.default("should not happen but we got: "+n.getSize())},r.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var n=r.calculateBCHCode(e.getVersionNumber(),r.VERSION_INFO_POLY);if(t.appendBits(n,12),t.getSize()!==18)throw new Ch.default("should not happen but we got: "+t.getSize())},r.isEmpty=function(e){return e===255},r.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var n=(t+1)%2;r.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),r.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}},r.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Ch.default;e.setNumber(8,e.getHeight()-8,1)},r.embedHorizontalSeparationPattern=function(e,t,n){for(var i=0;i<8;++i){if(!r.isEmpty(n.get(e+i,t)))throw new Ch.default;n.setNumber(e+i,t,0)}},r.embedVerticalSeparationPattern=function(e,t,n){for(var i=0;i<7;++i){if(!r.isEmpty(n.get(e,t+i)))throw new Ch.default;n.setNumber(e,t+i,0)}},r.embedPositionAdjustmentPattern=function(e,t,n){for(var i=0;i<5;++i)for(var o=r.POSITION_ADJUSTMENT_PATTERN[i],a=0;a<5;++a)n.setNumber(e+a,t+i,o[a])},r.embedPositionDetectionPattern=function(e,t,n){for(var i=0;i<7;++i)for(var o=r.POSITION_DETECTION_PATTERN[i],a=0;a<7;++a)n.setNumber(e+a,t+i,o[a])},r.embedPositionDetectionPatternsAndSeparators=function(e){var t=r.POSITION_DETECTION_PATTERN[0].length;r.embedPositionDetectionPattern(0,0,e),r.embedPositionDetectionPattern(e.getWidth()-t,0,e),r.embedPositionDetectionPattern(0,e.getWidth()-t,e);var n=8;r.embedHorizontalSeparationPattern(0,n-1,e),r.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),r.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;r.embedVerticalSeparationPattern(i,0,e),r.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),r.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},r.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],o=0,a=i.length;o!==a;o++){var s=i[o];if(s>=0)for(var u=0;u!==a;u++){var f=i[u];f>=0&&r.isEmpty(t.get(f,s))&&r.embedPositionAdjustmentPattern(f-2,s-2,t)}}},r.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),r.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),r.VERSION_INFO_POLY=7973,r.TYPE_INFO_POLY=1335,r.TYPE_INFO_MASK_PATTERN=21522,r}();hD.default=o3e});var AG=b(gD=>{"use strict";d();h();Object.defineProperty(gD,"__esModule",{value:!0});var a3e=function(){function r(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return r.prototype.getDataBytes=function(){return this.dataBytes},r.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},r}();gD.default=a3e});var z6=b(Qv=>{"use strict";d();h();var OG=Qv&&Qv.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Qv,"__esModule",{value:!0});var V6=og(),G6=ku(),Zv=Wf(),s3e=Jf(),u3e=k6(),us=S6(),yD=Iv(),Y6=j6(),f3e=cD(),DG=H6(),RG=pD(),mD=lh(),c3e=AG(),Jr=K6(),l3e=function(){function r(){}return r.calculateMaskPenalty=function(e){return Y6.default.applyMaskPenaltyRule1(e)+Y6.default.applyMaskPenaltyRule2(e)+Y6.default.applyMaskPenaltyRule3(e)+Y6.default.applyMaskPenaltyRule4(e)},r.encode=function(e,t,n){n===void 0&&(n=null);var i=r.DEFAULT_BYTE_MODE_ENCODING,o=n!==null&&n.get(V6.default.CHARACTER_SET)!==void 0;o&&(i=n.get(V6.default.CHARACTER_SET).toString());var a=this.chooseMode(e,i),s=new G6.default;if(a===us.default.BYTE&&(o||r.DEFAULT_BYTE_MODE_ENCODING!==i)){var u=Zv.default.getCharacterSetECIByName(i);u!==void 0&&this.appendECI(u,s)}this.appendModeInfo(a,s);var f=new G6.default;this.appendBytes(e,a,f,i);var l;if(n!==null&&n.get(V6.default.QR_VERSION)!==void 0){var p=Number.parseInt(n.get(V6.default.QR_VERSION).toString(),10);l=yD.default.getVersionForNumber(p);var g=this.calculateBitsNeeded(a,s,f,l);if(!this.willFit(g,l,t))throw new Jr.default("Data too big for requested version")}else l=this.recommendVersion(t,a,s,f);var v=new G6.default;v.appendBitArray(s);var _=a===us.default.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(_,l,a,v),v.appendBitArray(f);var T=l.getECBlocksForLevel(t),O=l.getTotalCodewords()-T.getTotalECCodewords();this.terminateBits(O,v);var R=this.interleaveWithECBytes(v,l.getTotalCodewords(),O,T.getNumBlocks()),D=new DG.default;D.setECLevel(t),D.setMode(a),D.setVersion(l);var U=l.getDimensionForVersion(),K=new f3e.default(U,U),A=this.chooseMaskPattern(R,t,l,K);return D.setMaskPattern(A),RG.default.buildMatrix(R,t,l,A,K),D.setMatrix(K),D},r.recommendVersion=function(e,t,n,i){var o=this.calculateBitsNeeded(t,n,i,yD.default.getVersionForNumber(1)),a=this.chooseVersion(o,e),s=this.calculateBitsNeeded(t,n,i,a);return this.chooseVersion(s,e)},r.calculateBitsNeeded=function(e,t,n,i){return t.getSize()+e.getCharacterCountBits(i)+n.getSize()},r.getAlphanumericCode=function(e){return e<r.ALPHANUMERIC_TABLE.length?r.ALPHANUMERIC_TABLE[e]:-1},r.chooseMode=function(e,t){if(t===void 0&&(t=null),Zv.default.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return us.default.KANJI;for(var n=!1,i=!1,o=0,a=e.length;o<a;++o){var s=e.charAt(o);if(r.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return us.default.BYTE}return i?us.default.ALPHANUMERIC:n?us.default.NUMERIC:us.default.BYTE},r.isOnlyDoubleByteKanji=function(e){var t;try{t=mD.default.encode(e,Zv.default.SJIS)}catch{return!1}var n=t.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var o=t[i]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0},r.chooseMaskPattern=function(e,t,n,i){for(var o=Number.MAX_SAFE_INTEGER,a=-1,s=0;s<DG.default.NUM_MASK_PATTERNS;s++){RG.default.buildMatrix(e,t,n,s,i);var u=this.calculateMaskPenalty(i);u<o&&(o=u,a=s)}return a},r.chooseVersion=function(e,t){for(var n=1;n<=40;n++){var i=yD.default.getVersionForNumber(n);if(r.willFit(e,i,t))return i}throw new Jr.default("Data too big")},r.willFit=function(e,t,n){var i=t.getTotalCodewords(),o=t.getECBlocksForLevel(n),a=o.getTotalECCodewords(),s=i-a,u=(e+7)/8;return s>=u},r.terminateBits=function(e,t){var n=e*8;if(t.getSize()>n)throw new Jr.default("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(var i=0;i<4&&t.getSize()<n;++i)t.appendBit(!1);var o=t.getSize()&7;if(o>0)for(var i=o;i<8;i++)t.appendBit(!1);for(var a=e-t.getSizeInBytes(),i=0;i<a;++i)t.appendBits((i&1)===0?236:17,8);if(t.getSize()!==n)throw new Jr.default("Bits size does not equal capacity")},r.getNumDataBytesAndNumECBytesForBlockID=function(e,t,n,i,o,a){if(i>=n)throw new Jr.default("Block ID too large");var s=e%n,u=n-s,f=Math.floor(e/n),l=f+1,p=Math.floor(t/n),g=p+1,v=f-p,_=l-g;if(v!==_)throw new Jr.default("EC bytes mismatch");if(n!==u+s)throw new Jr.default("RS blocks mismatch");if(e!==(p+v)*u+(g+_)*s)throw new Jr.default("Total bytes mismatch");i<u?(o[0]=p,a[0]=v):(o[0]=g,a[0]=_)},r.interleaveWithECBytes=function(e,t,n,i){var o,a,s,u;if(e.getSizeInBytes()!==n)throw new Jr.default("Number of bits and data bytes does not match");for(var f=0,l=0,p=0,g=new Array,v=0;v<i;++v){var _=new Int32Array(1),T=new Int32Array(1);r.getNumDataBytesAndNumECBytesForBlockID(t,n,i,v,_,T);var O=_[0],R=new Uint8Array(O);e.toBytes(8*f,R,0,O);var D=r.generateECBytes(R,T[0]);g.push(new c3e.default(R,D)),l=Math.max(l,O),p=Math.max(p,D.length),f+=_[0]}if(n!==f)throw new Jr.default("Data bytes does not match offset");for(var U=new G6.default,v=0;v<l;++v)try{for(var K=(o=void 0,OG(g)),A=K.next();!A.done;A=K.next()){var c=A.value,R=c.getDataBytes();v<R.length&&U.appendBits(R[v],8)}}catch(L){o={error:L}}finally{try{A&&!A.done&&(a=K.return)&&a.call(K)}finally{if(o)throw o.error}}for(var v=0;v<p;++v)try{for(var y=(s=void 0,OG(g)),x=y.next();!x.done;x=y.next()){var c=x.value,D=c.getErrorCorrectionBytes();v<D.length&&U.appendBits(D[v],8)}}catch(L){s={error:L}}finally{try{x&&!x.done&&(u=y.return)&&u.call(y)}finally{if(s)throw s.error}}if(t!==U.getSizeInBytes())throw new Jr.default("Interleaving error: "+t+" and "+U.getSizeInBytes()+" differ.");return U},r.generateECBytes=function(e,t){for(var n=e.length,i=new Int32Array(n+t),o=0;o<n;o++)i[o]=e[o]&255;new u3e.default(s3e.default.QR_CODE_FIELD_256).encode(i,t);for(var a=new Uint8Array(t),o=0;o<t;o++)a[o]=i[n+o];return a},r.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},r.appendLengthInfo=function(e,t,n,i){var o=n.getCharacterCountBits(t);if(e>=1<<o)throw new Jr.default(e+" is bigger than "+((1<<o)-1));i.appendBits(e,o)},r.appendBytes=function(e,t,n,i){switch(t){case us.default.NUMERIC:r.appendNumericBytes(e,n);break;case us.default.ALPHANUMERIC:r.appendAlphanumericBytes(e,n);break;case us.default.BYTE:r.append8BitBytes(e,n,i);break;case us.default.KANJI:r.appendKanjiBytes(e,n);break;default:throw new Jr.default("Invalid mode: "+t)}},r.getDigit=function(e){return e.charCodeAt(0)-48},r.isDigit=function(e){var t=r.getDigit(e);return t>=0&&t<=9},r.appendNumericBytes=function(e,t){for(var n=e.length,i=0;i<n;){var o=r.getDigit(e.charAt(i));if(i+2<n){var a=r.getDigit(e.charAt(i+1)),s=r.getDigit(e.charAt(i+2));t.appendBits(o*100+a*10+s,10),i+=3}else if(i+1<n){var a=r.getDigit(e.charAt(i+1));t.appendBits(o*10+a,7),i+=2}else t.appendBits(o,4),i++}},r.appendAlphanumericBytes=function(e,t){for(var n=e.length,i=0;i<n;){var o=r.getAlphanumericCode(e.charCodeAt(i));if(o===-1)throw new Jr.default;if(i+1<n){var a=r.getAlphanumericCode(e.charCodeAt(i+1));if(a===-1)throw new Jr.default;t.appendBits(o*45+a,11),i+=2}else t.appendBits(o,6),i++}},r.append8BitBytes=function(e,t,n){var i;try{i=mD.default.encode(e,n)}catch(u){throw new Jr.default(u)}for(var o=0,a=i.length;o!==a;o++){var s=i[o];t.appendBits(s,8)}},r.appendKanjiBytes=function(e,t){var n;try{n=mD.default.encode(e,Zv.default.SJIS)}catch(p){throw new Jr.default(p)}for(var i=n.length,o=0;o<i;o+=2){var a=n[o]&255,s=n[o+1]&255,u=a<<8&4294967295|s,f=-1;if(u>=33088&&u<=40956?f=u-33088:u>=57408&&u<=60351&&(f=u-49472),f===-1)throw new Jr.default("Invalid byte sequence");var l=(f>>8)*192+(f&255);t.appendBits(l,13)}},r.appendECI=function(e,t){t.appendBits(us.default.ECI.getBits(),4),t.appendBits(e.getValue(),8)},r.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),r.DEFAULT_BYTE_MODE_ENCODING=Zv.default.UTF8.getName(),r}();Qv.default=l3e});var NG=b(X6=>{"use strict";d();h();Object.defineProperty(X6,"__esModule",{value:!0});X6.BrowserQRCodeSvgWriter=void 0;var W6=og(),d3e=z6(),PG=_v(),BG=ct(),h3e=Vu(),p3e=function(){function r(){}return r.prototype.write=function(e,t,n,i){if(i===void 0&&(i=null),e.length===0)throw new BG.default("Found empty contents");if(t<0||n<0)throw new BG.default("Requested dimensions are too small: "+t+"x"+n);var o=PG.default.L,a=r.QUIET_ZONE_SIZE;i!==null&&(i.get(W6.default.ERROR_CORRECTION)!==void 0&&(o=PG.default.fromString(i.get(W6.default.ERROR_CORRECTION).toString())),i.get(W6.default.MARGIN)!==void 0&&(a=Number.parseInt(i.get(W6.default.MARGIN).toString(),10)));var s=d3e.default.encode(e,o,i);return this.renderResult(s,t,n,a)},r.prototype.writeToDom=function(e,t,n,i,o){o===void 0&&(o=null),typeof e=="string"&&(e=document.querySelector(e));var a=this.write(t,n,i,o);e&&e.appendChild(a)},r.prototype.renderResult=function(e,t,n,i){var o=e.getMatrix();if(o===null)throw new h3e.default;for(var a=o.getWidth(),s=o.getHeight(),u=a+i*2,f=s+i*2,l=Math.max(t,u),p=Math.max(n,f),g=Math.min(Math.floor(l/u),Math.floor(p/f)),v=Math.floor((l-a*g)/2),_=Math.floor((p-s*g)/2),T=this.createSVGElement(l,p),O=0,R=_;O<s;O++,R+=g)for(var D=0,U=v;D<a;D++,U+=g)if(o.get(D,O)===1){var K=this.createSvgRectElement(U,R,g,g);T.appendChild(K)}return T},r.prototype.createSVGElement=function(e,t){var n=document.createElementNS(r.SVG_NS,"svg");return n.setAttributeNS(null,"height",e.toString()),n.setAttributeNS(null,"width",t.toString()),n},r.prototype.createSvgRectElement=function(e,t,n,i){var o=document.createElementNS(r.SVG_NS,"rect");return o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",t.toString()),o.setAttributeNS(null,"height",n.toString()),o.setAttributeNS(null,"width",i.toString()),o.setAttributeNS(null,"fill","#000000"),o},r.QUIET_ZONE_SIZE=4,r.SVG_NS="http://www.w3.org/2000/svg",r}();X6.BrowserQRCodeSvgWriter=p3e});var qG=b(MG=>{"use strict";d();h();Object.defineProperty(MG,"__esModule",{value:!0})});var UG=b(FG=>{"use strict";d();h();Object.defineProperty(FG,"__esModule",{value:!0})});var LG=b($r=>{"use strict";d();h();var g3e=$r&&$r.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),fs=$r&&$r.__exportStar||function(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&g3e(e,r,t)};Object.defineProperty($r,"__esModule",{value:!0});fs(oK(),$r);fs(lV(),$r);fs(k0(),$r);fs(IV(),$r);fs(bG(),$r);fs(IG(),$r);fs(TG(),$r);fs(NG(),$r);fs(qG(),$r);fs(oA(),$r);fs(UG(),$r);fs(aA(),$r)});var _D=b(xD=>{"use strict";d();h();Object.defineProperty(xD,"__esModule",{value:!0});var y3e=Ht(),J6=og(),m3e=Yo(),kG=_v(),v3e=z6(),vD=ct(),x3e=Vu(),_3e=function(){function r(){}return r.prototype.encode=function(e,t,n,i,o){if(e.length===0)throw new vD.default("Found empty contents");if(t!==y3e.default.QR_CODE)throw new vD.default("Can only encode QR_CODE, but got "+t);if(n<0||i<0)throw new vD.default("Requested dimensions are too small: "+n+"x"+i);var a=kG.default.L,s=r.QUIET_ZONE_SIZE;o!==null&&(o.get(J6.default.ERROR_CORRECTION)!==void 0&&(a=kG.default.fromString(o.get(J6.default.ERROR_CORRECTION).toString())),o.get(J6.default.MARGIN)!==void 0&&(s=Number.parseInt(o.get(J6.default.MARGIN).toString(),10)));var u=v3e.default.encode(e,a,o);return r.renderResult(u,n,i,s)},r.renderResult=function(e,t,n,i){var o=e.getMatrix();if(o===null)throw new x3e.default;for(var a=o.getWidth(),s=o.getHeight(),u=a+i*2,f=s+i*2,l=Math.max(t,u),p=Math.max(n,f),g=Math.min(Math.floor(l/u),Math.floor(p/f)),v=Math.floor((l-a*g)/2),_=Math.floor((p-s*g)/2),T=new m3e.default(l,p),O=0,R=_;O<s;O++,R+=g)for(var D=0,U=v;D<a;D++,U+=g)o.get(D,O)===1&&T.setRegion(U,R,g,g);return T},r.QUIET_ZONE_SIZE=4,r}();xD.default=_3e});var jG=b(wD=>{"use strict";d();h();Object.defineProperty(wD,"__esModule",{value:!0});var w3e=_D(),E3e=Ht(),b3e=ct(),I3e=function(){function r(){}return r.prototype.encode=function(e,t,n,i,o){var a;switch(t){case E3e.default.QR_CODE:a=new w3e.default;break;default:throw new b3e.default("No encoder available for format "+t)}return a.encode(e,t,n,i,o)},r}();wD.default=I3e});var KG=b(e2=>{"use strict";d();h();var T3e=e2&&e2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(e2,"__esModule",{value:!0});var ED=Xr(),S3e=Lp(),C3e=kp(),HG=ct(),A3e=function(r){T3e(e,r);function e(t,n,i,o,a,s,u,f){var l=r.call(this,s,u)||this;if(l.yuvData=t,l.dataWidth=n,l.dataHeight=i,l.left=o,l.top=a,o+s>n||a+u>i)throw new HG.default("Crop rectangle does not fit within image data.");return f&&l.reverseHorizontal(s,u),l}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new HG.default("Requested row is outside the image: "+t);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var o=(t+this.top)*this.dataWidth+this.left;return ED.default.arraycopy(this.yuvData,o,n,0,i),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=t*n,o=new Uint8ClampedArray(i),a=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return ED.default.arraycopy(this.yuvData,a,o,0,i),o;for(var s=0;s<n;s++){var u=s*t;ED.default.arraycopy(this.yuvData,a,o,u,t),a+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,o){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+n,i,o,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*n),o=this.yuvData,a=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var u=s*t,f=0;f<t;f++){var l=o[a+f*e.THUMBNAIL_SCALE_FACTOR]&255;i[u+f]=4278190080|l*65793}a+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,n){for(var i=this.yuvData,o=0,a=this.top*this.dataWidth+this.left;o<n;o++,a+=this.dataWidth)for(var s=a+t/2,u=a,f=a+t-1;u<s;u++,f--){var l=i[u];i[u]=i[f],i[f]=l}},e.prototype.invert=function(){return new C3e.default(this)},e.THUMBNAIL_SCALE_FACTOR=2,e}(S3e.default);e2.default=A3e});var GG=b(t2=>{"use strict";d();h();var O3e=t2&&t2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(t2,"__esModule",{value:!0});kp();var D3e=kp(),R3e=Lp(),bD=Xr(),VG=ct(),P3e=function(r){O3e(e,r);function e(t,n,i,o,a,s,u){var f=r.call(this,n,i)||this;if(f.dataWidth=o,f.dataHeight=a,f.left=s,f.top=u,t.BYTES_PER_ELEMENT===4){for(var l=n*i,p=new Uint8ClampedArray(l),g=0;g<l;g++){var v=t[g],_=v>>16&255,T=v>>7&510,O=v&255;p[g]=(_+T+O)/4&255}f.luminances=p}else f.luminances=t;if(o===void 0&&(f.dataWidth=n),a===void 0&&(f.dataHeight=i),s===void 0&&(f.left=0),u===void 0&&(f.top=0),f.left+n>f.dataWidth||f.top+i>f.dataHeight)throw new VG.default("Crop rectangle does not fit within image data.");return f}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new VG.default("Requested row is outside the image: "+t);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var o=(t+this.top)*this.dataWidth+this.left;return bD.default.arraycopy(this.luminances,o,n,0,i),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=t*n,o=new Uint8ClampedArray(i),a=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return bD.default.arraycopy(this.luminances,a,o,0,i),o;for(var s=0;s<n;s++){var u=s*t;bD.default.arraycopy(this.luminances,a,o,u,t),a+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,o){return new e(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+t,this.top+n)},e.prototype.invert=function(){return new D3e.default(this)},e}(R3e.default);t2.default=P3e});var ID=b(r2=>{"use strict";d();h();var B3e=r2&&r2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(r2,"__esModule",{value:!0});var N3e=Wf(),M3e=function(r){B3e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e}(N3e.default);r2.default=M3e});var SD=b(TD=>{"use strict";d();h();Object.defineProperty(TD,"__esModule",{value:!0});var q3e=Wf(),F3e=function(){function r(){}return r.ISO_8859_1=q3e.default.ISO8859_1,r}();TD.default=F3e});var AD=b(CD=>{"use strict";d();h();Object.defineProperty(CD,"__esModule",{value:!0});var U3e=function(){function r(){}return r.prototype.isCompact=function(){return this.compact},r.prototype.setCompact=function(e){this.compact=e},r.prototype.getSize=function(){return this.size},r.prototype.setSize=function(e){this.size=e},r.prototype.getLayers=function(){return this.layers},r.prototype.setLayers=function(e){this.layers=e},r.prototype.getCodeWords=function(){return this.codeWords},r.prototype.setCodeWords=function(e){this.codeWords=e},r.prototype.getMatrix=function(){return this.matrix},r.prototype.setMatrix=function(e){this.matrix=e},r}();CD.default=U3e});var YG=b(OD=>{"use strict";d();h();Object.defineProperty(OD,"__esModule",{value:!0});var L3e=function(){function r(){}return r.singletonList=function(e){return[e]},r.min=function(e,t){return e.sort(t)[0]},r}();OD.default=L3e});var zG=b(DD=>{"use strict";d();h();Object.defineProperty(DD,"__esModule",{value:!0});var k3e=function(){function r(e){this.previous=e}return r.prototype.getPrevious=function(){return this.previous},r}();DD.default=k3e});var $6=b(n2=>{"use strict";d();h();var j3e=n2&&n2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(n2,"__esModule",{value:!0});var H3e=zG(),K3e=Eo(),V3e=function(r){j3e(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.value=n,o.bitCount=i,o}return e.prototype.appendTo=function(t,n){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,n){return new e(this,t,n)},e.prototype.addBinaryShift=function(t,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,n)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+K3e.default.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e}(H3e.default);n2.default=V3e});var WG=b(i2=>{"use strict";d();h();var G3e=i2&&i2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(i2,"__esModule",{value:!0});var Y3e=$6(),z3e=function(r){G3e(e,r);function e(t,n,i){var o=r.call(this,t,0,0)||this;return o.binaryShiftStart=n,o.binaryShiftByteCount=i,o}return e.prototype.appendTo=function(t,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(t,n){return new e(this,t,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(Y3e.default);i2.default=z3e});var XG=b(ag=>{"use strict";d();h();Object.defineProperty(ag,"__esModule",{value:!0});ag.add=ag.addBinaryShift=void 0;var W3e=$6(),X3e=WG();function J3e(r,e,t){return new X3e.default(r,e,t)}ag.addBinaryShift=J3e;function $3e(r,e,t){return new W3e.default(r,e,t)}ag.add=$3e});var o2=b(Ti=>{"use strict";d();h();Object.defineProperty(Ti,"__esModule",{value:!0});Ti.EMPTY_TOKEN=Ti.MODE_PUNCT=Ti.MODE_MIXED=Ti.MODE_DIGIT=Ti.MODE_LOWER=Ti.MODE_UPPER=Ti.MODE_NAMES=void 0;var Z3e=$6();Ti.MODE_NAMES=["UPPER","LOWER","DIGIT","MIXED","PUNCT"];Ti.MODE_UPPER=0;Ti.MODE_LOWER=1;Ti.MODE_DIGIT=2;Ti.MODE_MIXED=3;Ti.MODE_PUNCT=4;Ti.EMPTY_TOKEN=new Z3e.default(null,0,0)});var JG=b(Z6=>{"use strict";d();h();Object.defineProperty(Z6,"__esModule",{value:!0});Z6.LATCH_TABLE=void 0;Z6.LATCH_TABLE=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(9<<16)+(30<<4)+14,0,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(4<<16)+14,(9<<16)+(14<<5)+28,0,(9<<16)+(14<<5)+29,(14<<16)+(14<<10)+(29<<5)+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,(10<<16)+(29<<5)+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,(10<<16)+(31<<5)+28,(10<<16)+(31<<5)+30,(10<<16)+(31<<5)+29,0])]});var RD=b(X0=>{"use strict";d();h();var Q3e=X0&&X0.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(X0,"__esModule",{value:!0});X0.SHIFT_TABLE=X0.static_SHIFT_TABLE=void 0;var $G=Qs(),cs=o2();function ZG(r){var e,t;try{for(var n=Q3e(r),i=n.next();!i.done;i=n.next()){var o=i.value;$G.default.fill(o,-1)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r[cs.MODE_UPPER][cs.MODE_PUNCT]=0,r[cs.MODE_LOWER][cs.MODE_PUNCT]=0,r[cs.MODE_LOWER][cs.MODE_UPPER]=28,r[cs.MODE_MIXED][cs.MODE_PUNCT]=0,r[cs.MODE_DIGIT][cs.MODE_PUNCT]=0,r[cs.MODE_DIGIT][cs.MODE_UPPER]=15,r}X0.static_SHIFT_TABLE=ZG;X0.SHIFT_TABLE=ZG($G.default.createInt32Array(6,6))});var QG=b(a2=>{"use strict";d();h();var ewe=a2&&a2.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(a2,"__esModule",{value:!0});var twe=ku(),sg=XG(),rc=o2(),PD=JG(),rwe=RD(),nwe=eu(),iwe=function(){function r(e,t,n,i){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=i}return r.prototype.getMode=function(){return this.mode},r.prototype.getToken=function(){return this.token},r.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},r.prototype.getBitCount=function(){return this.bitCount},r.prototype.latchAndAppend=function(e,t){var n=this.bitCount,i=this.token;if(e!==this.mode){var o=PD.LATCH_TABLE[this.mode][e];i=sg.add(i,o&65535,o>>16),n+=o>>16}var a=e===rc.MODE_DIGIT?4:5;return i=sg.add(i,t,a),new r(i,e,0,n+a)},r.prototype.shiftAndAppend=function(e,t){var n=this.token,i=this.mode===rc.MODE_DIGIT?4:5;return n=sg.add(n,rwe.SHIFT_TABLE[this.mode][e],i),n=sg.add(n,t,5),new r(n,this.mode,0,this.bitCount+i+5)},r.prototype.addBinaryShiftChar=function(e){var t=this.token,n=this.mode,i=this.bitCount;if(this.mode===rc.MODE_PUNCT||this.mode===rc.MODE_DIGIT){var o=PD.LATCH_TABLE[n][rc.MODE_UPPER];t=sg.add(t,o&65535,o>>16),i+=o>>16,n=rc.MODE_UPPER}var a=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new r(t,n,this.binaryShiftByteCount+1,i+a);return s.binaryShiftByteCount===2047+31&&(s=s.endBinaryShift(e+1)),s},r.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=sg.addBinaryShift(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new r(t,this.mode,0,this.bitCount)},r.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(PD.LATCH_TABLE[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=r.calculateBinaryShiftCost(e)-r.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},r.prototype.toBitArray=function(e){for(var t,n,i=[],o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())i.unshift(o);var a=new twe.default;try{for(var s=ewe(i),u=s.next();!u.done;u=s.next()){var f=u.value;f.appendTo(a,e)}}catch(l){t={error:l}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},r.prototype.toString=function(){return nwe.default.format("%s bits=%d bytes=%d",rc.MODE_NAMES[this.mode],this.bitCount,this.binaryShiftByteCount)},r.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},r.INITIAL_STATE=new r(rc.EMPTY_TOKEN,rc.MODE_UPPER,0,0),r}();a2.default=iwe});var tY=b(ug=>{"use strict";d();h();Object.defineProperty(ug,"__esModule",{value:!0});ug.CHAR_MAP=ug.static_CHAR_MAP=void 0;var Yu=o2(),owe=Qs(),ls=eu();function eY(r){var e=ls.default.getCharCode(" "),t=ls.default.getCharCode("."),n=ls.default.getCharCode(",");r[Yu.MODE_UPPER][e]=1;for(var i=ls.default.getCharCode("Z"),o=ls.default.getCharCode("A"),a=o;a<=i;a++)r[Yu.MODE_UPPER][a]=a-o+2;r[Yu.MODE_LOWER][e]=1;for(var s=ls.default.getCharCode("z"),u=ls.default.getCharCode("a"),a=u;a<=s;a++)r[Yu.MODE_LOWER][a]=a-u+2;r[Yu.MODE_DIGIT][e]=1;for(var f=ls.default.getCharCode("9"),l=ls.default.getCharCode("0"),a=l;a<=f;a++)r[Yu.MODE_DIGIT][a]=a-l+2;r[Yu.MODE_DIGIT][n]=12,r[Yu.MODE_DIGIT][t]=13;for(var p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","\x7F"],g=0;g<p.length;g++)r[Yu.MODE_MIXED][ls.default.getCharCode(p[g])]=g;for(var v=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],g=0;g<v.length;g++)ls.default.getCharCode(v[g])>0&&(r[Yu.MODE_PUNCT][ls.default.getCharCode(v[g])]=g);return r}ug.static_CHAR_MAP=eY;ug.CHAR_MAP=eY(owe.default.createInt32Array(5,256))});var ND=b(s2=>{"use strict";d();h();var Q6=s2&&s2.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(s2,"__esModule",{value:!0});var rY=YG(),awe=QG(),Ah=o2(),BD=tY(),swe=RD(),fg=eu(),uwe=function(){function r(e){this.text=e}return r.prototype.encode=function(){for(var e=fg.default.getCharCode(" "),t=fg.default.getCharCode(`
`),n=rY.default.singletonList(awe.default.INITIAL_STATE),i=0;i<this.text.length;i++){var o=void 0,a=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case fg.default.getCharCode("\r"):o=a===t?2:0;break;case fg.default.getCharCode("."):o=a===e?3:0;break;case fg.default.getCharCode(","):o=a===e?4:0;break;case fg.default.getCharCode(":"):o=a===e?5:0;break;default:o=0}o>0?(n=r.updateStateListForPair(n,i,o),i++):n=this.updateStateListForChar(n,i)}var s=rY.default.min(n,function(u,f){return u.getBitCount()-f.getBitCount()});return s.toBitArray(this.text)},r.prototype.updateStateListForChar=function(e,t){var n,i,o=[];try{for(var a=Q6(e),s=a.next();!s.done;s=a.next()){var u=s.value;this.updateStateForChar(u,t,o)}}catch(f){n={error:f}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return r.simplifyStates(o)},r.prototype.updateStateForChar=function(e,t,n){for(var i=this.text[t]&255,o=BD.CHAR_MAP[e.getMode()][i]>0,a=null,s=0;s<=Ah.MODE_PUNCT;s++){var u=BD.CHAR_MAP[s][i];if(u>0){if(a==null&&(a=e.endBinaryShift(t)),!o||s===e.getMode()||s===Ah.MODE_DIGIT){var f=a.latchAndAppend(s,u);n.push(f)}if(!o&&swe.SHIFT_TABLE[e.getMode()][s]>=0){var l=a.shiftAndAppend(s,u);n.push(l)}}}if(e.getBinaryShiftByteCount()>0||BD.CHAR_MAP[e.getMode()][i]===0){var p=e.addBinaryShiftChar(t);n.push(p)}},r.updateStateListForPair=function(e,t,n){var i,o,a=[];try{for(var s=Q6(e),u=s.next();!u.done;u=s.next()){var f=u.value;this.updateStateForPair(f,t,n,a)}}catch(l){i={error:l}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(a)},r.updateStateForPair=function(e,t,n,i){var o=e.endBinaryShift(t);if(i.push(o.latchAndAppend(Ah.MODE_PUNCT,n)),e.getMode()!==Ah.MODE_PUNCT&&i.push(o.shiftAndAppend(Ah.MODE_PUNCT,n)),n===3||n===4){var a=o.latchAndAppend(Ah.MODE_DIGIT,16-n).latchAndAppend(Ah.MODE_DIGIT,1);i.push(a)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(s)}},r.simplifyStates=function(e){var t,n,i,o,a=[];try{for(var s=Q6(e),u=s.next();!u.done;u=s.next()){var f=u.value,l=!0,p=function(O){if(O.isBetterThanOrEqualTo(f))return l=!1,"break";f.isBetterThanOrEqualTo(O)&&(a=a.filter(function(R){return R!==O}))};try{for(var g=(i=void 0,Q6(a)),v=g.next();!v.done;v=g.next()){var _=v.value,T=p(_);if(T==="break")break}}catch(O){i={error:O}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}l&&a.push(f)}}catch(O){t={error:O}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},r}();s2.default=uwe});var qD=b(c2=>{"use strict";d();h();var fwe=c2&&c2.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(c2,"__esModule",{value:!0});var MD=ku(),u2=ct(),cwe=eu(),lwe=Yo(),dwe=AD(),hwe=k6(),f2=Jf(),pwe=ND(),In=Eo(),gwe=function(){function r(){}return r.encodeBytes=function(e){return r.encode(e,r.DEFAULT_EC_PERCENT,r.DEFAULT_AZTEC_LAYERS)},r.encode=function(e,t,n){var i=new pwe.default(e).encode(),o=In.default.truncDivision(i.getSize()*t,100)+11,a=i.getSize()+o,s,u,f,l,p;if(n!==r.DEFAULT_AZTEC_LAYERS){if(s=n<0,u=Math.abs(n),u>(s?r.MAX_NB_BITS_COMPACT:r.MAX_NB_BITS))throw new u2.default(cwe.default.format("Illegal value %s for layers",n));f=r.totalBitsInLayer(u,s),l=r.WORD_SIZE[u];var g=f-f%l;if(p=r.stuffBits(i,l),p.getSize()+o>g)throw new u2.default("Data to large for user specified layer");if(s&&p.getSize()>l*64)throw new u2.default("Data to large for user specified layer")}else{l=0,p=null;for(var v=0;;v++){if(v>r.MAX_NB_BITS)throw new u2.default("Data too large for an Aztec code");if(s=v<=3,u=s?v+1:v,f=r.totalBitsInLayer(u,s),!(a>f)){(p==null||l!==r.WORD_SIZE[u])&&(l=r.WORD_SIZE[u],p=r.stuffBits(i,l));var g=f-f%l;if(!(s&&p.getSize()>l*64)&&p.getSize()+o<=g)break}}}var _=r.generateCheckWords(p,f,l),T=p.getSize()/l,O=r.generateModeMessage(s,u,T),R=(s?11:14)+u*4,D=new Int32Array(R),U;if(s){U=R;for(var v=0;v<D.length;v++)D[v]=v}else{U=R+1+2*In.default.truncDivision(In.default.truncDivision(R,2)-1,15);for(var K=In.default.truncDivision(R,2),A=In.default.truncDivision(U,2),v=0;v<K;v++){var c=v+In.default.truncDivision(v,15);D[K-v-1]=A-c-1,D[K+v]=A+c+1}}for(var y=new lwe.default(U),v=0,x=0;v<u;v++){for(var M=(u-v)*4+(s?9:12),L=0;L<M;L++)for(var ce=L*2,q=0;q<2;q++)_.get(x+ce+q)&&y.set(D[v*2+q],D[v*2+L]),_.get(x+M*2+ce+q)&&y.set(D[v*2+L],D[R-1-v*2-q]),_.get(x+M*4+ce+q)&&y.set(D[R-1-v*2-q],D[R-1-v*2-L]),_.get(x+M*6+ce+q)&&y.set(D[R-1-v*2-L],D[v*2+q]);x+=M*8}if(r.drawModeMessage(y,s,U,O),s)r.drawBullsEye(y,In.default.truncDivision(U,2),5);else{r.drawBullsEye(y,In.default.truncDivision(U,2),7);for(var v=0,L=0;v<In.default.truncDivision(R,2)-1;v+=15,L+=16)for(var q=In.default.truncDivision(U,2)&1;q<U;q+=2)y.set(In.default.truncDivision(U,2)-L,q),y.set(In.default.truncDivision(U,2)+L,q),y.set(q,In.default.truncDivision(U,2)-L),y.set(q,In.default.truncDivision(U,2)+L)}var w=new dwe.default;return w.setCompact(s),w.setSize(U),w.setLayers(u),w.setCodeWords(T),w.setMatrix(y),w},r.drawBullsEye=function(e,t,n){for(var i=0;i<n;i+=2)for(var o=t-i;o<=t+i;o++)e.set(o,t-i),e.set(o,t+i),e.set(t-i,o),e.set(t+i,o);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)},r.generateModeMessage=function(e,t,n){var i=new MD.default;return e?(i.appendBits(t-1,2),i.appendBits(n-1,6),i=r.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(n-1,11),i=r.generateCheckWords(i,40,4)),i},r.drawModeMessage=function(e,t,n,i){var o=In.default.truncDivision(n,2);if(t)for(var a=0;a<7;a++){var s=o-3+a;i.get(a)&&e.set(s,o-5),i.get(a+7)&&e.set(o+5,s),i.get(20-a)&&e.set(s,o+5),i.get(27-a)&&e.set(o-5,s)}else for(var a=0;a<10;a++){var s=o-5+a+In.default.truncDivision(a,5);i.get(a)&&e.set(s,o-7),i.get(a+10)&&e.set(o+7,s),i.get(29-a)&&e.set(s,o+7),i.get(39-a)&&e.set(o-7,s)}},r.generateCheckWords=function(e,t,n){var i,o,a=e.getSize()/n,s=new hwe.default(r.getGF(n)),u=In.default.truncDivision(t,n),f=r.bitsToWords(e,n,u);s.encode(f,u-a);var l=t%n,p=new MD.default;p.appendBits(0,l);try{for(var g=fwe(Array.from(f)),v=g.next();!v.done;v=g.next()){var _=v.value;p.appendBits(_,n)}}catch(T){i={error:T}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}return p},r.bitsToWords=function(e,t,n){var i=new Int32Array(n),o,a;for(o=0,a=e.getSize()/t;o<a;o++){for(var s=0,u=0;u<t;u++)s|=e.get(o*t+u)?1<<t-u-1:0;i[o]=s}return i},r.getGF=function(e){switch(e){case 4:return f2.default.AZTEC_PARAM;case 6:return f2.default.AZTEC_DATA_6;case 8:return f2.default.AZTEC_DATA_8;case 10:return f2.default.AZTEC_DATA_10;case 12:return f2.default.AZTEC_DATA_12;default:throw new u2.default("Unsupported word size "+e)}},r.stuffBits=function(e,t){for(var n=new MD.default,i=e.getSize(),o=(1<<t)-2,a=0;a<i;a+=t){for(var s=0,u=0;u<t;u++)(a+u>=i||e.get(a+u))&&(s|=1<<t-1-u);(s&o)===o?(n.appendBits(s&o,t),a--):(s&o)===0?(n.appendBits(s|1,t),a--):n.appendBits(s,t)}return n},r.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.DEFAULT_EC_PERCENT=33,r.DEFAULT_AZTEC_LAYERS=0,r.MAX_NB_BITS=32,r.MAX_NB_BITS_COMPACT=4,r.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),r}();c2.default=gwe});var iY=b(UD=>{"use strict";d();h();Object.defineProperty(UD,"__esModule",{value:!0});var ywe=Ht(),cg=og(),FD=qD(),mwe=Yo(),vwe=ID(),xwe=SD(),nY=Eo(),_we=Vu(),wwe=ct(),Ewe=eu(),bwe=function(){function r(){}return r.prototype.encode=function(e,t,n,i){return this.encodeWithHints(e,t,n,i,null)},r.prototype.encodeWithHints=function(e,t,n,i,o){var a=xwe.default.ISO_8859_1,s=FD.default.DEFAULT_EC_PERCENT,u=FD.default.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has(cg.default.CHARACTER_SET)&&(a=vwe.default.forName(o.get(cg.default.CHARACTER_SET).toString())),o.has(cg.default.ERROR_CORRECTION)&&(s=nY.default.parseInt(o.get(cg.default.ERROR_CORRECTION).toString())),o.has(cg.default.AZTEC_LAYERS)&&(u=nY.default.parseInt(o.get(cg.default.AZTEC_LAYERS).toString()))),r.encodeLayers(e,t,n,i,a,s,u)},r.encodeLayers=function(e,t,n,i,o,a,s){if(t!==ywe.default.AZTEC)throw new wwe.default("Can only encode AZTEC, but got "+t);var u=FD.default.encode(Ewe.default.getBytes(e,o),a,s);return r.renderResult(u,n,i)},r.renderResult=function(e,t,n){var i=e.getMatrix();if(i==null)throw new _we.default;for(var o=i.getWidth(),a=i.getHeight(),s=Math.max(t,o),u=Math.max(n,a),f=Math.min(s/o,u/a),l=(s-o*f)/2,p=(u-a*f)/2,g=new mwe.default(s,u),v=0,_=p;v<a;v++,_+=f)for(var T=0,O=l;T<o;T++,O+=f)i.get(T,v)&&g.setRegion(O,_,f,f);return g},r}();UD.default=bwe});var Jo=b(me=>{"use strict";d();h();var Iwe=me&&me.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Twe=me&&me.__exportStar||function(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&Iwe(e,r,t)};Object.defineProperty(me,"__esModule",{value:!0});Twe(LG(),me);var Swe=HE();Object.defineProperty(me,"ArgumentException",{enumerable:!0,get:function(){return Swe.default}});var Cwe=JE();Object.defineProperty(me,"ArithmeticException",{enumerable:!0,get:function(){return Cwe.default}});var Awe=Zs();Object.defineProperty(me,"ChecksumException",{enumerable:!0,get:function(){return Awe.default}});var Owe=wi();Object.defineProperty(me,"Exception",{enumerable:!0,get:function(){return Owe.default}});var Dwe=pr();Object.defineProperty(me,"FormatException",{enumerable:!0,get:function(){return Dwe.default}});var Rwe=ct();Object.defineProperty(me,"IllegalArgumentException",{enumerable:!0,get:function(){return Rwe.default}});var Pwe=Vu();Object.defineProperty(me,"IllegalStateException",{enumerable:!0,get:function(){return Pwe.default}});var Bwe=je();Object.defineProperty(me,"NotFoundException",{enumerable:!0,get:function(){return Bwe.default}});var Nwe=nD();Object.defineProperty(me,"ReaderException",{enumerable:!0,get:function(){return Nwe.default}});var Mwe=vA();Object.defineProperty(me,"ReedSolomonException",{enumerable:!0,get:function(){return Mwe.default}});var qwe=GE();Object.defineProperty(me,"UnsupportedOperationException",{enumerable:!0,get:function(){return qwe.default}});var Fwe=K6();Object.defineProperty(me,"WriterException",{enumerable:!0,get:function(){return Fwe.default}});var Uwe=Ht();Object.defineProperty(me,"BarcodeFormat",{enumerable:!0,get:function(){return Uwe.default}});var Lwe=K5();Object.defineProperty(me,"Binarizer",{enumerable:!0,get:function(){return Lwe.default}});var kwe=j5();Object.defineProperty(me,"BinaryBitmap",{enumerable:!0,get:function(){return kwe.default}});var jwe=Ei();Object.defineProperty(me,"DecodeHintType",{enumerable:!0,get:function(){return jwe.default}});var Hwe=kp();Object.defineProperty(me,"InvertedLuminanceSource",{enumerable:!0,get:function(){return Hwe.default}});var Kwe=Lp();Object.defineProperty(me,"LuminanceSource",{enumerable:!0,get:function(){return Kwe.default}});var Vwe=iD();Object.defineProperty(me,"MultiFormatReader",{enumerable:!0,get:function(){return Vwe.default}});var Gwe=jG();Object.defineProperty(me,"MultiFormatWriter",{enumerable:!0,get:function(){return Gwe.default}});var Ywe=KG();Object.defineProperty(me,"PlanarYUVLuminanceSource",{enumerable:!0,get:function(){return Ywe.default}});var zwe=bi();Object.defineProperty(me,"Result",{enumerable:!0,get:function(){return zwe.default}});var Wwe=Ku();Object.defineProperty(me,"ResultMetadataType",{enumerable:!0,get:function(){return Wwe.default}});var Xwe=GG();Object.defineProperty(me,"RGBLuminanceSource",{enumerable:!0,get:function(){return Xwe.default}});var Jwe=Or();Object.defineProperty(me,"ResultPoint",{enumerable:!0,get:function(){return Jwe.default}});var $we=Xr();Object.defineProperty(me,"ZXingSystem",{enumerable:!0,get:function(){return $we.default}});var Zwe=Ar();Object.defineProperty(me,"ZXingStringBuilder",{enumerable:!0,get:function(){return Zwe.default}});var Qwe=lh();Object.defineProperty(me,"ZXingStringEncoding",{enumerable:!0,get:function(){return Qwe.default}});var e4e=ID();Object.defineProperty(me,"ZXingCharset",{enumerable:!0,get:function(){return e4e.default}});var t4e=Qs();Object.defineProperty(me,"ZXingArrays",{enumerable:!0,get:function(){return t4e.default}});var r4e=SD();Object.defineProperty(me,"ZXingStandardCharsets",{enumerable:!0,get:function(){return r4e.default}});var n4e=Eo();Object.defineProperty(me,"ZXingInteger",{enumerable:!0,get:function(){return n4e.default}});var i4e=ku();Object.defineProperty(me,"BitArray",{enumerable:!0,get:function(){return i4e.default}});var o4e=Yo();Object.defineProperty(me,"BitMatrix",{enumerable:!0,get:function(){return o4e.default}});var a4e=_6();Object.defineProperty(me,"BitSource",{enumerable:!0,get:function(){return a4e.default}});var s4e=Wf();Object.defineProperty(me,"CharacterSetECI",{enumerable:!0,get:function(){return s4e.default}});var u4e=Hp();Object.defineProperty(me,"DecoderResult",{enumerable:!0,get:function(){return u4e.default}});var f4e=BA();Object.defineProperty(me,"DefaultGridSampler",{enumerable:!0,get:function(){return f4e.default}});var c4e=Mm();Object.defineProperty(me,"DetectorResult",{enumerable:!0,get:function(){return c4e.default}});var l4e=og();Object.defineProperty(me,"EncodeHintType",{enumerable:!0,get:function(){return l4e.default}});var d4e=tA();Object.defineProperty(me,"GlobalHistogramBinarizer",{enumerable:!0,get:function(){return d4e.default}});var h4e=RA();Object.defineProperty(me,"GridSampler",{enumerable:!0,get:function(){return h4e.default}});var p4e=Um();Object.defineProperty(me,"GridSamplerInstance",{enumerable:!0,get:function(){return p4e.default}});var g4e=rA();Object.defineProperty(me,"HybridBinarizer",{enumerable:!0,get:function(){return g4e.default}});var y4e=r6();Object.defineProperty(me,"PerspectiveTransform",{enumerable:!0,get:function(){return y4e.default}});var m4e=eu();Object.defineProperty(me,"StringUtils",{enumerable:!0,get:function(){return m4e.default}});var v4e=as();Object.defineProperty(me,"MathUtils",{enumerable:!0,get:function(){return v4e.default}});var x4e=t6();Object.defineProperty(me,"WhiteRectangleDetector",{enumerable:!0,get:function(){return x4e.default}});var _4e=Jf();Object.defineProperty(me,"GenericGF",{enumerable:!0,get:function(){return _4e.default}});var w4e=Dm();Object.defineProperty(me,"GenericGFPoly",{enumerable:!0,get:function(){return w4e.default}});var E4e=Vp();Object.defineProperty(me,"ReedSolomonDecoder",{enumerable:!0,get:function(){return E4e.default}});var b4e=k6();Object.defineProperty(me,"ReedSolomonEncoder",{enumerable:!0,get:function(){return b4e.default}});var I4e=b6();Object.defineProperty(me,"DataMatrixReader",{enumerable:!0,get:function(){return I4e.default}});var T4e=_O();Object.defineProperty(me,"DataMatrixDecodedBitStreamParser",{enumerable:!0,get:function(){return T4e.default}});var S4e=U6();Object.defineProperty(me,"PDF417Reader",{enumerable:!0,get:function(){return S4e.default}});var C4e=$O();Object.defineProperty(me,"PDF417ResultMetadata",{enumerable:!0,get:function(){return C4e.default}});var A4e=rD();Object.defineProperty(me,"PDF417DecodedBitStreamParser",{enumerable:!0,get:function(){return A4e.default}});var O4e=kO();Object.defineProperty(me,"PDF417DecoderErrorCorrection",{enumerable:!0,get:function(){return O4e.default}});var D4e=O6();Object.defineProperty(me,"QRCodeReader",{enumerable:!0,get:function(){return D4e.default}});var R4e=_D();Object.defineProperty(me,"QRCodeWriter",{enumerable:!0,get:function(){return R4e.default}});var P4e=_v();Object.defineProperty(me,"QRCodeDecoderErrorCorrectionLevel",{enumerable:!0,get:function(){return P4e.default}});var B4e=I6();Object.defineProperty(me,"QRCodeDecoderFormatInformation",{enumerable:!0,get:function(){return B4e.default}});var N4e=Iv();Object.defineProperty(me,"QRCodeVersion",{enumerable:!0,get:function(){return N4e.default}});var M4e=S6();Object.defineProperty(me,"QRCodeMode",{enumerable:!0,get:function(){return M4e.default}});var q4e=DO();Object.defineProperty(me,"QRCodeDecodedBitStreamParser",{enumerable:!0,get:function(){return q4e.default}});var F4e=IO();Object.defineProperty(me,"QRCodeDataMask",{enumerable:!0,get:function(){return F4e.default}});var U4e=z6();Object.defineProperty(me,"QRCodeEncoder",{enumerable:!0,get:function(){return U4e.default}});var L4e=H6();Object.defineProperty(me,"QRCodeEncoderQRCode",{enumerable:!0,get:function(){return L4e.default}});var k4e=pD();Object.defineProperty(me,"QRCodeMatrixUtil",{enumerable:!0,get:function(){return k4e.default}});var j4e=cD();Object.defineProperty(me,"QRCodeByteMatrix",{enumerable:!0,get:function(){return j4e.default}});var H4e=j6();Object.defineProperty(me,"QRCodeMaskUtil",{enumerable:!0,get:function(){return H4e.default}});var K4e=o6();Object.defineProperty(me,"AztecCodeReader",{enumerable:!0,get:function(){return K4e.default}});var V4e=iY();Object.defineProperty(me,"AztecCodeWriter",{enumerable:!0,get:function(){return V4e.default}});var G4e=AA();Object.defineProperty(me,"AztecDetectorResult",{enumerable:!0,get:function(){return G4e.default}});var Y4e=qD();Object.defineProperty(me,"AztecEncoder",{enumerable:!0,get:function(){return Y4e.default}});var z4e=ND();Object.defineProperty(me,"AztecHighLevelEncoder",{enumerable:!0,get:function(){return z4e.default}});var W4e=AD();Object.defineProperty(me,"AztecCode",{enumerable:!0,get:function(){return W4e.default}});var X4e=EA();Object.defineProperty(me,"AztecDecoder",{enumerable:!0,get:function(){return X4e.default}});var J4e=i6();Object.defineProperty(me,"AztecDetector",{enumerable:!0,get:function(){return J4e.default}});var $4e=i6();Object.defineProperty(me,"AztecPoint",{enumerable:!0,get:function(){return $4e.Point}});var Z4e=Gu();Object.defineProperty(me,"OneDReader",{enumerable:!0,get:function(){return Z4e.default}});var Q4e=l6();Object.defineProperty(me,"EAN13Reader",{enumerable:!0,get:function(){return Q4e.default}});var eEe=LA();Object.defineProperty(me,"Code128Reader",{enumerable:!0,get:function(){return eEe.default}});var tEe=HA();Object.defineProperty(me,"ITFReader",{enumerable:!0,get:function(){return tEe.default}});var rEe=jA();Object.defineProperty(me,"Code39Reader",{enumerable:!0,get:function(){return rEe.default}});var nEe=gO();Object.defineProperty(me,"RSS14Reader",{enumerable:!0,get:function(){return nEe.default}});var iEe=dO();Object.defineProperty(me,"RSSExpandedReader",{enumerable:!0,get:function(){return iEe.default}});var oEe=g6();Object.defineProperty(me,"AbstractExpandedDecoder",{enumerable:!0,get:function(){return oEe.default}});var aEe=uO();Object.defineProperty(me,"createAbstractExpandedDecoder",{enumerable:!0,get:function(){return aEe.createDecoder}});var sEe=x6();Object.defineProperty(me,"MultiFormatOneDReader",{enumerable:!0,get:function(){return sEe.default}})});var kD=b(lg=>{"use strict";d();h();var uEe=lg&&lg.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(lg,"__esModule",{value:!0});lg.HTMLCanvasElementLuminanceSource=void 0;var LD=Jo(),fEe=function(r){uEe(e,r);function e(t){var n=r.call(this,t.width,t.height)||this;return n.canvas=t,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(t),n}return e.makeBufferFromCanvasImageData=function(t){var n=t.getContext("2d");if(!n)throw new Error("Couldn't get canvas context.");var i=n.getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,n,i){for(var o=new Uint8ClampedArray(n*i),a=0,s=0,u=t.length;a<u;a+=4,s++){var f=void 0,l=t[a+3];if(l===0)f=255;else{var p=t[a],g=t[a+1],v=t[a+2];f=306*p+601*g+117*v+512>>10}o[s]=f}return o},e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new LD.IllegalArgumentException("Requested row is outside the image: "+t);var i=this.getWidth(),o=t*i;return n===null?n=this.buffer.slice(o,o+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(o,o+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,o){return r.prototype.crop.call(this,t,n,i,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new LD.InvertedLuminanceSource(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var n=this.getTempCanvasElement();if(!n)throw new Error("Could not create a Canvas element.");var i=t*e.DEGREE_TO_RADIANS,o=this.canvas.width,a=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(i))*o+Math.abs(Math.sin(i))*a),u=Math.ceil(Math.abs(Math.sin(i))*o+Math.abs(Math.cos(i))*a);n.width=s,n.height=u;var f=n.getContext("2d");if(!f)throw new Error("Could not create a Canvas Context element.");return f.translate(s/2,u/2),f.rotate(i),f.drawImage(this.canvas,o/-2,a/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(LD.LuminanceSource);lg.HTMLCanvasElementLuminanceSource=fEe});var aY=b(oY=>{"use strict";d();h();Object.defineProperty(oY,"__esModule",{value:!0})});var uY=b(sY=>{"use strict";d();h();Object.defineProperty(sY,"__esModule",{value:!0})});var cY=b(dg=>{"use strict";d();h();Object.defineProperty(dg,"__esModule",{value:!0});dg.canEnumerateDevices=dg.hasNavigator=void 0;function fY(){return typeof navigator<"u"}dg.hasNavigator=fY;function cEe(){return fY()&&!!navigator.mediaDevices}function lEe(){return!!(cEe()&&navigator.mediaDevices.enumerateDevices)}dg.canEnumerateDevices=lEe});var J0=b(ds=>{"use strict";d();h();var hg=ds&&ds.__assign||function(){return hg=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},hg.apply(this,arguments)},sr=ds&&ds.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(l){try{f(n.next(l))}catch(p){a(p)}}function u(l){try{f(n.throw(l))}catch(p){a(p)}}function f(l){l.done?o(l.value):i(l.value).then(s,u)}f((n=n.apply(r,e||[])).next())})},ur=ds&&ds.__generator||function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(l){return u([f,l])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){t.label=f[1];break}if(f[0]===6&&t.label<o[1]){t.label=o[1],o=f;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(f);break}o[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(l){f=[6,l],i=0}finally{n=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},jD=ds&&ds.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ds,"__esModule",{value:!0});ds.BrowserCodeReader=void 0;var jr=Jo(),dEe=kD(),lY=cY(),hEe={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},pEe=function(){function r(e,t,n){t===void 0&&(t=new Map),n===void 0&&(n={}),this.reader=e,this.hints=t,this.options=hg(hg({},hEe),n)}return Object.defineProperty(r.prototype,"possibleFormats",{set:function(e){this.hints.set(jr.DecodeHintType.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),r.addVideoSource=function(e,t){try{e.srcObject=t}catch{console.error("got interrupted by new loading request")}},r.mediaStreamSetTorch=function(e,t){return sr(this,void 0,void 0,function(){return ur(this,function(n){switch(n.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:t?"flash":"off",torch:!!t}]})];case 1:return n.sent(),[2]}})})},r.mediaStreamIsTorchCompatible=function(e){var t,n,i=e.getVideoTracks();try{for(var o=jD(i),a=o.next();!a.done;a=o.next()){var s=a.value;if(r.mediaStreamIsTorchCompatibleTrack(s))return!0}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!1},r.mediaStreamIsTorchCompatibleTrack=function(e){try{var t=e.getCapabilities();return"torch"in t}catch(n){return console.error(n),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},r.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},r.getMediaElement=function(e,t){var n=document.getElementById(e);if(!n)throw new jr.ArgumentException("element with id '".concat(e,"' not found"));if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new jr.ArgumentException("element with id '".concat(e,"' must be an ").concat(t," element"));return n},r.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return r.getMediaElement(e,"video");if(!e&&typeof document<"u"){var t=document.createElement("video");return t.width=200,t.height=200,t}throw new Error("Couldn't get videoElement from videoSource!")},r.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return r.getMediaElement(e,"img");if(typeof e>"u"){var t=document.createElement("img");return t.width=200,t.height=200,t}throw new Error("Couldn't get imageElement from imageSource!")},r.prepareVideoElement=function(e){var t=r.createVideoElement(e);return t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},r.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.createBinaryBitmapFromCanvas=function(e){var t=new dEe.HTMLCanvasElementLuminanceSource(e),n=new jr.HybridBinarizer(t);return new jr.BinaryBitmap(n)},r.drawImageOnCanvas=function(e,t){e.drawImage(t,0,0)},r.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},r.createCaptureCanvas=function(e){if(!e)throw new jr.ArgumentException("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var t=document.createElement("canvas"),n=r.getMediaElementDimensions(e),i=n.width,o=n.height;return t.style.width=i+"px",t.style.height=o+"px",t.width=i,t.height=o,t},r.tryPlayVideo=function(e){return sr(this,void 0,void 0,function(){var t;return ur(this,function(n){switch(n.label){case 0:if(e!=null&&e.ended)return console.error("Trying to play video that has ended."),[2,!1];if(r.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[2,!0];case 3:return t=n.sent(),console.warn("It was not possible to play the video.",t),[2,!1];case 4:return[2]}})})},r.createCanvasFromMediaElement=function(e){var t=r.createCaptureCanvas(e),n=t.getContext("2d");if(!n)throw new Error("Couldn't find Canvas 2D Context.");return r.drawImageOnCanvas(n,e),t},r.createBinaryBitmapFromMediaElem=function(e){var t=r.createCanvasFromMediaElement(e);return r.createBinaryBitmapFromCanvas(t)},r.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},r.listVideoInputDevices=function(){return sr(this,void 0,void 0,function(){var e,t,n,i,o,a,s,u,f,l,p,g;return ur(this,function(v){switch(v.label){case 0:if(!(0,lY.hasNavigator)())throw new Error("Can't enumerate devices, navigator is not present.");if(!(0,lY.canEnumerateDevices)())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=v.sent(),t=[];try{for(n=jD(e),i=n.next();!i.done;i=n.next())o=i.value,a=o.kind==="video"?"videoinput":o.kind,a==="videoinput"&&(s=o.deviceId||o.id,u=o.label||"Video device ".concat(t.length+1),f=o.groupId,l={deviceId:s,label:u,kind:a,groupId:f},t.push(l))}catch(_){p={error:_}}finally{try{i&&!i.done&&(g=n.return)&&g.call(n)}finally{if(p)throw p.error}}return[2,t]}})})},r.findDeviceById=function(e){return sr(this,void 0,void 0,function(){var t;return ur(this,function(n){switch(n.label){case 0:return[4,r.listVideoInputDevices()];case 1:return t=n.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2]}})})},r.cleanVideoSource=function(e){if(!!e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},r.releaseAllStreams=function(){r.streamTracker.length!==0&&r.streamTracker.forEach(function(e){e.getTracks().forEach(function(t){return t.stop()})}),r.streamTracker=[]},r.playVideoOnLoadAsync=function(e,t){return sr(this,void 0,void 0,function(){var n;return ur(this,function(i){switch(i.label){case 0:return[4,r.tryPlayVideo(e)];case 1:return n=i.sent(),n?[2,!0]:[2,new Promise(function(o,a){var s=setTimeout(function(){r.isVideoPlaying(e)||(a(!1),e.removeEventListener("canplay",u))},t),u=function(){r.tryPlayVideo(e).then(function(f){clearTimeout(s),e.removeEventListener("canplay",u),o(f)})};e.addEventListener("canplay",u)})]}})})},r.attachStreamToVideo=function(e,t,n){return n===void 0&&(n=5e3),sr(this,void 0,void 0,function(){var i;return ur(this,function(o){switch(o.label){case 0:return i=r.prepareVideoElement(t),r.addVideoSource(i,e),[4,r.playVideoOnLoadAsync(i,n)];case 1:return o.sent(),[2,i]}})})},r._waitImageLoad=function(e){return new Promise(function(t,n){var i=1e4,o=setTimeout(function(){r.isImageLoaded(e)||(e.removeEventListener("load",a),n())},i),a=function(){clearTimeout(o),e.removeEventListener("load",a),t()};e.addEventListener("load",a)})},r.checkCallbackFnOrThrow=function(e){if(!e)throw new jr.ArgumentException("`callbackFn` is a required parameter, you cannot capture results without it.")},r.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(t){return t.stop()}),e=void 0},r.prototype.decode=function(e){var t=r.createCanvasFromMediaElement(e);return this.decodeFromCanvas(t)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},r.prototype.decodeFromCanvas=function(e){var t=r.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(t)},r.prototype.decodeFromImageElement=function(e){return sr(this,void 0,void 0,function(){var t;return ur(this,function(n){switch(n.label){case 0:if(!e)throw new jr.ArgumentException("An image element must be provided.");return t=r.prepareImageElement(e),[4,this._decodeOnLoadImage(t)];case 1:return[2,n.sent()]}})})},r.prototype.decodeFromImageUrl=function(e){return sr(this,void 0,void 0,function(){var t;return ur(this,function(n){switch(n.label){case 0:if(!e)throw new jr.ArgumentException("An URL must be provided.");t=r.prepareImageElement(),t.src=e,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.decodeFromImageElement(t)];case 2:return[2,n.sent()];case 3:return r.destroyImageElement(t),[7];case 4:return[2]}})})},r.prototype.decodeFromConstraints=function(e,t,n){return sr(this,void 0,void 0,function(){var i,o;return ur(this,function(a){switch(a.label){case 0:return r.checkCallbackFnOrThrow(n),[4,this.getUserMedia(e)];case 1:i=a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.decodeFromStream(i,t,n)];case 3:return[2,a.sent()];case 4:throw o=a.sent(),r.disposeMediaStream(i),o;case 5:return[2]}})})},r.prototype.decodeFromStream=function(e,t,n){return sr(this,void 0,void 0,function(){var i,o,a,s,u,f,l,p,g,v,_=this;return ur(this,function(T){switch(T.label){case 0:return r.checkCallbackFnOrThrow(n),i=this.options.tryPlayVideoTimeout,[4,r.attachStreamToVideo(e,t,i)];case 1:return o=T.sent(),a=function(){r.disposeMediaStream(e),r.cleanVideoSource(o)},s=this.scan(o,n,a),u=e.getVideoTracks(),f=hg(hg({},s),{stop:function(){s.stop()},streamVideoConstraintsApply:function(O,R){return sr(this,void 0,void 0,function(){var D,U,K,A,c,y,x;return ur(this,function(M){switch(M.label){case 0:D=R?u.filter(R):u,M.label=1;case 1:M.trys.push([1,6,7,8]),U=jD(D),K=U.next(),M.label=2;case 2:return K.done?[3,5]:(A=K.value,[4,A.applyConstraints(O)]);case 3:M.sent(),M.label=4;case 4:return K=U.next(),[3,2];case 5:return[3,8];case 6:return c=M.sent(),y={error:c},[3,8];case 7:try{K&&!K.done&&(x=U.return)&&x.call(U)}finally{if(y)throw y.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(O){return u.find(O).getConstraints()},streamVideoSettingsGet:function(O){return u.find(O).getSettings()},streamVideoCapabilitiesGet:function(O){return u.find(O).getCapabilities()}}),l=r.mediaStreamIsTorchCompatible(e),l&&(p=u==null?void 0:u.find(function(O){return r.mediaStreamIsTorchCompatibleTrack(O)}),g=function(O){return sr(_,void 0,void 0,function(){return ur(this,function(R){switch(R.label){case 0:return[4,r.mediaStreamSetTorch(p,O)];case 1:return R.sent(),[2]}})})},f.switchTorch=g,v=function(){s.stop(),g(!1)},f.stop=v),[2,f]}})})},r.prototype.decodeFromVideoDevice=function(e,t,n){return sr(this,void 0,void 0,function(){var i,o;return ur(this,function(a){switch(a.label){case 0:return r.checkCallbackFnOrThrow(n),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},o={video:i},[4,this.decodeFromConstraints(o,t,n)];case 1:return[2,a.sent()]}})})},r.prototype.decodeFromVideoElement=function(e,t){return sr(this,void 0,void 0,function(){var n,i;return ur(this,function(o){switch(o.label){case 0:if(r.checkCallbackFnOrThrow(t),!e)throw new jr.ArgumentException("A video element must be provided.");return n=r.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(n,i)];case 1:return o.sent(),[2,this.scan(n,t)]}})})},r.prototype.decodeFromVideoUrl=function(e,t){return sr(this,void 0,void 0,function(){var n,i,o,a;return ur(this,function(s){switch(s.label){case 0:if(r.checkCallbackFnOrThrow(t),!e)throw new jr.ArgumentException("An URL must be provided.");return n=r.prepareVideoElement(),n.src=e,i=function(){r.cleanVideoSource(n)},o=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(n,o)];case 1:return s.sent(),a=this.scan(n,t,i),[2,a]}})})},r.prototype.decodeOnceFromConstraints=function(e,t){return sr(this,void 0,void 0,function(){var n;return ur(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,t)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,t){return sr(this,void 0,void 0,function(){var n,i,o;return ur(this,function(a){switch(a.label){case 0:return n=Boolean(t),[4,r.attachStreamToVideo(e,t)];case 1:i=a.sent(),a.label=2;case 2:return a.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return o=a.sent(),[2,o];case 4:return n||r.cleanVideoSource(i),[7];case 5:return[2]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,t){return sr(this,void 0,void 0,function(){var n,i;return ur(this,function(o){switch(o.label){case 0:return e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,o.sent()]}})})},r.prototype.decodeOnceFromVideoElement=function(e){return sr(this,void 0,void 0,function(){var t,n;return ur(this,function(i){switch(i.label){case 0:if(!e)throw new jr.ArgumentException("A video element must be provided.");return t=r.prepareVideoElement(e),n=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(t,n)];case 1:return i.sent(),[4,this.scanOneResult(t)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromVideoUrl=function(e){return sr(this,void 0,void 0,function(){var t,n;return ur(this,function(i){switch(i.label){case 0:if(!e)throw new jr.ArgumentException("An URL must be provided.");t=r.prepareVideoElement(),t.src=e,n=this.decodeOnceFromVideoElement(t),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,n];case 2:return[2,i.sent()];case 3:return r.cleanVideoSource(t),[7];case 4:return[2]}})})},r.prototype.scanOneResult=function(e,t,n,i){var o=this;return t===void 0&&(t=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),new Promise(function(a,s){o.scan(e,function(u,f,l){if(u){a(u),l.stop();return}if(f){if(f instanceof jr.NotFoundException&&t||f instanceof jr.ChecksumException&&n||f instanceof jr.FormatException&&i)return;l.stop(),s(f)}})})},r.prototype.scan=function(e,t,n){var i=this;r.checkCallbackFnOrThrow(t);var o=r.createCaptureCanvas(e),a=o.getContext("2d");if(!a)throw new Error("Couldn't create canvas for visual element scan.");var s=function(){a=void 0,o=void 0},u=!1,f,l=function(){u=!0,clearTimeout(f),s(),n&&n()},p={stop:l},g=function(){if(!u)try{r.drawImageOnCanvas(a,e);var v=i.decodeFromCanvas(o);t(v,void 0,p),f=setTimeout(g,i.options.delayBetweenScanSuccess)}catch(R){t(void 0,R,p);var _=R instanceof jr.ChecksumException,T=R instanceof jr.FormatException,O=R instanceof jr.NotFoundException;if(_||T||O){f=setTimeout(g,i.options.delayBetweenScanAttempts);return}s(),n&&n(R)}};return g(),p},r.prototype._decodeOnLoadImage=function(e){return sr(this,void 0,void 0,function(){var t;return ur(this,function(n){switch(n.label){case 0:return t=r.isImageLoaded(e),t?[3,2]:[4,r._waitImageLoad(e)];case 1:n.sent(),n.label=2;case 2:return[2,this.decode(e)]}})})},r.prototype.getUserMedia=function(e){return sr(this,void 0,void 0,function(){var t;return ur(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return t=n.sent(),r.streamTracker.push(t),[2,t]}})})},r.streamTracker=[],r}();ds.BrowserCodeReader=pEe});var dY=b(pg=>{"use strict";d();h();var gEe=pg&&pg.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(pg,"__esModule",{value:!0});pg.BrowserAztecCodeReader=void 0;var yEe=Jo(),mEe=J0(),vEe=function(r){gEe(e,r);function e(t,n){return r.call(this,new yEe.AztecCodeReader,t,n)||this}return e}(mEe.BrowserCodeReader);pg.BrowserAztecCodeReader=vEe});var hY=b(gg=>{"use strict";d();h();var xEe=gg&&gg.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(gg,"__esModule",{value:!0});gg.BrowserMultiFormatOneDReader=void 0;var _Ee=Jo(),wEe=J0(),EEe=function(r){xEe(e,r);function e(t,n){return r.call(this,new _Ee.MultiFormatOneDReader(t),t,n)||this}return e}(wEe.BrowserCodeReader);gg.BrowserMultiFormatOneDReader=EEe});var pY=b(yg=>{"use strict";d();h();var bEe=yg&&yg.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(yg,"__esModule",{value:!0});yg.BrowserDatamatrixCodeReader=void 0;var IEe=Jo(),TEe=J0(),SEe=function(r){bEe(e,r);function e(t,n){return r.call(this,new IEe.DataMatrixReader,t,n)||this}return e}(TEe.BrowserCodeReader);yg.BrowserDatamatrixCodeReader=SEe});var yY=b(mg=>{"use strict";d();h();var CEe=mg&&mg.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(mg,"__esModule",{value:!0});mg.BrowserMultiFormatReader=void 0;var gY=Jo(),AEe=J0(),OEe=function(r){CEe(e,r);function e(t,n){var i=this,o=new gY.MultiFormatReader;return o.setHints(t),i=r.call(this,o,t,n)||this,i.reader=o,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(t){this.hints.set(gY.DecodeHintType.POSSIBLE_FORMATS,t),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e.prototype.setHints=function(t){this.hints=t,this.reader.setHints(this.hints)},e}(AEe.BrowserCodeReader);mg.BrowserMultiFormatReader=OEe});var mY=b(vg=>{"use strict";d();h();var DEe=vg&&vg.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(vg,"__esModule",{value:!0});vg.BrowserPDF417Reader=void 0;var REe=Jo(),PEe=J0(),BEe=function(r){DEe(e,r);function e(t,n){return r.call(this,new REe.PDF417Reader,t,n)||this}return e}(PEe.BrowserCodeReader);vg.BrowserPDF417Reader=BEe});var vY=b(xg=>{"use strict";d();h();var NEe=xg&&xg.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(xg,"__esModule",{value:!0});xg.BrowserQRCodeReader=void 0;var MEe=Jo(),qEe=J0(),FEe=function(r){NEe(e,r);function e(t,n){return r.call(this,new MEe.QRCodeReader,t,n)||this}return e}(qEe.BrowserCodeReader);xg.BrowserQRCodeReader=FEe});var _Y=b(xY=>{"use strict";d();h();Object.defineProperty(xY,"__esModule",{value:!0})});var wY=b(eb=>{"use strict";d();h();Object.defineProperty(eb,"__esModule",{value:!0});eb.BrowserCodeSvgWriter=void 0;var zu=Jo(),nc="http://www.w3.org/2000/svg",UEe=function(){function r(e){if(typeof e=="string"){var t=document.getElementById(e);if(!t)throw new Error("Could not find a Container element with '".concat(e,"'."));this.containerElement=t}else this.containerElement=e}return r.prototype.write=function(e,t,n,i){if(e.length===0)throw new zu.IllegalArgumentException("Found empty contents");if(t<0||n<0)throw new zu.IllegalArgumentException("Requested dimensions are too small: "+t+"x"+n);var o=i&&i.get(zu.EncodeHintType.MARGIN)!==void 0?Number.parseInt(i.get(zu.EncodeHintType.MARGIN).toString(),10):r.QUIET_ZONE_SIZE,a=this.encode(i,e);return this.renderResult(a,t,n,o)},r.prototype.createSVGElement=function(e,t){var n=document.createElementNS(r.SVG_NS,"svg");return n.setAttributeNS(nc,"width",t.toString()),n.setAttributeNS(nc,"height",e.toString()),n},r.prototype.createSvgPathPlaceholderElement=function(e,t){var n=document.createElementNS(r.SVG_NS,"path");return n.setAttributeNS(nc,"d","M0 0h".concat(e,"v").concat(t,"H0z")),n.setAttributeNS(nc,"fill","none"),n},r.prototype.createSvgRectElement=function(e,t,n,i){var o=document.createElementNS(r.SVG_NS,"rect");return o.setAttributeNS(nc,"x",e.toString()),o.setAttributeNS(nc,"y",t.toString()),o.setAttributeNS(nc,"height",n.toString()),o.setAttributeNS(nc,"width",i.toString()),o.setAttributeNS(nc,"fill","#000000"),o},r.prototype.encode=function(e,t){var n=zu.QRCodeDecoderErrorCorrectionLevel.L;if(e&&e.get(zu.EncodeHintType.ERROR_CORRECTION)!==void 0){var i=e.get(zu.EncodeHintType.ERROR_CORRECTION).toString();n=zu.QRCodeDecoderErrorCorrectionLevel.fromString(i)}var o=zu.QRCodeEncoder.encode(t,n,e);return o},r.prototype.renderResult=function(e,t,n,i){var o=e.getMatrix();if(o===null)throw new zu.IllegalStateException;var a=o.getWidth(),s=o.getHeight(),u=a+i*2,f=s+i*2,l=Math.max(t,u),p=Math.max(n,f),g=Math.min(Math.floor(l/u),Math.floor(p/f)),v=Math.floor((l-a*g)/2),_=Math.floor((p-s*g)/2),T=this.createSVGElement(l,p),O=this.createSvgPathPlaceholderElement(t,n);T.appendChild(O),this.containerElement.appendChild(T);for(var R=0,D=_;R<s;R++,D+=g)for(var U=0,K=v;U<a;U++,K+=g)if(o.get(U,R)===1){var A=this.createSvgRectElement(K,D,g,g);T.appendChild(A)}return T},r.QUIET_ZONE_SIZE=4,r.SVG_NS="http://www.w3.org/2000/svg",r}();eb.BrowserCodeSvgWriter=UEe});var bY=b(tb=>{"use strict";d();h();Object.defineProperty(tb,"__esModule",{value:!0});tb.BrowserQRCodeSvgWriter=void 0;var Wu=Jo(),EY="http://www.w3.org/2000/svg",LEe=function(){function r(){}return r.prototype.write=function(e,t,n,i){if(e.length===0)throw new Wu.IllegalArgumentException("Found empty contents");if(t<0||n<0)throw new Wu.IllegalArgumentException("Requested dimensions are too small: "+t+"x"+n);var o=Wu.QRCodeDecoderErrorCorrectionLevel.L,a=r.QUIET_ZONE_SIZE;if(i){if(i.get(Wu.EncodeHintType.ERROR_CORRECTION)!==void 0){var s=i.get(Wu.EncodeHintType.ERROR_CORRECTION).toString();o=Wu.QRCodeDecoderErrorCorrectionLevel.fromString(s)}i.get(Wu.EncodeHintType.MARGIN)!==void 0&&(a=Number.parseInt(i.get(Wu.EncodeHintType.MARGIN).toString(),10))}var u=Wu.QRCodeEncoder.encode(e,o,i);return this.renderResult(u,t,n,a)},r.prototype.writeToDom=function(e,t,n,i,o){if(typeof e=="string"){var a=document.querySelector(e);if(!a)throw new Error("Could no find the target HTML element.");e=a}var s=this.write(t,n,i,o);e instanceof HTMLElement&&e.appendChild(s)},r.prototype.renderResult=function(e,t,n,i){var o=e.getMatrix();if(o===null)throw new Wu.IllegalStateException;for(var a=o.getWidth(),s=o.getHeight(),u=a+i*2,f=s+i*2,l=Math.max(t,u),p=Math.max(n,f),g=Math.min(Math.floor(l/u),Math.floor(p/f)),v=Math.floor((l-a*g)/2),_=Math.floor((p-s*g)/2),T=this.createSVGElement(l,p),O=0,R=_;O<s;O++,R+=g)for(var D=0,U=v;D<a;D++,U+=g)if(o.get(D,O)===1){var K=this.createSvgRectElement(U,R,g,g);T.appendChild(K)}return T},r.prototype.createSVGElement=function(e,t){var n=document.createElementNS(EY,"svg"),i=e.toString(),o=t.toString();return n.setAttribute("height",o),n.setAttribute("width",i),n.setAttribute("viewBox","0 0 "+i+" "+o),n},r.prototype.createSvgRectElement=function(e,t,n,i){var o=document.createElementNS(EY,"rect");return o.setAttribute("x",e.toString()),o.setAttribute("y",t.toString()),o.setAttribute("height",n.toString()),o.setAttribute("width",i.toString()),o.setAttribute("fill","#000000"),o},r.QUIET_ZONE_SIZE=4,r}();tb.BrowserQRCodeSvgWriter=LEe});var IY=b(gr=>{"use strict";d();h();var kEe=gr&&gr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),$o=gr&&gr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&kEe(e,r,t)};Object.defineProperty(gr,"__esModule",{value:!0});gr.BarcodeFormat=void 0;var jEe=Jo();Object.defineProperty(gr,"BarcodeFormat",{enumerable:!0,get:function(){return jEe.BarcodeFormat}});$o(kD(),gr);$o(aY(),gr);$o(uY(),gr);$o(dY(),gr);$o(hY(),gr);$o(J0(),gr);$o(pY(),gr);$o(yY(),gr);$o(mY(),gr);$o(vY(),gr);$o(_Y(),gr);$o(wY(),gr);$o(bY(),gr)});var nb=b(rb=>{"use strict";d();h();Object.defineProperty(rb,"__esModule",{value:!0});rb.DataItem=void 0;var HD=class{constructor(e,t){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}};rb.DataItem=HD});var SY=b((TY,ib)=>{"use strict";d();h();(function(r,e){typeof define=="function"&&define.amd?define([],e):typeof ib<"u"&&ib.exports?ib.exports=e():r.CBOR=e()})(TY,function(){let{DataItem:r}=nb();var e=function(){function t(c){this.$hex=c}t.prototype={length:function(){return this.$hex.length/2},toString:function(c){if(!c||c==="hex"||c===16)return this.$hex;if(c==="utf-8"){for(var y="",x=0;x<this.$hex.length;x+=2)y+="%"+this.$hex.substring(x,x+2);return decodeURIComponent(y)}if(c==="latin"){for(var y=[],x=0;x<this.$hex.length;x+=2)y.push(parseInt(this.$hex.substring(x,x+2),16));return String.fromCharCode.apply(String,y)}throw new Error("Unrecognised format: "+c)}},t.fromLatinString=function(c){for(var y="",x=0;x<c.length;x++){var M=c.charCodeAt(x).toString(16);M.length===1&&(M="0"+M),y+=M}return new t(y)},t.fromUtf8String=function(c){for(var y=encodeURIComponent(c),x="",M=0;M<y.length;M++)if(y.charAt(M)==="%")x+=y.substring(M+1,M+3),M+=2;else{var L=y.charCodeAt(M).toString(16);L.length<2&&(L="0"+L),x+=L}return new t(x)};var n=[],i={},o=function(c){return function(){throw new Error(c+" not implemented")}};function a(){}a.prototype={peekByte:o("peekByte"),readByte:o("readByte"),readChunk:o("readChunk"),readFloat16:function(){var c=this.readUint16(),y=(c&32767)>>10,x=c&1023,M=c&32768;if(y===31)return x===0?M?-1/0:1/0:NaN;var L=y?Math.pow(2,y-25)*(1024+x):Math.pow(2,-24)*x;return M?-L:L},readFloat32:function(){var c=this.readUint32(),y=(c&2147483647)>>23,x=c&8388607,M=c&2147483648;if(y===255)return x===0?M?-1/0:1/0:NaN;var L=y?Math.pow(2,y-23-127)*(8388608+x):Math.pow(2,-23-126)*x;return M?-L:L},readFloat64:function(){var c=this.readUint32(),y=this.readUint32(),x=c>>20&2047,M=(c&1048575)*4294967296+y,L=c&2147483648;if(x===2047)return M===0?L?-1/0:1/0:NaN;var ce=x?Math.pow(2,x-52-1023)*(4503599627370496+M):Math.pow(2,-52-1022)*M;return L?-ce:ce},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:o("writeByte"),result:o("result"),writeFloat16:o("writeFloat16"),writeFloat32:o("writeFloat32"),writeFloat64:o("writeFloat64"),writeUint16:function(c){this.writeByte(c>>8&255),this.writeByte(c&255)},writeUint32:function(c){this.writeUint16(c>>16&65535),this.writeUint16(c&65535)},writeUint64:function(c){if(c>=9007199254740992||c<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+c+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(c/4294967296)),this.writeUint32(c%4294967296)},writeString:o("writeString"),canWriteBinary:function(c){return!1},writeBinary:o("writeChunk")};function u(c){var y=c.readByte(),x=y>>5,M=y&31;return{type:x,value:M}}function f(c,y){var x=c.value;if(x<24)return x;if(x==24)return y.readByte();if(x==25)return y.readUint16();if(x==26)return y.readUint32();if(x==27)return y.readUint64();if(x==31)return null;o("Additional info: "+x)()}function l(c,y,x){x.writeByte(c<<5|y)}function p(c,y,x){var M=c<<5;y<24?x.writeByte(M|y):y<256?(x.writeByte(M|24),x.writeByte(y)):y<65536?(x.writeByte(M|25),x.writeUint16(y)):y<4294967296?(x.writeByte(M|26),x.writeUint32(y)):(x.writeByte(M|27),x.writeUint64(y))}var g=new Error;function v(c){var y=u(c);switch(y.type){case 0:return f(y,c);case 1:return-1-f(y,c);case 2:return c.readChunk(f(y,c));case 3:var x=c.readChunk(f(y,c));return x.toString("utf-8");case 4:case 5:var M=f(y,c),B=[];if(M!==null){y.type===5&&(M*=2);for(var L=0;L<M;L++)B[L]=v(c)}else for(var ce;(ce=v(c))!==g;)B.push(ce);if(y.type===5){for(var q={},L=0;L<B.length;L+=2)q[B[L]]=B[L+1];return q}else return B;case 6:var w=f(y,c),S=i[w],B=v(c);return S?S(B):B;case 7:if(y.value===25)return c.readFloat16();if(y.value===26)return c.readFloat32();if(y.value===27)return c.readFloat64();switch(f(y,c)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+y.value)}default:throw new Error("Unsupported header: "+JSON.stringify(y))}throw new Error("not implemented yet")}function _(c,y){for(var x=0;x<n.length;x++){var M=n[x].fn(c);if(M!==void 0)return p(6,n[x].tag,y),_(M,y)}if(c&&typeof c.toCBOR=="function"&&(c=c.toCBOR()),c===!1)p(7,20,y);else if(c===!0)p(7,21,y);else if(c===null)p(7,22,y);else if(c===void 0)p(7,23,y);else if(typeof c=="number")Math.floor(c)===c&&c<9007199254740992&&c>-9007199254740992?c<0?p(1,-1-c,y):p(0,c,y):(l(7,27,y),y.writeFloat64(c));else if(typeof c=="string")y.writeString(c,function(ce){p(3,ce,y)});else if(y.canWriteBinary(c))y.writeBinary(c,function(ce){p(2,ce,y)});else if(typeof c=="object")if(R.config.useToJSON&&typeof c.toJSON=="function"&&(c=c.toJSON()),Array.isArray(c)){p(4,c.length,y);for(var x=0;x<c.length;x++)_(c[x],y)}else{var L=Object.keys(c);p(5,L.length,y);for(var x=0;x<L.length;x++){let q=parseInt(L[x]);isNaN(q)?(_(L[x],y),_(c[L[x]],y)):(_(q,y),_(c[L[x]],y))}}else throw new Error("CBOR encoding not supported: "+c)}var T=[],O=[],R={config:{useToJSON:!0},addWriter:function(c,y){typeof c=="string"?O.push(function(x){if(c===x)return y(x)}):O.push(c)},addReader:function(c,y){typeof c=="string"?T.push(function(x,M){if(c===M)return y(x,M)}):T.push(c)},encode:function(c,y){for(var x=0;x<O.length;x++){var M=O[x],L=M(y);if(L)return _(c,L),L.result()}throw new Error("Unsupported output format: "+y)},encodeDataItem:function(c,y){for(var x=0;x<O.length;x++){var M=O[x],L=M(y);if(L)return c.getTag()!==void 0?(_(c,L),L.result()):(_(c.getData(),L),L.result())}throw new Error("Unsupported output format: "+y)},decode:function(c,y){for(var x=0;x<T.length;x++){var M=T[x],L=M(c,y);if(L)return v(L)}throw new Error("Unsupported input format: "+y)},decodeToDataItem:function(c,y){for(var x=0;x<T.length;x++){var M=T[x],L=M(c,y);if(L){let ce=v(L);return ce instanceof r?ce:new r(ce)}}throw new Error("Unsupported input format: "+y)},addSemanticEncode:function(c,y){if(typeof c!="number"||c%1!==0||c<0)throw new Error("Tag must be a positive integer");return n.push({tag:c,fn:y}),this},addSemanticDecode:function(c,y){if(typeof c!="number"||c%1!==0||c<0)throw new Error("Tag must be a positive integer");return i[c]=y,this},Reader:a,Writer:s};function D(c){this.buffer=c,this.pos=0}D.prototype=Object.create(a.prototype),D.prototype.peekByte=function(){return this.buffer[this.pos]},D.prototype.readByte=function(){return this.buffer[this.pos++]},D.prototype.readUint16=function(){var c=this.buffer.readUInt16BE(this.pos);return this.pos+=2,c},D.prototype.readUint32=function(){var c=this.buffer.readUInt32BE(this.pos);return this.pos+=4,c},D.prototype.readFloat32=function(){var c=this.buffer.readFloatBE(this.pos);return this.pos+=4,c},D.prototype.readFloat64=function(){var c=this.buffer.readDoubleBE(this.pos);return this.pos+=8,c},D.prototype.readChunk=function(c){var y=m.Buffer.alloc(c);return this.buffer.copy(y,0,this.pos,this.pos+=c),y};function U(c){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=c}U.prototype=Object.create(s.prototype),U.prototype.writeByte=function(c){this.latestBuffer[this.latestBufferOffset++]=c,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},U.prototype.writeFloat32=function(c){var y=m.Buffer.alloc(4);y.writeFloatBE(c,0),this.writeBuffer(y)},U.prototype.writeFloat64=function(c){var y=m.Buffer.alloc(8);y.writeDoubleBE(c,0),this.writeBuffer(y)},U.prototype.writeString=function(c,y){var x=m.Buffer.from(c,"utf-8");y(x.length),this.writeBuffer(x)},U.prototype.canWriteBinary=function(c){return c instanceof m.Buffer},U.prototype.writeBinary=function(c,y){y(c.length),this.writeBuffer(c)},U.prototype.writeBuffer=function(c){if(!(c instanceof m.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=c.length?(c.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=c.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(c),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(c),this.byteLength+=c.length},U.prototype.result=function(){for(var c=m.Buffer.alloc(this.byteLength),y=0,x=0;x<this.completeBuffers.length;x++){var M=this.completeBuffers[x];M.copy(c,y,0,M.length),y+=M.length}return this.latestBufferOffset&&this.latestBuffer.copy(c,y,0,this.latestBufferOffset),this.stringFormat?c.toString(this.stringFormat):c},typeof m.Buffer=="function"&&(R.addReader(function(c,y){if(c instanceof m.Buffer)return new D(c);if(y==="hex"||y==="base64"){var x=m.Buffer.from(c,y);return new D(x)}}),R.addWriter(function(c){if(!c||c==="buffer")return new U;if(c==="hex"||c==="base64")return new U(c)}));function K(c){this.hex=c,this.pos=0}K.prototype=Object.create(a.prototype),K.prototype.peekByte=function(){var c=this.hex.substring(this.pos,2);return parseInt(c,16)},K.prototype.readByte=function(){var c=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(c,16)},K.prototype.readChunk=function(c){var y=this.hex.substring(this.pos,this.pos+c*2);return this.pos+=c*2,typeof m.Buffer=="function"?m.Buffer.from(y,"hex"):new t(y)};function A(c){this.$hex="",this.finalFormat=c||"hex"}return A.prototype=Object.create(s.prototype),A.prototype.writeByte=function(c){if(c<0||c>255)throw new Error("Byte value out of range: "+c);var y=c.toString(16);y.length==1&&(y="0"+y),this.$hex+=y},A.prototype.canWriteBinary=function(c){return c instanceof t||typeof m.Buffer=="function"&&c instanceof m.Buffer},A.prototype.writeBinary=function(c,y){if(c instanceof t)y(c.length()),this.$hex+=c.$hex;else if(typeof m.Buffer=="function"&&c instanceof m.Buffer)y(c.length),this.$hex+=c.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},A.prototype.result=function(){return this.finalFormat==="buffer"&&typeof m.Buffer=="function"?m.Buffer.from(this.$hex,"hex"):new t(this.$hex).toString(this.finalFormat)},A.prototype.writeString=function(c,y){var x=t.fromUtf8String(c);y(x.length()),this.$hex+=x.$hex},R.addReader(function(c,y){if(c instanceof t||c.$hex)return new K(c.$hex);if(y==="hex")return new K(c)}),R.addWriter(function(c){if(c==="hex")return new A}),R}();return e.addSemanticEncode(0,function(t){if(t instanceof Date)return t.toISOString()}).addSemanticDecode(0,function(t){return new Date(t)}).addSemanticDecode(1,function(t){return new Date(t)}),e})});var Zo=b(Si=>{"use strict";d();h();Object.defineProperty(Si,"__esModule",{value:!0});Si.DataItem=Si.addWriter=Si.addReader=Si.addSemanticEncode=Si.addSemanticDecode=Si.decodeToDataItem=Si.encodeDataItem=void 0;var _g=SY();Object.defineProperty(Si,"encodeDataItem",{enumerable:!0,get:function(){return _g.encodeDataItem}});Object.defineProperty(Si,"decodeToDataItem",{enumerable:!0,get:function(){return _g.decodeToDataItem}});Object.defineProperty(Si,"addSemanticDecode",{enumerable:!0,get:function(){return _g.addSemanticDecode}});Object.defineProperty(Si,"addSemanticEncode",{enumerable:!0,get:function(){return _g.addSemanticEncode}});Object.defineProperty(Si,"addReader",{enumerable:!0,get:function(){return _g.addReader}});Object.defineProperty(Si,"addWriter",{enumerable:!0,get:function(){return _g.addWriter}});var HEe=nb();Object.defineProperty(Si,"DataItem",{enumerable:!0,get:function(){return HEe.DataItem}})});var KD=b(ab=>{"use strict";d();h();Object.defineProperty(ab,"__esModule",{value:!0});ab.patchTags=void 0;var ob=Zo(),CY=[],KEe=r=>{r.forEach(e=>{CY.find(t=>t===e)||(ob.addSemanticEncode(e,t=>{if(t instanceof ob.DataItem&&t.getTag()===e)return t.getData()}),ob.addSemanticDecode(e,t=>new ob.DataItem(t,e)),CY.push(e))})};ab.patchTags=KEe});var Qo=b(wg=>{"use strict";d();h();Object.defineProperty(wg,"__esModule",{value:!0});wg.RegistryTypes=wg.RegistryType=void 0;var hs=class{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}};wg.RegistryType=hs;wg.RegistryTypes={UUID:new hs("uuid",37),BYTES:new hs("bytes",void 0),CRYPTO_HDKEY:new hs("crypto-hdkey",303),CRYPTO_KEYPATH:new hs("crypto-keypath",304),CRYPTO_COIN_INFO:new hs("crypto-coin-info",305),CRYPTO_ECKEY:new hs("crypto-eckey",306),CRYPTO_OUTPUT:new hs("crypto-output",308),CRYPTO_PSBT:new hs("crypto-psbt",310),CRYPTO_ACCOUNT:new hs("crypto-account",311)}});var sb=b(Oh=>{"use strict";d();h();Object.defineProperty(Oh,"__esModule",{value:!0});Oh.ScriptExpressions=Oh.ScriptExpression=void 0;var bo=class{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};Oh.ScriptExpression=bo;bo.fromTag=r=>Object.values(Oh.ScriptExpressions).find(t=>t.getTag()===r);Oh.ScriptExpressions={SCRIPT_HASH:new bo(400,"sh"),WITNESS_SCRIPT_HASH:new bo(401,"wsh"),PUBLIC_KEY:new bo(402,"pk"),PUBLIC_KEY_HASH:new bo(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new bo(404,"wpkh"),COMBO:new bo(405,"combo"),MULTISIG:new bo(406,"multi"),SORTED_MULTISIG:new bo(407,"sorted"),ADDRESS:new bo(307,"addr"),RAW_SCRIPT:new bo(408,"raw")}});var OY=b(AY=>{"use strict";d();h();Object.defineProperty(AY,"__esModule",{value:!0});var VEe=KD(),GEe=Qo(),YEe=sb(),zEe=Object.values(GEe.RegistryTypes).filter(r=>!!r.getTag()).map(r=>r.getTag()),WEe=Object.values(YEe.ScriptExpressions).map(r=>r.getTag());VEe.patchTags(zEe.concat(WEe))});var nu=b(ub=>{"use strict";d();h();Object.defineProperty(ub,"__esModule",{value:!0});ub.RegistryItem=void 0;var DY=Gr(),XEe=Zo(),VD=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return XEe.encodeDataItem(this.toDataItem())},this.toUR=()=>new DY.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,n)=>{let i=this.toUR();return new DY.UREncoder(i,e,t,n)}}};ub.RegistryItem=VD});var GD=b(Xu=>{"use strict";d();h();Object.defineProperty(Xu,"__esModule",{value:!0});Xu.CryptoCoinInfo=Xu.Network=Xu.Type=void 0;var RY=Zo(),JEe=nu(),$Ee=Qo(),Eg;(function(r){r.type="1",r.network="2"})(Eg||(Eg={}));var PY;(function(r){r[r.bitcoin=0]="bitcoin"})(PY=Xu.Type||(Xu.Type={}));var BY;(function(r){r[r.mainnet=0]="mainnet",r[r.testnet=1]="testnet"})(BY=Xu.Network||(Xu.Network={}));var Dh=class extends JEe.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>$Ee.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||PY.bitcoin,this.getNetwork=()=>this.network||BY.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[Eg.type]=this.type),this.network&&(n[Eg.network]=this.network),new RY.DataItem(n)}}};Xu.CryptoCoinInfo=Dh;Dh.fromDataItem=r=>{let e=r.getData(),t=e[Eg.type],n=e[Eg.network];return new Dh(t,n)};Dh.fromCBOR=r=>{let e=RY.decodeToDataItem(r);return Dh.fromDataItem(e)}});var YD=b(fb=>{"use strict";d();h();Object.defineProperty(fb,"__esModule",{value:!0});fb.PathComponent=void 0;var bg=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&bg.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};fb.PathComponent=bg;bg.HARDENED_BIT=2147483648});var zD=b(cb=>{"use strict";d();h();Object.defineProperty(cb,"__esModule",{value:!0});cb.CryptoKeypath=void 0;var MY=Zo(),NY=YD(),ZEe=nu(),QEe=Qo(),$0;(function(r){r[r.components=1]="components",r[r.source_fingerprint=2]="source_fingerprint",r[r.depth=3]="depth"})($0||($0={}));var Rh=class extends ZEe.RegistryItem{constructor(e=[],t,n){super(),this.components=e,this.sourceFingerprint=t,this.depth=n,this.getRegistryType=()=>QEe.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(o=>`${o.isWildcard()?"*":o.getIndex()}${o.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},o=[];return this.components&&this.components.forEach(a=>{a.isWildcard()?o.push([]):o.push(a.getIndex()),o.push(!!a.isHardened())}),i[$0.components]=o,this.sourceFingerprint&&(i[$0.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[$0.depth]=this.depth),new MY.DataItem(i)}}};cb.CryptoKeypath=Rh;Rh.fromDataItem=r=>{let e=r.getData(),t=[],n=e[$0.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?t.push(new NY.PathComponent({index:f,hardened:u})):t.push(new NY.PathComponent({hardened:u}))}let i=e[$0.source_fingerprint],o;i&&(o=m.Buffer.alloc(4),o.writeUInt32BE(i,0));let a=e[$0.depth];return new Rh(t,o,a)};Rh.fromCBOR=r=>{let e=MY.decodeToDataItem(r);return Rh.fromDataItem(e)}});var db=b(lb=>{"use strict";d();h();Object.defineProperty(lb,"__esModule",{value:!0});lb.CryptoHDKey=void 0;var e6e=ll(),t6e=GD(),qY=zD(),FY=Zo(),r6e=nu(),n6e=Qo(),Rt;(function(r){r[r.is_master=1]="is_master",r[r.is_private=2]="is_private",r[r.key_data=3]="key_data",r[r.chain_code=4]="chain_code",r[r.use_info=5]="use_info",r[r.origin=6]="origin",r[r.children=7]="children",r[r.parent_fingerprint=8]="parent_fingerprint",r[r.name=9]="name",r[r.note=10]="note"})(Rt||(Rt={}));var Ph=class extends r6e.RegistryItem{constructor(e){super(),this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{let t,n,i,o=m.Buffer.alloc(4).fill(0);if(this.isMaster())t=m.Buffer.from("0488ADE4","hex"),n=0,i=0;else{n=this.getOrigin().getComponents().length||this.getOrigin().getDepth();let l=this.getOrigin().getComponents(),p=l[l.length-1];p&&(i=p.isHardened()?p.getIndex()+2147483648:p.getIndex(),o=this.getParentFingerprint()),this.isPrivateKey()?t=m.Buffer.from("0488ADE4","hex"):t=m.Buffer.from("0488B21E","hex")}let a=m.Buffer.alloc(1);a.writeUInt8(n,0);let s=m.Buffer.alloc(4);s.writeUInt32BE(i,0);let u=this.getChainCode(),f=this.getKey();return e6e.encode(m.Buffer.concat([t,a,o,s,u,f]))},this.getRegistryType=()=>n6e.RegistryTypes.CRYPTO_HDKEY,this.setupMasterKey=t=>{this.master=!0,this.key=t.key,this.chainCode=t.chainCode},this.setupDeriveKey=t=>{this.master=!1,this.privateKey=t.isPrivateKey,this.key=t.key,this.chainCode=t.chainCode,this.useInfo=t.useInfo,this.origin=t.origin,this.children=t.children,this.parentFingerprint=t.parentFingerprint,this.name=t.name,this.note=t.note},this.toDataItem=()=>{let t={};if(this.master)t[Rt.is_master]=!0,t[Rt.key_data]=this.key,t[Rt.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(t[Rt.is_private]=this.privateKey),t[Rt.key_data]=this.key,this.chainCode&&(t[Rt.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),t[Rt.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),t[Rt.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),t[Rt.children]=n}this.parentFingerprint&&(t[Rt.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(t[Rt.name]=this.name),this.note!==void 0&&(t[Rt.note]=this.note)}return new FY.DataItem(t)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};lb.CryptoHDKey=Ph;Ph.fromDataItem=r=>{let e=r.getData(),t=!!e[Rt.is_master],n=e[Rt.is_private],i=e[Rt.key_data],o=e[Rt.chain_code],a=e[Rt.use_info]?t6e.CryptoCoinInfo.fromDataItem(e[Rt.use_info]):void 0,s=e[Rt.origin]?qY.CryptoKeypath.fromDataItem(e[Rt.origin]):void 0,u=e[Rt.children]?qY.CryptoKeypath.fromDataItem(e[Rt.children]):void 0,f=e[Rt.parent_fingerprint],l;f&&(l=m.Buffer.alloc(4),l.writeUInt32BE(f,0));let p=e[Rt.name],g=e[Rt.note];return new Ph({isMaster:t,isPrivateKey:n,key:i,chainCode:o,useInfo:a,origin:s,children:u,parentFingerprint:l,name:p,note:g})};Ph.fromCBOR=r=>{let e=FY.decodeToDataItem(r);return Ph.fromDataItem(e)}});var pb=b(hb=>{"use strict";d();h();Object.defineProperty(hb,"__esModule",{value:!0});hb.CryptoECKey=void 0;var UY=Zo(),i6e=nu(),o6e=Qo(),Z0;(function(r){r[r.curve=1]="curve",r[r.private=2]="private",r[r.data=3]="data"})(Z0||(Z0={}));var Bh=class extends i6e.RegistryItem{constructor(e){super(),this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>o6e.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let t={};return this.curve&&(t[Z0.curve]=this.curve),this.privateKey!==void 0&&(t[Z0.private]=this.privateKey),t[Z0.data]=this.data,new UY.DataItem(t)},this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey}};hb.CryptoECKey=Bh;Bh.fromDataItem=r=>{let e=r.getData(),t=e[Z0.curve],n=e[Z0.private],i=e[Z0.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${r}`);return new Bh({data:i,curve:t,privateKey:n})};Bh.fromCBOR=r=>{let e=UY.decodeToDataItem(r);return Bh.fromDataItem(e)}});var kY=b(gb=>{"use strict";d();h();Object.defineProperty(gb,"__esModule",{value:!0});gb.Bytes=void 0;var LY=Zo(),a6e=nu(),s6e=Qo(),Nh=class extends a6e.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>s6e.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new LY.DataItem(this.bytes)}};gb.Bytes=Nh;Nh.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new Nh(e)};Nh.fromCBOR=r=>{let e=LY.decodeToDataItem(r);return Nh.fromDataItem(e)}});var WD=b(yb=>{"use strict";d();h();Object.defineProperty(yb,"__esModule",{value:!0});yb.MultiKey=void 0;var u6e=pb(),f6e=db(),c6e=nb(),l6e=nu(),jY=Qo(),Ig;(function(r){r[r.threshold=1]="threshold",r[r.keys=2]="keys"})(Ig||(Ig={}));var l2=class extends l6e.RegistryItem{constructor(e,t,n){super(),this.threshold=e,this.ecKeys=t,this.hdKeys=n,this.getThreshold=()=>this.threshold,this.getEcKeys=()=>this.ecKeys,this.getHdKeys=()=>this.hdKeys,this.toDataItem=()=>{let i={};i[Ig.threshold]=this.threshold;let o=[...this.ecKeys,...this.hdKeys].map(a=>{let s=a.toDataItem();return s.setTag(a.getRegistryType().getTag()),s});return i[Ig.keys]=o,new c6e.DataItem(i)}}};yb.MultiKey=l2;l2.fromDataItem=r=>{let e=r.getData(),t=e[Ig.threshold],n=e[Ig.keys],i=[],o=[];return n.forEach(a=>{a.getTag()===jY.RegistryTypes.CRYPTO_HDKEY.getTag()?o.push(f6e.CryptoHDKey.fromDataItem(a)):a.getTag()===jY.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(u6e.CryptoECKey.fromDataItem(a))}),new l2(t,i,o)}});var VY=b(mb=>{"use strict";d();h();Object.defineProperty(mb,"__esModule",{value:!0});mb.CryptoOutput=void 0;var JD=pb(),$D=db(),ZD=Zo(),HY=WD(),d6e=nu(),KY=Qo(),XD=sb(),ic=class extends d6e.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>KY.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof $D.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof JD.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof HY.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof JD.CryptoECKey||this.cryptoKey instanceof $D.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(o=>{let a=o.getTag();n.getTag()===void 0?n.setTag(a):n=new ZD.DataItem(n,a)}),n}}};mb.CryptoOutput=ic;ic.fromDataItem=r=>{let e=[],t=r;for(;;){let o=t.getTag()||void 0,a=XD.ScriptExpression.fromTag(o);if(a)if(e.push(a),t.getData()instanceof ZD.DataItem)t=t.getData(),o=t.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===XD.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===XD.ScriptExpressions.SORTED_MULTISIG.getExpression())){let o=HY.MultiKey.fromDataItem(t);return new ic(e,o)}if(t.getTag()===KY.RegistryTypes.CRYPTO_HDKEY.getTag()){let o=$D.CryptoHDKey.fromDataItem(t);return new ic(e,o)}else{let o=JD.CryptoECKey.fromDataItem(t);return new ic(e,o)}};ic.fromCBOR=r=>{let e=ZD.decodeToDataItem(r);return ic.fromDataItem(e)}});var YY=b(vb=>{"use strict";d();h();Object.defineProperty(vb,"__esModule",{value:!0});vb.CryptoPSBT=void 0;var GY=Zo(),h6e=nu(),p6e=Qo(),Mh=class extends h6e.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>p6e.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new GY.DataItem(this.psbt)}};vb.CryptoPSBT=Mh;Mh.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new Mh(e)};Mh.fromCBOR=r=>{let e=GY.decodeToDataItem(r);return Mh.fromDataItem(e)}});var WY=b(xb=>{"use strict";d();h();Object.defineProperty(xb,"__esModule",{value:!0});xb.CryptoAccount=void 0;var g6e=_b(),zY=Zo(),y6e=nu(),m6e=Qo(),Tg;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.outputDescriptors=2]="outputDescriptors"})(Tg||(Tg={}));var qh=class extends y6e.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>m6e.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[Tg.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[Tg.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new zY.DataItem(n)}}};xb.CryptoAccount=qh;qh.fromDataItem=r=>{let e=r.getData(),t=m.Buffer.alloc(4),n=e[Tg.masterFingerprint];n&&t.writeUInt32BE(n,0);let o=e[Tg.outputDescriptors].map(a=>g6e.CryptoOutput.fromDataItem(a));return new qh(t,o)};qh.fromCBOR=r=>{let e=zY.decodeToDataItem(r);return qh.fromDataItem(e)}});var XY=b(wb=>{"use strict";d();h();Object.defineProperty(wb,"__esModule",{value:!0});wb.URRegistryDecoder=void 0;var v6e=Gr(),Q0=_b(),el=Qo(),QD=class extends v6e.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case el.RegistryTypes.BYTES.getType():return Q0.Bytes.fromCBOR(e.cbor);case el.RegistryTypes.CRYPTO_HDKEY.getType():return Q0.CryptoHDKey.fromCBOR(e.cbor);case el.RegistryTypes.CRYPTO_KEYPATH.getType():return Q0.CryptoKeypath.fromCBOR(e.cbor);case el.RegistryTypes.CRYPTO_COIN_INFO.getType():return Q0.CryptoCoinInfo.fromCBOR(e.cbor);case el.RegistryTypes.CRYPTO_ECKEY.getType():return Q0.CryptoECKey.fromCBOR(e.cbor);case el.RegistryTypes.CRYPTO_OUTPUT.getType():return Q0.CryptoOutput.fromCBOR(e.cbor);case el.RegistryTypes.CRYPTO_PSBT.getType():return Q0.CryptoPSBT.fromCBOR(e.cbor);case el.RegistryTypes.CRYPTO_ACCOUNT.getType():return Q0.CryptoAccount.fromCBOR(e.cbor);default:throw new Error(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};wb.URRegistryDecoder=QD});var _b=b(Ge=>{"use strict";d();h();Object.defineProperty(Ge,"__esModule",{value:!0});Ge.extend=Ge.PathComponent=Ge.ScriptExpressions=Ge.MultiKey=Ge.CryptoPSBT=Ge.CryptoOutput=Ge.CryptoECKey=Ge.CryptoCoinInfoNetwork=Ge.CryptoCoinInfoType=Ge.CryptoCoinInfo=Ge.CryptoKeypath=Ge.CryptoHDKey=Ge.CryptoAccount=Ge.Bytes=Ge.URRegistryDecoder=Ge.RegistryItem=Ge.DataItem=void 0;OY();var $Y=db();Object.defineProperty(Ge,"CryptoHDKey",{enumerable:!0,get:function(){return $Y.CryptoHDKey}});var ZY=zD();Object.defineProperty(Ge,"CryptoKeypath",{enumerable:!0,get:function(){return ZY.CryptoKeypath}});var Cg=GD();Object.defineProperty(Ge,"CryptoCoinInfo",{enumerable:!0,get:function(){return Cg.CryptoCoinInfo}});Object.defineProperty(Ge,"CryptoCoinInfoType",{enumerable:!0,get:function(){return Cg.Type}});Object.defineProperty(Ge,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return Cg.Network}});var QY=pb();Object.defineProperty(Ge,"CryptoECKey",{enumerable:!0,get:function(){return QY.CryptoECKey}});var ez=kY();Object.defineProperty(Ge,"Bytes",{enumerable:!0,get:function(){return ez.Bytes}});var tz=VY();Object.defineProperty(Ge,"CryptoOutput",{enumerable:!0,get:function(){return tz.CryptoOutput}});var rz=YY();Object.defineProperty(Ge,"CryptoPSBT",{enumerable:!0,get:function(){return rz.CryptoPSBT}});var nz=WY();Object.defineProperty(Ge,"CryptoAccount",{enumerable:!0,get:function(){return nz.CryptoAccount}});var iz=XY();Object.defineProperty(Ge,"URRegistryDecoder",{enumerable:!0,get:function(){return iz.URRegistryDecoder}});var oz=WD();Object.defineProperty(Ge,"MultiKey",{enumerable:!0,get:function(){return oz.MultiKey}});var az=sb();Object.defineProperty(Ge,"ScriptExpressions",{enumerable:!0,get:function(){return az.ScriptExpressions}});var sz=YD();Object.defineProperty(Ge,"PathComponent",{enumerable:!0,get:function(){return sz.PathComponent}});var JY=Qo(),Sg=Zo(),x6e=Zo();Object.defineProperty(Ge,"DataItem",{enumerable:!0,get:function(){return x6e.DataItem}});var _6e=nu();Object.defineProperty(Ge,"RegistryItem",{enumerable:!0,get:function(){return _6e.RegistryItem}});var w6e=KD(),E6e={URRegistryDecoder:iz.URRegistryDecoder,Bytes:ez.Bytes,CryptoAccount:nz.CryptoAccount,CryptoHDKey:$Y.CryptoHDKey,CryptoKeypath:ZY.CryptoKeypath,CryptoCoinInfo:Cg.CryptoCoinInfo,CryptoCoinInfoType:Cg.Type,CryptoCoinInfoNetwork:Cg.Network,CryptoECKey:QY.CryptoECKey,CryptoOutput:tz.CryptoOutput,CryptoPSBT:rz.CryptoPSBT,MultiKey:oz.MultiKey,ScriptExpressions:az.ScriptExpressions,PathComponent:sz.PathComponent},b6e={addReader:Sg.addReader,addSemanticDecode:Sg.addSemanticDecode,addSemanticEncode:Sg.addSemanticEncode,addWriter:Sg.addWriter,patchTags:w6e.patchTags},I6e={RegistryTypes:JY.RegistryTypes,RegistryType:JY.RegistryType,decodeToDataItem:Sg.decodeToDataItem,encodeDataItem:Sg.encodeDataItem,cbor:b6e};Ge.extend=I6e;Ge.default=E6e});function d2(){if(!Eb&&(Eb=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Eb))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Eb(T6e)}var Eb,T6e,eR=de(()=>{d();h();T6e=new Uint8Array(16)});var uz,fz=de(()=>{d();h();uz=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function S6e(r){return typeof r=="string"&&uz.test(r)}var tl,h2=de(()=>{d();h();fz();tl=S6e});function C6e(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Tn[r[e+0]]+Tn[r[e+1]]+Tn[r[e+2]]+Tn[r[e+3]]+"-"+Tn[r[e+4]]+Tn[r[e+5]]+"-"+Tn[r[e+6]]+Tn[r[e+7]]+"-"+Tn[r[e+8]]+Tn[r[e+9]]+"-"+Tn[r[e+10]]+Tn[r[e+11]]+Tn[r[e+12]]+Tn[r[e+13]]+Tn[r[e+14]]+Tn[r[e+15]]).toLowerCase();if(!tl(t))throw TypeError("Stringified UUID is invalid");return t}var Tn,bb,rl,p2=de(()=>{d();h();h2();Tn=[];for(bb=0;bb<256;++bb)Tn.push((bb+256).toString(16).substr(1));rl=C6e});function A6e(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var o=r.node||cz,a=r.clockseq!==void 0?r.clockseq:tR;if(o==null||a==null){var s=r.random||(r.rng||d2)();o==null&&(o=cz=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=tR=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:nR+1,l=u-rR+(f-nR)/1e4;if(l<0&&r.clockseq===void 0&&(a=a+1&16383),(l<0||u>rR)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");rR=u,nR=f,tR=a,u+=122192928e5;var p=((u&268435455)*1e4+f)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=p&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var v=0;v<6;++v)i[n+v]=o[v];return e||rl(i)}var cz,tR,rR,nR,lz,dz=de(()=>{d();h();eR();p2();rR=0,nR=0;lz=A6e});function O6e(r){if(!tl(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var Ib,iR=de(()=>{d();h();h2();Ib=O6e});function D6e(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function Tb(r,e,t){function n(i,o,a,s){if(typeof i=="string"&&(i=D6e(i)),typeof o=="string"&&(o=Ib(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,a){s=s||0;for(var f=0;f<16;++f)a[s+f]=u[f];return a}return rl(u)}try{n.name=r}catch{}return n.DNS=R6e,n.URL=P6e,n}var R6e,P6e,oR=de(()=>{d();h();p2();iR();R6e="6ba7b810-9dad-11d1-80b4-00c04fd430c8",P6e="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function B6e(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return N6e(M6e(q6e(r),r.length*8))}function N6e(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var o=r[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(a)}return e}function hz(r){return(r+64>>>9<<4)+14+1}function M6e(r,e){r[e>>5]|=128<<e%32,r[hz(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<r.length;a+=16){var s=t,u=n,f=i,l=o;t=Ci(t,n,i,o,r[a],7,-680876936),o=Ci(o,t,n,i,r[a+1],12,-389564586),i=Ci(i,o,t,n,r[a+2],17,606105819),n=Ci(n,i,o,t,r[a+3],22,-1044525330),t=Ci(t,n,i,o,r[a+4],7,-176418897),o=Ci(o,t,n,i,r[a+5],12,1200080426),i=Ci(i,o,t,n,r[a+6],17,-1473231341),n=Ci(n,i,o,t,r[a+7],22,-45705983),t=Ci(t,n,i,o,r[a+8],7,1770035416),o=Ci(o,t,n,i,r[a+9],12,-1958414417),i=Ci(i,o,t,n,r[a+10],17,-42063),n=Ci(n,i,o,t,r[a+11],22,-1990404162),t=Ci(t,n,i,o,r[a+12],7,1804603682),o=Ci(o,t,n,i,r[a+13],12,-40341101),i=Ci(i,o,t,n,r[a+14],17,-1502002290),n=Ci(n,i,o,t,r[a+15],22,1236535329),t=Ai(t,n,i,o,r[a+1],5,-165796510),o=Ai(o,t,n,i,r[a+6],9,-1069501632),i=Ai(i,o,t,n,r[a+11],14,643717713),n=Ai(n,i,o,t,r[a],20,-373897302),t=Ai(t,n,i,o,r[a+5],5,-701558691),o=Ai(o,t,n,i,r[a+10],9,38016083),i=Ai(i,o,t,n,r[a+15],14,-660478335),n=Ai(n,i,o,t,r[a+4],20,-405537848),t=Ai(t,n,i,o,r[a+9],5,568446438),o=Ai(o,t,n,i,r[a+14],9,-1019803690),i=Ai(i,o,t,n,r[a+3],14,-187363961),n=Ai(n,i,o,t,r[a+8],20,1163531501),t=Ai(t,n,i,o,r[a+13],5,-1444681467),o=Ai(o,t,n,i,r[a+2],9,-51403784),i=Ai(i,o,t,n,r[a+7],14,1735328473),n=Ai(n,i,o,t,r[a+12],20,-1926607734),t=Oi(t,n,i,o,r[a+5],4,-378558),o=Oi(o,t,n,i,r[a+8],11,-2022574463),i=Oi(i,o,t,n,r[a+11],16,1839030562),n=Oi(n,i,o,t,r[a+14],23,-35309556),t=Oi(t,n,i,o,r[a+1],4,-1530992060),o=Oi(o,t,n,i,r[a+4],11,1272893353),i=Oi(i,o,t,n,r[a+7],16,-155497632),n=Oi(n,i,o,t,r[a+10],23,-1094730640),t=Oi(t,n,i,o,r[a+13],4,681279174),o=Oi(o,t,n,i,r[a],11,-358537222),i=Oi(i,o,t,n,r[a+3],16,-722521979),n=Oi(n,i,o,t,r[a+6],23,76029189),t=Oi(t,n,i,o,r[a+9],4,-640364487),o=Oi(o,t,n,i,r[a+12],11,-421815835),i=Oi(i,o,t,n,r[a+15],16,530742520),n=Oi(n,i,o,t,r[a+2],23,-995338651),t=Di(t,n,i,o,r[a],6,-198630844),o=Di(o,t,n,i,r[a+7],10,1126891415),i=Di(i,o,t,n,r[a+14],15,-1416354905),n=Di(n,i,o,t,r[a+5],21,-57434055),t=Di(t,n,i,o,r[a+12],6,1700485571),o=Di(o,t,n,i,r[a+3],10,-1894986606),i=Di(i,o,t,n,r[a+10],15,-1051523),n=Di(n,i,o,t,r[a+1],21,-2054922799),t=Di(t,n,i,o,r[a+8],6,1873313359),o=Di(o,t,n,i,r[a+15],10,-30611744),i=Di(i,o,t,n,r[a+6],15,-1560198380),n=Di(n,i,o,t,r[a+13],21,1309151649),t=Di(t,n,i,o,r[a+4],6,-145523070),o=Di(o,t,n,i,r[a+11],10,-1120210379),i=Di(i,o,t,n,r[a+2],15,718787259),n=Di(n,i,o,t,r[a+9],21,-343485551),t=nl(t,s),n=nl(n,u),i=nl(i,f),o=nl(o,l)}return[t,n,i,o]}function q6e(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(hz(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function nl(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function F6e(r,e){return r<<e|r>>>32-e}function Sb(r,e,t,n,i,o){return nl(F6e(nl(nl(e,r),nl(n,o)),i),t)}function Ci(r,e,t,n,i,o,a){return Sb(e&t|~e&n,r,e,i,o,a)}function Ai(r,e,t,n,i,o,a){return Sb(e&n|t&~n,r,e,i,o,a)}function Oi(r,e,t,n,i,o,a){return Sb(e^t^n,r,e,i,o,a)}function Di(r,e,t,n,i,o,a){return Sb(t^(e|~n),r,e,i,o,a)}var pz,gz=de(()=>{d();h();pz=B6e});var U6e,yz,mz=de(()=>{d();h();oR();gz();U6e=Tb("v3",48,pz),yz=U6e});function L6e(r,e,t){r=r||{};var n=r.random||(r.rng||d2)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return rl(n)}var vz,xz=de(()=>{d();h();eR();p2();vz=L6e});function k6e(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function aR(r,e){return r<<e|r>>>32-e}function j6e(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var f=new Uint32Array(16),l=0;l<16;++l)f[l]=r[u*64+l*4]<<24|r[u*64+l*4+1]<<16|r[u*64+l*4+2]<<8|r[u*64+l*4+3];s[u]=f}s[a-1][14]=(r.length-1)*8/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=(r.length-1)*8&4294967295;for(var p=0;p<a;++p){for(var g=new Uint32Array(80),v=0;v<16;++v)g[v]=s[p][v];for(var _=16;_<80;++_)g[_]=aR(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var T=t[0],O=t[1],R=t[2],D=t[3],U=t[4],K=0;K<80;++K){var A=Math.floor(K/20),c=aR(T,5)+k6e(A,O,R,D)+U+e[A]+g[K]>>>0;U=D,D=R,R=aR(O,30)>>>0,O=T,T=c}t[0]=t[0]+T>>>0,t[1]=t[1]+O>>>0,t[2]=t[2]+R>>>0,t[3]=t[3]+D>>>0,t[4]=t[4]+U>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var _z,wz=de(()=>{d();h();_z=j6e});var H6e,Ez,bz=de(()=>{d();h();oR();wz();H6e=Tb("v5",80,_z),Ez=H6e});var Iz,Tz=de(()=>{d();h();Iz="00000000-0000-0000-0000-000000000000"});function K6e(r){if(!tl(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var Sz,Cz=de(()=>{d();h();h2();Sz=K6e});var Az={};fc(Az,{NIL:()=>Iz,parse:()=>Ib,stringify:()=>rl,v1:()=>lz,v3:()=>yz,v4:()=>vz,v5:()=>Ez,validate:()=>tl,version:()=>Sz});var Oz=de(()=>{d();h();dz();mz();xz();bz();Tz();Cz();h2();p2();iR()});var Mz=b((wut,Nz)=>{d();h();var Ju=So(),Ri=F2().Buffer,Ab=BR(),sR=ll(),V6e=PR(),il=wT(),G6e=Ri.from("Bitcoin seed","utf8"),Cb=2147483648,Y6e=78,Dz={private:76066276,public:76067358};function fr(r){this.versions=r||Dz,this.depth=0,this.index=0,this._privateKey=null,this._publicKey=null,this.chainCode=null,this._fingerprint=0,this.parentFingerprint=0}Object.defineProperty(fr.prototype,"fingerprint",{get:function(){return this._fingerprint}});Object.defineProperty(fr.prototype,"identifier",{get:function(){return this._identifier}});Object.defineProperty(fr.prototype,"pubKeyHash",{get:function(){return this.identifier}});Object.defineProperty(fr.prototype,"privateKey",{get:function(){return this._privateKey},set:function(r){Ju.equal(r.length,32,"Private key must be 32 bytes."),Ju(il.privateKeyVerify(r)===!0,"Invalid private key"),this._privateKey=r,this._publicKey=Ri.from(il.publicKeyCreate(r,!0)),this._identifier=Bz(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0)}});function Rz(r,e){r._publicKey=Ri.from(e),r._identifier=Bz(e),r._fingerprint=r._identifier.slice(0,4).readUInt32BE(0),r._privateKey=null}Object.defineProperty(fr.prototype,"publicKey",{get:function(){return this._publicKey},set:function(r){Ju(r.length===33||r.length===65,"Public key must be 33 or 65 bytes."),Ju(il.publicKeyVerify(r)===!0,"Invalid public key");let e=r.length===65?il.publicKeyConvert(r,!0):r;Rz(this,e)}});Object.defineProperty(fr.prototype,"privateExtendedKey",{get:function(){return this._privateKey?sR.encode(Pz(this,this.versions.private,Ri.concat([Ri.alloc(1,0),this.privateKey]))):null}});Object.defineProperty(fr.prototype,"publicExtendedKey",{get:function(){return sR.encode(Pz(this,this.versions.public,this.publicKey))}});fr.prototype.derive=function(r){if(r==="m"||r==="M"||r==="m'"||r==="M'")return this;var e=r.split("/"),t=this;return e.forEach(function(n,i){if(i===0){Ju(/^[mM]{1}/.test(n),'Path must start with "m" or "M"');return}var o=n.length>1&&n[n.length-1]==="'",a=parseInt(n,10);Ju(a<Cb,"Invalid index"),o&&(a+=Cb),t=t.deriveChild(a)}),t};fr.prototype.deriveChild=function(r){var e=r>=Cb,t=Ri.allocUnsafe(4);t.writeUInt32BE(r,0);var n;if(e){Ju(this.privateKey,"Could not derive hardened child key");var i=this.privateKey,o=Ri.alloc(1,0);i=Ri.concat([o,i]),n=Ri.concat([i,t])}else n=Ri.concat([this.publicKey,t]);var a=Ab.createHmac("sha512",this.chainCode).update(n).digest(),s=a.slice(0,32),u=a.slice(32),f=new fr(this.versions);if(this.privateKey)try{f.privateKey=Ri.from(il.privateKeyTweakAdd(Ri.from(this.privateKey),s))}catch{return this.deriveChild(r+1)}else try{f.publicKey=Ri.from(il.publicKeyTweakAdd(Ri.from(this.publicKey),s,!0))}catch{return this.deriveChild(r+1)}return f.chainCode=u,f.depth=this.depth+1,f.parentFingerprint=this.fingerprint,f.index=r,f};fr.prototype.sign=function(r){return Ri.from(il.ecdsaSign(Uint8Array.from(r),Uint8Array.from(this.privateKey)).signature)};fr.prototype.verify=function(r,e){return il.ecdsaVerify(Uint8Array.from(e),Uint8Array.from(r),Uint8Array.from(this.publicKey))};fr.prototype.wipePrivateData=function(){return this._privateKey&&Ab.randomBytes(this._privateKey.length).copy(this._privateKey),this._privateKey=null,this};fr.prototype.toJSON=function(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}};fr.fromMasterSeed=function(r,e){var t=Ab.createHmac("sha512",G6e).update(r).digest(),n=t.slice(0,32),i=t.slice(32),o=new fr(e);return o.chainCode=i,o.privateKey=n,o};fr.fromExtendedKey=function(r,e,t){e=e||Dz,t=t||!1;var n=new fr(e),i=sR.decode(r),o=i.readUInt32BE(0);Ju(o===e.private||o===e.public,"Version mismatch: does not match private or public"),n.depth=i.readUInt8(4),n.parentFingerprint=i.readUInt32BE(5),n.index=i.readUInt32BE(9),n.chainCode=i.slice(13,45);var a=i.slice(45);return a.readUInt8(0)===0?(Ju(o===e.private,"Version mismatch: version does not match private"),n.privateKey=a.slice(1)):(Ju(o===e.public,"Version mismatch: version does not match public"),t?Rz(n,a):n.publicKey=a),n};fr.fromJSON=function(r){return fr.fromExtendedKey(r.xpriv)};function Pz(r,e,t){var n=Ri.allocUnsafe(Y6e);n.writeUInt32BE(e,0),n.writeUInt8(r.depth,4);var i=r.depth?r.parentFingerprint:0;return n.writeUInt32BE(i,5),n.writeUInt32BE(r.index,9),r.chainCode.copy(n,13),t.copy(n,45),n}function Bz(r){var e=Ab.createHash("sha256").update(r).digest();return new V6e().update(e).digest()}fr.HARDENED_OFFSET=Cb;Nz.exports=fr});var Fz=b((qz,uR)=>{d();h();(function(r,e){"use strict";function t(q,w){if(!q)throw new Error(w||"Assertion failed")}function n(q,w){q.super_=w;var S=function(){};S.prototype=w.prototype,q.prototype=new S,q.prototype.constructor=q}function i(q,w,S){if(i.isBN(q))return q;this.negative=0,this.words=null,this.length=0,this.red=null,q!==null&&((w==="le"||w==="be")&&(S=w,w=10),this._init(q||0,w||10,S||"be"))}typeof r=="object"?r.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{o=no().Buffer}catch{}i.isBN=function(w){return w instanceof i?!0:w!==null&&typeof w=="object"&&w.constructor.wordSize===i.wordSize&&Array.isArray(w.words)},i.max=function(w,S){return w.cmp(S)>0?w:S},i.min=function(w,S){return w.cmp(S)<0?w:S},i.prototype._init=function(w,S,B){if(typeof w=="number")return this._initNumber(w,S,B);if(typeof w=="object")return this._initArray(w,S,B);S==="hex"&&(S=16),t(S===(S|0)&&S>=2&&S<=36),w=w.toString().replace(/\s+/g,"");var V=0;w[0]==="-"&&V++,S===16?this._parseHex(w,V):this._parseBase(w,S,V),w[0]==="-"&&(this.negative=1),this._strip(),B==="le"&&this._initArray(this.toArray(),S,B)},i.prototype._initNumber=function(w,S,B){w<0&&(this.negative=1,w=-w),w<67108864?(this.words=[w&67108863],this.length=1):w<4503599627370496?(this.words=[w&67108863,w/67108864&67108863],this.length=2):(t(w<9007199254740992),this.words=[w&67108863,w/67108864&67108863,1],this.length=3),B==="le"&&this._initArray(this.toArray(),S,B)},i.prototype._initArray=function(w,S,B){if(t(typeof w.length=="number"),w.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(w.length/3),this.words=new Array(this.length);for(var V=0;V<this.length;V++)this.words[V]=0;var z,X,$=0;if(B==="be")for(V=w.length-1,z=0;V>=0;V-=3)X=w[V]|w[V-1]<<8|w[V-2]<<16,this.words[z]|=X<<$&67108863,this.words[z+1]=X>>>26-$&67108863,$+=24,$>=26&&($-=26,z++);else if(B==="le")for(V=0,z=0;V<w.length;V+=3)X=w[V]|w[V+1]<<8|w[V+2]<<16,this.words[z]|=X<<$&67108863,this.words[z+1]=X>>>26-$&67108863,$+=24,$>=26&&($-=26,z++);return this._strip()};function a(q,w,S){for(var B=0,V=Math.min(q.length,S),z=0,X=w;X<V;X++){var $=q.charCodeAt(X)-48;B<<=4;var Y;$>=49&&$<=54?Y=$-49+10:$>=17&&$<=22?Y=$-17+10:Y=$,B|=Y,z|=Y}return t(!(z&240),"Invalid character in "+q),B}i.prototype._parseHex=function(w,S){this.length=Math.ceil((w.length-S)/6),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var V,z,X=0;for(B=w.length-6,V=0;B>=S;B-=6)z=a(w,B,B+6),this.words[V]|=z<<X&67108863,this.words[V+1]|=z>>>26-X&4194303,X+=24,X>=26&&(X-=26,V++);B+6!==S&&(z=a(w,S,B+6),this.words[V]|=z<<X&67108863,this.words[V+1]|=z>>>26-X&4194303),this._strip()};function s(q,w,S,B){for(var V=0,z=0,X=Math.min(q.length,S),$=w;$<X;$++){var Y=q.charCodeAt($)-48;V*=B,Y>=49?z=Y-49+10:Y>=17?z=Y-17+10:z=Y,t(Y>=0&&z<B,"Invalid character"),V+=z}return V}i.prototype._parseBase=function(w,S,B){this.words=[0],this.length=1;for(var V=0,z=1;z<=67108863;z*=S)V++;V--,z=z/S|0;for(var X=w.length-B,$=X%V,Y=Math.min(X,X-$)+B,I=0,W=B;W<Y;W+=V)I=s(w,W,W+V,S),this.imuln(z),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I);if($!==0){var xe=1;for(I=s(w,W,w.length,S),W=0;W<$;W++)xe*=S;this.imuln(xe),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I)}},i.prototype.copy=function(w){w.words=new Array(this.length);for(var S=0;S<this.length;S++)w.words[S]=this.words[S];w.length=this.length,w.negative=this.negative,w.red=this.red};function u(q,w){q.words=w.words,q.length=w.length,q.negative=w.negative,q.red=w.red}if(i.prototype._move=function(w){u(w,this)},i.prototype.clone=function(){var w=new i(null);return this.copy(w),w},i.prototype._expand=function(w){for(;this.length<w;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{i.prototype.inspect=f}else i.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(w,S){w=w||10,S=S|0||1;var B;if(w===16||w==="hex"){B="";for(var V=0,z=0,X=0;X<this.length;X++){var $=this.words[X],Y=(($<<V|z)&16777215).toString(16);z=$>>>24-V&16777215,z!==0||X!==this.length-1?B=l[6-Y.length]+Y+B:B=Y+B,V+=2,V>=26&&(V-=26,X--)}for(z!==0&&(B=z.toString(16)+B);B.length%S!==0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}if(w===(w|0)&&w>=2&&w<=36){var I=p[w],W=g[w];B="";var xe=this.clone();for(xe.negative=0;!xe.isZero();){var be=xe.modrn(W).toString(w);xe=xe.idivn(W),xe.isZero()?B=be+B:B=l[I-be.length]+be+B}for(this.isZero()&&(B="0"+B);B.length%S!==0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}t(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var w=this.words[0];return this.length===2?w+=this.words[1]*67108864:this.length===3&&this.words[2]===1?w+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-w:w},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(w,S){return this.toArrayLike(o,w,S)}),i.prototype.toArray=function(w,S){return this.toArrayLike(Array,w,S)};var v=function(w,S){return w.allocUnsafe?w.allocUnsafe(S):new w(S)};i.prototype.toArrayLike=function(w,S,B){this._strip();var V=this.byteLength(),z=B||Math.max(1,V);t(V<=z,"byte array longer than desired length"),t(z>0,"Requested array length <= 0");var X=v(w,z),$=S==="le"?"LE":"BE";return this["_toArrayLike"+$](X,V),X},i.prototype._toArrayLikeLE=function(w,S){for(var B=0,V=0,z=0,X=0;z<this.length;z++){var $=this.words[z]<<X|V;w[B++]=$&255,B<w.length&&(w[B++]=$>>8&255),B<w.length&&(w[B++]=$>>16&255),X===6?(B<w.length&&(w[B++]=$>>24&255),V=0,X=0):(V=$>>>24,X+=2)}if(B<w.length)for(w[B++]=V;B<w.length;)w[B++]=0},i.prototype._toArrayLikeBE=function(w,S){for(var B=w.length-1,V=0,z=0,X=0;z<this.length;z++){var $=this.words[z]<<X|V;w[B--]=$&255,B>=0&&(w[B--]=$>>8&255),B>=0&&(w[B--]=$>>16&255),X===6?(B>=0&&(w[B--]=$>>24&255),V=0,X=0):(V=$>>>24,X+=2)}if(B>=0)for(w[B--]=V;B>=0;)w[B--]=0},Math.clz32?i.prototype._countBits=function(w){return 32-Math.clz32(w)}:i.prototype._countBits=function(w){var S=w,B=0;return S>=4096&&(B+=13,S>>>=13),S>=64&&(B+=7,S>>>=7),S>=8&&(B+=4,S>>>=4),S>=2&&(B+=2,S>>>=2),B+S},i.prototype._zeroBits=function(w){if(w===0)return 26;var S=w,B=0;return(S&8191)===0&&(B+=13,S>>>=13),(S&127)===0&&(B+=7,S>>>=7),(S&15)===0&&(B+=4,S>>>=4),(S&3)===0&&(B+=2,S>>>=2),(S&1)===0&&B++,B},i.prototype.bitLength=function(){var w=this.words[this.length-1],S=this._countBits(w);return(this.length-1)*26+S};function _(q){for(var w=new Array(q.bitLength()),S=0;S<w.length;S++){var B=S/26|0,V=S%26;w[S]=q.words[B]>>>V&1}return w}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var w=0,S=0;S<this.length;S++){var B=this._zeroBits(this.words[S]);if(w+=B,B!==26)break}return w},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(w){return this.negative!==0?this.abs().inotn(w).iaddn(1):this.clone()},i.prototype.fromTwos=function(w){return this.testn(w-1)?this.notn(w).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(w){for(;this.length<w.length;)this.words[this.length++]=0;for(var S=0;S<w.length;S++)this.words[S]=this.words[S]|w.words[S];return this._strip()},i.prototype.ior=function(w){return t((this.negative|w.negative)===0),this.iuor(w)},i.prototype.or=function(w){return this.length>w.length?this.clone().ior(w):w.clone().ior(this)},i.prototype.uor=function(w){return this.length>w.length?this.clone().iuor(w):w.clone().iuor(this)},i.prototype.iuand=function(w){var S;this.length>w.length?S=w:S=this;for(var B=0;B<S.length;B++)this.words[B]=this.words[B]&w.words[B];return this.length=S.length,this._strip()},i.prototype.iand=function(w){return t((this.negative|w.negative)===0),this.iuand(w)},i.prototype.and=function(w){return this.length>w.length?this.clone().iand(w):w.clone().iand(this)},i.prototype.uand=function(w){return this.length>w.length?this.clone().iuand(w):w.clone().iuand(this)},i.prototype.iuxor=function(w){var S,B;this.length>w.length?(S=this,B=w):(S=w,B=this);for(var V=0;V<B.length;V++)this.words[V]=S.words[V]^B.words[V];if(this!==S)for(;V<S.length;V++)this.words[V]=S.words[V];return this.length=S.length,this._strip()},i.prototype.ixor=function(w){return t((this.negative|w.negative)===0),this.iuxor(w)},i.prototype.xor=function(w){return this.length>w.length?this.clone().ixor(w):w.clone().ixor(this)},i.prototype.uxor=function(w){return this.length>w.length?this.clone().iuxor(w):w.clone().iuxor(this)},i.prototype.inotn=function(w){t(typeof w=="number"&&w>=0);var S=Math.ceil(w/26)|0,B=w%26;this._expand(S),B>0&&S--;for(var V=0;V<S;V++)this.words[V]=~this.words[V]&67108863;return B>0&&(this.words[V]=~this.words[V]&67108863>>26-B),this._strip()},i.prototype.notn=function(w){return this.clone().inotn(w)},i.prototype.setn=function(w,S){t(typeof w=="number"&&w>=0);var B=w/26|0,V=w%26;return this._expand(B+1),S?this.words[B]=this.words[B]|1<<V:this.words[B]=this.words[B]&~(1<<V),this._strip()},i.prototype.iadd=function(w){var S;if(this.negative!==0&&w.negative===0)return this.negative=0,S=this.isub(w),this.negative^=1,this._normSign();if(this.negative===0&&w.negative!==0)return w.negative=0,S=this.isub(w),w.negative=1,S._normSign();var B,V;this.length>w.length?(B=this,V=w):(B=w,V=this);for(var z=0,X=0;X<V.length;X++)S=(B.words[X]|0)+(V.words[X]|0)+z,this.words[X]=S&67108863,z=S>>>26;for(;z!==0&&X<B.length;X++)S=(B.words[X]|0)+z,this.words[X]=S&67108863,z=S>>>26;if(this.length=B.length,z!==0)this.words[this.length]=z,this.length++;else if(B!==this)for(;X<B.length;X++)this.words[X]=B.words[X];return this},i.prototype.add=function(w){var S;return w.negative!==0&&this.negative===0?(w.negative=0,S=this.sub(w),w.negative^=1,S):w.negative===0&&this.negative!==0?(this.negative=0,S=w.sub(this),this.negative=1,S):this.length>w.length?this.clone().iadd(w):w.clone().iadd(this)},i.prototype.isub=function(w){if(w.negative!==0){w.negative=0;var S=this.iadd(w);return w.negative=1,S._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(w),this.negative=1,this._normSign();var B=this.cmp(w);if(B===0)return this.negative=0,this.length=1,this.words[0]=0,this;var V,z;B>0?(V=this,z=w):(V=w,z=this);for(var X=0,$=0;$<z.length;$++)S=(V.words[$]|0)-(z.words[$]|0)+X,X=S>>26,this.words[$]=S&67108863;for(;X!==0&&$<V.length;$++)S=(V.words[$]|0)+X,X=S>>26,this.words[$]=S&67108863;if(X===0&&$<V.length&&V!==this)for(;$<V.length;$++)this.words[$]=V.words[$];return this.length=Math.max(this.length,$),V!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(w){return this.clone().isub(w)};function T(q,w,S){S.negative=w.negative^q.negative;var B=q.length+w.length|0;S.length=B,B=B-1|0;var V=q.words[0]|0,z=w.words[0]|0,X=V*z,$=X&67108863,Y=X/67108864|0;S.words[0]=$;for(var I=1;I<B;I++){for(var W=Y>>>26,xe=Y&67108863,be=Math.min(I,w.length-1),we=Math.max(0,I-q.length+1);we<=be;we++){var Me=I-we|0;V=q.words[Me]|0,z=w.words[we]|0,X=V*z+xe,W+=X/67108864|0,xe=X&67108863}S.words[I]=xe|0,Y=W|0}return Y!==0?S.words[I]=Y|0:S.length--,S._strip()}var O=function(w,S,B){var V=w.words,z=S.words,X=B.words,$=0,Y,I,W,xe=V[0]|0,be=xe&8191,we=xe>>>13,Me=V[1]|0,We=Me&8191,Ze=Me>>>13,Ni=V[2]|0,He=Ni&8191,ut=Ni>>>13,af=V[3]|0,Lt=af&8191,kt=af>>>13,ys=V[4]|0,mt=ys&8191,Ft=ys>>>13,ta=V[5]|0,Pt=ta&8191,Ut=ta>>>13,Vh=V[6]|0,_e=Vh&8191,ht=Vh>>>13,F=V[7]|0,H=F&8191,Z=F>>>13,te=V[8]|0,oe=te&8191,ne=te>>>13,pe=V[9]|0,se=pe&8191,le=pe>>>13,Pe=z[0]|0,Oe=Pe&8191,Ee=Pe>>>13,Xe=z[1]|0,Ye=Xe&8191,Ke=Xe>>>13,uc=z[2]|0,wt=uc&8191,Gt=uc>>>13,I2=z[3]|0,Yt=I2&8191,zt=I2>>>13,T2=z[4]|0,Wt=T2&8191,Xt=T2>>>13,S2=z[5]|0,Jt=S2&8191,$t=S2>>>13,C2=z[6]|0,Zt=C2&8191,Qt=C2>>>13,A2=z[7]|0,er=A2&8191,tr=A2>>>13,O2=z[8]|0,rr=O2&8191,nr=O2>>>13,D2=z[9]|0,E=D2&8191,C=D2>>>13;B.negative=w.negative^S.negative,B.length=19,Y=Math.imul(be,Oe),I=Math.imul(be,Ee),I=I+Math.imul(we,Oe)|0,W=Math.imul(we,Ee);var P=($+Y|0)+((I&8191)<<13)|0;$=(W+(I>>>13)|0)+(P>>>26)|0,P&=67108863,Y=Math.imul(We,Oe),I=Math.imul(We,Ee),I=I+Math.imul(Ze,Oe)|0,W=Math.imul(Ze,Ee),Y=Y+Math.imul(be,Ye)|0,I=I+Math.imul(be,Ke)|0,I=I+Math.imul(we,Ye)|0,W=W+Math.imul(we,Ke)|0;var N=($+Y|0)+((I&8191)<<13)|0;$=(W+(I>>>13)|0)+(N>>>26)|0,N&=67108863,Y=Math.imul(He,Oe),I=Math.imul(He,Ee),I=I+Math.imul(ut,Oe)|0,W=Math.imul(ut,Ee),Y=Y+Math.imul(We,Ye)|0,I=I+Math.imul(We,Ke)|0,I=I+Math.imul(Ze,Ye)|0,W=W+Math.imul(Ze,Ke)|0,Y=Y+Math.imul(be,wt)|0,I=I+Math.imul(be,Gt)|0,I=I+Math.imul(we,wt)|0,W=W+Math.imul(we,Gt)|0;var k=($+Y|0)+((I&8191)<<13)|0;$=(W+(I>>>13)|0)+(k>>>26)|0,k&=67108863,Y=Math.imul(Lt,Oe),I=Math.imul(Lt,Ee),I=I+Math.imul(kt,Oe)|0,W=Math.imul(kt,Ee),Y=Y+Math.imul(He,Ye)|0,I=I+Math.imul(He,Ke)|0,I=I+Math.imul(ut,Ye)|0,W=W+Math.imul(ut,Ke)|0,Y=Y+Math.imul(We,wt)|0,I=I+Math.imul(We,Gt)|0,I=I+Math.imul(Ze,wt)|0,W=W+Math.imul(Ze,Gt)|0,Y=Y+Math.imul(be,Yt)|0,I=I+Math.imul(be,zt)|0,I=I+Math.imul(we,Yt)|0,W=W+Math.imul(we,zt)|0;var j=($+Y|0)+((I&8191)<<13)|0;$=(W+(I>>>13)|0)+(j>>>26)|0,j&=67108863,Y=Math.imul(mt,Oe),I=Math.imul(mt,Ee),I=I+Math.imul(Ft,Oe)|0,W=Math.imul(Ft,Ee),Y=Y+Math.imul(Lt,Ye)|0,I=I+Math.imul(Lt,Ke)|0,I=I+Math.imul(kt,Ye)|0,W=W+Math.imul(kt,Ke)|0,Y=Y+Math.imul(He,wt)|0,I=I+Math.imul(He,Gt)|0,I=I+Math.imul(ut,wt)|0,W=W+Math.imul(ut,Gt)|0,Y=Y+Math.imul(We,Yt)|0,I=I+Math.imul(We,zt)|0,I=I+Math.imul(Ze,Yt)|0,W=W+Math.imul(Ze,zt)|0,Y=Y+Math.imul(be,Wt)|0,I=I+Math.imul(be,Xt)|0,I=I+Math.imul(we,Wt)|0,W=W+Math.imul(we,Xt)|0;var J=($+Y|0)+((I&8191)<<13)|0;$=(W+(I>>>13)|0)+(J>>>26)|0,J&=67108863,Y=Math.imul(Pt,Oe),I=Math.imul(Pt,Ee),I=I+Math.imul(Ut,Oe)|0,W=Math.imul(Ut,Ee),Y=Y+Math.imul(mt,Ye)|0,I=I+Math.imul(mt,Ke)|0,I=I+Math.imul(Ft,Ye)|0,W=W+Math.imul(Ft,Ke)|0,Y=Y+Math.imul(Lt,wt)|0,I=I+Math.imul(Lt,Gt)|0,I=I+Math.imul(kt,wt)|0,W=W+Math.imul(kt,Gt)|0,Y=Y+Math.imul(He,Yt)|0,I=I+Math.imul(He,zt)|0,I=I+Math.imul(ut,Yt)|0,W=W+Math.imul(ut,zt)|0,Y=Y+Math.imul(We,Wt)|0,I=I+Math.imul(We,Xt)|0,I=I+Math.imul(Ze,Wt)|0,W=W+Math.imul(Ze,Xt)|0,Y=Y+Math.imul(be,Jt)|0,I=I+Math.imul(be,$t)|0,I=I+Math.imul(we,Jt)|0,W=W+Math.imul(we,$t)|0;var Q=($+Y|0)+((I&8191)<<13)|0;$=(W+(I>>>13)|0)+(Q>>>26)|0,Q&=67108863,Y=Math.imul(_e,Oe),I=Math.imul(_e,Ee),I=I+Math.imul(ht,Oe)|0,W=Math.imul(ht,Ee),Y=Y+Math.imul(Pt,Ye)|0,I=I+Math.imul(Pt,Ke)|0,I=I+Math.imul(Ut,Ye)|0,W=W+Math.imul(Ut,Ke)|0,Y=Y+Math.imul(mt,wt)|0,I=I+Math.imul(mt,Gt)|0,I=I+Math.imul(Ft,wt)|0,W=W+Math.imul(Ft,Gt)|0,Y=Y+Math.imul(Lt,Yt)|0,I=I+Math.imul(Lt,zt)|0,I=I+Math.imul(kt,Yt)|0,W=W+Math.imul(kt,zt)|0,Y=Y+Math.imul(He,Wt)|0,I=I+Math.imul(He,Xt)|0,I=I+Math.imul(ut,Wt)|0,W=W+Math.imul(ut,Xt)|0,Y=Y+Math.imul(We,Jt)|0,I=I+Math.imul(We,$t)|0,I=I+Math.imul(Ze,Jt)|0,W=W+Math.imul(Ze,$t)|0,Y=Y+Math.imul(be,Zt)|0,I=I+Math.imul(be,Qt)|0,I=I+Math.imul(we,Zt)|0,W=W+Math.imul(we,Qt)|0;var re=($+Y|0)+((I&8191)<<13)|0;$=(W+(I>>>13)|0)+(re>>>26)|0,re&=67108863,Y=Math.imul(H,Oe),I=Math.imul(H,Ee),I=I+Math.imul(Z,Oe)|0,W=Math.imul(Z,Ee),Y=Y+Math.imul(_e,Ye)|0,I=I+Math.imul(_e,Ke)|0,I=I+Math.imul(ht,Ye)|0,W=W+Math.imul(ht,Ke)|0,Y=Y+Math.imul(Pt,wt)|0,I=I+Math.imul(Pt,Gt)|0,I=I+Math.imul(Ut,wt)|0,W=W+Math.imul(Ut,Gt)|0,Y=Y+Math.imul(mt,Yt)|0,I=I+Math.imul(mt,zt)|0,I=I+Math.imul(Ft,Yt)|0,W=W+Math.imul(Ft,zt)|0,Y=Y+Math.imul(Lt,Wt)|0,I=I+Math.imul(Lt,Xt)|0,I=I+Math.imul(kt,Wt)|0,W=W+Math.imul(kt,Xt)|0,Y=Y+Math.imul(He,Jt)|0,I=I+Math.imul(He,$t)|0,I=I+Math.imul(ut,Jt)|0,W=W+Math.imul(ut,$t)|0,Y=Y+Math.imul(We,Zt)|0,I=I+Math.imul(We,Qt)|0,I=I+Math.imul(Ze,Zt)|0,W=W+Math.imul(Ze,Qt)|0,Y=Y+Math.imul(be,er)|0,I=I+Math.imul(be,tr)|0,I=I+Math.imul(we,er)|0,W=W+Math.imul(we,tr)|0;var ee=($+Y|0)+((I&8191)<<13)|0;$=(W+(I>>>13)|0)+(ee>>>26)|0,ee&=67108863,Y=Math.imul(oe,Oe),I=Math.imul(oe,Ee),I=I+Math.imul(ne,Oe)|0,W=Math.imul(ne,Ee),Y=Y+Math.imul(H,Ye)|0,I=I+Math.imul(H,Ke)|0,I=I+Math.imul(Z,Ye)|0,W=W+Math.imul(Z,Ke)|0,Y=Y+Math.imul(_e,wt)|0,I=I+Math.imul(_e,Gt)|0,I=I+Math.imul(ht,wt)|0,W=W+Math.imul(ht,Gt)|0,Y=Y+Math.imul(Pt,Yt)|0,I=I+Math.imul(Pt,zt)|0,I=I+Math.imul(Ut,Yt)|0,W=W+Math.imul(Ut,zt)|0,Y=Y+Math.imul(mt,Wt)|0,I=I+Math.imul(mt,Xt)|0,I=I+Math.imul(Ft,Wt)|0,W=W+Math.imul(Ft,Xt)|0,Y=Y+Math.imul(Lt,Jt)|0,I=I+Math.imul(Lt,$t)|0,I=I+Math.imul(kt,Jt)|0,W=W+Math.imul(kt,$t)|0,Y=Y+Math.imul(He,Zt)|0,I=I+Math.imul(He,Qt)|0,I=I+Math.imul(ut,Zt)|0,W=W+Math.imul(ut,Qt)|0,Y=Y+Math.imul(We,er)|0,I=I+Math.imul(We,tr)|0,I=I+Math.imul(Ze,er)|0,W=W+Math.imul(Ze,tr)|0,Y=Y+Math.imul(be,rr)|0,I=I+Math.imul(be,nr)|0,I=I+Math.imul(we,rr)|0,W=W+Math.imul(we,nr)|0;var ae=($+Y|0)+((I&8191)<<13)|0;$=(W+(I>>>13)|0)+(ae>>>26)|0,ae&=67108863,Y=Math.imul(se,Oe),I=Math.imul(se,Ee),I=I+Math.imul(le,Oe)|0,W=Math.imul(le,Ee),Y=Y+Math.imul(oe,Ye)|0,I=I+Math.imul(oe,Ke)|0,I=I+Math.imul(ne,Ye)|0,W=W+Math.imul(ne,Ke)|0,Y=Y+Math.imul(H,wt)|0,I=I+Math.imul(H,Gt)|0,I=I+Math.imul(Z,wt)|0,W=W+Math.imul(Z,Gt)|0,Y=Y+Math.imul(_e,Yt)|0,I=I+Math.imul(_e,zt)|0,I=I+Math.imul(ht,Yt)|0,W=W+Math.imul(ht,zt)|0,Y=Y+Math.imul(Pt,Wt)|0,I=I+Math.imul(Pt,Xt)|0,I=I+Math.imul(Ut,Wt)|0,W=W+Math.imul(Ut,Xt)|0,Y=Y+Math.imul(mt,Jt)|0,I=I+Math.imul(mt,$t)|0,I=I+Math.imul(Ft,Jt)|0,W=W+Math.imul(Ft,$t)|0,Y=Y+Math.imul(Lt,Zt)|0,I=I+Math.imul(Lt,Qt)|0,I=I+Math.imul(kt,Zt)|0,W=W+Math.imul(kt,Qt)|0,Y=Y+Math.imul(He,er)|0,I=I+Math.imul(He,tr)|0,I=I+Math.imul(ut,er)|0,W=W+Math.imul(ut,tr)|0,Y=Y+Math.imul(We,rr)|0,I=I+Math.imul(We,nr)|0,I=I+Math.imul(Ze,rr)|0,W=W+Math.imul(Ze,nr)|0,Y=Y+Math.imul(be,E)|0,I=I+Math.imul(be,C)|0,I=I+Math.imul(we,E)|0,W=W+Math.imul(we,C)|0;var fe=($+Y|0)+((I&8191)<<13)|0;$=(W+(I>>>13)|0)+(fe>>>26)|0,fe&=67108863,Y=Math.imul(se,Ye),I=Math.imul(se,Ke),I=I+Math.imul(le,Ye)|0,W=Math.imul(le,Ke),Y=Y+Math.imul(oe,wt)|0,I=I+Math.imul(oe,Gt)|0,I=I+Math.imul(ne,wt)|0,W=W+Math.imul(ne,Gt)|0,Y=Y+Math.imul(H,Yt)|0,I=I+Math.imul(H,zt)|0,I=I+Math.imul(Z,Yt)|0,W=W+Math.imul(Z,zt)|0,Y=Y+Math.imul(_e,Wt)|0,I=I+Math.imul(_e,Xt)|0,I=I+Math.imul(ht,Wt)|0,W=W+Math.imul(ht,Xt)|0,Y=Y+Math.imul(Pt,Jt)|0,I=I+Math.imul(Pt,$t)|0,I=I+Math.imul(Ut,Jt)|0,W=W+Math.imul(Ut,$t)|0,Y=Y+Math.imul(mt,Zt)|0,I=I+Math.imul(mt,Qt)|0,I=I+Math.imul(Ft,Zt)|0,W=W+Math.imul(Ft,Qt)|0,Y=Y+Math.imul(Lt,er)|0,I=I+Math.imul(Lt,tr)|0,I=I+Math.imul(kt,er)|0,W=W+Math.imul(kt,tr)|0,Y=Y+Math.imul(He,rr)|0,I=I+Math.imul(He,nr)|0,I=I+Math.imul(ut,rr)|0,W=W+Math.imul(ut,nr)|0,Y=Y+Math.imul(We,E)|0,I=I+Math.imul(We,C)|0,I=I+Math.imul(Ze,E)|0,W=W+Math.imul(Ze,C)|0;var ge=($+Y|0)+((I&8191)<<13)|0;$=(W+(I>>>13)|0)+(ge>>>26)|0,ge&=67108863,Y=Math.imul(se,wt),I=Math.imul(se,Gt),I=I+Math.imul(le,wt)|0,W=Math.imul(le,Gt),Y=Y+Math.imul(oe,Yt)|0,I=I+Math.imul(oe,zt)|0,I=I+Math.imul(ne,Yt)|0,W=W+Math.imul(ne,zt)|0,Y=Y+Math.imul(H,Wt)|0,I=I+Math.imul(H,Xt)|0,I=I+Math.imul(Z,Wt)|0,W=W+Math.imul(Z,Xt)|0,Y=Y+Math.imul(_e,Jt)|0,I=I+Math.imul(_e,$t)|0,I=I+Math.imul(ht,Jt)|0,W=W+Math.imul(ht,$t)|0,Y=Y+Math.imul(Pt,Zt)|0,I=I+Math.imul(Pt,Qt)|0,I=I+Math.imul(Ut,Zt)|0,W=W+Math.imul(Ut,Qt)|0,Y=Y+Math.imul(mt,er)|0,I=I+Math.imul(mt,tr)|0,I=I+Math.imul(Ft,er)|0,W=W+Math.imul(Ft,tr)|0,Y=Y+Math.imul(Lt,rr)|0,I=I+Math.imul(Lt,nr)|0,I=I+Math.imul(kt,rr)|0,W=W+Math.imul(kt,nr)|0,Y=Y+Math.imul(He,E)|0,I=I+Math.imul(He,C)|0,I=I+Math.imul(ut,E)|0,W=W+Math.imul(ut,C)|0;var Te=($+Y|0)+((I&8191)<<13)|0;$=(W+(I>>>13)|0)+(Te>>>26)|0,Te&=67108863,Y=Math.imul(se,Yt),I=Math.imul(se,zt),I=I+Math.imul(le,Yt)|0,W=Math.imul(le,zt),Y=Y+Math.imul(oe,Wt)|0,I=I+Math.imul(oe,Xt)|0,I=I+Math.imul(ne,Wt)|0,W=W+Math.imul(ne,Xt)|0,Y=Y+Math.imul(H,Jt)|0,I=I+Math.imul(H,$t)|0,I=I+Math.imul(Z,Jt)|0,W=W+Math.imul(Z,$t)|0,Y=Y+Math.imul(_e,Zt)|0,I=I+Math.imul(_e,Qt)|0,I=I+Math.imul(ht,Zt)|0,W=W+Math.imul(ht,Qt)|0,Y=Y+Math.imul(Pt,er)|0,I=I+Math.imul(Pt,tr)|0,I=I+Math.imul(Ut,er)|0,W=W+Math.imul(Ut,tr)|0,Y=Y+Math.imul(mt,rr)|0,I=I+Math.imul(mt,nr)|0,I=I+Math.imul(Ft,rr)|0,W=W+Math.imul(Ft,nr)|0,Y=Y+Math.imul(Lt,E)|0,I=I+Math.imul(Lt,C)|0,I=I+Math.imul(kt,E)|0,W=W+Math.imul(kt,C)|0;var Ve=($+Y|0)+((I&8191)<<13)|0;$=(W+(I>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,Y=Math.imul(se,Wt),I=Math.imul(se,Xt),I=I+Math.imul(le,Wt)|0,W=Math.imul(le,Xt),Y=Y+Math.imul(oe,Jt)|0,I=I+Math.imul(oe,$t)|0,I=I+Math.imul(ne,Jt)|0,W=W+Math.imul(ne,$t)|0,Y=Y+Math.imul(H,Zt)|0,I=I+Math.imul(H,Qt)|0,I=I+Math.imul(Z,Zt)|0,W=W+Math.imul(Z,Qt)|0,Y=Y+Math.imul(_e,er)|0,I=I+Math.imul(_e,tr)|0,I=I+Math.imul(ht,er)|0,W=W+Math.imul(ht,tr)|0,Y=Y+Math.imul(Pt,rr)|0,I=I+Math.imul(Pt,nr)|0,I=I+Math.imul(Ut,rr)|0,W=W+Math.imul(Ut,nr)|0,Y=Y+Math.imul(mt,E)|0,I=I+Math.imul(mt,C)|0,I=I+Math.imul(Ft,E)|0,W=W+Math.imul(Ft,C)|0;var qe=($+Y|0)+((I&8191)<<13)|0;$=(W+(I>>>13)|0)+(qe>>>26)|0,qe&=67108863,Y=Math.imul(se,Jt),I=Math.imul(se,$t),I=I+Math.imul(le,Jt)|0,W=Math.imul(le,$t),Y=Y+Math.imul(oe,Zt)|0,I=I+Math.imul(oe,Qt)|0,I=I+Math.imul(ne,Zt)|0,W=W+Math.imul(ne,Qt)|0,Y=Y+Math.imul(H,er)|0,I=I+Math.imul(H,tr)|0,I=I+Math.imul(Z,er)|0,W=W+Math.imul(Z,tr)|0,Y=Y+Math.imul(_e,rr)|0,I=I+Math.imul(_e,nr)|0,I=I+Math.imul(ht,rr)|0,W=W+Math.imul(ht,nr)|0,Y=Y+Math.imul(Pt,E)|0,I=I+Math.imul(Pt,C)|0,I=I+Math.imul(Ut,E)|0,W=W+Math.imul(Ut,C)|0;var Nr=($+Y|0)+((I&8191)<<13)|0;$=(W+(I>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,Y=Math.imul(se,Zt),I=Math.imul(se,Qt),I=I+Math.imul(le,Zt)|0,W=Math.imul(le,Qt),Y=Y+Math.imul(oe,er)|0,I=I+Math.imul(oe,tr)|0,I=I+Math.imul(ne,er)|0,W=W+Math.imul(ne,tr)|0,Y=Y+Math.imul(H,rr)|0,I=I+Math.imul(H,nr)|0,I=I+Math.imul(Z,rr)|0,W=W+Math.imul(Z,nr)|0,Y=Y+Math.imul(_e,E)|0,I=I+Math.imul(_e,C)|0,I=I+Math.imul(ht,E)|0,W=W+Math.imul(ht,C)|0;var Et=($+Y|0)+((I&8191)<<13)|0;$=(W+(I>>>13)|0)+(Et>>>26)|0,Et&=67108863,Y=Math.imul(se,er),I=Math.imul(se,tr),I=I+Math.imul(le,er)|0,W=Math.imul(le,tr),Y=Y+Math.imul(oe,rr)|0,I=I+Math.imul(oe,nr)|0,I=I+Math.imul(ne,rr)|0,W=W+Math.imul(ne,nr)|0,Y=Y+Math.imul(H,E)|0,I=I+Math.imul(H,C)|0,I=I+Math.imul(Z,E)|0,W=W+Math.imul(Z,C)|0;var Mi=($+Y|0)+((I&8191)<<13)|0;$=(W+(I>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,Y=Math.imul(se,rr),I=Math.imul(se,nr),I=I+Math.imul(le,rr)|0,W=Math.imul(le,nr),Y=Y+Math.imul(oe,E)|0,I=I+Math.imul(oe,C)|0,I=I+Math.imul(ne,E)|0,W=W+Math.imul(ne,C)|0;var ft=($+Y|0)+((I&8191)<<13)|0;$=(W+(I>>>13)|0)+(ft>>>26)|0,ft&=67108863,Y=Math.imul(se,E),I=Math.imul(se,C),I=I+Math.imul(le,E)|0,W=Math.imul(le,C);var yr=($+Y|0)+((I&8191)<<13)|0;return $=(W+(I>>>13)|0)+(yr>>>26)|0,yr&=67108863,X[0]=P,X[1]=N,X[2]=k,X[3]=j,X[4]=J,X[5]=Q,X[6]=re,X[7]=ee,X[8]=ae,X[9]=fe,X[10]=ge,X[11]=Te,X[12]=Ve,X[13]=qe,X[14]=Nr,X[15]=Et,X[16]=Mi,X[17]=ft,X[18]=yr,$!==0&&(X[19]=$,B.length++),B};Math.imul||(O=T);function R(q,w,S){S.negative=w.negative^q.negative,S.length=q.length+w.length;for(var B=0,V=0,z=0;z<S.length-1;z++){var X=V;V=0;for(var $=B&67108863,Y=Math.min(z,w.length-1),I=Math.max(0,z-q.length+1);I<=Y;I++){var W=z-I,xe=q.words[W]|0,be=w.words[I]|0,we=xe*be,Me=we&67108863;X=X+(we/67108864|0)|0,Me=Me+$|0,$=Me&67108863,X=X+(Me>>>26)|0,V+=X>>>26,X&=67108863}S.words[z]=$,B=X,X=V}return B!==0?S.words[z]=B:S.length--,S._strip()}function D(q,w,S){return R(q,w,S)}i.prototype.mulTo=function(w,S){var B,V=this.length+w.length;return this.length===10&&w.length===10?B=O(this,w,S):V<63?B=T(this,w,S):V<1024?B=R(this,w,S):B=D(this,w,S),B};function U(q,w){this.x=q,this.y=w}U.prototype.makeRBT=function(w){for(var S=new Array(w),B=i.prototype._countBits(w)-1,V=0;V<w;V++)S[V]=this.revBin(V,B,w);return S},U.prototype.revBin=function(w,S,B){if(w===0||w===B-1)return w;for(var V=0,z=0;z<S;z++)V|=(w&1)<<S-z-1,w>>=1;return V},U.prototype.permute=function(w,S,B,V,z,X){for(var $=0;$<X;$++)V[$]=S[w[$]],z[$]=B[w[$]]},U.prototype.transform=function(w,S,B,V,z,X){this.permute(X,w,S,B,V,z);for(var $=1;$<z;$<<=1)for(var Y=$<<1,I=Math.cos(2*Math.PI/Y),W=Math.sin(2*Math.PI/Y),xe=0;xe<z;xe+=Y)for(var be=I,we=W,Me=0;Me<$;Me++){var We=B[xe+Me],Ze=V[xe+Me],Ni=B[xe+Me+$],He=V[xe+Me+$],ut=be*Ni-we*He;He=be*He+we*Ni,Ni=ut,B[xe+Me]=We+Ni,V[xe+Me]=Ze+He,B[xe+Me+$]=We-Ni,V[xe+Me+$]=Ze-He,Me!==Y&&(ut=I*be-W*we,we=I*we+W*be,be=ut)}},U.prototype.guessLen13b=function(w,S){var B=Math.max(S,w)|1,V=B&1,z=0;for(B=B/2|0;B;B=B>>>1)z++;return 1<<z+1+V},U.prototype.conjugate=function(w,S,B){if(!(B<=1))for(var V=0;V<B/2;V++){var z=w[V];w[V]=w[B-V-1],w[B-V-1]=z,z=S[V],S[V]=-S[B-V-1],S[B-V-1]=-z}},U.prototype.normalize13b=function(w,S){for(var B=0,V=0;V<S/2;V++){var z=Math.round(w[2*V+1]/S)*8192+Math.round(w[2*V]/S)+B;w[V]=z&67108863,z<67108864?B=0:B=z/67108864|0}return w},U.prototype.convert13b=function(w,S,B,V){for(var z=0,X=0;X<S;X++)z=z+(w[X]|0),B[2*X]=z&8191,z=z>>>13,B[2*X+1]=z&8191,z=z>>>13;for(X=2*S;X<V;++X)B[X]=0;t(z===0),t((z&-8192)===0)},U.prototype.stub=function(w){for(var S=new Array(w),B=0;B<w;B++)S[B]=0;return S},U.prototype.mulp=function(w,S,B){var V=2*this.guessLen13b(w.length,S.length),z=this.makeRBT(V),X=this.stub(V),$=new Array(V),Y=new Array(V),I=new Array(V),W=new Array(V),xe=new Array(V),be=new Array(V),we=B.words;we.length=V,this.convert13b(w.words,w.length,$,V),this.convert13b(S.words,S.length,W,V),this.transform($,X,Y,I,V,z),this.transform(W,X,xe,be,V,z);for(var Me=0;Me<V;Me++){var We=Y[Me]*xe[Me]-I[Me]*be[Me];I[Me]=Y[Me]*be[Me]+I[Me]*xe[Me],Y[Me]=We}return this.conjugate(Y,I,V),this.transform(Y,I,we,X,V,z),this.conjugate(we,X,V),this.normalize13b(we,V),B.negative=w.negative^S.negative,B.length=w.length+S.length,B._strip()},i.prototype.mul=function(w){var S=new i(null);return S.words=new Array(this.length+w.length),this.mulTo(w,S)},i.prototype.mulf=function(w){var S=new i(null);return S.words=new Array(this.length+w.length),D(this,w,S)},i.prototype.imul=function(w){return this.clone().mulTo(w,this)},i.prototype.imuln=function(w){var S=w<0;S&&(w=-w),t(typeof w=="number"),t(w<67108864);for(var B=0,V=0;V<this.length;V++){var z=(this.words[V]|0)*w,X=(z&67108863)+(B&67108863);B>>=26,B+=z/67108864|0,B+=X>>>26,this.words[V]=X&67108863}return B!==0&&(this.words[V]=B,this.length++),S?this.ineg():this},i.prototype.muln=function(w){return this.clone().imuln(w)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(w){var S=_(w);if(S.length===0)return new i(1);for(var B=this,V=0;V<S.length&&S[V]===0;V++,B=B.sqr());if(++V<S.length)for(var z=B.sqr();V<S.length;V++,z=z.sqr())S[V]!==0&&(B=B.mul(z));return B},i.prototype.iushln=function(w){t(typeof w=="number"&&w>=0);var S=w%26,B=(w-S)/26,V=67108863>>>26-S<<26-S,z;if(S!==0){var X=0;for(z=0;z<this.length;z++){var $=this.words[z]&V,Y=(this.words[z]|0)-$<<S;this.words[z]=Y|X,X=$>>>26-S}X&&(this.words[z]=X,this.length++)}if(B!==0){for(z=this.length-1;z>=0;z--)this.words[z+B]=this.words[z];for(z=0;z<B;z++)this.words[z]=0;this.length+=B}return this._strip()},i.prototype.ishln=function(w){return t(this.negative===0),this.iushln(w)},i.prototype.iushrn=function(w,S,B){t(typeof w=="number"&&w>=0);var V;S?V=(S-S%26)/26:V=0;var z=w%26,X=Math.min((w-z)/26,this.length),$=67108863^67108863>>>z<<z,Y=B;if(V-=X,V=Math.max(0,V),Y){for(var I=0;I<X;I++)Y.words[I]=this.words[I];Y.length=X}if(X!==0)if(this.length>X)for(this.length-=X,I=0;I<this.length;I++)this.words[I]=this.words[I+X];else this.words[0]=0,this.length=1;var W=0;for(I=this.length-1;I>=0&&(W!==0||I>=V);I--){var xe=this.words[I]|0;this.words[I]=W<<26-z|xe>>>z,W=xe&$}return Y&&W!==0&&(Y.words[Y.length++]=W),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(w,S,B){return t(this.negative===0),this.iushrn(w,S,B)},i.prototype.shln=function(w){return this.clone().ishln(w)},i.prototype.ushln=function(w){return this.clone().iushln(w)},i.prototype.shrn=function(w){return this.clone().ishrn(w)},i.prototype.ushrn=function(w){return this.clone().iushrn(w)},i.prototype.testn=function(w){t(typeof w=="number"&&w>=0);var S=w%26,B=(w-S)/26,V=1<<S;if(this.length<=B)return!1;var z=this.words[B];return!!(z&V)},i.prototype.imaskn=function(w){t(typeof w=="number"&&w>=0);var S=w%26,B=(w-S)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=B)return this;if(S!==0&&B++,this.length=Math.min(B,this.length),S!==0){var V=67108863^67108863>>>S<<S;this.words[this.length-1]&=V}return this._strip()},i.prototype.maskn=function(w){return this.clone().imaskn(w)},i.prototype.iaddn=function(w){return t(typeof w=="number"),t(w<67108864),w<0?this.isubn(-w):this.negative!==0?this.length===1&&(this.words[0]|0)<=w?(this.words[0]=w-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(w),this.negative=1,this):this._iaddn(w)},i.prototype._iaddn=function(w){this.words[0]+=w;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},i.prototype.isubn=function(w){if(t(typeof w=="number"),t(w<67108864),w<0)return this.iaddn(-w);if(this.negative!==0)return this.negative=0,this.iaddn(w),this.negative=1,this;if(this.words[0]-=w,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this._strip()},i.prototype.addn=function(w){return this.clone().iaddn(w)},i.prototype.subn=function(w){return this.clone().isubn(w)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(w,S,B){var V=w.length+B,z;this._expand(V);var X,$=0;for(z=0;z<w.length;z++){X=(this.words[z+B]|0)+$;var Y=(w.words[z]|0)*S;X-=Y&67108863,$=(X>>26)-(Y/67108864|0),this.words[z+B]=X&67108863}for(;z<this.length-B;z++)X=(this.words[z+B]|0)+$,$=X>>26,this.words[z+B]=X&67108863;if($===0)return this._strip();for(t($===-1),$=0,z=0;z<this.length;z++)X=-(this.words[z]|0)+$,$=X>>26,this.words[z]=X&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(w,S){var B=this.length-w.length,V=this.clone(),z=w,X=z.words[z.length-1]|0,$=this._countBits(X);B=26-$,B!==0&&(z=z.ushln(B),V.iushln(B),X=z.words[z.length-1]|0);var Y=V.length-z.length,I;if(S!=="mod"){I=new i(null),I.length=Y+1,I.words=new Array(I.length);for(var W=0;W<I.length;W++)I.words[W]=0}var xe=V.clone()._ishlnsubmul(z,1,Y);xe.negative===0&&(V=xe,I&&(I.words[Y]=1));for(var be=Y-1;be>=0;be--){var we=(V.words[z.length+be]|0)*67108864+(V.words[z.length+be-1]|0);for(we=Math.min(we/X|0,67108863),V._ishlnsubmul(z,we,be);V.negative!==0;)we--,V.negative=0,V._ishlnsubmul(z,1,be),V.isZero()||(V.negative^=1);I&&(I.words[be]=we)}return I&&I._strip(),V._strip(),S!=="div"&&B!==0&&V.iushrn(B),{div:I||null,mod:V}},i.prototype.divmod=function(w,S,B){if(t(!w.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var V,z,X;return this.negative!==0&&w.negative===0?(X=this.neg().divmod(w,S),S!=="mod"&&(V=X.div.neg()),S!=="div"&&(z=X.mod.neg(),B&&z.negative!==0&&z.iadd(w)),{div:V,mod:z}):this.negative===0&&w.negative!==0?(X=this.divmod(w.neg(),S),S!=="mod"&&(V=X.div.neg()),{div:V,mod:X.mod}):(this.negative&w.negative)!==0?(X=this.neg().divmod(w.neg(),S),S!=="div"&&(z=X.mod.neg(),B&&z.negative!==0&&z.isub(w)),{div:X.div,mod:z}):w.length>this.length||this.cmp(w)<0?{div:new i(0),mod:this}:w.length===1?S==="div"?{div:this.divn(w.words[0]),mod:null}:S==="mod"?{div:null,mod:new i(this.modrn(w.words[0]))}:{div:this.divn(w.words[0]),mod:new i(this.modrn(w.words[0]))}:this._wordDiv(w,S)},i.prototype.div=function(w){return this.divmod(w,"div",!1).div},i.prototype.mod=function(w){return this.divmod(w,"mod",!1).mod},i.prototype.umod=function(w){return this.divmod(w,"mod",!0).mod},i.prototype.divRound=function(w){var S=this.divmod(w);if(S.mod.isZero())return S.div;var B=S.div.negative!==0?S.mod.isub(w):S.mod,V=w.ushrn(1),z=w.andln(1),X=B.cmp(V);return X<0||z===1&&X===0?S.div:S.div.negative!==0?S.div.isubn(1):S.div.iaddn(1)},i.prototype.modrn=function(w){var S=w<0;S&&(w=-w),t(w<=67108863);for(var B=(1<<26)%w,V=0,z=this.length-1;z>=0;z--)V=(B*V+(this.words[z]|0))%w;return S?-V:V},i.prototype.modn=function(w){return this.modrn(w)},i.prototype.idivn=function(w){var S=w<0;S&&(w=-w),t(w<=67108863);for(var B=0,V=this.length-1;V>=0;V--){var z=(this.words[V]|0)+B*67108864;this.words[V]=z/w|0,B=z%w}return this._strip(),S?this.ineg():this},i.prototype.divn=function(w){return this.clone().idivn(w)},i.prototype.egcd=function(w){t(w.negative===0),t(!w.isZero());var S=this,B=w.clone();S.negative!==0?S=S.umod(w):S=S.clone();for(var V=new i(1),z=new i(0),X=new i(0),$=new i(1),Y=0;S.isEven()&&B.isEven();)S.iushrn(1),B.iushrn(1),++Y;for(var I=B.clone(),W=S.clone();!S.isZero();){for(var xe=0,be=1;(S.words[0]&be)===0&&xe<26;++xe,be<<=1);if(xe>0)for(S.iushrn(xe);xe-- >0;)(V.isOdd()||z.isOdd())&&(V.iadd(I),z.isub(W)),V.iushrn(1),z.iushrn(1);for(var we=0,Me=1;(B.words[0]&Me)===0&&we<26;++we,Me<<=1);if(we>0)for(B.iushrn(we);we-- >0;)(X.isOdd()||$.isOdd())&&(X.iadd(I),$.isub(W)),X.iushrn(1),$.iushrn(1);S.cmp(B)>=0?(S.isub(B),V.isub(X),z.isub($)):(B.isub(S),X.isub(V),$.isub(z))}return{a:X,b:$,gcd:B.iushln(Y)}},i.prototype._invmp=function(w){t(w.negative===0),t(!w.isZero());var S=this,B=w.clone();S.negative!==0?S=S.umod(w):S=S.clone();for(var V=new i(1),z=new i(0),X=B.clone();S.cmpn(1)>0&&B.cmpn(1)>0;){for(var $=0,Y=1;(S.words[0]&Y)===0&&$<26;++$,Y<<=1);if($>0)for(S.iushrn($);$-- >0;)V.isOdd()&&V.iadd(X),V.iushrn(1);for(var I=0,W=1;(B.words[0]&W)===0&&I<26;++I,W<<=1);if(I>0)for(B.iushrn(I);I-- >0;)z.isOdd()&&z.iadd(X),z.iushrn(1);S.cmp(B)>=0?(S.isub(B),V.isub(z)):(B.isub(S),z.isub(V))}var xe;return S.cmpn(1)===0?xe=V:xe=z,xe.cmpn(0)<0&&xe.iadd(w),xe},i.prototype.gcd=function(w){if(this.isZero())return w.abs();if(w.isZero())return this.abs();var S=this.clone(),B=w.clone();S.negative=0,B.negative=0;for(var V=0;S.isEven()&&B.isEven();V++)S.iushrn(1),B.iushrn(1);do{for(;S.isEven();)S.iushrn(1);for(;B.isEven();)B.iushrn(1);var z=S.cmp(B);if(z<0){var X=S;S=B,B=X}else if(z===0||B.cmpn(1)===0)break;S.isub(B)}while(!0);return B.iushln(V)},i.prototype.invm=function(w){return this.egcd(w).a.umod(w)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(w){return this.words[0]&w},i.prototype.bincn=function(w){t(typeof w=="number");var S=w%26,B=(w-S)/26,V=1<<S;if(this.length<=B)return this._expand(B+1),this.words[B]|=V,this;for(var z=V,X=B;z!==0&&X<this.length;X++){var $=this.words[X]|0;$+=z,z=$>>>26,$&=67108863,this.words[X]=$}return z!==0&&(this.words[X]=z,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(w){var S=w<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;this._strip();var B;if(this.length>1)B=1;else{S&&(w=-w),t(w<=67108863,"Number is too big");var V=this.words[0]|0;B=V===w?0:V<w?-1:1}return this.negative!==0?-B|0:B},i.prototype.cmp=function(w){if(this.negative!==0&&w.negative===0)return-1;if(this.negative===0&&w.negative!==0)return 1;var S=this.ucmp(w);return this.negative!==0?-S|0:S},i.prototype.ucmp=function(w){if(this.length>w.length)return 1;if(this.length<w.length)return-1;for(var S=0,B=this.length-1;B>=0;B--){var V=this.words[B]|0,z=w.words[B]|0;if(V!==z){V<z?S=-1:V>z&&(S=1);break}}return S},i.prototype.gtn=function(w){return this.cmpn(w)===1},i.prototype.gt=function(w){return this.cmp(w)===1},i.prototype.gten=function(w){return this.cmpn(w)>=0},i.prototype.gte=function(w){return this.cmp(w)>=0},i.prototype.ltn=function(w){return this.cmpn(w)===-1},i.prototype.lt=function(w){return this.cmp(w)===-1},i.prototype.lten=function(w){return this.cmpn(w)<=0},i.prototype.lte=function(w){return this.cmp(w)<=0},i.prototype.eqn=function(w){return this.cmpn(w)===0},i.prototype.eq=function(w){return this.cmp(w)===0},i.red=function(w){return new L(w)},i.prototype.toRed=function(w){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),w.convertTo(this)._forceRed(w)},i.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(w){return this.red=w,this},i.prototype.forceRed=function(w){return t(!this.red,"Already a number in reduction context"),this._forceRed(w)},i.prototype.redAdd=function(w){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,w)},i.prototype.redIAdd=function(w){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,w)},i.prototype.redSub=function(w){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,w)},i.prototype.redISub=function(w){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,w)},i.prototype.redShl=function(w){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,w)},i.prototype.redMul=function(w){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.mul(this,w)},i.prototype.redIMul=function(w){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.imul(this,w)},i.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(w){return t(this.red&&!w.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,w)};var K={k256:null,p224:null,p192:null,p25519:null};function A(q,w){this.name=q,this.p=new i(w,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}A.prototype._tmp=function(){var w=new i(null);return w.words=new Array(Math.ceil(this.n/13)),w},A.prototype.ireduce=function(w){var S=w,B;do this.split(S,this.tmp),S=this.imulK(S),S=S.iadd(this.tmp),B=S.bitLength();while(B>this.n);var V=B<this.n?-1:S.ucmp(this.p);return V===0?(S.words[0]=0,S.length=1):V>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},A.prototype.split=function(w,S){w.iushrn(this.n,0,S)},A.prototype.imulK=function(w){return w.imul(this.k)};function c(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(c,A),c.prototype.split=function(w,S){for(var B=4194303,V=Math.min(w.length,9),z=0;z<V;z++)S.words[z]=w.words[z];if(S.length=V,w.length<=9){w.words[0]=0,w.length=1;return}var X=w.words[9];for(S.words[S.length++]=X&B,z=10;z<w.length;z++){var $=w.words[z]|0;w.words[z-10]=($&B)<<4|X>>>22,X=$}X>>>=22,w.words[z-10]=X,X===0&&w.length>10?w.length-=10:w.length-=9},c.prototype.imulK=function(w){w.words[w.length]=0,w.words[w.length+1]=0,w.length+=2;for(var S=0,B=0;B<w.length;B++){var V=w.words[B]|0;S+=V*977,w.words[B]=S&67108863,S=V*64+(S/67108864|0)}return w.words[w.length-1]===0&&(w.length--,w.words[w.length-1]===0&&w.length--),w};function y(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(y,A);function x(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(x,A);function M(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(M,A),M.prototype.imulK=function(w){for(var S=0,B=0;B<w.length;B++){var V=(w.words[B]|0)*19+S,z=V&67108863;V>>>=26,w.words[B]=z,S=V}return S!==0&&(w.words[w.length++]=S),w},i._prime=function(w){if(K[w])return K[w];var S;if(w==="k256")S=new c;else if(w==="p224")S=new y;else if(w==="p192")S=new x;else if(w==="p25519")S=new M;else throw new Error("Unknown prime "+w);return K[w]=S,S};function L(q){if(typeof q=="string"){var w=i._prime(q);this.m=w.p,this.prime=w}else t(q.gtn(1),"modulus must be greater than 1"),this.m=q,this.prime=null}L.prototype._verify1=function(w){t(w.negative===0,"red works only with positives"),t(w.red,"red works only with red numbers")},L.prototype._verify2=function(w,S){t((w.negative|S.negative)===0,"red works only with positives"),t(w.red&&w.red===S.red,"red works only with red numbers")},L.prototype.imod=function(w){return this.prime?this.prime.ireduce(w)._forceRed(this):(u(w,w.umod(this.m)._forceRed(this)),w)},L.prototype.neg=function(w){return w.isZero()?w.clone():this.m.sub(w)._forceRed(this)},L.prototype.add=function(w,S){this._verify2(w,S);var B=w.add(S);return B.cmp(this.m)>=0&&B.isub(this.m),B._forceRed(this)},L.prototype.iadd=function(w,S){this._verify2(w,S);var B=w.iadd(S);return B.cmp(this.m)>=0&&B.isub(this.m),B},L.prototype.sub=function(w,S){this._verify2(w,S);var B=w.sub(S);return B.cmpn(0)<0&&B.iadd(this.m),B._forceRed(this)},L.prototype.isub=function(w,S){this._verify2(w,S);var B=w.isub(S);return B.cmpn(0)<0&&B.iadd(this.m),B},L.prototype.shl=function(w,S){return this._verify1(w),this.imod(w.ushln(S))},L.prototype.imul=function(w,S){return this._verify2(w,S),this.imod(w.imul(S))},L.prototype.mul=function(w,S){return this._verify2(w,S),this.imod(w.mul(S))},L.prototype.isqr=function(w){return this.imul(w,w.clone())},L.prototype.sqr=function(w){return this.mul(w,w)},L.prototype.sqrt=function(w){if(w.isZero())return w.clone();var S=this.m.andln(3);if(t(S%2===1),S===3){var B=this.m.add(new i(1)).iushrn(2);return this.pow(w,B)}for(var V=this.m.subn(1),z=0;!V.isZero()&&V.andln(1)===0;)z++,V.iushrn(1);t(!V.isZero());var X=new i(1).toRed(this),$=X.redNeg(),Y=this.m.subn(1).iushrn(1),I=this.m.bitLength();for(I=new i(2*I*I).toRed(this);this.pow(I,Y).cmp($)!==0;)I.redIAdd($);for(var W=this.pow(I,V),xe=this.pow(w,V.addn(1).iushrn(1)),be=this.pow(w,V),we=z;be.cmp(X)!==0;){for(var Me=be,We=0;Me.cmp(X)!==0;We++)Me=Me.redSqr();t(We<we);var Ze=this.pow(W,new i(1).iushln(we-We-1));xe=xe.redMul(Ze),W=Ze.redSqr(),be=be.redMul(W),we=We}return xe},L.prototype.invm=function(w){var S=w._invmp(this.m);return S.negative!==0?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},L.prototype.pow=function(w,S){if(S.isZero())return new i(1).toRed(this);if(S.cmpn(1)===0)return w.clone();var B=4,V=new Array(1<<B);V[0]=new i(1).toRed(this),V[1]=w;for(var z=2;z<V.length;z++)V[z]=this.mul(V[z-1],w);var X=V[0],$=0,Y=0,I=S.bitLength()%26;for(I===0&&(I=26),z=S.length-1;z>=0;z--){for(var W=S.words[z],xe=I-1;xe>=0;xe--){var be=W>>xe&1;if(X!==V[0]&&(X=this.sqr(X)),be===0&&$===0){Y=0;continue}$<<=1,$|=be,Y++,!(Y!==B&&(z!==0||xe!==0))&&(X=this.mul(X,V[$]),Y=0,$=0)}I=26}return X},L.prototype.convertTo=function(w){var S=w.umod(this.m);return S===w?S.clone():S},L.prototype.convertFrom=function(w){var S=w.clone();return S.red=null,S},i.mont=function(w){return new ce(w)};function ce(q){L.call(this,q),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ce,L),ce.prototype.convertTo=function(w){return this.imod(w.ushln(this.shift))},ce.prototype.convertFrom=function(w){var S=this.imod(w.mul(this.rinv));return S.red=null,S},ce.prototype.imul=function(w,S){if(w.isZero()||S.isZero())return w.words[0]=0,w.length=1,w;var B=w.imul(S),V=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=B.isub(V).iushrn(this.shift),X=z;return z.cmp(this.m)>=0?X=z.isub(this.m):z.cmpn(0)<0&&(X=z.iadd(this.m)),X._forceRed(this)},ce.prototype.mul=function(w,S){if(w.isZero()||S.isZero())return new i(0)._forceRed(this);var B=w.mul(S),V=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=B.isub(V).iushrn(this.shift),X=z;return z.cmp(this.m)>=0?X=z.isub(this.m):z.cmpn(0)<0&&(X=z.iadd(this.m)),X._forceRed(this)},ce.prototype.invm=function(w){var S=this.imod(w._invmp(this.m).mul(this.r2));return S._forceRed(this)}})(typeof uR>"u"||uR,qz)});var $u=b(Io=>{"use strict";d();h();var z6e=Io&&Io.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),W6e=Io&&Io.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),X6e=Io&&Io.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&z6e(e,r,t);return W6e(e,r),e},J6e=Io&&Io.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Io,"__esModule",{value:!0});Io.rlp=Io.BN=void 0;var $6e=J6e(Fz());Io.BN=$6e.default;var Z6e=X6e(qW());Io.rlp=Z6e});var lR=b(Vt=>{"use strict";d();h();Object.defineProperty(Vt,"__esModule",{value:!0});Vt.KECCAK256_RLP=Vt.KECCAK256_RLP_S=Vt.KECCAK256_RLP_ARRAY=Vt.KECCAK256_RLP_ARRAY_S=Vt.KECCAK256_NULL=Vt.KECCAK256_NULL_S=Vt.TWO_POW256=Vt.MAX_INTEGER=Vt.MAX_UINT64=void 0;var fR=no(),cR=$u();Vt.MAX_UINT64=new cR.BN("ffffffffffffffff",16);Vt.MAX_INTEGER=new cR.BN("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16);Vt.TWO_POW256=new cR.BN("10000000000000000000000000000000000000000000000000000000000000000",16);Vt.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";Vt.KECCAK256_NULL=fR.Buffer.from(Vt.KECCAK256_NULL_S,"hex");Vt.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";Vt.KECCAK256_RLP_ARRAY=fR.Buffer.from(Vt.KECCAK256_RLP_ARRAY_S,"hex");Vt.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";Vt.KECCAK256_RLP=fR.Buffer.from(Vt.KECCAK256_RLP_S,"hex")});var Fh=b(cr=>{"use strict";d();h();Object.defineProperty(cr,"__esModule",{value:!0});cr.isHexString=cr.getKeys=cr.fromAscii=cr.fromUtf8=cr.toAscii=cr.arrayContainsArray=cr.getBinarySize=cr.padToEven=cr.stripHexPrefix=cr.isHexPrefixed=void 0;function Uz(r){if(typeof r!="string")throw new Error("[isHexPrefixed] input must be type 'string', received type ".concat(typeof r));return r[0]==="0"&&r[1]==="x"}cr.isHexPrefixed=Uz;var Q6e=function(r){if(typeof r!="string")throw new Error("[stripHexPrefix] input must be type 'string', received ".concat(typeof r));return Uz(r)?r.slice(2):r};cr.stripHexPrefix=Q6e;function Lz(r){var e=r;if(typeof e!="string")throw new Error("[padToEven] value must be type 'string', received ".concat(typeof e));return e.length%2&&(e="0".concat(e)),e}cr.padToEven=Lz;function ebe(r){if(typeof r!="string")throw new Error("[getBinarySize] method requires input type 'string', recieved ".concat(typeof r));return m.Buffer.byteLength(r,"utf8")}cr.getBinarySize=ebe;function tbe(r,e,t){if(Array.isArray(r)!==!0)throw new Error("[arrayContainsArray] method requires input 'superset' to be an array, got type '".concat(typeof r,"'"));if(Array.isArray(e)!==!0)throw new Error("[arrayContainsArray] method requires input 'subset' to be an array, got type '".concat(typeof e,"'"));return e[t?"some":"every"](function(n){return r.indexOf(n)>=0})}cr.arrayContainsArray=tbe;function rbe(r){var e="",t=0,n=r.length;for(r.substring(0,2)==="0x"&&(t=2);t<n;t+=2){var i=parseInt(r.substr(t,2),16);e+=String.fromCharCode(i)}return e}cr.toAscii=rbe;function nbe(r){var e=m.Buffer.from(r,"utf8");return"0x".concat(Lz(e.toString("hex")).replace(/^0+|0+$/g,""))}cr.fromUtf8=nbe;function ibe(r){for(var e="",t=0;t<r.length;t++){var n=r.charCodeAt(t),i=n.toString(16);e+=i.length<2?"0".concat(i):i}return"0x".concat(e)}cr.fromAscii=ibe;function obe(r,e,t){if(!Array.isArray(r))throw new Error("[getKeys] method expects input 'params' to be an array, got ".concat(typeof r));if(typeof e!="string")throw new Error("[getKeys] method expects input 'key' to be type 'string', got ".concat(typeof r));for(var n=[],i=0;i<r.length;i++){var o=r[i][e];if(t&&!o)o="";else if(typeof o!="string")throw new Error("invalid abi - expected type 'string', received ".concat(typeof o));n.push(o)}return n}cr.getKeys=obe;function abe(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}cr.isHexString=abe});var g2=b(Zu=>{"use strict";d();h();Object.defineProperty(Zu,"__esModule",{value:!0});Zu.assertIsString=Zu.assertIsArray=Zu.assertIsBuffer=Zu.assertIsHexString=void 0;var sbe=Fh(),ube=function(r){if(!(0,sbe.isHexString)(r)){var e="This method only supports 0x-prefixed hex strings but input was: ".concat(r);throw new Error(e)}};Zu.assertIsHexString=ube;var fbe=function(r){if(!m.Buffer.isBuffer(r)){var e="This method only supports Buffer but input was: ".concat(r);throw new Error(e)}};Zu.assertIsBuffer=fbe;var cbe=function(r){if(!Array.isArray(r)){var e="This method only supports number arrays but input was: ".concat(r);throw new Error(e)}};Zu.assertIsArray=cbe;var lbe=function(r){if(typeof r!="string"){var e="This method only supports strings but input was: ".concat(r);throw new Error(e)}};Zu.assertIsString=lbe});var ol=b(Ne=>{"use strict";d();h();var dbe=Ne&&Ne.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hbe=Ne&&Ne.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.bufArrToArr=Ne.arrToBufArr=Ne.validateNoLeadingZeroes=Ne.baToJSON=Ne.toUtf8=Ne.addHexPrefix=Ne.toUnsigned=Ne.fromSigned=Ne.bufferToHex=Ne.bufferToInt=Ne.toBuffer=Ne.unpadHexString=Ne.unpadArray=Ne.unpadBuffer=Ne.setLengthRight=Ne.setLengthLeft=Ne.zeros=Ne.intToBuffer=Ne.intToHex=void 0;var dR=$u(),Uh=Fh(),y2=g2(),pbe=function(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("Received an invalid integer type: ".concat(r));return"0x".concat(r.toString(16))};Ne.intToHex=pbe;var gbe=function(r){var e=(0,Ne.intToHex)(r);return m.Buffer.from((0,Uh.padToEven)(e.slice(2)),"hex")};Ne.intToBuffer=gbe;var ybe=function(r){return m.Buffer.allocUnsafe(r).fill(0)};Ne.zeros=ybe;var kz=function(r,e,t){var n=(0,Ne.zeros)(e);return t?r.length<e?(r.copy(n),n):r.slice(0,e):r.length<e?(r.copy(n,e-r.length),n):r.slice(-e)},mbe=function(r,e){return(0,y2.assertIsBuffer)(r),kz(r,e,!1)};Ne.setLengthLeft=mbe;var vbe=function(r,e){return(0,y2.assertIsBuffer)(r),kz(r,e,!0)};Ne.setLengthRight=vbe;var hR=function(r){for(var e=r[0];r.length>0&&e.toString()==="0";)r=r.slice(1),e=r[0];return r},xbe=function(r){return(0,y2.assertIsBuffer)(r),hR(r)};Ne.unpadBuffer=xbe;var _be=function(r){return(0,y2.assertIsArray)(r),hR(r)};Ne.unpadArray=_be;var wbe=function(r){return(0,y2.assertIsHexString)(r),r=(0,Uh.stripHexPrefix)(r),hR(r)};Ne.unpadHexString=wbe;var Ebe=function(r){if(r==null)return m.Buffer.allocUnsafe(0);if(m.Buffer.isBuffer(r))return m.Buffer.from(r);if(Array.isArray(r)||r instanceof Uint8Array)return m.Buffer.from(r);if(typeof r=="string"){if(!(0,Uh.isHexString)(r))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ".concat(r));return m.Buffer.from((0,Uh.padToEven)((0,Uh.stripHexPrefix)(r)),"hex")}if(typeof r=="number")return(0,Ne.intToBuffer)(r);if(dR.BN.isBN(r)){if(r.isNeg())throw new Error("Cannot convert negative BN to buffer. Given: ".concat(r));return r.toArrayLike(m.Buffer)}if(r.toArray)return m.Buffer.from(r.toArray());if(r.toBuffer)return m.Buffer.from(r.toBuffer());throw new Error("invalid type")};Ne.toBuffer=Ebe;var bbe=function(r){return new dR.BN((0,Ne.toBuffer)(r)).toNumber()};Ne.bufferToInt=bbe;var Ibe=function(r){return r=(0,Ne.toBuffer)(r),"0x"+r.toString("hex")};Ne.bufferToHex=Ibe;var Tbe=function(r){return new dR.BN(r).fromTwos(256)};Ne.fromSigned=Tbe;var Sbe=function(r){return m.Buffer.from(r.toTwos(256).toArray())};Ne.toUnsigned=Sbe;var Cbe=function(r){return typeof r!="string"||(0,Uh.isHexPrefixed)(r)?r:"0x"+r};Ne.addHexPrefix=Cbe;var Abe=function(r){var e=/^(00)+|(00)+$/g;if(r=(0,Uh.stripHexPrefix)(r),r.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");var t=m.Buffer.from(r.replace(e,""),"hex");return t.toString("utf8")};Ne.toUtf8=Abe;var Obe=function(r){if(m.Buffer.isBuffer(r))return"0x".concat(r.toString("hex"));if(r instanceof Array){for(var e=[],t=0;t<r.length;t++)e.push((0,Ne.baToJSON)(r[t]));return e}};Ne.baToJSON=Obe;var Dbe=function(r){var e,t;try{for(var n=dbe(Object.entries(r)),i=n.next();!i.done;i=n.next()){var o=hbe(i.value,2),a=o[0],s=o[1];if(s!==void 0&&s.length>0&&s[0]===0)throw new Error("".concat(a," cannot have leading zeroes, received: ").concat(s.toString("hex")))}}catch(u){e={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}};Ne.validateNoLeadingZeroes=Dbe;function jz(r){return Array.isArray(r)?r.map(function(e){return jz(e)}):m.Buffer.from(r)}Ne.arrToBufArr=jz;function Hz(r){return Array.isArray(r)?r.map(function(e){return Hz(e)}):Uint8Array.from(r!=null?r:[])}Ne.bufArrToArr=Hz});var Db=b(dt=>{"use strict";d();h();Object.defineProperty(dt,"__esModule",{value:!0});dt.rlphash=dt.ripemd160FromArray=dt.ripemd160FromString=dt.ripemd160=dt.sha256FromArray=dt.sha256FromString=dt.sha256=dt.keccakFromArray=dt.keccakFromHexString=dt.keccakFromString=dt.keccak256=dt.keccak=void 0;var Ob=FW(),Kz=Jb(),Rbe=$u(),m2=ol(),Qu=g2(),Pbe=function(r,e){switch(e===void 0&&(e=256),(0,Qu.assertIsBuffer)(r),e){case 224:return(0,Ob.keccak224)(r);case 256:return(0,Ob.keccak256)(r);case 384:return(0,Ob.keccak384)(r);case 512:return(0,Ob.keccak512)(r);default:throw new Error("Invald algorithm: keccak".concat(e))}};dt.keccak=Pbe;var Bbe=function(r){return(0,dt.keccak)(r)};dt.keccak256=Bbe;var Nbe=function(r,e){e===void 0&&(e=256),(0,Qu.assertIsString)(r);var t=m.Buffer.from(r,"utf8");return(0,dt.keccak)(t,e)};dt.keccakFromString=Nbe;var Mbe=function(r,e){return e===void 0&&(e=256),(0,Qu.assertIsHexString)(r),(0,dt.keccak)((0,m2.toBuffer)(r),e)};dt.keccakFromHexString=Mbe;var qbe=function(r,e){return e===void 0&&(e=256),(0,Qu.assertIsArray)(r),(0,dt.keccak)((0,m2.toBuffer)(r),e)};dt.keccakFromArray=qbe;var pR=function(r){return r=(0,m2.toBuffer)(r),Kz("sha256").update(r).digest()},Fbe=function(r){return(0,Qu.assertIsBuffer)(r),pR(r)};dt.sha256=Fbe;var Ube=function(r){return(0,Qu.assertIsString)(r),pR(r)};dt.sha256FromString=Ube;var Lbe=function(r){return(0,Qu.assertIsArray)(r),pR(r)};dt.sha256FromArray=Lbe;var gR=function(r,e){r=(0,m2.toBuffer)(r);var t=Kz("rmd160").update(r).digest();return e===!0?(0,m2.setLengthLeft)(t,32):t},kbe=function(r,e){return(0,Qu.assertIsBuffer)(r),gR(r,e)};dt.ripemd160=kbe;var jbe=function(r,e){return(0,Qu.assertIsString)(r),gR(r,e)};dt.ripemd160FromString=jbe;var Hbe=function(r,e){return(0,Qu.assertIsArray)(r),gR(r,e)};dt.ripemd160FromArray=Hbe;var Kbe=function(r){return(0,dt.keccak)(Rbe.rlp.encode(r))};dt.rlphash=Kbe});var Pb=b(ea=>{"use strict";d();h();Object.defineProperty(ea,"__esModule",{value:!0});ea.toType=ea.TypeOutput=ea.bnToRlp=ea.bnToUnpaddedBuffer=ea.bnToHex=void 0;var yR=$u(),Vbe=Fh(),Vz=ol();function Gbe(r){return"0x".concat(r.toString(16))}ea.bnToHex=Gbe;function Gz(r){return(0,Vz.unpadBuffer)(r.toArrayLike(m.Buffer))}ea.bnToUnpaddedBuffer=Gz;function Ybe(r){return Gz(r)}ea.bnToRlp=Ybe;var Rb;(function(r){r[r.Number=0]="Number",r[r.BN=1]="BN",r[r.Buffer=2]="Buffer",r[r.PrefixedHexString=3]="PrefixedHexString"})(Rb=ea.TypeOutput||(ea.TypeOutput={}));function zbe(r,e){if(r===null)return null;if(r!==void 0){if(typeof r=="string"&&!(0,Vbe.isHexString)(r))throw new Error("A string must be provided with a 0x-prefix, given: ".concat(r));if(typeof r=="number"&&!Number.isSafeInteger(r))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var t=(0,Vz.toBuffer)(r);if(e===Rb.Buffer)return t;if(e===Rb.BN)return new yR.BN(t);if(e===Rb.Number){var n=new yR.BN(t),i=new yR.BN(Number.MAX_SAFE_INTEGER.toString());if(n.gt(i))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return n.toNumber()}else return"0x".concat(t.toString("hex"))}}ea.toType=zbe});var vR=b(Le=>{"use strict";d();h();var Wbe=Le&&Le.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},Xbe=Le&&Le.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Le,"__esModule",{value:!0});Le.isZeroAddress=Le.zeroAddress=Le.importPublic=Le.privateToAddress=Le.privateToPublic=Le.publicToAddress=Le.pubToAddress=Le.isValidPublic=Le.isValidPrivate=Le.generateAddress2=Le.generateAddress=Le.isValidChecksumAddress=Le.toChecksumAddress=Le.isValidAddress=Le.Account=void 0;var mR=Xbe(So()),iu=$u(),Og=qR(),Jbe=Fh(),Bb=lR(),Ag=ol(),Dg=Db(),ps=g2(),Nb=Pb(),$be=function(){function r(e,t,n,i){e===void 0&&(e=new iu.BN(0)),t===void 0&&(t=new iu.BN(0)),n===void 0&&(n=Bb.KECCAK256_RLP),i===void 0&&(i=Bb.KECCAK256_NULL),this.nonce=e,this.balance=t,this.stateRoot=n,this.codeHash=i,this._validate()}return r.fromAccountData=function(e){var t=e.nonce,n=e.balance,i=e.stateRoot,o=e.codeHash;return new r(t?new iu.BN((0,Ag.toBuffer)(t)):void 0,n?new iu.BN((0,Ag.toBuffer)(n)):void 0,i?(0,Ag.toBuffer)(i):void 0,o?(0,Ag.toBuffer)(o):void 0)},r.fromRlpSerializedAccount=function(e){var t=iu.rlp.decode(e);if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)},r.fromValuesArray=function(e){var t=Wbe(e,4),n=t[0],i=t[1],o=t[2],a=t[3];return new r(new iu.BN(n),new iu.BN(i),o,a)},r.prototype._validate=function(){if(this.nonce.lt(new iu.BN(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new iu.BN(0)))throw new Error("balance must be greater than zero");if(this.stateRoot.length!==32)throw new Error("stateRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")},r.prototype.raw=function(){return[(0,Nb.bnToUnpaddedBuffer)(this.nonce),(0,Nb.bnToUnpaddedBuffer)(this.balance),this.stateRoot,this.codeHash]},r.prototype.serialize=function(){return iu.rlp.encode(this.raw())},r.prototype.isContract=function(){return!this.codeHash.equals(Bb.KECCAK256_NULL)},r.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(Bb.KECCAK256_NULL)},r}();Le.Account=$be;var Zbe=function(r){try{(0,ps.assertIsString)(r)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(r)};Le.isValidAddress=Zbe;var Qbe=function(r,e){(0,ps.assertIsHexString)(r);var t=(0,Jbe.stripHexPrefix)(r).toLowerCase(),n="";if(e){var i=(0,Nb.toType)(e,Nb.TypeOutput.BN);n=i.toString()+"0x"}for(var o=(0,Dg.keccakFromString)(n+t).toString("hex"),a="0x",s=0;s<t.length;s++)parseInt(o[s],16)>=8?a+=t[s].toUpperCase():a+=t[s];return a};Le.toChecksumAddress=Qbe;var eIe=function(r,e){return(0,Le.isValidAddress)(r)&&(0,Le.toChecksumAddress)(r,e)===r};Le.isValidChecksumAddress=eIe;var tIe=function(r,e){(0,ps.assertIsBuffer)(r),(0,ps.assertIsBuffer)(e);var t=new iu.BN(e);return t.isZero()?(0,Dg.rlphash)([r,null]).slice(-20):(0,Dg.rlphash)([r,m.Buffer.from(t.toArray())]).slice(-20)};Le.generateAddress=tIe;var rIe=function(r,e,t){(0,ps.assertIsBuffer)(r),(0,ps.assertIsBuffer)(e),(0,ps.assertIsBuffer)(t),(0,mR.default)(r.length===20),(0,mR.default)(e.length===32);var n=(0,Dg.keccak256)(m.Buffer.concat([m.Buffer.from("ff","hex"),r,e,(0,Dg.keccak256)(t)]));return n.slice(-20)};Le.generateAddress2=rIe;var nIe=function(r){return(0,Og.privateKeyVerify)(r)};Le.isValidPrivate=nIe;var iIe=function(r,e){return e===void 0&&(e=!1),(0,ps.assertIsBuffer)(r),r.length===64?(0,Og.publicKeyVerify)(m.Buffer.concat([m.Buffer.from([4]),r])):e?(0,Og.publicKeyVerify)(r):!1};Le.isValidPublic=iIe;var oIe=function(r,e){return e===void 0&&(e=!1),(0,ps.assertIsBuffer)(r),e&&r.length!==64&&(r=m.Buffer.from((0,Og.publicKeyConvert)(r,!1).slice(1))),(0,mR.default)(r.length===64),(0,Dg.keccak)(r).slice(-20)};Le.pubToAddress=oIe;Le.publicToAddress=Le.pubToAddress;var aIe=function(r){return(0,ps.assertIsBuffer)(r),m.Buffer.from((0,Og.publicKeyCreate)(r,!1)).slice(1)};Le.privateToPublic=aIe;var sIe=function(r){return(0,Le.publicToAddress)((0,Le.privateToPublic)(r))};Le.privateToAddress=sIe;var uIe=function(r){return(0,ps.assertIsBuffer)(r),r.length!==64&&(r=m.Buffer.from((0,Og.publicKeyConvert)(r,!1).slice(1))),r};Le.importPublic=uIe;var fIe=function(){var r=20,e=(0,Ag.zeros)(r);return(0,Ag.bufferToHex)(e)};Le.zeroAddress=fIe;var cIe=function(r){try{(0,ps.assertIsString)(r)}catch{return!1}var e=(0,Le.zeroAddress)();return e===r};Le.isZeroAddress=cIe});var zz=b(Rg=>{"use strict";d();h();var lIe=Rg&&Rg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rg,"__esModule",{value:!0});Rg.Address=void 0;var Lh=lIe(So()),Mb=$u(),Yz=ol(),v2=vR(),dIe=function(){function r(e){(0,Lh.default)(e.length===20,"Invalid address length"),this.buf=e}return r.zero=function(){return new r((0,Yz.zeros)(20))},r.fromString=function(e){return(0,Lh.default)((0,v2.isValidAddress)(e),"Invalid address"),new r((0,Yz.toBuffer)(e))},r.fromPublicKey=function(e){(0,Lh.default)(m.Buffer.isBuffer(e),"Public key should be Buffer");var t=(0,v2.pubToAddress)(e);return new r(t)},r.fromPrivateKey=function(e){(0,Lh.default)(m.Buffer.isBuffer(e),"Private key should be Buffer");var t=(0,v2.privateToAddress)(e);return new r(t)},r.generate=function(e,t){return(0,Lh.default)(Mb.BN.isBN(t)),new r((0,v2.generateAddress)(e.buf,t.toArrayLike(m.Buffer)))},r.generate2=function(e,t,n){return(0,Lh.default)(m.Buffer.isBuffer(t)),(0,Lh.default)(m.Buffer.isBuffer(n)),new r((0,v2.generateAddress2)(e.buf,t,n))},r.prototype.equals=function(e){return this.buf.equals(e.buf)},r.prototype.isZero=function(){return this.equals(r.zero())},r.prototype.isPrecompileOrSystemAddress=function(){var e=new Mb.BN(this.buf),t=new Mb.BN(0),n=new Mb.BN("ffff","hex");return e.gte(t)&&e.lte(n)},r.prototype.toString=function(){return"0x"+this.buf.toString("hex")},r.prototype.toBuffer=function(){return m.Buffer.from(this.buf)},r}();Rg.Address=dIe});var Wz=b(Pi=>{"use strict";d();h();Object.defineProperty(Pi,"__esModule",{value:!0});Pi.hashPersonalMessage=Pi.isValidSignature=Pi.fromRpcSig=Pi.toCompactSig=Pi.toRpcSig=Pi.ecrecover=Pi.ecsign=void 0;var xR=qR(),x2=$u(),gs=ol(),hIe=Db(),pIe=g2(),ef=Pb();function gIe(r,e,t){var n=(0,xR.ecdsaSign)(r,e),i=n.signature,o=n.recid,a=m.Buffer.from(i.slice(0,32)),s=m.Buffer.from(i.slice(32,64));if(!t||typeof t=="number"){if(t&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var u=t?o+(t*2+35):o+27;return{r:a,s,v:u}}var f=(0,ef.toType)(t,ef.TypeOutput.BN),l=f.muln(2).addn(35).addn(o).toArrayLike(m.Buffer);return{r:a,s,v:l}}Pi.ecsign=gIe;function qb(r,e){var t=(0,ef.toType)(r,ef.TypeOutput.BN);if(t.eqn(0)||t.eqn(1))return(0,ef.toType)(r,ef.TypeOutput.BN);if(!e)return t.subn(27);var n=(0,ef.toType)(e,ef.TypeOutput.BN);return t.sub(n.muln(2).addn(35))}function Fb(r){var e=new x2.BN(r);return e.eqn(0)||e.eqn(1)}var yIe=function(r,e,t,n,i){var o=m.Buffer.concat([(0,gs.setLengthLeft)(t,32),(0,gs.setLengthLeft)(n,32)],64),a=qb(e,i);if(!Fb(a))throw new Error("Invalid signature v value");var s=(0,xR.ecdsaRecover)(o,a.toNumber(),r);return m.Buffer.from((0,xR.publicKeyConvert)(s,!1).slice(1))};Pi.ecrecover=yIe;var mIe=function(r,e,t,n){var i=qb(r,n);if(!Fb(i))throw new Error("Invalid signature v value");return(0,gs.bufferToHex)(m.Buffer.concat([(0,gs.setLengthLeft)(e,32),(0,gs.setLengthLeft)(t,32),(0,gs.toBuffer)(r)]))};Pi.toRpcSig=mIe;var vIe=function(r,e,t,n){var i=qb(r,n);if(!Fb(i))throw new Error("Invalid signature v value");var o=(0,ef.toType)(r,ef.TypeOutput.Number),a=t;return(o>28&&o%2===1||o===1||o===28)&&(a=m.Buffer.from(t),a[0]|=128),(0,gs.bufferToHex)(m.Buffer.concat([(0,gs.setLengthLeft)(e,32),(0,gs.setLengthLeft)(a,32)]))};Pi.toCompactSig=vIe;var xIe=function(r){var e=(0,gs.toBuffer)(r),t,n,i;if(e.length>=65)t=e.slice(0,32),n=e.slice(32,64),i=(0,gs.bufferToInt)(e.slice(64));else if(e.length===64)t=e.slice(0,32),n=e.slice(32,64),i=(0,gs.bufferToInt)(e.slice(32,33))>>7,n[0]&=127;else throw new Error("Invalid signature length");return i<27&&(i+=27),{v:i,r:t,s:n}};Pi.fromRpcSig=xIe;var _Ie=function(r,e,t,n,i){n===void 0&&(n=!0);var o=new x2.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),a=new x2.BN("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(e.length!==32||t.length!==32||!Fb(qb(r,i)))return!1;var s=new x2.BN(e),u=new x2.BN(t);return!(s.isZero()||s.gt(a)||u.isZero()||u.gt(a)||n&&u.cmp(o)===1)};Pi.isValidSignature=_Ie;var wIe=function(r){(0,pIe.assertIsBuffer)(r);var e=m.Buffer.from(`Ethereum Signed Message:
`.concat(r.length),"utf-8");return(0,hIe.keccak)(m.Buffer.concat([e,r]))};Pi.hashPersonalMessage=wIe});var $z=b(Pg=>{"use strict";d();h();var EIe=Pg&&Pg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pg,"__esModule",{value:!0});Pg.defineProperties=void 0;var Xz=EIe(So()),bIe=Fh(),Jz=$u(),Ub=ol(),IIe=function(r,e,t){if(r.raw=[],r._fields=[],r.toJSON=function(i){if(i===void 0&&(i=!1),i){var o={};return r._fields.forEach(function(a){o[a]="0x".concat(r[a].toString("hex"))}),o}return(0,Ub.baToJSON)(r.raw)},r.serialize=function(){return Jz.rlp.encode(r.raw)},e.forEach(function(i,o){r._fields.push(i.name);function a(){return r.raw[o]}function s(u){u=(0,Ub.toBuffer)(u),u.toString("hex")==="00"&&!i.allowZero&&(u=m.Buffer.allocUnsafe(0)),i.allowLess&&i.length?(u=(0,Ub.unpadBuffer)(u),(0,Xz.default)(i.length>=u.length,"The field ".concat(i.name," must not have more ").concat(i.length," bytes"))):!(i.allowZero&&u.length===0)&&i.length&&(0,Xz.default)(i.length===u.length,"The field ".concat(i.name," must have byte length of ").concat(i.length)),r.raw[o]=u}Object.defineProperty(r,i.name,{enumerable:!0,configurable:!0,get:a,set:s}),i.default&&(r[i.name]=i.default),i.alias&&Object.defineProperty(r,i.alias,{enumerable:!1,configurable:!0,set:s,get:a})}),t)if(typeof t=="string"&&(t=m.Buffer.from((0,bIe.stripHexPrefix)(t),"hex")),m.Buffer.isBuffer(t)&&(t=Jz.rlp.decode(t)),Array.isArray(t)){if(t.length>r._fields.length)throw new Error("wrong number of fields in data");t.forEach(function(i,o){r[r._fields[o]]=(0,Ub.toBuffer)(i)})}else if(typeof t=="object"){var n=Object.keys(t);e.forEach(function(i){n.indexOf(i.name)!==-1&&(r[i.name]=t[i.name]),n.indexOf(i.alias)!==-1&&(r[i.alias]=t[i.alias])})}else throw new Error("invalid data")};Pg.defineProperties=IIe});var Zz=b($e=>{"use strict";d();h();var TIe=$e&&$e.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),oc=$e&&$e.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&TIe(e,r,t)};Object.defineProperty($e,"__esModule",{value:!0});$e.isHexString=$e.getKeys=$e.fromAscii=$e.fromUtf8=$e.toAscii=$e.arrayContainsArray=$e.getBinarySize=$e.padToEven=$e.stripHexPrefix=$e.isHexPrefixed=void 0;oc(lR(),$e);oc(vR(),$e);oc(zz(),$e);oc(Db(),$e);oc(Wz(),$e);oc(ol(),$e);oc($z(),$e);oc($u(),$e);oc(Pb(),$e);var tf=Fh();Object.defineProperty($e,"isHexPrefixed",{enumerable:!0,get:function(){return tf.isHexPrefixed}});Object.defineProperty($e,"stripHexPrefix",{enumerable:!0,get:function(){return tf.stripHexPrefix}});Object.defineProperty($e,"padToEven",{enumerable:!0,get:function(){return tf.padToEven}});Object.defineProperty($e,"getBinarySize",{enumerable:!0,get:function(){return tf.getBinarySize}});Object.defineProperty($e,"arrayContainsArray",{enumerable:!0,get:function(){return tf.arrayContainsArray}});Object.defineProperty($e,"toAscii",{enumerable:!0,get:function(){return tf.toAscii}});Object.defineProperty($e,"fromUtf8",{enumerable:!0,get:function(){return tf.fromUtf8}});Object.defineProperty($e,"fromAscii",{enumerable:!0,get:function(){return tf.fromAscii}});Object.defineProperty($e,"getKeys",{enumerable:!0,get:function(){return tf.getKeys}});Object.defineProperty($e,"isHexString",{enumerable:!0,get:function(){return tf.isHexString}})});var rW=b(ac=>{"use strict";d();h();Object.defineProperty(ac,"__esModule",{value:!0});var _2,ro=_b(),SIe=(Oz(),cc(Az)),CIe=(_2=Mz())&&typeof _2=="object"&&"default"in _2?_2.default:_2,Qz=Zz(),{RegistryType:eW}=ro.extend,_R={ETH_SIGN_REQUEST:new eW("eth-sign-request",401),ETH_SIGNATAURE:new eW("eth-signature",402)},{decodeToDataItem:AIe,RegistryTypes:OIe}=ro.extend,Rr,al;(function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.dataType=3]="dataType",r[r.chainId=4]="chainId",r[r.derivationPath=5]="derivationPath",r[r.address=6]="address",r[r.origin=7]="origin"})(Rr||(Rr={})),(al=ac.DataType||(ac.DataType={}))[al.transaction=1]="transaction",al[al.typedData=2]="typedData",al[al.personalMessage=3]="personalMessage",al[al.typedTransaction=4]="typedTransaction";var sc=class extends ro.RegistryItem{constructor(e){super(),this.getRegistryType=()=>_R.ETH_SIGN_REQUEST,this.setupData=t=>{this.requestId=t.requestId,this.signData=t.signData,this.dataType=t.dataType,this.chainId=t.chainId,this.derivationPath=t.derivationPath,this.address=t.address,this.origin=t.origin},this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};this.requestId&&(t[Rr.requestId]=new ro.DataItem(this.requestId,OIe.UUID.getTag())),this.address&&(t[Rr.address]=this.address),this.chainId&&(t[Rr.chainId]=this.chainId),this.origin&&(t[Rr.origin]=this.origin),t[Rr.signData]=this.signData,t[Rr.dataType]=this.dataType;let n=this.derivationPath.toDataItem();return n.setTag(this.derivationPath.getRegistryType().getTag()),t[Rr.derivationPath]=n,new ro.DataItem(t)},this.setupData(e)}static constructETHRequest(e,t,n,i,o,a,s,u){let f=n.replace(/[m|M]\//,"").split("/"),l=new ro.CryptoKeypath(f.map(p=>{let g=parseInt(p.replace("'","")),v=!1;return p.endsWith("'")&&(v=!0),new ro.PathComponent({index:g,hardened:v})}),m.Buffer.from(i,"hex"));return new sc({requestId:o?m.Buffer.from(SIe.parse(o)):void 0,signData:e,dataType:t,derivationPath:l,chainId:a,address:s?m.Buffer.from(s.replace("0x",""),"hex"):void 0,origin:u||void 0})}};sc.fromDataItem=r=>{let e=r.getData(),t=e[Rr.signData],n=e[Rr.dataType],i=ro.CryptoKeypath.fromDataItem(e[Rr.derivationPath]),o=e[Rr.chainId]?e[Rr.chainId]:void 0,a=e[Rr.address]?e[Rr.address]:void 0,s=e[Rr.requestId]?e[Rr.requestId].getData():void 0;return new sc({requestId:s,signData:t,dataType:n,chainId:o,derivationPath:i,address:a,origin:e[Rr.origin]?e[Rr.origin]:void 0})},sc.fromCBOR=r=>{let e=AIe(r);return sc.fromDataItem(e)};var{RegistryTypes:DIe,decodeToDataItem:RIe}=ro.extend,jh;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature"})(jh||(jh={}));var kh=class extends ro.RegistryItem{constructor(e,t){super(),this.getRegistryType=()=>_R.ETH_SIGNATAURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{let n={};return this.requestId&&(n[jh.requestId]=new ro.DataItem(this.requestId,DIe.UUID.getTag())),n[jh.signature]=this.signature,new ro.DataItem(n)},this.signature=e,this.requestId=t}};kh.fromDataItem=r=>{let e=r.getData(),t=e[jh.signature],n=e[jh.requestId]?e[jh.requestId].getData():void 0;return new kh(t,n)},kh.fromCBOR=r=>{let e=RIe(r);return kh.fromDataItem(e)};var tW=(r,e)=>{let t=CIe.fromExtendedKey(r).derive(e),n="0x"+Qz.publicToAddress(t.publicKey,!0).toString("hex");return Qz.toChecksumAddress(n)},{cbor:PIe}=ro.extend;PIe.patchTags(Object.values(_R).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(ro).forEach(function(r){r!=="default"&&Object.defineProperty(ac,r,{enumerable:!0,get:function(){return ro[r]}})}),ac.ETHSignature=kh,ac.EthSignRequest=sc,ac.findHDpatfromAddress=(r,e,t,n)=>{for(let i=0;i<t;i++){let o=tW(e,"M/0/"+i);if(r.toLowerCase()==o.toLowerCase())return`${n}/0/${i}`}return null},ac.generateAddressfromXpub=tW});var iW=b((lft,nW)=>{"use strict";d();h();nW.exports=rW()});var oW=b(wR=>{"use strict";d();h();Object.defineProperty(wR,"__esModule",{value:!0});var BIe=Gr(),rf=iW();wR.URRegistryDecoder=class extends BIe.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let r=this.resultUR();switch(r.type){case"bytes":return rf.Bytes.fromCBOR(r.cbor);case"crypto-hdkey":return rf.CryptoHDKey.fromCBOR(r.cbor);case"crypto-keypath":return rf.CryptoKeypath.fromCBOR(r.cbor);case"crypto-coin-info":return rf.CryptoCoinInfo.fromCBOR(r.cbor);case"crypto-eckey":return rf.CryptoECKey.fromCBOR(r.cbor);case"crypto-output":return rf.CryptoOutput.fromCBOR(r.cbor);case"crypto-psbt":return rf.CryptoPSBT.fromCBOR(r.cbor);case"crypto-account":return rf.CryptoAccount.fromCBOR(r.cbor);case"eth-signature":return rf.ETHSignature.fromCBOR(r.cbor);case"eth-sign-request":return rf.EthSignRequest.fromCBOR(r.cbor);default:throw new Error(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${r.type} is not supported now`)}}}}});var sW=b((vft,aW)=>{"use strict";d();h();aW.exports=oW()});var yW=b(rt=>{"use strict";d();h();Object.defineProperty(rt,"__esModule",{value:!0});var w2,Br=uf(),Hh=(w2=Br)&&typeof w2=="object"&&"default"in w2?w2.default:w2,uW=Gr(),NIe=FH(),fW=Jo(),MIe=IY(),ER=sW(),bR=({cbor:r,type:e,capacity:t=400,interval:n=100})=>{let i=Br.useMemo(()=>new uW.UREncoder(new uW.UR(m.Buffer.from(r,"hex"),e),t),[r,e]),[o,a]=Br.useState(i.nextPart().toUpperCase());return Br.useEffect(()=>{let s=setInterval(()=>{a(i.nextPart().toUpperCase())},n);return()=>{clearInterval(s)}},[i]),o},qIe=({value:r,size:e=180})=>Hh.createElement("div",{style:{width:e,height:e,backgroundColor:"white",display:"flex",justifyContent:"center",alignItems:"center"}},Hh.createElement(NIe.QRCodeCanvas,{value:r,size:e-10})),IR="qr-scanner-video",cW=({handleScan:r,handleError:e,blur:t=!0,videoLoaded:n,width:i,height:o})=>{let[a,s]=Br.useState(!1),u=Br.useMemo(()=>{let f=new Map;return f.set(fW.DecodeHintType.POSSIBLE_FORMATS,[fW.BarcodeFormat.QR_CODE]),new MIe.BrowserQRCodeReader(f,{delayBetweenScanAttempts:50,delayBetweenScanSuccess:100})},[]);return Br.useEffect(()=>{var g;let f=document.getElementById(IR),l=()=>{s(!0),n&&n(!0)};f.addEventListener("canplay",l);let p=((g=f==null?void 0:f.pendingScanRequest)!=null?g:Promise.resolve(void 0)).then(()=>u.decodeFromVideoDevice(void 0,f,(v,_)=>{v&&r(v.getText()),_&&e(_.message)})).catch(v=>{console.error(v)});return f&&(f.pendingScanRequest=p),()=>{f.removeEventListener("canplay",l),p.then(v=>{v&&v.stop()})}},[]),Hh.createElement("video",{id:IR,"data-testid":IR,style:{display:a?"block":"none",width:i||"auto",height:o||"auto",objectFit:"cover",transform:"rotateY(180deg)",filter:t?"blur(4px)":"none"}})},lW,Pr,sl,ul;(lW=rt.QRCodeError||(rt.QRCodeError={})).UNEXPECTED_QRCODE="UNEXPECTED_QRCODE",lW.INVALID_QR_CODE="INVALID_QR_CODE",function(r){r.ACCESSING_CAMERA="ACCESSING_CAMERA",r.NO_WEBCAM="NO_WEBCAM_FOUND",r.PERMISSION_NEEDED="NO_WEBCAM_ACCESS",r.READY="READY",r.UNKNOWN_ERROR="UNKNOWN_CAMERA_ERROR"}(Pr||(Pr={})),(sl=rt.Purpose||(rt.Purpose={})).SYNC="sync",sl.SIGN="sign",sl.SOL_SYNC="sol-sync",sl.SOL_SIGN="sol-sign",sl.NEAR_SYNC="near-sync",sl.NEAR_SIGN="near-sign",sl.COSMOS_SYNC="cosmos-sync",sl.COSMOS_SIGN="cosmos-sign",(ul=rt.URType||(rt.URType={})).CRYPTO_HDKEY="crypto-hdkey",ul.CRYPTO_ACCOUNT="crypto-account",ul.CRYPTO_MULTI_ACCOUNTS="crypto-multi-accounts",ul.ETH_SIGNATURE="eth-signature",ul.SOL_SIGNATURE="sol-signature",ul.NEAR_SIGNATURE="near-signature",ul.COSMOS_SIGNATURE="cosmos-signature",ul.EVM_SIGNATURE="evm-signature";var dW={[rt.Purpose.SYNC]:[rt.URType.CRYPTO_HDKEY,rt.URType.CRYPTO_ACCOUNT],[rt.Purpose.SIGN]:[rt.URType.ETH_SIGNATURE],[rt.Purpose.SOL_SYNC]:[rt.URType.CRYPTO_MULTI_ACCOUNTS],[rt.Purpose.SOL_SIGN]:[rt.URType.SOL_SIGNATURE],[rt.Purpose.NEAR_SYNC]:[rt.URType.CRYPTO_MULTI_ACCOUNTS],[rt.Purpose.NEAR_SIGN]:[rt.URType.NEAR_SIGNATURE],[rt.Purpose.COSMOS_SYNC]:[rt.URType.CRYPTO_MULTI_ACCOUNTS],[rt.Purpose.COSMOS_SIGN]:[rt.URType.COSMOS_SIGNATURE]},hW=({purpose:r,urTypes:e=[],handleScan:t,handleError:n,onProgress:i})=>{let o=new ER.URRegistryDecoder;return{handleScanSuccess:a=>{try{if(o.receivePart(a),!o.isComplete())return void(i&&i(Math.trunc(100*o.estimatedPercentComplete())));if(o.isError()&&n(rt.QRCodeError.INVALID_QR_CODE),o.isSuccess()){let s=o.resultUR(),u=[];if(r&&dW[r]&&u.push(...dW[r]),u.push(...e),u.includes(s.type)){i&&i(100);try{t({type:s.type,cbor:s.cbor.toString("hex")})}catch{n("FAILED_TO_HANDLE_QR_CODE")}}else n(rt.QRCodeError.UNEXPECTED_QRCODE);o=new ER.URRegistryDecoder}}catch{n(rt.QRCodeError.INVALID_QR_CODE),o=new ER.URRegistryDecoder}},handleScanFailure:a=>{n&&a&&n(a)}}},pW=async r=>{let e=((a="popup.html")=>new URL(window.location.href).pathname==="/"+a)(r),t=(()=>{let{navigator:a}=window,{userAgent:s}=a;return s.includes("Firefox")||"brave"in a})(),n=(await window.navigator.mediaDevices.enumerateDevices()).filter(a=>a.kind==="videoinput"),i=n.length>0,o=n.some(a=>a.label&&a.label.length>0);if(i){let a=!0;return(t&&e||e&&!o)&&(a=!1),{permissions:o,environmentReady:a}}throw new Error(Pr.NO_WEBCAM)},gW=r=>{let[e,t]=Br.useState(Pr.ACCESSING_CAMERA),n=Br.useRef(!1),i=null,o=async()=>{try{let{permissions:s}=await pW(r);if(s){if(await new Promise(u=>setTimeout(u,2e3)),!n.current)return;t(Pr.READY)}else n.current&&(i=setTimeout(o,1e3),t(Pr.PERMISSION_NEEDED))}catch{n.current&&t(Pr.UNKNOWN_ERROR)}},a=()=>{try{o()}catch(s){if(!n.current)return;t((s==null?void 0:s.name)==="NotAllowedError"?Pr.PERMISSION_NEEDED:Pr.UNKNOWN_ERROR)}};return Br.useEffect(()=>(n.current=!0,(async()=>{try{let{environmentReady:s}=await pW(r);t(s?Pr.READY:Pr.PERMISSION_NEEDED)}catch{n.current&&t(Pr.UNKNOWN_ERROR)}a()})(),()=>{n.current=!1,clearTimeout(i)}),[]),Br.useEffect(()=>{e===Pr.READY?a():e===Pr.PERMISSION_NEEDED&&o()},[e]),{cameraStatus:e}};rt.AnimatedQRCode=({cbor:r,type:e,options:t})=>{let n=bR({cbor:r,type:e,capacity:t==null?void 0:t.capacity,interval:t==null?void 0:t.interval});return Hh.createElement(qIe,{value:n,size:t==null?void 0:t.size})},rt.AnimatedQRScanner=({purpose:r,urTypes:e,handleScan:t,handleError:n,options:i,videoLoaded:o,onProgress:a})=>{let s=Br.useRef(Pr.ACCESSING_CAMERA),{cameraStatus:u}=gW(),{handleScanSuccess:f,handleScanFailure:l}=hW({purpose:r,urTypes:e,handleScan:t,handleError:n,onProgress:a});return Br.useEffect(()=>{o&&s.current!==u&&(u===Pr.PERMISSION_NEEDED||u===Pr.NO_WEBCAM?o(!1,u):u===Pr.READY&&o(!0))},[u]),Hh.createElement(cW,{handleScan:f,handleError:l,width:i==null?void 0:i.width,height:i==null?void 0:i.height,blur:i==null?void 0:i.blur,videoLoaded:o})},rt.useAnimatedQRCode=bR,rt.useAnimatedQRScanner=({Scanner:r=cW,scannerProps:e={}})=>{let[t,n]=Br.useState(!1),[i,o]=Br.useState(!0),a=Br.useRef(t),{cameraStatus:s}=gW(),u=Br.useMemo(()=>({purpose:f,urTypes:l,handleScan:p,handleError:g,options:v})=>{let _=[],{handleScanSuccess:T,handleScanFailure:O}=hW({purpose:f,urTypes:l,handleScan:R=>{a.current||(n(!0),p(R))},handleError:R=>{if(a.current)return;if(!/^Dimensions/i.test(R))return n(!0),void g(R);let D=Date.now();_.unshift(D),_[4]&&D-_[4]<500&&(_.length=0,n(!0),g(R))}});return Hh.createElement(r,Object.assign({handleScan:T,handleError:O},e,v))},[]);return Br.useEffect(()=>{a.current=t},[t]),Br.useEffect(()=>{s!==Pr.PERMISSION_NEEDED&&s!==Pr.NO_WEBCAM||o(!1)},[s]),{isDone:t,hasPermission:i,AnimatedQRScanner:u,setIsDone:n}},rt.withAnimatedQRCode=({WrappedComponent:r,valueFieldName:e="text",additionalProps:t={}})=>Br.useMemo(()=>({cbor:n,type:i,capacity:o=400,interval:a=100})=>{let s=bR({cbor:n,type:i,capacity:o,interval:a});return Hh.createElement(r,Object.assign({},{[e]:s},t))},[])});var Lb=b((Ift,mW)=>{"use strict";d();h();mW.exports=yW()});d();h();var AR=mr(uf());cl();d();h();var qp=mr(uf());cl();d();h();var Mp={root:"_root_1inmb_1",title:"_title_1inmb_5",content:"_content_1inmb_11",updateBtn:"_updateBtn_1inmb_19"};var qde=({onClose:r,onConfirm:e})=>qp.default.createElement(ke.Box,{className:Mp.root},qp.default.createElement(ke.Box,{className:Mp.title},nt("extension_wallet_hardware_wallet_title_hardware_update_keystone")),qp.default.createElement(ke.Box,{className:Mp.content},nt("extension_wallet_hardware_wallet_text_update_keystone")),qp.default.createElement(io,{category:io.CATEGORY.fill,className:Mp.updateBtn,type:io.TYPE.highlight,size:io.SIZE.lg,onClick:e,block:!0},nt("extension_wallet_hardware_wallet_btn_update_keystone")),qp.default.createElement(io,{category:io.CATEGORY.outline,className:Mp.updateBtn,type:io.TYPE.highlight,size:io.SIZE.lg,onClick:r,block:!0},nt("extension_wallet_hardware_wallet_btn_update_keystone_continue"))),_H=qde;d();h();var EW=mr(DR());cl();var Bi=mr(uf());var bW=mr(Lb()),Bg=mr(kE());d();h();d();h();cl();var kb=mr(M2());MW();NW();q2();var FIe=()=>({[To]:vs.bip44,[hc]:$b.SEGWIT_NESTED_49}),vW=(r,e)=>Object.values(e[r]).map(({address:t})=>t),UIe=async r=>{r=(0,kb.cloneDeep)(r);let e=r.map(t=>{let n=vW(To,t),i=vW(hc,t);return{evm:n,bitcoin:i}});try{let{data:t}=await NR(MR.getAssetFromChain,e),n=t.reduce((o,a)=>{let{evm:s,bitcoin:u}=a;return eI(o,s),eI(o,u),o},{});return r.map((o,a)=>{var v,_,T,O;let{mainnet:s,bitcoin:u}=o,f=0,l="",p=[];Object.entries(s).forEach(([R,D])=>{D.balance=n[D.address]||0,p.includes(D.address)||(p.push(D.address),f=Ug.add(f,D.balance)),Ug.gt(D.balance,0)&&(l=R)}),o.addressType[To]||(l||(a===0?l=vs.bip44:l=(v=r[a-1])==null?void 0:v.addressType[To]),o.addressType[To]=l);let g=0;return Object.values(u).forEach(({address:R})=>{g=Ug.add(g,n[R]||0)}),(O=(_=o.addressType)[T=hc])!=null||(_[T]=$b.SEGWIT_NESTED_49),o.balance=Ug.add(f,g),o})}catch{return r.map(n=>((0,kb.isEmpty)(n.addressType)&&(n.addressType=FIe()),n))}};d();h();var xW=mr(M2()),_W=mr(RW());q2();d();h();var jb=r=>`m/44'/60'/${r}'/0/0`,Hb=10,Uft=r=>[{pathName:`BIP44 standard | m/44/60'/0'/0/${r}`,recommend:!0,type:vs.bip44},{pathName:`Ledger live | m/44/60'/${r}'/0/0`,recommend:!1,type:vs.ledgerLive},{pathName:`Legacy | m/44/60'/0'/${r}`,recommend:!1,type:vs.legacy}],Lft="Keystone 3 Pro";var LIe=async(r,e,t)=>{let n=jb(r),{publicKey:i}=(0,xW.find)(t,{path:n})||{},{getAddressByPublicKey:o}=await LR(),a=await o(_W.Currency.ETH,{publicKey:i});e[To][vs.ledgerLive]={path:n,address:a}},kIe=tI(vs.legacy,""),jIe=tI(vs.bip44,"0/"),HIe=async(r,e,t)=>{e[To]={},await kIe(r,e,t),await LIe(r,e,t),await jIe(r,e,t)},KIe=async r=>{let{keys:e,accountsWithBalance:t}=r,n=[];for(let i=0;i<Hb;i++){let o=t==null?void 0:t[i],a={index:i,addressType:(o==null?void 0:o.addressType)||{},addressTypeUpdated:(o==null?void 0:o.addressTypeUpdated)||!1};await HIe(i,a,e),await GR(i,a,e),n.push(a)}return n};d();h();var Kb=mr(M2());var VIe=r=>{var e;for(let t=0;t<Qb.length;t++){let{basePath:n}=Qb[t];if(!((e=(0,Kb.find)(r,{path:n,chain:"BTC"}))!=null&&e.extendedPublicKey))return!1}return!0},GIe=r=>{var e,t;for(let n=0;n<Hb;n++){let i=jb(n);if(!((e=(0,Kb.find)(r,{path:i,chain:"ETH"}))!=null&&e.publicKey))return!1}return!!((t=(0,Kb.find)(r,{path:HR,chain:"ETH"}))!=null&&t.extendedPublicKey)},wW=[VIe,GIe],TR=(r={})=>{let{keys:e}=r;for(let t=0;t<wW.length;t++){let n=wW[t];if(!n(e))return!1}return!0};d();h();var CR=mr(uf());d();h();var SR={root:"_root_15ftx_1",scanBesomImage:"_scanBesomImage_15ftx_10",scan:"_scan_15ftx_10"};var YIe=({children:r})=>CR.default.createElement(ke.Box,{className:SR.root},CR.default.createElement(RR,{className:SR.scanBesomImage,src:`${kR()}/cdn/assets/imgs/236/3F2C9D51D44B734A.png`}),r),Vb=YIe;d();h();var nf={root:"_root_uh2id_1",header:"_header_uh2id_8",backIcon:"_backIcon_uh2id_14",icon:"_icon_uh2id_27",howToLink:"_howToLink_uh2id_30",status:"_status_uh2id_35",progress:"_progress_uh2id_40",intro:"_intro_uh2id_46",qrCodeHelper:"_qrCodeHelper_uh2id_52"};var zIe=({onBack:r,handler:e})=>{let[t,n]=(0,Bi.useState)(0),i=f=>{KR(f)&&f>0&&f<=100&&n(f)},o=(0,Bi.useRef)(null),a=({type:f,cbor:l})=>{let p=Bg.default.parseMultiAccounts(new Bg.UR(m.Buffer.from(l,"hex"),f));if(n(0),TR(p))e.resolve(p);else{if(o.current)return;o.current=dc.tip({width:320,title:nt("wallet_extension_header_modaltitle_error_qr"),children:nt("wallet_extension_mid_modaldesc_check_qr"),confirmText:nt("wallet_extension_popup_btn_confirm"),onConfirm(){o.current.destroy(),o.current=null}})}},s=f=>{console.log("error: ",f)},u=f=>{if(!f){let l=dc.tip({width:320,title:nt("wallet_extension_header_modaltitle_nocamera_recognized"),children:nt("wallet_extension_mid_modaldesc_check_camera"),confirmText:nt("wallet_extension_popup_btn_confirm"),onConfirm(){l.destroy()}})}};return Bi.default.createElement(ke.FlexBox,{align:ke.ALIGN.center,className:nf.root,direction:ke.DIRECTION.vertical},Bi.default.createElement(ke.FlexBox,{align:ke.ALIGN.center,className:nf.header,justify:"space-between"},Bi.default.createElement(ke.Box,{className:nf.backIcon,onClick:()=>r(!1)},Bi.default.createElement(Lg,{className:(0,EW.default)("okds-arrow-chevron-left-centered-md",nf.icon)})),Bi.default.createElement(jR,{className:nf.howToLink,href:nt("wallet_extension_footer_link_link_http")},nt("wallet_extension_footer_textbtn_how_connect"))),Bi.default.createElement(Vb,null,Bi.default.createElement(bW.AnimatedQRScanner,{handleScan:a,handleError:s,onProgress:i,urTypes:[Bg.URType.CryptoMultiAccounts],videoLoaded:u,options:{width:264,height:264}})),Bi.default.createElement(ke.Box,{className:nf.status},t?Bi.default.createElement(ke.Box,{className:nf.progress},nt("wallet_extension_footer_text_progress",{value:t})):Bi.default.createElement(ke.Box,{className:nf.intro},nt("wallet_extension_footer_text_scan_qr")),Bi.default.createElement(ke.Box,{className:nf.qrCodeHelper},nt("wallet_extension_footer_text_clickqr_tryagain"))))},IW=zIe;d();h();var of=mr(uf());cl();var TW=mr(kE()),SW=mr(Lb());q2();d();h();var E2=mr(uf()),Gb=mr(DR());cl();d();h();var Ng={root:"_root_aq7fg_1","step-2":"_step-2_aq7fg_7",step2:"_step-2_aq7fg_7",main:"_main_aq7fg_10",back:"_back_aq7fg_13",close:"_close_aq7fg_14"};var WIe=({step:r,onBack:e,onClose:t})=>E2.default.createElement(ke.FlexBox,{className:(0,Gb.default)(Ng.root,{[Ng[`step-${r}`]]:!0}),align:ke.ALIGN.center},E2.default.createElement(Lg,{className:(0,Gb.default)(Ng.back,"okds-arrow-chevron-left-centered-md"),onClick:e}),E2.default.createElement(ke.Box,{className:Ng.main},nt("wallet_extension_top_text_step1",{step:r,total:2})),E2.default.createElement(Lg,{className:(0,Gb.default)(Ng.close,"okds-close"),onClick:t})),Yb=WIe;d();h();var Kh={root:"_root_ilr2y_1",main:"_main_ilr2y_5",title:"_title_ilr2y_10",desc:"_desc_ilr2y_21",qrCode:"_qrCode_ilr2y_33",footerWrap:"_footerWrap_ilr2y_37"};var XIe=r=>{let{gotoGetSignature:e,signRequest:t,baseChain:n,onBack:i,onClose:o}=r,a=new TW.default,u={[To](){return a.eth.generateSignRequest(t)},[hc](){return a.btc.generatePSBT(m.Buffer.from(t,"hex"))}}[n]();return of.default.createElement(ke.FlexBox,{direction:ke.DIRECTION.vertical,className:Kh.root},of.default.createElement(Yb,{step:"1",onBack:()=>i(!0),onClose:o}),of.default.createElement(ke.FlexBox,{direction:ke.DIRECTION.vertical,align:ke.ALIGN.center,className:Kh.main},of.default.createElement(ke.Box,{className:Kh.title},nt("wallet_extension_top_title_signature_requesting")),of.default.createElement(ke.Box,{className:Kh.desc},nt("wallet_extension_top_subtitle_signature_scanqr")),of.default.createElement(ke.Box,{className:Kh.qrCode},of.default.createElement(SW.AnimatedQRCode,{type:u.type,cbor:u.cbor.toString("hex"),options:{size:270}}))),of.default.createElement(ke.Box,{className:Kh.footerWrap},of.default.createElement(io,{category:io.CATEGORY.fill,type:io.TYPE.highlight,size:io.SIZE.lg,className:"wallet-management__button",onClick:e},nt("wallet_extension_footer_btn_signature_next"))))},CW=XIe;d();h();var AW=mr(M2());cl();var ou=mr(uf());var OW=mr(Lb()),fl=mr(kE());q2();d();h();var Mg={root:"_root_mb94k_1",main:"_main_mb94k_8",title:"_title_mb94k_13",desc:"_desc_mb94k_25",progress:"_progress_mb94k_37"};var JIe=({handler:r,baseChain:e,gotoShowTxParams:t,onClose:n})=>{let i=new fl.default,o={[To](){let v=({type:T,cbor:O})=>{let{signature:R}=i.eth.parseSignature(new fl.UR(m.Buffer.from(O,"hex"),T));r.resolve(R)},_=[fl.URType.EthSignature];return{onSucceed:v,urTypes:_}},[hc](){let v=({type:T,cbor:O})=>{let R=i.btc.parsePSBT(new fl.UR(m.Buffer.from(O,"hex"),T));r.resolve(R)},_=[fl.URType.CryptoPSBT];return{onSucceed:v,urTypes:_}}},{onSucceed:a,urTypes:s}=o[e](),u=v=>{console.log("error: ",v)},f=v=>{if(!v){let _=dc.tip({width:320,title:nt("wallet_extension_header_modaltitle_nocamera_recognized"),children:nt("wallet_extension_mid_modaldesc_check_camera"),confirmText:nt("wallet_extension_popup_btn_confirm"),onConfirm(){_.destroy()}})}},[l,p]=(0,ou.useState)(0),g=v=>{(0,AW.isNumber)(v)&&v>0&&v<=100&&p(v)};return ou.default.createElement(ke.FlexBox,{direction:ke.DIRECTION.vertical,align:ke.ALIGN.center,className:Mg.root},ou.default.createElement(Yb,{step:"2",onBack:t,onClose:n}),ou.default.createElement(ke.FlexBox,{direction:ke.DIRECTION.vertical,align:ke.ALIGN.center,className:Mg.main},ou.default.createElement(ke.Box,{className:Mg.title},nt("wallet_extension_top_title_receive_signature")),ou.default.createElement(ke.Box,{className:Mg.desc},nt("wallet_extension_top_subtitle_scan_receive")),ou.default.createElement(Vb,null,ou.default.createElement(OW.AnimatedQRScanner,{handleScan:a,handleError:u,videoLoaded:f,onProgress:g,urTypes:s,options:{width:264,height:264}})),!!l&&ou.default.createElement(ke.Box,{className:Mg.progress},nt("wallet_extension_footer_text_progress",{value:l}))))},DW=JIe;var b2={getAccounts:"getAccounts",showTxParams:"showTxParams",getSignature:"getSignature"},$Ie={[b2.getAccounts]:IW,[b2.showTxParams]:CW,[b2.getSignature]:DW},OR=class{constructor(){lc(this,"renderContent",()=>{let{type:e,props:t,gotoGetSignature:n,gotoShowTxParams:i,handler:o}=this,{onBackBtnClick:a,...s}=t,u=$Ie[e];return u?AR.default.createElement(u,{...s,onBack:(p=!1)=>{this.closeModal(),a&&a(),p&&o.reject(new Error(Zb))},onClose:()=>{this.closeModal(),o.reject(new Error(Zb))},gotoShowTxParams:i,gotoGetSignature:n,handler:o}):null});lc(this,"renderModalDom",()=>{this.modalDom=dc.action({windowStyle:{width:"100%",height:"100%",maxHeight:"none"},mask:!1,className:"hardware-wallet-tip-dialog",maskClosable:!1,alignBottom:!0,noTopRadius:!1,noContentPadding:!0,hideCloseBtn:!0,children:this.renderContent()})});lc(this,"openModal",(e,t={})=>new Promise((n,i)=>{this.handler={resolve:o=>{this.closeModal(),n(o)},reject:o=>{this.closeModal(),i(o)}},this.type=e,this.props=t,this.renderModalDom()}));lc(this,"closeModal",()=>{this.modalDom&&(this.modalDom.destroy(),this.modalDom=null)});lc(this,"gotoGetSignature",()=>{this.type=b2.getSignature,this.modalDom.update({children:this.renderContent()})});lc(this,"gotoShowTxParams",()=>{this.type=b2.showTxParams,this.modalDom.update({children:this.renderContent()})});lc(this,"showUpdateModal",()=>{let e=dc.action({alignBottom:!0,noTopRadius:!1,noContentPadding:!0,children:AR.default.createElement(_H,{onClose:()=>{e.destroy()},onConfirm:()=>{globalThis.platform.openTab({url:nt("extension_wallet_hardware_wallet_url_guiddoc")}),e.destroy()}}),onClose(){e.destroy()}})});this.type="getAccounts",this.modalDom=null}},ZIe=new OR,M0t=ZIe;export{kE as a,UIe as b,Uft as c,Lft as d,KIe as e,b2 as f,M0t as g};
/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */
/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-FAV4K2KH.js.map
