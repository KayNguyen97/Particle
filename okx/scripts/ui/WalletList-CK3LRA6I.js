import{a as C,b as re,c as se,d as ne,e as ie,g as me,h as ae}from"./chunk-GGN7HDGK.js";import{a as ue}from"./chunk-WCMEUGVM.js";import{a as le}from"./chunk-2PIG5KAG.js";import{a as oo}from"./chunk-S6BDCAXK.js";import"./chunk-R4VMIVHR.js";import{a as te}from"./chunk-MJKT3ZH2.js";import"./chunk-HI4AQDIG.js";import"./chunk-WIYPU26K.js";import{c as ao,d as co}from"./chunk-VCWU5FEX.js";import{a as Ro}from"./chunk-PLVZLQPX.js";import{c as Qo,j as oe,o as ee,r as X}from"./chunk-FEET7RP6.js";import"./chunk-MBJ4MFYL.js";import"./chunk-PCY622ND.js";import"./chunk-NS35PZCP.js";import"./chunk-XOD56IFT.js";import{d as Zo}from"./chunk-BBN3UGKM.js";import{a as Yo}from"./chunk-QMNAWRVI.js";import"./chunk-D6ZXZUY6.js";import"./chunk-QMF5LKVF.js";import"./chunk-VMACN7YR.js";import"./chunk-PD2BTUUF.js";import"./chunk-YCMOAOGN.js";import{c as ce}from"./chunk-46EWNNLH.js";import"./chunk-P4XRBDXP.js";import"./chunk-3T5SDSKD.js";import"./chunk-2NIR645O.js";import"./chunk-SI3RW2CS.js";import"./chunk-B2BOSVTW.js";import"./chunk-GUJXW3GJ.js";import"./chunk-VIS7KIVI.js";import"./chunk-OZ6XSJY6.js";import{d as Jo,f as Xo}from"./chunk-DMJQUOJT.js";import{a as Q,h as Io}from"./chunk-62JDSRZZ.js";import"./chunk-FF7XOOGZ.js";import{d as j}from"./chunk-4OTZHHYZ.js";import"./chunk-HQT4AKFZ.js";import"./chunk-JUIB44FD.js";import{W as Uo,a as Po}from"./chunk-R6GCLTW2.js";import"./chunk-4KY5XQ5E.js";import"./chunk-S3ECGMEP.js";import"./chunk-PX7HII6H.js";import"./chunk-UEO7AURD.js";import"./chunk-DXFO7P35.js";import{a as qo,i as Ho}from"./chunk-TPEASXIF.js";import{a as Vo}from"./chunk-JSAFBAMQ.js";import"./chunk-A336VZZF.js";import"./chunk-XEOGXIVD.js";import"./chunk-PCGRDRHF.js";import{f as Ao,j as ko,k as Eo,l as Mo,p as vo}from"./chunk-IU3TYIWS.js";import{c as $,y as Go,z as $o}from"./chunk-VPBQLZCI.js";import"./chunk-ERLETJMZ.js";import"./chunk-FRDOFRM7.js";import"./chunk-X2LENRE7.js";import{_ as Fo,a as J,ba as Oo,ha as Ko}from"./chunk-O4EDZSHP.js";import"./chunk-HU3KBV5G.js";import{b as K}from"./chunk-6ZPGW3YM.js";import"./chunk-ZKDHZDUE.js";import"./chunk-4UESFVD2.js";import"./chunk-D7KW4FFX.js";import"./chunk-RAXGEVRQ.js";import"./chunk-S4N75E3H.js";import"./chunk-7MX3OHNE.js";import"./chunk-2BSLA752.js";import"./chunk-FLCN6MAI.js";import"./chunk-7E3KY4EN.js";import"./chunk-JIRWXBHS.js";import"./chunk-3TVEFIPW.js";import"./chunk-UXFKODVN.js";import{a as G,b as mo}from"./chunk-IMRS4RGO.js";import{a as Bo}from"./chunk-52GWQSZH.js";import{a as io}from"./chunk-TPSXCUGD.js";import"./chunk-XKG5DY6K.js";import{d as Do,f as jo}from"./chunk-6PGLMYAE.js";import{g as zo}from"./chunk-RMQJRDTF.js";import{c as m}from"./chunk-2YLR7R2N.js";import"./chunk-MVLY6WUP.js";import"./chunk-ZEAKIEIQ.js";import"./chunk-5KSDRGLW.js";import"./chunk-DQTCC3FF.js";import"./chunk-O5LVHMPV.js";import{C as v,D as R,v as h}from"./chunk-CVJKAN5R.js";import"./chunk-A5Y2KVNP.js";import{a as Lo,q as wo,r as Co,y as Wo}from"./chunk-GXQ645QR.js";import"./chunk-DQ2NYVYI.js";import{J as B,V as w,c as O}from"./chunk-C2H3SRET.js";import{a as S,f as no}from"./chunk-V4YVDLI4.js";import"./chunk-TW6D7CWA.js";import"./chunk-3T5D6KAV.js";import"./chunk-MAWXDEJZ.js";import"./chunk-Z37GURZ6.js";import"./chunk-IYYFWVWL.js";import"./chunk-CLSYGH6A.js";import"./chunk-DHRSDA7N.js";import"./chunk-RYNAOZ73.js";import"./chunk-Q34CQJXG.js";import"./chunk-GKHVFCKF.js";import{f as i,m as t,o as r}from"./chunk-6V2G2Z5W.js";t();r();v();var T=i(S());t();r();var ho=i(R()),E=i(S());var F=i(no());t();r();var uo=i(S());v();t();r();var pe={root:"_root_1k0l3_1"};var po=10,fe=({onChange:o,value:e})=>uo.default.createElement(m.Box,{className:pe.root},uo.default.createElement(wo.Search,{placeholder:h("extension_wallet_list_input_text_name"),onChange:o,value:e}));fe.showMe=o=>{let{walletCount:e}=o;return e>po};var de=C(fe);t();r();var Me=i(O()),U=i(no());var N=i(S());t();r();var _e=i(O()),ge=i(R());v();var q=i(S());var he=i(io());t();r();var eo={root:"_root_nf04o_1",button:"_button_nf04o_4",icon:"_icon_nf04o_7"};var xe=({keyringIdentity:o})=>{let e=(0,he.useHistory)(),l=(0,q.useCallback)(()=>{e.push(`${Ko}?keyringId=${o==null?void 0:o.keyringId}`)},[e,o]);return q.default.createElement(m.Box,{className:eo.root},q.default.createElement(w,{block:!0,className:eo.button,category:w.CATEGORY.text,type:w.TYPE.red,size:w.SIZE.md,onClick:l},h("extension_wallet_list_btn_backup_now"),q.default.createElement(B,{className:(0,_e.default)("okx-wallet-plugin-to",eo.icon)})))};xe.showMe=o=>{let{keyringIdentity:e,keyword:l}=o;return l?!1:!!(0,ge.get)(e,"walletIdentities.0.backupData",[]).length};var ye=C(xe);t();r();var to=i(S());v();t();r();var fo={root:"_root_vg8p3_1",text:"_text_vg8p3_9"};var be=o=>{var s,a;let{keyringIdentity:e}=o,l=e==null?void 0:e.initialType,n=e==null?void 0:e.hardwareWalletModel,c="";if(G(l)&&!Q()&&(c=h("wallet_extension_toast_hardware_only_supports_evm_assets")),mo(l)){let f=(a=Do)==null?void 0:a[(s=jo)==null?void 0:s[n]];f&&(c=h("extensions_hardware_support_text_evm_only",{brand:f}))}return c?to.default.createElement(m.FlexBox,{align:m.ALIGN.start,className:fo.root},to.default.createElement(B,{className:"okx-wallet-plugin-information-circle"}),to.default.createElement(m.Box,{className:fo.text},c)):null};be.showMe=o=>{let{keyringIdentity:e,keyword:l}=o;if(l)return!1;let n=e==null?void 0:e.initialType;return!!(mo(n)||G(n))};var Ne=C(be);t();r();var we=i(O());var z=i(no()),Ce=i(K());var We=i(io()),W=i(S());t();r();var H=i(S()),Te=i(O());v();t();r();var I={root:"_root_1negw_1",language:"_language_1negw_11",count:"_count_1negw_15",verticalLine:"_verticalLine_1negw_20"};var Se=({walletIdentity:o={}})=>{let e=le(),l=(o==null?void 0:o.account)||{},n={num:Object.keys(l).length};return H.default.createElement(m.Box,{className:I.root,onClick:c=>(c.stopPropagation(),e(o==null?void 0:o.walletId))},H.default.createElement(B,{className:(0,Te.default)("icon-okds-language okds-language",I.language)}),H.default.createElement(m.Box,{className:I.count},h("wallet_extension_card_tab_networks",n)),H.default.createElement(m.Box,{className:I.verticalLine}),H.default.createElement(B,{className:"okds-plus-circle"}))};Se.showMe=o=>{let{walletIdentity:e,isRpcMode:l}=o;return l?!1:!!(G(e==null?void 0:e.initialType)&&Q())};var Le=C(Se);t();r();var V={root:"_root_joikw_1",highlight:"_highlight_joikw_11",disabled:"_disabled_joikw_14",main:"_main_joikw_17",walletNameWrap:"_walletNameWrap_joikw_17",walletName:"_walletName_joikw_17",selector:"_selector_joikw_20",icon:"_icon_joikw_27"};var Ae="js-hook-current-wallet",Be=`.${Ae}`,ke=({keyword:o,selected:e,createdId:l,isRpcMode:n,currentRpcNetwork:c,hiddenAssets:s,walletIdentity:a={},onUpdateSelectedWallet:f,disabled:p=!1})=>{let g=(a==null?void 0:a.walletId)||"",_=(0,Ce.useDispatch)(),b=(0,We.useHistory)(),x=e===g,y=(0,W.useMemo)(()=>(a==null?void 0:a.initialType)===zo.MPC_KEYRING,[a]),A=(0,W.useCallback)(async()=>{try{if(p)return;await _(Ho(g)),f(),b.push(J)}catch{}},[x,p,g,_,b]);return W.default.createElement(m.FlexBox,{align:m.ALIGN.center,onClick:A,className:(0,we.default)(V.root,{[V.highlight]:g===l,[V.disabled]:p,[Ae]:x})},W.default.createElement(ne,{keyword:o,isRpcMode:n,currentRpcNetwork:c,disabled:p,isMpcWallet:y,hiddenAssets:s,walletIdentity:a},W.default.createElement(Le,{isRpcMode:n,walletIdentity:a})),W.default.createElement(m.Box,{className:V.selector},x?W.default.createElement(Co.Circle,{checked:!0}):null))};ke.propTypes={keyword:z.default.string.isRequired,selected:z.default.string.isRequired,createdId:z.default.string.isRequired,hiddenAssets:z.default.bool.isRequired,isRpcMode:z.default.bool.isRequired,walletIdentity:z.default.object.isRequired,onUpdateSelectedWallet:z.default.func.isRequired};var Ee=ke;t();r();var k={root:"_root_ugxdy_1",keyring:"_keyring_ugxdy_15",header:"_header_ugxdy_18",title:"_title_ugxdy_21",content:"_content_ugxdy_25",icon:"_icon_ugxdy_28",hideIcon:"_hideIcon_ugxdy_31",keyringName:"_keyringName_ugxdy_34",keyringAsset:"_keyringAsset_ugxdy_41",mpcStatusAlertWrapper:"_mpcStatusAlertWrapper_ugxdy_46"};var ve=({keyword:o,selected:e,isRpcMode:l,currentRpcNetwork:n,hiddenAssets:c,keyringIdentity:s,onUpdateSelectedWallet:a,isMpcWallet:f})=>{var A;let[p,g]=me(),[_,b]=(0,N.useState)(!0);(0,N.useEffect)(()=>{o&&!_&&b(!0)},[o,_]);let x=()=>{o||b(L=>!L)},y=(0,N.useMemo)(()=>{let{mpcStatus:L,accountStatus:Z}=(s==null?void 0:s.status)||{};return f&&(L===co.ESCAPE||L===co.RECOVER||Z===ao.DELETE||Z===ao.FROZEN)},[f,s==null?void 0:s.status]);return N.default.createElement(m.Box,{className:k.root},N.default.createElement(Lo,{onToggle:x,expanded:_,titleClass:k.title,className:k.keyring,headerClassName:k.header,contentClassName:k.content,iconClassName:(0,Me.default)(k.icon,{[k.hideIcon]:o}),title:N.default.createElement(re,{keyword:o,isRpcMode:l,currentRpcNetwork:n,hiddenAssets:c,keyringIdentity:s,isMpcWallet:f})},f&&N.default.createElement(ae,{keyringIdentity:s,className:k.mpcStatusAlertWrapper}),(A=s==null?void 0:s.walletIdentities)==null?void 0:A.map(L=>N.default.createElement(Ee,{keyword:o,selected:e,createdId:p,isRpcMode:l,currentRpcNetwork:n,hiddenAssets:c,key:L.walletId,walletIdentity:L,onUpdateSelectedWallet:a,disabled:y})),N.default.createElement(ie,{keyword:o,createdCb:g,isRpcMode:l,keyringIdentity:s}),N.default.createElement(Ne,{keyword:o,keyringIdentity:s})),N.default.createElement(ye,{keyringIdentity:s,keyword:o}))};ve.propTypes={keyword:U.default.string.isRequired,selected:U.default.string.isRequired,isRpcMode:U.default.bool.isRequired,hiddenAssets:U.default.bool.isRequired,keyringIdentity:U.default.object.isRequired,onUpdateSelectedWallet:U.default.func.isRequired};var ze=ve;v();t();r();var ro=i(S()),Ze=(o,e)=>{let l=o.getBoundingClientRect(),n=e.getBoundingClientRect(),c=n.height,s=l.height;return{top:Number.parseInt(n.top-l.top,10),childHeight:c,scrollFatherHeight:s}},Re=({scrollFatherRef:o,targetSelector:e,bottomOffset:l=0,topOffset:n=0,targetTop:c=0,behavior:s="instant"})=>{let[a,f]=(0,ro.useState)(!1);return(0,ro.useEffect)(()=>{var g;let p=o.current;if(p){let _=p.querySelector(e);if(_){let{top:b,childHeight:x,scrollFatherHeight:y}=Ze(p,_);if(b+x<y-l){f(!0);return}b-=c,b-=n,(g=p==null?void 0:p.scrollTo)==null||g.call(p,{top:b,left:0,behavior:s}),f(!0)}}},[o]),{needListenScroll:a}},Pe=Re;var De=i(K());t();r();var go=i(S());t();r();var _o={root:"_root_1juqf_1",icon:"_icon_1juqf_19"};var Qe=160,Je=({scrollRef:o})=>{let e=$o(o);if(!o||!o.current||!e||e.top<Qe)return null;let l=()=>{o.current.scrollTo({top:0,left:0})};return go.default.createElement(m.Box,{className:_o.root,onClick:l},go.default.createElement(B,{className:`okx-wallet-plugin-arrow-up ${_o.icon}`}))},Ue=Je;t();r();var lo={root:"_root_1jel8_1",walletList:"_walletList_1jel8_6",empty:"_empty_1jel8_9"};var xo=({hiddenAssets:o,totalAssetsSlot:e,renderAddKeyring:l,keyringIdentities:n,onUpdateSelectedWallet:c})=>{let{isRpcMode:s}=(0,De.useSelector)(j),a=oo(),f=Io();$(c,[f]);let{keyword:p,onKeyWordChange:g,trimedKeyWord:_,filteredKeyringIdentities:b}=se(n),x=()=>b.map(P=>E.default.createElement(ze,{keyword:_,selected:f,isRpcMode:s,isMpcWallet:Yo(P==null?void 0:P.keyringIdentityType),currentRpcNetwork:a,hiddenAssets:o,keyringIdentity:P,onUpdateSelectedWallet:c})),y=(0,E.useRef)(),A=Po(n).length,{needListenScroll:L}=Pe({scrollFatherRef:y,targetSelector:Be,topOffset:A>po?66:0});$(()=>{var P;(P=y==null?void 0:y.current)!=null&&P.scrollTo&&y.current.scrollTo(0,0)},[_]);let Z=()=>E.default.createElement(Wo.State,{className:lo.empty,title:h("extension_wallet_empty_text_no_result")});return E.default.createElement(m.Box,{className:lo.root,ref:y},e,E.default.createElement(de,{value:p,onChange:g,walletCount:A,keyringIdentities:n}),E.default.createElement(m.Box,{className:lo.walletList},b.length?x():Z()),E.default.createElement(Ue,{scrollRef:y}),l({keyword:p,scrollWrapRef:y,needListenScroll:L}))};xo.defaultProps={hiddenAssets:!1,totalAssetsSlot:null,renderAddKeyring:ho.noop,onUpdateSelectedWallet:ho.noop};xo.propTypes={totalAssetsSlot:F.default.node,renderAddKeyring:F.default.func,keyringIdentities:F.default.array.isRequired,hiddenAssets:F.default.bool,onUpdateSelectedWallet:F.default.func};var je=xo;var so=i(K()),Ye=i(R());t();r();var yo=i(K()),qe=i(R());var Xe=()=>{let o=(0,yo.useSelector)(Xo),e=(0,yo.useSelector)(Jo),l=ee(),n=oe();return ue(),$(()=>{let c=l==null?void 0:l.reduce((a,{walletIdentities:f})=>[...a,...f.map(({account:{mainnet:p}})=>p)],[]),s=(0,qe.chunk)(c,20);(async()=>s.forEach(async a=>{await n({chainId:o.chainId,wallets:a,injectWeb3:await Qo(o.rpcUrl)})}))()},[e]),null},He=Xe;t();r();v();var D=i(S());var To=i(K());t();r();var d=i(S()),bo=i(O());t();r();function ot(){return 1.1 .toLocaleString().substring(1,2)}function Fe(o){let e=ot(),l=o.indexOf(e);return l===-1?o.length:l}t();r();var M={"number-scroll-view":"_number-scroll-view_ziyc8_1",numberScrollView:"_number-scroll-view_ziyc8_1","number-scroll-truncated":"_number-scroll-truncated_ziyc8_8",numberScrollTruncated:"_number-scroll-truncated_ziyc8_8","number-scroll-placeholder":"_number-scroll-placeholder_ziyc8_11",numberScrollPlaceholder:"_number-scroll-placeholder_ziyc8_11","number-scroll-column-container":"_number-scroll-column-container_ziyc8_15",numberScrollColumnContainer:"_number-scroll-column-container_ziyc8_15","number-scroll-column":"_number-scroll-column_ziyc8_15",numberScrollColumn:"_number-scroll-column_ziyc8_15","number-scroll-digit":"_number-scroll-digit_ziyc8_26",numberScrollDigit:"_number-scroll-digit_ziyc8_26","number-scroll-non-number":"_number-scroll-non-number_ziyc8_29",numberScrollNonNumber:"_number-scroll-non-number_ziyc8_29","number-scroll-tooltip":"_number-scroll-tooltip_ziyc8_33",numberScrollTooltip:"_number-scroll-tooltip_ziyc8_33","number-scroll-tooltip-content":"_number-scroll-tooltip-content_ziyc8_40",numberScrollTooltipContent:"_number-scroll-tooltip-content_ziyc8_40"};var et=({digit:o})=>d.default.createElement("div",{className:M.numberScrollNonNumber},d.default.createElement("span",null,o)),tt=({digit:o})=>{let e=(0,d.useMemo)(()=>`-${o*10}%`,[o]),l=Go(o);return d.default.createElement("div",{className:M.numberScrollColumnContainer},d.default.createElement("div",{className:(0,bo.default)(M.numberScrollColumn),style:{transform:`translateY(${e})`,transition:l===void 0?"none":void 0}},[0,1,2,3,4,5,6,7,8,9].map(n=>d.default.createElement("div",{key:n,className:M.numberScrollDigit},d.default.createElement("span",null,n)))),d.default.createElement("span",{className:M.numberScrollPlaceholder},"0"))},rt=({numberString:o,className:e=""})=>{let l=(0,d.useRef)(null),[n,c]=(0,d.useState)(!1);(0,d.useLayoutEffect)(()=>{l.current&&c(ko(l.current))},[o,l]);let s=(0,d.useMemo)(()=>Fe(o),[o]),a=o.split(""),f=p=>p.map((g,_)=>g.match(/\d/)?d.default.createElement(tt,{key:_-s,digit:parseFloat(g)}):d.default.createElement(et,{key:_-s,digit:g}));return d.default.createElement("div",{ref:l,className:(0,bo.default)(M.numberScrollView,e)},n?o:f(a),d.default.createElement(Ao,{title:n?o:"",className:M.numberScrollTooltip,contentClassName:M.numberScrollTooltipContent},null))},Oe=rt;t();r();var No={root:"_root_1fz79_1",title:"_title_1fz79_7"};var lt=({hiddenAssets:o,onToggleHiddenAssets:e})=>{let l=(0,To.useSelector)(Uo),[{walletAsset:n}]=X(),{isRpcMode:c}=(0,To.useSelector)(j),s=oo(),a=(0,D.useMemo)(()=>c?`${Mo(n)} ${(s==null?void 0:s.symbol)||""}`:Eo(n,{symbol:l==null?void 0:l.symbol,useApproximate:!1}),[c,n,l,s]);return D.default.createElement(m.Box,{className:No.root},D.default.createElement(m.Box,{className:No.title},h("wallet_manage_wallet_subtitle_total_assests")),D.default.createElement(vo.AdaptiveText,{strong:!0,autoSize:!0,onClick:e,text:a},o?"*****":D.default.createElement(Oe,{numberString:a})))},Ke=lt;t();r();v();var $e=i(io()),So=i(S());t();r();var Ge={root:"_root_xslen_1",slideDown:"_slideDown_xslen_10"};var Ie=()=>{let o=(0,$e.useHistory)(),e=()=>{o.push(Fo)};return So.default.createElement(m.Box,{className:Ge.root},So.default.createElement(w,{onClick:e,category:w.CATEGORY.fill,type:w.TYPE.gray,size:w.SIZE.lg,block:!0},h("wallet_manage_filter_btn_add_wallet")))};Ie.showMe=o=>{let{keyword:e}=o;return!e};var Ve=C(Ie);t();r();var Y={root:"_root_12w6i_1",editWalletEntry:"_editWalletEntry_12w6i_6",freeze:"_freeze_12w6i_13"};var st=o=>{let{history:e}=o,{isRpcMode:l}=(0,so.useSelector)(j),n=Ro(),c=n.get("fromHome"),s=()=>{n.get("from")==="seedVerify"?e.replace(J):e.goBack()},{resetFilterInfo:a}=te(),f=(0,so.useDispatch)(),p=(0,T.useCallback)(()=>{a()},[a]);(0,T.useEffect)(()=>{f(ce())},[f]),(0,T.useEffect)(()=>{let x=document.getElementsByClassName("main-container-wrapper")[0];return x?(x.classList.add(Y.freeze),()=>{x.classList.remove(Y.freeze)}):Ye.noop},[]),(0,T.useEffect)(()=>{qo()},[]);let[,g]=X(null),[_,b]=Zo();return T.default.createElement(m.FlexBox,{direction:m.DIRECTION.vertical,align:m.ALIGN.unset,className:Y.root},T.default.createElement(Vo,{bordered:!1,backable:{icon:c==="1"?"okds-close":"okds-arrow-chevron-left-centered-md"},onBack:()=>s()},T.default.createElement(Bo,{className:Y.editWalletEntry,to:Oo},h("wallet_manage_filter_btn_edit_wallet"))),T.default.createElement(je,{totalAssetsSlot:T.default.createElement(Ke,{hiddenAssets:_,onToggleHiddenAssets:b}),hiddenAssets:_,keyringIdentities:g,onUpdateSelectedWallet:p,renderAddKeyring:({keyword:x,scrollWrapRef:y,needListenScroll:A})=>T.default.createElement(Ve,{keyword:x,scrollWrapRef:y,needListenScroll:A})}),!!l&&T.default.createElement(He,null))},dn=st;export{dn as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=WalletList-CK3LRA6I.js.map
