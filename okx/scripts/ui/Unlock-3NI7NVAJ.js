import{a as X}from"./chunk-LPACBAPO.js";import{a as J}from"./chunk-INFVX5XS.js";import{a as Q}from"./chunk-I3HSL7JC.js";import{r as j}from"./chunk-FEET7RP6.js";import"./chunk-MBJ4MFYL.js";import"./chunk-PCY622ND.js";import"./chunk-NS35PZCP.js";import"./chunk-XOD56IFT.js";import"./chunk-BBN3UGKM.js";import"./chunk-QMNAWRVI.js";import"./chunk-D6ZXZUY6.js";import"./chunk-QMF5LKVF.js";import"./chunk-VMACN7YR.js";import{a as Y}from"./chunk-3QK7FEQ5.js";import{g as K}from"./chunk-2HWABU7H.js";import"./chunk-APEQZGKB.js";import{b as W}from"./chunk-P2BTSOJO.js";import{a as Z}from"./chunk-AX4SXHC6.js";import"./chunk-VIS7KIVI.js";import"./chunk-OZ6XSJY6.js";import"./chunk-DMJQUOJT.js";import"./chunk-62JDSRZZ.js";import"./chunk-FF7XOOGZ.js";import"./chunk-4OTZHHYZ.js";import"./chunk-HQT4AKFZ.js";import"./chunk-JUIB44FD.js";import"./chunk-R6GCLTW2.js";import{d as H,e as V}from"./chunk-4KY5XQ5E.js";import"./chunk-S3ECGMEP.js";import"./chunk-PX7HII6H.js";import"./chunk-UEO7AURD.js";import"./chunk-DXFO7P35.js";import{j as k}from"./chunk-TPEASXIF.js";import"./chunk-A336VZZF.js";import"./chunk-XEOGXIVD.js";import{p as s}from"./chunk-IU3TYIWS.js";import{b as G,j as q}from"./chunk-VPBQLZCI.js";import"./chunk-ERLETJMZ.js";import"./chunk-FRDOFRM7.js";import"./chunk-X2LENRE7.js";import{a as L,x as z,y as M}from"./chunk-O4EDZSHP.js";import"./chunk-HU3KBV5G.js";import{b as _o}from"./chunk-6ZPGW3YM.js";import"./chunk-ZKDHZDUE.js";import"./chunk-4UESFVD2.js";import"./chunk-D7KW4FFX.js";import"./chunk-RAXGEVRQ.js";import"./chunk-S4N75E3H.js";import"./chunk-7MX3OHNE.js";import"./chunk-2BSLA752.js";import{g as B}from"./chunk-FLCN6MAI.js";import"./chunk-7E3KY4EN.js";import"./chunk-JIRWXBHS.js";import"./chunk-3TVEFIPW.js";import"./chunk-UXFKODVN.js";import"./chunk-IMRS4RGO.js";import{a as D}from"./chunk-52GWQSZH.js";import{a as uo}from"./chunk-TPSXCUGD.js";import"./chunk-XKG5DY6K.js";import"./chunk-6PGLMYAE.js";import"./chunk-RMQJRDTF.js";import{c as m}from"./chunk-2YLR7R2N.js";import"./chunk-MVLY6WUP.js";import"./chunk-ZEAKIEIQ.js";import"./chunk-5KSDRGLW.js";import"./chunk-DQTCC3FF.js";import"./chunk-O5LVHMPV.js";import{C,Xb as O,ec as po,hc as A,nc as mo,v as r}from"./chunk-CVJKAN5R.js";import"./chunk-A5Y2KVNP.js";import{D as f,H as U,o as F,q as b}from"./chunk-GXQ645QR.js";import"./chunk-DQ2NYVYI.js";import{P,V as c,c as no}from"./chunk-C2H3SRET.js";import{a as N}from"./chunk-V4YVDLI4.js";import"./chunk-TW6D7CWA.js";import"./chunk-3T5D6KAV.js";import"./chunk-MAWXDEJZ.js";import"./chunk-Z37GURZ6.js";import"./chunk-IYYFWVWL.js";import"./chunk-CLSYGH6A.js";import"./chunk-DHRSDA7N.js";import"./chunk-RYNAOZ73.js";import"./chunk-Q34CQJXG.js";import"./chunk-GKHVFCKF.js";import{f as u,m as i,o as l}from"./chunk-6V2G2Z5W.js";i();l();var o=u(N()),eo=u(no());C();i();l();var w=u(N());var h=u(_o());C();var oo=u(uo());mo();po();i();l();var $=()=>{let e=Z("passwordSecurity",{...Y,location:window.location.href});return e==null?void 0:e.data};i();l();var d=u(N());C();i();l();var t={main:"_main_14hum_1",coverWrapper:"_coverWrapper_14hum_6",title:"_title_14hum_9",titleWrapper:"_titleWrapper_14hum_14",subTitle:"_subTitle_14hum_17",content:"_content_14hum_21",loader:"_loader_14hum_24",password:"_password_14hum_29",error:"_error_14hum_33",forgotPassword:"_forgotPassword_14hum_39",btn:"_btn_14hum_44",centerImage:"_centerImage_14hum_47",fontSize:"_fontSize_14hum_54",updateMb32:"_updateMb32_14hum_57",titleUpdate:"_titleUpdate_14hum_60",textUpdate:"_textUpdate_14hum_65"};var R=e=>{let n=B({dark:"/cdn/assets/imgs/246/74D87A474619BCFE.png",light:"/cdn/assets/imgs/246/696DAB049D0A9095.png"});F.action({mobileWidth:"77.777777%",noTopRadius:!1,alignBottom:!1,hideCloseBtn:!0,btnFull:!0,children:d.default.createElement("div",{className:t.updateMb32},d.default.createElement("div",{className:t.centerImage},d.default.createElement("img",{src:n,alt:"updatePassword"})),d.default.createElement("div",{className:t.titleUpdate},r("wallet_extension_password_popup_title_wallet_security_tip")),d.default.createElement("div",{className:t.textUpdate},r("wallet_extension_password_popup_text_wallet_security_tip"))),confirmText:r("wallet_extension_password_popup_btn_update_password"),cancelText:r("wallet_extension_password_popup_btn_maybe_later"),maskClosable:!1,onConfirm:a=>{window.localStorage.pss=1,e.push(M),a.destroy()},cancelBtnProps:{category:"text",type:"primary"},onCancel:a=>{window.localStorage.pss=1,a.destroy()}})};var co=()=>(0,h.useSelector)(({metamask:e})=>e==null?void 0:e.isUnlocked),to=({form:e})=>{let n=(0,oo.useHistory)(),a=(0,h.useDispatch)(),y=co(),E=K(),[p,_]=(0,w.useState)(!1),[g,T]=(0,w.useState)(null),[{walletAsset:ro=0}]=j(),so=$(),ao=(0,h.useSelector)(J),io=A()===O;q(()=>{W({islogin:"no",isbydapp:io?" yes":"no",dapp_url:ao,wallet_id:E})}),w.default.useLayoutEffect(()=>{y&&n.push(L)},[y]);let lo=G(async v=>{let S=e.getFieldValue("password");if(S&&!p&&!g)try{let x=window.localStorage.pss;_(!0),await a(k(S)),so&&S.length<Q&&Number(ro)>100&&!x&&R(n),n.push(L)}catch({message:x}){x===H?T(r("wallet_set_password_errortip_password_wrong")):x===V&&U.error(r("wallet_home_toast_version_error")),v&&v()}finally{_(!1)}},[e,p,g]);return{submitting:p,passwordError:g,setPasswordError:T,onSubmit:lo}};var fo=()=>{let e=f.useForm(),{submitting:n,passwordError:a,setPasswordError:y,onSubmit:E}=to({form:e}),p=(0,o.useRef)(null);return o.default.createElement(m.Container,{className:t.main},o.default.createElement(m.FlexBox,{align:m.ALIGN.center,className:t.coverWrapper},o.default.createElement(X,null)),o.default.createElement(m.Space,{space:4,className:t.titleWrapper,direction:m.DIRECTION.vertical},o.default.createElement(s.Text,{strong:700,align:s.ALIGN.center,className:t.title},r("extension_home_main_title_portal")),o.default.createElement(s.Text,{size:s.SIZE.xs,align:s.ALIGN.center,type:s.TYPE.secondary,className:t.subTitle},r("extension_home_subtitle_wallet_trade_nft_defi"))),o.default.createElement(m.Box,{className:t.content},o.default.createElement(f,{form:e,onChange:()=>{y(null)},onSubmit:async()=>{await E(()=>{p.current&&setTimeout(()=>{p.current.focus()})})}},o.default.createElement(f.Item,{useChildError:!0,name:"password",className:t.password,extra:!!a&&o.default.createElement(s.Text,{size:s.SIZE.sm,className:t.error},a)},o.default.createElement(b.Password,{autoFocus:"autoFocus",className:(0,eo.default)({error:!!a}),size:b.SIZE.xl,autoComplete:"off",errorType:b.TIP_TYPE.always,disabled:n,placeholder:r("wallet_home_lock_wallet_placeholder_input_password"),onRef:_=>{p.current=_}})),o.default.createElement(f.Item,{shouldUpdate:!0,className:t.btn},({getFieldValue:_})=>{let T=!_("password")||!!a;return o.default.createElement(c,{block:!0,htmlType:"submit",disabled:T,category:c.CATEGORY.fill,type:c.TYPE.highlight,size:c.SIZE.xl},n&&o.default.createElement(P.Circle,{size:P.SIZE.sm,className:t.loader,loaderStyle:{width:"20px",height:"20px"}}),r("wallet_home_btn_unlock"))})),o.default.createElement(D,{to:z,className:t.forgotPassword},o.default.createElement(s.Text,{strong:!0,size:s.SIZE.sm,type:s.TYPE.secondary},r("wallet_footer_subtitle_forgot_password")))))},mt=fo;export{mt as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Unlock-3NI7NVAJ.js.map
