import{a as X}from"./chunk-KOSLQKT7.js";import{a as O}from"./chunk-PZPHBKNA.js";import{a as D,b as _}from"./chunk-236QZ4T2.js";import"./chunk-P34A6LS4.js";import"./chunk-OCVOVZC6.js";import"./chunk-6HDV4AIS.js";import"./chunk-HHT2ACSL.js";import{a as B}from"./chunk-IB4K3FN6.js";import"./chunk-NLMSL6KB.js";import{a as U}from"./chunk-E5AYNHUH.js";import"./chunk-NC54FPSJ.js";import"./chunk-5TSD6WDE.js";import"./chunk-TPBDSGSX.js";import"./chunk-I2KPNTIF.js";import"./chunk-MEW6SUUR.js";import"./chunk-D6O2GLPR.js";import"./chunk-2CPFAAZ7.js";import"./chunk-ZG26PGPF.js";import"./chunk-HE77KLJ4.js";import"./chunk-NOZM7AA3.js";import"./chunk-73YQ4YAD.js";import"./chunk-OEVJ7FDO.js";import"./chunk-ATUBFYS2.js";import"./chunk-2N2ADYFP.js";import"./chunk-YLO74Q7W.js";import"./chunk-D54UDGZS.js";import"./chunk-2SGW2RXR.js";import"./chunk-ZXEHJOAD.js";import"./chunk-U3YDJ2W7.js";import"./chunk-VCWU5FEX.js";import"./chunk-KZ77CGYD.js";import"./chunk-E73QHIZ6.js";import{c as M,e as P}from"./chunk-E2KMZQ6K.js";import"./chunk-JXT6JCNO.js";import"./chunk-AHAXQBXQ.js";import"./chunk-DUZ4ULSN.js";import"./chunk-PGPPXRV7.js";import"./chunk-54GDJWA6.js";import"./chunk-UGYRJNZG.js";import"./chunk-PLVZLQPX.js";import"./chunk-QNVM7T5C.js";import"./chunk-7T7NBYQH.js";import"./chunk-FEET7RP6.js";import"./chunk-MBJ4MFYL.js";import"./chunk-PCY622ND.js";import"./chunk-NS35PZCP.js";import"./chunk-XOD56IFT.js";import"./chunk-BBN3UGKM.js";import"./chunk-5DEIKYJL.js";import"./chunk-QMNAWRVI.js";import"./chunk-D6ZXZUY6.js";import"./chunk-QMF5LKVF.js";import"./chunk-VMACN7YR.js";import"./chunk-IQVVVGEA.js";import"./chunk-YIKS2AYL.js";import"./chunk-BTS2GOAC.js";import"./chunk-2HWABU7H.js";import"./chunk-APEQZGKB.js";import"./chunk-AX4SXHC6.js";import"./chunk-UCS37WXR.js";import"./chunk-DUHXKIBS.js";import"./chunk-QNEJI55N.js";import"./chunk-5W7SRP5N.js";import"./chunk-YVRXETFX.js";import"./chunk-GUWGENNL.js";import"./chunk-WYB2CUAN.js";import"./chunk-B2BOSVTW.js";import"./chunk-GUJXW3GJ.js";import"./chunk-VIS7KIVI.js";import"./chunk-F64VYES3.js";import"./chunk-DHX2X277.js";import"./chunk-67YO4IPY.js";import"./chunk-DLUAVD7X.js";import"./chunk-WRWXCAEZ.js";import"./chunk-OZ6XSJY6.js";import"./chunk-DMJQUOJT.js";import"./chunk-MTMZQEHP.js";import"./chunk-NKTQMEXG.js";import"./chunk-62JDSRZZ.js";import"./chunk-FF7XOOGZ.js";import"./chunk-4OTZHHYZ.js";import"./chunk-HQT4AKFZ.js";import"./chunk-JUIB44FD.js";import"./chunk-R6GCLTW2.js";import"./chunk-4KY5XQ5E.js";import"./chunk-S3ECGMEP.js";import"./chunk-PX7HII6H.js";import"./chunk-UEO7AURD.js";import"./chunk-DXFO7P35.js";import"./chunk-TPEASXIF.js";import"./chunk-JSAFBAMQ.js";import"./chunk-A336VZZF.js";import"./chunk-XEOGXIVD.js";import"./chunk-PCGRDRHF.js";import"./chunk-IU3TYIWS.js";import{o as G}from"./chunk-VPBQLZCI.js";import"./chunk-ERLETJMZ.js";import"./chunk-FRDOFRM7.js";import"./chunk-X2LENRE7.js";import"./chunk-O4EDZSHP.js";import"./chunk-HU3KBV5G.js";import"./chunk-6ZPGW3YM.js";import"./chunk-ZKDHZDUE.js";import"./chunk-4UESFVD2.js";import"./chunk-D7KW4FFX.js";import"./chunk-RAXGEVRQ.js";import"./chunk-S4N75E3H.js";import"./chunk-7MX3OHNE.js";import"./chunk-2BSLA752.js";import"./chunk-FLCN6MAI.js";import"./chunk-YMZEQGAL.js";import"./chunk-7E3KY4EN.js";import"./chunk-JIRWXBHS.js";import"./chunk-3TVEFIPW.js";import{G as E,H as T,u as x}from"./chunk-UXFKODVN.js";import"./chunk-IMRS4RGO.js";import"./chunk-52GWQSZH.js";import"./chunk-TPSXCUGD.js";import"./chunk-XKG5DY6K.js";import"./chunk-6PGLMYAE.js";import"./chunk-RMQJRDTF.js";import"./chunk-2YLR7R2N.js";import"./chunk-MVLY6WUP.js";import"./chunk-ZEAKIEIQ.js";import{a as w}from"./chunk-5KSDRGLW.js";import"./chunk-DQTCC3FF.js";import"./chunk-O5LVHMPV.js";import{Ab as A,D as K,Ga as d,Pa as I,Vb as V}from"./chunk-CVJKAN5R.js";import"./chunk-A5Y2KVNP.js";import"./chunk-GXQ645QR.js";import"./chunk-DQ2NYVYI.js";import"./chunk-C2H3SRET.js";import{a as F}from"./chunk-V4YVDLI4.js";import"./chunk-UXBKFN2U.js";import"./chunk-HCW4K7TR.js";import"./chunk-Z4JATHZR.js";import"./chunk-TW6D7CWA.js";import"./chunk-3T5D6KAV.js";import"./chunk-MAWXDEJZ.js";import"./chunk-Z37GURZ6.js";import{b as Q}from"./chunk-IYYFWVWL.js";import"./chunk-CLSYGH6A.js";import"./chunk-DHRSDA7N.js";import"./chunk-RYNAOZ73.js";import"./chunk-Q34CQJXG.js";import"./chunk-GKHVFCKF.js";import{f as S,m as i,o as m}from"./chunk-6V2G2Z5W.js";i();m();var h=S(F());i();m();var j=S(F());I();i();m();V();var R=S(K());i();m();var y=S(F());i();m();var C=S(Q());I();var N=(t={})=>{let{params:e={}}=t,{transaction:o={}}=e;return o},Y=async(t={})=>{let{contractAddress:e,contractName:o,functionName:r,functionArgs:c}=t,{getRawTransaction:a}=await w(),s={data:{type:x.CONTRACT_CALL,data:{contract:e,contractName:o,functionName:r,functionArgs:c}}};return await a(C.Currency.Stx,s)},Z=async(t={})=>{let{recipient:e,amount:o,memo:r}=t,{getRawTransaction:c}=await w(),a={data:{type:x.TRANSFER,data:{to:e,amount:o,memo:r}}};return await c(C.Currency.Stx,a)},$=async(t={})=>t.txType===T.CONTRACT_CALL?Y(t):t.txType===T.STX_TRANSFER?Z(t):"",W=async({unapproved:t={},baseCoin:e={},fromAddress:o,value:r})=>{let c=N(t),a=await $(c),s=await U({coinId:(e==null?void 0:e.coinId)||d,fromAddress:o,value:r,inputData:a});return(s==null?void 0:s.gasLimit)||"0"};var v=({unapproved:t={},baseCoin:e})=>{let[o,r]=(0,y.useState)(),[c,{setTrue:a,setFalse:s}]=G(!0),[n,{setTrue:l,setFalse:u}]=G(!1),p=B(t);return(0,y.useEffect)(()=>{(async()=>{try{a(),u();let f=await W({unapproved:t,baseCoin:e,fromAddress:p==null?void 0:p.address,value:"0"});r(f),s()}catch{l(),s()}})()},[t==null?void 0:t.id]),{isLoadingFee:c,isGasError:n,fee:o}},q=v;var tt=({unapproved:t,baseCoin:e,coinId:o})=>{var f;let{fee:r,isLoadingFee:c,isGasError:a}=q({unapproved:t,baseCoin:e}),s=(f=P(o,t.walletId))==null?void 0:f.coinAmountInt,n=N(t),l=(n==null?void 0:n.txType)===T.STX_TRANSFER?n==null?void 0:n.amount:"0",u=(0,R.isNil)(s)||A(s,r),p=(0,R.isNil)(s)||A(s,l);return{loading:c,networkFee:r,estimateFailed:a,networkFeeProps:{coinId:o,loading:c,networkFee:r,estimateFailed:a},isSufficientGas:u,isSufficientBalance:p}},b=tt;var et=({unapproved:t})=>{var f,L;let e=M(d)||{},o=e.coinId||d,r=(L=(f=t==null?void 0:t.params)==null?void 0:f.transaction)==null?void 0:L.contractAddress,{networkFee:c,estimateFailed:a,networkFeeProps:s,isSufficientGas:n,loading:l,isSufficientBalance:u}=b({coinId:o,unapproved:t,baseCoin:e}),p=_({baseCoin:e,unapproved:t,estimateFailed:a,isSufficientGas:n,isSufficientBalance:u}),k=O({coinId:o,unapproved:t,feeLoading:l,estimateFailed:a,isSufficientGas:n,isSufficientBalance:u,extParams:{fee:c}});return j.default.createElement(D,{unapproved:t,tipMessage:p,buttonGroup:k,networkFee:s,contractAddress:r})},z=et;i();m();var H=S(F());var J=({unapproved:t})=>{var o;let e=(o=t.params)==null?void 0:o.message;return H.default.createElement(X,{message:e,unapproved:t})};var Wt=({unapproved:t})=>{switch(t.method){case E.SIGN_TRANSACTION:return h.default.createElement(z,{unapproved:t});case E.SIGN_MESSAGE:return h.default.createElement(J,{unapproved:t});default:return""}};export{Wt as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Stacks-X3DDVAYQ.js.map
