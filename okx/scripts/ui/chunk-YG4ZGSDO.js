import{F as Ro,c as Ho}from"./chunk-RYNAOZ73.js";import{d as Oo}from"./chunk-GKHVFCKF.js";import{c as Y,l as process,m as T,n as b,o as L}from"./chunk-6V2G2Z5W.js";var Bt=Y(ue=>{"use strict";T();L();Object.defineProperty(ue,"__esModule",{value:!0});ue.output=ue.exists=ue.hash=ue.bytes=ue.bool=ue.number=void 0;function ar(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}ue.number=ar;function di(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}ue.bool=di;function Xr(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}ue.bytes=Xr;function yi(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ar(e.outputLen),ar(e.blockLen)}ue.hash=yi;function gi(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}ue.exists=gi;function pi(e,t){Xr(e);let r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}ue.output=pi;var Uo={number:ar,bool:di,bytes:Xr,hash:yi,exists:gi,output:pi};ue.default=Uo});var mi=Y(lr=>{"use strict";T();L();Object.defineProperty(lr,"__esModule",{value:!0});lr.crypto=void 0;lr.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var Ge=Y(C=>{"use strict";T();L();Object.defineProperty(C,"__esModule",{value:!0});C.randomBytes=C.wrapConstructorWithOpts=C.wrapConstructor=C.checkOpts=C.Hash=C.concatBytes=C.toBytes=C.utf8ToBytes=C.asyncLoop=C.nextTick=C.hexToBytes=C.bytesToHex=C.isLE=C.rotr=C.createView=C.u32=C.u8=void 0;var hr=mi(),ko=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);C.u8=ko;var Co=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));C.u32=Co;var jo=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);C.createView=jo;var $o=(e,t)=>e<<32-t|e>>>t;C.rotr=$o;C.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!C.isLE)throw new Error("Non little-endian hardware is not supported");var qo=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function No(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=qo[e[r]];return t}C.bytesToHex=No;function Mo(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2,s=e.slice(n,n+2),f=Number.parseInt(s,16);if(Number.isNaN(f)||f<0)throw new Error("Invalid byte sequence");t[r]=f}return t}C.hexToBytes=Mo;var Vo=async()=>{};C.nextTick=Vo;async function Ko(e,t,r){let n=Date.now();for(let s=0;s<e;s++){r(s);let f=Date.now()-n;f>=0&&f<t||(await(0,C.nextTick)(),n+=f)}}C.asyncLoop=Ko;function wi(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}C.utf8ToBytes=wi;function Qr(e){if(typeof e=="string"&&(e=wi(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}C.toBytes=Qr;function zo(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];let t=e.reduce((n,s)=>n+s.length,0),r=new Uint8Array(t);for(let n=0,s=0;n<e.length;n++){let f=e[n];r.set(f,s),s+=f.length}return r}C.concatBytes=zo;var Yr=class{clone(){return this._cloneInto()}};C.Hash=Yr;var Do=e=>Object.prototype.toString.call(e)==="[object Object]"&&e.constructor===Object;function Fo(e,t){if(t!==void 0&&(typeof t!="object"||!Do(t)))throw new TypeError("Options should be object or undefined");return Object.assign(e,t)}C.checkOpts=Fo;function Go(e){let t=n=>e().update(Qr(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}C.wrapConstructor=Go;function Zo(e){let t=(n,s)=>e(s).update(Qr(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}C.wrapConstructorWithOpts=Zo;function Wo(e=32){if(hr.crypto.web)return hr.crypto.web.getRandomValues(new Uint8Array(e));if(hr.crypto.node)return new Uint8Array(hr.crypto.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}C.randomBytes=Wo});var vi=Y(St=>{"use strict";T();L();Object.defineProperty(St,"__esModule",{value:!0});St.hmac=void 0;var dr=Bt(),Jr=Ge(),yr=class extends Jr.Hash{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,dr.default.hash(t);let n=(0,Jr.toBytes)(r);if(this.iHash=t.create(),!(this.iHash instanceof Jr.Hash))throw new TypeError("Expected instance of class which extends utils.Hash");let s=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;let f=new Uint8Array(s);f.set(n.length>this.iHash.blockLen?t.create().update(n).digest():n);for(let a=0;a<f.length;a++)f[a]^=54;this.iHash.update(f),this.oHash=t.create();for(let a=0;a<f.length;a++)f[a]^=106;this.oHash.update(f),f.fill(0)}update(t){return dr.default.exists(this),this.iHash.update(t),this}digestInto(t){dr.default.exists(this),dr.default.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:s,destroyed:f,blockLen:a,outputLen:h}=this;return t=t,t.finished=s,t.destroyed=f,t.blockLen=a,t.outputLen=h,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Xo=(e,t,r)=>new yr(e,t).update(r).digest();St.hmac=Xo;St.hmac.create=(e,t)=>new yr(e,t)});var bi=Y(gr=>{"use strict";T();L();Object.defineProperty(gr,"__esModule",{value:!0});gr.SHA2=void 0;var en=Bt(),_t=Ge();function Yo(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let s=BigInt(32),f=BigInt(4294967295),a=Number(r>>s&f),h=Number(r&f),m=n?4:0,w=n?0:4;e.setUint32(t+m,a,n),e.setUint32(t+w,h,n)}var tn=class extends _t.Hash{constructor(t,r,n,s){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,_t.createView)(this.buffer)}update(t){en.default.exists(this);let{view:r,buffer:n,blockLen:s}=this;t=(0,_t.toBytes)(t);let f=t.length;for(let a=0;a<f;){let h=Math.min(s-this.pos,f-a);if(h===s){let m=(0,_t.createView)(t);for(;s<=f-a;a+=s)this.process(m,a);continue}n.set(t.subarray(a,a+h),this.pos),this.pos+=h,a+=h,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){en.default.exists(this),en.default.output(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:s,isLE:f}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(n,0),a=0);for(let m=a;m<s;m++)r[m]=0;Yo(n,s-8,BigInt(this.length*8),f),this.process(n,0);let h=(0,_t.createView)(t);this.get().forEach((m,w)=>h.setUint32(4*w,m,f))}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:s,finished:f,destroyed:a,pos:h}=this;return t.length=s,t.pos=h,t.finished=f,t.destroyed=a,s%r&&t.buffer.set(n),t}};gr.SHA2=tn});var Ai=Y(pr=>{"use strict";T();L();Object.defineProperty(pr,"__esModule",{value:!0});pr.sha256=void 0;var Qo=bi(),ve=Ge(),Jo=(e,t,r)=>e&t^~e&r,eu=(e,t,r)=>e&t^e&r^t&r,tu=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),je=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$e=new Uint32Array(64),rn=class extends Qo.SHA2{constructor(){super(64,32,8,!1),this.A=je[0]|0,this.B=je[1]|0,this.C=je[2]|0,this.D=je[3]|0,this.E=je[4]|0,this.F=je[5]|0,this.G=je[6]|0,this.H=je[7]|0}get(){let{A:t,B:r,C:n,D:s,E:f,F:a,G:h,H:m}=this;return[t,r,n,s,f,a,h,m]}set(t,r,n,s,f,a,h,m){this.A=t|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=f|0,this.F=a|0,this.G=h|0,this.H=m|0}process(t,r){for(let S=0;S<16;S++,r+=4)$e[S]=t.getUint32(r,!1);for(let S=16;S<64;S++){let P=$e[S-15],k=$e[S-2],ie=(0,ve.rotr)(P,7)^(0,ve.rotr)(P,18)^P>>>3,te=(0,ve.rotr)(k,17)^(0,ve.rotr)(k,19)^k>>>10;$e[S]=te+$e[S-7]+ie+$e[S-16]|0}let{A:n,B:s,C:f,D:a,E:h,F:m,G:w,H:E}=this;for(let S=0;S<64;S++){let P=(0,ve.rotr)(h,6)^(0,ve.rotr)(h,11)^(0,ve.rotr)(h,25),k=E+P+Jo(h,m,w)+tu[S]+$e[S]|0,te=((0,ve.rotr)(n,2)^(0,ve.rotr)(n,13)^(0,ve.rotr)(n,22))+eu(n,s,f)|0;E=w,w=m,m=h,h=a+k|0,a=f,f=s,s=n,n=k+te|0}n=n+this.A|0,s=s+this.B|0,f=f+this.C|0,a=a+this.D|0,h=h+this.E|0,m=m+this.F|0,w=w+this.G|0,E=E+this.H|0,this.set(n,s,f,a,h,m,w,E)}roundClean(){$e.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};pr.sha256=(0,ve.wrapConstructor)(()=>new rn)});var fn=Y(H=>{"use strict";T();L();Object.defineProperty(H,"__esModule",{value:!0});H.utils=H.schnorr=H.verify=H.signSync=H.sign=H.getSharedSecret=H.recoverPublicKey=H.getPublicKey=H.Signature=H.Point=H.CURVE=void 0;var ru=Ro(),M=BigInt(0),Z=BigInt(1),ne=BigInt(2),Tt=BigInt(3),nu=BigInt(8),nn=ne**BigInt(256),K={a:M,b:BigInt(7),P:nn-ne**BigInt(32)-BigInt(977),n:nn-BigInt("432420386565659656852420866394968145599"),h:Z,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")};H.CURVE=K;function xi(e){let{a:t,b:r}=K,n=v(e*e),s=v(n*e);return v(s+t*e+r)}var mr=K.a===M,F=class{constructor(t,r,n){this.x=t,this.y=r,this.z=n}static fromAffine(t){if(!(t instanceof j))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new F(t.x,t.y,Z)}static toAffineBatch(t){let r=uu(t.map(n=>n.z));return t.map((n,s)=>n.toAffine(r[s]))}static normalizeZ(t){return F.toAffineBatch(t).map(F.fromAffine)}equals(t){if(!(t instanceof F))throw new TypeError("JacobianPoint expected");let{x:r,y:n,z:s}=this,{x:f,y:a,z:h}=t,m=v(s**ne),w=v(h**ne),E=v(r*w),S=v(f*m),P=v(v(n*h)*w),k=v(v(a*s)*m);return E===S&&P===k}negate(){return new F(this.x,v(-this.y),this.z)}double(){let{x:t,y:r,z:n}=this,s=v(t**ne),f=v(r**ne),a=v(f**ne),h=v(ne*(v((t+f)**ne)-s-a)),m=v(Tt*s),w=v(m**ne),E=v(w-ne*h),S=v(m*(h-E)-nu*a),P=v(ne*r*n);return new F(E,S,P)}add(t){if(!(t instanceof F))throw new TypeError("JacobianPoint expected");let{x:r,y:n,z:s}=this,{x:f,y:a,z:h}=t;if(f===M||a===M)return this;if(r===M||n===M)return t;let m=v(s**ne),w=v(h**ne),E=v(r*w),S=v(f*m),P=v(v(n*h)*w),k=v(v(a*s)*m),ie=v(S-E),te=v(k-P);if(ie===M)return te===M?this.double():F.ZERO;let U=v(ie**ne),O=v(ie*U),ze=v(E*U),Oe=v(te**ne-O-ne*ze),Re=v(te*(ze-Oe)-P*O),Ye=v(s*h*ie);return new F(Oe,Re,Ye)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){let r=F.ZERO;if(typeof t=="bigint"&&t===M)return r;let n=Si(t);if(n===Z)return this;if(!mr){let S=r,P=this;for(;n>M;)n&Z&&(S=S.add(P)),P=P.double(),n>>=Z;return S}let{k1neg:s,k1:f,k2neg:a,k2:h}=Ii(n),m=r,w=r,E=this;for(;f>M||h>M;)f&Z&&(m=m.add(E)),h&Z&&(w=w.add(E)),E=E.double(),f>>=Z,h>>=Z;return s&&(m=m.negate()),a&&(w=w.negate()),w=new F(v(w.x*K.beta),w.y,w.z),m.add(w)}precomputeWindow(t){let r=mr?128/t+1:256/t+1,n=[],s=this,f=s;for(let a=0;a<r;a++){f=s,n.push(f);for(let h=1;h<2**(t-1);h++)f=f.add(s),n.push(f);s=f.double()}return n}wNAF(t,r){!r&&this.equals(F.BASE)&&(r=j.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let s=r&&sn.get(r);s||(s=this.precomputeWindow(n),r&&n!==1&&(s=F.normalizeZ(s),sn.set(r,s)));let f=F.ZERO,a=F.ZERO,h=1+(mr?128/n:256/n),m=2**(n-1),w=BigInt(2**n-1),E=2**n,S=BigInt(n);for(let P=0;P<h;P++){let k=P*m,ie=Number(t&w);if(t>>=S,ie>m&&(ie-=E,t+=Z),ie===0){let te=s[k];P%2&&(te=te.negate()),a=a.add(te)}else{let te=s[k+Math.abs(ie)-1];ie<0&&(te=te.negate()),f=f.add(te)}}return{p:f,f:a}}multiply(t,r){let n=Si(t),s,f;if(mr){let{k1neg:a,k1:h,k2neg:m,k2:w}=Ii(n),{p:E,f:S}=this.wNAF(h,r),{p:P,f:k}=this.wNAF(w,r);a&&(E=E.negate()),m&&(P=P.negate()),P=new F(v(P.x*K.beta),P.y,P.z),s=E.add(P),f=S.add(k)}else{let{p:a,f:h}=this.wNAF(n,r);s=a,f=h}return F.normalizeZ([s,f])[0]}toAffine(t=ft(this.z)){let{x:r,y:n,z:s}=this,f=t,a=v(f*f),h=v(a*f),m=v(r*a),w=v(n*h);if(v(s*f)!==Z)throw new Error("invZ was invalid");return new j(m,w)}};F.BASE=new F(K.Gx,K.Gy,Z);F.ZERO=new F(M,Z,M);var sn=new WeakMap,j=class{constructor(t,r){this.x=t,this.y=r}_setWindowSize(t){this._WINDOW_SIZE=t,sn.delete(this)}static fromCompressedHex(t){let r=t.length===32,n=fe(r?t:t.subarray(1));if(!br(n))throw new Error("Point is not on curve");let s=xi(n),f=ou(s),a=(f&Z)===Z;r?a&&(f=v(-f)):(t[0]&1)===1!==a&&(f=v(-f));let h=new j(n,f);return h.assertValidity(),h}static fromUncompressedHex(t){let r=fe(t.subarray(1,33)),n=fe(t.subarray(33,65)),s=new j(r,n);return s.assertValidity(),s}static fromHex(t){let r=Ae(t),n=r.length,s=r[0];if(n===32||n===33&&(s===2||s===3))return this.fromCompressedHex(r);if(n===65&&s===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return j.BASE.multiply(Be(t))}static fromSignature(t,r,n){t=Ae(t);let s=Li(t),{r:f,s:a}=Hi(r);if(n!==0&&n!==1)throw new Error("Cannot recover signature: invalid recovery bit");let h=n&1?"03":"02",m=j.fromHex(h+Pe(f)),{n:w}=K,E=ft(f,w),S=v(-s*E,w),P=v(a*E,w),k=j.BASE.multiplyAndAddUnsafe(m,S,P);if(!k)throw new Error("Cannot recover signature: point at infinify");return k.assertValidity(),k}toRawBytes(t=!1){return He(this.toHex(t))}toHex(t=!1){let r=Pe(this.x);return t?`${this.y&Z?"03":"02"}${r}`:`04${r}${Pe(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let t="Point is not on elliptic curve",{x:r,y:n}=this;if(!br(r)||!br(n))throw new Error(t);let s=v(n*n),f=xi(r);if(v(s-f)!==M)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new j(this.x,v(-this.y))}double(){return F.fromAffine(this).double().toAffine()}add(t){return F.fromAffine(this).add(F.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return F.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,r,n){let s=F.fromAffine(this),f=r===M||r===Z||this!==j.BASE?s.multiplyUnsafe(r):s.multiply(r),a=F.fromAffine(t).multiplyUnsafe(n),h=f.add(a);return h.equals(F.ZERO)?void 0:h.toAffine()}};H.Point=j;j.BASE=new j(K.Gx,K.Gy);j.ZERO=new j(M,M);function Ei(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function Bi(e){if(e.length<2||e[0]!==2)throw new Error(`Invalid signature integer tag: ${ot(e)}`);let t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:fe(r),left:e.subarray(t+2)}}function iu(e){if(e.length<2||e[0]!=48)throw new Error(`Invalid signature tag: ${ot(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");let{data:t,left:r}=Bi(e.subarray(2)),{data:n,left:s}=Bi(r);if(s.length)throw new Error(`Invalid signature: left bytes after parsing: ${ot(s)}`);return{r:t,s:n}}var be=class{constructor(t,r){this.r=t,this.s=r,this.assertValidity()}static fromCompact(t){let r=Lt(t),n="Signature.fromCompact";if(typeof t!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let s=r?ot(t):t;if(s.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new be(Ar(s.slice(0,64)),Ar(s.slice(64,128)))}static fromDER(t){let r=Lt(t);if(typeof t!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s}=iu(r?t:He(t));return new be(n,s)}static fromHex(t){return this.fromDER(t)}assertValidity(){let{r:t,s:r}=this;if(!ut(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!ut(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let t=K.n>>Z;return this.s>t}normalizeS(){return this.hasHighS()?new be(this.r,K.n-this.s):this}toDERRawBytes(t=!1){return He(this.toDERHex(t))}toDERHex(t=!1){let r=Ei(It(this.s));if(t)return r;let n=Ei(It(this.r)),s=It(n.length/2),f=It(r.length/2);return`30${It(n.length/2+r.length/2+4)}02${s}${n}02${f}${r}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return He(this.toCompactHex())}toCompactHex(){return Pe(this.r)+Pe(this.s)}};H.Signature=be;function it(...e){if(!e.every(Lt))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];let t=e.reduce((n,s)=>n+s.length,0),r=new Uint8Array(t);for(let n=0,s=0;n<e.length;n++){let f=e[n];r.set(f,s),s+=f.length}return r}function Lt(e){return e instanceof Uint8Array}var su=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ot(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=su[e[r]];return t}function Pe(e){if(e>nn)throw new Error("Expected number < 2^256");return e.toString(16).padStart(64,"0")}function st(e){return He(Pe(e))}function It(e){let t=e.toString(16);return t.length&1?`0${t}`:t}function Ar(e){if(typeof e!="string")throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function He(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2,s=e.slice(n,n+2),f=Number.parseInt(s,16);if(Number.isNaN(f)||f<0)throw new Error("Invalid byte sequence");t[r]=f}return t}function fe(e){return Ar(ot(e))}function Ae(e){return e instanceof Uint8Array?Uint8Array.from(e):He(e)}function Si(e){if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if(typeof e=="bigint"&&ut(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function v(e,t=K.P){let r=e%t;return r>=M?r:t+r}function ye(e,t){let{P:r}=K,n=e;for(;t-- >M;)n*=n,n%=r;return n}function ou(e){let{P:t}=K,r=BigInt(6),n=BigInt(11),s=BigInt(22),f=BigInt(23),a=BigInt(44),h=BigInt(88),m=e*e*e%t,w=m*m*e%t,E=ye(w,Tt)*w%t,S=ye(E,Tt)*w%t,P=ye(S,ne)*m%t,k=ye(P,n)*P%t,ie=ye(k,s)*k%t,te=ye(ie,a)*ie%t,U=ye(te,h)*te%t,O=ye(U,a)*ie%t,ze=ye(O,Tt)*w%t,Oe=ye(ze,f)*k%t,Re=ye(Oe,r)*m%t;return ye(Re,ne)}function ft(e,t=K.P){if(e===M||t<=M)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=v(e,t),n=t,s=M,f=Z,a=Z,h=M;for(;r!==M;){let w=n/r,E=n%r,S=s-a*w,P=f-h*w;n=r,r=E,s=a,f=h,a=S,h=P}if(n!==Z)throw new Error("invert: does not exist");return v(s,t)}function uu(e,t=K.P){let r=new Array(e.length),n=e.reduce((f,a,h)=>a===M?f:(r[h]=f,v(f*a,t)),Z),s=ft(n,t);return e.reduceRight((f,a,h)=>a===M?f:(r[h]=v(f*r[h],t),v(f*a,t)),s),r}var _i=(e,t)=>(e+t/ne)/t,wr=ne**BigInt(128);function Ii(e){let{n:t}=K,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Z*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),f=r,a=_i(f*e,t),h=_i(-n*e,t),m=v(e-a*r-h*s,t),w=v(-a*n-h*f,t),E=m>wr,S=w>wr;if(E&&(m=t-m),S&&(w=t-w),m>wr||w>wr)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:E,k1:m,k2neg:S,k2:w}}function Li(e){let{n:t}=K,n=e.length*8-256,s=fe(e);return n>0&&(s=s>>BigInt(n)),s>=t&&(s-=t),s}var xr=class{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...t){return H.utils.hmacSha256(this.k,...t)}hmacSync(...t){if(typeof H.utils.hmacSha256Sync!="function")throw new Error("utils.hmacSha256Sync is undefined, you need to set it");let r=H.utils.hmacSha256Sync(this.k,...t);if(r instanceof Promise)throw new Error("To use sync sign(), ensure utils.hmacSha256 is sync");return r}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),t.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),t.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.incr(),this.v=this.hmacSync(this.v),this.v}};function ut(e){return M<e&&e<K.n}function br(e){return M<e&&e<K.P}function Pi(e,t,r){let n=fe(e);if(!ut(n))return;let{n:s}=K,f=j.BASE.multiply(n),a=v(f.x,s);if(a===M)return;let h=v(ft(n,s)*v(t+r*a,s),s);if(h===M)return;let m=new be(a,h),w=(f.x===m.r?0:2)|Number(f.y&Z);return{sig:m,recovery:w}}function Be(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if(typeof e=="string"){if(e.length!==64)throw new Error("Expected 32 bytes of private key");t=Ar(e)}else if(Lt(e)){if(e.length!==32)throw new Error("Expected 32 bytes of private key");t=fe(e)}else throw new TypeError("Expected valid private key");if(!ut(t))throw new Error("Expected private key: 0 < key < n");return t}function on(e){return e instanceof j?(e.assertValidity(),e):j.fromHex(e)}function Hi(e){if(e instanceof be)return e.assertValidity(),e;try{return be.fromDER(e)}catch{return be.fromCompact(e)}}function fu(e,t=!1){return j.fromPrivateKey(e).toRawBytes(t)}H.getPublicKey=fu;function cu(e,t,r,n=!1){return j.fromSignature(e,t,r).toRawBytes(n)}H.recoverPublicKey=cu;function Ti(e){let t=Lt(e),r=typeof e=="string",n=(t||r)&&e.length;return t?n===33||n===65:r?n===66||n===130:e instanceof j}function au(e,t,r=!1){if(Ti(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!Ti(t))throw new TypeError("getSharedSecret: second arg must be public key");let n=on(t);return n.assertValidity(),n.multiply(Be(e)).toRawBytes(r)}H.getSharedSecret=au;function Oi(e){let t=e.length>32?e.slice(0,32):e;return fe(t)}function lu(e){let t=Oi(e),r=v(t,K.n);return Ri(r<M?t:r)}function Ri(e){if(typeof e!="bigint")throw new Error("Expected bigint");let t=Pe(e);return He(t)}function Ui(e,t,r){if(e==null)throw new Error(`sign: expected valid message hash, not "${e}"`);let n=Ae(e),s=Be(t),f=[Ri(s),lu(n)];if(r!=null){r===!0&&(r=H.utils.randomBytes(32));let m=Ae(r);if(m.length!==32)throw new Error("sign: Expected 32 bytes of extra data");f.push(m)}let a=it(...f),h=Oi(n);return{seed:a,m:h,d:s}}function ki(e,t){let{sig:r,recovery:n}=e,{canonical:s,der:f,recovered:a}=Object.assign({canonical:!0,der:!0},t);s&&r.hasHighS()&&(r=r.normalizeS(),n^=1);let h=f?r.toDERRawBytes():r.toCompactRawBytes();return a?[h,n]:h}async function hu(e,t,r={}){let{seed:n,m:s,d:f}=Ui(e,t,r.extraEntropy),a,h=new xr;for(await h.reseed(n);!(a=Pi(await h.generate(),s,f));)await h.reseed();return ki(a,r)}H.sign=hu;function du(e,t,r={}){let{seed:n,m:s,d:f}=Ui(e,t,r.extraEntropy),a,h=new xr;for(h.reseedSync(n);!(a=Pi(h.generateSync(),s,f));)h.reseedSync();return ki(a,r)}H.signSync=du;var yu={strict:!0};function gu(e,t,r,n=yu){let s;try{s=Hi(e),t=Ae(t)}catch{return!1}let{r:f,s:a}=s;if(n.strict&&s.hasHighS())return!1;let h=Li(t),m;try{m=on(r)}catch{return!1}let{n:w}=K,E=ft(a,w),S=v(h*E,w),P=v(f*E,w),k=j.BASE.multiplyAndAddUnsafe(m,S,P);return k?v(k.x,w)===f:!1}H.verify=gu;function Er(e){return v(fe(e),K.n)}function un(e){return(e.y&Z)===M}var Ne=class{constructor(t,r){this.r=t,this.s=r,this.assertValidity()}static fromHex(t){let r=Ae(t);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=fe(r.subarray(0,32)),s=fe(r.subarray(32,64));return new Ne(n,s)}assertValidity(){let{r:t,s:r}=this;if(!br(t)||!ut(r))throw new Error("Invalid signature")}toHex(){return Pe(this.r)+Pe(this.s)}toRawBytes(){return He(this.toHex())}};function pu(e){return j.fromPrivateKey(e).toRawX()}function Ci(e,t,r){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);let n=Ae(e),s=Be(t),f=Ae(r);if(f.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness");let a=j.fromPrivateKey(s),h=a.toRawX(),m=un(a)?s:K.n-s;return{m:n,P:a,px:h,d:m,rand:f}}function ji(e,t){return st(e^fe(t))}function $i(e){let t=v(fe(e),K.n);if(t===M)throw new Error("sign: Creation of signature failed. k is zero");let r=j.fromPrivateKey(t),n=r.toRawX(),s=un(r)?t:K.n-t;return{R:r,rx:n,k:s}}function qi(e,t,r,n){return new Ne(e.x,v(t+r*n,K.n)).toRawBytes()}async function mu(e,t,r=H.utils.randomBytes()){let{m:n,px:s,d:f,rand:a}=Ci(e,t,r),h=ji(f,await H.utils.taggedHash(qe.aux,a)),{R:m,rx:w,k:E}=$i(await H.utils.taggedHash(qe.nonce,h,s,n)),S=Er(await H.utils.taggedHash(qe.challenge,w,s,n)),P=qi(m,E,S,f);if(!await Vi(P,n,s))throw new Error("sign: Invalid signature produced");return P}function wu(e,t,r=H.utils.randomBytes()){let{m:n,px:s,d:f,rand:a}=Ci(e,t,r),h=ji(f,H.utils.taggedHashSync(qe.aux,a)),{R:m,rx:w,k:E}=$i(H.utils.taggedHashSync(qe.nonce,h,s,n)),S=Er(H.utils.taggedHashSync(qe.challenge,w,s,n)),P=qi(m,E,S,f);if(!Ki(P,n,s))throw new Error("sign: Invalid signature produced");return P}function Ni(e,t,r){let n=e instanceof Ne,s=n?e:Ne.fromHex(e);return n&&s.assertValidity(),{...s,m:Ae(t),P:on(r)}}function Mi(e,t,r,n){let s=j.BASE.multiplyAndAddUnsafe(t,Be(r),v(-n,K.n));return!(!s||!un(s)||s.x!==e)}async function Vi(e,t,r){try{let{r:n,s,m:f,P:a}=Ni(e,t,r),h=Er(await H.utils.taggedHash(qe.challenge,st(n),a.toRawX(),f));return Mi(n,a,s,h)}catch{return!1}}function Ki(e,t,r){try{let{r:n,s,m:f,P:a}=Ni(e,t,r),h=Er(H.utils.taggedHashSync(qe.challenge,st(n),a.toRawX(),f));return Mi(n,a,s,h)}catch{return!1}}H.schnorr={Signature:Ne,getPublicKey:pu,sign:mu,verify:Vi,signSync:wu,verifySync:Ki};j.BASE._setWindowSize(8);var le={node:ru,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},qe={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},vr={};H.utils={isValidPrivateKey(e){try{return Be(e),!0}catch{return!1}},privateAdd:(e,t)=>{let r=Be(e),n=Be(t);return st(v(r+n,K.n))},privateNegate:e=>{let t=Be(e);return st(K.n-t)},pointAddScalar:(e,t,r)=>{let n=j.fromHex(e),s=Be(t),f=j.BASE.multiplyAndAddUnsafe(n,s,Z);if(!f)throw new Error("Tweaked point at infinity");return f.toRawBytes(r)},pointMultiply:(e,t,r)=>{let n=j.fromHex(e),s=fe(Ae(t));return n.multiply(s).toRawBytes(r)},hashToPrivateKey:e=>{if(e=Ae(e),e.length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");let t=v(fe(e),K.n-Z)+Z;return st(t)},randomBytes:(e=32)=>{if(le.web)return le.web.getRandomValues(new Uint8Array(e));if(le.node){let{randomBytes:t}=le.node;return Uint8Array.from(t(e))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>H.utils.hashToPrivateKey(H.utils.randomBytes(40)),bytesToHex:ot,hexToBytes:He,concatBytes:it,mod:v,invert:ft,sha256:async(...e)=>{if(le.web){let t=await le.web.subtle.digest("SHA-256",it(...e));return new Uint8Array(t)}else if(le.node){let{createHash:t}=le.node,r=t("sha256");return e.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(le.web){let r=await le.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=it(...t),s=await le.web.subtle.sign("HMAC",r,n);return new Uint8Array(s)}else if(le.node){let{createHmac:r}=le.node,n=r("sha256",e);return t.forEach(s=>n.update(s)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let r=vr[e];if(r===void 0){let n=await H.utils.sha256(Uint8Array.from(e,s=>s.charCodeAt(0)));r=it(n,n),vr[e]=r}return H.utils.sha256(r,...t)},taggedHashSync:(e,...t)=>{if(typeof H.utils.sha256Sync!="function")throw new Error("utils.sha256Sync is undefined, you need to set it");let r=vr[e];if(r===void 0){let n=H.utils.sha256Sync(Uint8Array.from(e,s=>s.charCodeAt(0)));r=it(n,n),vr[e]=r}return H.utils.sha256Sync(r,...t)},precompute(e=8,t=j.BASE){let r=t===j.BASE?t:new j(t.x,t.y);return r._setWindowSize(e),r.multiply(Tt),r}}});var Br=Y(ee=>{"use strict";T();L();Object.defineProperty(ee,"__esModule",{value:!0});ee.schnorr=ee.Signature=ee.Point=ee.CURVE=ee.utils=ee.getSharedSecret=ee.recoverPublicKey=ee.verify=ee.signSync=ee.sign=ee.getPublicKey=void 0;var vu=vi(),bu=Ai(),Au=fn(),xe=fn();Object.defineProperty(ee,"getPublicKey",{enumerable:!0,get:function(){return xe.getPublicKey}});Object.defineProperty(ee,"sign",{enumerable:!0,get:function(){return xe.sign}});Object.defineProperty(ee,"signSync",{enumerable:!0,get:function(){return xe.signSync}});Object.defineProperty(ee,"verify",{enumerable:!0,get:function(){return xe.verify}});Object.defineProperty(ee,"recoverPublicKey",{enumerable:!0,get:function(){return xe.recoverPublicKey}});Object.defineProperty(ee,"getSharedSecret",{enumerable:!0,get:function(){return xe.getSharedSecret}});Object.defineProperty(ee,"utils",{enumerable:!0,get:function(){return xe.utils}});Object.defineProperty(ee,"CURVE",{enumerable:!0,get:function(){return xe.CURVE}});Object.defineProperty(ee,"Point",{enumerable:!0,get:function(){return xe.Point}});Object.defineProperty(ee,"Signature",{enumerable:!0,get:function(){return xe.Signature}});Object.defineProperty(ee,"schnorr",{enumerable:!0,get:function(){return xe.schnorr}});Au.utils.hmacSha256Sync=(e,...t)=>{let r=vu.hmac.create(bu.sha256,e);return t.forEach(n=>r.update(n)),r.digest()}});var _r=Y(G=>{"use strict";T();L();Object.defineProperty(G,"__esModule",{value:!0});G.RLP_EMPTY_STRING=G.KECCAK256_RLP=G.KECCAK256_RLP_S=G.KECCAK256_RLP_ARRAY=G.KECCAK256_RLP_ARRAY_S=G.KECCAK256_NULL=G.KECCAK256_NULL_S=G.TWO_POW256=G.SECP256K1_ORDER_DIV_2=G.SECP256K1_ORDER=G.MAX_INTEGER_BIGINT=G.MAX_INTEGER=G.MAX_UINT64=void 0;var Sr=Oo(),zi=Br();G.MAX_UINT64=BigInt("0xffffffffffffffff");G.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");G.MAX_INTEGER_BIGINT=BigInt(2)**BigInt(256)-BigInt(1);G.SECP256K1_ORDER=zi.CURVE.n;G.SECP256K1_ORDER_DIV_2=zi.CURVE.n/BigInt(2);G.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");G.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";G.KECCAK256_NULL=Sr.Buffer.from(G.KECCAK256_NULL_S,"hex");G.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";G.KECCAK256_RLP_ARRAY=Sr.Buffer.from(G.KECCAK256_RLP_ARRAY_S,"hex");G.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";G.KECCAK256_RLP=Sr.Buffer.from(G.KECCAK256_RLP_S,"hex");G.RLP_EMPTY_STRING=Sr.Buffer.from([128])});var Ji=Y(Se=>{"use strict";T();L();Object.defineProperty(Se,"__esModule",{value:!0});Se.RLP=Se.utils=Se.decode=Se.encode=void 0;function ln(e){if(Array.isArray(e)){let r=[];for(let s=0;s<e.length;s++)r.push(ln(e[s]));let n=Ir(...r);return Ir(Fi(n.length,192),n)}let t=Qi(e);return t.length===1&&t[0]<128?t:Ir(Fi(t.length,128),t)}Se.encode=ln;function ct(e,t,r){if(r>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function Di(e){if(e[0]===0)throw new Error("invalid RLP: extra zeros");return Wi(Zi(e))}function Fi(e,t){if(e<56)return Uint8Array.from([e+t]);let r=an(e),n=r.length/2,s=an(t+55+n);return Uint8Array.from(Tr(s+r))}function Gi(e,t=!1){if(typeof e>"u"||e===null||e.length===0)return Uint8Array.from([]);let r=Qi(e),n=cn(r);if(t)return n;if(n.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return n.data}Se.decode=Gi;function cn(e){let t,r,n,s,f,a=[],h=e[0];if(h<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(h<=183){if(t=h-127,h===128?n=Uint8Array.from([]):n=ct(e,1,t),t===2&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:e.slice(t)}}else if(h<=191){if(r=h-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=Di(ct(e,1,r)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=ct(e,r,t+r),{data:n,remainder:e.slice(t+r)}}else if(h<=247){for(t=h-191,s=ct(e,1,t);s.length;)f=cn(s),a.push(f.data),s=f.remainder;return{data:a,remainder:e.slice(t)}}else{if(r=h-246,t=Di(ct(e,1,r)),t<56)throw new Error("invalid RLP: encoded list too short");let m=r+t;if(m>e.length)throw new Error("invalid RLP: total length is larger than the data");for(s=ct(e,r,m);s.length;)f=cn(s),a.push(f.data),s=f.remainder;return{data:a,remainder:e.slice(m)}}}var xu=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Zi(e){let t="";for(let r=0;r<e.length;r++)t+=xu[e[r]];return t}function Wi(e){let t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function Tr(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2;t[r]=Wi(e.slice(n,n+2))}return t}function Ir(...e){if(e.length===1)return e[0];let t=e.reduce((n,s)=>n+s.length,0),r=new Uint8Array(t);for(let n=0,s=0;n<e.length;n++){let f=e[n];r.set(f,s),s+=f.length}return r}function Xi(e){return new TextEncoder().encode(e)}function an(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");let t=e.toString(16);return t.length%2?`0${t}`:t}function Eu(e){return e.length%2?`0${e}`:e}function Yi(e){return e.length>=2&&e[0]==="0"&&e[1]==="x"}function Bu(e){return typeof e!="string"?e:Yi(e)?e.slice(2):e}function Qi(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return Yi(e)?Tr(Eu(Bu(e))):Xi(e);if(typeof e=="number"||typeof e=="bigint")return e?Tr(an(e)):Uint8Array.from([]);if(e==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}Se.utils={bytesToHex:Zi,concatBytes:Ir,hexToBytes:Tr,utf8ToBytes:Xi};Se.RLP={encode:ln,decode:Gi}});var rs=Y(ge=>{"use strict";T();L();Object.defineProperty(ge,"__esModule",{value:!0});ge.add=ge.toBig=ge.split=ge.fromBig=void 0;var Lr=BigInt(2**32-1),hn=BigInt(32);function dn(e,t=!1){return t?{h:Number(e&Lr),l:Number(e>>hn&Lr)}:{h:Number(e>>hn&Lr)|0,l:Number(e&Lr)|0}}ge.fromBig=dn;function es(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let s=0;s<e.length;s++){let{h:f,l:a}=dn(e[s],t);[r[s],n[s]]=[f,a]}return[r,n]}ge.split=es;var Su=(e,t)=>BigInt(e>>>0)<<hn|BigInt(t>>>0);ge.toBig=Su;var _u=(e,t,r)=>e>>>r,Iu=(e,t,r)=>e<<32-r|t>>>r,Tu=(e,t,r)=>e>>>r|t<<32-r,Lu=(e,t,r)=>e<<32-r|t>>>r,Pu=(e,t,r)=>e<<64-r|t>>>r-32,Hu=(e,t,r)=>e>>>r-32|t<<64-r,Ou=(e,t)=>t,Ru=(e,t)=>e,Uu=(e,t,r)=>e<<r|t>>>32-r,ku=(e,t,r)=>t<<r|e>>>32-r,Cu=(e,t,r)=>t<<r-32|e>>>64-r,ju=(e,t,r)=>e<<r-32|t>>>64-r;function ts(e,t,r,n){let s=(t>>>0)+(n>>>0);return{h:e+r+(s/2**32|0)|0,l:s|0}}ge.add=ts;var $u=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),qu=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,Nu=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),Mu=(e,t,r,n,s)=>t+r+n+s+(e/2**32|0)|0,Vu=(e,t,r,n,s)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(s>>>0),Ku=(e,t,r,n,s,f)=>t+r+n+s+f+(e/2**32|0)|0,zu={fromBig:dn,split:es,toBig:ge.toBig,shrSH:_u,shrSL:Iu,rotrSH:Tu,rotrSL:Lu,rotrBH:Pu,rotrBL:Hu,rotr32H:Ou,rotr32L:Ru,rotlSH:Uu,rotlSL:ku,rotlBH:Cu,rotlBL:ju,add:ts,add3L:$u,add3H:qu,add4L:Nu,add4H:Mu,add5H:Ku,add5L:Vu};ge.default=zu});var as=Y(X=>{"use strict";T();L();Object.defineProperty(X,"__esModule",{value:!0});X.shake256=X.shake128=X.keccak_512=X.keccak_384=X.keccak_256=X.keccak_224=X.sha3_512=X.sha3_384=X.sha3_256=X.sha3_224=X.Keccak=X.keccakP=void 0;var at=Bt(),Ot=rs(),Ht=Ge(),[ss,os,us]=[[],[],[]],Du=BigInt(0),Pt=BigInt(1),Fu=BigInt(2),Gu=BigInt(7),Zu=BigInt(256),Wu=BigInt(113);for(let e=0,t=Pt,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],ss.push(2*(5*n+r)),os.push((e+1)*(e+2)/2%64);let s=Du;for(let f=0;f<7;f++)t=(t<<Pt^(t>>Gu)*Wu)%Zu,t&Fu&&(s^=Pt<<(Pt<<BigInt(f))-Pt);us.push(s)}var[Xu,Yu]=Ot.default.split(us,!0),ns=(e,t,r)=>r>32?Ot.default.rotlBH(e,t,r):Ot.default.rotlSH(e,t,r),is=(e,t,r)=>r>32?Ot.default.rotlBL(e,t,r):Ot.default.rotlSL(e,t,r);function fs(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let a=0;a<10;a++)r[a]=e[a]^e[a+10]^e[a+20]^e[a+30]^e[a+40];for(let a=0;a<10;a+=2){let h=(a+8)%10,m=(a+2)%10,w=r[m],E=r[m+1],S=ns(w,E,1)^r[h],P=is(w,E,1)^r[h+1];for(let k=0;k<50;k+=10)e[a+k]^=S,e[a+k+1]^=P}let s=e[2],f=e[3];for(let a=0;a<24;a++){let h=os[a],m=ns(s,f,h),w=is(s,f,h),E=ss[a];s=e[E],f=e[E+1],e[E]=m,e[E+1]=w}for(let a=0;a<50;a+=10){for(let h=0;h<10;h++)r[h]=e[a+h];for(let h=0;h<10;h++)e[a+h]^=~r[(h+2)%10]&r[(h+4)%10]}e[0]^=Xu[n],e[1]^=Yu[n]}r.fill(0)}X.keccakP=fs;var Ze=class extends Ht.Hash{constructor(t,r,n,s=!1,f=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=f,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,at.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Ht.u32)(this.state)}keccak(){fs(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){at.default.exists(this);let{blockLen:r,state:n}=this;t=(0,Ht.toBytes)(t);let s=t.length;for(let f=0;f<s;){let a=Math.min(r-this.pos,s-f);for(let h=0;h<a;h++)n[this.pos++]^=t[f++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:s}=this;t[n]^=r,(r&128)!==0&&n===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){at.default.exists(this,!1),at.default.bytes(t),this.finish();let r=this.state,{blockLen:n}=this;for(let s=0,f=t.length;s<f;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,f-s);t.set(r.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return at.default.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(at.default.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:s,rounds:f,enableXOF:a}=this;return t||(t=new Ze(r,n,s,a,f)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=f,t.suffix=n,t.outputLen=s,t.enableXOF=a,t.destroyed=this.destroyed,t}};X.Keccak=Ze;var Me=(e,t,r)=>(0,Ht.wrapConstructor)(()=>new Ze(t,e,r));X.sha3_224=Me(6,144,224/8);X.sha3_256=Me(6,136,256/8);X.sha3_384=Me(6,104,384/8);X.sha3_512=Me(6,72,512/8);X.keccak_224=Me(1,144,224/8);X.keccak_256=Me(1,136,256/8);X.keccak_384=Me(1,104,384/8);X.keccak_512=Me(1,72,512/8);var cs=(e,t,r)=>(0,Ht.wrapConstructorWithOpts)((n={})=>new Ze(t,e,n.dkLen===void 0?r:n.dkLen,!0));X.shake128=cs(31,168,128/8);X.shake256=cs(31,136,256/8)});var gn=Y((W,Rt)=>{"use strict";T();L();var Qu=W&&W.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(W,"__esModule",{value:!0});W.crypto=W.wrapHash=W.equalsBytes=W.hexToBytes=W.bytesToUtf8=W.utf8ToBytes=W.createView=W.concatBytes=W.toHex=W.bytesToHex=W.assertBytes=W.assertBool=void 0;var yn=Qu(Bt()),Ju=Ge(),ef=yn.default.bool;W.assertBool=ef;var tf=yn.default.bytes;W.assertBytes=tf;var Ut=Ge();Object.defineProperty(W,"bytesToHex",{enumerable:!0,get:function(){return Ut.bytesToHex}});Object.defineProperty(W,"toHex",{enumerable:!0,get:function(){return Ut.bytesToHex}});Object.defineProperty(W,"concatBytes",{enumerable:!0,get:function(){return Ut.concatBytes}});Object.defineProperty(W,"createView",{enumerable:!0,get:function(){return Ut.createView}});Object.defineProperty(W,"utf8ToBytes",{enumerable:!0,get:function(){return Ut.utf8ToBytes}});function rf(e){if(!(e instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof e}`);return new TextDecoder().decode(e)}W.bytesToUtf8=rf;function nf(e){let t=e.startsWith("0x")?e.substring(2):e;return(0,Ju.hexToBytes)(t)}W.hexToBytes=nf;function sf(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}W.equalsBytes=sf;function of(e){return t=>(yn.default.bytes(t),e(t))}W.wrapHash=of;W.crypto=(()=>{let e=typeof self=="object"&&"crypto"in self?self.crypto:void 0,t=typeof Rt<"u"&&typeof Rt.require=="function"&&Rt.require.bind(Rt);return{node:t&&!e?t("crypto"):void 0,web:e}})()});var pn=Y(_e=>{"use strict";T();L();Object.defineProperty(_e,"__esModule",{value:!0});_e.keccak512=_e.keccak384=_e.keccak256=_e.keccak224=void 0;var kt=as(),Pr=gn();_e.keccak224=(0,Pr.wrapHash)(kt.keccak_224);_e.keccak256=(()=>{let e=(0,Pr.wrapHash)(kt.keccak_256);return e.create=kt.keccak_256.create,e})();_e.keccak384=(0,Pr.wrapHash)(kt.keccak_384);_e.keccak512=(0,Pr.wrapHash)(kt.keccak_512)});var lt=Y(re=>{"use strict";T();L();Object.defineProperty(re,"__esModule",{value:!0});re.isHexString=re.getKeys=re.fromAscii=re.fromUtf8=re.toAscii=re.arrayContainsArray=re.getBinarySize=re.padToEven=re.stripHexPrefix=re.isHexPrefixed=void 0;function ls(e){if(typeof e!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof e}`);return e[0]==="0"&&e[1]==="x"}re.isHexPrefixed=ls;var uf=e=>{if(typeof e!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof e}`);return ls(e)?e.slice(2):e};re.stripHexPrefix=uf;function hs(e){let t=e;if(typeof t!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof t}`);return t.length%2&&(t=`0${t}`),t}re.padToEven=hs;function ff(e){if(typeof e!="string")throw new Error(`[getBinarySize] method requires input type 'string', recieved ${typeof e}`);return b.Buffer.byteLength(e,"utf8")}re.getBinarySize=ff;function cf(e,t,r){if(Array.isArray(e)!==!0)throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(Array.isArray(t)!==!0)throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[r===!0?"some":"every"](n=>e.indexOf(n)>=0)}re.arrayContainsArray=cf;function af(e){let t="",r=0,n=e.length;for(e.substring(0,2)==="0x"&&(r=2);r<n;r+=2){let s=parseInt(e.substr(r,2),16);t+=String.fromCharCode(s)}return t}re.toAscii=af;function lf(e){let t=b.Buffer.from(e,"utf8");return`0x${hs(t.toString("hex")).replace(/^0+|0+$/g,"")}`}re.fromUtf8=lf;function hf(e){let t="";for(let r=0;r<e.length;r++){let s=e.charCodeAt(r).toString(16);t+=s.length<2?`0${s}`:s}return`0x${t}`}re.fromAscii=hf;function df(e,t,r){if(!Array.isArray(e))throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof e}`);if(typeof t!="string")throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof e}`);let n=[];for(let s=0;s<e.length;s++){let f=e[s][t];if(r===!0&&!f)f="";else if(typeof f!="string")throw new Error(`invalid abi - expected type 'string', received ${typeof f}`);n.push(f)}return n}re.getKeys=df;function yf(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||typeof t<"u"&&t>0&&e.length!==2+2*t)}re.isHexString=yf});var Hr=Y(Ie=>{"use strict";T();L();Object.defineProperty(Ie,"__esModule",{value:!0});Ie.assertIsString=Ie.assertIsArray=Ie.assertIsBuffer=Ie.assertIsHexString=void 0;var gf=lt(),pf=function(e){if(!(0,gf.isHexString)(e)){let t=`This method only supports 0x-prefixed hex strings but input was: ${e}`;throw new Error(t)}};Ie.assertIsHexString=pf;var mf=function(e){if(!b.Buffer.isBuffer(e)){let t=`This method only supports Buffer but input was: ${e}`;throw new Error(t)}};Ie.assertIsBuffer=mf;var wf=function(e){if(!Array.isArray(e)){let t=`This method only supports number arrays but input was: ${e}`;throw new Error(t)}};Ie.assertIsArray=wf;var vf=function(e){if(typeof e!="string"){let t=`This method only supports strings but input was: ${e}`;throw new Error(t)}};Ie.assertIsString=vf});var ht=Y(B=>{"use strict";T();L();Object.defineProperty(B,"__esModule",{value:!0});B.bigIntToUnpaddedBuffer=B.bigIntToHex=B.bufArrToArr=B.arrToBufArr=B.validateNoLeadingZeroes=B.baToJSON=B.toUtf8=B.short=B.addHexPrefix=B.toUnsigned=B.fromSigned=B.bufferToInt=B.bigIntToBuffer=B.bufferToBigInt=B.bufferToHex=B.toBuffer=B.unpadHexString=B.unpadArray=B.unpadBuffer=B.setLengthRight=B.setLengthLeft=B.zeros=B.intToBuffer=B.intToHex=void 0;var Ct=Hr(),We=lt(),bf=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`};B.intToHex=bf;var Af=function(e){let t=(0,B.intToHex)(e);return b.Buffer.from((0,We.padToEven)(t.slice(2)),"hex")};B.intToBuffer=Af;var xf=function(e){return b.Buffer.allocUnsafe(e).fill(0)};B.zeros=xf;var ds=function(e,t,r){let n=(0,B.zeros)(t);return r?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)},Ef=function(e,t){return(0,Ct.assertIsBuffer)(e),ds(e,t,!1)};B.setLengthLeft=Ef;var Bf=function(e,t){return(0,Ct.assertIsBuffer)(e),ds(e,t,!0)};B.setLengthRight=Bf;var mn=function(e){let t=e[0];for(;e.length>0&&t.toString()==="0";)e=e.slice(1),t=e[0];return e},Sf=function(e){return(0,Ct.assertIsBuffer)(e),mn(e)};B.unpadBuffer=Sf;var _f=function(e){return(0,Ct.assertIsArray)(e),mn(e)};B.unpadArray=_f;var If=function(e){return(0,Ct.assertIsHexString)(e),e=(0,We.stripHexPrefix)(e),"0x"+mn(e)};B.unpadHexString=If;var Tf=function(e){if(e==null)return b.Buffer.allocUnsafe(0);if(b.Buffer.isBuffer(e))return b.Buffer.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return b.Buffer.from(e);if(typeof e=="string"){if(!(0,We.isHexString)(e))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${e}`);return b.Buffer.from((0,We.padToEven)((0,We.stripHexPrefix)(e)),"hex")}if(typeof e=="number")return(0,B.intToBuffer)(e);if(typeof e=="bigint"){if(e<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${e}`);let t=e.toString(16);return t.length%2&&(t="0"+t),b.Buffer.from(t,"hex")}if(e.toArray)return b.Buffer.from(e.toArray());if(e.toBuffer)return b.Buffer.from(e.toBuffer());throw new Error("invalid type")};B.toBuffer=Tf;var Lf=function(e){return e=(0,B.toBuffer)(e),"0x"+e.toString("hex")};B.bufferToHex=Lf;function wn(e){let t=(0,B.bufferToHex)(e);return BigInt(t==="0x"?0:t)}B.bufferToBigInt=wn;function vn(e){return(0,B.toBuffer)("0x"+e.toString(16))}B.bigIntToBuffer=vn;var Pf=function(e){let t=Number(wn(e));if(!Number.isSafeInteger(t))throw new Error("Number exceeds 53 bits");return t};B.bufferToInt=Pf;var Hf=function(e){return BigInt.asIntN(256,wn(e))};B.fromSigned=Hf;var Of=function(e){return vn(BigInt.asUintN(256,e))};B.toUnsigned=Of;var Rf=function(e){return typeof e!="string"||(0,We.isHexPrefixed)(e)?e:"0x"+e};B.addHexPrefix=Rf;function Uf(e,t=50){let r=b.Buffer.isBuffer(e)?e.toString("hex"):e;return r.length<=t?r:r.slice(0,t)+"\u2026"}B.short=Uf;var kf=function(e){let t=/^(00)+|(00)+$/g;if(e=(0,We.stripHexPrefix)(e),e.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return b.Buffer.from(e.replace(t,""),"hex").toString("utf8")};B.toUtf8=kf;var Cf=function(e){if(b.Buffer.isBuffer(e))return`0x${e.toString("hex")}`;if(e instanceof Array){let t=[];for(let r=0;r<e.length;r++)t.push((0,B.baToJSON)(e[r]));return t}};B.baToJSON=Cf;var jf=function(e){for(let[t,r]of Object.entries(e))if(r!==void 0&&r.length>0&&r[0]===0)throw new Error(`${t} cannot have leading zeroes, received: ${r.toString("hex")}`)};B.validateNoLeadingZeroes=jf;function ys(e){return Array.isArray(e)?e.map(t=>ys(t)):b.Buffer.from(e)}B.arrToBufArr=ys;function gs(e){return Array.isArray(e)?e.map(t=>gs(t)):Uint8Array.from(e!=null?e:[])}B.bufArrToArr=gs;var $f=e=>"0x"+e.toString(16);B.bigIntToHex=$f;function qf(e){return(0,B.unpadBuffer)(vn(e))}B.bigIntToUnpaddedBuffer=qf});var bn=Y(R=>{"use strict";T();L();Object.defineProperty(R,"__esModule",{value:!0});R.accountBodyToRLP=R.accountBodyToSlim=R.accountBodyFromSlim=R.isZeroAddress=R.zeroAddress=R.importPublic=R.privateToAddress=R.privateToPublic=R.publicToAddress=R.pubToAddress=R.isValidPublic=R.isValidPrivate=R.generateAddress2=R.generateAddress=R.isValidChecksumAddress=R.toChecksumAddress=R.isValidAddress=R.Account=void 0;var jt=Ji(),yt=pn(),gt=Br(),Nf=gn(),Q=ht(),Ve=_r(),pe=Hr(),Mf=lt(),dt=BigInt(0),pt=class{constructor(t=dt,r=dt,n=Ve.KECCAK256_RLP,s=Ve.KECCAK256_NULL){this.nonce=t,this.balance=r,this.storageRoot=n,this.codeHash=s,this._validate()}static fromAccountData(t){let{nonce:r,balance:n,storageRoot:s,codeHash:f}=t;return new pt(r!==void 0?(0,Q.bufferToBigInt)((0,Q.toBuffer)(r)):void 0,n!==void 0?(0,Q.bufferToBigInt)((0,Q.toBuffer)(n)):void 0,s!==void 0?(0,Q.toBuffer)(s):void 0,f!==void 0?(0,Q.toBuffer)(f):void 0)}static fromRlpSerializedAccount(t){let r=(0,Q.arrToBufArr)(jt.RLP.decode(Uint8Array.from(t)));if(!Array.isArray(r))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(r)}static fromValuesArray(t){let[r,n,s,f]=t;return new pt((0,Q.bufferToBigInt)(r),(0,Q.bufferToBigInt)(n),s,f)}_validate(){if(this.nonce<dt)throw new Error("nonce must be greater than zero");if(this.balance<dt)throw new Error("balance must be greater than zero");if(this.storageRoot.length!==32)throw new Error("storageRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")}raw(){return[(0,Q.bigIntToUnpaddedBuffer)(this.nonce),(0,Q.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return b.Buffer.from(jt.RLP.encode((0,Q.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(Ve.KECCAK256_NULL)}isEmpty(){return this.balance===dt&&this.nonce===dt&&this.codeHash.equals(Ve.KECCAK256_NULL)}};R.Account=pt;var Vf=function(e){try{(0,pe.assertIsString)(e)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)};R.isValidAddress=Vf;var Kf=function(e,t){(0,pe.assertIsHexString)(e);let r=(0,Mf.stripHexPrefix)(e).toLowerCase(),n="";t!==void 0&&(n=(0,Q.bufferToBigInt)((0,Q.toBuffer)(t)).toString()+"0x");let s=b.Buffer.from(n+r,"utf8"),f=(0,Nf.bytesToHex)((0,yt.keccak256)(s)),a="0x";for(let h=0;h<r.length;h++)parseInt(f[h],16)>=8?a+=r[h].toUpperCase():a+=r[h];return a};R.toChecksumAddress=Kf;var zf=function(e,t){return(0,R.isValidAddress)(e)&&(0,R.toChecksumAddress)(e,t)===e};R.isValidChecksumAddress=zf;var Df=function(e,t){return(0,pe.assertIsBuffer)(e),(0,pe.assertIsBuffer)(t),(0,Q.bufferToBigInt)(t)===BigInt(0)?b.Buffer.from((0,yt.keccak256)(jt.RLP.encode((0,Q.bufArrToArr)([e,null])))).slice(-20):b.Buffer.from((0,yt.keccak256)(jt.RLP.encode((0,Q.bufArrToArr)([e,t])))).slice(-20)};R.generateAddress=Df;var Ff=function(e,t,r){if((0,pe.assertIsBuffer)(e),(0,pe.assertIsBuffer)(t),(0,pe.assertIsBuffer)(r),e.length!==20)throw new Error("Expected from to be of length 20");if(t.length!==32)throw new Error("Expected salt to be of length 32");let n=(0,yt.keccak256)(b.Buffer.concat([b.Buffer.from("ff","hex"),e,t,(0,yt.keccak256)(r)]));return(0,Q.toBuffer)(n).slice(-20)};R.generateAddress2=Ff;var Gf=function(e){return gt.utils.isValidPrivateKey(e)};R.isValidPrivate=Gf;var Zf=function(e,t=!1){if((0,pe.assertIsBuffer)(e),e.length===64)try{return gt.Point.fromHex(b.Buffer.concat([b.Buffer.from([4]),e])),!0}catch{return!1}if(!t)return!1;try{return gt.Point.fromHex(e),!0}catch{return!1}};R.isValidPublic=Zf;var Wf=function(e,t=!1){if((0,pe.assertIsBuffer)(e),t&&e.length!==64&&(e=b.Buffer.from(gt.Point.fromHex(e).toRawBytes(!1).slice(1))),e.length!==64)throw new Error("Expected pubKey to be of length 64");return b.Buffer.from((0,yt.keccak256)(e)).slice(-20)};R.pubToAddress=Wf;R.publicToAddress=R.pubToAddress;var Xf=function(e){return(0,pe.assertIsBuffer)(e),b.Buffer.from(gt.Point.fromPrivateKey(e).toRawBytes(!1).slice(1))};R.privateToPublic=Xf;var Yf=function(e){return(0,R.publicToAddress)((0,R.privateToPublic)(e))};R.privateToAddress=Yf;var Qf=function(e){return(0,pe.assertIsBuffer)(e),e.length!==64&&(e=b.Buffer.from(gt.Point.fromHex(e).toRawBytes(!1).slice(1))),e};R.importPublic=Qf;var Jf=function(){let t=(0,Q.zeros)(20);return(0,Q.bufferToHex)(t)};R.zeroAddress=Jf;var ec=function(e){try{(0,pe.assertIsString)(e)}catch{return!1}return(0,R.zeroAddress)()===e};R.isZeroAddress=ec;function ms(e){let[t,r,n,s]=e;return[t,r,(0,Q.arrToBufArr)(n).length===0?Ve.KECCAK256_RLP:n,(0,Q.arrToBufArr)(s).length===0?Ve.KECCAK256_NULL:s]}R.accountBodyFromSlim=ms;var ps=new Uint8Array(0);function tc(e){let[t,r,n,s]=e;return[t,r,(0,Q.arrToBufArr)(n).equals(Ve.KECCAK256_RLP)?ps:n,(0,Q.arrToBufArr)(s).equals(Ve.KECCAK256_NULL)?ps:s]}R.accountBodyToSlim=tc;function rc(e,t=!0){let r=t?ms(e):e;return(0,Q.arrToBufArr)(jt.RLP.encode(r))}R.accountBodyToRLP=rc});var ws=Y(Rr=>{"use strict";T();L();Object.defineProperty(Rr,"__esModule",{value:!0});Rr.Address=void 0;var $t=bn(),Or=ht(),Ee=class{constructor(t){if(t.length!==20)throw new Error("Invalid address length");this.buf=t}static zero(){return new Ee((0,Or.zeros)(20))}static fromString(t){if(!(0,$t.isValidAddress)(t))throw new Error("Invalid address");return new Ee((0,Or.toBuffer)(t))}static fromPublicKey(t){if(!b.Buffer.isBuffer(t))throw new Error("Public key should be Buffer");let r=(0,$t.pubToAddress)(t);return new Ee(r)}static fromPrivateKey(t){if(!b.Buffer.isBuffer(t))throw new Error("Private key should be Buffer");let r=(0,$t.privateToAddress)(t);return new Ee(r)}static generate(t,r){if(typeof r!="bigint")throw new Error("Expected nonce to be a bigint");return new Ee((0,$t.generateAddress)(t.buf,(0,Or.bigIntToBuffer)(r)))}static generate2(t,r,n){if(!b.Buffer.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!b.Buffer.isBuffer(n))throw new Error("Expected initCode to be a Buffer");return new Ee((0,$t.generateAddress2)(t.buf,r,n))}equals(t){return this.buf.equals(t.buf)}isZero(){return this.equals(Ee.zero())}isPrecompileOrSystemAddress(){let t=(0,Or.bufferToBigInt)(this.buf),r=BigInt(0),n=BigInt("0xffff");return t>=r&&t<=n}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return b.Buffer.from(this.buf)}};Rr.Address=Ee});var bs=Y(oe=>{"use strict";T();L();Object.defineProperty(oe,"__esModule",{value:!0});oe.hashPersonalMessage=oe.isValidSignature=oe.fromRpcSig=oe.toCompactSig=oe.toRpcSig=oe.ecrecover=oe.ecsign=void 0;var nc=pn(),vs=Br(),ce=ht(),An=_r(),ic=Hr();function sc(e,t,r){let[n,s]=(0,vs.signSync)(e,t,{recovered:!0,der:!1}),f=b.Buffer.from(n.slice(0,32)),a=b.Buffer.from(n.slice(32,64)),h=r===void 0?BigInt(s+27):BigInt(s+35)+BigInt(r)*BigInt(2);return{r:f,s:a,v:h}}oe.ecsign=sc;function Ur(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===void 0?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function kr(e){return e===BigInt(0)||e===BigInt(1)}var oc=function(e,t,r,n,s){let f=b.Buffer.concat([(0,ce.setLengthLeft)(r,32),(0,ce.setLengthLeft)(n,32)],64),a=Ur(t,s);if(!kr(a))throw new Error("Invalid signature v value");let h=(0,vs.recoverPublicKey)(e,f,Number(a));return b.Buffer.from(h.slice(1))};oe.ecrecover=oc;var uc=function(e,t,r,n){let s=Ur(e,n);if(!kr(s))throw new Error("Invalid signature v value");return(0,ce.bufferToHex)(b.Buffer.concat([(0,ce.setLengthLeft)(t,32),(0,ce.setLengthLeft)(r,32),(0,ce.toBuffer)(e)]))};oe.toRpcSig=uc;var fc=function(e,t,r,n){let s=Ur(e,n);if(!kr(s))throw new Error("Invalid signature v value");let f=r;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(f=b.Buffer.from(r),f[0]|=128),(0,ce.bufferToHex)(b.Buffer.concat([(0,ce.setLengthLeft)(t,32),(0,ce.setLengthLeft)(f,32)]))};oe.toCompactSig=fc;var cc=function(e){let t=(0,ce.toBuffer)(e),r,n,s;if(t.length>=65)r=t.slice(0,32),n=t.slice(32,64),s=(0,ce.bufferToBigInt)(t.slice(64));else if(t.length===64)r=t.slice(0,32),n=t.slice(32,64),s=BigInt((0,ce.bufferToInt)(t.slice(32,33))>>7),n[0]&=127;else throw new Error("Invalid signature length");return s<27&&(s=s+BigInt(27)),{v:s,r,s:n}};oe.fromRpcSig=cc;var ac=function(e,t,r,n=!0,s){if(t.length!==32||r.length!==32||!kr(Ur(e,s)))return!1;let f=(0,ce.bufferToBigInt)(t),a=(0,ce.bufferToBigInt)(r);return!(f===BigInt(0)||f>=An.SECP256K1_ORDER||a===BigInt(0)||a>=An.SECP256K1_ORDER||n&&a>=An.SECP256K1_ORDER_DIV_2)};oe.isValidSignature=ac;var lc=function(e){(0,ic.assertIsBuffer)(e);let t=b.Buffer.from(`Ethereum Signed Message:
${e.length}`,"utf-8");return b.Buffer.from((0,nc.keccak256)(b.Buffer.concat([t,e])))};oe.hashPersonalMessage=lc});var As=Y(Xe=>{"use strict";T();L();Object.defineProperty(Xe,"__esModule",{value:!0});Xe.toType=Xe.TypeOutput=void 0;var Cr=ht(),hc=lt(),qt;(function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"})(qt=Xe.TypeOutput||(Xe.TypeOutput={}));function dc(e,t){if(e===null)return null;if(e===void 0)return;if(typeof e=="string"&&!(0,hc.isHexString)(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if(typeof e=="number"&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");let r=(0,Cr.toBuffer)(e);switch(t){case qt.Buffer:return r;case qt.BigInt:return(0,Cr.bufferToBigInt)(r);case qt.Number:{let n=(0,Cr.bufferToBigInt)(r);if(n>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(n)}case qt.PrefixedHexString:return(0,Cr.bufferToHex)(r);default:throw new Error("unknown outputType")}}Xe.toType=dc});var Es=Y((jr,xs)=>{T();L();(function(e,t){typeof jr=="object"&&typeof xs<"u"?t(jr):typeof define=="function"&&define.amd?define(["exports"],t):t(e.async={})})(jr,function(e){"use strict";function t(o,...i){return(...u)=>o(...i,...u)}function r(o){return function(...i){var u=i.pop();return o.call(this,i,u)}}var n=typeof queueMicrotask=="function"&&queueMicrotask,s=typeof setImmediate=="function"&&setImmediate,f=typeof process=="object"&&typeof process.nextTick=="function";function a(o){setTimeout(o,0)}function h(o){return(i,...u)=>o(()=>i(...u))}var m;n?m=queueMicrotask:s?m=setImmediate:f?m=process.nextTick:m=a;var w=h(m);function E(o){return k(o)?function(...i){let u=i.pop(),c=o.apply(this,i);return S(c,u)}:r(function(i,u){var c;try{c=o.apply(this,i)}catch(l){return u(l)}if(c&&typeof c.then=="function")return S(c,u);u(null,c)})}function S(o,i){return o.then(u=>{P(i,null,u)},u=>{P(i,u&&u.message?u:new Error(u))})}function P(o,i,u){try{o(i,u)}catch(c){w(l=>{throw l},c)}}function k(o){return o[Symbol.toStringTag]==="AsyncFunction"}function ie(o){return o[Symbol.toStringTag]==="AsyncGenerator"}function te(o){return typeof o[Symbol.asyncIterator]=="function"}function U(o){if(typeof o!="function")throw new Error("expected a function");return k(o)?E(o):o}function O(o,i=o.length){if(!i)throw new Error("arity is undefined");function u(...c){return typeof c[i-1]=="function"?o.apply(this,c):new Promise((l,d)=>{c[i-1]=(y,...g)=>{if(y)return d(y);l(g.length>1?g:g[0])},o.apply(this,c)})}return u}function ze(o){return function(u,...c){return O(function(d){var y=this;return o(u,(g,p)=>{U(g).apply(y,c.concat(p))},d)})}}function Oe(o,i,u,c){i=i||[];var l=[],d=0,y=U(u);return o(i,(g,p,x)=>{var $=d++;y(g,(z,q)=>{l[$]=q,x(z)})},g=>{c(g,l)})}function Re(o){return o&&typeof o.length=="number"&&o.length>=0&&o.length%1===0}let Ye={};function Ue(o){function i(...u){if(o!==null){var c=o;o=null,c.apply(this,u)}}return Object.assign(i,o),i}function _s(o){return o[Symbol.iterator]&&o[Symbol.iterator]()}function Is(o){var i=-1,u=o.length;return function(){return++i<u?{value:o[i],key:i}:null}}function Ts(o){var i=-1;return function(){var c=o.next();return c.done?null:(i++,{value:c.value,key:i})}}function Ls(o){var i=o?Object.keys(o):[],u=-1,c=i.length;return function l(){var d=i[++u];return d==="__proto__"?l():u<c?{value:o[d],key:d}:null}}function Ps(o){if(Re(o))return Is(o);var i=_s(o);return i?Ts(i):Ls(o)}function ke(o){return function(...i){if(o===null)throw new Error("Callback was already called.");var u=o;o=null,u.apply(this,i)}}function Bn(o,i,u,c){let l=!1,d=!1,y=!1,g=0,p=0;function x(){g>=i||y||l||(y=!0,o.next().then(({value:q,done:he})=>{if(!(d||l)){if(y=!1,he){l=!0,g<=0&&c(null);return}g++,u(q,p,$),p++,x()}}).catch(z))}function $(q,he){if(g-=1,!d){if(q)return z(q);if(q===!1){l=!0,d=!0;return}if(he===Ye||l&&g<=0)return l=!0,c(null);x()}}function z(q){d||(y=!1,l=!0,c(q))}x()}var me=o=>(i,u,c)=>{if(c=Ue(c),o<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!i)return c(null);if(ie(i))return Bn(i,o,u,c);if(te(i))return Bn(i[Symbol.asyncIterator](),o,u,c);var l=Ps(i),d=!1,y=!1,g=0,p=!1;function x(z,q){if(!y)if(g-=1,z)d=!0,c(z);else if(z===!1)d=!0,y=!0;else{if(q===Ye||d&&g<=0)return d=!0,c(null);p||$()}}function $(){for(p=!0;g<o&&!d;){var z=l();if(z===null){d=!0,g<=0&&c(null);return}g+=1,u(z.value,z.key,ke(x))}p=!1}$()};function Hs(o,i,u,c){return me(i)(o,U(u),c)}var Qe=O(Hs,4);function Os(o,i,u){u=Ue(u);var c=0,l=0,{length:d}=o,y=!1;d===0&&u(null);function g(p,x){p===!1&&(y=!0),y!==!0&&(p?u(p):(++l===d||x===Ye)&&u(null))}for(;c<d;c++)i(o[c],c,ke(g))}function Rs(o,i,u){return Qe(o,1/0,i,u)}function Us(o,i,u){var c=Re(o)?Os:Rs;return c(o,U(i),u)}var ae=O(Us,3);function ks(o,i,u){return Oe(ae,o,i,u)}var Nt=O(ks,3),Sn=ze(Nt);function Cs(o,i,u){return Qe(o,1,i,u)}var we=O(Cs,3);function js(o,i,u){return Oe(we,o,i,u)}var Nr=O(js,3),_n=ze(Nr);let Je=Symbol("promiseCallback");function et(){let o,i;function u(c,...l){if(c)return i(c);o(l.length>1?l:l[0])}return u[Je]=new Promise((c,l)=>{o=c,i=l}),u}function Mr(o,i,u){typeof i!="number"&&(u=i,i=null),u=Ue(u||et());var c=Object.keys(o).length;if(!c)return u(null);i||(i=c);var l={},d=0,y=!1,g=!1,p=Object.create(null),x=[],$=[],z={};Object.keys(o).forEach(A=>{var I=o[A];if(!Array.isArray(I)){q(A,[I]),$.push(A);return}var N=I.slice(0,I.length-1),J=N.length;if(J===0){q(A,I),$.push(A);return}z[A]=J,N.forEach(se=>{if(!o[se])throw new Error("async.auto task `"+A+"` has a non-existent dependency `"+se+"` in "+N.join(", "));rt(se,()=>{J--,J===0&&q(A,I)})})}),D(),he();function q(A,I){x.push(()=>xt(A,I))}function he(){if(!y){if(x.length===0&&d===0)return u(null,l);for(;x.length&&d<i;){var A=x.shift();A()}}}function rt(A,I){var N=p[A];N||(N=p[A]=[]),N.push(I)}function De(A){var I=p[A]||[];I.forEach(N=>N()),he()}function xt(A,I){if(!g){var N=ke((se,...de)=>{if(d--,se===!1){y=!0;return}if(de.length<2&&([de]=de),se){var nt={};if(Object.keys(l).forEach(Fe=>{nt[Fe]=l[Fe]}),nt[A]=de,g=!0,p=Object.create(null),y)return;u(se,nt)}else l[A]=de,De(A)});d++;var J=U(I[I.length-1]);I.length>1?J(l,N):J(N)}}function D(){for(var A,I=0;$.length;)A=$.pop(),I++,_(A).forEach(N=>{--z[N]===0&&$.push(N)});if(I!==c)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function _(A){var I=[];return Object.keys(o).forEach(N=>{let J=o[N];Array.isArray(J)&&J.indexOf(A)>=0&&I.push(N)}),I}return u[Je]}var $s=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,qs=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,Ns=/,/,Ms=/(=.+)?(\s*)$/;function Vs(o){let i="",u=0,c=o.indexOf("*/");for(;u<o.length;)if(o[u]==="/"&&o[u+1]==="/"){let l=o.indexOf(`
`,u);u=l===-1?o.length:l}else if(c!==-1&&o[u]==="/"&&o[u+1]==="*"){let l=o.indexOf("*/",u);l!==-1?(u=l+2,c=o.indexOf("*/",u)):(i+=o[u],u++)}else i+=o[u],u++;return i}function Ks(o){let i=Vs(o.toString()),u=i.match($s);if(u||(u=i.match(qs)),!u)throw new Error(`could not parse args in autoInject
Source:
`+i);let[,c]=u;return c.replace(/\s/g,"").split(Ns).map(l=>l.replace(Ms,"").trim())}function In(o,i){var u={};return Object.keys(o).forEach(c=>{var l=o[c],d,y=k(l),g=!y&&l.length===1||y&&l.length===0;if(Array.isArray(l))d=[...l],l=d.pop(),u[c]=d.concat(d.length>0?p:l);else if(g)u[c]=l;else{if(d=Ks(l),l.length===0&&!y&&d.length===0)throw new Error("autoInject task functions require explicit parameters.");y||d.pop(),u[c]=d.concat(p)}function p(x,$){var z=d.map(q=>x[q]);z.push($),U(l)(...z)}}),Mr(u,i)}class zs{constructor(){this.head=this.tail=null,this.length=0}removeLink(i){return i.prev?i.prev.next=i.next:this.head=i.next,i.next?i.next.prev=i.prev:this.tail=i.prev,i.prev=i.next=null,this.length-=1,i}empty(){for(;this.head;)this.shift();return this}insertAfter(i,u){u.prev=i,u.next=i.next,i.next?i.next.prev=u:this.tail=u,i.next=u,this.length+=1}insertBefore(i,u){u.prev=i.prev,u.next=i,i.prev?i.prev.next=u:this.head=u,i.prev=u,this.length+=1}unshift(i){this.head?this.insertBefore(this.head,i):Tn(this,i)}push(i){this.tail?this.insertAfter(this.tail,i):Tn(this,i)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var i=this.head;i;)yield i.data,i=i.next}remove(i){for(var u=this.head;u;){var{next:c}=u;i(u)&&this.removeLink(u),u=c}return this}}function Tn(o,i){o.length=1,o.head=o.tail=i}function Vr(o,i,u){if(i==null)i=1;else if(i===0)throw new RangeError("Concurrency must not be zero");var c=U(o),l=0,d=[];let y={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function g(_,A){y[_].push(A)}function p(_,A){let I=(...N)=>{x(_,I),A(...N)};y[_].push(I)}function x(_,A){if(!_)return Object.keys(y).forEach(I=>y[I]=[]);if(!A)return y[_]=[];y[_]=y[_].filter(I=>I!==A)}function $(_,...A){y[_].forEach(I=>I(...A))}var z=!1;function q(_,A,I,N){if(N!=null&&typeof N!="function")throw new Error("task callback must be a function");D.started=!0;var J,se;function de(Fe,...Et){if(Fe)return I?se(Fe):J();if(Et.length<=1)return J(Et[0]);J(Et)}var nt=D._createTaskItem(_,I?de:N||de);if(A?D._tasks.unshift(nt):D._tasks.push(nt),z||(z=!0,w(()=>{z=!1,D.process()})),I||!N)return new Promise((Fe,Et)=>{J=Fe,se=Et})}function he(_){return function(A,...I){l-=1;for(var N=0,J=_.length;N<J;N++){var se=_[N],de=d.indexOf(se);de===0?d.shift():de>0&&d.splice(de,1),se.callback(A,...I),A!=null&&$("error",A,se.data)}l<=D.concurrency-D.buffer&&$("unsaturated"),D.idle()&&$("drain"),D.process()}}function rt(_){return _.length===0&&D.idle()?(w(()=>$("drain")),!0):!1}let De=_=>A=>{if(!A)return new Promise((I,N)=>{p(_,(J,se)=>{if(J)return N(J);I(se)})});x(_),g(_,A)};var xt=!1,D={_tasks:new zs,_createTaskItem(_,A){return{data:_,callback:A}},*[Symbol.iterator](){yield*D._tasks[Symbol.iterator]()},concurrency:i,payload:u,buffer:i/4,started:!1,paused:!1,push(_,A){return Array.isArray(_)?rt(_)?void 0:_.map(I=>q(I,!1,!1,A)):q(_,!1,!1,A)},pushAsync(_,A){return Array.isArray(_)?rt(_)?void 0:_.map(I=>q(I,!1,!0,A)):q(_,!1,!0,A)},kill(){x(),D._tasks.empty()},unshift(_,A){return Array.isArray(_)?rt(_)?void 0:_.map(I=>q(I,!0,!1,A)):q(_,!0,!1,A)},unshiftAsync(_,A){return Array.isArray(_)?rt(_)?void 0:_.map(I=>q(I,!0,!0,A)):q(_,!0,!0,A)},remove(_){D._tasks.remove(_)},process(){if(!xt){for(xt=!0;!D.paused&&l<D.concurrency&&D._tasks.length;){var _=[],A=[],I=D._tasks.length;D.payload&&(I=Math.min(I,D.payload));for(var N=0;N<I;N++){var J=D._tasks.shift();_.push(J),d.push(J),A.push(J.data)}l+=1,D._tasks.length===0&&$("empty"),l===D.concurrency&&$("saturated");var se=ke(he(_));c(A,se)}xt=!1}},length(){return D._tasks.length},running(){return l},workersList(){return d},idle(){return D._tasks.length+l===0},pause(){D.paused=!0},resume(){D.paused!==!1&&(D.paused=!1,w(D.process))}};return Object.defineProperties(D,{saturated:{writable:!1,value:De("saturated")},unsaturated:{writable:!1,value:De("unsaturated")},empty:{writable:!1,value:De("empty")},drain:{writable:!1,value:De("drain")},error:{writable:!1,value:De("error")}}),D}function Ln(o,i){return Vr(o,1,i)}function Pn(o,i,u){return Vr(o,i,u)}function Ds(o,i,u,c){c=Ue(c);var l=U(u);return we(o,(d,y,g)=>{l(i,d,(p,x)=>{i=x,g(p)})},d=>c(d,i))}var Ce=O(Ds,4);function Kr(...o){var i=o.map(U);return function(...u){var c=this,l=u[u.length-1];return typeof l=="function"?u.pop():l=et(),Ce(i,u,(d,y,g)=>{y.apply(c,d.concat((p,...x)=>{g(p,x)}))},(d,y)=>l(d,...y)),l[Je]}}function Hn(...o){return Kr(...o.reverse())}function Fs(o,i,u,c){return Oe(me(i),o,u,c)}var mt=O(Fs,4);function Gs(o,i,u,c){var l=U(u);return mt(o,i,(d,y)=>{l(d,(g,...p)=>g?y(g):y(g,p))},(d,y)=>{for(var g=[],p=0;p<y.length;p++)y[p]&&(g=g.concat(...y[p]));return c(d,g)})}var tt=O(Gs,4);function Zs(o,i,u){return tt(o,1/0,i,u)}var Mt=O(Zs,3);function Ws(o,i,u){return tt(o,1,i,u)}var Vt=O(Ws,3);function On(...o){return function(...i){var u=i.pop();return u(null,...o)}}function Le(o,i){return(u,c,l,d)=>{var y=!1,g;let p=U(l);u(c,(x,$,z)=>{p(x,(q,he)=>{if(q||q===!1)return z(q);if(o(he)&&!g)return y=!0,g=i(!0,x),z(null,Ye);z()})},x=>{if(x)return d(x);d(null,y?g:i(!1))})}}function Xs(o,i,u){return Le(c=>c,(c,l)=>l)(ae,o,i,u)}var Kt=O(Xs,3);function Ys(o,i,u,c){return Le(l=>l,(l,d)=>d)(me(i),o,u,c)}var zt=O(Ys,4);function Qs(o,i,u){return Le(c=>c,(c,l)=>l)(me(1),o,i,u)}var Dt=O(Qs,3);function Rn(o){return(i,...u)=>U(i)(...u,(c,...l)=>{typeof console=="object"&&(c?console.error&&console.error(c):console[o]&&l.forEach(d=>console[o](d)))})}var Un=Rn("dir");function Js(o,i,u){u=ke(u);var c=U(o),l=U(i),d;function y(p,...x){if(p)return u(p);p!==!1&&(d=x,l(...x,g))}function g(p,x){if(p)return u(p);if(p!==!1){if(!x)return u(null,...d);c(y)}}return g(null,!0)}var wt=O(Js,3);function kn(o,i,u){let c=U(i);return wt(o,(...l)=>{let d=l.pop();c(...l,(y,g)=>d(y,!g))},u)}function Cn(o){return(i,u,c)=>o(i,c)}function eo(o,i,u){return ae(o,Cn(U(i)),u)}var Ft=O(eo,3);function to(o,i,u,c){return me(i)(o,Cn(U(u)),c)}var vt=O(to,4);function ro(o,i,u){return vt(o,1,i,u)}var bt=O(ro,3);function zr(o){return k(o)?o:function(...i){var u=i.pop(),c=!0;i.push((...l)=>{c?w(()=>u(...l)):u(...l)}),o.apply(this,i),c=!1}}function no(o,i,u){return Le(c=>!c,c=>!c)(ae,o,i,u)}var Gt=O(no,3);function io(o,i,u,c){return Le(l=>!l,l=>!l)(me(i),o,u,c)}var Zt=O(io,4);function so(o,i,u){return Le(c=>!c,c=>!c)(we,o,i,u)}var Wt=O(so,3);function oo(o,i,u,c){var l=new Array(i.length);o(i,(d,y,g)=>{u(d,(p,x)=>{l[y]=!!x,g(p)})},d=>{if(d)return c(d);for(var y=[],g=0;g<i.length;g++)l[g]&&y.push(i[g]);c(null,y)})}function uo(o,i,u,c){var l=[];o(i,(d,y,g)=>{u(d,(p,x)=>{if(p)return g(p);x&&l.push({index:y,value:d}),g(p)})},d=>{if(d)return c(d);c(null,l.sort((y,g)=>y.index-g.index).map(y=>y.value))})}function Xt(o,i,u,c){var l=Re(i)?oo:uo;return l(o,i,U(u),c)}function fo(o,i,u){return Xt(ae,o,i,u)}var Yt=O(fo,3);function co(o,i,u,c){return Xt(me(i),o,u,c)}var Qt=O(co,4);function ao(o,i,u){return Xt(we,o,i,u)}var Jt=O(ao,3);function lo(o,i){var u=ke(i),c=U(zr(o));function l(d){if(d)return u(d);d!==!1&&c(l)}return l()}var jn=O(lo,2);function ho(o,i,u,c){var l=U(u);return mt(o,i,(d,y)=>{l(d,(g,p)=>g?y(g):y(g,{key:p,val:d}))},(d,y)=>{for(var g={},{hasOwnProperty:p}=Object.prototype,x=0;x<y.length;x++)if(y[x]){var{key:$}=y[x],{val:z}=y[x];p.call(g,$)?g[$].push(z):g[$]=[z]}return c(d,g)})}var er=O(ho,4);function $n(o,i,u){return er(o,1/0,i,u)}function qn(o,i,u){return er(o,1,i,u)}var Nn=Rn("log");function yo(o,i,u,c){c=Ue(c);var l={},d=U(u);return me(i)(o,(y,g,p)=>{d(y,g,(x,$)=>{if(x)return p(x);l[g]=$,p(x)})},y=>c(y,l))}var tr=O(yo,4);function Mn(o,i,u){return tr(o,1/0,i,u)}function Vn(o,i,u){return tr(o,1,i,u)}function Kn(o,i=u=>u){var u=Object.create(null),c=Object.create(null),l=U(o),d=r((y,g)=>{var p=i(...y);p in u?w(()=>g(null,...u[p])):p in c?c[p].push(g):(c[p]=[g],l(...y,(x,...$)=>{x||(u[p]=$);var z=c[p];delete c[p];for(var q=0,he=z.length;q<he;q++)z[q](x,...$)}))});return d.memo=u,d.unmemoized=o,d}var rr;f?rr=process.nextTick:s?rr=setImmediate:rr=a;var zn=h(rr),Dr=O((o,i,u)=>{var c=Re(i)?[]:{};o(i,(l,d,y)=>{U(l)((g,...p)=>{p.length<2&&([p]=p),c[d]=p,y(g)})},l=>u(l,c))},3);function Dn(o,i){return Dr(ae,o,i)}function Fn(o,i,u){return Dr(me(i),o,u)}function Fr(o,i){var u=U(o);return Vr((c,l)=>{u(c[0],l)},i,1)}class go{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(i){let u;for(;i>0&&Gr(this.heap[i],this.heap[u=Gn(i)]);){let c=this.heap[i];this.heap[i]=this.heap[u],this.heap[u]=c,i=u}}percDown(i){let u;for(;(u=po(i))<this.heap.length&&(u+1<this.heap.length&&Gr(this.heap[u+1],this.heap[u])&&(u=u+1),!Gr(this.heap[i],this.heap[u]));){let c=this.heap[i];this.heap[i]=this.heap[u],this.heap[u]=c,i=u}}push(i){i.pushCount=++this.pushCount,this.heap.push(i),this.percUp(this.heap.length-1)}unshift(i){return this.heap.push(i)}shift(){let[i]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),i}toArray(){return[...this]}*[Symbol.iterator](){for(let i=0;i<this.heap.length;i++)yield this.heap[i].data}remove(i){let u=0;for(let c=0;c<this.heap.length;c++)i(this.heap[c])||(this.heap[u]=this.heap[c],u++);this.heap.splice(u);for(let c=Gn(this.heap.length-1);c>=0;c--)this.percDown(c);return this}}function po(o){return(o<<1)+1}function Gn(o){return(o+1>>1)-1}function Gr(o,i){return o.priority!==i.priority?o.priority<i.priority:o.pushCount<i.pushCount}function Zn(o,i){var u=Fr(o,i),{push:c,pushAsync:l}=u;u._tasks=new go,u._createTaskItem=({data:y,priority:g},p)=>({data:y,priority:g,callback:p});function d(y,g){return Array.isArray(y)?y.map(p=>({data:p,priority:g})):{data:y,priority:g}}return u.push=function(y,g=0,p){return c(d(y,g),p)},u.pushAsync=function(y,g=0,p){return l(d(y,g),p)},delete u.unshift,delete u.unshiftAsync,u}function mo(o,i){if(i=Ue(i),!Array.isArray(o))return i(new TypeError("First argument to race must be an array of functions"));if(!o.length)return i();for(var u=0,c=o.length;u<c;u++)U(o[u])(i)}var Wn=O(mo,2);function nr(o,i,u,c){var l=[...o].reverse();return Ce(l,i,u,c)}function ir(o){var i=U(o);return r(function(c,l){return c.push((d,...y)=>{let g={};if(d&&(g.error=d),y.length>0){var p=y;y.length<=1&&([p]=y),g.value=p}l(null,g)}),i.apply(this,c)})}function Xn(o){var i;return Array.isArray(o)?i=o.map(ir):(i={},Object.keys(o).forEach(u=>{i[u]=ir.call(this,o[u])})),i}function Zr(o,i,u,c){let l=U(u);return Xt(o,i,(d,y)=>{l(d,(g,p)=>{y(g,!p)})},c)}function wo(o,i,u){return Zr(ae,o,i,u)}var Yn=O(wo,3);function vo(o,i,u,c){return Zr(me(i),o,u,c)}var Qn=O(vo,4);function bo(o,i,u){return Zr(we,o,i,u)}var Jn=O(bo,3);function ei(o){return function(){return o}}let Wr=5,ti=0;function sr(o,i,u){var c={times:Wr,intervalFunc:ei(ti)};if(arguments.length<3&&typeof o=="function"?(u=i||et(),i=o):(Ao(c,o),u=u||et()),typeof i!="function")throw new Error("Invalid arguments for async.retry");var l=U(i),d=1;function y(){l((g,...p)=>{g!==!1&&(g&&d++<c.times&&(typeof c.errorFilter!="function"||c.errorFilter(g))?setTimeout(y,c.intervalFunc(d-1)):u(g,...p))})}return y(),u[Je]}function Ao(o,i){if(typeof i=="object")o.times=+i.times||Wr,o.intervalFunc=typeof i.interval=="function"?i.interval:ei(+i.interval||ti),o.errorFilter=i.errorFilter;else if(typeof i=="number"||typeof i=="string")o.times=+i||Wr;else throw new Error("Invalid arguments for async.retry")}function ri(o,i){i||(i=o,o=null);let u=o&&o.arity||i.length;k(i)&&(u+=1);var c=U(i);return r((l,d)=>{(l.length<u-1||d==null)&&(l.push(d),d=et());function y(g){c(...l,g)}return o?sr(o,y,d):sr(y,d),d[Je]})}function ni(o,i){return Dr(we,o,i)}function xo(o,i,u){return Le(Boolean,c=>c)(ae,o,i,u)}var or=O(xo,3);function Eo(o,i,u,c){return Le(Boolean,l=>l)(me(i),o,u,c)}var ur=O(Eo,4);function Bo(o,i,u){return Le(Boolean,c=>c)(we,o,i,u)}var fr=O(Bo,3);function So(o,i,u){var c=U(i);return Nt(o,(d,y)=>{c(d,(g,p)=>{if(g)return y(g);y(g,{value:d,criteria:p})})},(d,y)=>{if(d)return u(d);u(null,y.sort(l).map(g=>g.value))});function l(d,y){var g=d.criteria,p=y.criteria;return g<p?-1:g>p?1:0}}var ii=O(So,3);function si(o,i,u){var c=U(o);return r((l,d)=>{var y=!1,g;function p(){var x=o.name||"anonymous",$=new Error('Callback function "'+x+'" timed out.');$.code="ETIMEDOUT",u&&($.info=u),y=!0,d($)}l.push((...x)=>{y||(d(...x),clearTimeout(g))}),g=setTimeout(p,i),c(...l)})}function _o(o){for(var i=Array(o);o--;)i[o]=o;return i}function cr(o,i,u,c){var l=U(u);return mt(_o(o),i,l,c)}function oi(o,i,u){return cr(o,1/0,i,u)}function ui(o,i,u){return cr(o,1,i,u)}function fi(o,i,u,c){arguments.length<=3&&typeof i=="function"&&(c=u,u=i,i=Array.isArray(o)?[]:{}),c=Ue(c||et());var l=U(u);return ae(o,(d,y,g)=>{l(i,d,y,g)},d=>c(d,i)),c[Je]}function Io(o,i){var u=null,c;return bt(o,(l,d)=>{U(l)((y,...g)=>{if(y===!1)return d(y);g.length<2?[c]=g:c=g,u=y,d(y?null:{})})},()=>i(u,c))}var ci=O(Io);function ai(o){return(...i)=>(o.unmemoized||o)(...i)}function To(o,i,u){u=ke(u);var c=U(i),l=U(o),d=[];function y(p,...x){if(p)return u(p);d=x,p!==!1&&l(g)}function g(p,x){if(p)return u(p);if(p!==!1){if(!x)return u(null,...d);c(y)}}return l(g)}var At=O(To,3);function li(o,i,u){let c=U(o);return At(l=>c((d,y)=>l(d,!y)),i,u)}function Lo(o,i){if(i=Ue(i),!Array.isArray(o))return i(new Error("First argument to waterfall must be an array of functions"));if(!o.length)return i();var u=0;function c(d){var y=U(o[u++]);y(...d,ke(l))}function l(d,...y){if(d!==!1){if(d||u===o.length)return i(d,...y);c(y)}}c([])}var hi=O(Lo),Po={apply:t,applyEach:Sn,applyEachSeries:_n,asyncify:E,auto:Mr,autoInject:In,cargo:Ln,cargoQueue:Pn,compose:Hn,concat:Mt,concatLimit:tt,concatSeries:Vt,constant:On,detect:Kt,detectLimit:zt,detectSeries:Dt,dir:Un,doUntil:kn,doWhilst:wt,each:Ft,eachLimit:vt,eachOf:ae,eachOfLimit:Qe,eachOfSeries:we,eachSeries:bt,ensureAsync:zr,every:Gt,everyLimit:Zt,everySeries:Wt,filter:Yt,filterLimit:Qt,filterSeries:Jt,forever:jn,groupBy:$n,groupByLimit:er,groupBySeries:qn,log:Nn,map:Nt,mapLimit:mt,mapSeries:Nr,mapValues:Mn,mapValuesLimit:tr,mapValuesSeries:Vn,memoize:Kn,nextTick:zn,parallel:Dn,parallelLimit:Fn,priorityQueue:Zn,queue:Fr,race:Wn,reduce:Ce,reduceRight:nr,reflect:ir,reflectAll:Xn,reject:Yn,rejectLimit:Qn,rejectSeries:Jn,retry:sr,retryable:ri,seq:Kr,series:ni,setImmediate:w,some:or,someLimit:ur,someSeries:fr,sortBy:ii,timeout:si,times:oi,timesLimit:cr,timesSeries:ui,transform:fi,tryEach:ci,unmemoize:ai,until:li,waterfall:hi,whilst:At,all:Gt,allLimit:Zt,allSeries:Wt,any:or,anyLimit:ur,anySeries:fr,find:Kt,findLimit:zt,findSeries:Dt,flatMap:Mt,flatMapLimit:tt,flatMapSeries:Vt,forEach:Ft,forEachSeries:bt,forEachLimit:vt,forEachOf:ae,forEachOfSeries:we,forEachOfLimit:Qe,inject:Ce,foldl:Ce,foldr:nr,select:Yt,selectLimit:Qt,selectSeries:Jt,wrapSync:E,during:At,doDuring:wt};e.default=Po,e.apply=t,e.applyEach=Sn,e.applyEachSeries=_n,e.asyncify=E,e.auto=Mr,e.autoInject=In,e.cargo=Ln,e.cargoQueue=Pn,e.compose=Hn,e.concat=Mt,e.concatLimit=tt,e.concatSeries=Vt,e.constant=On,e.detect=Kt,e.detectLimit=zt,e.detectSeries=Dt,e.dir=Un,e.doUntil=kn,e.doWhilst=wt,e.each=Ft,e.eachLimit=vt,e.eachOf=ae,e.eachOfLimit=Qe,e.eachOfSeries=we,e.eachSeries=bt,e.ensureAsync=zr,e.every=Gt,e.everyLimit=Zt,e.everySeries=Wt,e.filter=Yt,e.filterLimit=Qt,e.filterSeries=Jt,e.forever=jn,e.groupBy=$n,e.groupByLimit=er,e.groupBySeries=qn,e.log=Nn,e.map=Nt,e.mapLimit=mt,e.mapSeries=Nr,e.mapValues=Mn,e.mapValuesLimit=tr,e.mapValuesSeries=Vn,e.memoize=Kn,e.nextTick=zn,e.parallel=Dn,e.parallelLimit=Fn,e.priorityQueue=Zn,e.queue=Fr,e.race=Wn,e.reduce=Ce,e.reduceRight=nr,e.reflect=ir,e.reflectAll=Xn,e.reject=Yn,e.rejectLimit=Qn,e.rejectSeries=Jn,e.retry=sr,e.retryable=ri,e.seq=Kr,e.series=ni,e.setImmediate=w,e.some=or,e.someLimit=ur,e.someSeries=fr,e.sortBy=ii,e.timeout=si,e.times=oi,e.timesLimit=cr,e.timesSeries=ui,e.transform=fi,e.tryEach=ci,e.unmemoize=ai,e.until=li,e.waterfall=hi,e.whilst=At,e.all=Gt,e.allLimit=Zt,e.allSeries=Wt,e.any=or,e.anyLimit=ur,e.anySeries=fr,e.find=Kt,e.findLimit=zt,e.findSeries=Dt,e.flatMap=Mt,e.flatMapLimit=tt,e.flatMapSeries=Vt,e.forEach=Ft,e.forEachSeries=bt,e.forEachLimit=vt,e.forEachOf=ae,e.forEachOfSeries=we,e.forEachOfLimit=Qe,e.inject=Ce,e.foldl=Ce,e.foldr=nr,e.select=Yt,e.selectLimit=Qt,e.selectSeries=Jt,e.wrapSync=E,e.during=At,e.doDuring=wt,Object.defineProperty(e,"__esModule",{value:!0})})});var Bs=Y($r=>{"use strict";T();L();Object.defineProperty($r,"__esModule",{value:!0});$r.AsyncEventEmitter=void 0;var yc=Es(),gc=Ho(),xn=class extends gc.EventEmitter{emit(t,...r){var h;let[n,s]=r,f=this,a=(h=f._events[t])!=null?h:[];return s===void 0&&typeof n=="function"&&(s=n,n=void 0),(t==="newListener"||t==="removeListener")&&(n={event:n,fn:s},s=void 0),a=Array.isArray(a)?a:[a],(0,yc.eachSeries)(a.slice(),function(m,w){let E;if(m.length<2){try{m.call(f,n)}catch(S){E=S}return w(E)}m.call(f,n,w)},s),f.listenerCount(t)>0}once(t,r){let n=this,s;if(typeof r!="function")throw new TypeError("listener must be a function");return r.length>=2?s=function(f,a){n.removeListener(t,s),r(f,a)}:s=function(f){n.removeListener(t,s),r(f,s)},n.on(t,s),n}first(t,r){var s;let n=(s=this._events[t])!=null?s:[];if(typeof r!="function")throw new TypeError("listener must be a function");return Array.isArray(n)||(this._events[t]=n=[n]),n.unshift(r),this}before(t,r,n){return this.beforeOrAfter(t,r,n)}after(t,r,n){return this.beforeOrAfter(t,r,n,"after")}beforeOrAfter(t,r,n,s){var w;let f=(w=this._events[t])!=null?w:[],a,h,m=s==="after"?1:0;if(typeof n!="function")throw new TypeError("listener must be a function");if(typeof r!="function")throw new TypeError("target must be a function");for(Array.isArray(f)||(this._events[t]=f=[f]),h=f.length,a=f.length;a--;)if(f[a]===r){h=a+m;break}return f.splice(h,0,n),this}on(t,r){return super.on(t,r)}addListener(t,r){return super.addListener(t,r)}prependListener(t,r){return super.prependListener(t,r)}prependOnceListener(t,r){return super.prependOnceListener(t,r)}removeAllListeners(t){return super.removeAllListeners(t)}removeListener(t,r){return super.removeListener(t,r)}eventNames(){return super.eventNames()}listeners(t){return super.listeners(t)}listenerCount(t){return super.listenerCount(t)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(t){return super.setMaxListeners(t)}};$r.AsyncEventEmitter=xn});var Ss=Y(qr=>{"use strict";T();L();Object.defineProperty(qr,"__esModule",{value:!0});qr.Lock=void 0;var En=class{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(t=>this.promiseResolverQueue.push(t))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(this.permits===1&&this.promiseResolverQueue.length>0){this.permits-=1;let t=this.promiseResolverQueue.shift();t&&t(!0)}}};qr.Lock=En});var mc=Y(V=>{"use strict";T();L();var pc=V&&V.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ke=V&&V.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&pc(t,e,r)};Object.defineProperty(V,"__esModule",{value:!0});V.toAscii=V.stripHexPrefix=V.padToEven=V.isHexString=V.isHexPrefixed=V.getKeys=V.getBinarySize=V.fromUtf8=V.fromAscii=V.arrayContainsArray=void 0;Ke(_r(),V);Ke(bn(),V);Ke(ws(),V);Ke(bs(),V);Ke(ht(),V);Ke(As(),V);Ke(Bs(),V);var Te=lt();Object.defineProperty(V,"arrayContainsArray",{enumerable:!0,get:function(){return Te.arrayContainsArray}});Object.defineProperty(V,"fromAscii",{enumerable:!0,get:function(){return Te.fromAscii}});Object.defineProperty(V,"fromUtf8",{enumerable:!0,get:function(){return Te.fromUtf8}});Object.defineProperty(V,"getBinarySize",{enumerable:!0,get:function(){return Te.getBinarySize}});Object.defineProperty(V,"getKeys",{enumerable:!0,get:function(){return Te.getKeys}});Object.defineProperty(V,"isHexPrefixed",{enumerable:!0,get:function(){return Te.isHexPrefixed}});Object.defineProperty(V,"isHexString",{enumerable:!0,get:function(){return Te.isHexString}});Object.defineProperty(V,"padToEven",{enumerable:!0,get:function(){return Te.padToEven}});Object.defineProperty(V,"stripHexPrefix",{enumerable:!0,get:function(){return Te.stripHexPrefix}});Object.defineProperty(V,"toAscii",{enumerable:!0,get:function(){return Te.toAscii}});Ke(Ss(),V)});export{mc as a};
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-YG4ZGSDO.js.map
