import{a as H}from"./chunk-GUJXW3GJ.js";import{b as O}from"./chunk-VIS7KIVI.js";import{M as v,P as T,R as B,T as R,ea as M}from"./chunk-R6GCLTW2.js";import{a as y,c as x}from"./chunk-RMQJRDTF.js";import{F as W,H as h,Pa as L,_ as C}from"./chunk-CVJKAN5R.js";import{m as p,o as m}from"./chunk-6V2G2Z5W.js";p();m();var D=(e,c={})=>{var t;let{accounts:o={},lastApproved:n}=((t=c[e])==null?void 0:t.eth_accounts)||{},s=null;return Object.keys(o).forEach(r=>{o[r]===n&&(s=r)}),s};p();m();p();m();var G=(e,c,o={enableEmptyAccount:!1})=>{let{account:n={}}=c,s=o.enableEmptyAccount?t=>typeof t=="string":Boolean;return e.filter(({localType:t})=>s(n[t]))};L();function nt(e,c={enableEmptyAccount:!1}){let o=M(e),n=B(e);return G(o,n,c)}function ot(e){let c=v(e),o=R(e,c),n=M(e),{accountMap:s}=o,t={},r={},a=n.reduce((l,d)=>{let{localType:i,chainName:u,image:E,chainId:w,symbol:b,isHotNetwork:S,hotNetworkRank:k}=d;return i===h?(t.chainName=u,t.chainId=w,t.image=E,t.symbol=b,t.isHotNetwork=S,t.hotNetworkRank=k,l):i===C?(r.chainName=u,r.chainId=w,r.image=E,r.symbol=b,r.isHotNetwork=S,r.hotNetworkRank=k,l):(s[i]&&l.push({address:s[i],chainName:u,chainId:w,image:E,symbol:b,isHotNetwork:S,hotNetworkRank:k}),l)},[]),{accountsMap:g,segwitAddressType:N}=o,[,I]=H(a),f=g[h];if(f){let l=N[h]===y.SEGWIT_NESTED?y.SEGWIT_NESTED_49:y.SEGWIT_NESTED,d=x[h].reduce((i,u)=>(l!==u&&f[u]&&i.unshift({...t,address:f[u].address?f[u].address:t.address,addressType:u}),i),[]);d.reverse(),I.unshift({...d[0],moreAddress:d.slice(1)}),a=[...d,...a]}let A=g[C];return A&&(a=[...x[C].reduce((d,i)=>(A[i]&&d.unshift({...r,address:A[i].address,addressType:i}),d),[]),...a]),{addresses:a,hotAddresses:I}}var ct=(e,c,o)=>{var N,I,f;let n=T(e),s=O(e),t=v(e),r=e.metamask.permissionsHistory;if(((N=s[c])==null?void 0:N.includes(t))&&n[t].account[W]===o)return n[t]||{};let a=D(c,r);if(((I=s[c])==null?void 0:I.includes(a))&&n[a].account[W]===o)return n[a];let g=(f=s[c])==null?void 0:f.find(A=>{var l;return((l=n[A])==null?void 0:l.account[W])===o});return g?n[g]:{}};export{D as a,nt as b,ot as c,ct as d};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-B2BOSVTW.js.map
