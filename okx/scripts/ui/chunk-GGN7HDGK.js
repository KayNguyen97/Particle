import{a as U}from"./chunk-WIYPU26K.js";import{a as me,c as Z,d as S}from"./chunk-VCWU5FEX.js";import{a as ie}from"./chunk-QMNAWRVI.js";import{d as le,p as ae}from"./chunk-62JDSRZZ.js";import{p as c}from"./chunk-IU3TYIWS.js";import{bb as se}from"./chunk-O4EDZSHP.js";import{g as oe}from"./chunk-HU3KBV5G.js";import{b as de}from"./chunk-6ZPGW3YM.js";import{e as re}from"./chunk-IMRS4RGO.js";import{a as xe}from"./chunk-TPSXCUGD.js";import{h as te}from"./chunk-RMQJRDTF.js";import{c as p}from"./chunk-2YLR7R2N.js";import{C as W,D as he,v as f}from"./chunk-CVJKAN5R.js";import{B as D,G as ee,b as H}from"./chunk-GXQ645QR.js";import{J as O,P as z,c as I}from"./chunk-C2H3SRET.js";import{a as w,f as F}from"./chunk-V4YVDLI4.js";import{f as n,m as a,o as i}from"./chunk-6V2G2Z5W.js";a();i();var R=n(w()),Ae=(e,o=e.showMe)=>(0,R.memo)(t=>o(t)?R.default.createElement(e,{...t}):null),pe=Ae;a();i();var v=n(w()),B=n(F());W();a();i();var C=n(w()),b=n(F());W();a();i();var j={walletAsset:"_walletAsset_1rhpe_1",unsupport:"_unsupport_1rhpe_8"};var V=(0,C.memo)(e=>{let{isRpcMode:o,currentRpcNetwork:t,hiddenAssets:r,walletAsset:u,hiddenText:_,unsopportCurrentNetwork:l}=e,s=()=>l?f("extension_wallet_list_not_support",{network:t==null?void 0:t.chainName}):r?_:u||`0 ${t==null?void 0:t.symbol}`;return C.default.createElement(C.default.Fragment,null,o?C.default.createElement(c.Text,{ellipsis:!0,className:{[j.walletAsset]:!0,[j.unsupport]:l}},s()):C.default.createElement(c.DisplayAmount,{ellipsis:!0,mode:c.LEGAL,useApproximate:!1,hidden:r?_:!1,className:j.walletAsset},u))});V.defaultProps={hiddenText:"***"};V.propTypes={isRpcMode:b.default.bool.isRequired,hiddenAssets:b.default.bool.isRequired,walletAsset:b.default.oneOfType([b.default.string,b.default.number]).isRequired,hiddenText:b.default.string};var q=V;a();i();var K={root:"_root_18r9p_1",keyringName:"_keyringName_18r9p_4",highlight:"_highlight_18r9p_12"};var Y=e=>{let{keyword:o,keyringIdentity:t,isRpcMode:r,hiddenAssets:u,currentRpcNetwork:_,isMpcWallet:l}=e,s=l?f("wallet_extension_tools_tab_keyless"):"";return v.default.createElement(p.FlexBox,{className:K.root},v.default.createElement(c.HighlightKeyword,{keyword:o,className:K.keyringName,text:t==null?void 0:t.keyringName,highlightClassName:K.highlight,badge:s}),v.default.createElement(q,{isRpcMode:r,currentRpcNetwork:_,hiddenAssets:u,walletAsset:t==null?void 0:t.walletAsset}))};Y.defaultProps={keyword:""};Y.propTypes={keyword:B.default.string,keyringIdentity:B.default.object.isRequired,isRpcMode:B.default.bool.isRequired,hiddenAssets:B.default.bool.isRequired};var Je=Y;a();i();var T=n(w()),y=(e,o)=>{let t=(e==null?void 0:e.toLowerCase())||"";return((o==null?void 0:o.toLowerCase())||"").includes(t)},Ne=(e=[])=>{let[o,t]=(0,T.useState)(""),[r,u]=(0,T.useState)(""),_=(0,T.useCallback)(s=>{var N;let m=((N=s==null?void 0:s.target)==null?void 0:N.value)||"";m=(m==null?void 0:m.trimStart())||"",t(m)},[]);(0,T.useEffect)(()=>{u((o==null?void 0:o.trim())||"")},[o]);let l=(0,T.useMemo)(()=>r?e.map((s={})=>{var P,k;if(y(r,s==null?void 0:s.keyringName))return s;let m=((P=s==null?void 0:s.walletIdentities)==null?void 0:P.filter(M=>y(r,M==null?void 0:M.walletName)))||[];if(m.length)return{...s,walletIdentities:m};let N=((k=s==null?void 0:s.walletIdentities)==null?void 0:k.filter(M=>Object.values(M.account).some(fe=>y(r,fe))))||[];return N.length?{...s,walletIdentities:N}:null}).filter(Boolean):e||[],[e,r]);return{keyword:o,trimedKeyWord:r,onKeyWordChange:_,filteredKeyringIdentities:l}},Ie=Ne;a();i();var $=n(I()),ue=n(he()),J=n(F());W();var ne=n(de());var h=n(w());a();i();var g={root:"_root_8h47j_1",main:"_main_8h47j_4",notAllowed:"_notAllowed_8h47j_9",iconWrap:"_iconWrap_8h47j_18",loader:"_loader_8h47j_24",icon:"_icon_8h47j_18",btnText:"_btnText_8h47j_34"};var Q=({keyringIdentity:e,createdCb:o})=>{let t=ae(),r=(0,ne.useSelector)(oe),[u,_]=(0,h.useState)(!1),l=(0,h.useCallback)(async()=>{r||u||(_(!0),t(e==null?void 0:e.keyringId).then(m=>{_(!1),m&&o(m)}).catch(m=>{m.message===le&&ee.error({title:f("wallet_extension_error_reminder_system_busy")}),_(!1)}))},[u,o,t,e,r]),s=(0,h.useMemo)(()=>{if(r)return f("wallet_extension_addaccount_text_feature_unavailable")},[r]);return h.default.createElement(D,{title:s,className:g.root,placement:D.DIRECTION.top,maxWidth:328},h.default.createElement(p.FlexBox,{align:p.ALIGN.center,onClick:l,className:(0,$.default)(g.main,{[g.notAllowed]:r})},h.default.createElement(p.FlexBox,{align:p.ALIGN.center,justify:p.ALIGN.center,className:g.iconWrap},u?h.default.createElement(z.Circle,{className:g.loader,size:z.SIZE.md}):h.default.createElement(O,{className:(0,$.default)("okx-wallet-plugin-plus",g.icon)})),h.default.createElement(p.Box,{className:g.btnText},f("wallet_manage_wallet_btn_add_acoount"))))},Te=e=>{let{keyringIdentity:o,keyword:t,isRpcMode:r}=e;return t?!1:(o==null?void 0:o.keyringIdentityType)===te.MNEMONIC&&!(0,ue.get)(o,"walletIdentities.0.backupData",[]).length?!0:re(o==null?void 0:o.initialType)?!r:(ie(o==null?void 0:o.keyringIdentityType),!1)};Q.propTypes={keyringIdentity:J.default.object.isRequired,createdCb:J.default.func.isRequired};var To=pe(Q,Te),wo=Q;a();i();var G=n(w()),we=3e3,ge=()=>{let[e,o]=(0,G.useState)(),t=(0,G.useCallback)(r=>{o(r),setTimeout(()=>{o("")},we)},[]);return[e,t]},Lo=ge;a();i();var E=n(w()),ce=n(xe());W();var Oo=({keyringIdentity:e,className:o})=>{let t=(0,ce.useHistory)(),{accountStatus:r,mpcStatus:u}=(e==null?void 0:e.status)||{},_=(0,E.useMemo)(()=>{switch(!0){case u===S.RECOVER:return f("wallet_extension_mpc_alert_scanqr_sync");case u===S.ESCAPE:return f("wallet_extension_mpc_alert_keyless_escaped");case r===Z.FROZEN:return f("wallet_extension_mpc_alert_account_frozen");case r===Z.DELETE:return f("wallet_extension_mpc_alert_account_closed");default:return""}},[r,u]),l=()=>{switch(!0){case u===S.RECOVER:return E.default.createElement(O,{className:"okx-wallet-plugin-right"});default:return null}},s=()=>{var m,N;switch(!0){case u===S.RECOVER:{let P=(N=(m=e==null?void 0:e.walletIdentities)==null?void 0:m[0])==null?void 0:N.walletId;t.push(`${se}?action=${me.RECOVER}&walletId=${P}`);break}default:break}};return _?E.default.createElement(p.Box,{className:o},E.default.createElement(H,{title:_,type:H.TYPE.warn,closable:!1,rightActionText:l(),onRightAction:s})):null};a();i();var x=n(w()),_e=n(I()),L=n(F());W();a();i();var d={root:"_root_56yy2_1",detail:"_detail_56yy2_5",avatar:"_avatar_56yy2_5",main:"_main_56yy2_9",walletNameWrap:"_walletNameWrap_56yy2_13",walletName:"_walletName_56yy2_13",subWalletName:"_subWalletName_56yy2_23",badge:"_badge_56yy2_28",highlight:"_highlight_56yy2_31",inline:"_inline_56yy2_34",disabled:"_disabled_56yy2_37"};var X=({keyword:e,children:o,disabled:t,isRpcMode:r,currentRpcNetwork:u,hiddenAssets:_,walletIdentity:l})=>{let m=Object.values((l==null?void 0:l.account)||{}).filter(N=>e&&y(e,N));return x.default.createElement(p.Box,{className:(0,_e.default)(d.root,{[d.disabled]:t})},x.default.createElement(p.FlexBox,{className:d.detail,align:p.ALIGN.center},x.default.createElement(U,{size:U.SIZE.sm,className:d.avatar,walletIdentity:l}),x.default.createElement(p.FlexBox,{justify:p.ALIGN.center,direction:p.DIRECTION.vertical,className:d.main},x.default.createElement(p.FlexBox,{className:d.walletNameWrap},x.default.createElement(c.HighlightKeyword,{keyword:e,text:l==null?void 0:l.walletName,className:d.walletName,highlightClassName:d.highlight})),m.length>0?x.default.createElement(p.Box,null,x.default.createElement(c.Text,{type:c.TYPE.secondary,size:c.SIZE.sm,className:d.inline},f("extension_wallet_search_text_account_include")),m.length===1?x.default.createElement(c.HighlightKeyword,{type:c.TYPE.secondary,size:c.SIZE.sm,keyword:e,text:m[0],className:d.inline,forceWrap:!0,highlightClassName:d.highlight}):x.default.createElement(c.Text,{type:c.TYPE.secondary,size:c.SIZE.sm,className:d.highlight,forceWrap:!0},e)):x.default.createElement(q,{isRpcMode:r,currentRpcNetwork:u,hiddenAssets:_,walletAsset:l==null?void 0:l.walletAsset,unsopportCurrentNetwork:l==null?void 0:l.unsupported}))),o)};X.defaultProps={children:null};X.propTypes={keyword:L.default.string.isRequired,isRpcMode:L.default.bool.isRequired,disabled:L.default.bool.isRequired,children:L.default.node,hiddenAssets:L.default.bool.isRequired,walletIdentity:L.default.object.isRequired};var Xo=X;export{pe as a,Je as b,Ie as c,Xo as d,To as e,wo as f,Lo as g,Oo as h};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-GGN7HDGK.js.map
