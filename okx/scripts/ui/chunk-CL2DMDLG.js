import{a as fe,b as no,c as so,d as io}from"./chunk-OG2MGBYR.js";import{l as to}from"./chunk-6AXJCAVF.js";import{a as eo}from"./chunk-5ZZIKR7L.js";import{a as ro}from"./chunk-YOZOX6GO.js";import{a as Oe}from"./chunk-DTVL7EQX.js";import{a as Le,e as lo}from"./chunk-DCZKBMNP.js";import{b as Rt}from"./chunk-CPWFRAFM.js";import{b as Jt,d as Qt}from"./chunk-LEU7ZZNB.js";import{a as oo}from"./chunk-GDJJKMDU.js";import{a as ge}from"./chunk-IWWNTYBF.js";import{a as ao}from"./chunk-S6BDCAXK.js";import{a as Ye}from"./chunk-WIYPU26K.js";import{a as Xt}from"./chunk-KZ77CGYD.js";import{a as We}from"./chunk-YM6UXGIC.js";import{a as qt}from"./chunk-AHAXQBXQ.js";import{b as Yt}from"./chunk-XOD56IFT.js";import{a as Vt}from"./chunk-5DEIKYJL.js";import{o as Kt}from"./chunk-2HWABU7H.js";import{i as dt}from"./chunk-P2BTSOJO.js";import{a as Lt}from"./chunk-B2BOSVTW.js";import{c as vt,i as St,j as Bt,k as Mt,l as Ft}from"./chunk-VIS7KIVI.js";import{h as Me,i as Fe}from"./chunk-62JDSRZZ.js";import{M as Ae,P as ve,da as oe}from"./chunk-R6GCLTW2.js";import{B as _t,F as ue}from"./chunk-UEO7AURD.js";import{i as Wt,p as Ot}from"./chunk-TPEASXIF.js";import{b as C}from"./chunk-XEOGXIVD.js";import{a as $t}from"./chunk-PCGRDRHF.js";import{a as xt,i as wt,k as Nt,m as It,p as o}from"./chunk-IU3TYIWS.js";import{a as Tt,q as Be}from"./chunk-VPBQLZCI.js";import{p as ut}from"./chunk-X2LENRE7.js";import{I as Pt,Na as Gt,Sa as Ut,T as zt,Ua as Zt,a as Dt,aa as Ht,fb as jt,i as Se}from"./chunk-O4EDZSHP.js";import{g as ft,h as gt,k as te}from"./chunk-HU3KBV5G.js";import{b as ee}from"./chunk-6ZPGW3YM.js";import{i as Ct,j as Et,k as At,o as $e}from"./chunk-ZKDHZDUE.js";import{c as lt,d as de,f as je}from"./chunk-S4N75E3H.js";import{h as _e}from"./chunk-FLCN6MAI.js";import{b as yt,e as ht,i as le}from"./chunk-JIRWXBHS.js";import{a as Ie}from"./chunk-TPSXCUGD.js";import{b as bt,d as kt,h as ce}from"./chunk-RMQJRDTF.js";import{c as l}from"./chunk-2YLR7R2N.js";import{C as R,D as Po,H as ct,Pa as Ho,ac as pt,ec as Go,fc as mt,gc as Uo,lc as Ke,nc as Zo,q as rt,v as I,z as Ge}from"./chunk-CVJKAN5R.js";import{B as pe,E as Ee,G as $,H as me,a as st,c as Ze,e as ae,o as Ce,x as Ne}from"./chunk-GXQ645QR.js";import{J as nt,O as it,P as at,V as X,c as Ue}from"./chunk-C2H3SRET.js";import{a as F,f as zo}from"./chunk-V4YVDLI4.js";import{f as _,m as e,o as t}from"./chunk-6V2G2Z5W.js";e();t();var co=_(F()),Ve=_(ee()),pr=n=>{let r=(0,Ve.useSelector)(Ae),p=(0,Ve.useSelector)(ve)[n||r];return(0,co.useMemo)(()=>(p==null?void 0:p.keyringIdentityType)===ce.MPC,[p])};e();t();var T=_(F()),De=_(ee()),po=_(Ie());R();je();$e();e();t();var G={main:"_main_17c8w_1",connectManage:"_connectManage_17c8w_11",button:"_button_17c8w_14",left:"_left_17c8w_22",imgWrapper:"_imgWrapper_17c8w_29",icon:"_icon_17c8w_35",chainIcon:"_chainIcon_17c8w_38",status:"_status_17c8w_41",origin:"_origin_17c8w_49",arrowIcon:"_arrowIcon_17c8w_53",disconnectIcon:"_disconnectIcon_17c8w_58",divider:"_divider_17c8w_67"};var jo=({disconnectCallback:n})=>{let r=(0,po.useHistory)(),a=(0,De.useDispatch)(),{icon:p}=Oe(),s=fe(),i=Jt({dappUrl:s==null?void 0:s.origin}),u=Kt(i),g=(0,De.useSelector)(oe),m=(0,T.useMemo)(()=>{if((i==null?void 0:i.provider)===yt)return T.default.createElement(T.default.Fragment,null,T.default.createElement(o.Text,{size:o.SIZE.xs,type:o.TYPE.secondary,style:{color:"var(--okd-color-border-primary)"}},"\uFF5C"),T.default.createElement(o.Text,{size:o.SIZE.xs,strong:500,ellipsis:!0},I("wallet_extension_cosmos_text_cosmos_network")));if(!(u!=null&&u.address)&&!s.isOkx)return null;let h=null;switch(!0){case!!s.isOkx:h=T.default.createElement(o.Text,{size:o.SIZE.xs,strong:500,ellipsis:!0},I("wallet_extension_card_text_all_network"));break;case!!(u!=null&&u.address):h=T.default.createElement(T.default.Fragment,null,T.default.createElement(Ze,{width:14,height:14,alt:"chain",src:p||le,errorImg:le,pictureClassName:G.chainIcon}),T.default.createElement(o.Text,{size:o.SIZE.xs,ellipsis:!0,strong:500},ut(u==null?void 0:u.address)));break;default:break}return T.default.createElement(T.default.Fragment,null,T.default.createElement(o.Text,{size:o.SIZE.xs,type:o.TYPE.secondary},"\uFF5C"),h)},[i==null?void 0:i.provider,p,s.isOkx,u==null?void 0:u.address]);if(!s.originNoPrefix||g)return"";let c=()=>{r.push(Se)},y=async()=>{de().clearCookie(s.origin),await de().removePermittedAllAccount(s.origin),await de().removeSilencePermission(s.origin),n(),await At(a)};return T.default.createElement($t,{offsetBottom:0},T.default.createElement("div",{className:G.main},T.default.createElement("div",{className:G.left},T.default.createElement("div",{className:G.imgWrapper},T.default.createElement(Ze,{width:44,height:44,alt:"dapp-icon",src:s.icon||le,errorImg:le,className:G.icon})),T.default.createElement("div",{className:G.status},T.default.createElement(o.Text,{strong:700,ellipsis:!0,className:G.origin},s.originNoPrefix),T.default.createElement(l.FlexBox,null,T.default.createElement(l.FlexBox,{align:l.ALIGN.center,onClick:c,className:G.connectManage},T.default.createElement(o.Text,{size:o.SIZE.xs,type:o.TYPE.secondary,style:{color:"var(--okd-color-content-disabled)"},ellipsis:!0},I("extension_defi_bot_text_connected")),m,T.default.createElement(nt,{className:`okds-arrow-chevron-right-centered-sm ${G.arrowIcon}`}))))),T.default.createElement("div",{className:G.divider}),T.default.createElement(pe,{title:I("wallet_extension_footer_textbtn_disconnect"),placement:pe.DIRECTION.topLeft},T.default.createElement(C.IconButton,{icon:"okds-unlink",className:G.disconnectIcon,onClick:y}))))},Pr=jo;e();t();var b=_(F()),U=_(ee());var mo=_(Ue());je();var uo=_(Ie());e();t();var L={main:"_main_bin2h_1",header:"_header_bin2h_5",logo:"_logo_bin2h_5",dappName:"_dappName_bin2h_11",currentAccount:"_currentAccount_bin2h_15",title:"_title_bin2h_18",connectItem:"_connectItem_bin2h_21",connectItemTitle:"_connectItemTitle_bin2h_27",badge:"_badge_bin2h_30",disabled:"_disabled_bin2h_33","disable-message":"_disable-message_bin2h_42",disableMessage:"_disable-message_bin2h_42"};var Xe=null,Ko=({showBackup:n})=>{let r=te(),a=(0,U.useDispatch)(),[p,s]=(0,b.useState)(!1),i=(0,U.useSelector)(Ft),u=(0,U.useSelector)(ve),g=(0,uo.useHistory)(),m=(0,U.useSelector)(vt),c=(0,U.useSelector)(St),y=(0,U.useSelector)(Mt),h=(0,U.useSelector)(k=>k.metamask.permissionsHistory),d=Lt(c.origin,h),S=(0,U.useSelector)(Bt),v=(0,U.useSelector)(Ae),D=(0,U.useSelector)(oe),{connectable:P,chainName:J}=Qt({dappUrl:c.origin,walletId:v}),V=Rt(v);if((0,b.useEffect)(()=>{if(!Xe||Xe!==i){if(Xe=i,!c||!S||!V)return;if(D){n();return}s(!m.find(k=>k.host===(c==null?void 0:c.host)))}},[c,S,m,i,D,V,n]),!p)return null;let N=()=>{a(Ot(c==null?void 0:c.origin,v)),s(!1)},O=({title:k,right:E,active:se=!1,disabled:Q})=>b.default.createElement(l.FlexBox,{justify:"space-between",className:(0,mo.default)({[L.connectItem]:!0,[L.disabled]:Q}),align:l.ALIGN.center},b.default.createElement(l.FlexBox,{justify:"center",align:l.ALIGN.center},b.default.createElement(o.Text,{strong:700,ellipsis:{tooltip:!0,rows:2},size:o.SIZE.md,className:L.connectItemTitle},k),se&&b.default.createElement(ae,{color:ae.COLOR.green,type:ae.TYPE.rounded,className:L.badge},r("wallet_extension_mid_tag_active"))),E),z=k=>{a(Wt(k)),lt().getChainFromServer(),g.push(Dt)};return b.default.createElement(Ce.Action,{onClose:()=>{s(!1)},visible:!0,noTopRadius:!1,topStyle:{border:"none"},windowStyle:{overflow:"hidden",background:"var(--okd-color-container-primary)",height:"540px"},title:b.default.createElement(b.default.Fragment,null)},b.default.createElement("div",{className:L.main},b.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:L.header,direction:l.DIRECTION.vertical},b.default.createElement(Ee,{alt:"dapp-logo",className:L.logo,src:c.icon}),b.default.createElement(o.Text,{strong:700,size:o.SIZE.md,className:L.dappName},r("wallet_extension_top_title_current_unconnected",{dapp:(c==null?void 0:c.name)||""}))),b.default.createElement("div",{className:L.currentAccount},b.default.createElement(o.Text,{type:o.TYPE.secondary,size:o.SIZE.xs,className:L.title},r("wallet_extension_header_subtitle_current_account")),O({title:i,disabled:!P,right:b.default.createElement(X,{category:X.CATEGORY.fill,type:X.TYPE.highlight,size:X.SIZE.xs,onClick:N,disabled:!P},r("wallet_extension_mid_btn_connect"))}),!P&&b.default.createElement(l.Space,{align:l.ALIGN.center,space:8,className:L["disable-message"]},b.default.createElement(C,{size:C.SIZE.sm,icon:"okds-fail-circle-fill"}),b.default.createElement(o.Text,{size:o.SIZE.sm,className:L["disable-message"]},r("wallet_connect_alert_text_account_doesnt_support",{network:J})))),y.length>0&&b.default.createElement("div",{className:L.connectedAccount},b.default.createElement(o.Text,{type:o.TYPE.secondary,size:o.SIZE.xs,className:L.title},r("wallet_extension_header_subtitle_connected_account",{num:y.length})),y.map(k=>{let E=u[k]||{};return O({title:`${E.keyringName} - ${E.walletName}`,active:d===k,right:b.default.createElement(X,{category:X.CATEGORY.outline,type:X.TYPE.primary,size:X.SIZE.xs,onClick:()=>z(k)},r("wallet_extension_mid_btn_switch"))})}))))},cn=Ko;e();t();var M=_(F());R();e();t();var be=_(F()),Je=_(Ue());e();t();var qe={root:"_root_c5avj_1",dot:"_dot_c5avj_4"};e();t();function $o(n){let{children:r,offset:a={},dot:p=!1,dotStyle:s={},className:i,dotClassName:u}=n,g=(0,be.useMemo)(()=>{if(Array.isArray(a)){let[y=0,h=0]=a;return{...s,top:y,right:h}}let{top:m=0,right:c=0}=a;return{...s,top:m,right:c}},[s,a]);return p?be.default.createElement(l.Box,{className:(0,Je.default)(qe.root,i)},be.default.createElement(l.Box,{className:(0,Je.default)(qe.dot,u),style:g}),r):r}var _o=$o;e();t();var K=_(F());e();t();var xo=_(Ie());e();t();R();function Yo(){let{hasBackUpWallet:n,batchTransferAvailable:r}=to(),a=Le();return{openBatchTransfer:()=>{if(!n){a();return}if(!r){me.warn(I("wallet_extension_sending_text_multisender_unsupported"));return}ge(Gt)}}}var fo=Yo;e();t();var Pe=_(F());var ze=_(ee());je();$e();Zo();e();t();Uo();Go();var Z={gasTracker:{title:"wallet_extension_home_text_gas_tracker",img:_e({light:"/cdn/assets/imgs/241/A80AEDB730957F83.png",dark:"/cdn/assets/imgs/245/BC8F036AFA9943CA.png"}),monitor:"gas_tracker"},batchTransfer:{title:"wallet_extension_home_title_crypto_multisender",subtitle:"wallet_extension_home_text_crypto_multisender",button:"batch_transfer",img:_e({light:"/cdn/assets/imgs/241/4F4A83D1A999297F.png",dark:"/cdn/assets/imgs/245/5F5376B72110257C.png"}),monitor:"mutisender"},batchAddAccount:{title:"wallet_extension_home_title_add_multiple",subtitle:"wallet_extension_home_text_add_multiple",button:"batch_add_account",img:_e({light:"/cdn/assets/imgs/241/559B6DED0D42D247.png",dark:"/cdn/assets/imgs/245/A9C36C4334132F5E.png"}),monitor:"add_account"},downloadAddress:{title:"wallet_extension_home_title_download_addresses",subtitle:"wallet_extension_home_text_download_addresses",button:"download_address",hideFn:()=>mt()===pt,img:_e({light:"/cdn/assets/imgs/241/3485F4D090FC934B.png",dark:"/cdn/assets/imgs/245/F63CA4BB0CA9A69B.png"}),monitor:"download_address"},batchImportPrivateKey:{title:"wallet_extension_home_title_bulk_private",subtitle:"wallet_extension_home_text_bulk_private",button:"batch_import_private_key",img:_e({light:"/cdn/assets/imgs/241/0537CCEC20A2C6FD.png",dark:"/cdn/assets/imgs/245/0C18EB89C20D59EE.png"}),monitor:"import_private"}};var Vo=207,Xo=!(Ke&&Ke<=Vo);function qo({manual:n=!Xo}={}){let r=(0,ze.useDispatch)(),[a,p]=(0,Pe.useState)(!1),s=(0,ze.useSelector)(gt),i=(g,m)=>{let c=m.some(y=>!g.includes(y));p(c)};return(0,Pe.useEffect)(()=>{if(n)return;let g=s!=null?s:[],m=Object.keys(Z);i(g,m)},[s,n]),{onReadNewFeature:async()=>{if(a){let g=Object.keys(Z);try{await de().setConvenientToolsKeys(g),p(!1)}finally{await Et(r)}}},hasNewFeature:a,checkNewFeature:i}}var He=qo;e();t();e();t();var Jo=Yt(ft),go=Jo;var Qo=(n=[])=>n.filter(r=>[ce.MNEMONIC,ce.MPC].includes(r.keyringIdentityType)).every(r=>r.walletIdentities.some(a=>{var s;return((s=a.backupData)!=null?s:[]).length>0}));function Ro(){let n=te(),{canAddAccount:r,keyringIdentities:a}=oo(),p=go(),s=Le();return{openBatchAddAccount:()=>{if(!a.some(g=>[ce.MNEMONIC,ce.MPC].includes(g.keyringIdentityType))){me.warn(n("wallet_extension_tools_alert_add_seedphrase_wallet"));return}if(Qo(a)){s();return}if(p){me.warn(n("wallet_extension_addaccount_text_feature_unavailable"));return}if(!r){me.warn(n("wallet_extension_addaccount_text_max_accounts"));return}ge(Ut)}}}var yo=Ro;e();t();function er(){return{openBatchImportPrivateKey:()=>{ge(Zt)}}}var ho=er;function tr(n){let r=te(),a=(0,xo.useHistory)(),{openBatchTransfer:p}=fo(),{downloadAddress:s}=ro(),{openBatchAddAccount:i}=yo(),{openBatchImportPrivateKey:u}=ho(),{isRpcMode:g}=We(),{hasNewFeature:m}=He();return Z.batchAddAccount.func=i,Z.batchTransfer.func=p,Z.downloadAddress.func=s,Z.batchImportPrivateKey.func=u,Z.gasTracker.func=()=>{a.push(jt)},Z.gasTracker.hideFn=()=>g,Z.gasTracker.customSubtitle=n(),{subMenus:Object.entries(Z).map(([h,d])=>({key:h,title:r(d.title)||d.title,subtitle:(d==null?void 0:d.customSubtitle)||r(d.subtitle),hideFn:d.hideFn,tag:d.tag,img:d.img,onClick:eo(_t,{tools:d.monitor})(d.func)})).filter(h=>h!=null&&h.hideFn?!h.hideFn():!0),hasNewFeature:m}}var To=tr;R();var Io=_(Po());e();t();var re=_(F());R();e();t();var ye={wrapper:"_wrapper_1k679_1",img:"_img_1k679_7",title:"_title_1k679_12",right:"_right_1k679_16",tag:"_tag_1k679_19"};var wo=({onClick:n,img:r,title:a,subtitle:p,tag:s})=>re.default.createElement(l.FlexBox,{className:ye.wrapper,onClick:n,align:l.ALIGN.center},re.default.createElement(Ee,{src:r,className:ye.img}),re.default.createElement(l.FlexBox,{direction:l.DIRECTION.vertical,className:ye.right},re.default.createElement(o.Text,{className:ye.title,strong:700},a),re.default.createElement(o.Text,{type:o.TYPE.secondary,size:o.SIZE.xs,ellipsis:{rows:2}},p)),s&&re.default.createElement(l.FlexBox,{className:ye.tag,align:l.ALIGN.center},re.default.createElement(o.Text,{strong:700,size:o.SIZE.xs,style:{color:"var(--okx-wallet-color-black)"}},I("wallet_extension_home_text_popular"))));e();t();var No={wrapper:"_wrapper_1b94r_1"};var bo=()=>{var S;let{isRpcMode:n}=We(),{chainName:r,coinId:a}=Oe(),p=Vt(),s=fe(),i=(S=p.find(v=>v.coinId===a))==null?void 0:S.chainId,u=s.originNoPrefix?i:1,{supportChain:g}=so(),m=io(u,g),{gasData:c,gasDataFn:y}=no(m==null?void 0:m.chainId);(0,K.useEffect)(()=>{!n&&!(0,Io.isUndefined)(m==null?void 0:m.chainId)&&y()},[y,n,m==null?void 0:m.chainId]);let h=(0,K.useCallback)(()=>{if(!g.length)return"--";let{baseFee:v,priorityFee:D,feeUnit:P}=c,J=v?rt.add(v,D):"--",V=It(J,{type:wt});return(m==null?void 0:m.chainId)===1?Ge("wallet_extension_home_text_eth_current_gas",{gwei:K.default.createElement(o.Text,{size:o.SIZE.xs},`${V} ${P}`)}):Ge("wallet_extension_home_text_current_network_fee",{network:r,amount:K.default.createElement(o.Text,{size:o.SIZE.xs},`${V} ${P}`)})},[r,c,m==null?void 0:m.chainId,g]),{subMenus:d}=To(h);return K.default.createElement(K.default.Fragment,null,d.map((v,D)=>K.default.createElement("div",{className:No.wrapper,key:D},K.default.createElement(wo,{...v}))))};e();t();var ko=_(F());var or={"MNEMONIC WALLET":"seed_phrase","PRIVATE KEY WALLET":"private_key","MPC WALLET":"mpc","HARDWARE WALLET":"hardware"},rr=n=>{let r=Me(),a=Fe(r),p=or[a==null?void 0:a.keyringIdentityType];return(0,ko.useCallback)(i=>{n({...i,wallet_type:p})},[n,p])},he=rr;e();t();var ne={main:"_main_1b5nv_1",iconWrapper:"_iconWrapper_1b5nv_9",iconItem:"_iconItem_1b5nv_12",dialogHeader:"_dialogHeader_1b5nv_19",headerIcon:"_headerIcon_1b5nv_25",toolkitWrapper:"_toolkitWrapper_1b5nv_29",iconAniWrapper:"_iconAniWrapper_1b5nv_51",text:"_text_1b5nv_66",moveOutAnimation:"_moveOutAnimation_1b5nv_69",moveOut:"_moveOut_1b5nv_69",moveInAnimation:"_moveInAnimation_1b5nv_73",moveIn:"_moveIn_1b5nv_73",iconTitle:"_iconTitle_1b5nv_85"};e();t();var nr=46,Ui=({clickHandle:n,iconOptions:r,customMore:a})=>{let[p,s]=(0,M.useState)(!1),{onReadNewFeature:i}=He(),[u,g]=(0,M.useState)(""),m=(0,M.useRef)(),c=he(ue),y=d=>{d.type==="MORE"&&(c({homepage:"toolkit"}),s(!0),i()),n(d)};(0,M.useLayoutEffect)(()=>{var S,v,D;let d=nr;for(let P of(S=m==null?void 0:m.current)==null?void 0:S.children)d=Math.max(d,P.getBoundingClientRect().width||0);((D=(v=m.current)==null?void 0:v.children)==null?void 0:D.length)>0&&g(Math.ceil(d))},[r]);let h=d=>{let S=d.type==="MORE";return S&&a?M.default.createElement("div",{onClick:()=>{y(d)}},a(u)):M.default.createElement(C.IconButtonWithLabel,{style:{width:u},className:ne.iconWrapper,iconClassName:`${ne.iconItem} ${S?ne.moveOutAnimation:""}`,strong:!1,disabled:d.disabled,space:13,ellipsis:!0,text:I(d.text),icon:d.icon,onClick:()=>{y(d)}})};return M.default.createElement("div",{className:ne.main,ref:m},r.map(d=>d.hasNewFeature?M.default.createElement(_o,{dot:!0,offset:{right:2,top:2},className:ne.iconWrapper},h(d)):d.disabled&&d.disabledText?M.default.createElement(pe,{title:I(d.disabledText),placement:pe.DIRECTION.bottom},h(d)):h(d)),M.default.createElement(Ce,{footer:null,alignBottom:!0,maskClosable:!0,noContentPadding:!0,title:M.default.createElement(l.FlexBox,{align:l.ALIGN.center,justify:l.ALIGN.center},I("wallet_extension_home_text_toolkit")),topClassName:ne.dialogHeader,windowStyle:{width:"100%"},visible:p,onClose:()=>s(!1)},M.default.createElement("div",{className:ne.toolkitWrapper},M.default.createElement(bo,null))))};e();t();var w=_(F());R();var Mo=_(Ie()),Fo=_(Tt());$e();var Lo=_(ee());e();t();var j={main:"_main_1czhn_1",avatar:"_avatar_1czhn_10",topTitle:"_topTitle_1czhn_19",content:"_content_1czhn_22",address:"_address_1czhn_28",copyWrapper:"_copyWrapper_1czhn_31",title:"_title_1czhn_36",maxWitdh:"_maxWitdh_1czhn_40",divider:"_divider_1czhn_43",locking:"_locking_1czhn_47",optionIcon:"_optionIcon_1czhn_52",network:"_network_1czhn_56",setting:"_setting_1czhn_63",chainIcon:"_chainIcon_1czhn_70",unfoldIcon:"_unfoldIcon_1czhn_75"};e();t();var xe=_(F());var Co=_(Ie());e();t();var Qe={container:"_container_1eikt_1",arrowIcon:"_arrowIcon_1eikt_13"};var Eo=()=>{let n=ao(),r=(0,Co.useHistory)(),a=he(ue),p=(0,xe.useCallback)(()=>{a({homepage:"network"}),r.push(`${zt}?tab=${n==null?void 0:n.networkType}`)},[r,n]);if(!n)return null;let{chainName:s,icon:i}=n;return xe.default.createElement("div",{className:Qe.container,onClick:p},xe.default.createElement(C,{size:"18px",fontSize:"12px",src:i,text:s,textTheme:C.TEXT_THEME.black,defaultIcon:le}),xe.default.createElement(C,{size:"18px",fontSize:"12px",className:`okx-wallet-plugin-select-unfold ${Qe.arrowIcon}`}))};e();t();var A=_(F());var vo=_(ee());var So=_(Tt());Ho();R();e();t();var W=_(F()),q=_(zo());R();var Re=_(Ue());e();t();var B={container:"_container_1uj01_1",contentContainer:"_contentContainer_1uj01_4",firstInMore:"_firstInMore_1uj01_15",expanded:"_expanded_1uj01_18",isGroup:"_isGroup_1uj01_22",left:"_left_1uj01_25",main:"_main_1uj01_33",name:"_name_1uj01_40",addr:"_addr_1uj01_44",right:"_right_1uj01_50",copyIcon:"_copyIcon_1uj01_50",moreOrLessContainer:"_moreOrLessContainer_1uj01_53",text:"_text_1uj01_57",accordion:"_accordion_1uj01_66",accordionContent:"_accordionContent_1uj01_70",accordionHeader:"_accordionHeader_1uj01_73"};var et=({image:n,chainName:r,addressType:a,address:p,isGroup:s,expanded:i,lastInMore:u,onToggle:g})=>{let m=()=>i?I("extension_defi_popup_textbtn_show_less"):I("extension_defi_popup_textbtn_show_all_address_types");return W.default.createElement("div",{className:(0,Re.default)(B.container,i?B.expanded:"")},W.default.createElement("div",{className:(0,Re.default)(B.contentContainer,i?B.expanded:"",s?B.isGroup:"",s&&!i?B.firstInMore:"")},W.default.createElement("div",{className:B.left},W.default.createElement(C,{src:n,size:xt.lg,className:"new-home__address-copy-chain-item-left",defaultIcon:ht})),W.default.createElement("div",{className:B.main},W.default.createElement(o.Text,{ellipsis:!0,className:B.name,size:o.SIZE.md},r),a&&W.default.createElement(ae,{className:"address-copy-badge",type:ae.TYPE.rounded},I(bt[a])),W.default.createElement("div",{className:B.addr},p)),W.default.createElement("div",{className:B.right},W.default.createElement(C,{icon:"okx-wallet-plugin-copy-1",className:B.copyIcon}))),s&&!i||u?W.default.createElement("div",{className:B.moreOrLessContainer},W.default.createElement("div",{onClick:c=>{c.stopPropagation()}},W.default.createElement(st,{expanded:i,className:B.accordion,contentClassName:B.accordionContent,headerClassName:B.accordionHeader,onToggle:g,title:W.default.createElement("div",{className:B.text},m())}))):null)};et.propTypes={image:q.default.string,chainName:q.default.string,addressType:q.default.string,address:q.default.string,expanded:q.default.bool,isGroup:q.default.bool,lastInMore:q.default.bool,onToggle:q.default.func};et.defaultProps={image:"",chainName:"",addressType:"",address:"",expanded:!1,isGroup:!1,lastInMore:!1,onToggle:()=>{}};var Ao=et;e();t();var Te={addressIcon:"_addressIcon_yti0a_1",close:"_close_yti0a_7",underlineWrapper:"_underlineWrapper_yti0a_10",tag:"_tag_yti0a_13"};var sr=(n,r,a,p)=>{var g,m;if(!n)return[];let s={},i=[...n].sort((c,y)=>{var S,v;let h=(S=c==null?void 0:c.chainName)==null?void 0:S.charAt(0).toUpperCase(),d=(v=y==null?void 0:y.chainName)==null?void 0:v.charAt(0).toUpperCase();return h==null?void 0:h.localeCompare(d)});if(n.length<=4||a)return i;for(let c=0;c<i.length;c++){let y=(m=(g=i[c])==null?void 0:g.chainName)==null?void 0:m.charAt(0).toUpperCase();y&&!s[y]&&(i.splice(c,0,{isTag:!0,tagName:y}),c!==0&&i.splice(c,0,{isTag:!0,tagName:"",isUnderLine:!0}),s[y]=!0,c++)}let u=r.length?[{isTag:!0,tagName:I("extension_wallet_switchnetwork_subtitle_popular_networks")},...r.map(c=>c.address===p.address?{...c,showMore:p.showMore}:c),{isTag:!0,tagName:"",isUnderLine:!0},...i]:i;return a?[[],""]:u},ir=({addresses:n,hotAddresses:r,CopyButton:a,visible:p,setVisible:s})=>{let i=te(),[u,g]=(0,A.useState)({address:"",showMore:!1}),m=(0,vo.useSelector)(oe),{run:c}=Be(()=>{m&&$.warn({title:i("wallet_account_toast_backup_view_address"),duration:1.5,containerClassName:"address-copy-notification",placement:$.DIRECTION.top})},{leading:!0,wait:300}),{isSm:y}=it(),[h,d]=(0,A.useState)(!1),S=(0,A.useRef)(null),v=({value:N},O)=>{if(N==="disable")return!1;let z=O.toLowerCase()||"",k=(N==null?void 0:N.chainName.toLowerCase())||"",E=(N==null?void 0:N.symbol.toLowerCase())||"";return k.indexOf(z)>-1||E.indexOf(z)>-1},D=sr(n,r,h,u),J=(N=>{let O=[],z=(k,E,{lastInMore:se=!1}={})=>{O.push({value:{address:E.address,chainName:E.chainName,symbol:E.symbol,addressType:E.addressType},label:A.default.createElement(Ao,{image:E.image,chainName:E.chainName,address:E.address,addressType:E.addressType,expanded:k.showMore,isGroup:E.moreAddress&&E.moreAddress.length>0,lastInMore:se,onToggle:Q=>{g({address:k.address,showMore:Q})}})})};return N.forEach(k=>{let{isTag:E,tagName:se,isUnderLine:Q,moreAddress:we,showMore:x}=k;if(Q){O.push({value:"disable",label:A.default.createElement("div",{className:Te.underlineWrapper},A.default.createElement("div",{className:"new-home__address-copy-underline"}))});return}if(E){O.push({value:"disable",label:A.default.createElement("div",{className:Te.underlineWrapper},A.default.createElement(o.Text,{size:o.SIZE.sm,type:o.TYPE.secondary,className:Te.tag},se)),className:"title-tag"});return}z(k,k),x&&we.map((H,ie)=>z(k,H,{lastInMore:ie===we.length-1}))}),O})(D),V=N=>{if((0,So.default)(N.value.address),N.value==="disable")return;let O=N.value.addressType,z=O?Xt(i,kt[ct][O],N.value.symbol):i("wallet_extension_transaction_toast_network_address_copied",{network:N.value.chainName});$.success({title:z,desc:N.value.address,duration:1.5,placement:$.DIRECTION.top,containerClassName:"address-copy-notification"})};return(0,A.useEffect)(()=>{var N;(N=S.current)==null||N.setVisible(p)},[p]),A.default.createElement("div",{className:"new-home__address-copy",onClick:c,"data-testid":"address"},A.default.createElement(Ne,{ref:S,disabled:m,onSearch:N=>{d(!!N)},options:J,onChange:V,dialogMode:!0,dropMode:!1,dialogProps:{titleCenter:!0,isFull:!y,noContentPadding:!0,noTopRadius:!1,windowStyle:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},closeClassName:Te.close},optionTitle:i("extension_wallet_address_title_wallet_address"),searchable:J.length>10,searchFilter:v,scrollStyle:{maxHeight:"398px",height:"auto"},searchEmpty:A.default.createElement("div",{className:"search-empty"},i("wallet_toast_address_input_noresults")),searchPlaceholder:i("wallet_toast_address_input_search"),displayArea:a,popupProps:{zIndex:10001,offset:[-150,0]},optionContClassName:"new-home__address-copy-drop-container",optionItemClassName:"new-home__address-copy-drop-option",onToggleShow:N=>{s(N)}}))},ar=({visible:n,addresses:r,hotAddresses:a,setVisible:p})=>A.default.createElement(A.default.Fragment,null,A.default.createElement(C.IconButton,{size:C.SIZE.md,icon:"okx-wallet-plugin-copy-3",className:Te.addressIcon}),A.default.createElement(ir,{visible:n,setVisible:p,CopyButton:()=>A.default.createElement("div",null),addresses:r,hotAddresses:a})),Bo=ar;var hl=w.default.memo(({titleLeft:n,titleRight:r,subTitle:a,address:p,chainName:s,filterAddress:i,filterHotAddress:u,isNotBackupWallet:g,isEVMPKAccount:m})=>{var we;let c=Me(),[y,h]=w.default.useState(!1),d=qt(),S=(0,Lo.useDispatch)(),v=Fe(c),[D,P]=w.default.useState([{type:"url",to:Pt,label:I("wallet_extension_top_hover_settings"),icon:"okx-wallet-plugin-settings-2",monitor:"setting"},{type:"url",to:Se,label:I("wallet_extension_home_title_dapps_connection"),icon:"okds-language",monitor:"connect_dapp"},{name:"link-to-web3",type:"url",href:`${d.web3}`,label:I("extension_wallet_home_dropdown_expanded_view"),icon:"okx-wallet-plugin-official-website",monitor:"go_to_dashboard"},{type:"lock",label:I("wallet_settings_btn_lock_wallet"),icon:"okx-wallet-plugin-lock-1",monitor:"lock_wallet"}]),J=m?I("wallet_extension_popup_title_receiving_address_copied"):I("wallet_extension_transaction_toast_network_address_copied",{network:s});w.default.useEffect(()=>{P(x=>{let H=x.findIndex(ie=>ie.name==="link-to-web3");if(H!==-1){let ie=[...x];return ie[H]={...ie[H],href:`${d.web3}`},ie}return x})},[d.web3]);let V=async()=>{P(x=>x.map(H=>H.type==="lock"?{...H,type:"locking"}:H)),dt(),await S(Ct()),P(x=>x.map(H=>H.type==="locking"?{...H,type:"lock"}:H))},N=(0,Mo.useHistory)(),O=`${Ht}?fromHome=1`,z=he(ue),k=async x=>{if(x.monitor&&z({homepage:x.monitor}),x.type==="lock"&&V(),x.type!=="locking")return x!=null&&x.to&&N.push(x.to),x!=null&&x.href&&globalThis.open(x.href),!0},{run:E}=Be(()=>{if(g){$.warn({title:I("wallet_account_toast_backup_view_address"),duration:1.5,containerClassName:"address-copy-notification",placement:$.DIRECTION.top});return}p?($.success({title:J,desc:p,duration:1.5,placement:$.DIRECTION.top,containerClassName:"address-copy-notification"}),(0,Fo.default)(p)):i.length>0&&h(!0)},{leading:!0,wait:300}),se=()=>{z({homepage:"manage_wallet"})},Q=()=>{se(),N.push(O)};return w.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:j.main},w.default.createElement(l.Box,{onClick:Q,className:j.avatar},w.default.createElement(Ye,{size:(we=Ye)==null?void 0:we.SIZE.sm,walletIdentity:v})),w.default.createElement(l.FlexBox,{className:j.content,gutter:6,align:l.ALIGN.center},w.default.createElement(l.FlexBox,{direction:l.DIRECTION.vertical,className:j.copyWrapper,onClick:Q},w.default.createElement(l.FlexBox,{align:l.ALIGN.center,gutter:6,className:j.title},w.default.createElement(o.Text,{size:o.SIZE.xs,type:o.TYPE.secondary,ellipsis:!0,className:r?j.maxWitdh:""},n,"\xA0"),r&&w.default.createElement(o.Text,{size:o.SIZE.xs,type:o.TYPE.secondary,ellipsis:!0,className:j.maxWitdh},`- ${r}`)),w.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:j.address},w.default.createElement(o.Text,{strong:500,ellipsis:!0,size:o.SIZE.sm},a),w.default.createElement(C,{size:"16px",fontSize:"16px",className:"okx-wallet-plugin-down-1"})))),w.default.createElement(l.FlexBox,{align:l.ALIGN.center},w.default.createElement(l.FlexBox,{onClick:x=>{x.stopPropagation(),z({homepage:"copy_address"}),E()}},w.default.createElement(Bo,{visible:y,setVisible:h,addresses:i,hotAddresses:u})),w.default.createElement(Ne,{displayArea:()=>w.default.createElement(C.IconButton,{size:C.SIZE.md,icon:"okx-wallet-plugin-settings-2",className:j.setting}),renderOption:({option:x})=>(x==null?void 0:x.type)==="locking"?w.default.createElement(l.FlexBox,{align:l.ALIGN.center},w.default.createElement(at,{className:j.locking,loaderStyle:{height:16,width:16}}),w.default.createElement(o.Text,{size:o.SIZE.sm,strong:500},x.label)):w.default.createElement(l.FlexBox,{align:l.ALIGN.center},w.default.createElement(C,{size:C.SIZE.xs,icon:x.icon,className:j.optionIcon}),w.default.createElement(o.Text,{size:o.SIZE.sm,strong:500},x.label)),hoverMode:!0,options:D,onChange:k,align:Ne.DIRECTION.right}),w.default.createElement(l.FlexBox,{align:l.ALIGN.center},w.default.createElement(Eo,null))))});e();t();var Y=_(F());e();t();var Wo=_(ee()),Oo=()=>(0,Wo.useSelector)(({metamask:r})=>{var a;return(a=r.selectedCurrency)==null?void 0:a.symbol});e();t();var ke={balanceWrapper:"_balanceWrapper_1j1uf_1",refreshIcon:"_refreshIcon_1j1uf_9",balance:"_balance_1j1uf_1",refreshAnimation:"_refreshAnimation_1j1uf_26",refresh:"_refresh_1j1uf_9"};var zl=({balance:n,className:r="",symbol:a,hiddenAssets:p,onToggleHiddenAssets:s})=>{let[i,u]=Y.default.useState("hidden"),g=Oo(),m=(0,Y.useMemo)(()=>a?`${n} ${a}`:Nt(n,{symbol:g,useApproximate:!1}),[a,n,g]),c=()=>{u("hidden")},y=(0,Y.useCallback)(()=>{i!=="loading"&&u("show")},[i]),h=(0,Y.useCallback)(()=>{i!=="loading"&&u("hidden")},[i]);return Y.default.createElement(l.FlexBox,{align:l.ALIGN.center,className:`${ke.balanceWrapper} ${r}`,onClick:s,onMouseEnter:y,onMouseLeave:h},Y.default.createElement(o.AdaptiveText,{strong:!0,autoSize:!0,ellipsis:{tooltip:!0},text:m,onAnimationEnd:c,className:`${ke.balance} ${i==="success"&&ke.refreshAnimation}`},p?"*****":""),!p&&Y.default.createElement(lo,{className:ke.refreshIcon,status:i,handleRefresh:u}))};e();t();var ot=_(F());var Do=_(ee()),tt=64,Kl=({isButtonAbsolute:n=!1,backupHeight:r=0})=>{let a=(0,Do.useSelector)(oe),s=fe().originNoPrefix&&!a,i=(0,ot.useMemo)(()=>n?r+80+(s?tt:0):16,[n,s,r]),u=(0,ot.useMemo)(()=>n?0:r+24+(s?tt:0),[n,s,r]);return{paddingBottom:i,buttonPaddingBottom:u,absoluteBottom:r+24+(s?tt:0)}};export{pr as a,Pr as b,cn as c,He as d,he as e,Ui as f,hl as g,zl as h,Kl as i};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-CL2DMDLG.js.map
