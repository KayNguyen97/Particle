import{c as f}from"./chunk-TPBDSGSX.js";import{f as w}from"./chunk-MTMZQEHP.js";import{d as y,z as g}from"./chunk-UEO7AURD.js";import{b as c,l as C}from"./chunk-VPBQLZCI.js";import{p as T}from"./chunk-X2LENRE7.js";import{U as E,X as u}from"./chunk-UXFKODVN.js";import{C as k,D,v as n}from"./chunk-CVJKAN5R.js";import{o as l}from"./chunk-GXQ645QR.js";import{V as s}from"./chunk-C2H3SRET.js";import{f as S,m,o as x}from"./chunk-6V2G2Z5W.js";m();x();k();var P=S(D());var A=()=>c(async e=>{try{let{data:o}=await w(e);return f(o,e==null?void 0:e.checkTypes,e)}catch{return f([],e==null?void 0:e.checkTypes)}},[]),L=({to:e,coinId:o,chainId:t,...r},i)=>{let d=A(),{ready:a=!0,refreshDeps:_=[],...p}=i||{},B={ready:a&&o!==void 0&&t!==void 0,refreshDeps:[o,..._],...p},{error:h,loading:b,data:F}=C(async()=>await d({to:e,coinId:o,chainId:t,...r}),B);return[b,F,h]},M=()=>c(async(e,o)=>{let t=e;if((t==null?void 0:t.similarType)!==u.EXACT&&!(t!=null&&t.isDefraud))return Promise.resolve();let r=(e==null?void 0:e.address)||(o==null?void 0:o.address)||"";(t==null?void 0:t.similarType)===u.EXACT&&y({resource:"extension",black_address:r});let i=(e==null?void 0:e.rawAddress)||T(r),d=t!=null&&t.isDefraud?t.msg:n("wallet_extension_modaldesc_riskaddress",{accountAddress:i});return new Promise((a,_)=>{let p=l.prompt({title:n("wallet_extension_protocol_popup_risk_warning"),alignBottom:!1,maskClosable:!1,hideCloseBtn:!0,text:d,infoType:l.Prompt.INFO_TYPE.warn,confirmBtnProps:{type:s.TYPE.highlight,size:s.SIZE.lg},cancelBtnProps:{category:s.CATEGORY.outline,size:s.SIZE.lg},onCancel(){p.destroy(),a()},onConfirm(){p.destroy(),g(),_()},confirmText:n("wallet_extension_address_popup_btn_cancel"),cancelText:n("wallet_extension_address_popup_btn_continue")})})},[]),V=()=>{let e=A();return c(async(o,t)=>{let r=o;return(0,P.isEmpty)(o)&&(r=(await e(t))[E.CONTRACT_ADDRESS]||{}),new Promise((i,d)=>{if(r!=null&&r.isContract){let a=l.prompt({alignBottom:!1,hideCloseBtn:!0,infoType:l.Prompt.INFO_TYPE.warn,confirmBtnProps:{type:s.TYPE.highlight,size:s.SIZE.lg},cancelBtnProps:{category:s.CATEGORY.outline,size:s.SIZE.lg},title:n("wallet_extension_address_popup_security_alert"),confirmText:n("wallet_extension_address_popup_btn_cancel"),cancelText:n("wallet_extension_address_popup_btn_continue"),text:n("wallet_extension_address_popup_security_alert_desc"),onConfirm:()=>{a.destroy(),d()},onCancel:()=>{a.destroy(),i()}})}else i()})},[])};export{A as a,L as b,M as c,V as d};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-5TSD6WDE.js.map
