import{a as Zo}from"./chunk-V7JJIHCP.js";import{a as pe}from"./chunk-HGT5CHSG.js";import{a as oe}from"./chunk-AF33U5YO.js";import{a as qn}from"./chunk-F2CV7BH6.js";import{a as Xo}from"./chunk-XRV6EHVP.js";import"./chunk-MAWXDEJZ.js";import"./chunk-ZRKMRDGI.js";import"./chunk-K2CHCG7Q.js";import"./chunk-3FBBK33H.js";import"./chunk-KTHMEYYS.js";import"./chunk-GT57MMCB.js";import"./chunk-RYNAOZ73.js";import{d as be}from"./chunk-GKHVFCKF.js";import{c as g,m as a,n as f,o as u}from"./chunk-6V2G2Z5W.js";var Gi=g(xi=>{"use strict";a();u();Object.defineProperty(xi,"__esModule",{value:!0})});var Lt=g(c=>{"use strict";a();u();Object.defineProperty(c,"__esModule",{value:!0});c.s16=c.s8=c.nu64be=c.u48be=c.u40be=c.u32be=c.u24be=c.u16be=c.nu64=c.u48=c.u40=c.u32=c.u24=c.u16=c.u8=c.offset=c.greedy=c.Constant=c.UTF8=c.CString=c.Blob=c.Boolean=c.BitField=c.BitStructure=c.VariantLayout=c.Union=c.UnionLayoutDiscriminator=c.UnionDiscriminator=c.Structure=c.Sequence=c.DoubleBE=c.Double=c.FloatBE=c.Float=c.NearInt64BE=c.NearInt64=c.NearUInt64BE=c.NearUInt64=c.IntBE=c.Int=c.UIntBE=c.UInt=c.OffsetLayout=c.GreedyCount=c.ExternalLayout=c.bindConstructorLayout=c.nameWithProperty=c.Layout=c.uint8ArrayToBuffer=c.checkUint8Array=void 0;c.constant=c.utf8=c.cstr=c.blob=c.unionLayoutDiscriminator=c.union=c.seq=c.bits=c.struct=c.f64be=c.f64=c.f32be=c.f32=c.ns64be=c.s48be=c.s40be=c.s32be=c.s24be=c.s16be=c.ns64=c.s48=c.s40=c.s32=c.s24=void 0;var Nn=be();function Dt(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}c.checkUint8Array=Dt;function T(r){return Dt(r),Nn.Buffer.from(r.buffer,r.byteOffset,r.length)}c.uint8ArrayToBuffer=T;var O=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};c.Layout=O;function Un(r,e){return e.property?r+"["+e.property+"]":r}c.nameWithProperty=Un;function Qo(r,e){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof O))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=e,e.boundConstructor_=r,e.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(r,"decode",{value(t,n){return e.decode(t,n)},writable:!0})}c.bindConstructorLayout=Qo;var H=class extends O{isCount(){throw new Error("ExternalLayout is abstract")}};c.ExternalLayout=H;var vr=class extends H{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){Dt(e);let n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}};c.GreedyCount=vr;var er=class extends H{constructor(e,t=0,n){if(!(e instanceof O))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Z||this.layout instanceof ae}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}};c.OffsetLayout=er;var Z=class extends O{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return T(e).readUIntLE(t,this.span)}encode(e,t,n=0){return T(t).writeUIntLE(e,n,this.span),this.span}};c.UInt=Z;var ae=class extends O{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return T(e).readUIntBE(t,this.span)}encode(e,t,n=0){return T(t).writeUIntBE(e,n,this.span),this.span}};c.UIntBE=ae;var et=class extends O{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return T(e).readIntLE(t,this.span)}encode(e,t,n=0){return T(t).writeIntLE(e,n,this.span),this.span}};c.Int=et;var dt=class extends O{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return T(e).readIntBE(t,this.span)}encode(e,t,n=0){return T(t).writeIntBE(e,n,this.span),this.span}};c.IntBE=dt;var Rn=Math.pow(2,32);function Yr(r){let e=Math.floor(r/Rn),t=r-e*Rn;return{hi32:e,lo32:t}}function Fr(r,e){return r*Rn+e}var kr=class extends O{constructor(e){super(8,e)}decode(e,t=0){let n=T(e),i=n.readUInt32LE(t),s=n.readUInt32LE(t+4);return Fr(s,i)}encode(e,t,n=0){let i=Yr(e),s=T(t);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}};c.NearUInt64=kr;var Br=class extends O{constructor(e){super(8,e)}decode(e,t=0){let n=T(e),i=n.readUInt32BE(t),s=n.readUInt32BE(t+4);return Fr(i,s)}encode(e,t,n=0){let i=Yr(e),s=T(t);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};c.NearUInt64BE=Br;var Er=class extends O{constructor(e){super(8,e)}decode(e,t=0){let n=T(e),i=n.readUInt32LE(t),s=n.readInt32LE(t+4);return Fr(s,i)}encode(e,t,n=0){let i=Yr(e),s=T(t);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}};c.NearInt64=Er;var Kr=class extends O{constructor(e){super(8,e)}decode(e,t=0){let n=T(e),i=n.readInt32BE(t),s=n.readUInt32BE(t+4);return Fr(i,s)}encode(e,t,n=0){let i=Yr(e),s=T(t);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};c.NearInt64BE=Kr;var Mr=class extends O{constructor(e){super(4,e)}decode(e,t=0){return T(e).readFloatLE(t)}encode(e,t,n=0){return T(t).writeFloatLE(e,n),4}};c.Float=Mr;var Dr=class extends O{constructor(e){super(4,e)}decode(e,t=0){return T(e).readFloatBE(t)}encode(e,t,n=0){return T(t).writeFloatBE(e,n),4}};c.FloatBE=Dr;var Lr=class extends O{constructor(e){super(8,e)}decode(e,t=0){return T(e).readDoubleLE(t)}encode(e,t,n=0){return T(t).writeDoubleLE(e,n),8}};c.Double=Lr;var jr=class extends O{constructor(e){super(8,e)}decode(e,t=0){return T(e).readDoubleBE(t)}encode(e,t,n=0){return T(t).writeDoubleBE(e,n),8}};c.DoubleBE=jr;var qr=class extends O{constructor(e,t,n){if(!(e instanceof O))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof H&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(t instanceof H)&&0<e.span&&(i=t*e.span),super(i,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof H&&(i=i.decode(e,t)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(e,t+n),++s}return n}decode(e,t=0){let n=[],i=0,s=this.count;for(s instanceof H&&(s=s.decode(e,t));i<s;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),i+=1;return n}encode(e,t,n=0){let i=this.elementLayout,s=e.reduce((o,d)=>o+i.encode(d,t,n+o),0);return this.count instanceof H&&this.count.encode(e.length,t,n),s}};c.Sequence=qr;var Rr=class extends O{constructor(e,t,n){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof O,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&n===void 0&&(n=t,t=void 0);for(let s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{let o=s.getSpan(e,t);return t+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,t=0){Dt(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){let i=n,s=0,o=0;for(let d of this.fields){let l=d.span;if(o=0<l?l:0,d.property!==void 0){let h=e[d.property];h!==void 0&&(o=d.encode(h,t,n),0>l&&(l=d.getSpan(t,n)))}s=n,n+=l}return s+o-i}fromArray(e){let t=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(t[n.property]=e.shift());return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(let n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}};c.Structure=Rr;var tr=class{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}};c.UnionDiscriminator=tr;var Mt=class extends tr{constructor(e,t){if(!(e instanceof H&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}};c.UnionLayoutDiscriminator=Mt;var rr=class extends O{constructor(e,t,n){let i;if(e instanceof Z||e instanceof ae)i=new Mt(new er(e));else if(e instanceof H&&e.isCount())i=new Mt(e);else if(e instanceof tr)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof O))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let s=-1;t&&(s=t.span,0<=s&&(e instanceof Z||e instanceof ae)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Z||e instanceof ae,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(d){return o(d)},this.configGetSourceVariant=function(d){o=d.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n,i=this.discriminator,s=i.decode(e,t),o=this.registry[s];if(o===void 0){let d=this.defaultLayout,l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[d.property]=d.decode(e,t+l)}else n=o.decode(e,t);return n}encode(e,t,n=0){let i=this.getSourceVariant(e);if(i===void 0){let s=this.discriminator,o=this.defaultLayout,d=0;return this.usesPrefixDiscriminator&&(d=s.layout.span),s.encode(e[s.property],t,n),d+o.encode(e[o.property],t,n+d)}return i.encode(e,t,n)}addVariant(e,t,n){let i=new Nr(this,e,t,n);return this.registry[e]=i,i}getVariant(e,t=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,t):n=e,this.registry[n]}};c.Union=rr;var Nr=class extends O{constructor(e,t,n,i){if(!(e instanceof rr))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof O))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,t+n)),n+i}decode(e,t=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],t,n+i),s+=this.layout.getSpan(t,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};c.VariantLayout=Nr;function Kt(r){return 0>r&&(r+=4294967296),r}var nr=class extends O{constructor(e,t,n){if(!(e instanceof Z||e instanceof ae))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&n===void 0&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Kt(s),this},this._packedGetValue=function(){return i}}decode(e,t=0){let n=this.makeDestinationObject(),i=this.word.decode(e,t);this._packedSetValue(i);for(let s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,t,n=0){let i=this.word.decode(t,n);this._packedSetValue(i);for(let s of this.fields)if(s.property!==void 0){let o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){let n=new ir(this,e,t);return this.fields.push(n),n}addBoolean(e){let t=new Ur(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}};c.BitStructure=nr;var ir=class{constructor(e,t,n){if(!(e instanceof nr))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");let i=8*e.span,s=e.fields.reduce((o,d)=>o+d.bits,0);if(t+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-t),this.wordMask=Kt(this.valueMask<<this.start),this.property=n}decode(e,t){let n=this.container._packedGetValue();return Kt(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Kt(e&this.valueMask))throw new TypeError(Un("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),n=Kt(e<<this.start);this.container._packedSetValue(Kt(t&~this.wordMask)|n)}};c.BitField=ir;var Ur=class extends ir{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};c.Boolean=Ur;var Cr=class extends O{constructor(e,t){if(!(e instanceof H&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof H||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),T(e).slice(t,t+n)}encode(e,t,n){let i=this.length;if(this.length instanceof H&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(Un("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>t.length)throw new RangeError("encoding overruns Uint8Array");let s=T(e);return T(t).write(s.toString("hex"),n,i,"hex"),this.length instanceof H&&this.length.encode(i,t,n),i}};c.Blob=Cr;var Vr=class extends O{constructor(e){super(-1,e)}getSpan(e,t=0){Dt(e);let n=t;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-t}decode(e,t=0){let n=this.getSpan(e,t);return T(e).slice(t,t+n-1).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let i=Nn.Buffer.from(e,"utf8"),s=i.length;if(n+s>t.length)throw new RangeError("encoding overruns Buffer");let o=T(t);return i.copy(o,n),o[n+s]=0,s+1}};c.CString=Vr;var zr=class extends O{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return Dt(e),e.length-t}decode(e,t=0){let n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return T(e).slice(t,t+n).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let i=Nn.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(T(t),n),s}};c.UTF8=zr;var Wr=class extends O{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}};c.Constant=Wr;c.greedy=(r,e)=>new vr(r,e);c.offset=(r,e,t)=>new er(r,e,t);c.u8=r=>new Z(1,r);c.u16=r=>new Z(2,r);c.u24=r=>new Z(3,r);c.u32=r=>new Z(4,r);c.u40=r=>new Z(5,r);c.u48=r=>new Z(6,r);c.nu64=r=>new kr(r);c.u16be=r=>new ae(2,r);c.u24be=r=>new ae(3,r);c.u32be=r=>new ae(4,r);c.u40be=r=>new ae(5,r);c.u48be=r=>new ae(6,r);c.nu64be=r=>new Br(r);c.s8=r=>new et(1,r);c.s16=r=>new et(2,r);c.s24=r=>new et(3,r);c.s32=r=>new et(4,r);c.s40=r=>new et(5,r);c.s48=r=>new et(6,r);c.ns64=r=>new Er(r);c.s16be=r=>new dt(2,r);c.s24be=r=>new dt(3,r);c.s32be=r=>new dt(4,r);c.s40be=r=>new dt(5,r);c.s48be=r=>new dt(6,r);c.ns64be=r=>new Kr(r);c.f32=r=>new Mr(r);c.f32be=r=>new Dr(r);c.f64=r=>new Lr(r);c.f64be=r=>new jr(r);c.struct=(r,e,t)=>new Rr(r,e,t);c.bits=(r,e,t)=>new nr(r,e,t);c.seq=(r,e,t)=>new qr(r,e,t);c.union=(r,e,t)=>new rr(r,e,t);c.unionLayoutDiscriminator=(r,e)=>new Mt(r,e);c.blob=(r,e)=>new Cr(r,e);c.cstr=r=>new Vr(r);c.utf8=(r,e)=>new zr(r,e);c.constant=(r,e)=>new Wr(r,e)});var jt=g(Hr=>{"use strict";a();u();Object.defineProperty(Hr,"__esModule",{value:!0});Hr.encodeDecode=void 0;var ea=r=>{let e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}};Hr.encodeDecode=ea});var Cn=g(A=>{"use strict";a();u();Object.defineProperty(A,"__esModule",{value:!0});A.u256be=A.u256=A.u192be=A.u192=A.u128be=A.u128=A.u64be=A.u64=A.bigIntBE=A.bigInt=void 0;var $i=be(),Ji=Lt(),xr=qn(),Xi=jt(),ta=r=>e=>{let t=(0,Ji.blob)(r,e),{encode:n,decode:i}=(0,Xi.encodeDecode)(t),s=t;return s.decode=(o,d)=>{let l=i(o,d);return(0,xr.toBigIntLE)($i.Buffer.from(l))},s.encode=(o,d,l)=>{let h=(0,xr.toBufferLE)(o,r);return n(h,d,l)},s};A.bigInt=ta;var ra=r=>e=>{let t=(0,Ji.blob)(r,e),{encode:n,decode:i}=(0,Xi.encodeDecode)(t),s=t;return s.decode=(o,d)=>{let l=i(o,d);return(0,xr.toBigIntBE)($i.Buffer.from(l))},s.encode=(o,d,l)=>{let h=(0,xr.toBufferBE)(o,r);return n(h,d,l)},s};A.bigIntBE=ra;A.u64=(0,A.bigInt)(8);A.u64be=(0,A.bigIntBE)(8);A.u128=(0,A.bigInt)(16);A.u128be=(0,A.bigIntBE)(16);A.u192=(0,A.bigInt)(24);A.u192be=(0,A.bigIntBE)(24);A.u256=(0,A.bigInt)(32);A.u256be=(0,A.bigIntBE)(32)});var Qi=g(lt=>{"use strict";a();u();Object.defineProperty(lt,"__esModule",{value:!0});lt.decimal=lt.WAD=void 0;var Zi=pe(),na=jt(),ia=Cn();lt.WAD=new Zi.BigNumber("1e+18");var sa=r=>{let e=(0,ia.u128)(r),{encode:t,decode:n}=(0,na.encodeDecode)(e),i=e;return i.decode=(s,o)=>{let d=n(s,o).toString();return new Zi.BigNumber(d).div(lt.WAD)},i.encode=(s,o,d)=>{let l=BigInt(s.times(lt.WAD).integerValue().toString());return t(l,o,d)},i};lt.decimal=sa});var es=g(Gr=>{"use strict";a();u();Object.defineProperty(Gr,"__esModule",{value:!0});Gr.bool=void 0;var oa=Lt(),aa=jt(),ua=r=>{let e=(0,oa.u8)(r),{encode:t,decode:n}=(0,aa.encodeDecode)(e),i=e;return i.decode=(s,o)=>!!n(s,o),i.encode=(s,o,d)=>{let l=Number(s);return t(l,o,d)},i};Gr.bool=ua});var ts=g($r=>{"use strict";a();u();Object.defineProperty($r,"__esModule",{value:!0});$r.publicKey=void 0;var ca=Lt(),da=C(),la=jt(),fa=r=>{let e=(0,ca.blob)(32,r),{encode:t,decode:n}=(0,la.encodeDecode)(e),i=e;return i.decode=(s,o)=>{let d=n(s,o);return new da.PublicKey(d)},i.encode=(s,o,d)=>{let l=s.toBuffer();return t(l,o,d)},i};$r.publicKey=fa});var rs=g(_e=>{"use strict";a();u();var ga=_e&&_e.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),qt=_e&&_e.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ga(e,r,t)};Object.defineProperty(_e,"__esModule",{value:!0});qt(jt(),_e);qt(Cn(),_e);qt(Qi(),_e);qt(es(),_e);qt(ts(),_e);qt(Lt(),_e)});var ue=g(ft=>{"use strict";a();u();var ya=ft&&ft.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ns=ft&&ft.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ya(e,r,t)};Object.defineProperty(ft,"__esModule",{value:!0});ns(Lt(),ft);ns(rs(),ft)});var Vn=g(Ve=>{"use strict";a();u();var ha=Ve&&Ve.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ba=Ve&&Ve.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),pa=Ve&&Ve.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ha(e,r,t);return ba(e,r),e};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.FeeCalculatorLayout=void 0;var _a=pa(ue());Ve.FeeCalculatorLayout=_a.nu64("lamportsPerSignature")});var is=g(De=>{"use strict";a();u();Object.defineProperty(De,"__esModule",{value:!0});De.SOLANA_SCHEMA=De.Enum=De.Struct=void 0;var Sa=be(),zn=Xo(),Jr=class{constructor(e){Object.assign(this,e)}encode(){return Sa.Buffer.from((0,zn.serialize)(De.SOLANA_SCHEMA,this))}static decode(e){return(0,zn.deserialize)(De.SOLANA_SCHEMA,this,e)}static decodeUnchecked(e){return(0,zn.deserializeUnchecked)(De.SOLANA_SCHEMA,this,e)}};De.Struct=Jr;var Wn=class extends Jr{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}};De.Enum=Wn;De.SOLANA_SCHEMA=new Map});var Pt=g(Xr=>{"use strict";a();u();Object.defineProperty(Xr,"__esModule",{value:!0});Xr.toBuffer=void 0;var Yn=be(),wa=r=>Yn.Buffer.isBuffer(r)?r:r instanceof Uint8Array?Yn.Buffer.from(r.buffer,r.byteOffset,r.byteLength):Yn.Buffer.from(r);Xr.toBuffer=wa});var Pe=g(we=>{"use strict";a();u();Object.defineProperty(we,"__esModule",{value:!0});we.PublicKey=we.PUBLIC_KEY_LENGTH=we.MAX_SEED_LENGTH=void 0;var ss=pe(),tt=be(),us=is(),Pa=Pt(),sr=pe();we.MAX_SEED_LENGTH=32;we.PUBLIC_KEY_LENGTH=32;function Ia(r){return r._bn!==void 0}var os=1,Se=class extends us.Struct{constructor(e){if(super({}),Ia(e))this._bn=e._bn;else{if(typeof e=="string"){let t=sr.base.fromBase58(e);if(t.length!=we.PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input");this._bn=new ss.BN(t)}else this._bn=new ss.BN(e);if(this._bn.byteLength()>we.PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input")}}static unique(){let e=new Se(os);return os+=1,new Se(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return sr.base.toBase58(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(tt.Buffer);if(e.length===we.PUBLIC_KEY_LENGTH)return e;let t=tt.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){let i=tt.Buffer.concat([e.toBuffer(),tt.Buffer.from(t),n.toBuffer()]),s=sr.base.sha256(i);return new Se(s)}static createProgramAddressSync(e,t){let n=tt.Buffer.alloc(0);e.forEach(function(s){if(s.length>we.MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");n=tt.Buffer.concat([n,(0,Pa.toBuffer)(s)])}),n=tt.Buffer.concat([n,t.toBuffer(),tt.Buffer.from("ProgramDerivedAddress")]);let i=sr.base.sha256(n);if(as(i))throw new Error("Invalid seeds, address must fall off the curve");return new Se(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n=255,i;for(;n!=0;){try{let s=e.concat(tt.Buffer.from([n]));i=this.createProgramAddressSync(s,t)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){let t=new Se(e);return as(t.toBytes())==1}};we.PublicKey=Se;Se.default=new Se("11111111111111111111111111111111");us.SOLANA_SCHEMA.set(Se,{kind:"struct",fields:[["_bn","u256"]]});function as(r){try{return sr.signUtil.ed25519.publicKeyVerify(r)?1:0}catch{return 0}}});var cs=g(Qr=>{"use strict";a();u();Object.defineProperty(Qr,"__esModule",{value:!0});Qr.Keypair=void 0;var Ta=Pe(),Zr=pe(),or=class{constructor(e){this._keypair=e}static fromSecretKey(e,t){if(!t||!t.skipValidation){let s=new TextEncoder().encode("@solana/web3.js-validation-v1"),o=Zr.signUtil.ed25519.sign(s,e),d=Zr.signUtil.ed25519.publicKeyCreate(e);if(!Zr.signUtil.ed25519.verify(s,o,d))throw new Error("provided secretKey is invalid")}let n=Zr.signUtil.ed25519.publicKeyCreate(e);return new or({publicKey:n,secretKey:e})}get publicKey(){return new Ta.PublicKey(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}};Qr.Keypair=or});var tn=g(en=>{"use strict";a();u();Object.defineProperty(en,"__esModule",{value:!0});en.MessageAccountKeys=void 0;var Fn=class{constructor(e,t){this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((s,o)=>{n.set(s.toBase58(),o)});let i=s=>{let o=n.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}};en.MessageAccountKeys=Fn});var rt=g(v=>{"use strict";a();u();var ma=v&&v.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Oa=v&&v.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Aa=v&&v.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ma(e,r,t);return Oa(e,r),e};Object.defineProperty(v,"__esModule",{value:!0});v.getAlloc=v.voteInit=v.lockup=v.authorized=v.rustString=v.uint64=v.signature=v.publicKey=void 0;var ds=be(),z=Aa(ue()),va=(r="publicKey")=>z.blob(32,r);v.publicKey=va;var ka=(r="signature")=>z.blob(64,r);v.signature=ka;var Ba=(r="uint64")=>z.blob(8,r);v.uint64=Ba;var Ea=(r="string")=>{let e=z.struct([z.u32("length"),z.u32("lengthPadding"),z.blob(z.offset(z.u32(),-8),"chars")],r),t=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,o)=>t(s,o).chars.toString(),i.encode=(s,o,d)=>{let l={chars:ds.Buffer.from(s,"utf8")};return n(l,o,d)},i.alloc=s=>z.u32().span+z.u32().span+ds.Buffer.from(s,"utf8").length,i};v.rustString=Ea;var Ka=(r="authorized")=>z.struct([(0,v.publicKey)("staker"),(0,v.publicKey)("withdrawer")],r);v.authorized=Ka;var Ma=(r="lockup")=>z.struct([z.ns64("unixTimestamp"),z.ns64("epoch"),(0,v.publicKey)("custodian")],r);v.lockup=Ma;var Da=(r="voteInit")=>z.struct([(0,v.publicKey)("nodePubkey"),(0,v.publicKey)("authorizedVoter"),(0,v.publicKey)("authorizedWithdrawer"),z.u8("commission")],r);v.voteInit=Da;function ls(r,e){let t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let s=e[i.property];if(Array.isArray(s))return s.length*t(i.elementLayout)}else if("fields"in i)return ls({layout:i},e[i.property]);return 0},n=0;return r.layout.fields.forEach(i=>{n+=t(i)}),n}v.getAlloc=ls});var It=g(gt=>{"use strict";a();u();Object.defineProperty(gt,"__esModule",{value:!0});gt.SIGNATURE_LENGTH_IN_BYTES=gt.VERSION_PREFIX_MASK=gt.PACKET_DATA_SIZE=void 0;gt.PACKET_DATA_SIZE=1280-40-8;gt.VERSION_PREFIX_MASK=127;gt.SIGNATURE_LENGTH_IN_BYTES=64});var ar=g(Rt=>{"use strict";a();u();Object.defineProperty(Rt,"__esModule",{value:!0});Rt.encodeLength=Rt.decodeLength=void 0;function La(r){let e=0,t=0;for(;;){let n=r.shift();if(e|=(n&127)<<t*7,t+=1,(n&128)===0)break}return e}Rt.decodeLength=La;function ja(r,e){let t=e;for(;;){let n=t&127;if(t>>=7,t==0){r.push(n);break}else n|=128,r.push(n)}}Rt.encodeLength=ja});var Tt=g(Hn=>{"use strict";a();u();Object.defineProperty(Hn,"__esModule",{value:!0});function qa(r,e){if(!r)throw new Error(e||"Assertion failed")}Hn.default=qa});var xn=g(Nt=>{"use strict";a();u();var Ra=Nt&&Nt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.CompiledKeys=void 0;var rn=Ra(Tt()),ur=Pe(),cr=class{constructor(e,t){this.payer=e,this.keyMetaMap=t}static compile(e,t){let n=new Map,i=o=>{let d=o.toBase58(),l=n.get(d);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(d,l)),l},s=i(t);s.isSigner=!0,s.isWritable=!0;for(let o of e){i(o.programId).isInvoked=!0;for(let d of o.keys){let l=i(d.pubkey);l.isSigner||(l.isSigner=d.isSigner),l.isWritable||(l.isWritable=d.isWritable)}}return new cr(t,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];(0,rn.default)(e.length<=256,"Max static account keys length exceeded");let t=e.filter(([,l])=>l.isSigner&&l.isWritable),n=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),s=e.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{(0,rn.default)(t.length>0,"Expected at least one writable signer key");let[l]=t[0];(0,rn.default)(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let d=[...t.map(([l])=>new ur.PublicKey(l)),...n.map(([l])=>new ur.PublicKey(l)),...i.map(([l])=>new ur.PublicKey(l)),...s.map(([l])=>new ur.PublicKey(l))];return[o,d]}extractTableLookup(e){let[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,t){let n=new Array,i=new Array;for(let[s,o]of this.keyMetaMap.entries())if(t(o)){let d=new ur.PublicKey(s),l=e.findIndex(h=>h.equals(d));l>=0&&((0,rn.default)(l<256,"Max lookup table index exceeded"),n.push(l),i.push(d),this.keyMetaMap.delete(s))}return[n,i]}};Nt.CompiledKeys=cr});var $n=g(ze=>{"use strict";a();u();var Na=ze&&ze.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ua=ze&&ze.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Gn=ze&&ze.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Na(e,r,t);return Ua(e,r),e};Object.defineProperty(ze,"__esModule",{value:!0});ze.Message=void 0;var Ut=pe(),Ie=be(),Q=Gn(ue()),Ct=Pe(),fs=Gn(rt()),gs=It(),yt=Gn(ar()),Ca=Pt(),Va=xn(),ys=tn(),Vt=class{constructor(e){this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new Ct.PublicKey(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ut.base.fromBase58(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new ys.MessageAccountKeys(this.staticAccountKeys)}static compile(e){let t=Va.CompiledKeys.compile(e.instructions,e.payerKey),[n,i]=t.getMessageComponents(),o=new ys.MessageAccountKeys(i).compileInstructions(e.instructions).map(d=>({programIdIndex:d.programIdIndex,accounts:d.accountKeyIndexes,data:Ut.base.toBase58(d.data)}));return new Vt({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-t,s=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return n<s}else{let n=t-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){let e=this.accountKeys.length,t=[];yt.encodeLength(t,e);let n=this.instructions.map(_=>{let{accounts:j,programIdIndex:q}=_,B=Array.from(Ut.base.fromBase58(_.data)),y=[];yt.encodeLength(y,j.length);let w=[];return yt.encodeLength(w,B.length),{programIdIndex:q,keyIndicesCount:Ie.Buffer.from(y),keyIndices:j,dataLength:Ie.Buffer.from(w),data:B}}),i=[];yt.encodeLength(i,n.length);let s=Ie.Buffer.alloc(gs.PACKET_DATA_SIZE);Ie.Buffer.from(i).copy(s);let o=i.length;n.forEach(_=>{o+=Q.struct([Q.u8("programIdIndex"),Q.blob(_.keyIndicesCount.length,"keyIndicesCount"),Q.seq(Q.u8("keyIndex"),_.keyIndices.length,"keyIndices"),Q.blob(_.dataLength.length,"dataLength"),Q.seq(Q.u8("userdatum"),_.data.length,"data")]).encode(_,s,o)}),s=s.slice(0,o);let d=Q.struct([Q.blob(1,"numRequiredSignatures"),Q.blob(1,"numReadonlySignedAccounts"),Q.blob(1,"numReadonlyUnsignedAccounts"),Q.blob(t.length,"keyCount"),Q.seq(fs.publicKey("key"),e,"keys"),fs.publicKey("recentBlockhash")]),l={numRequiredSignatures:Ie.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ie.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ie.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ie.Buffer.from(t),keys:this.accountKeys.map(_=>(0,Ca.toBuffer)(_.toBytes())),recentBlockhash:Ut.base.fromBase58(this.recentBlockhash)},h=Ie.Buffer.alloc(2048),M=d.encode(l,h);return s.copy(h,M),h.slice(0,M+s.length)}static from(e){let t=[...e],n=t.shift();if(n!==(n&gs.VERSION_PREFIX_MASK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=t.shift(),s=t.shift(),o=yt.decodeLength(t),d=[];for(let j=0;j<o;j++){let q=t.slice(0,Ct.PUBLIC_KEY_LENGTH);t=t.slice(Ct.PUBLIC_KEY_LENGTH),d.push(new Ct.PublicKey(Ie.Buffer.from(q)))}let l=t.slice(0,Ct.PUBLIC_KEY_LENGTH);t=t.slice(Ct.PUBLIC_KEY_LENGTH);let h=yt.decodeLength(t),M=[];for(let j=0;j<h;j++){let q=t.shift(),B=yt.decodeLength(t),y=t.slice(0,B);t=t.slice(B);let w=yt.decodeLength(t),I=t.slice(0,w),G=Ut.base.toBase58(Ie.Buffer.from(I));t=t.slice(w),M.push({programIdIndex:q,accounts:y,data:G})}let _={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Ut.base.toBase58(Ie.Buffer.from(l)),accountKeys:d,instructions:M};return new Vt(_)}};ze.Message=Vt});var Zn=g(Te=>{"use strict";a();u();var za=Te&&Te.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Wa=Te&&Te.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Xn=Te&&Te.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&za(e,r,t);return Wa(e,r),e},Ya=Te&&Te.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Te,"__esModule",{value:!0});Te.MessageV0=void 0;var hs=pe(),E=Xn(ue()),Jn=Xn(rt()),dr=Pe(),ee=Xn(ar()),bs=Ya(Tt()),nn=It(),Fa=xn(),ps=tn(),zt=class{constructor(e){this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new ps.MessageAccountKeys(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,s=this.addressTableLookups.reduce((o,d)=>o+d.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){let i=e-t,o=n-t-this.header.numReadonlyUnsignedAccounts;return i<o}else{let i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let t={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let s of n.writableIndexes)if(s<i.state.addresses.length)t.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(let s of n.readonlyIndexes)if(s<i.state.addresses.length)t.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return t}static compile(e){let t=Fa.CompiledKeys.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(let M of s){let _=t.extractTableLookup(M);if(_!==void 0){let[j,{writable:q,readonly:B}]=_;n.push(j),i.writable.push(...q),i.readonly.push(...B)}}let[o,d]=t.getMessageComponents(),h=new ps.MessageAccountKeys(d,i).compileInstructions(e.instructions);return new zt({header:o,staticAccountKeys:d,recentBlockhash:e.recentBlockhash,compiledInstructions:h,addressTableLookups:n})}serialize(){let e=Array();ee.encodeLength(e,this.staticAccountKeys.length);let t=this.serializeInstructions(),n=Array();ee.encodeLength(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),s=Array();ee.encodeLength(s,this.addressTableLookups.length);let o=E.struct([E.u8("prefix"),E.struct([E.u8("numRequiredSignatures"),E.u8("numReadonlySignedAccounts"),E.u8("numReadonlyUnsignedAccounts")],"header"),E.blob(e.length,"staticAccountKeysLength"),E.seq(Jn.publicKey(),this.staticAccountKeys.length,"staticAccountKeys"),Jn.publicKey("recentBlockhash"),E.blob(n.length,"instructionsLength"),E.blob(t.length,"serializedInstructions"),E.blob(s.length,"addressTableLookupsLength"),E.blob(i.length,"serializedAddressTableLookups")]),d=new Uint8Array(nn.PACKET_DATA_SIZE),l=1<<7,h=o.encode({prefix:l,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(M=>M.toBytes()),recentBlockhash:hs.base.fromBase58(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},d);return d.slice(0,h)}serializeInstructions(){let e=0,t=new Uint8Array(nn.PACKET_DATA_SIZE);for(let n of this.compiledInstructions){let i=Array();ee.encodeLength(i,n.accountKeyIndexes.length);let s=Array();ee.encodeLength(s,n.data.length),e+=E.struct([E.u8("programIdIndex"),E.blob(i.length,"encodedAccountKeyIndexesLength"),E.seq(E.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),E.blob(s.length,"encodedDataLength"),E.blob(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0,t=new Uint8Array(nn.PACKET_DATA_SIZE);for(let n of this.addressTableLookups){let i=Array();ee.encodeLength(i,n.writableIndexes.length);let s=Array();ee.encodeLength(s,n.readonlyIndexes.length),e+=E.struct([Jn.publicKey("accountKey"),E.blob(i.length,"encodedWritableIndexesLength"),E.seq(E.u8(),n.writableIndexes.length,"writableIndexes"),E.blob(s.length,"encodedReadonlyIndexesLength"),E.seq(E.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e],n=t.shift(),i=n&nn.VERSION_PREFIX_MASK;(0,bs.default)(n!==i,"Expected versioned message but received legacy message");let s=i;(0,bs.default)(s===0,`Expected versioned message with version 0 but found version ${s}`);let o={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},d=[],l=ee.decodeLength(t);for(let B=0;B<l;B++)d.push(new dr.PublicKey(t.splice(0,dr.PUBLIC_KEY_LENGTH)));let h=hs.base.toBase58(t.splice(0,dr.PUBLIC_KEY_LENGTH)),M=ee.decodeLength(t),_=[];for(let B=0;B<M;B++){let y=t.shift(),w=ee.decodeLength(t),I=t.splice(0,w),G=ee.decodeLength(t),ct=new Uint8Array(t.splice(0,G));_.push({programIdIndex:y,accountKeyIndexes:I,data:ct})}let j=ee.decodeLength(t),q=[];for(let B=0;B<j;B++){let y=new dr.PublicKey(t.splice(0,dr.PUBLIC_KEY_LENGTH)),w=ee.decodeLength(t),I=t.splice(0,w),G=ee.decodeLength(t),ct=t.splice(0,G);q.push({accountKey:y,writableIndexes:I,readonlyIndexes:ct})}return new zt({header:o,staticAccountKeys:d,recentBlockhash:h,compiledInstructions:_,addressTableLookups:q})}};Te.MessageV0=zt});var Qn=g(lr=>{"use strict";a();u();Object.defineProperty(lr,"__esModule",{value:!0});lr.VersionedMessage=void 0;var Ha=It(),xa=$n(),Ga=Zn();lr.VersionedMessage={deserializeMessageVersion(r){let e=r[0],t=e&Ha.VERSION_PREFIX_MASK;return t===e?"legacy":t},deserialize:r=>{let e=lr.VersionedMessage.deserializeMessageVersion(r);if(e==="legacy")return xa.Message.from(r);if(e===0)return Ga.MessageV0.deserialize(r);throw new Error(`Transaction message version ${e} deserialization is not supported`)}}});var on=g(We=>{"use strict";a();u();var $a=We&&We.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),sn=We&&We.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&$a(e,r,t)};Object.defineProperty(We,"__esModule",{value:!0});sn(tn(),We);sn($n(),We);sn(Qn(),We);sn(Zn(),We)});var ei=g(me=>{"use strict";a();u();var Ja=me&&me.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Xa=me&&me.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ws=me&&me.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Ja(e,r,t);return Xa(e,r),e};Object.defineProperty(me,"__esModule",{value:!0});me.NonceAccount=me.NONCE_ACCOUNT_LENGTH=void 0;var an=ws(ue()),_s=ws(rt()),Ss=Pe(),Za=Vn(),Qa=Pt(),Ps=an.struct([an.u32("version"),an.u32("state"),_s.publicKey("authorizedPubkey"),_s.publicKey("nonce"),an.struct([Za.FeeCalculatorLayout],"feeCalculator")]);me.NONCE_ACCOUNT_LENGTH=Ps.span;var fr=class{constructor(e){this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let t=Ps.decode((0,Qa.toBuffer)(e),0);return new fr({authorizedPubkey:new Ss.PublicKey(t.authorizedPubkey),nonce:new Ss.PublicKey(t.nonce).toString(),feeCalculator:t.feeCalculator})}};me.NonceAccount=fr});var cn=g(Ye=>{"use strict";a();u();Object.defineProperty(Ye,"__esModule",{value:!0});Ye.u256=Ye.u192=Ye.u128=Ye.u64=void 0;var eu=be(),tu=ue(),Is=qn(),ru=r=>{let e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}},un=r=>e=>{let t=(0,tu.blob)(r,e),{encode:n,decode:i}=ru(t),s=t;return s.decode=(o,d)=>{let l=i(o,d);return(0,Is.toBigIntLE)(eu.Buffer.from(l))},s.encode=(o,d,l)=>{let h=(0,Is.toBufferLE)(o,r);return n(h,d,l)},s};Ye.u64=un(8);Ye.u128=un(16);Ye.u192=un(24);Ye.u256=un(32)});var ti=g(Oe=>{"use strict";a();u();var nu=Oe&&Oe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),iu=Oe&&Oe.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),su=Oe&&Oe.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&nu(e,r,t);return iu(e,r),e};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.decodeData=Oe.encodeData=void 0;var ou=be(),au=su(rt());function uu(r,e){let t=r.layout.span>=0?r.layout.span:au.getAlloc(r,e),n=ou.Buffer.alloc(t),i=Object.assign({instruction:r.index},e);return r.layout.encode(i,n),n}Oe.encodeData=uu;function cu(r,e){let t;try{t=r.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(t.instruction!==r.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${r.index}`);return t}Oe.decodeData=cu});var ri=g(R=>{"use strict";a();u();Object.defineProperty(R,"__esModule",{value:!0});R.SYSVAR_STAKE_HISTORY_PUBKEY=R.SYSVAR_SLOT_HISTORY_PUBKEY=R.SYSVAR_SLOT_HASHES_PUBKEY=R.SYSVAR_REWARDS_PUBKEY=R.SYSVAR_RENT_PUBKEY=R.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=R.SYSVAR_INSTRUCTIONS_PUBKEY=R.SYSVAR_EPOCH_SCHEDULE_PUBKEY=R.SYSVAR_CLOCK_PUBKEY=void 0;var nt=Pe();R.SYSVAR_CLOCK_PUBKEY=new nt.PublicKey("SysvarC1ock11111111111111111111111111111111");R.SYSVAR_EPOCH_SCHEDULE_PUBKEY=new nt.PublicKey("SysvarEpochSchedu1e111111111111111111111111");R.SYSVAR_INSTRUCTIONS_PUBKEY=new nt.PublicKey("Sysvar1nstructions1111111111111111111111111");R.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=new nt.PublicKey("SysvarRecentB1ockHashes11111111111111111111");R.SYSVAR_RENT_PUBKEY=new nt.PublicKey("SysvarRent111111111111111111111111111111111");R.SYSVAR_REWARDS_PUBKEY=new nt.PublicKey("SysvarRewards111111111111111111111111111111");R.SYSVAR_SLOT_HASHES_PUBKEY=new nt.PublicKey("SysvarS1otHashes111111111111111111111111111");R.SYSVAR_SLOT_HISTORY_PUBKEY=new nt.PublicKey("SysvarS1otHistory11111111111111111111111111");R.SYSVAR_STAKE_HISTORY_PUBKEY=new nt.PublicKey("SysvarStakeHistory1111111111111111111111111")});var Ts=g(ht=>{"use strict";a();u();Object.defineProperty(ht,"__esModule",{value:!0});ht.TransactionExpiredNonceInvalidError=ht.TransactionExpiredTimeoutError=ht.TransactionExpiredBlockheightExceededError=void 0;var dn=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=e}};ht.TransactionExpiredBlockheightExceededError=dn;Object.defineProperty(dn.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var ln=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=e}};ht.TransactionExpiredTimeoutError=ln;Object.defineProperty(ln.prototype,"name",{value:"TransactionExpiredTimeoutError"});var fn=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=e}};ht.TransactionExpiredNonceInvalidError=fn;Object.defineProperty(fn.prototype,"name",{value:"TransactionExpiredNonceInvalidError"})});var ni=g(te=>{"use strict";a();u();var du=te&&te.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),lu=te&&te.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),fu=te&&te.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&du(e,r,t);return lu(e,r),e},gu=te&&te.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(te,"__esModule",{value:!0});te.Transaction=te.TransactionInstruction=void 0;var st=be(),gr=It(),ms=on(),yu=Pe(),Os=fu(ar()),hu=Pt(),it=gu(Tt()),mt=pe(),bu=st.Buffer.alloc(gr.SIGNATURE_LENGTH_IN_BYTES).fill(0),yr=class{constructor(e){this.data=st.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}};te.TransactionInstruction=yr;var Wt=class{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.instructions=[],!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{let{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new yr(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<t.length;y++)if(t[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);let i=[],s=[];t.forEach(y=>{y.keys.forEach(I=>{s.push({...I})});let w=y.programId.toString();i.includes(w)||i.push(w)}),i.forEach(y=>{s.push({pubkey:new yu.PublicKey(y),isSigner:!1,isWritable:!1})});let o=[];s.forEach(y=>{let w=y.pubkey.toString(),I=o.findIndex(G=>G.pubkey.toString()===w);I>-1?(o[I].isWritable=o[I].isWritable||y.isWritable,o[I].isSigner=o[I].isSigner||y.isSigner):o.push(y)}),o.sort(function(y,w){return y.isSigner!==w.isSigner?y.isSigner?-1:1:y.isWritable!==w.isWritable?y.isWritable?-1:1:y.pubkey.toBase58().localeCompare(w.pubkey.toBase58())});let d=o.findIndex(y=>y.pubkey.equals(n));if(d>-1){let[y]=o.splice(d,1);y.isSigner=!0,y.isWritable=!0,o.unshift(y)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let y of this.signatures){let w=o.findIndex(I=>I.pubkey.equals(y.publicKey));if(w>-1)o[w].isSigner||(o[w].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let l=0,h=0,M=0,_=[],j=[];o.forEach(({pubkey:y,isSigner:w,isWritable:I})=>{w?(_.push(y.toString()),l+=1,I||(h+=1)):(j.push(y.toString()),I||(M+=1))});let q=_.concat(j),B=t.map(y=>{let{data:w,programId:I}=y;return{programIdIndex:q.indexOf(I.toString()),accounts:y.keys.map(G=>q.indexOf(G.pubkey.toString())),data:mt.base.toBase58(w)}});return B.forEach(y=>{(0,it.default)(y.programIdIndex>=0),y.accounts.forEach(w=>(0,it.default)(w>=0))}),new ms.Message({header:{numRequiredSignatures:l,numReadonlySignedAccounts:h,numReadonlyUnsignedAccounts:M},accountKeys:q,recentBlockhash:e,instructions:B})}_compile(){let e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,s)=>t[s].equals(i.publicKey))||(this.signatures=t.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}setSigners(...e){if(e.length===0)throw new Error("No signers");let t=new Set;this.signatures=e.filter(n=>{let i=n.toString();return t.has(i)?!1:(t.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let s of e){let o=s.publicKey.toString();t.has(o)||(t.add(o),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let s of e){let o=s.publicKey.toString();t.has(o)||(t.add(o),n.push(s))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...t){let n=e.serialize();t.forEach(i=>{let s=mt.signUtil.ed25519.sign(n,i.secretKey);this._addSignature(i.publicKey,(0,hu.toBuffer)(s))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){(0,it.default)(t.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=st.Buffer.from(t)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,t){for(let{signature:n,publicKey:i}of this.signatures)if(n===null){if(t)return!1}else if(!mt.signUtil.ed25519.verify(e,n,i.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n&&!this._verifySignatures(i,t))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){let{signatures:t}=this,n=[];Os.encodeLength(n,t.length);let i=n.length+t.length*64+e.length,s=st.Buffer.alloc(i);return(0,it.default)(t.length<256),st.Buffer.from(n).copy(s,0),t.forEach(({signature:o},d)=>{o!==null&&((0,it.default)(o.length===64,"signature has invalid length"),st.Buffer.from(o).copy(s,n.length+d*64))}),e.copy(s,n.length+t.length*64),(0,it.default)(s.length<=gr.PACKET_DATA_SIZE,`Transaction too large: ${s.length} > ${gr.PACKET_DATA_SIZE}`),s}get keys(){return(0,it.default)(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return(0,it.default)(this.instructions.length===1),this.instructions[0].programId}get data(){return(0,it.default)(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e],n=Os.decodeLength(t),i=[];for(let s=0;s<n;s++){let o=t.slice(0,gr.SIGNATURE_LENGTH_IN_BYTES);t=t.slice(gr.SIGNATURE_LENGTH_IN_BYTES),i.push(mt.base.toBase58(st.Buffer.from(o)))}return Wt.populate(ms.Message.from(t),i)}static populate(e,t=[]){let n=new Wt;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach((i,s)=>{let o={signature:i==mt.base.toBase58(bu)?null:st.Buffer.from(mt.base.fromBase58(i)),publicKey:e.accountKeys[s]};n.signatures.push(o)}),e.instructions.forEach(i=>{let s=i.accounts.map(o=>{let d=e.accountKeys[o];return{pubkey:d,isSigner:n.signatures.some(l=>l.publicKey.toString()===d.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});n.instructions.push(new yr({keys:s,programId:e.accountKeys[i.programIdIndex],data:st.Buffer.from(mt.base.fromBase58(i.data))}))}),n._message=e,n._json=n.toJSON(),n}};te.Transaction=Wt});var ks=g(Yt=>{"use strict";a();u();var pu=Yt&&Yt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.TransactionMessage=void 0;var As=pu(Tt()),_u=Pt(),vs=on(),Su=ni(),hr=class{constructor(e){this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){let{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:l}=n,h=o-d;(0,As.default)(h>0,"Message header is invalid");let M=e.staticAccountKeys.length-o-l;(0,As.default)(M>=0,"Message header is invalid");let _=e.getAccountKeys(t),j=_.get(0);if(j===void 0)throw new Error("Failed to decompile message because no account keys were found");let q=[];for(let B of i){let y=[];for(let I of B.accountKeyIndexes){let G=_.get(I);if(G===void 0)throw new Error(`Failed to find key for account key index ${I}`);let ct=I<o,Ar;ct?Ar=I<h:I<_.staticAccountKeys.length?Ar=I-o<M:Ar=I-_.staticAccountKeys.length<_.accountKeysFromLookups.writable.length,y.push({pubkey:G,isSigner:I<n.numRequiredSignatures,isWritable:Ar})}let w=_.get(B.programIdIndex);if(w===void 0)throw new Error(`Failed to find program id for program id index ${B.programIdIndex}`);q.push(new Su.TransactionInstruction({programId:w,data:(0,_u.toBuffer)(B.data),keys:y}))}return new hr({payerKey:j,instructions:q,recentBlockhash:s})}compileToLegacyMessage(){return vs.Message.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return vs.MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}};Yt.TransactionMessage=hr});var Ks=g(Ae=>{"use strict";a();u();var wu=Ae&&Ae.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Pu=Ae&&Ae.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ii=Ae&&Ae.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&wu(e,r,t);return Pu(e,r),e},Iu=Ae&&Ae.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.VersionedTransaction=void 0;var gn=ii(ue()),yn=Iu(Tt()),Tu=Qn(),Bs=It(),Es=ii(ar()),mu=ii(rt()),Ou=pe(),Au=be(),br=class{get signature(){return this.signatures.length>0?Au.Buffer.from(this.signatures[0]):null}get version(){return this.message.version}constructor(e,t){if(t!==void 0)(0,yn.default)(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(Bs.SIGNATURE_LENGTH_IN_BYTES));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),t=Array();Es.encodeLength(t,this.signatures.length);let n=gn.struct([gn.blob(t.length,"encodedSignaturesLength"),gn.seq(mu.signature(),this.signatures.length,"signatures"),gn.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let t=[...e],n=[],i=Es.decodeLength(t);for(let o=0;o<i;o++)n.push(new Uint8Array(t.splice(0,Bs.SIGNATURE_LENGTH_IN_BYTES)));let s=Tu.VersionedMessage.deserialize(new Uint8Array(t));return new br(s,n)}sign(e){let t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let s=n.findIndex(o=>o.equals(i.publicKey));(0,yn.default)(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=Ou.signUtil.ed25519.sign(t,i.secretKey)}}addSignature(e,t){(0,yn.default)(t.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));(0,yn.default)(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}};Ae.VersionedTransaction=br});var hn=g(Le=>{"use strict";a();u();var vu=Le&&Le.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),pr=Le&&Le.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&vu(e,r,t)};Object.defineProperty(Le,"__esModule",{value:!0});pr(It(),Le);pr(Ts(),Le);pr(ni(),Le);pr(ks(),Le);pr(Ks(),Le)});var oi=g(p=>{"use strict";a();u();var ku=p&&p.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Bu=p&&p.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ls=p&&p.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ku(e,r,t);return Bu(e,r),e};Object.defineProperty(p,"__esModule",{value:!0});p.SystemProgram=p.SYSTEM_INSTRUCTION_LAYOUTS=p.SystemInstruction=void 0;var P=Ls(ue()),D=ti(),$=Ls(rt()),Ms=ei(),ve=Pe(),_r=ri(),Fe=hn(),je=Pt(),Ds=cn(),si=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=P.u32("instruction").decode(e.data),i;for(let[s,o]of Object.entries(p.SYSTEM_INSTRUCTION_LAYOUTS))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:t,space:n,programId:i}=(0,D.decodeData)(p.SYSTEM_INSTRUCTION_LAYOUTS.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:n,programId:new ve.PublicKey(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:t}=(0,D.decodeData)(p.SYSTEM_INSTRUCTION_LAYOUTS.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:t,seed:n,programId:i}=(0,D.decodeData)(p.SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:n,programId:new ve.PublicKey(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:t}=(0,D.decodeData)(p.SYSTEM_INSTRUCTION_LAYOUTS.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:t,seed:n,space:i,programId:s}=(0,D.decodeData)(p.SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ve.PublicKey(t),seed:n,space:i,programId:new ve.PublicKey(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:t}=(0,D.decodeData)(p.SYSTEM_INSTRUCTION_LAYOUTS.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ve.PublicKey(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:t,seed:n,programId:i}=(0,D.decodeData)(p.SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ve.PublicKey(t),seed:n,programId:new ve.PublicKey(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:t,seed:n,lamports:i,space:s,programId:o}=(0,D.decodeData)(p.SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ve.PublicKey(t),seed:n,lamports:i,space:s,programId:new ve.PublicKey(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:t}=(0,D.decodeData)(p.SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ve.PublicKey(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),(0,D.decodeData)(p.SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:t}=(0,D.decodeData)(p.SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:t}=(0,D.decodeData)(p.SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ve.PublicKey(t)}}static checkProgramId(e){if(!e.equals(bt.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};p.SystemInstruction=si;p.SYSTEM_INSTRUCTION_LAYOUTS=Object.freeze({Create:{index:0,layout:P.struct([P.u32("instruction"),P.ns64("lamports"),P.ns64("space"),$.publicKey("programId")])},Assign:{index:1,layout:P.struct([P.u32("instruction"),$.publicKey("programId")])},Transfer:{index:2,layout:P.struct([P.u32("instruction"),(0,Ds.u64)("lamports")])},CreateWithSeed:{index:3,layout:P.struct([P.u32("instruction"),$.publicKey("base"),$.rustString("seed"),P.ns64("lamports"),P.ns64("space"),$.publicKey("programId")])},AdvanceNonceAccount:{index:4,layout:P.struct([P.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:P.struct([P.u32("instruction"),P.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:P.struct([P.u32("instruction"),$.publicKey("authorized")])},AuthorizeNonceAccount:{index:7,layout:P.struct([P.u32("instruction"),$.publicKey("authorized")])},Allocate:{index:8,layout:P.struct([P.u32("instruction"),P.ns64("space")])},AllocateWithSeed:{index:9,layout:P.struct([P.u32("instruction"),$.publicKey("base"),$.rustString("seed"),P.ns64("space"),$.publicKey("programId")])},AssignWithSeed:{index:10,layout:P.struct([P.u32("instruction"),$.publicKey("base"),$.rustString("seed"),$.publicKey("programId")])},TransferWithSeed:{index:11,layout:P.struct([P.u32("instruction"),(0,Ds.u64)("lamports"),$.rustString("seed"),$.publicKey("programId")])},UpgradeNonceAccount:{index:12,layout:P.struct([P.u32("instruction")])}});var bt=class{constructor(){}static createAccount(e){let t=p.SYSTEM_INSTRUCTION_LAYOUTS.Create,n=(0,D.encodeData)(t,{lamports:e.lamports,space:e.space,programId:(0,je.toBuffer)(e.programId.toBuffer())});return new Fe.TransactionInstruction({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let t,n;if("basePubkey"in e){let i=p.SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed;t=(0,D.encodeData)(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:(0,je.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=p.SYSTEM_INSTRUCTION_LAYOUTS.Transfer;t=(0,D.encodeData)(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Fe.TransactionInstruction({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){let i=p.SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed;t=(0,D.encodeData)(i,{base:(0,je.toBuffer)(e.basePubkey.toBuffer()),seed:e.seed,programId:(0,je.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=p.SYSTEM_INSTRUCTION_LAYOUTS.Assign;t=(0,D.encodeData)(i,{programId:(0,je.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Fe.TransactionInstruction({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){let t=p.SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,n=(0,D.encodeData)(t,{base:(0,je.toBuffer)(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:(0,je.toBuffer)(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Fe.TransactionInstruction({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let t=new Fe.Transaction;"basePubkey"in e&&"seed"in e?t.add(bt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Ms.NONCE_ACCOUNT_LENGTH,programId:this.programId})):t.add(bt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Ms.NONCE_ACCOUNT_LENGTH,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){let t=p.SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,n=(0,D.encodeData)(t,{authorized:(0,je.toBuffer)(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:_r.SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:_r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Fe.TransactionInstruction(i)}static nonceAdvance(e){let t=p.SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,n=(0,D.encodeData)(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:_r.SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Fe.TransactionInstruction(i)}static nonceWithdraw(e){let t=p.SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,n=(0,D.encodeData)(t,{lamports:e.lamports});return new Fe.TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:_r.SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:_r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let t=p.SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,n=(0,D.encodeData)(t,{authorized:(0,je.toBuffer)(e.newAuthorizedPubkey.toBuffer())});return new Fe.TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let t,n;if("basePubkey"in e){let i=p.SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed;t=(0,D.encodeData)(i,{base:(0,je.toBuffer)(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:(0,je.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=p.SYSTEM_INSTRUCTION_LAYOUTS.Allocate;t=(0,D.encodeData)(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Fe.TransactionInstruction({keys:n,programId:this.programId,data:t})}};p.SystemProgram=bt;bt.programId=new ve.PublicKey("11111111111111111111111111111111")});var js=g(bn=>{"use strict";a();u();Object.defineProperty(bn,"__esModule",{value:!0});bn.decodeData=void 0;function Eu(r,e){let t;try{t=r.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(t.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${r.index}`);return t}bn.decodeData=Eu});var Vs=g(ke=>{"use strict";a();u();var Ku=ke&&ke.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Mu=ke&&ke.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Us=ke&&ke.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Ku(e,r,t);return Mu(e,r),e},Du=ke&&ke.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ke,"__esModule",{value:!0});ke.AddressLookupTableAccount=void 0;var He=Us(ue()),qs=Du(Tt()),Cs=Us(rt()),Rs=Pe(),Lu=cn(),ju=js(),Ns=56,ai=class{constructor(e){this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let t=(0,ju.decodeData)(qu,e),n=e.length-Ns;(0,qs.default)(n>=0,"lookup table is invalid"),(0,qs.default)(n%32===0,"lookup table is invalid");let i=n/32,{addresses:s}=He.struct([He.seq(Cs.publicKey(),i,"addresses")]).decode(e.slice(Ns));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new Rs.PublicKey(t.authority[0]):void 0,addresses:s.map(o=>new Rs.PublicKey(o))}}};ke.AddressLookupTableAccount=ai;var qu={index:1,layout:He.struct([He.u32("typeIndex"),(0,Lu.u64)("deactivationSlot"),He.nu64("lastExtendedSlot"),He.u8("lastExtendedStartIndex"),He.u8(),He.seq(Cs.publicKey(),He.offset(He.u8(),-1),"authority")])}});var Fs=g(K=>{"use strict";a();u();var Ys=K&&K.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ru=K&&K.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ci=K&&K.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Ys(e,r,t);return Ru(e,r),e},Nu=K&&K.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ys(e,r,t)};Object.defineProperty(K,"__esModule",{value:!0});K.AddressLookupTableProgram=K.AddressLookupTableInstruction=K.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=void 0;var Uu=qn(),J=ci(ue()),Cu=ci(rt()),di=Pe(),zs=ci(cn()),Ws=oi(),Sr=hn(),Ot=ti();Nu(Vs(),K);K.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Object.freeze({CreateLookupTable:{index:0,layout:J.struct([J.u32("instruction"),zs.u64("recentSlot"),J.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:J.struct([J.u32("instruction")])},ExtendLookupTable:{index:2,layout:J.struct([J.u32("instruction"),zs.u64(),J.seq(Cu.publicKey(),J.offset(J.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:J.struct([J.u32("instruction")])},CloseLookupTable:{index:4,layout:J.struct([J.u32("instruction")])}});var ui=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=J.u32("instruction").decode(e.data),i;for(let[s,o]of Object.entries(K.LOOKUP_TABLE_INSTRUCTION_LAYOUTS))if(o.index==n){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:t}=(0,Ot.decodeData)(K.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:t}=(0,Ot.decodeData)(K.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(n=>new di.PublicKey(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(wr.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};K.AddressLookupTableInstruction=ui;var wr=class{constructor(){}static createLookupTable(e){let[t,n]=di.PublicKey.findProgramAddressSync([e.authority.toBuffer(),(0,Uu.toBufferLE)(BigInt(e.recentSlot),8)],this.programId),i=K.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,s=(0,Ot.encodeData)(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ws.SystemProgram.programId,isSigner:!1,isWritable:!1}];return[new Sr.TransactionInstruction({programId:this.programId,keys:o,data:s}),t]}static freezeLookupTable(e){let t=K.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.FreezeLookupTable,n=(0,Ot.encodeData)(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Sr.TransactionInstruction({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let t=K.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,n=(0,Ot.encodeData)(t,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ws.SystemProgram.programId,isSigner:!1,isWritable:!1}),new Sr.TransactionInstruction({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let t=K.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.DeactivateLookupTable,n=(0,Ot.encodeData)(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Sr.TransactionInstruction({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let t=K.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CloseLookupTable,n=(0,Ot.encodeData)(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Sr.TransactionInstruction({programId:this.programId,keys:i,data:n})}};K.AddressLookupTableProgram=wr;wr.programId=new di.PublicKey("AddressLookupTab1e1111111111111111111111111")});var xs=g(pt=>{"use strict";a();u();var Vu=pt&&pt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Hs=pt&&pt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Vu(e,r,t)};Object.defineProperty(pt,"__esModule",{value:!0});Hs(Fs(),pt);Hs(oi(),pt)});var C=g(W=>{"use strict";a();u();var zu=W&&W.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ot=W&&W.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&zu(e,r,t)};Object.defineProperty(W,"__esModule",{value:!0});W.LAMPORTS_PER_SOL=void 0;ot(Gi(),W);ot(Vn(),W);ot(cs(),W);ot(on(),W);ot(ei(),W);ot(xs(),W);ot(Pe(),W);ot(hn(),W);ot(ri(),W);W.LAMPORTS_PER_SOL=1e9});var Ft=g(_t=>{"use strict";a();u();Object.defineProperty(_t,"__esModule",{value:!0});_t.NATIVE_MINT=_t.ASSOCIATED_TOKEN_PROGRAM_ID=_t.TOKEN_PROGRAM_ID=void 0;var li=C();_t.TOKEN_PROGRAM_ID=new li.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");_t.ASSOCIATED_TOKEN_PROGRAM_ID=new li.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");_t.NATIVE_MINT=new li.PublicKey("So11111111111111111111111111111111111111112")});var Pr=g(L=>{"use strict";a();u();Object.defineProperty(L,"__esModule",{value:!0});L.TokenInvalidInstructionTypeError=L.TokenInvalidInstructionDataError=L.TokenInvalidInstructionKeysError=L.TokenInvalidInstructionProgramError=L.TokenOwnerOffCurveError=L.TokenInvalidOwnerError=L.TokenInvalidMintError=L.TokenInvalidAccountSizeError=L.TokenInvalidAccountOwnerError=L.TokenAccountNotFoundError=L.TokenError=void 0;var ce=class extends Error{constructor(e){super(e)}};L.TokenError=ce;var fi=class extends ce{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}};L.TokenAccountNotFoundError=fi;var gi=class extends ce{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}};L.TokenInvalidAccountOwnerError=gi;var yi=class extends ce{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}};L.TokenInvalidAccountSizeError=yi;var hi=class extends ce{constructor(){super(...arguments),this.name="TokenInvalidMintError"}};L.TokenInvalidMintError=hi;var bi=class extends ce{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}};L.TokenInvalidOwnerError=bi;var pi=class extends ce{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}};L.TokenOwnerOffCurveError=pi;var _i=class extends ce{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}};L.TokenInvalidInstructionProgramError=_i;var Si=class extends ce{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}};L.TokenInvalidInstructionKeysError=Si;var wi=class extends ce{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}};L.TokenInvalidInstructionDataError=wi;var Pi=class extends ce{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}};L.TokenInvalidInstructionTypeError=Pi});var pn=g(Ir=>{"use strict";a();u();Object.defineProperty(Ir,"__esModule",{value:!0});Ir.TokenInstruction=void 0;var Wu;(function(r){r[r.InitializeMint=0]="InitializeMint",r[r.InitializeAccount=1]="InitializeAccount",r[r.InitializeMultisig=2]="InitializeMultisig",r[r.Transfer=3]="Transfer",r[r.Approve=4]="Approve",r[r.Revoke=5]="Revoke",r[r.SetAuthority=6]="SetAuthority",r[r.MintTo=7]="MintTo",r[r.Burn=8]="Burn",r[r.CloseAccount=9]="CloseAccount",r[r.FreezeAccount=10]="FreezeAccount",r[r.ThawAccount=11]="ThawAccount",r[r.TransferChecked=12]="TransferChecked",r[r.ApproveChecked=13]="ApproveChecked",r[r.MintToChecked=14]="MintToChecked",r[r.BurnChecked=15]="BurnChecked",r[r.InitializeAccount2=16]="InitializeAccount2",r[r.SyncNative=17]="SyncNative",r[r.InitializeAccount3=18]="InitializeAccount3",r[r.InitializeMultisig2=19]="InitializeMultisig2",r[r.InitializeMint2=20]="InitializeMint2"})(Wu=Ir.TokenInstruction||(Ir.TokenInstruction={}))});var Ii=g(_n=>{"use strict";a();u();Object.defineProperty(_n,"__esModule",{value:!0});_n.addSigners=void 0;function Yu(r,e,t){if(t.length){r.push({pubkey:e,isSigner:!1,isWritable:!1});for(let n of t)r.push({pubkey:n.publicKey,isSigner:!0,isWritable:!1})}else r.push({pubkey:e,isSigner:!0,isWritable:!1});return r}_n.addSigners=Yu});var Xs=g(re=>{"use strict";a();u();Object.defineProperty(re,"__esModule",{value:!0});re.decodeTransferInstructionUnchecked=re.decodeTransferInstruction=re.createTransferInstruction=re.transferInstructionData=void 0;var Ti=ue(),Fu=C(),Gs=Ft(),Sn=Pr(),Hu=Ii(),$s=pn();re.transferInstructionData=(0,Ti.struct)([(0,Ti.u8)("instruction"),(0,Ti.u64)("amount")]);function xu(r,e,t,n,i=[],s=Gs.TOKEN_PROGRAM_ID){let o=(0,Hu.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,i),d=f.Buffer.alloc(re.transferInstructionData.span);return re.transferInstructionData.encode({instruction:$s.TokenInstruction.Transfer,amount:BigInt(n)},d),new Fu.TransactionInstruction({keys:o,programId:s,data:d})}re.createTransferInstruction=xu;function Gu(r,e=Gs.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new Sn.TokenInvalidInstructionProgramError;if(r.data.length!==re.transferInstructionData.span)throw new Sn.TokenInvalidInstructionDataError;let{keys:{source:t,destination:n,owner:i,multiSigners:s},data:o}=Js(r);if(o.instruction!==$s.TokenInstruction.Transfer)throw new Sn.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new Sn.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:t,destination:n,owner:i,multiSigners:s},data:o}}re.decodeTransferInstruction=Gu;function Js({programId:r,keys:[e,t,n,...i],data:s}){return{programId:r,keys:{source:e,destination:t,owner:n,multiSigners:i},data:re.transferInstructionData.decode(s)}}re.decodeTransferInstructionUnchecked=Js});var to=g(ne=>{"use strict";a();u();Object.defineProperty(ne,"__esModule",{value:!0});ne.decodeTransferCheckedInstructionUnchecked=ne.decodeTransferCheckedInstruction=ne.createTransferCheckedInstruction=ne.transferCheckedInstructionData=void 0;var wn=ue(),$u=C(),Zs=Ft(),Pn=Pr(),Ju=Ii(),Qs=pn();ne.transferCheckedInstructionData=(0,wn.struct)([(0,wn.u8)("instruction"),(0,wn.u64)("amount"),(0,wn.u8)("decimals")]);function Xu(r,e,t,n,i,s,o=[],d=Zs.TOKEN_PROGRAM_ID){let l=(0,Ju.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0}],n,o),h=f.Buffer.alloc(ne.transferCheckedInstructionData.span);return ne.transferCheckedInstructionData.encode({instruction:Qs.TokenInstruction.TransferChecked,amount:BigInt(i),decimals:s},h),new $u.TransactionInstruction({keys:l,programId:d,data:h})}ne.createTransferCheckedInstruction=Xu;function Zu(r,e=Zs.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new Pn.TokenInvalidInstructionProgramError;if(r.data.length!==ne.transferCheckedInstructionData.span)throw new Pn.TokenInvalidInstructionDataError;let{keys:{source:t,mint:n,destination:i,owner:s,multiSigners:o},data:d}=eo(r);if(d.instruction!==Qs.TokenInstruction.TransferChecked)throw new Pn.TokenInvalidInstructionTypeError;if(!t||!n||!i||!s)throw new Pn.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:t,mint:n,destination:i,owner:s,multiSigners:o},data:d}}ne.decodeTransferCheckedInstruction=Zu;function eo({programId:r,keys:[e,t,n,i,...s],data:o}){return{programId:r,keys:{source:e,mint:t,destination:n,owner:i,multiSigners:s},data:ne.transferCheckedInstructionData.decode(o)}}ne.decodeTransferCheckedInstructionUnchecked=eo});var no=g(In=>{"use strict";a();u();Object.defineProperty(In,"__esModule",{value:!0});In.createAssociatedTokenAccountInstruction=void 0;var mi=C(),ro=Ft();function Qu(r,e,t,n,i=ro.TOKEN_PROGRAM_ID,s=ro.ASSOCIATED_TOKEN_PROGRAM_ID){let o=[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:mi.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:mi.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new mi.TransactionInstruction({keys:o,programId:s,data:f.Buffer.alloc(0)})}In.createAssociatedTokenAccountInstruction=Qu});var io=g(xe=>{"use strict";a();u();var ec=xe&&xe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Tn=xe&&xe.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ec(e,r,t)};Object.defineProperty(xe,"__esModule",{value:!0});Tn(pn(),xe);Tn(Xs(),xe);Tn(to(),xe);Tn(no(),xe)});var Ai=g(qe=>{"use strict";a();u();var tc=qe&&qe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Oi=qe&&qe.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&tc(e,r,t)};Object.defineProperty(qe,"__esModule",{value:!0});qe.getAssociatedTokenAddress=void 0;var so=C(),oo=Ft(),rc=Pr();Oi(io(),qe);Oi(Ft(),qe);Oi(Pr(),qe);async function nc(r,e,t=!1,n=oo.TOKEN_PROGRAM_ID,i=oo.ASSOCIATED_TOKEN_PROGRAM_ID){if(!t&&!so.PublicKey.isOnCurve(e.toBuffer()))throw new rc.TokenOwnerOffCurveError;let[s]=await so.PublicKey.findProgramAddress([e.toBuffer(),n.toBuffer(),r.toBuffer()],i);return s}qe.getAssociatedTokenAddress=nc});var On=g(mn=>{"use strict";a();u();Object.defineProperty(mn,"__esModule",{value:!0});mn.publicKey=void 0;var ic=C(),sc=oe(),vi=(0,sc.fixedSizeUint8Array)(32);mn.publicKey={write:function(r,e,t){let n=t.toBytes();vi.write(r,e,n)},read:function(r,e){let t=vi.read(r,e);return new ic.PublicKey(t)},byteSize:vi.byteSize,description:"PublicKey"}});var Bi=g(Ge=>{"use strict";a();u();var oc=Ge&&Ge.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ac=Ge&&Ge.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),uc=Ge&&Ge.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&oc(e,r,t);return ac(e,r),e};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.seedsVecBeet=void 0;var ki=uc(oe());Ge.seedsVecBeet=new ki.FixableBeetArgsStruct([["seeds",ki.array(ki.bytes)]],"SeedsVec")});var Ei=g($e=>{"use strict";a();u();var cc=$e&&$e.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),dc=$e&&$e.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),lc=$e&&$e.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&cc(e,r,t);return dc(e,r),e};Object.defineProperty($e,"__esModule",{value:!0});$e.leafInfoBeet=void 0;var Ht=lc(oe());$e.leafInfoBeet=new Ht.FixableBeetArgsStruct([["leaf",Ht.uniformFixedSizeArray(Ht.u8,32)],["proof",Ht.array(Ht.uniformFixedSizeArray(Ht.u8,32))]],"LeafInfo")});var Ki=g(V=>{"use strict";a();u();var fc=V&&V.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),gc=V&&V.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ao=V&&V.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&fc(e,r,t);return gc(e,r),e};Object.defineProperty(V,"__esModule",{value:!0});V.payloadTypeBeet=V.isPayloadTypeNumber=V.isPayloadTypeMerkleProof=V.isPayloadTypeSeeds=V.isPayloadTypePubkey=void 0;var Je=ao(oe()),yc=ao(On()),hc=Bi(),bc=Ei(),pc=r=>r.__kind==="Pubkey";V.isPayloadTypePubkey=pc;var _c=r=>r.__kind==="Seeds";V.isPayloadTypeSeeds=_c;var Sc=r=>r.__kind==="MerkleProof";V.isPayloadTypeMerkleProof=Sc;var wc=r=>r.__kind==="Number";V.isPayloadTypeNumber=wc;V.payloadTypeBeet=Je.dataEnum([["Pubkey",new Je.BeetArgsStruct([["fields",Je.fixedSizeTuple([yc.publicKey])]],'PayloadTypeRecord["Pubkey"]')],["Seeds",new Je.FixableBeetArgsStruct([["fields",Je.tuple([hc.seedsVecBeet])]],'PayloadTypeRecord["Seeds"]')],["MerkleProof",new Je.FixableBeetArgsStruct([["fields",Je.tuple([bc.leafInfoBeet])]],'PayloadTypeRecord["MerkleProof"]')],["Number",new Je.BeetArgsStruct([["fields",Je.fixedSizeTuple([Je.u64])]],'PayloadTypeRecord["Number"]')]])});var Di=g(Xe=>{"use strict";a();u();var Pc=Xe&&Xe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ic=Xe&&Xe.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Tc=Xe&&Xe.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Pc(e,r,t);return Ic(e,r),e};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.payloadBeet=void 0;var Mi=Tc(oe()),mc=Ki();Xe.payloadBeet=new Mi.FixableBeetArgsStruct([["map",Mi.map(Mi.utf8String,mc.payloadTypeBeet)]],"Payload")});var An=g(Ze=>{"use strict";a();u();var Oc=Ze&&Ze.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ac=Ze&&Ze.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),vc=Ze&&Ze.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Oc(e,r,t);return Ac(e,r),e};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.authorizationDataBeet=void 0;var kc=vc(oe()),Bc=Di();Ze.authorizationDataBeet=new kc.FixableBeetArgsStruct([["payload",Bc.payloadBeet]],"AuthorizationData")});var Li=g(Be=>{"use strict";a();u();var Ec=Be&&Be.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Kc=Be&&Be.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Mc=Be&&Be.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Ec(e,r,t);return Kc(e,r),e};Object.defineProperty(Be,"__esModule",{value:!0});Be.transferArgsBeet=Be.isTransferArgsV1=void 0;var vn=Mc(oe()),Dc=An(),Lc=r=>r.__kind==="V1";Be.isTransferArgsV1=Lc;Be.transferArgsBeet=vn.dataEnum([["V1",new vn.FixableBeetArgsStruct([["amount",vn.u64],["authorizationData",vn.coption(Dc.authorizationDataBeet)]],'TransferArgsRecord["V1"]')]])});var lo=g(x=>{"use strict";a();u();var jc=x&&x.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),qc=x&&x.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),co=x&&x.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&jc(e,r,t);return qc(e,r),e};Object.defineProperty(x,"__esModule",{value:!0});x.createTransferInstruction=x.transferInstructionDiscriminator=x.TransferStruct=void 0;var uo=co(oe()),ji=co(C()),Rc=Li();x.TransferStruct=new uo.FixableBeetArgsStruct([["instructionDiscriminator",uo.u8],["transferArgs",Rc.transferArgsBeet]],"TransferInstructionArgs");x.transferInstructionDiscriminator=49;function Nc(r,e,t=new ji.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var o,d,l,h,M,_;let[n]=x.TransferStruct.serialize({instructionDiscriminator:x.transferInstructionDiscriminator,...e}),i=[{pubkey:r.token,isWritable:!0,isSigner:!1},{pubkey:r.tokenOwner,isWritable:!1,isSigner:!1},{pubkey:r.destination,isWritable:!0,isSigner:!1},{pubkey:r.destinationOwner,isWritable:!1,isSigner:!1},{pubkey:r.mint,isWritable:!1,isSigner:!1},{pubkey:r.metadata,isWritable:!0,isSigner:!1},{pubkey:(o=r.edition)!=null?o:t,isWritable:!1,isSigner:!1},{pubkey:(d=r.ownerTokenRecord)!=null?d:t,isWritable:r.ownerTokenRecord!=null,isSigner:!1},{pubkey:(l=r.destinationTokenRecord)!=null?l:t,isWritable:r.destinationTokenRecord!=null,isSigner:!1},{pubkey:r.authority,isWritable:!1,isSigner:!0},{pubkey:r.payer,isWritable:!0,isSigner:!0},{pubkey:(h=r.systemProgram)!=null?h:ji.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:r.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:r.splTokenProgram,isWritable:!1,isSigner:!1},{pubkey:r.splAtaProgram,isWritable:!1,isSigner:!1},{pubkey:(M=r.authorizationRulesProgram)!=null?M:t,isWritable:!1,isSigner:!1},{pubkey:(_=r.authorizationRules)!=null?_:t,isWritable:!1,isSigner:!1}];return new ji.TransactionInstruction({programId:t,keys:i,data:n})}x.createTransferInstruction=Nc});var fo=g(At=>{"use strict";a();u();var Uc=At&&At.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Cc=At&&At.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Uc(e,r,t)};Object.defineProperty(At,"__esModule",{value:!0});Cc(lo(),At)});var yo=g(de=>{"use strict";a();u();var Vc=de&&de.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),zc=de&&de.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Wc=de&&de.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Vc(e,r,t);return zc(e,r),e};Object.defineProperty(de,"__esModule",{value:!0});de.authorityTypeBeet=de.AuthorityType=void 0;var Yc=Wc(oe()),go;(function(r){r[r.None=0]="None",r[r.Metadata=1]="Metadata",r[r.Holder=2]="Holder",r[r.MetadataDelegate=3]="MetadataDelegate",r[r.TokenDelegate=4]="TokenDelegate"})(go=de.AuthorityType||(de.AuthorityType={}));de.authorityTypeBeet=Yc.fixedScalarEnum(go)});var bo=g(S=>{"use strict";a();u();var Fc=S&&S.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Hc=S&&S.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ho=S&&S.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Fc(e,r,t);return Hc(e,r),e};Object.defineProperty(S,"__esModule",{value:!0});S.delegateArgsBeet=S.isDelegateArgsProgrammableConfigItemV1=S.isDelegateArgsCollectionItemV1=S.isDelegateArgsDataItemV1=S.isDelegateArgsAuthorityItemV1=S.isDelegateArgsProgrammableConfigV1=S.isDelegateArgsLockedTransferV1=S.isDelegateArgsStandardV1=S.isDelegateArgsStakingV1=S.isDelegateArgsUtilityV1=S.isDelegateArgsDataV1=S.isDelegateArgsTransferV1=S.isDelegateArgsSaleV1=S.isDelegateArgsCollectionV1=void 0;var m=ho(oe()),xc=ho(On()),Ee=An(),Gc=r=>r.__kind==="CollectionV1";S.isDelegateArgsCollectionV1=Gc;var $c=r=>r.__kind==="SaleV1";S.isDelegateArgsSaleV1=$c;var Jc=r=>r.__kind==="TransferV1";S.isDelegateArgsTransferV1=Jc;var Xc=r=>r.__kind==="DataV1";S.isDelegateArgsDataV1=Xc;var Zc=r=>r.__kind==="UtilityV1";S.isDelegateArgsUtilityV1=Zc;var Qc=r=>r.__kind==="StakingV1";S.isDelegateArgsStakingV1=Qc;var ed=r=>r.__kind==="StandardV1";S.isDelegateArgsStandardV1=ed;var td=r=>r.__kind==="LockedTransferV1";S.isDelegateArgsLockedTransferV1=td;var rd=r=>r.__kind==="ProgrammableConfigV1";S.isDelegateArgsProgrammableConfigV1=rd;var nd=r=>r.__kind==="AuthorityItemV1";S.isDelegateArgsAuthorityItemV1=nd;var id=r=>r.__kind==="DataItemV1";S.isDelegateArgsDataItemV1=id;var sd=r=>r.__kind==="CollectionItemV1";S.isDelegateArgsCollectionItemV1=sd;var od=r=>r.__kind==="ProgrammableConfigItemV1";S.isDelegateArgsProgrammableConfigItemV1=od;S.delegateArgsBeet=m.dataEnum([["CollectionV1",new m.FixableBeetArgsStruct([["authorizationData",m.coption(Ee.authorizationDataBeet)]],'DelegateArgsRecord["CollectionV1"]')],["SaleV1",new m.FixableBeetArgsStruct([["amount",m.u64],["authorizationData",m.coption(Ee.authorizationDataBeet)]],'DelegateArgsRecord["SaleV1"]')],["TransferV1",new m.FixableBeetArgsStruct([["amount",m.u64],["authorizationData",m.coption(Ee.authorizationDataBeet)]],'DelegateArgsRecord["TransferV1"]')],["DataV1",new m.FixableBeetArgsStruct([["authorizationData",m.coption(Ee.authorizationDataBeet)]],'DelegateArgsRecord["DataV1"]')],["UtilityV1",new m.FixableBeetArgsStruct([["amount",m.u64],["authorizationData",m.coption(Ee.authorizationDataBeet)]],'DelegateArgsRecord["UtilityV1"]')],["StakingV1",new m.FixableBeetArgsStruct([["amount",m.u64],["authorizationData",m.coption(Ee.authorizationDataBeet)]],'DelegateArgsRecord["StakingV1"]')],["StandardV1",new m.BeetArgsStruct([["amount",m.u64]],'DelegateArgsRecord["StandardV1"]')],["LockedTransferV1",new m.FixableBeetArgsStruct([["amount",m.u64],["lockedAddress",xc.publicKey],["authorizationData",m.coption(Ee.authorizationDataBeet)]],'DelegateArgsRecord["LockedTransferV1"]')],["ProgrammableConfigV1",new m.FixableBeetArgsStruct([["authorizationData",m.coption(Ee.authorizationDataBeet)]],'DelegateArgsRecord["ProgrammableConfigV1"]')],["AuthorityItemV1",new m.FixableBeetArgsStruct([["authorizationData",m.coption(Ee.authorizationDataBeet)]],'DelegateArgsRecord["AuthorityItemV1"]')],["DataItemV1",new m.FixableBeetArgsStruct([["authorizationData",m.coption(Ee.authorizationDataBeet)]],'DelegateArgsRecord["DataItemV1"]')],["CollectionItemV1",new m.FixableBeetArgsStruct([["authorizationData",m.coption(Ee.authorizationDataBeet)]],'DelegateArgsRecord["CollectionItemV1"]')],["ProgrammableConfigItemV1",new m.FixableBeetArgsStruct([["authorizationData",m.coption(Ee.authorizationDataBeet)]],'DelegateArgsRecord["ProgrammableConfigItemV1"]')]])});var _o=g(le=>{"use strict";a();u();var ad=le&&le.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ud=le&&le.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),cd=le&&le.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ad(e,r,t);return ud(e,r),e};Object.defineProperty(le,"__esModule",{value:!0});le.metadataDelegateRoleBeet=le.MetadataDelegateRole=void 0;var dd=cd(oe()),po;(function(r){r[r.AuthorityItem=0]="AuthorityItem",r[r.Collection=1]="Collection",r[r.Use=2]="Use",r[r.Data=3]="Data",r[r.ProgrammableConfig=4]="ProgrammableConfig",r[r.DataItem=5]="DataItem",r[r.CollectionItem=6]="CollectionItem",r[r.ProgrammableConfigItem=7]="ProgrammableConfigItem"})(po=le.MetadataDelegateRole||(le.MetadataDelegateRole={}));le.metadataDelegateRoleBeet=dd.fixedScalarEnum(po)});var wo=g(fe=>{"use strict";a();u();var ld=fe&&fe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),fd=fe&&fe.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),gd=fe&&fe.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ld(e,r,t);return fd(e,r),e};Object.defineProperty(fe,"__esModule",{value:!0});fe.tokenDelegateRoleBeet=fe.TokenDelegateRole=void 0;var yd=gd(oe()),So;(function(r){r[r.Sale=0]="Sale",r[r.Transfer=1]="Transfer",r[r.Utility=2]="Utility",r[r.Staking=3]="Staking",r[r.Standard=4]="Standard",r[r.LockedTransfer=5]="LockedTransfer",r[r.Migration=6]="Migration"})(So=fe.TokenDelegateRole||(fe.TokenDelegateRole={}));fe.tokenDelegateRoleBeet=yd.fixedScalarEnum(So)});var Io=g(ge=>{"use strict";a();u();var hd=ge&&ge.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),bd=ge&&ge.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),pd=ge&&ge.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&hd(e,r,t);return bd(e,r),e};Object.defineProperty(ge,"__esModule",{value:!0});ge.tokenStandardBeet=ge.TokenStandard=void 0;var _d=pd(oe()),Po;(function(r){r[r.NonFungible=0]="NonFungible",r[r.FungibleAsset=1]="FungibleAsset",r[r.Fungible=2]="Fungible",r[r.NonFungibleEdition=3]="NonFungibleEdition",r[r.ProgrammableNonFungible=4]="ProgrammableNonFungible"})(Po=ge.TokenStandard||(ge.TokenStandard={}));ge.tokenStandardBeet=_d.fixedScalarEnum(Po)});var To=g(Y=>{"use strict";a();u();var Sd=Y&&Y.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Re=Y&&Y.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Sd(e,r,t)};Object.defineProperty(Y,"__esModule",{value:!0});Re(yo(),Y);Re(An(),Y);Re(bo(),Y);Re(Ei(),Y);Re(_o(),Y);Re(Di(),Y);Re(Ki(),Y);Re(Bi(),Y);Re(wo(),Y);Re(Io(),Y);Re(Li(),Y)});var St=g(ye=>{"use strict";a();u();var wd=ye&&ye.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),mo=ye&&ye.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&wd(e,r,t)};Object.defineProperty(ye,"__esModule",{value:!0});ye.PROGRAM_ID=ye.PROGRAM_ADDRESS=void 0;var Pd=C();mo(fo(),ye);mo(To(),ye);ye.PROGRAM_ADDRESS="metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s";ye.PROGRAM_ID=new Pd.PublicKey(ye.PROGRAM_ADDRESS)});var qi=g(at=>{"use strict";a();u();Object.defineProperty(at,"__esModule",{value:!0});at.isBigNumber=at.toOptionBigNumber=at.toBigNumber=void 0;var Id=pe(),Td=(r,e)=>new Id.BN(r,e);at.toBigNumber=Td;var md=r=>r===null?null:(0,at.toBigNumber)(r);at.toOptionBigNumber=md;var Od=r=>(r==null?void 0:r.__opaque__)==="BigNumber";at.isBigNumber=Od});var Ao=g(kn=>{"use strict";a();u();Object.defineProperty(kn,"__esModule",{value:!0});kn.token=void 0;var Oo=qi(),Ad=(r,e=0,t="Token")=>(typeof r!="number"&&(r=(0,Oo.toBigNumber)(r).toNumber()),{basisPoints:(0,Oo.toBigNumber)(r*Math.pow(10,e)),currency:{symbol:t,decimals:e,namespace:"spl-token"}});kn.token=Ad});var ko=g(Bn=>{"use strict";a();u();Object.defineProperty(Bn,"__esModule",{value:!0});Bn.Pda=void 0;var vo=C(),Tr=class extends vo.PublicKey{constructor(e,t){super(e),this.bump=t}static find(e,t){let[n,i]=vo.PublicKey.findProgramAddressSync(t,e);return new Tr(n,i)}};Bn.Pda=Tr});var Eo=g(Qe=>{"use strict";a();u();Object.defineProperty(Qe,"__esModule",{value:!0});Qe.systemProgram=Qe.associatedTokenProgram=Qe.tokenProgram=Qe.tokenMetadataProgram=void 0;var vd=C(),kd=St(),Bo=Ai();Qe.tokenMetadataProgram={name:"TokenMetadataProgram",address:kd.PROGRAM_ID};Qe.tokenProgram={name:"TokenProgram",address:Bo.TOKEN_PROGRAM_ID};Qe.associatedTokenProgram={name:"AssociatedTokenProgram",address:Bo.ASSOCIATED_TOKEN_PROGRAM_ID};Qe.systemProgram={name:"SystemProgram",address:vd.SystemProgram.programId}});var Ko=g(xt=>{"use strict";a();u();Object.defineProperty(xt,"__esModule",{value:!0});xt.toPublicKey=xt.PublicKey=void 0;var Bd=C(),Ed=C();Object.defineProperty(xt,"PublicKey",{enumerable:!0,get:function(){return Ed.PublicKey}});var Kd=r=>typeof r=="object"&&"publicKey"in r?r.publicKey:typeof r=="object"&&"address"in r?r.address:new Bd.PublicKey(r);xt.toPublicKey=Kd});var Mo=g(X=>{"use strict";a();u();Object.defineProperty(X,"__esModule",{value:!0});X.getSignerHistogram=X.isIdentitySigner=X.isKeypairSigner=X.isSigner=void 0;var Md=r=>typeof r=="object"&&"publicKey"in r&&("secretKey"in r||"signTransaction"in r);X.isSigner=Md;var Dd=r=>(0,X.isSigner)(r)&&"secretKey"in r&&r.secretKey!=null;X.isKeypairSigner=Dd;var Ld=r=>(0,X.isSigner)(r)&&!(0,X.isKeypairSigner)(r);X.isIdentitySigner=Ld;var jd=r=>r.reduce((e,t)=>{var d;let n=e.all.findIndex(({publicKey:l})=>l.equals(t.publicKey)),i=(d=e.all[n])!=null?d:null,s=i?(0,X.isIdentitySigner)(i):!1,o=(0,X.isIdentitySigner)(t);if(!i)e.all.push(t),o?e.identities.push(t):e.keypairs.push(t);else if(s&&!o){let l=e.identities.findIndex(({publicKey:h})=>h.equals(t.publicKey));e.all.splice(n,1),e.identities.splice(l,1),e.all.push(t),e.keypairs.push(t)}return e},{all:[],keypairs:[],identities:[]});X.getSignerHistogram=jd});var $t=g(Ke=>{"use strict";a();u();var qd=Ke&&Ke.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Gt=Ke&&Ke.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&qd(e,r,t)};Object.defineProperty(Ke,"__esModule",{value:!0});Gt(Ao(),Ke);Gt(qi(),Ke);Gt(ko(),Ke);Gt(Eo(),Ke);Gt(Ko(),Ke);Gt(Mo(),Ke)});var Do=g(Ne=>{"use strict";a();u();Object.defineProperty(Ne,"__esModule",{value:!0});Ne.getDefaultDelegateArgs=Ne.getMetadataDelegateRoleSeed=Ne.getMetadataDelegateRole=Ne.getTokenDelegateRole=void 0;var F=St(),Rd={StandardV1:F.TokenDelegateRole.Standard,TransferV1:F.TokenDelegateRole.Transfer,LockedTransferV1:F.TokenDelegateRole.LockedTransfer,SaleV1:F.TokenDelegateRole.Sale,UtilityV1:F.TokenDelegateRole.Utility,StakingV1:F.TokenDelegateRole.Staking},Nd={CollectionV1:F.MetadataDelegateRole.Collection,DataV1:F.MetadataDelegateRole.Data,ProgrammableConfigV1:F.MetadataDelegateRole.ProgrammableConfig},Ud={[F.MetadataDelegateRole.AuthorityItem]:"authority_item_delegate",[F.MetadataDelegateRole.Collection]:"collection_delegate",[F.MetadataDelegateRole.Use]:"use_delegate",[F.MetadataDelegateRole.Data]:"data_delegate",[F.MetadataDelegateRole.ProgrammableConfig]:"programmable_config_delegate",[F.MetadataDelegateRole.DataItem]:"data_item_delegate",[F.MetadataDelegateRole.CollectionItem]:"collection_item_delegate",[F.MetadataDelegateRole.ProgrammableConfigItem]:"prog_config_item_delegate"},Cd={CollectionV1:!1,DataV1:!1,ProgrammableConfigV1:!1,StandardV1:!0,TransferV1:!0,SaleV1:!0,UtilityV1:!0,StakingV1:!0,LockedTransferV1:!0},Vd=r=>{let e=Rd[r];if(!e)throw new Error(`UnreachableCaseError: ${r}`);return e};Ne.getTokenDelegateRole=Vd;var zd=r=>{let e=Nd[r];if(!e)throw new Error(`UnreachableCaseError: ${r}`);return e};Ne.getMetadataDelegateRole=zd;var Wd=r=>Ud[(0,Ne.getMetadataDelegateRole)(r)];Ne.getMetadataDelegateRoleSeed=Wd;var Yd=r=>{let e=Cd[r];if(e===void 0)throw new Error(`UnreachableCaseError: ${r}`);if(e)throw new Error(`DelegateRoleRequiredDataError: ${r}`);return{__kind:r}};Ne.getDefaultDelegateArgs=Yd});var Ri=g(Me=>{"use strict";a();u();Object.defineProperty(Me,"__esModule",{value:!0});Me.getMetadataDelegateRecord=Me.getTokenRecord=Me.getAssociatedTokenAccount=Me.getMasterEdition=Me.getMetadata=void 0;var kt=be(),En=St(),vt=$t(),Fd=Do(),Hd=r=>{let e=En.PROGRAM_ID;return vt.Pda.find(e,[kt.Buffer.from("metadata","utf8"),e.toBuffer(),r.toBuffer()])};Me.getMetadata=Hd;var xd=r=>{let e=En.PROGRAM_ID;return vt.Pda.find(e,[kt.Buffer.from("metadata","utf8"),e.toBuffer(),r.toBuffer(),kt.Buffer.from("edition","utf8")])};Me.getMasterEdition=xd;var Gd=r=>vt.Pda.find(vt.associatedTokenProgram.address,[r.owner.toBuffer(),vt.tokenProgram.address.toBuffer(),r.mint.toBuffer()]);Me.getAssociatedTokenAccount=Gd;var $d=r=>{let e=En.PROGRAM_ID;return vt.Pda.find(e,[kt.Buffer.from("metadata","utf8"),e.toBuffer(),r.mint.toBuffer(),kt.Buffer.from("token_record","utf8"),r.token.toBuffer()])};Me.getTokenRecord=$d;var Jd=r=>{let e=En.PROGRAM_ID;return vt.Pda.find(e,[kt.Buffer.from("metadata","utf8"),e.toBuffer(),r.mint.toBuffer(),kt.Buffer.from((0,Fd.getMetadataDelegateRoleSeed)(r.type),"utf8"),r.updateAuthority.toBuffer(),r.delegate.toBuffer()])};Me.getMetadataDelegateRecord=Jd});var Lo=g(Kn=>{"use strict";a();u();Object.defineProperty(Kn,"__esModule",{value:!0});Kn.parseTokenMetadataDelegateInput=void 0;var Xd=$t(),Ni=Ri(),Zd=(r,e,t)=>{var i;if("updateAuthority"in e)return{isTokenDelegate:!1,delegate:e.delegate,approver:e.updateAuthority,delegateRecord:(0,Ni.getMetadataDelegateRecord)({mint:r,type:e.type,updateAuthority:e.updateAuthority,delegate:(0,Xd.isSigner)(e.delegate)?e.delegate.publicKey:e.delegate,programs:t})};let n=(i=e.token)!=null?i:(0,Ni.getAssociatedTokenAccount)({mint:r,owner:e.owner,programs:t});return{isTokenDelegate:!0,delegate:e.delegate,approver:e.owner,delegateRecord:(0,Ni.getTokenRecord)({mint:r,token:n,programs:t}),tokenAccount:n}};Kn.parseTokenMetadataDelegateInput=Zd});var qo=g(Jt=>{"use strict";a();u();Object.defineProperty(Jt,"__esModule",{value:!0});Jt.getSignerFromTokenMetadataAuthority=Jt.parseTokenMetadataAuthorization=void 0;var Mn=St(),jo=Lo(),Qd=r=>{var t,n,i,s;let e={accounts:{authorizationRules:(n=(t=r.authorizationDetails)==null?void 0:t.rules)!=null?n:null},signers:[],data:{authorizationData:(s=(i=r.authorizationDetails)==null?void 0:i.data)!=null?s:null}};if(r.authority.__kind==="metadata")e.accounts.authority=r.authority.updateAuthority.publicKey,e.accounts.token=r.authority.token,e.signers.push(r.authority.updateAuthority),e.data.authorityType=Mn.AuthorityType.Metadata;else if(r.authority.__kind==="metadataDelegate"){let{delegateRecord:o,approver:d}=(0,jo.parseTokenMetadataDelegateInput)(r.mint,r.authority,r.programs);e.accounts.authority=r.authority.delegate.publicKey,e.accounts.delegateRecord=o,e.accounts.approver=d,e.signers.push(r.authority.delegate),e.data.authorityType=Mn.AuthorityType.MetadataDelegate}else if(r.authority.__kind==="tokenDelegate"){let{delegateRecord:o,approver:d,tokenAccount:l}=(0,jo.parseTokenMetadataDelegateInput)(r.mint,r.authority,r.programs);e.accounts.authority=r.authority.delegate.publicKey,e.accounts.token=l,e.accounts.delegateRecord=o,e.accounts.approver=d,e.signers.push(r.authority.delegate),e.data.authorityType=Mn.AuthorityType.TokenDelegate}else if(r.authority.__kind==="holder")e.accounts.authority=r.authority.owner.publicKey,e.accounts.token=r.authority.token,e.signers.push(r.authority.owner),e.data.authorityType=Mn.AuthorityType.Holder;else throw new Error(`UnreachableCaseError: ${r.authority.__kind}`);return e};Jt.parseTokenMetadataAuthorization=Qd;var el=r=>{if(!("__kind"in r))return r;switch(r.__kind){case"metadata":return r.updateAuthority;case"metadataDelegate":case"tokenDelegate":return r.delegate;case"holder":return r.owner;default:throw new Error(`UnreachableCaseError: ${r.__kind}`)}};Jt.getSignerFromTokenMetadataAuthority=el});var Ro=g(Xt=>{"use strict";a();u();Object.defineProperty(Xt,"__esModule",{value:!0});Xt.getSignedTransaction=Xt.TransactionBuilder=void 0;var tl=C(),rl=$t(),nl=pe(),ut=class{constructor(e={}){this.records=[],this.feePayer=void 0,this.context={},this.transactionOptions=e}static make(e){return new ut(e)}prepend(...e){let t=e.flatMap(n=>n instanceof ut?n.getInstructionsWithSigners():[n]);return this.records=[...t,...this.records],this}append(...e){let t=e.flatMap(n=>n instanceof ut?n.getInstructionsWithSigners():[n]);return this.records=[...this.records,...t],this}add(...e){return this.append(...e)}splitUsingKey(e,t=!0){let n=new ut(this.transactionOptions),i=new ut(this.transactionOptions),s=this.records.findIndex(o=>o.key===e);return s>-1?(s+=t?1:0,n.add(...this.records.slice(0,s)),i.add(...this.records.slice(s))):n.add(this),[n,i]}splitBeforeKey(e){return this.splitUsingKey(e,!1)}splitAfterKey(e){return this.splitUsingKey(e,!0)}getInstructionsWithSigners(){return this.records}getInstructions(){return this.records.map(e=>e.instruction)}getInstructionCount(){return this.records.length}isEmpty(){return this.getInstructionCount()===0}getSigners(){let e=this.feePayer==null?[]:[this.feePayer],t=this.records.flatMap(n=>n.signers);return[...e,...t]}setTransactionOptions(e){return this.transactionOptions=e,this}getTransactionOptions(){return this.transactionOptions}setFeePayer(e){return this.feePayer=e,this}getFeePayer(){return this.feePayer}setContext(e){return this.context=e,this}getContext(){return this.context}when(e,t){return e?t(this):this}unless(e,t){return this.when(!e,t)}toTransaction(e,t={}){var i;t={...this.getTransactionOptions(),...t};let n=new tl.Transaction({feePayer:(i=this.getFeePayer())==null?void 0:i.publicKey,signatures:t.signatures,blockhash:e.blockhash,lastValidBlockHeight:e.lastValidBlockHeight});return n.add(...this.getInstructions()),n}};Xt.TransactionBuilder=ut;function il(r,e,t){return!("records"in r)&&r.recentBlockhash&&r.lastValidBlockHeight&&(t={blockhash:r.recentBlockhash,lastValidBlockHeight:r.lastValidBlockHeight}),"records"in r&&(e=[...r.getSigners(),...e],r=r.toTransaction(t)),{transaction:r,signers:e,blockhashWithExpiryBlockHeight:t}}function sl(r,e){let{keypairs:t}=(0,rl.getSignerHistogram)(e);return t.length>0&&r.partialSign(...t),r}function ol(r,e=[],t){let n=il(r,e,t);return r=n.transaction,e=n.signers,r=sl(r,e),nl.base.toBase58(r.serialize())}Xt.getSignedTransaction=ol});var Uo=g(No=>{"use strict";a();u();Object.defineProperty(No,"__esModule",{value:!0})});var Ui=g(wt=>{"use strict";a();u();var al=wt&&wt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Co=wt&&wt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&al(e,r,t)};Object.defineProperty(wt,"__esModule",{value:!0});Co(Ro(),wt);Co(Uo(),wt)});var Vo=g(Zt=>{"use strict";a();u();Object.defineProperty(Zt,"__esModule",{value:!0});Zt.isProgrammable=Zt.isNonFungible=void 0;var Dn=St(),ul=r=>r.tokenStandard===null||r.tokenStandard===Dn.TokenStandard.NonFungible||r.tokenStandard===Dn.TokenStandard.NonFungibleEdition||r.tokenStandard===Dn.TokenStandard.ProgrammableNonFungible;Zt.isNonFungible=ul;var cl=r=>r.tokenStandard===Dn.TokenStandard.ProgrammableNonFungible;Zt.isProgrammable=cl});var zo=g(Bt=>{"use strict";a();u();var dl=Bt&&Bt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ll=Bt&&Bt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&dl(e,r,t)};Object.defineProperty(Bt,"__esModule",{value:!0});ll(Vo(),Bt)});var Fo=g(Ln=>{"use strict";a();u();Object.defineProperty(Ln,"__esModule",{value:!0});Ln.transferNftBuilder=void 0;var fl=St(),Yo=C(),mr=$t(),Qt=Ri(),Wo=qo(),gl=Ui(),Ci=zo(),yl=new Yo.PublicKey("auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),hl=(r,e,t)=>{var w,I,G,ct;let{nftOrSft:n,authority:i,toOwner:s,amount:o=(0,mr.token)(1),authorizationDetails:d}=r,l=(w=r.fromOwner)!=null?w:(0,Wo.getSignerFromTokenMetadataAuthority)(i).publicKey,h=(0,Qt.getMetadata)(n.address),M=(0,Qt.getMasterEdition)(n.address),_=(I=r.fromToken)!=null?I:(0,Qt.getAssociatedTokenAccount)({mint:n.address,owner:l}),j=(G=r.toToken)!=null?G:(0,Qt.getAssociatedTokenAccount)({mint:n.address,owner:s}),q=(0,Qt.getTokenRecord)({mint:n.address,token:_}),B=(0,Qt.getTokenRecord)({mint:n.address,token:j}),y=(0,Wo.parseTokenMetadataAuthorization)({mint:n.address,authority:"__kind"in i?i:{__kind:"holder",owner:i,token:_},authorizationDetails:d,programs:t});return gl.TransactionBuilder.make().setFeePayer(e).add({instruction:(0,fl.createTransferInstruction)({token:_,tokenOwner:l,destination:j,destinationOwner:s,mint:n.address,metadata:h,edition:(0,Ci.isNonFungible)(n)?M:void 0,ownerTokenRecord:(0,Ci.isProgrammable)(n)?q:void 0,destinationTokenRecord:(0,Ci.isProgrammable)(n)?B:void 0,authority:y.accounts.authority,payer:e.publicKey,systemProgram:mr.systemProgram.address,sysvarInstructions:Yo.SYSVAR_INSTRUCTIONS_PUBKEY,splTokenProgram:mr.tokenProgram.address,splAtaProgram:mr.associatedTokenProgram.address,authorizationRules:y.accounts.authorizationRules,authorizationRulesProgram:yl},{transferArgs:{__kind:"V1",amount:o.basisPoints,...y.data}},mr.tokenMetadataProgram.address),signers:[e,...y.signers],key:(ct=r.instructionKey)!=null?ct:"transferNft"})};Ln.transferNftBuilder=hl});var Vi=g(Ue=>{"use strict";a();u();var bl=Ue&&Ue.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Or=Ue&&Ue.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&bl(e,r,t)};Object.defineProperty(Ue,"__esModule",{value:!0});Or(On(),Ue);Or(St(),Ue);Or(Fo(),Ue);Or(Ui(),Ue);Or($t(),Ue)});var Wi=g(ie=>{"use strict";a();u();var pl=ie&&ie.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_l=ie&&ie.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),zi=ie&&ie.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&pl(e,r,t);return _l(e,r),e};Object.defineProperty(ie,"__esModule",{value:!0});ie.metaplex=ie.web3=ie.spl=void 0;ie.spl=zi(Ai());ie.web3=zi(C());ie.metaplex=zi(Vi())});var Ho=g(k=>{"use strict";a();u();Object.defineProperty(k,"__esModule",{value:!0});k.validSignedTransaction=k.signMplTransaction=k.createAndSignVersionedTransaction=k.signTokenTransferVersionedTransaction=k.signTransferVersionedTransaction=k.getHardwareTransaction=k.signMessage=k.appendTokenTransferInstruction=k.appendTransferInstruction=k.signTransaction=k.appendInstruction=k.createRawTransaction=k.validAddress=k.getNewAddress=void 0;var N=pe(),b=Wi(),Ce=C(),Yi=Vi();function Sl(r){let e=N.signUtil.ed25519.publicKeyCreate(N.base.fromBase58(r));return N.base.toBase58(e)}k.getNewAddress=Sl;function wl(r){try{return N.base.fromBase58(r).length==32}catch{return!1}}k.validAddress=wl;function Pl(r,e){return new b.web3.Transaction({feePayer:new b.web3.PublicKey(r),blockhash:e,lastValidBlockHeight:0})}k.createRawTransaction=Pl;async function Il(r,...e){r.add(...e)}k.appendInstruction=Il;async function Tl(r,...e){let t=[];return e.forEach(n=>{t.push(b.web3.Keypair.fromSecretKey(N.base.fromBase58(n)))}),r.sign(...t),r.signature?Promise.resolve(N.base.toBase58(r.serialize())):Promise.reject("sign error")}k.signTransaction=Tl;async function ml(r,e,t,n){r.add(b.web3.SystemProgram.transfer({fromPubkey:new b.web3.PublicKey(e),toPubkey:new b.web3.PublicKey(t),lamports:n}))}k.appendTransferInstruction=ml;async function Ol(r,e,t,n,i,s){let o=await b.spl.getAssociatedTokenAddress(new b.web3.PublicKey(n),new b.web3.PublicKey(e)),d=await b.spl.getAssociatedTokenAddress(new b.web3.PublicKey(n),new b.web3.PublicKey(t));s&&r.add(b.spl.createAssociatedTokenAccountInstruction(new b.web3.PublicKey(e),new b.web3.PublicKey(d),new b.web3.PublicKey(t),new b.web3.PublicKey(n))),r.add(b.spl.createTransferInstruction(new b.web3.PublicKey(o),new b.web3.PublicKey(d),new b.web3.PublicKey(e),i))}k.appendTokenTransferInstruction=Ol;async function Al(r,e){let t=N.base.fromBase58(r),n=N.signUtil.ed25519.sign(t,N.base.fromBase58(e));return Promise.resolve(N.base.toBase58(n))}k.signMessage=Al;async function vl(r,e,t){let n=b.web3.Transaction.from(N.base.fromHex(r));return n.addSignature(new Ce.PublicKey(e),N.base.fromHex(t)),n.signature?Promise.resolve(N.base.toBase58(n.serialize())):Promise.reject("getHardwareTransaction error")}k.getHardwareTransaction=vl;async function kl(r,...e){let t=[b.web3.SystemProgram.transfer({fromPubkey:new b.web3.PublicKey(r.from),toPubkey:new b.web3.PublicKey(r.to),lamports:r.amount})];return Fi(r.payer,r.blockHash,t,e)}k.signTransferVersionedTransaction=kl;async function Bl(r,...e){let t=await b.spl.getAssociatedTokenAddress(new b.web3.PublicKey(r.mint),new b.web3.PublicKey(r.from)),n=await b.spl.getAssociatedTokenAddress(new b.web3.PublicKey(r.mint),new b.web3.PublicKey(r.to)),i=[];return r.createAssociatedAddress&&i.push(b.spl.createAssociatedTokenAccountInstruction(new b.web3.PublicKey(r.from),new b.web3.PublicKey(n),new b.web3.PublicKey(r.to),new b.web3.PublicKey(r.mint))),i.push(b.spl.createTransferInstruction(new b.web3.PublicKey(t),new b.web3.PublicKey(n),new b.web3.PublicKey(r.from),r.amount)),Fi(r.payer,r.blockHash,i,e)}k.signTokenTransferVersionedTransaction=Bl;async function Fi(r,e,t,n){let i=new Ce.TransactionMessage({payerKey:new Ce.PublicKey(r),recentBlockhash:e,instructions:t}).compileToV0Message(),s=new Ce.VersionedTransaction(i),o=[];return n.forEach(d=>{let l=Ce.Keypair.fromSecretKey(N.base.fromBase58(d));o.push({publicKey:l.publicKey,secretKey:l.secretKey})}),s.sign(o),s.signature?Promise.resolve(N.base.toBase58(s.serialize())):Promise.reject("sign error")}k.createAndSignVersionedTransaction=Fi;async function El(r,e,t,n,i,s,o=Yi.TokenStandard.ProgrammableNonFungible){let d={tokenStandard:o,address:new Ce.PublicKey(n)},l={publicKey:new Ce.PublicKey(e),secretKey:N.base.fromBase58(s)},h=(0,Yi.transferNftBuilder)({nftOrSft:d,authority:l,fromOwner:new Ce.PublicKey(e),toOwner:new Ce.PublicKey(t)},l);return(0,Yi.getSignedTransaction)(h,void 0,{blockhash:i,lastValidBlockHeight:0})}k.signMplTransaction=El;function Kl(r,e,t){var d;if(e){let l=Ce.VersionedTransaction.deserialize(N.base.fromBase58(r)),h=l.signature,M=l.message.serialize(),_=(d=l.message.getAccountKeys().get(0))==null?void 0:d.toBytes();if(!t&&!N.signUtil.ed25519.verify(M,h,_))throw Error("signature error");return l}let n=Ce.Transaction.from(N.base.fromBase58(r)),i=n.signature,s=n.serializeMessage(),o=n.feePayer.toBytes();if(!t&&!N.signUtil.ed25519.verify(s,i,o))throw Error("signature error");return n}k.validSignedTransaction=Kl});var $o=g(se=>{"use strict";a();u();var xo=se&&se.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ml=se&&se.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Dl=se&&se.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&xo(e,r,t);return Ml(e,r),e},Go=se&&se.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&xo(e,r,t)};Object.defineProperty(se,"__esModule",{value:!0});se.api=void 0;se.api=Dl(Ho());Go(Wi(),se);Go(Jo(),se)});var Jo=g(jn=>{a();u();Object.defineProperty(jn,"__esModule",{value:!0});jn.SolWallet=void 0;var U=Zo(),Et=pe(),he=$o(),Hi=class extends U.BaseWallet{async getDerivedPath(e){return`m/44'/501'/${e.index}'/0'`}async getRandomPrivateKey(){try{return Promise.resolve((0,U.ed25519_getRandomPrivateKey)(!0,"base58"))}catch{return Promise.reject(U.GenPrivateKeyError)}}async getDerivedPrivateKey(e){try{let t=await(0,U.ed25519_getDerivedPrivateKey)(e,!0,"base58");return Promise.resolve(t)}catch{return Promise.reject(U.GenPrivateKeyError)}}checkPrivateKey(e){return Et.base.fromBase58(e).length==64}async getNewAddress(e){try{if(!this.checkPrivateKey(e.privateKey))return Promise.reject(U.NewAddressError);let t=he.api.getNewAddress(e.privateKey),n={address:t,publicKey:Et.base.toHex(Et.base.fromBase58(t))};return Promise.resolve(n)}catch{return Promise.reject(U.NewAddressError)}}async validAddress(e){let t;try{t=Et.base.fromBase58(e.address).length==32}catch{t=!1}let n={isValid:t,address:e.address};return Promise.resolve(n)}async signTransaction(e){try{let t=e.data,n=he.api.createRawTransaction(t.payer,t.blockHash);if(t.type==="transfer"){if(t.from==null||t.to==null||t.amount==null)return Promise.reject(U.SignTxError);if(t.version===0)return he.api.signTransferVersionedTransaction(e.data,e.privateKey);await he.api.appendTransferInstruction(n,t.from,t.to,t.amount)}else if(t.type==="tokenTransfer"){if(t.from==null||t.to==null||t.mint==null||t.amount==null||t.createAssociatedAddress==null)return Promise.reject(U.SignTxError);if(t.version===0)return he.api.signTokenTransferVersionedTransaction(e.data,e.privateKey);await he.api.appendTokenTransferInstruction(n,t.from,t.to,t.mint,t.amount,t.createAssociatedAddress)}else return t.type==="mplTransfer"?t.from==null||t.to==null||t.mint==null?Promise.reject(U.SignTxError):await he.api.signMplTransaction(t.payer,t.from,t.to,t.mint,t.blockHash,e.privateKey):Promise.reject(U.SignTxError);if(!e.privateKey)return Promise.resolve(Et.base.toHex(n.serialize({verifySignatures:!1})));let i=await he.api.signTransaction(n,e.privateKey);return Promise.resolve(i)}catch{return Promise.reject(U.SignTxError)}}async signMessage(e){try{let t=e.data,n=await he.api.signMessage(t,e.privateKey);return Promise.resolve(n)}catch{return Promise.reject(U.SignTxError)}}async calcTxHash(e){try{let t=Et.base.fromBase58(e.data),n;try{n=he.web3.Transaction.from(t)}catch{n=he.web3.VersionedTransaction.deserialize(t)}return n.signature==null?Promise.reject(U.CalcTxHashError):Promise.resolve(Et.base.toBase58(n.signature))}catch{return Promise.reject(U.CalcTxHashError)}}async getHardWareRawTransaction(e){try{return this.signTransaction(e)}catch{return Promise.reject(U.GetHardwareRawTransactionError)}}async getHardWareSignedTransaction(e){try{let t=he.api.getHardwareTransaction(e.raw,e.pubKey,e.sig);return Promise.resolve(t)}catch{return Promise.reject(U.GetHardwareSignedTransactionError)}}async validSignedTransaction(e){try{let t=e.data?e.data.version:void 0,n=e.data?e.data.skipCheckSign:void 0,i=he.api.validSignedTransaction(e.tx,t||!1,n||!1);return Promise.resolve((0,U.jsonStringifyUniform)(i))}catch{return Promise.reject(U.validSignedTransactionError)}}};jn.SolWallet=Hi});export default Jo();

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=SolWallet-6SXYMAIB.js.map
