import{e as b}from"./chunk-QMNAWRVI.js";import{b as h}from"./chunk-B2BOSVTW.js";import{J as k}from"./chunk-MTMZQEHP.js";import{h as U}from"./chunk-62JDSRZZ.js";import{P as S,Q as W}from"./chunk-R6GCLTW2.js";import{b as N,v as B}from"./chunk-VPBQLZCI.js";import{b as d}from"./chunk-6ZPGW3YM.js";import{a as M}from"./chunk-V4YVDLI4.js";import{f as m,m as i,o as l}from"./chunk-6V2G2Z5W.js";i();l();var C=m(d());var q=m(M());function v(e){let t=(0,C.useSelector)(S),f=(0,C.useSelector)(W),s=U(),p=e!=null?e:s;return(0,q.useCallback)(r=>r?b({coins:r,walletIdentityMap:t,createdMap:f,walletId:p}):[],[t,f,p])}i();l();var L=m(M());var A=m(d());i();l();var w=m(d()),x=()=>(0,w.useSelector)(e=>{var t;return(t=e==null?void 0:e.metamask)==null?void 0:t.userUniqueId});var le=(e,{beforeRequest:t,onFinally:f,reloadDeps:s,enableEmptyAccountCoins:p=!1,enable:r,filter:D=!0}={})=>{let E=(0,A.useSelector)(o=>h(o,{enableEmptyAccount:p})),P=x(),g=(0,L.useRef)(null),R=v(),z=N(async(o=0)=>{if(r===!1)return{list:[],pageNo:o,isNoMore:!0};let u=await(t==null?void 0:t());if(u)return u;let I=0,n=null,c=null,y=o;e!=null&&e.chainIds||(e.chainIds=E.map(K=>K.chainId));do c=await k({...e,userUniqueId:P,pageNo:o}),D?n=R(c):n=c,y++,I++;while(c&&c.length>0&&(n==null?void 0:n.length)===0&&I<5);return{list:n,pageNo:y,isNoMore:n.length===0}}),a;typeof r=="boolean"?s?a=[...s,r]:a=[r]:a=s;let{data:j,loading:G,loadingMore:H,reload:J}=B(o=>{var u;return z((u=o==null?void 0:o.pageNo)!=null?u:0)},{target:g,isNoMore:o=>o==null?void 0:o.isNoMore,onFinally:f,reloadDeps:a});return{data:j,loading:G,loadingMore:H,listRef:g,reload:J}};export{v as a,le as b};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-NWQEX4PI.js.map
