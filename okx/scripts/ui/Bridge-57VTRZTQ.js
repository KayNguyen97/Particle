import{a as ro,b as q,c as G,d as no,e as io,f as so,g as lo,h as mo,i as N,j as po,k as uo,l as co,m as _o,n as fo,o as ho,p as So,q as go,s as xo,t as wo,u as bo,v as To,w as W,x as Co,y as Io}from"./chunk-5XNG5S7G.js";import{e as to}from"./chunk-FLA6IX6E.js";import"./chunk-N4DBAVS6.js";import{p as z}from"./chunk-DYEVUST3.js";import"./chunk-NBIBVTDF.js";import"./chunk-XU3WF5NB.js";import{Ba as R,Fa as oo,Ka as eo,_a as ao,l as k,o as v,wa as A}from"./chunk-LFVM5TW4.js";import{Cc as D,Dc as V,kb as n,la as p,pb as Y}from"./chunk-IQVVVGEA.js";import"./chunk-TPSXCUGD.js";import"./chunk-A5Y2KVNP.js";import{A as O,B as I}from"./chunk-GXQ645QR.js";import"./chunk-DQ2NYVYI.js";import{V as U}from"./chunk-C2H3SRET.js";import{a as B}from"./chunk-V4YVDLI4.js";import{f as b,m as l,o as m}from"./chunk-6V2G2Z5W.js";l();m();var o=b(B()),$=b(ao());l();m();var t=b(B()),s=b(ao());l();m();var i={box:"_box_l4aox_1","text-margin-left":"_text-margin-left_l4aox_12",textMarginLeft:"_text-margin-left_l4aox_12","color-dbdbdb":"_color-dbdbdb_l4aox_16",colorDbdbdb:"_color-dbdbdb_l4aox_16",text:"_text_l4aox_12","tooltip-icon":"_tooltip-icon_l4aox_22",tooltipIcon:"_tooltip-icon_l4aox_22","gas-desc":"_gas-desc_l4aox_25",gasDesc:"_gas-desc_l4aox_25","gas-wrap":"_gas-wrap_l4aox_28",gasWrap:"_gas-wrap_l4aox_28","pay-num":"_pay-num_l4aox_36",payNum:"_pay-num_l4aox_36",icon:"_icon_l4aox_40","gas-num":"_gas-num_l4aox_43",gasNum:"_gas-num_l4aox_43",show:"_show_l4aox_46"};function se({fromTokenLogoUrl:d,fromTokenSymbol:g,gasDropConfig:c,onSwitch:_,className:f,gasDropFromAmount:e,isWalletEnv:h}){let{gasDrop:M,tokenSymbol:T,tokenLogoUrl:x,chainName:F,gasDropSwitch:C}=c,r=c.gasDropSwitch&&e;return t.default.createElement("div",{className:(0,s.default)("flex align-items-center justify-content-start","cursor-pointer",i.box,f)},t.default.createElement("div",{className:(0,s.default)("flex flex-col",i.gasDesc)},t.default.createElement("div",{className:"gasTitle flex justify-between"},t.default.createElement("div",{className:(0,s.default)("flex")},t.default.createElement("span",{className:(0,s.default)("font-bold font-14 ellipsis",i.text)},p("swaptrade_order_modal_title_enable_refuel")),t.default.createElement(I,{alwaysUpdatePopper:!0,maxWidth:h?200:297,placement:h?I.DIRECTION.topRight:I.DIRECTION.bottom,title:p("swaptrade_info_modal_text_why_refuel",{chainName:F,nativeToken:T})},t.default.createElement(z,{type:"okx-defi-dex-information",className:(0,s.default)("font-14 color-bdbdbd",i.tooltipIcon)}))),t.default.createElement(O,{size:O.SIZE.sm,className:(0,s.default)(i.switch),onChange:L=>{_(L)},checked:Boolean(Number(C))})),t.default.createElement("div",{className:(0,s.default)("flex",i.gasWrap,{[i.show]:r})},t.default.createElement(ro,{tokenSrc:d!=null?d:"",chainSrc:x!=null?x:"",tokenSize:16,chainSize:16,className:"boxSame"}),t.default.createElement("span",{className:(0,s.default)("font-14",i.payNum)},`${e} ${g}`),t.default.createElement(z,{className:(0,s.default)("okds-arrow-pointer-right-sm",i.icon)}),t.default.createElement("span",{className:(0,s.default)("font-14",i.gasNum)},`${D(M)} ${T}`))))}var ko=k(se);l();m();var vo=b(B());var le=(d,g)=>{let{quoteStore:c,fromToStore:_}=v(),{setCurrentBridgeId:f}=c,{to:e,from:h}=_;(0,vo.useEffect)(()=>{!d&&!g&&f("")},[h.chainId,h.tokenContractAddress,e.chainId,e.tokenContractAddress,f])},Do=le;l();m();var u={container:"_container_z1x6f_1",scroll:"_scroll_z1x6f_6",wrap:"_wrap_z1x6f_10","input-panel-box":"_input-panel-box_z1x6f_15",inputPanelBox:"_input-panel-box_z1x6f_15","mb-6":"_mb-6_z1x6f_19",mb6:"_mb-6_z1x6f_19","swap-to-panel":"_swap-to-panel_z1x6f_22",swapToPanel:"_swap-to-panel_z1x6f_22"};var me=()=>{let{commonStore:d,accountStore:g,fromToStore:c,quoteStore:_,safeMoonStore:f,tokenModalStore:e,swapBtnStore:h,gasDropStore:M}=v(),{chainListLoadError:T,chainList:x,resetFromToByTabChange:F}=d,{to:C,from:r,onClickMax:L,showMaxIcon:No,onSwitchFromTo:yo,computedValueDifference:Mo,fromBalanceState:Fo,toBalanceState:Lo,setStorageShowMaxDialog:Eo,visibleMaxDialog:Po,computedIsCrossChain:Bo,computedIsSingleChain:Q,computedMaxTipsText:Oo,computedShowAddFund:Vo}=c,{computedInputVal:X,computedInputFiatVal:Ao,computedOutputVal:zo,computedOutputFiatVal:qo,computedOutputPopVal:Go}=f,{computedNonsupportChain:Wo}=g;R(),to(),wo(),W(),xo(),W();let{tokenChainId:$o}=Io(),[Qo,j]=(0,o.useState)(!1),[Xo,jo]=(0,o.useState)(""),{fetchQuote:Ho,quotePending:Zo,cleanQuoteTimer:H,computedCurrentTimerQuoteState:{isShowLoadingCpt:Jo},getGasTokenFeeLoading:Ko,isPickRouterFromWallet:Uo,quoteNumber:Z,quoteScope:E}=_,Yo=(0,o.useMemo)(()=>{if(Z===1&&E){let{crossMiniAmount:a}=E;return p("swaptrade_placeorder_placeholder_min_input_amount",{value:D(a,{cutPriceText:!0,isFloor:!1})})}return null},[Z,E]),S=!r.tokenContractAddress;go(),(0,o.useEffect)(()=>()=>{H()},[]),bo(),Do(Uo,F);let{gasDropConfig:Ro,showSwapGasDrop:oe,showInputGasDrop:ee,gasDropFromAmount:J}=So();ho(Ho,H);let{handleTypeInput:te,handleTypeOutput:ae}=To(),K=(a,ne)=>{if(oo({button_name:`select_${a}_${ne.currentTarget.getAttribute("data-monitor")}`}),eo({from_or_to:a===n.FROM?n.FROM:n.TO}),jo(a===n.FROM?p("swaptrade_extension_header_title_select_paytoken"):p("wallet_swap_toast_select_receive_token")),e.changeTokenModalFromState(a),e.initLoading(),e.setSearchValue(""),e.setToSelectedChainId(""),a===n.FROM){let w=A(e.userChainIdCache,r.chainId,Y.chainId);e.setFromSelectedChainId(w)}else if(a===n.TO){let w=A(C.chainId,e.userChainIdCache,e.computedCurrentToChainId);e.setToSelectedChainId(w)}let P=e.setCommonlyUsedChain();P=P.map(w=>x.find(ie=>ie.chainId===w)),e.setTokenPageChainList(P),e.getTokenListByChainId(),j(!0)},re=_.quote.quoteError||_.quote.quoteNull||f.computedHoneypot||Wo;return T?o.default.createElement(uo,null):o.default.createElement("div",{className:u.container},o.default.createElement("div",{className:u.scroll},o.default.createElement("div",{className:u.wrap},o.default.createElement(lo,{isDialog:!0,showSetting:!1}),o.default.createElement("div",{className:u.inputPanelBox},o.default.createElement(fo,null),o.default.createElement(N,{loading:S,height:128,className:u.mb6},o.default.createElement(q,{isExtension:!0,popover:V(X,{noNeedThousandth:!0}),computedIsSingleChain:Q,className:(0,$.default)(u.mb6),token:r,type:n.FROM,onClickMax:L,showMax:!0,showAddFund:Vo,onClickAddFunds:c.onClickAddFunds,computedFromGasDropAmount:J,showGasDrop:ee,showMaxIcon:No,value:X,costValue:Ao,onChange:te,openSelectToken:a=>{K(n.FROM,a)},label:p("swaptrade_card_swap_label1_pay"),balanceStatus:Fo,visibleMaxDialog:Po,maxDialogConfirm:Eo,maxTipsText:Oo,gasFeeLoading:Ko,placeholder:Yo})),o.default.createElement("div",{className:(0,$.default)(u.swapToPanel)},o.default.createElement(mo,{onSwitchFromTo:yo}),o.default.createElement(N,{loading:S,height:128},o.default.createElement(q,{isExtension:!0,computedIsSingleChain:Q,value:zo,costValue:qo,popover:V(Go,{noNeedThousandth:!0}),onChange:ae,token:C,type:n.TO,openSelectToken:a=>{K(n.TO,a)},label:p("swaptrade_card_swap_label2_receive"),quotePending:Zo,computedValueDifference:Mo,balanceStatus:Lo,computedIsCrossChain:Bo})))),o.default.createElement(G,null,o.default.createElement(io,{isSkeleton:S}),o.default.createElement(no,{isSkeleton:S}),o.default.createElement(G.Item,{id:"swapGasDrop"},oe&&o.default.createElement(ko,{isWalletEnv:!0,fromTokenLogoUrl:r==null?void 0:r.tokenLogoUrl,fromTokenSymbol:r==null?void 0:r.tokenSymbol,gasDropFromAmount:J,gasDropConfig:Ro,onSwitch:M.setGasDropSwitch})),o.default.createElement(po,{isSkeleton:S})))),o.default.createElement(N,{style:{marginTop:16,borderRadius:24},loading:S,height:48},o.default.createElement(so,{skeleton:!0,btnData:h.computedBtnStatus,isShowLoadingCpt:S||Jo,isShowError:re,isWalletEnv:d.computedIsWalletEnv,size:U.SIZE.lg})),o.default.createElement(Co,{chainId:$o}),o.default.createElement(_o,{visible:Qo,setVisible:j,title:Xo}),o.default.createElement(co,null))},ft=k(me);export{ft as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Bridge-57VTRZTQ.js.map
