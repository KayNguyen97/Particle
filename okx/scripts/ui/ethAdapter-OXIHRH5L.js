import{a as D,b as E}from"./chunk-6MF5IKP5.js";import"./chunk-D4LPLMJ4.js";import"./chunk-PGY6IZUS.js";import"./chunk-AXKCDQTS.js";import"./chunk-JWFSXEUV.js";import"./chunk-PD2BTUUF.js";import"./chunk-YCMOAOGN.js";import{a as L,f as u,g as T}from"./chunk-FAV4K2KH.js";import"./chunk-A75OUJFC.js";import"./chunk-YG4ZGSDO.js";import"./chunk-OCHHKHZZ.js";import{a as w}from"./chunk-JQQNTNIX.js";import"./chunk-JLLMIXPD.js";import"./chunk-UVVG5NXG.js";import"./chunk-YMZEQGAL.js";import"./chunk-7E3KY4EN.js";import"./chunk-JIRWXBHS.js";import{a as I}from"./chunk-3TVEFIPW.js";import{m as l}from"./chunk-UXFKODVN.js";import"./chunk-IMRS4RGO.js";import"./chunk-52GWQSZH.js";import"./chunk-TPSXCUGD.js";import"./chunk-XKG5DY6K.js";import"./chunk-6PGLMYAE.js";import"./chunk-RMQJRDTF.js";import"./chunk-2YLR7R2N.js";import"./chunk-MVLY6WUP.js";import"./chunk-ZEAKIEIQ.js";import"./chunk-5KSDRGLW.js";import"./chunk-DQTCC3FF.js";import"./chunk-O5LVHMPV.js";import{F as a,Pa as A,jc as c,nc as F}from"./chunk-CVJKAN5R.js";import"./chunk-A5Y2KVNP.js";import"./chunk-GXQ645QR.js";import"./chunk-DQ2NYVYI.js";import"./chunk-C2H3SRET.js";import"./chunk-V4YVDLI4.js";import"./chunk-AUIXWDH4.js";import"./chunk-TW6D7CWA.js";import"./chunk-3T5D6KAV.js";import"./chunk-MAWXDEJZ.js";import"./chunk-Z37GURZ6.js";import"./chunk-IYYFWVWL.js";import"./chunk-O3BDC4SE.js";import"./chunk-GT57MMCB.js";import"./chunk-HIGM7FFU.js";import"./chunk-RYNAOZ73.js";import"./chunk-Q34CQJXG.js";import"./chunk-GKHVFCKF.js";import{f as y,h as f,m as M,n as g,o as S}from"./chunk-6V2G2Z5W.js";M();S();var m=y(I());F();var i=y(L());A();var h=class{constructor(){f(this,"signTransaction",async(t,e,n)=>{e=w(e);let o=D(e),s=o.getMessageToSign(!1),p=g.Buffer.isBuffer(s)?s.toString("hex"):m.rlp.encode(s).toString("hex"),{type:r,chainId:P}=e,q={path:t.hdPathMap[a],chainId:P,requestId:c().toLowerCase(),signData:p,dataType:r===l.FEE_MARKET?i.KeystoneEthereumSDK.DataType.typedTransaction:i.KeystoneEthereumSDK.DataType.transaction,xfp:t.masterFingerprint},C=await T.openModal(u.showTxParams,{signRequest:q,baseChain:a}),d=g.Buffer.from(C,"hex"),R=d.slice(0,32),b=d.slice(32,64),N=d.slice(64),x=E(o,{r:R,s:b,v:N});return n?x:{rawTxResult:x}});f(this,"signTypedData",async(t,e)=>{let n=t.hdPathMap[a];if(!["V4","V3"].includes(e.version)){e.uiSignErrorMessage="this version of typed data signing is no't supported";return}let s=g.Buffer.from(e.data,"utf-8"),p={path:n,requestId:c().toLowerCase(),signData:s,dataType:i.KeystoneEthereumSDK.DataType.typedData,xfp:t.masterFingerprint},r=await T.openModal(u.showTxParams,{signRequest:p,baseChain:a});e.rawSig=`0x${r}`})}async signPersonalMessage(t,e){let n=t.hdPathMap[a],o=(0,m.stripHexPrefix)(e.data),s={path:n,requestId:c().toLowerCase(),signData:o,dataType:i.KeystoneEthereumSDK.DataType.personalMessage,xfp:t.masterFingerprint},r=`0x${await T.openModal(u.showTxParams,{signRequest:s,baseChain:a})}`;e.result=r}},$=new h;export{$ as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=ethAdapter-OXIHRH5L.js.map
