import{a as J}from"./chunk-P34A6LS4.js";import{b as z,c as H}from"./chunk-OCVOVZC6.js";import{a as S}from"./chunk-NC54FPSJ.js";import{c as j}from"./chunk-5TSD6WDE.js";import{c as i}from"./chunk-2CPFAAZ7.js";import{a as X}from"./chunk-2N2ADYFP.js";import{a as W}from"./chunk-D54UDGZS.js";import{e as G}from"./chunk-E2KMZQ6K.js";import{r as U,s as q}from"./chunk-GUWGENNL.js";import{b as st}from"./chunk-6ZPGW3YM.js";import{k as A,o as it}from"./chunk-ZKDHZDUE.js";import{X as Y}from"./chunk-UXFKODVN.js";import{C as at,D as ct,v as R}from"./chunk-CVJKAN5R.js";import{V as M}from"./chunk-C2H3SRET.js";import{a as nt}from"./chunk-V4YVDLI4.js";import{f as k,m as D,o as F}from"./chunk-6V2G2Z5W.js";D();F();at();var K=k(st()),t=k(nt());it();var p=k(ct());var lt=({coinId:y,unapproved:o,networkFee:E,feeLoading:Q,estimateFailed:V=!1,preExecuteRet:Z={},isSufficientGas:d,isSufficientBalance:$=!0,extParams:_,needCheckMpc:w=!1,chainConfirmDisabled:v=!1,onCancel:l,onConfirm:m})=>{var b;let{id:r}=o,e=(0,K.useDispatch)(),{address:P,walletId:n}=X(o),{loading:tt=!1,verifyGasLimitRet:h={},kysRet:g={}}=Z,I=!d||!$||z(h),f=S(n),a=(0,t.useCallback)(async()=>{l&&typeof l=="function"?l():(f({trade:"contract_interaction",all_confirmation:"cancel",network:o.localType}),await e(U(r)),await A(e))},[f,e,r,o.localType,l]),ot={onClick:a,actionType:i.ACTION_TYPE.CANCEL,btnText:R("wallet_dapp_connection_btn_reject")},rt=(b=G(y,n))==null?void 0:b.coinAmountInt,u=(0,p.isNil)(rt)||Q||V||tt||H(h)||v,c=(0,t.useCallback)(async()=>{try{if(w&&!await W({walletId:n,callback:a}))return;m&&typeof m=="function"?m({networkFee:E}):(f({trade:"contract_interaction",all_confirmation:"confirm",network:o.localType}),await e(q(r,_)),await A(e))}catch(C){console.log(C)}},[w,m,n,a,E,f,o.localType,e,r,_]),T=(0,t.useMemo)(()=>({disabled:u,onClick:c,actionType:i.ACTION_TYPE.CONFIRM}),[u,c]),N=(0,t.useMemo)(()=>({actionType:i.ACTION_TYPE.FILL_UP,txId:r,coinId:y,walletId:n,address:P,receiveOnly:d}),[P,y,r,d,n]),x=j(),{blackAddress:s={}}=g,L=(0,t.useMemo)(()=>({type:M.TYPE.red,actionType:i.ACTION_TYPE.CONFIRM,async onClick(){try{await x({isDefraud:!0,address:s.address,msg:s.msg,similarType:Y.EXACT}),await c()}catch{await a()}}}),[x,s,c,a]),{permissionMsg:B=""}=g,O=J({text:B,handleConfirm:c,handleCancel:a}),et=(0,t.useMemo)(()=>u?T:I?N:B?O:(0,p.isEmpty)(s)?T:L,[s,T,u,N,I,B,L,O]);return[ot,et]},Pt=lt;export{Pt as a};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-PZPHBKNA.js.map
