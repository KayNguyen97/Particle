import{j as s,k as K,o as C}from"./chunk-ZKDHZDUE.js";import{c as b,d as M,e as R,f as h,g as y,h as m,i as f,m as _}from"./chunk-4UESFVD2.js";import{a as O}from"./chunk-D7KW4FFX.js";import{k,la as N,t as v,u as S}from"./chunk-RAXGEVRQ.js";import{c as i,d as x,f as F}from"./chunk-S4N75E3H.js";import{f as T,m as p,o as A}from"./chunk-6V2G2Z5W.js";p();A();var w=T(O());F();_();C();N();async function H(...e){return await x().getAllWalletsBalance(...e)}function P(e,...o){return t=>{let n;return new Promise((r,u)=>{e(...o,(a,l)=>{if(a){u(a);return}n=l,r()})}).then(async()=>(await s(t),n)).catch(async r=>(await s(t),t(f(r.message)),Promise.reject(r)))}}function j(e=!0){return{type:k,value:e}}function g(){return e=>new Promise(o=>{i().unMarkPasswordForgotten(()=>{e(j(!1)),o()})}).then(()=>s(e))}function X(){return async e=>{try{await new Promise((o,t)=>i().markPasswordForgotten(n=>{if(n){t(n);return}o()}))}finally{e(m()),e(j()),await s(e)}}}function D(){return P(i().createWallet)}function q(...e){return o=>new Promise((t,n)=>{i().importWalletWithMnemonic(...e,(r,u)=>{if(r){n(r);return}t(u)})}).then(async t=>(await s(o),t)).catch(t=>Promise.reject(t))}function z(...e){return P(i().importWalletWithPrivateKey,...e)}function J(...e){return P(i().removeWallet,...e)}function Q(...e){return P(i().removeWallets,...e)}function V(...e){return P(i().updateWalletAddress,...e)}function Y(e,o){return t=>{let n;return new Promise((r,u)=>{i().setSelectedWallet(e,(a,l)=>{if(a){u(a);return}n=l,r()})}).then(async()=>(await K(t),n)).catch(async r=>(await s(t),t(f(r.message)),Promise.reject(r)))}}function Z(e){return o=>(o(b()),new Promise((t,n)=>{i().submitPassword(e,r=>{if(r){n(r);return}t()})}).then(()=>(o(R()),s(o))).catch(t=>(o(M(t.message)),Promise.reject(t))))}function $(e){return o=>{w.default.debug("background.createWalletAndRestore");let t;return new Promise((n,r)=>{i().createWalletAndRestore(e,(u,a)=>{if(u){r(u);return}t=a,n()})}).then(()=>o(g())).then(()=>(o(I()),t)).catch(n=>(o(f(n.message)),Promise.reject(n)))}}function ee(e,o){return t=>{w.default.debug("background.importWalletWithMnemonicAndRestore");let n;return new Promise((r,u)=>{i().importWalletWithMnemonicAndRestore(e,o,(a,l)=>{if(a){u(a);return}n=l,r()})}).then(()=>t(g())).then(()=>(t(I()),n)).catch(r=>(t(f(r.message)),Promise.reject(r)))}}function te(e,o,t,n=!1){return r=>{w.default.debug("background.importWalletWithPrivateKeyAndRestore");let u;return new Promise((a,l)=>{i().importWalletWithPrivateKeyAndRestore(e,o,t,n,(d,c)=>{if(d){l(d);return}u=c,a()})}).then(()=>r(g())).then(()=>(r(m()),u)).catch(a=>(r(m()),Promise.reject(a)))}}function re(e,{cipherText:o,privateKey:t},n,r){return u=>{!r&&u(y()),w.default.debug("background.importWalletWithMpcAndRestore");let a;return new Promise((l,d)=>{i().importWalletWithMpcAndRestore(e,{cipherText:o,privateKey:t},n,(c,W)=>{if(c){d(c);return}a=W,l()})}).then(()=>u(g())).then(()=>(u(m()),a)).catch(l=>(u(m()),Promise.reject(l)))}}function ne(e){return new Promise((o,t)=>{i().verifyPassword(e,n=>{if(n){t(n);return}o(!0)})})}function oe(e,o){return async t=>{await new Promise((n,r)=>{i().addPermittedAccount(e,o,u=>{if(u){r(u);return}n()})}),await s(t)}}function ue(e,o){return async t=>{await new Promise((n,r)=>{i().removePermittedAccount(e,o,u=>{if(u){r(u);return}n()})}),await s(t)}}function I(){return{type:v}}function ae({id:e}={}){return{type:S,id:e}}function ie(e,o,t,n,r,u){return a=>{if(!e)throw new Error("OKX Wallet - Cannot add token without address");return r||a(y()),new Promise((l,d)=>{i().addToken(e,o,t,n,u,(c,W)=>{if(a(m()),c){a(f(c.message)),d(c);return}a(h(W)),l(W)})})}}export{H as a,X as b,D as c,q as d,z as e,J as f,Q as g,V as h,Y as i,Z as j,$ as k,ee as l,te as m,re as n,ne as o,oe as p,ue as q,ae as r,ie as s};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-TPEASXIF.js.map
