import{g as R,h as B}from"./chunk-R6GCLTW2.js";import{M as V,S as $,T as Q,Y,_ as Z,aa as tt,ba as ot,fa as rt}from"./chunk-X2LENRE7.js";import{d as D,f as K}from"./chunk-S4N75E3H.js";import{h as F,k as y,l as M}from"./chunk-UXFKODVN.js";import{a as n,b as f}from"./chunk-MVLY6WUP.js";import{c as g,d as O,e as k,f as c,h as m}from"./chunk-ZEAKIEIQ.js";import{D as J,Vb as X,jc as G,nc as b,sb as U}from"./chunk-CVJKAN5R.js";import{c as z,f as q,m as s,o as a}from"./chunk-6V2G2Z5W.js";var H=z(($o,v)=>{s();a();var nt=tt(),st=rt(),at=$(),ct=V(),it=ot(),pt=Q(),ut=Z(),dt=Y(),lt="[object Map]",mt="[object Set]",ft=Object.prototype,gt=ft.hasOwnProperty;function xt(t){if(t==null)return!0;if(it(t)&&(ct(t)||typeof t=="string"||typeof t.splice=="function"||pt(t)||dt(t)||at(t)))return!t.length;var o=st(t);if(o==lt||o==mt)return!t.size;if(ut(t))return!nt(t).length;for(var r in t)if(gt.call(t,r))return!1;return!0}v.exports=xt});s();a();m();f();K();var S=q(J()),N=async()=>{let t=await D().getSelectedWallet(),o=await D().getRequestHeaders({walletId:t,needSign:!0,currency:"usd"});return{walletId:t,config:{headers:o}}},wt=async(t={...F},o)=>{let{walletId:r,config:e}=await N(),i=n.postAllTxListUrl,p={lastRowId:"",limit:20,accountIds:[r],...t};try{let{data:d=[]}=await c(i,p,(0,S.merge)(e,o));return d}catch(d){throw new Error(d)}},Ct=async(t={coinId:3,txId:"",txHash:"",address:"",orderId:"",orderType:""},o)=>{let{walletId:r,config:e}=await N(),{coinId:i}=t,p=n.postTxDetailInfoUrl,d={accountId:r,...t,coinId:i};try{let{data:u={}}=await c(p,d,(0,S.merge)(e,o));return u}catch(u){throw new Error(u)}},Tt=async(t={coinId:3,address:""},o)=>{let{walletId:r,config:e}=await N(),{coinId:i}=t,p=n.postCoinTxListUrl,d={lastRowId:"",limit:20,accountIds:[r],coinId:i,...t};try{let{data:u=[]}=await c(p,d,(0,S.merge)(e,o));return(u==null?void 0:u.content)||[]}catch(u){throw new Error(u)}};var At=async(t={coinId:3,txHash:"",address:""},o)=>{let{config:r}=await N(),{coinId:e}=t,i=n.postBtcAccelerationFeeInfo,p={...t,coinId:e},{data:d={}}=await c(i,p,(0,S.merge)(r,o));return d};s();a();s();a();s();a();m();f();var Lt=(t={})=>{let{coinId:o,address:r}=t,e=n.getGasSignInfo.replace("{coinId}",o).replace("{address}",r);return g(e)},x=(t={},o,r={})=>{let{coinId:e,address:i}=t,p=n.getGasSignInfo.replace("{coinId}",e).replace("{address}",i);return c(p,o,r)},j=async(t,o)=>{let r={scenario:y.SCENARIO_SEND_COIN,...o},{data:e={}}=await x(t,r);return e},_=(t={})=>c(n.postGasLimit,t),qt=(t={})=>{let{coinId:o}=t,r=n.postTxToastCheckUrl.replace("{coinId}",o);return c(r,t)},Ot=async(t,o)=>{let r=n.postTx,{data:e}=await c(r,t,o);return e},Ut=t=>c(n.getDomainAddress,t),bt=async(t={},o={})=>{try{let{coinId:r}=t,e=n.postExtFee.replace("{coinId}",r),{data:i}=await c(e,o);return i==null?void 0:i.extFee}catch{return"0"}},Rt=async(t,o)=>{let r=n.postBatchTx,{data:e}=await c(r,t,o);return e};var Bt=async(t,o)=>{let r=n.postUTXOInfoFromTxs;return c(r,t,o)};s();a();m();f();b();var zt=async(t={})=>{let{data:o={}}=await x(t),{info:r={}}=o;return r};var Jt=async(t={},o={})=>{let{data:r={}}=await x(t,o),{info:e={}}=r,{recentBlockhash:i}=e;return i},Kt=(t={})=>{let{coinId:o,address:r}=t,e=n.getSolanaTokenAccountAddress.replace("{coinId}",o).replace("{address}",r);return g(e)},Xt=(t={})=>{let{mint:o,address:r}=t,e=n.getSolanaTokenAccountAddressWithMint.replace("{mint}",o).replace("{address}",r);return g(e)};async function Vt(t,o){let r=await k(n.requestSolanaMethodUrlToFullnode,{jsonrpc:"2.0",id:G(),method:t,params:o});return r.status===200?r.data:Promise.reject(r)}s();a();var oo=async t=>{let{address:o}=t,r={fromAddr:o,scenario:y.SCENARIO_SEND_COIN},{data:e={}}=await x(t,r),{info:i={}}=e,{trc:p}=i;return p===M.TRC20},et=async(t,o)=>{let r={scenario:y.SCENARIO_SEND_COIN,...o},{data:e={}}=await x(t,r);return e},ro=async(t,o)=>{let r={...o,scenario:y.SCENARIO_SEND_COIN},e=await et(t,r),{info:i={}}=e,{fee:p="0"}=i;return p};s();a();m();f();X();var lo=async t=>{let{data:o}=await c(n.getAptosGasLimit,{inputData:t}),{gasLimit:r}=o;return r},mo=async(t,o,r)=>{let e={...o,scenario:y.SCENARIO_SEND_COIN},{data:i={}}=await x(t,e),{info:p={}}=i,{maxGasAmount:d="0"}=p,{gasUnitPrice:u="0"}=p;if(r)try{let{data:{gasLimit:T}}=await c(n.getAptosGasLimit,{inputData:r});d=T}catch{d="8000"}let h=U(u,d);return{gasUnitPrice:u,maxGasAmount:d,fee:h}},fo=async(t={})=>{let{address:o}=t,r=n.getAptosABI.replace("{moduleAddress}",o),{data:e}=await O(r);return e},go=async t=>{let o=n.postAptosNftClaim,{data:r}=await c(o,{address:t,pageNo:1,pageSize:1e3});return r},xo=async(t,o,r)=>{let e=n.saveAptosNftSaveOrder,{data:i}=await c(e,{scene:t,chain:637,txHash:o,walletAddress:r,source:4,appVersion:"2.23.9"});return i};s();a();f();m();b();async function To(t){let o=await k(n.requestSuiMethodUrlToFullnode,{jsonrpc:"2.0",id:G(),...t||{}});return o.status===200?o.data:Promise.reject(new Error)}s();a();var No=async(t={})=>{let{coinId:o,from:r,to:e}=t,i={address:r,coinId:o},p={value:"0",fromAddr:r,toAddr:e},{info:d={}}=await j(i,p);return d},Eo=async(t={})=>{let{coinId:o,from:r,inputData:e}=t,i={coinId:o,address:r,value:"0",inputData:e},{data:p={}}=await _(i);return p.gasLimit};s();a();f();m();var bo=async t=>{let o=n.getBrcJson;return(await g(o,t)).data||{}};s();a();s();a();m();f();var W=q(H());s();a();var w=class{constructor(o=50){this.cache=new Map;this.keysIndex=0;this.keys=Array.from(new Array(o))}delete(o){this.keys=this.keys.map(r=>r===o?void 0:r),this.keysIndex=(this.keysIndex-1)%this.keys.length,this.cache.delete(o)}clear(){this.cache.clear(),this.keys.fill(void 0),this.keysIndex=0}get(o){return this.cache.get(o)}set(o,r){if(!this.keys.includes(o)){let e=this.keys[this.keysIndex];e!==void 0&&this.cache.delete(e),this.keys[this.keysIndex]=o,this.keysIndex=(this.keysIndex+1)%this.keys.length}this.cache.set(o,r)}};s();a();function C(t){return/^\d+$/.test(String(t))}var E=null,ur=async t=>{let{data:o={}}=await c(n.postAddressRegisterStatus,t);return o},dr=async t=>{let{data:o={}}=await c(n.postCheckTransfer,t);return o},lr=async t=>{try{let{data:o=[]}=await c(n.getCoinList,t);return o.length?o.map(r=>B(r)):[]}catch{return[]}},mr=(t={})=>Object.keys(t).some(o=>["coinId","chainId","address","aggregation","coinType","symbol"].includes(o)),fr=async t=>{try{let o={coinIds:[t]},{data:r=[]}=await c(n.postMarketUrl,o,{headers:{currency:"usd"}}),e=r[0];return e!=null?e:null}catch{return null}},gr=async t=>{if(!t||(0,W.default)(t))return null;E||(E=new w(50));let{address:o,aggregation:r,symbol:e,coinId:i,chainId:p,coinType:d}=t,u={};if(r)u.aggregationSymbol=e;else if(C(i)){u.coinId=+i;let h=E.get(i);if(h)return h}else(e||o)&&(e&&(u.symbol=e),o&&(u.contractAddress=o),C(p)&&(u.chainId=+p),C(d)&&(u.coinType=+d));try{let{data:h={}}=await c(n.getCoinDetail,u);if(h.length){let T=new Map,A=null;return h.forEach(P=>{let I=R(P);if(E.set(I.coinId,I),P.aggregation){let L=T.get(P.symbol);L?L.childrenCoin.push(I):(A={...I,childrenCoin:[I]},T.set(P.symbol,A))}else A=I}),A}return null}catch{return null}};s();a();m();f();s();a();m();f();s();a();m();f();s();a();m();f();s();a();m();f();var _r=t=>c(n.getGasStationSupportChainListUrl,t),vr=t=>g(n.getGasStationSupportCoinListUrl,t),Hr=t=>c(n.getGasStationSupportAllCoinUrl,t);var Vr=t=>c(n.checkAndGetCallDataUrl,t),$r=t=>c(n.orderSaveUrl,t);export{H as a,Lt as b,x as c,j as d,_ as e,qt as f,Ot as g,Ut as h,bt as i,Rt as j,Bt as k,zt as l,Jt as m,Kt as n,Xt as o,Vt as p,oo as q,et as r,ro as s,lo as t,mo as u,fo as v,go as w,xo as x,To as y,No as z,Eo as A,wt as B,Ct as C,Tt as D,At as E,bo as F,C as G,ur as H,dr as I,lr as J,mr as K,fr as L,gr as M,_r as N,vr as O,Hr as P,Vr as Q,$r as R};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-MTMZQEHP.js.map
