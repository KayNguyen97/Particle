import{a as Of}from"./chunk-MIPXVBPR.js";import{a as If}from"./chunk-UVVG5NXG.js";import{a as mt}from"./chunk-AMJPJAQW.js";import{a as zo}from"./chunk-HCW4K7TR.js";import{c as Ba}from"./chunk-RYNAOZ73.js";import{b as _f,c as Ft,d as Wo,f as st,g as Af,m as p,o as g}from"./chunk-6V2G2Z5W.js";var Yu=Ft(we=>{"use strict";p();g();var Fu=we&&we.__awaiter||function(r,t,e,n){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function c(l){try{a(n.next(l))}catch(f){s(f)}}function u(l){try{a(n.throw(l))}catch(f){s(f)}}function a(l){l.done?i(l.value):o(l.value).then(c,u)}a((n=n.apply(r,t||[])).next())})},Zu=we&&we.__generator||function(r,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(a){return function(l){return u([a,l])}}function u(a){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,o&&(i=a[0]&2?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,o=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){e.label=a[1];break}if(a[0]===6&&e.label<i[1]){e.label=i[1],i=a;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(a);break}i[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(r,e)}catch(l){a=[6,l],o=0}finally{n=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(we,"__esModule",{value:!0});we.defaultNextRequest=void 0;var Np=Ba();we.defaultNextRequest=function(){var r=-1;return function(){return++r}};var Up=function(){function r(t,e){e===void 0&&(e=we.defaultNextRequest()),this.batch=[],this.batchStarted=!1,this.lastId=-1,this.transports=t,this.requests={},this.connectPromise=this.connect(),this.requestChannel=new Np.EventEmitter,this.nextID=e}return r.prototype.connect=function(){var t=this;return Promise.all(this.transports.map(function(e){return Fu(t,void 0,void 0,function(){return Zu(this,function(n){switch(n.label){case 0:return e.subscribe("error",this.handleError.bind(this)),e.subscribe("notification",this.handleNotification.bind(this)),[4,e.connect()];case 1:return n.sent(),[2]}})})}))},r.prototype.getPrimaryTransport=function(){return this.transports[0]},r.prototype.request=function(t,e,n){return e===void 0&&(e=!1),Fu(this,void 0,void 0,function(){var o,i,s,c,u=this;return Zu(this,function(a){return o=this.nextID().toString(),i=e?null:o,s={request:this.makeRequest(t.method,t.params||[],i),internalID:o},this.batchStarted?(c=new Promise(function(l,f){u.batch.push({resolve:l,reject:f,request:s})}),[2,c]):[2,this.getPrimaryTransport().sendData(s,n)]})})},r.prototype.close=function(){this.requestChannel.removeAllListeners(),this.transports.forEach(function(t){t.unsubscribe(),t.close()})},r.prototype.startBatch=function(){this.batchStarted=!0},r.prototype.stopBatch=function(){if(this.batchStarted===!1)throw new Error("cannot end that which has never started");if(this.batch.length===0){this.batchStarted=!1;return}this.getPrimaryTransport().sendData(this.batch),this.batch=[],this.batchStarted=!1},r.prototype.makeRequest=function(t,e,n){return n?{jsonrpc:"2.0",id:n,method:t,params:e}:{jsonrpc:"2.0",method:t,params:e}},r.prototype.handleError=function(t){this.requestChannel.emit("error",t)},r.prototype.handleNotification=function(t){this.requestChannel.emit("notification",t)},r}();we.default=Up});var Yr=Ft(Ut=>{"use strict";p();g();var Mp=Ut&&Ut.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Ut,"__esModule",{value:!0});Ut.convertJSONToRPCError=Ut.JSONRPCError=Ut.ERR_UNKNOWN=Ut.ERR_MISSIING_ID=Ut.ERR_TIMEOUT=void 0;Ut.ERR_TIMEOUT=7777;Ut.ERR_MISSIING_ID=7878;Ut.ERR_UNKNOWN=7979;var ga=function(r){Mp(t,r);function t(e,n,o){var i=this.constructor,s=r.call(this,e)||this;return s.message=e,s.code=n,s.data=o,Object.setPrototypeOf(s,i.prototype),s}return t}(Error);Ut.JSONRPCError=ga;Ut.convertJSONToRPCError=function(r){if(r.error){var t=r.error,e=t.message,n=t.code,o=t.data;return new ga(e,n,o)}return new ga("Unknown error",Ut.ERR_UNKNOWN,r)}});var Ju=Ft(Ho=>{"use strict";p();g();Object.defineProperty(Ho,"__esModule",{value:!0});Ho.TransportRequestManager=void 0;var Dp=Ba(),Jr=Yr(),jp=function(){function r(){this.pendingRequest={},this.pendingBatchRequest={},this.transportEventChannel=new Dp.EventEmitter}return r.prototype.addRequest=function(t,e){return this.transportEventChannel.emit("pending",t),t instanceof Array?(this.addBatchReq(t,e),Promise.resolve()):this.addReq(t.internalID,e)},r.prototype.settlePendingRequest=function(t,e){var n=this;t.forEach(function(o){var i=n.pendingRequest[o.internalID];if(delete n.pendingBatchRequest[o.internalID],i!==void 0){if(e){i.reject(e);return}i.resolve(),(o.request.id===null||o.request.id===void 0)&&delete n.pendingRequest[o.internalID]}})},r.prototype.isPendingRequest=function(t){return this.pendingRequest.hasOwnProperty(t)},r.prototype.resolveResponse=function(t,e){e===void 0&&(e=!0);var n=t;try{return n=JSON.parse(t),this.checkJSONRPC(n)===!1?void 0:n instanceof Array?this.resolveBatch(n,e):this.resolveRes(n,e)}catch{var o=new Jr.JSONRPCError("Bad response format",Jr.ERR_UNKNOWN,t);return e&&this.transportEventChannel.emit("error",o),o}},r.prototype.addBatchReq=function(t,e){var n=this;return t.forEach(function(o){var i=o.resolve,s=o.reject,c=o.request.internalID;n.pendingBatchRequest[c]=!0,n.pendingRequest[c]={resolve:i,reject:s}}),Promise.resolve()},r.prototype.addReq=function(t,e){var n=this;return new Promise(function(o,i){e!==null&&e&&n.setRequestTimeout(t,e,i),n.pendingRequest[t]={resolve:o,reject:i}})},r.prototype.checkJSONRPC=function(t){var e=[t];return t instanceof Array&&(e=t),e.every(function(n){return n.result!==void 0||n.error!==void 0||n.method!==void 0})},r.prototype.processResult=function(t,e){if(t.error){var n=Jr.convertJSONToRPCError(t);e.reject(n);return}e.resolve(t.result)},r.prototype.resolveBatch=function(t,e){var n=this,o=t.map(function(s){return n.resolveRes(s,e)}),i=o.filter(function(s){return s});if(i.length>0)return i[0]},r.prototype.resolveRes=function(t,e){var n=t.id,o=t.error,i=this.pendingRequest[n];if(i){delete this.pendingRequest[n],this.processResult(t,i),this.transportEventChannel.emit("response",t);return}if(n===void 0&&o===void 0){this.transportEventChannel.emit("notification",t);return}var s;return o&&(s=Jr.convertJSONToRPCError(t)),e&&o&&s&&this.transportEventChannel.emit("error",s),s},r.prototype.setRequestTimeout=function(t,e,n){var o=this;setTimeout(function(){delete o.pendingRequest[t],n(new Jr.JSONRPCError("Request timeout request took longer than "+e+" ms to resolve",Jr.ERR_TIMEOUT))},e)},r}();Ho.TransportRequestManager=jp});var Xr=Ft(Ko=>{"use strict";p();g();Object.defineProperty(Ko,"__esModule",{value:!0});Ko.Transport=void 0;var Lp=Ju(),qp=function(){function r(){this.transportRequestManager=new Lp.TransportRequestManager,this.transportRequestManager.transportEventChannel.on("error",function(){})}return r.prototype.subscribe=function(t,e){this.transportRequestManager.transportEventChannel.addListener(t,e)},r.prototype.unsubscribe=function(t,e){if(!t)return this.transportRequestManager.transportEventChannel.removeAllListeners();t&&e&&this.transportRequestManager.transportEventChannel.removeListener(t,e)},r.prototype.parseData=function(t){return t instanceof Array?t.map(function(e){return e.request.request}):t.request},r}();Ko.Transport=qp});var Qr=Ft(xe=>{"use strict";p();g();Object.defineProperty(xe,"__esModule",{value:!0});xe.getNotifications=xe.getBatchRequests=xe.isNotification=void 0;xe.isNotification=function(r){return r.request.id===void 0||r.request.id===null};xe.getBatchRequests=function(r){return r instanceof Array?r.filter(function(t){var e=t.request.request.id;return e!=null}).map(function(t){return t.request}):[]};xe.getNotifications=function(r){return r instanceof Array?r.filter(function(t){return xe.isNotification(t.request)}).map(function(t){return t.request}):xe.isNotification(r)?[r]:[]}});var Qu=Ft(Tn=>{"use strict";p();g();var Hp=Tn&&Tn.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(Tn,"__esModule",{value:!0});var Kp=Xr(),Vp=Qr(),Xu=Yr(),Gp=function(r){Hp(t,r);function t(e,n,o){var i=r.call(this)||this;return i.connection=e,i.reqUri=n,i.resUri=o,i}return t.prototype.connect=function(){var e=this;return this.connection.on(this.resUri,function(n){e.transportRequestManager.resolveResponse(n)}),Promise.resolve()},t.prototype.sendData=function(e,n){n===void 0&&(n=null);var o=this.transportRequestManager.addRequest(e,n),i=Vp.getNotifications(e),s=this.parseData(e);try{return this.connection.emit(this.reqUri,s),this.transportRequestManager.settlePendingRequest(i),o}catch(u){var c=new Xu.JSONRPCError(u.message,Xu.ERR_UNKNOWN,u);return this.transportRequestManager.settlePendingRequest(i,c),Promise.reject(c)}},t.prototype.close=function(){this.connection.removeAllListeners()},t}(Kp.Transport);Tn.default=Gp});var rf=Ft(zt=>{"use strict";p();g();var $p=zt&&zt.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wp=zt&&zt.__awaiter||function(r,t,e,n){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function c(l){try{a(n.next(l))}catch(f){s(f)}}function u(l){try{a(n.throw(l))}catch(f){s(f)}}function a(l){l.done?i(l.value):o(l.value).then(c,u)}a((n=n.apply(r,t||[])).next())})},zp=zt&&zt.__generator||function(r,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(a){return function(l){return u([a,l])}}function u(a){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,o&&(i=a[0]&2?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,o=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){e.label=a[1];break}if(a[0]===6&&e.label<i[1]){e.label=i[1],i=a;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(a);break}i[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(r,e)}catch(l){a=[6,l],o=0}finally{n=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Fp=zt&&zt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zt,"__esModule",{value:!0});zt.HTTPTransport=void 0;var Zp=Fp(Of()),Yp=Xr(),ma=Qr(),tf=Yr(),ef=function(r){$p(t,r);function t(e,n){var o=r.call(this)||this;return o.onlyNotifications=function(i){return i instanceof Array?i.every(function(s){return s.request.request.id===null||s.request.request.id===void 0}):i.request.id===null||i.request.id===void 0},o.uri=e,o.credentials=n&&n.credentials,o.headers=t.setupHeaders(n&&n.headers),o.injectedFetcher=n==null?void 0:n.fetcher,o}return t.prototype.connect=function(){return Promise.resolve()},t.prototype.sendData=function(e,n){return n===void 0&&(n=null),Wp(this,void 0,void 0,function(){var o,i,s,c,u,a,f,l,f;return zp(this,function(m){switch(m.label){case 0:o=this.transportRequestManager.addRequest(e,n),i=ma.getNotifications(e),s=ma.getBatchRequests(e),c=this.injectedFetcher||Zp.default,m.label=1;case 1:return m.trys.push([1,4,,5]),[4,c(this.uri,{method:"POST",headers:this.headers,body:JSON.stringify(this.parseData(e)),credentials:this.credentials})];case 2:return u=m.sent(),this.transportRequestManager.settlePendingRequest(i),this.onlyNotifications(e)?[2,Promise.resolve()]:[4,u.text()];case 3:return a=m.sent(),f=this.transportRequestManager.resolveResponse(a),f?(this.transportRequestManager.settlePendingRequest(s,f),[2,Promise.reject(f)]):[3,5];case 4:return l=m.sent(),f=new tf.JSONRPCError(l.message,tf.ERR_UNKNOWN,l),this.transportRequestManager.settlePendingRequest(i,f),this.transportRequestManager.settlePendingRequest(ma.getBatchRequests(e),f),[2,Promise.reject(f)];case 5:return[2,o]}})})},t.prototype.close=function(){},t.setupHeaders=function(e){var n=new Headers(e);return n.set("Content-Type","application/json"),n},t}(Yp.Transport);zt.HTTPTransport=ef;zt.default=ef});var nf={};Wo(nf,{default:()=>Jp});var tn,Jp,of=_f(()=>{p();g();tn=null;typeof WebSocket<"u"?tn=WebSocket:typeof MozWebSocket<"u"?tn=MozWebSocket:typeof globalThis<"u"?tn=globalThis.WebSocket||globalThis.MozWebSocket:typeof window<"u"?tn=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(tn=self.WebSocket||self.MozWebSocket);Jp=tn});var cf=Ft(le=>{"use strict";p();g();var Xp=le&&le.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qp=le&&le.__awaiter||function(r,t,e,n){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function c(l){try{a(n.next(l))}catch(f){s(f)}}function u(l){try{a(n.throw(l))}catch(f){s(f)}}function a(l){l.done?i(l.value):o(l.value).then(c,u)}a((n=n.apply(r,t||[])).next())})},tg=le&&le.__generator||function(r,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(a){return function(l){return u([a,l])}}function u(a){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,o&&(i=a[0]&2?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,o=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){e.label=a[1];break}if(a[0]===6&&e.label<i[1]){e.label=i[1],i=a;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(a);break}i[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(r,e)}catch(l){a=[6,l],o=0}finally{n=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},eg=le&&le.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(le,"__esModule",{value:!0});var rg=eg((of(),Af(nf))),ng=Xr(),sf=Qr(),af=Yr(),og=function(r){Xp(t,r);function t(e){var n=r.call(this)||this;return n.uri=e,n.connection=new rg.default(e),n}return t.prototype.connect=function(){var e=this;return new Promise(function(n,o){var i=function(){e.connection.removeEventListener("open",i),n()};e.connection.addEventListener("open",i),e.connection.addEventListener("message",function(s){var c=s.data;e.transportRequestManager.resolveResponse(c)})})},t.prototype.sendData=function(e,n){return n===void 0&&(n=5e3),Qp(this,void 0,void 0,function(){var o,i,s;return tg(this,function(c){o=this.transportRequestManager.addRequest(e,n),i=sf.getNotifications(e);try{this.connection.send(JSON.stringify(this.parseData(e))),this.transportRequestManager.settlePendingRequest(i)}catch(u){s=new af.JSONRPCError(u.message,af.ERR_UNKNOWN,u),this.transportRequestManager.settlePendingRequest(i,s),this.transportRequestManager.settlePendingRequest(sf.getBatchRequests(e),s),o=Promise.reject(s)}return[2,o]})})},t.prototype.close=function(){this.connection.close()},t}(ng.Transport);le.default=og});var lf=Ft(Re=>{"use strict";p();g();var ig=Re&&Re.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),uf=Re&&Re.__awaiter||function(r,t,e,n){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function c(l){try{a(n.next(l))}catch(f){s(f)}}function u(l){try{a(n.throw(l))}catch(f){s(f)}}function a(l){l.done?i(l.value):o(l.value).then(c,u)}a((n=n.apply(r,t||[])).next())})},ff=Re&&Re.__generator||function(r,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(a){return function(l){return u([a,l])}}function u(a){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,o&&(i=a[0]&2?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,o=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){e.label=a[1];break}if(a[0]===6&&e.label<i[1]){e.label=i[1],i=a;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(a);break}i[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(r,e)}catch(l){a=[6,l],o=0}finally{n=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(Re,"__esModule",{value:!0});var sg=Xr(),ag=Qr(),cg=function(r){var t=400,e=window.screen.height,n=0,o=0;return window.open(r,"inspector:popup","left="+n+",top="+o+",width="+t+",height="+e+",resizable,scrollbars=yes,status=1")},ug=function(r){ig(t,r);function t(e){var n=r.call(this)||this;return n.messageHandler=function(o){n.transportRequestManager.resolveResponse(JSON.stringify(o.data))},n.uri=e,n.postMessageID="post-message-transport-"+Math.random(),n}return t.prototype.createWindow=function(e){return new Promise(function(n,o){var i;i=cg(e),setTimeout(function(){n(i)},3e3)})},t.prototype.connect=function(){var e=this,n=/^(http|https):\/\/.*$/;return new Promise(function(o,i){return uf(e,void 0,void 0,function(){var s;return ff(this,function(c){switch(c.label){case 0:return n.test(this.uri)||i(new Error("Bad URI")),s=this,[4,this.createWindow(this.uri)];case 1:return s.frame=c.sent(),window.addEventListener("message",this.messageHandler),o(),[2]}})})})},t.prototype.sendData=function(e,n){return n===void 0&&(n=5e3),uf(this,void 0,void 0,function(){var o,i;return ff(this,function(s){return o=this.transportRequestManager.addRequest(e,null),i=ag.getNotifications(e),this.frame&&(this.frame.postMessage(e.request,this.uri),this.transportRequestManager.settlePendingRequest(i)),[2,o]})})},t.prototype.close=function(){this.frame&&(window.removeEventListener("message",this.messageHandler),this.frame.close())},t}(sg.Transport);Re.default=ug});var pf=Ft(Pe=>{"use strict";p();g();var fg=Pe&&Pe.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},r(t,e)};return function(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),df=Pe&&Pe.__awaiter||function(r,t,e,n){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function c(l){try{a(n.next(l))}catch(f){s(f)}}function u(l){try{a(n.throw(l))}catch(f){s(f)}}function a(l){l.done?i(l.value):o(l.value).then(c,u)}a((n=n.apply(r,t||[])).next())})},hf=Pe&&Pe.__generator||function(r,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(a){return function(l){return u([a,l])}}function u(a){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,o&&(i=a[0]&2?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,o=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){e.label=a[1];break}if(a[0]===6&&e.label<i[1]){e.label=i[1],i=a;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(a);break}i[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(r,e)}catch(l){a=[6,l],o=0}finally{n=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(Pe,"__esModule",{value:!0});var lg=Xr(),dg=Qr(),hg=function(r){fg(t,r);function t(e){var n=r.call(this)||this;return n.messageHandler=function(o){n.transportRequestManager.resolveResponse(JSON.stringify(o.data))},n.uri=e,n.postMessageID="post-message-transport-"+Math.random(),n}return t.prototype.createWindow=function(e){var n=this;return new Promise(function(o,i){var s,c=document.createElement("iframe");c.setAttribute("id",n.postMessageID),c.setAttribute("width","0px"),c.setAttribute("height","0px"),c.setAttribute("style","visiblity:hidden;border:none;outline:none;"),c.addEventListener("load",function(){o(s)}),c.setAttribute("src",e),window.document.body.appendChild(c),s=c.contentWindow})},t.prototype.connect=function(){var e=this,n=/^(http|https):\/\/.*$/;return new Promise(function(o,i){return df(e,void 0,void 0,function(){var s;return hf(this,function(c){switch(c.label){case 0:return n.test(this.uri)||i(new Error("Bad URI")),s=this,[4,this.createWindow(this.uri)];case 1:return s.frame=c.sent(),window.addEventListener("message",this.messageHandler),o(),[2]}})})})},t.prototype.sendData=function(e,n){return n===void 0&&(n=5e3),df(this,void 0,void 0,function(){var o,i;return hf(this,function(s){return o=this.transportRequestManager.addRequest(e,null),i=dg.getNotifications(e),this.frame&&(this.frame.postMessage(e.request,"*"),this.transportRequestManager.settlePendingRequest(i)),[2,o]})})},t.prototype.close=function(){var e=document.getElementById(this.postMessageID);e==null||e.remove(),window.removeEventListener("message",this.messageHandler)},t}(lg.Transport);Pe.default=hg});var bf=Ft(Ir=>{"use strict";p();g();var gf=Ir&&Ir.__awaiter||function(r,t,e,n){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function c(l){try{a(n.next(l))}catch(f){s(f)}}function u(l){try{a(n.throw(l))}catch(f){s(f)}}function a(l){l.done?i(l.value):o(l.value).then(c,u)}a((n=n.apply(r,t||[])).next())})},mf=Ir&&Ir.__generator||function(r,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(a){return function(l){return u([a,l])}}function u(a){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,o&&(i=a[0]&2?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,o=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){e=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){e.label=a[1];break}if(a[0]===6&&e.label<i[1]){e.label=i[1],i=a;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(a);break}i[2]&&e.ops.pop(),e.trys.pop();continue}a=t.call(r,e)}catch(l){a=[6,l],o=0}finally{n=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(Ir,"__esModule",{value:!0});var pg=function(){function r(t){this.requestManager=t}return r.prototype.startBatch=function(){return this.requestManager.startBatch()},r.prototype.stopBatch=function(){return this.requestManager.stopBatch()},r.prototype.request=function(t,e){return gf(this,void 0,void 0,function(){return mf(this,function(n){switch(n.label){case 0:return this.requestManager.connectPromise?[4,this.requestManager.connectPromise]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2,this.requestManager.request(t,!1,e)]}})})},r.prototype.notify=function(t){return gf(this,void 0,void 0,function(){return mf(this,function(e){switch(e.label){case 0:return this.requestManager.connectPromise?[4,this.requestManager.connectPromise]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2,this.requestManager.request(t,!0,null)]}})})},r.prototype.onNotification=function(t){this.requestManager.requestChannel.addListener("notification",t)},r.prototype.onError=function(t){this.requestManager.requestChannel.addListener("error",t)},r.prototype.close=function(){this.requestManager.close()},r}();Ir.default=pg});var ba=Ft(ht=>{"use strict";p();g();var Or=ht&&ht.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ht,"__esModule",{value:!0});ht.PostMessageIframeTransport=ht.PostMessageWindowTransport=ht.JSONRPCError=ht.WebSocketTransport=ht.EventEmitterTransport=ht.HTTPTransport=ht.RequestManager=ht.Client=void 0;var gg=Or(Yu());ht.RequestManager=gg.default;var mg=Or(Qu());ht.EventEmitterTransport=mg.default;var bg=Or(rf());ht.HTTPTransport=bg.default;var yg=Or(cf());ht.WebSocketTransport=yg.default;var wg=Or(lf());ht.PostMessageWindowTransport=wg.default;var xg=Or(pf());ht.PostMessageIframeTransport=xg.default;var Eg=Yr();Object.defineProperty(ht,"JSONRPCError",{enumerable:!0,get:function(){return Eg.JSONRPCError}});var yf=Or(bf());ht.Client=yf.default;ht.default=yf.default});p();g();p();g();var Zo=st(If(),1);function Cf(r){return r>64&&r<91?r-65:r>96&&r<123?r-71:r>47&&r<58?r+4:r===43?62:r===47?63:0}function ft(r,t){for(var e=r.replace(/[^A-Za-z0-9+/]/g,""),n=e.length,o=t?Math.ceil((n*3+1>>2)/t)*t:n*3+1>>2,i=new Uint8Array(o),s,c,u=0,a=0,l=0;l<n;l++)if(c=l&3,u|=Cf(e.charCodeAt(l))<<6*(3-c),c===3||n-l===1){for(s=0;s<3&&a<o;s++,a++)i[a]=u>>>(16>>>s&24)&255;u=0}return i}function In(r){return r<26?r+65:r<52?r+71:r<62?r-4:r===62?43:r===63?47:65}function bt(r){for(var t=2,e="",n=r.length,o=0,i=0;i<n;i++)t=i%3,o|=r[i]<<(16>>>t&24),(t===2||r.length-i===1)&&(e+=String.fromCodePoint(In(o>>>18&63),In(o>>>12&63),In(o>>>6&63),In(o&63)),o=0);return e.slice(0,e.length-2+t)+(t===2?"":t===1?"=":"==")}function On(r){let t=r.replace("0x","").match(/.{1,2}/g).map(e=>parseInt(e,16));if(t===null)throw new Error(`Unable to parse HEX: ${r}`);return Uint8Array.from(t)}function Pr(r){return r.reduce((t,e)=>t+e.toString(16).padStart(2,"0"),"")}var kf=32;function Fo(r,t){let e=new Uint8Array(t),n=0;for(;r>0;)e[n]=Number(r%BigInt(256)),r=r/BigInt(256),n+=1;return e}var Cn=r=>Zo.default.encode(r),Nr=r=>Zo.default.decode(r),Rf=class{constructor(r){this.bytePosition=0,this.dataView=new DataView(r.buffer)}shift(r){return this.bytePosition+=r,this}read8(){let r=this.dataView.getUint8(this.bytePosition);return this.shift(1),r}read16(){let r=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),r}read32(){let r=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),r}read64(){let r=this.read32(),e=this.read32().toString(16)+r.toString(16).padStart(8,"0");return BigInt("0x"+e).toString(10)}read128(){let r=BigInt(this.read64()),e=BigInt(this.read64()).toString(16)+r.toString(16).padStart(16,"0");return BigInt("0x"+e).toString(10)}read256(){let r=BigInt(this.read128()),e=BigInt(this.read128()).toString(16)+r.toString(16).padStart(32,"0");return BigInt("0x"+e).toString(10)}readBytes(r){let t=this.bytePosition+this.dataView.byteOffset,e=new Uint8Array(this.dataView.buffer,t,r);return this.shift(r),e}readULEB(){let r=this.bytePosition+this.dataView.byteOffset,t=new Uint8Array(this.dataView.buffer,r),{value:e,length:n}=Uf(t);return this.shift(n),e}readVec(r){let t=this.readULEB(),e=[];for(let n=0;n<t;n++)e.push(r(this,n,t));return e}},Pf=class{constructor({size:r=1024,maxSize:t,allocateSize:e=1024}={}){this.bytePosition=0,this.size=r,this.maxSize=t||r,this.allocateSize=e,this.dataView=new DataView(new ArrayBuffer(r))}ensureSizeOrGrow(r){let t=this.bytePosition+r;if(t>this.size){let e=Math.min(this.maxSize,this.size+this.allocateSize);if(t>e)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${t}`);this.size=e;let n=new ArrayBuffer(this.size);new Uint8Array(n).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(n)}}shift(r){return this.bytePosition+=r,this}write8(r){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(r)),this.shift(1)}write16(r){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(r),!0),this.shift(2)}write32(r){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(r),!0),this.shift(4)}write64(r){return Fo(BigInt(r),8).forEach(t=>this.write8(t)),this}write128(r){return Fo(BigInt(r),16).forEach(t=>this.write8(t)),this}write256(r){return Fo(BigInt(r),32).forEach(t=>this.write8(t)),this}writeULEB(r){return Nf(r).forEach(t=>this.write8(t)),this}writeVec(r,t){return this.writeULEB(r.length),Array.from(r).forEach((e,n)=>t(this,e,n,r.length)),this}*[Symbol.iterator](){for(let r=0;r<this.bytePosition;r++)yield this.dataView.getUint8(r);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(r){return Mf(this.toBytes(),r)}};function Nf(r){let t=[],e=0;if(r===0)return[0];for(;r>0;)t[e]=r&127,(r>>=7)&&(t[e]|=128),e+=1;return t}function Uf(r){let t=0,e=0,n=0;for(;;){let o=r[n];if(n+=1,t|=(o&127)<<e,(o&128)===0)break;e+=7}return{value:t,length:n}}var cn=class{constructor(r){if(this.types=new Map,this.counter=0,r instanceof cn){this.schema=r.schema,this.types=new Map(r.types);return}if(this.schema=r,this.registerAddressType(cn.ADDRESS,r.addressLength,r.addressEncoding),this.registerVectorType(r.vectorType),r.types&&r.types.structs)for(let t of Object.keys(r.types.structs))this.registerStructType(t,r.types.structs[t]);if(r.types&&r.types.enums)for(let t of Object.keys(r.types.enums))this.registerEnumType(t,r.types.enums[t]);if(r.types&&r.types.aliases)for(let t of Object.keys(r.types.aliases))this.registerAlias(t,r.types.aliases[t]);r.withPrimitives!==!1&&jf(this)}tempKey(){return`bcs-struct-${++this.counter}`}ser(r,t,e){if(typeof r=="string"||Array.isArray(r)){let{name:n,params:o}=this.parseTypeName(r);return this.getTypeInterface(n).encode(this,t,e,o)}if(typeof r=="object"){let n=this.tempKey();return new cn(this).registerStructType(n,r).ser(n,t,e)}throw new Error(`Incorrect type passed into the '.ser()' function. 
${JSON.stringify(r)}`)}de(r,t,e){if(typeof t=="string")if(e)t=Df(t,e);else throw new Error("To pass a string to `bcs.de`, specify encoding");if(typeof r=="string"||Array.isArray(r)){let{name:n,params:o}=this.parseTypeName(r);return this.getTypeInterface(n).decode(this,t,o)}if(typeof r=="object"){let n=new cn(this),o=this.tempKey();return n.registerStructType(o,r).de(o,t,e)}throw new Error(`Incorrect type passed into the '.de()' function. 
${JSON.stringify(r)}`)}hasType(r){return this.types.has(r)}registerAlias(r,t){return this.types.set(r,t),this}registerType(r,t,e,n=()=>!0){let{name:o,params:i}=this.parseTypeName(r);return this.types.set(o,{encode(s,c,u,a){let l=i.reduce((f,m,E)=>Object.assign(f,{[m]:a[E]}),{});return this._encodeRaw.call(s,new Pf(u),c,a,l)},decode(s,c,u){let a=i.reduce((l,f,m)=>Object.assign(l,{[f]:u[m]}),{});return this._decodeRaw.call(s,new Rf(c),u,a)},_encodeRaw(s,c,u,a){if(n(c))return t.call(this,s,c,u,a);throw new Error(`Validation failed for type ${o}, data: ${c}`)},_decodeRaw(s,c,u){return e.call(this,s,c,u)}}),this}registerAddressType(r,t,e="hex"){switch(e){case"base64":return this.registerType(r,function(o,i){return ft(i).reduce((s,c)=>s.write8(c),o)},function(o){return bt(o.readBytes(t))});case"hex":return this.registerType(r,function(o,i){return On(i).reduce((s,c)=>s.write8(c),o)},function(o){return Pr(o.readBytes(t))});default:throw new Error("Unsupported encoding! Use either hex or base64")}}registerVectorType(r){let{name:t,params:e}=this.parseTypeName(r);if(e.length>1)throw new Error("Vector can have only one type parameter; got "+t);return this.registerType(r,function(o,i,s,c){return o.writeVec(i,(u,a)=>{let l=s[0];if(!l)throw new Error(`Incorrect number of type parameters passed a to vector '${r}'`);let{name:f,params:m}=this.parseTypeName(l);if(this.hasType(f))return this.getTypeInterface(f)._encodeRaw.call(this,u,a,m,c);if(!(f in c))throw new Error(`Unable to find a matching type definition for ${f} in vector; make sure you passed a generic`);let{name:E,params:y}=this.parseTypeName(c[f]);return this.getTypeInterface(E)._encodeRaw.call(this,u,a,y,c)})},function(o,i,s){return o.readVec(c=>{let u=i[0];if(!u)throw new Error(`Incorrect number of type parameters passed to a vector '${r}'`);let{name:a,params:l}=this.parseTypeName(u);if(this.hasType(a))return this.getTypeInterface(a)._decodeRaw.call(this,c,l,s);if(!(a in s))throw new Error(`Unable to find a matching type definition for ${a} in vector; make sure you passed a generic`);let{name:f,params:m}=this.parseTypeName(s[a]);return this.getTypeInterface(f)._decodeRaw.call(this,c,m,s)})})}registerStructType(r,t){for(let s in t){let c=this.tempKey(),u=t[s];!Array.isArray(u)&&typeof u!="string"&&(t[s]=c,this.registerStructType(c,u))}let e=Object.freeze(t),n=Object.keys(e),{name:o,params:i}=this.parseTypeName(r);return this.registerType(r,function(c,u,a,l){if(!u||u.constructor!==Object)throw new Error(`Expected ${o} to be an Object, got: ${u}`);if(a.length!==i.length)throw new Error(`Incorrect number of generic parameters passed; expected: ${i.length}, got: ${a.length}`);for(let f of n){if(!(f in u))throw new Error(`Struct ${o} requires field ${f}:${e[f]}`);let{name:m,params:E}=this.parseTypeName(e[f]);if(!i.includes(m))this.getTypeInterface(m)._encodeRaw.call(this,c,u[f],E,l);else{let y=i.indexOf(m),{name:h,params:b}=this.parseTypeName(a[y]);if(this.hasType(h)){this.getTypeInterface(h)._encodeRaw.call(this,c,u[f],b,l);continue}if(!(h in l))throw new Error(`Unable to find a matching type definition for ${h} in ${o}; make sure you passed a generic`);let{name:T,params:A}=this.parseTypeName(l[h]);this.getTypeInterface(T)._encodeRaw.call(this,c,u[f],A,l)}}return c},function(c,u,a){if(u.length!==i.length)throw new Error(`Incorrect number of generic parameters passed; expected: ${i.length}, got: ${u.length}`);let l={};for(let f of n){let{name:m,params:E}=this.parseTypeName(e[f]);if(!i.includes(m))l[f]=this.getTypeInterface(m)._decodeRaw.call(this,c,E,a);else{let y=i.indexOf(m),{name:h,params:b}=this.parseTypeName(u[y]);if(this.hasType(h)){l[f]=this.getTypeInterface(h)._decodeRaw.call(this,c,b,a);continue}if(!(h in a))throw new Error(`Unable to find a matching type definition for ${h} in ${o}; make sure you passed a generic`);let{name:T,params:A}=this.parseTypeName(a[h]);l[f]=this.getTypeInterface(T)._decodeRaw.call(this,c,A,a)}}return l})}registerEnumType(r,t){for(let s in t){let c=this.tempKey(),u=t[s];u!==null&&!Array.isArray(u)&&typeof u!="string"&&(t[s]=c,this.registerStructType(c,u))}let e=Object.freeze(t),n=Object.keys(e),{name:o,params:i}=this.parseTypeName(r);return this.registerType(r,function(c,u,a,l){if(!u)throw new Error(`Unable to write enum "${o}", missing data.
Received: "${u}"`);if(typeof u!="object")throw new Error(`Incorrect data passed into enum "${o}", expected object with properties: "${n.join(" | ")}".
Received: "${JSON.stringify(u)}"`);let f=Object.keys(u)[0];if(f===void 0)throw new Error(`Empty object passed as invariant of the enum "${o}"`);let m=n.indexOf(f);if(m===-1)throw new Error(`Unknown invariant of the enum "${o}", allowed values: "${n.join(" | ")}"; received "${f}"`);let E=n[m],y=e[E];if(c.write8(m),y===null)return c;let h=i.indexOf(y),b=h===-1?y:a[h];{let{name:T,params:A}=this.parseTypeName(b);return this.getTypeInterface(T)._encodeRaw.call(this,c,u[f],A,l)}},function(c,u,a){let l=c.readULEB(),f=n[l],m=e[f];if(l===-1)throw new Error(`Decoding type mismatch, expected enum "${o}" invariant index, received "${l}"`);if(m===null)return{[f]:!0};let E=i.indexOf(m),y=E===-1?m:u[E];{let{name:h,params:b}=this.parseTypeName(y);return{[f]:this.getTypeInterface(h)._decodeRaw.call(this,c,b,a)}}})}getTypeInterface(r){let t=this.types.get(r);if(typeof t=="string"){let e=[];for(;typeof t=="string";){if(e.includes(t))throw new Error(`Recursive definition found: ${e.join(" -> ")} -> ${t}`);e.push(t),t=this.types.get(t)}}if(t===void 0)throw new Error(`Type ${r} is not registered`);return t}parseTypeName(r){if(Array.isArray(r)){let[c,...u]=r;return{name:c,params:u}}if(typeof r!="string")throw new Error(`Illegal type passed as a name of the type: ${r}`);let[t,e]=this.schema.genericSeparators||["<",">"],n=r.indexOf(t),o=Array.from(r).reverse().indexOf(e);if(n===-1&&o===-1)return{name:r,params:[]};if(n===-1||o===-1)throw new Error(`Unclosed generic in name '${r}'`);let i=r.slice(0,n),s=kn(r.slice(n+1,r.length-o-1),this.schema.genericSeparators);return{name:i,params:s}}},L=cn;L.U8="u8";L.U16="u16";L.U32="u32";L.U64="u64";L.U128="u128";L.U256="u256";L.BOOL="bool";L.VECTOR="vector";L.ADDRESS="address";L.STRING="string";L.HEX="hex-string";L.BASE58="base58-string";L.BASE64="base64-string";function Mf(r,t){switch(t){case"base58":return Cn(r);case"base64":return bt(r);case"hex":return Pr(r);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function Df(r,t){switch(t){case"base58":return Nr(r);case"base64":return ft(r);case"hex":return On(r);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function jf(r){r.registerType(L.U8,function(t,e){return t.write8(e)},function(t){return t.read8()},t=>t<256),r.registerType(L.U16,function(t,e){return t.write16(e)},function(t){return t.read16()},t=>t<65536),r.registerType(L.U32,function(t,e){return t.write32(e)},function(t){return t.read32()},t=>t<=4294967296n),r.registerType(L.U64,function(t,e){return t.write64(e)},function(t){return t.read64()}),r.registerType(L.U128,function(t,e){return t.write128(e)},function(t){return t.read128()}),r.registerType(L.U256,function(t,e){return t.write256(e)},function(t){return t.read256()}),r.registerType(L.BOOL,function(t,e){return t.write8(e)},function(t){return t.read8().toString(10)==="1"}),r.registerType(L.STRING,function(t,e){return t.writeVec(Array.from(e),(n,o)=>n.write8(o.charCodeAt(0)))},function(t){return t.readVec(e=>e.read8()).map(e=>String.fromCharCode(Number(e))).join("")},t=>!0),r.registerType(L.HEX,function(t,e){return t.writeVec(Array.from(On(e)),(n,o)=>n.write8(o))},function(t){let e=t.readVec(n=>n.read8());return Pr(new Uint8Array(e))}),r.registerType(L.BASE58,function(t,e){return t.writeVec(Array.from(Nr(e)),(n,o)=>n.write8(o))},function(t){let e=t.readVec(n=>n.read8());return Cn(new Uint8Array(e))}),r.registerType(L.BASE64,function(t,e){return t.writeVec(Array.from(ft(e)),(n,o)=>n.write8(o))},function(t){let e=t.readVec(n=>n.read8());return bt(new Uint8Array(e))})}function _a(){return{genericSeparators:["<",">"],vectorType:"vector",addressLength:kf,addressEncoding:"hex"}}function kn(r,t=["<",">"]){let[e,n]=t,o=[],i="",s=0;for(let c=0;c<r.length;c++){let u=r[c];if(u===e&&s++,u===n&&s--,s===0&&u===","){o.push(i.trim()),i="";continue}i+=u}return o.push(i.trim()),o}var Ke=st(mt(),1);p();g();p();g();var W=st(mt(),1),Lf=(0,W.string)(),qf=(0,W.string)(),Hf=(0,W.string)(),Kf=(0,W.string)(),Vf=(0,W.string)(),Gf=(0,W.string)(),de=(0,W.union)([(0,W.object)({AddressOwner:(0,W.string)()}),(0,W.object)({ObjectOwner:(0,W.string)()}),(0,W.object)({Shared:(0,W.object)({initial_shared_version:(0,W.nullable)((0,W.string)())})}),(0,W.literal)("Immutable")]),Yo=(0,W.define)("SuiJsonValue",()=>!0),$f=(0,W.union)([(0,W.object)({u32:(0,W.string)()}),(0,W.object)({u64:(0,W.string)()}),(0,W.object)({f64:(0,W.string)()})]),Jo=(0,W.object)({attributes:(0,W.record)((0,W.string)(),(0,W.nullable)($f)),featureFlags:(0,W.record)((0,W.string)(),(0,W.boolean)()),maxSupportedProtocolVersion:(0,W.string)(),minSupportedProtocolVersion:(0,W.string)(),protocolVersion:(0,W.string)()});p();g();var x=st(mt(),1);var Wf=(0,x.union)([(0,x.string)(),(0,x.literal)("package")]),It=(0,x.object)({digest:(0,x.string)(),objectId:(0,x.string)(),version:(0,x.union)([(0,x.number)(),(0,x.string)()])}),Xo=(0,x.object)({payment:(0,x.array)(It),owner:(0,x.string)(),price:(0,x.string)(),budget:(0,x.string)()}),Aa=(0,x.assign)(It,(0,x.object)({type:(0,x.string)(),owner:de,previousTransaction:(0,x.string)()})),Ia=(0,x.record)((0,x.string)(),(0,x.any)()),Oa=(0,x.record)((0,x.string)(),(0,x.unknown)()),Ca=(0,x.object)({type:(0,x.string)(),fields:Ia,hasPublicTransfer:(0,x.boolean)()}),un=(0,x.object)({disassembled:Oa}),ka=(0,x.union)([(0,x.assign)(Ca,(0,x.object)({dataType:(0,x.literal)("moveObject")})),(0,x.assign)(un,(0,x.object)({dataType:(0,x.literal)("package")}))]),Ra=(0,x.object)({type:(0,x.string)(),hasPublicTransfer:(0,x.boolean)(),version:(0,x.string)(),bcsBytes:(0,x.string)()}),Pa=(0,x.object)({id:(0,x.string)(),moduleMap:(0,x.record)((0,x.string)(),(0,x.string)())}),Na=(0,x.union)([(0,x.assign)(Ra,(0,x.object)({dataType:(0,x.literal)("moveObject")})),(0,x.assign)(Pa,(0,x.object)({dataType:(0,x.literal)("package")}))]);var zf=BigInt(1e9),Ff=(0,x.string)(),Qo=(0,x.object)({code:(0,x.string)(),error:(0,x.optional)((0,x.string)()),object_id:(0,x.optional)((0,x.string)()),parent_object_id:(0,x.optional)((0,x.string)()),version:(0,x.optional)((0,x.string)()),digest:(0,x.optional)((0,x.string)())}),Ua=(0,x.object)({data:(0,x.nullable)((0,x.optional)((0,x.record)((0,x.string)(),(0,x.string)()))),error:(0,x.nullable)((0,x.optional)(Qo))}),Ma=(0,x.union)([Ua,(0,x.optional)((0,x.record)((0,x.string)(),(0,x.string)()))]),ti=(0,x.object)({objectId:(0,x.string)(),version:(0,x.string)(),digest:(0,x.string)(),type:(0,x.nullable)((0,x.optional)((0,x.string)())),content:(0,x.nullable)((0,x.optional)(ka)),bcs:(0,x.nullable)((0,x.optional)(Na)),owner:(0,x.nullable)((0,x.optional)(de)),previousTransaction:(0,x.nullable)((0,x.optional)((0,x.string)())),storageRebate:(0,x.nullable)((0,x.optional)((0,x.string)())),display:(0,x.nullable)((0,x.optional)(Ma))}),Zf=(0,x.object)({showType:(0,x.nullable)((0,x.optional)((0,x.boolean)())),showContent:(0,x.nullable)((0,x.optional)((0,x.boolean)())),showBcs:(0,x.nullable)((0,x.optional)((0,x.boolean)())),showOwner:(0,x.nullable)((0,x.optional)((0,x.boolean)())),showPreviousTransaction:(0,x.nullable)((0,x.optional)((0,x.boolean)())),showStorageRebate:(0,x.nullable)((0,x.optional)((0,x.boolean)())),showDisplay:(0,x.nullable)((0,x.optional)((0,x.boolean)()))}),Yf=(0,x.union)([(0,x.literal)("Exists"),(0,x.literal)("notExists"),(0,x.literal)("Deleted")]),Jf=(0,x.array)(Aa),Ur=(0,x.object)({data:(0,x.nullable)((0,x.optional)(ti)),error:(0,x.nullable)((0,x.optional)(Qo))});function Da(r){return r.data}function ja(r){if(r.error&&"object_id"in r.error&&"version"in r.error&&"digest"in r.error){let t=r.error;return{objectId:t.object_id,version:t.version,digest:t.digest}}}function Rn(r){if("reference"in r)return r.reference;let t=Da(r);return t?{objectId:t.objectId,version:t.version,digest:t.digest}:ja(r)}var Xf=(0,x.object)({objectId:(0,x.string)(),atCheckpoint:(0,x.optional)((0,x.number)())}),ei=(0,x.object)({data:(0,x.array)(Ur),nextCursor:(0,x.optional)((0,x.nullable)((0,x.string)())),hasNextPage:(0,x.boolean)()}),ri=(0,x.union)([(0,x.object)({details:ti,status:(0,x.literal)("VersionFound")}),(0,x.object)({details:(0,x.string)(),status:(0,x.literal)("ObjectNotExists")}),(0,x.object)({details:It,status:(0,x.literal)("ObjectDeleted")}),(0,x.object)({details:(0,x.tuple)([(0,x.string)(),(0,x.number)()]),status:(0,x.literal)("VersionNotFound")}),(0,x.object)({details:(0,x.object)({asked_version:(0,x.number)(),latest_version:(0,x.number)(),object_id:(0,x.string)()}),status:(0,x.literal)("VersionTooHigh")})]);p();g();var et=st(mt(),1),ni=(0,et.object)({txDigest:(0,et.string)(),eventSeq:(0,et.string)()}),Pn=(0,et.object)({id:ni,packageId:(0,et.string)(),transactionModule:(0,et.string)(),sender:(0,et.string)(),type:(0,et.string)(),parsedJson:(0,et.optional)((0,et.record)((0,et.string)(),(0,et.any)())),bcs:(0,et.optional)((0,et.string)()),timestampMs:(0,et.optional)((0,et.string)())}),oi=(0,et.object)({data:(0,et.array)(Pn),nextCursor:(0,et.nullable)(ni),hasNextPage:(0,et.boolean)()});p();g();var d=st(mt(),1);var Qf=(0,d.string)(),La=(0,d.object)({epoch:(0,d.string)(),storage_charge:(0,d.string)(),computation_charge:(0,d.string)(),storage_rebate:(0,d.string)(),epoch_start_timestamp_ms:(0,d.optional)((0,d.string)())}),qa=(0,d.object)({epoch:(0,d.string)(),round:(0,d.string)(),commit_timestamp_ms:(0,d.string)()}),Ha=(0,d.object)({objects:(0,d.array)((0,d.string)())}),Zt=(0,d.union)([(0,d.literal)("GasCoin"),(0,d.object)({Input:(0,d.number)()}),(0,d.object)({Result:(0,d.number)()}),(0,d.object)({NestedResult:(0,d.tuple)([(0,d.number)(),(0,d.number)()])})]),Ka=(0,d.object)({arguments:(0,d.optional)((0,d.array)(Zt)),type_arguments:(0,d.optional)((0,d.array)((0,d.string)())),package:(0,d.string)(),module:(0,d.string)(),function:(0,d.string)()}),Va=(0,d.union)([(0,d.object)({MoveCall:Ka}),(0,d.object)({TransferObjects:(0,d.tuple)([(0,d.array)(Zt),Zt])}),(0,d.object)({SplitCoins:(0,d.tuple)([Zt,(0,d.array)(Zt)])}),(0,d.object)({MergeCoins:(0,d.tuple)([Zt,(0,d.array)(Zt)])}),(0,d.object)({Publish:(0,d.union)([(0,d.tuple)([un,(0,d.array)((0,d.string)())]),(0,d.array)((0,d.string)())])}),(0,d.object)({Upgrade:(0,d.union)([(0,d.tuple)([un,(0,d.array)((0,d.string)()),(0,d.string)(),Zt]),(0,d.tuple)([(0,d.array)((0,d.string)()),(0,d.string)(),Zt])])}),(0,d.object)({MakeMoveVec:(0,d.tuple)([(0,d.nullable)((0,d.string)()),(0,d.array)(Zt)])})]),Ga=(0,d.union)([(0,d.object)({type:(0,d.literal)("pure"),valueType:(0,d.nullable)((0,d.string)()),value:Yo}),(0,d.object)({type:(0,d.literal)("object"),objectType:(0,d.literal)("immOrOwnedObject"),objectId:(0,d.string)(),version:(0,d.string)(),digest:(0,d.string)()}),(0,d.object)({type:(0,d.literal)("object"),objectType:(0,d.literal)("sharedObject"),objectId:(0,d.string)(),initialSharedVersion:(0,d.string)(),mutable:(0,d.boolean)()})]),$a=(0,d.object)({transactions:(0,d.array)(Va),inputs:(0,d.array)(Ga)}),Wa=(0,d.union)([(0,d.assign)(La,(0,d.object)({kind:(0,d.literal)("ChangeEpoch")})),(0,d.assign)(qa,(0,d.object)({kind:(0,d.literal)("ConsensusCommitPrologue")})),(0,d.assign)(Ha,(0,d.object)({kind:(0,d.literal)("Genesis")})),(0,d.assign)($a,(0,d.object)({kind:(0,d.literal)("ProgrammableTransaction")}))]),ii=(0,d.object)({messageVersion:(0,d.literal)("v1"),transaction:Wa,sender:(0,d.string)(),gasData:Xo}),tl=(0,d.string)(),za=(0,d.union)([(0,d.string)(),(0,d.array)((0,d.string)())]),el=(0,d.object)({epoch:(0,d.string)(),signature:za,signers_map:(0,d.array)((0,d.number)())}),rl=(0,d.object)({computationCost:(0,d.string)(),storageCost:(0,d.string)(),storageRebate:(0,d.string)(),nonRefundableStorageFee:(0,d.string)()}),Fa=(0,d.union)([(0,d.literal)("success"),(0,d.literal)("failure")]),Za=(0,d.object)({status:Fa,error:(0,d.optional)((0,d.string)())}),fn=(0,d.object)({owner:de,reference:It}),Ya=(0,d.object)({objectId:(0,d.string)(),sequenceNumber:(0,d.string)()}),Nn=(0,d.object)({messageVersion:(0,d.literal)("v1"),status:Za,executedEpoch:(0,d.string)(),modifiedAtVersions:(0,d.optional)((0,d.array)(Ya)),gasUsed:rl,sharedObjects:(0,d.optional)((0,d.array)(It)),transactionDigest:(0,d.string)(),created:(0,d.optional)((0,d.array)(fn)),mutated:(0,d.optional)((0,d.array)(fn)),unwrapped:(0,d.optional)((0,d.array)(fn)),deleted:(0,d.optional)((0,d.array)(It)),unwrappedThenDeleted:(0,d.optional)((0,d.array)(It)),wrapped:(0,d.optional)((0,d.array)(It)),gasObject:fn,eventsDigest:(0,d.nullable)((0,d.optional)((0,d.string)())),dependencies:(0,d.optional)((0,d.array)((0,d.string)()))}),Un=(0,d.array)(Pn),nl=(0,d.tuple)([(0,d.array)((0,d.number)()),(0,d.string)()]),ol=(0,d.tuple)([Zt,(0,d.array)((0,d.number)()),(0,d.string)()]),il=(0,d.object)({mutableReferenceOutputs:(0,d.optional)((0,d.array)(ol)),returnValues:(0,d.optional)((0,d.array)(nl))}),si=(0,d.object)({effects:Nn,events:Un,results:(0,d.optional)((0,d.array)(il)),error:(0,d.optional)((0,d.string)())}),sl=(0,d.string)(),Ja=(0,d.object)({data:ii,txSignatures:(0,d.array)((0,d.string)())}),Xa=(0,d.object)({type:(0,d.literal)("published"),packageId:(0,d.string)(),version:(0,d.string)(),digest:(0,d.string)(),modules:(0,d.array)((0,d.string)())}),Qa=(0,d.object)({type:(0,d.literal)("transferred"),sender:(0,d.string)(),recipient:de,objectType:(0,d.string)(),objectId:(0,d.string)(),version:(0,d.string)(),digest:(0,d.string)()}),tc=(0,d.object)({type:(0,d.literal)("mutated"),sender:(0,d.string)(),owner:de,objectType:(0,d.string)(),objectId:(0,d.string)(),version:(0,d.string)(),previousVersion:(0,d.string)(),digest:(0,d.string)()}),ec=(0,d.object)({type:(0,d.literal)("deleted"),sender:(0,d.string)(),objectType:(0,d.string)(),objectId:(0,d.string)(),version:(0,d.string)()}),rc=(0,d.object)({type:(0,d.literal)("wrapped"),sender:(0,d.string)(),objectType:(0,d.string)(),objectId:(0,d.string)(),version:(0,d.string)()}),nc=(0,d.object)({type:(0,d.literal)("created"),sender:(0,d.string)(),owner:de,objectType:(0,d.string)(),objectId:(0,d.string)(),version:(0,d.string)(),digest:(0,d.string)()}),ai=(0,d.union)([Xa,Qa,tc,ec,rc,nc]),ci=(0,d.object)({owner:de,coinType:(0,d.string)(),amount:(0,d.string)()}),Mr=(0,d.object)({digest:(0,d.string)(),transaction:(0,d.optional)(Ja),effects:(0,d.optional)(Nn),events:(0,d.optional)(Un),timestampMs:(0,d.optional)((0,d.string)()),checkpoint:(0,d.optional)((0,d.string)()),confirmedLocalExecution:(0,d.optional)((0,d.boolean)()),objectChanges:(0,d.optional)((0,d.array)(ai)),balanceChanges:(0,d.optional)((0,d.array)(ci)),errors:(0,d.optional)((0,d.array)((0,d.string)()))}),al=(0,d.object)({showInput:(0,d.optional)((0,d.boolean)()),showEffects:(0,d.optional)((0,d.boolean)()),showEvents:(0,d.optional)((0,d.boolean)()),showObjectChanges:(0,d.optional)((0,d.boolean)()),showBalanceChanges:(0,d.optional)((0,d.boolean)())}),ui=(0,d.object)({data:(0,d.array)(Mr),nextCursor:(0,d.nullable)((0,d.string)()),hasNextPage:(0,d.boolean)()}),fi=(0,d.object)({effects:Nn,events:Un,objectChanges:(0,d.array)(ai),balanceChanges:(0,d.array)(ci),input:(0,d.optional)(ii)});p();g();var D=st(mt(),1),oc=(0,D.union)([(0,D.string)(),(0,D.object)({Object:(0,D.string)()})]),li=(0,D.array)(oc),ic=(0,D.object)({address:(0,D.string)(),name:(0,D.string)()}),sc=(0,D.union)([(0,D.literal)("Private"),(0,D.literal)("Public"),(0,D.literal)("Friend")]),Dn=(0,D.object)({abilities:(0,D.array)((0,D.string)())}),ac=(0,D.object)({constraints:Dn,isPhantom:(0,D.boolean)()}),cc=(0,D.object)({TypeParameter:(0,D.number)()}),Mn=(0,D.tuple)([(0,D.object)({module:(0,D.string)(),package:(0,D.string)(),function:(0,D.string)()}),(0,D.string)()]),di=(0,D.object)({rank3Days:(0,D.array)(Mn),rank7Days:(0,D.array)(Mn),rank30Days:(0,D.array)(Mn)});function uc(r){if(!r)return!1;if(typeof r=="string"||(0,D.is)(r,cc)||fc(r))return!0;if(typeof r!="object")return!1;let t=r;return!!((0,D.is)(t.Reference,dr)||(0,D.is)(t.MutableReference,dr)||(0,D.is)(t.Vector,dr))}var dr=(0,D.define)("SuiMoveNormalizedType",uc);function fc(r){if(!r||typeof r!="object")return!1;let t=r;if(!t.Struct||typeof t.Struct!="object")return!1;let e=t.Struct;return!(typeof e.address!="string"||typeof e.module!="string"||typeof e.name!="string"||!Array.isArray(e.typeArguments)||!e.typeArguments.every(n=>uc(n)))}var cl=(0,D.define)("SuiMoveNormalizedStructType",fc),jn=(0,D.object)({visibility:sc,isEntry:(0,D.boolean)(),typeParameters:(0,D.array)(Dn),parameters:(0,D.array)(dr),return:(0,D.array)(dr)}),lc=(0,D.object)({name:(0,D.string)(),type:dr}),Ln=(0,D.object)({abilities:Dn,typeParameters:(0,D.array)(ac),fields:(0,D.array)(lc)}),qn=(0,D.object)({fileFormatVersion:(0,D.number)(),address:(0,D.string)(),name:(0,D.string)(),friends:(0,D.array)(ic),structs:(0,D.record)((0,D.string)(),Ln),exposedFunctions:(0,D.record)((0,D.string)(),jn)}),hi=(0,D.record)((0,D.string)(),qn);function Hn(r){return typeof r=="object"&&"MutableReference"in r?r.MutableReference:void 0}function dc(r){return typeof r=="object"&&"Reference"in r?r.Reference:void 0}function ln(r){if(typeof r=="object"&&"Struct"in r)return r;let t=dc(r),e=Hn(r);if(typeof t=="object"&&"Struct"in t)return t;if(typeof e=="object"&&"Struct"in e)return e}p();g();var w=st(mt(),1),hc=(0,w.object)({apy:(0,w.number)(),address:(0,w.string)()}),pi=(0,w.object)({epoch:(0,w.string)(),apys:(0,w.array)(hc)}),ul=(0,w.object)({value:(0,w.number)()}),pc=(0,w.object)({stakedSuiId:(0,w.string)(),stakeRequestEpoch:(0,w.string)(),stakeActiveEpoch:(0,w.string)(),principal:(0,w.string)(),status:(0,w.union)([(0,w.literal)("Active"),(0,w.literal)("Pending"),(0,w.literal)("Unstaked")]),estimatedReward:(0,w.optional)((0,w.string)())}),Kn=(0,w.object)({validatorAddress:(0,w.string)(),stakingPool:(0,w.string)(),stakes:(0,w.array)(pc)}),gc=(0,w.object)({balance:(0,w.object)({value:(0,w.number)()}),distribution_counter:(0,w.number)(),current_distribution_amount:(0,w.number)(),stake_subsidy_period_length:(0,w.number)(),stake_subsidy_decrease_rate:(0,w.number)()}),fl=(0,w.object)({type:(0,w.string)(),fields:gc}),ll=(0,w.object)({value:(0,w.number)()}),mc=(0,w.object)({id:(0,w.string)(),size:(0,w.number)(),head:(0,w.object)({vec:(0,w.array)()}),tail:(0,w.object)({vec:(0,w.array)()})}),dl=(0,w.object)({id:(0,w.string)(),size:(0,w.number)()}),hl=(0,w.object)({type:(0,w.string)(),fields:mc}),bc=(0,w.object)({exchangeRates:(0,w.object)({id:(0,w.string)(),size:(0,w.number)()}),id:(0,w.string)(),pendingStake:(0,w.number)(),pendingPoolTokenWithdraw:(0,w.number)(),pendingTotalSuiWithdraw:(0,w.number)(),poolTokenBalance:(0,w.number)(),rewardsPool:(0,w.object)({value:(0,w.number)()}),activationEpoch:(0,w.object)({vec:(0,w.array)()}),deactivationEpoch:(0,w.object)({vec:(0,w.array)()}),suiBalance:(0,w.number)()}),pl=(0,w.object)({type:(0,w.string)(),fields:bc}),yc=(0,w.array)((0,w.tuple)([(0,w.string)(),(0,w.string)()])),gi=(0,w.object)({epoch:(0,w.string)(),validators:yc}),Vn=(0,w.object)({suiAddress:(0,w.string)(),protocolPubkeyBytes:(0,w.string)(),networkPubkeyBytes:(0,w.string)(),workerPubkeyBytes:(0,w.string)(),proofOfPossessionBytes:(0,w.string)(),operationCapId:(0,w.string)(),name:(0,w.string)(),description:(0,w.string)(),imageUrl:(0,w.string)(),projectUrl:(0,w.string)(),p2pAddress:(0,w.string)(),netAddress:(0,w.string)(),primaryAddress:(0,w.string)(),workerAddress:(0,w.string)(),nextEpochProtocolPubkeyBytes:(0,w.nullable)((0,w.string)()),nextEpochProofOfPossession:(0,w.nullable)((0,w.string)()),nextEpochNetworkPubkeyBytes:(0,w.nullable)((0,w.string)()),nextEpochWorkerPubkeyBytes:(0,w.nullable)((0,w.string)()),nextEpochNetAddress:(0,w.nullable)((0,w.string)()),nextEpochP2pAddress:(0,w.nullable)((0,w.string)()),nextEpochPrimaryAddress:(0,w.nullable)((0,w.string)()),nextEpochWorkerAddress:(0,w.nullable)((0,w.string)()),votingPower:(0,w.string)(),gasPrice:(0,w.string)(),commissionRate:(0,w.string)(),nextEpochStake:(0,w.string)(),nextEpochGasPrice:(0,w.string)(),nextEpochCommissionRate:(0,w.string)(),stakingPoolId:(0,w.string)(),stakingPoolActivationEpoch:(0,w.nullable)((0,w.string)()),stakingPoolDeactivationEpoch:(0,w.nullable)((0,w.string)()),stakingPoolSuiBalance:(0,w.string)(),rewardsPool:(0,w.string)(),poolTokenBalance:(0,w.string)(),pendingStake:(0,w.string)(),pendingPoolTokenWithdraw:(0,w.string)(),pendingTotalSuiWithdraw:(0,w.string)(),exchangeRatesId:(0,w.string)(),exchangeRatesSize:(0,w.string)()}),mi=(0,w.object)({epoch:(0,w.string)(),protocolVersion:(0,w.string)(),systemStateVersion:(0,w.string)(),storageFundTotalObjectStorageRebates:(0,w.string)(),storageFundNonRefundableBalance:(0,w.string)(),referenceGasPrice:(0,w.string)(),safeMode:(0,w.boolean)(),safeModeStorageRewards:(0,w.string)(),safeModeComputationRewards:(0,w.string)(),safeModeStorageRebates:(0,w.string)(),safeModeNonRefundableStorageFee:(0,w.string)(),epochStartTimestampMs:(0,w.string)(),epochDurationMs:(0,w.string)(),stakeSubsidyStartEpoch:(0,w.string)(),maxValidatorCount:(0,w.string)(),minValidatorJoiningStake:(0,w.string)(),validatorLowStakeThreshold:(0,w.string)(),validatorVeryLowStakeThreshold:(0,w.string)(),validatorLowStakeGracePeriod:(0,w.string)(),stakeSubsidyBalance:(0,w.string)(),stakeSubsidyDistributionCounter:(0,w.string)(),stakeSubsidyCurrentDistributionAmount:(0,w.string)(),stakeSubsidyPeriodLength:(0,w.string)(),stakeSubsidyDecreaseRate:(0,w.number)(),totalStake:(0,w.string)(),activeValidators:(0,w.array)(Vn),pendingActiveValidatorsId:(0,w.string)(),pendingActiveValidatorsSize:(0,w.string)(),pendingRemovals:(0,w.array)((0,w.string)()),stakingPoolMappingsId:(0,w.string)(),stakingPoolMappingsSize:(0,w.string)(),inactivePoolsId:(0,w.string)(),inactivePoolsSize:(0,w.string)(),validatorCandidatesId:(0,w.string)(),validatorCandidatesSize:(0,w.string)(),atRiskValidators:(0,w.array)((0,w.tuple)([(0,w.string)(),(0,w.string)()])),validatorReportRecords:(0,w.array)((0,w.tuple)([(0,w.string)(),(0,w.array)((0,w.string)())]))});p();g();var tt=st(mt(),1),wc=(0,tt.object)({coinType:(0,tt.string)(),coinObjectId:(0,tt.string)(),version:(0,tt.string)(),digest:(0,tt.string)(),balance:(0,tt.string)(),previousTransaction:(0,tt.string)()}),Gn=(0,tt.object)({data:(0,tt.array)(wc),nextCursor:(0,tt.nullable)((0,tt.string)()),hasNextPage:(0,tt.boolean)()}),$n=(0,tt.object)({coinType:(0,tt.string)(),coinObjectCount:(0,tt.number)(),totalBalance:(0,tt.string)(),lockedBalance:(0,tt.object)({epochId:(0,tt.optional)((0,tt.number)()),number:(0,tt.optional)((0,tt.number)())})}),bi=(0,tt.object)({value:(0,tt.string)()});p();g();var X=st(mt(),1);var xc=(0,X.object)({lastCheckpointId:(0,X.string)(),epochEndTimestamp:(0,X.string)(),protocolVersion:(0,X.string)(),referenceGasPrice:(0,X.string)(),totalStake:(0,X.string)(),storageFundReinvestment:(0,X.string)(),storageCharge:(0,X.string)(),storageRebate:(0,X.string)(),storageFundBalance:(0,X.string)(),stakeSubsidyAmount:(0,X.string)(),totalGasFees:(0,X.string)(),totalStakeRewardsDistributed:(0,X.string)(),leftoverStorageFundInflow:(0,X.string)()}),Wn=(0,X.object)({epoch:(0,X.string)(),validators:(0,X.array)(Vn),epochTotalTransactions:(0,X.string)(),firstCheckpointId:(0,X.string)(),epochStartTimestamp:(0,X.string)(),endOfEpochInfo:(0,X.nullable)(xc),referenceGasPrice:(0,X.nullable)((0,X.number)())}),yi=(0,X.object)({data:(0,X.array)(Wn),nextCursor:(0,X.nullable)((0,X.string)()),hasNextPage:(0,X.boolean)()});p();g();var ee=st(mt(),1),wi=(0,ee.object)({data:(0,ee.array)((0,ee.string)()),hasNextPage:(0,ee.boolean)(),nextCursor:(0,ee.nullable)((0,ee.string)())});p();g();var it=st(mt(),1),Ec=(0,it.union)([(0,it.literal)("DynamicField"),(0,it.literal)("DynamicObject")]),Sc=(0,it.object)({type:(0,it.string)(),value:(0,it.any)()}),vc=(0,it.object)({name:Sc,bcsName:(0,it.string)(),type:Ec,objectType:(0,it.string)(),objectId:(0,it.string)(),version:(0,it.number)(),digest:(0,it.string)()}),xi=(0,it.object)({data:(0,it.array)(vc),nextCursor:(0,it.nullable)((0,it.string)()),hasNextPage:(0,it.boolean)()});p();g();var G=st(mt(),1),Tc=(0,G.object)({computationCost:(0,G.string)(),storageCost:(0,G.string)(),storageRebate:(0,G.string)(),nonRefundableStorageFee:(0,G.string)()}),gl=(0,G.string)(),ml=(0,G.string)(),bl=(0,G.object)({digest:(0,G.array)((0,G.number)())}),Ei=(0,G.any)(),yl=(0,G.string)(),Bc=(0,G.object)({nextEpochCommittee:(0,G.array)((0,G.tuple)([(0,G.string)(),(0,G.string)()])),nextEpochProtocolVersion:(0,G.string)(),epochCommitments:(0,G.array)(Ei)}),wl=(0,G.object)({transaction:(0,G.string)(),effects:(0,G.string)()}),zn=(0,G.object)({epoch:(0,G.string)(),sequenceNumber:(0,G.string)(),digest:(0,G.string)(),networkTotalTransactions:(0,G.string)(),previousDigest:(0,G.optional)((0,G.string)()),epochRollingGasCostSummary:Tc,timestampMs:(0,G.string)(),endOfEpochData:(0,G.optional)(Bc),validatorSignature:(0,G.string)(),transactions:(0,G.array)((0,G.string)()),checkpointCommitments:(0,G.array)(Ei)}),Si=(0,G.object)({data:(0,G.array)(zn),nextCursor:(0,G.nullable)((0,G.string)()),hasNextPage:(0,G.boolean)()});p();g();var pt=st(mt(),1),vi=(0,pt.object)({currentTps:(0,pt.number)(),tps30Days:(0,pt.number)(),currentCheckpoint:(0,pt.string)(),currentEpoch:(0,pt.string)(),totalAddresses:(0,pt.string)(),totalObjects:(0,pt.string)(),totalPackages:(0,pt.string)()}),Fn=(0,pt.object)({checkpoint:(0,pt.number)(),epoch:(0,pt.number)(),timestampMs:(0,pt.number)(),cumulativeAddresses:(0,pt.number)(),cumulativeActiveAddresses:(0,pt.number)(),dailyActiveAddresses:(0,pt.number)()}),Ti=(0,pt.array)(Fn);p();g();var P=st(mt(),1);p();g();var _c=st(mt(),1);function Ot(r,t){return(0,_c.create)(r,t)}var Dr=Symbol("transaction-argument-type");p();g();p();g();var Tl=32;function Zn(r){try{return Nr(r).length===Tl}catch{return!1}}var dn=32;function re(r){return Bl(r)&&_l(r)===dn}function jr(r){return re(r)}function at(r,t=!1){let e=r.toLowerCase();return!t&&e.startsWith("0x")&&(e=e.slice(2)),`0x${e.padStart(dn*2,"0")}`}function Rt(r,t=!1){return at(r,t)}function Bl(r){return/^(0x|0X)?[a-fA-F0-9]+$/.test(r)&&r.length%2===0}function _l(r){return/^(0x|0X)/.test(r)?(r.length-2)/2:r.length/2}var Al=/^vector<(.+)>$/,Il=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,Dt=class{static parseFromStr(t,e=!1){if(t==="address")return{address:null};if(t==="bool")return{bool:null};if(t==="u8")return{u8:null};if(t==="u16")return{u16:null};if(t==="u32")return{u32:null};if(t==="u64")return{u64:null};if(t==="u128")return{u128:null};if(t==="u256")return{u256:null};if(t==="signer")return{signer:null};let n=t.match(Al);if(n)return{vector:Dt.parseFromStr(n[1],e)};let o=t.match(Il);if(o)return{struct:{address:e?at(o[1]):o[1],module:o[2],name:o[3],typeParams:o[5]===void 0?[]:Dt.parseStructTypeArgs(o[5],e)}};throw new Error(`Encountered unexpected token when parsing type args for ${t}`)}static parseStructTypeArgs(t,e=!1){return kn(t).map(n=>Dt.parseFromStr(n,e))}static tagToString(t){if("bool"in t)return"bool";if("u8"in t)return"u8";if("u16"in t)return"u16";if("u32"in t)return"u32";if("u64"in t)return"u64";if("u128"in t)return"u128";if("u256"in t)return"u256";if("address"in t)return"address";if("signer"in t)return"signer";if("vector"in t)return`vector<${Dt.tagToString(t.vector)}>`;if("struct"in t){let e=t.struct,n=e.typeParams.map(Dt.tagToString).join(", ");return`${e.address}::${e.module}::${e.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}};var Ol=r=>(0,P.union)([(0,P.object)({None:(0,P.union)([(0,P.literal)(!0),(0,P.literal)(null)])}),(0,P.object)({Some:r})]),Ue=(0,P.object)({kind:(0,P.literal)("Input"),index:(0,P.integer)(),value:(0,P.optional)((0,P.any)()),type:(0,P.optional)((0,P.union)([(0,P.literal)("pure"),(0,P.literal)("object")]))}),Bi=[Ue,(0,P.object)({kind:(0,P.literal)("GasCoin")}),(0,P.object)({kind:(0,P.literal)("Result"),index:(0,P.integer)()}),(0,P.object)({kind:(0,P.literal)("NestedResult"),index:(0,P.integer)(),resultIndex:(0,P.integer)()})],Ac=(0,P.union)([...Bi]),Ne=(0,P.union)([...Bi]);Ne[Dr]={kind:"object"};var _i=r=>{let t=(0,P.union)([...Bi]);return t[Dr]={kind:"pure",type:r},t},Ai=(0,P.object)({kind:(0,P.literal)("MoveCall"),target:(0,P.define)("target",(0,P.string)().validator),typeArguments:(0,P.array)((0,P.string)()),arguments:(0,P.array)(Ac)}),Ii=(0,P.object)({kind:(0,P.literal)("TransferObjects"),objects:(0,P.array)(Ne),address:_i(L.ADDRESS)}),Oi=(0,P.object)({kind:(0,P.literal)("SplitCoins"),coin:Ne,amounts:(0,P.array)(_i("u64"))}),Ci=(0,P.object)({kind:(0,P.literal)("MergeCoins"),destination:Ne,sources:(0,P.array)(Ne)}),ki=(0,P.object)({kind:(0,P.literal)("MakeMoveVec"),type:(0,P.optional)(Ol((0,P.record)((0,P.string)(),(0,P.unknown)()))),objects:(0,P.array)(Ne)}),Ri=(0,P.object)({kind:(0,P.literal)("Publish"),modules:(0,P.array)((0,P.array)((0,P.integer)())),dependencies:(0,P.array)((0,P.string)())});var Pi=(0,P.object)({kind:(0,P.literal)("Upgrade"),modules:(0,P.array)((0,P.array)((0,P.integer)())),dependencies:(0,P.array)((0,P.string)()),packageId:(0,P.string)(),ticket:Ne}),Ic=[Ai,Ii,Oi,Ci,Ri,Pi,ki],Yn=(0,P.union)([...Ic]);function Ni(r){return(0,P.assert)(r,Yn),Ic.find(t=>(0,P.is)(r,t))}var he={MoveCall(r){var t,e;return Ot({kind:"MoveCall",target:r.target,arguments:(t=r.arguments)!=null?t:[],typeArguments:(e=r.typeArguments)!=null?e:[]},Ai)},TransferObjects(r,t){return Ot({kind:"TransferObjects",objects:r,address:t},Ii)},SplitCoins(r,t){return Ot({kind:"SplitCoins",coin:r,amounts:t},Oi)},MergeCoins(r,t){return Ot({kind:"MergeCoins",destination:r,sources:t},Ci)},Publish({modules:r,dependencies:t}){return Ot({kind:"Publish",modules:r.map(e=>typeof e=="string"?Array.from(ft(e)):e),dependencies:t.map(e=>Rt(e))},Ri)},Upgrade({modules:r,dependencies:t,packageId:e,ticket:n}){return Ot({kind:"Upgrade",modules:r.map(o=>typeof o=="string"?Array.from(ft(o)):o),dependencies:t.map(o=>Rt(o)),packageId:e,ticket:n},Pi)},MakeMoveVec({type:r,objects:t}){return Ot({kind:"MakeMoveVec",type:r?{Some:Dt.parseFromStr(r)}:{None:null},objects:t},ki)}};p();g();var gt=st(mt(),1);p();g();p();g();var Lr="vector",Cl={kind:"TransactionKind",sender:L.ADDRESS,gasData:"GasData",expiration:"TransactionExpiration"},kl={enums:{"Option<T>":{None:null,Some:"T"},ObjectArg:{ImmOrOwned:"SuiObjectRef",Shared:"SharedObjectRef"},CallArg:{Pure:[Lr,L.U8],Object:"ObjectArg",ObjVec:[Lr,"ObjectArg"]},TypeTag:{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:"TypeTag",struct:"StructTag",u16:null,u32:null,u256:null},TransactionKind:{ProgrammableTransaction:"ProgrammableTransaction",ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null},TransactionExpiration:{None:null,Epoch:"unsafe_u64"},TransactionData:{V1:"TransactionDataV1"}},structs:{SuiObjectRef:{objectId:L.ADDRESS,version:L.U64,digest:"ObjectDigest"},SharedObjectRef:{objectId:L.ADDRESS,initialSharedVersion:L.U64,mutable:L.BOOL},StructTag:{address:L.ADDRESS,module:L.STRING,name:L.STRING,typeParams:[Lr,"TypeTag"]},GasData:{payment:[Lr,"SuiObjectRef"],owner:L.ADDRESS,price:L.U64,budget:L.U64},SenderSignedData:{data:"TransactionData",txSignatures:[Lr,[Lr,L.U8]]},TransactionDataV1:Cl},aliases:{ObjectDigest:L.BASE58}},pe=new L({..._a(),types:kl});pe.registerType("utf8string",(r,t)=>{let e=Array.from(new TextEncoder().encode(t));return r.writeVec(e,(n,o)=>n.write8(o))},r=>{let t=r.readVec(e=>e.read8());return new TextDecoder().decode(new Uint8Array(t))});pe.registerType("unsafe_u64",(r,t)=>r.write64(t),r=>Number.parseInt(r.read64(),10));var qi="Argument",_t="vector",Oc="Option",Cc="CallArg",Ui="TypeTag";var kc="ProgrammableTransaction",Jn="ProgrammableMoveCall",Hi="Transaction",Mi="CompressedSignature",Di="PublicKey",ji="MultiSigPublicKey",Li="MultiSigPkMap",Rc="MultiSig",Xn="EnumKind",Pc=[Xn,Hi],ge=[Xn,qi],Ki="SimpleProgrammableMoveCall",Et=new L(pe);Vi(Et,"FixedArray[64]",64);Vi(Et,"FixedArray[33]",33);Vi(Et,"FixedArray[32]",32);Et.registerStructType(kc,{inputs:[_t,Cc],transactions:[_t,Pc]}).registerEnumType(qi,{GasCoin:null,Input:{index:L.U16},Result:{index:L.U16},NestedResult:{index:L.U16,resultIndex:L.U16}}).registerStructType(Jn,{package:L.ADDRESS,module:L.STRING,function:L.STRING,type_arguments:[_t,Ui],arguments:[_t,ge]}).registerEnumType(Hi,{MoveCall:Ki,TransferObjects:{objects:[_t,ge],address:ge},SplitCoins:{coin:ge,amounts:[_t,ge]},MergeCoins:{destination:ge,sources:[_t,ge]},Publish:{modules:[_t,[_t,L.U8]],dependencies:[_t,L.ADDRESS]},MakeMoveVec:{type:[Oc,Ui],objects:[_t,ge]},Upgrade:{modules:[_t,[_t,L.U8]],dependencies:[_t,L.ADDRESS],packageId:L.ADDRESS,ticket:ge}}).registerEnumType(Mi,{ED25519:["FixedArray[64]","u8"],Secp256k1:["FixedArray[64]","u8"],Secp256r1:["FixedArray[64]","u8"]}).registerEnumType(Di,{ED25519:["FixedArray[32]","u8"],Secp256k1:["FixedArray[33]","u8"],Secp256r1:["FixedArray[33]","u8"]}).registerStructType(Li,{pubKey:Di,weight:L.U8}).registerStructType(ji,{pk_map:[_t,Li],threshold:L.U16}).registerStructType(Rc,{sigs:[_t,Mi],bitmap:L.U16,multisig_pk:ji});Et.registerType([Xn,"T"],function(t,e,n,o){let s={[e.kind]:e},[c]=n;return this.getTypeInterface(c)._encodeRaw.call(this,t,s,n,o)},function(t,e,n){let[o]=e,i=this.getTypeInterface(o)._decodeRaw.call(this,t,e,n),s=Object.keys(i)[0];return{kind:s,...i[s]}},r=>{if(typeof r!="object"&&!("kind"in r))throw new Error(`EnumKind: Missing property "kind" in the input ${JSON.stringify(r)}`);return!0});Et.registerType(Ki,function(t,e,n,o){let[i,s,c]=e.target.split("::"),u=e.typeArguments.map(a=>Dt.parseFromStr(a,!0));return this.getTypeInterface(Jn)._encodeRaw.call(this,t,{package:at(i),module:s,function:c,type_arguments:u,arguments:e.arguments},n,o)},function(t,e,n){let o=Et.getTypeInterface(Jn)._decodeRaw.call(this,t,e,n);return{target:[o.package,o.module,o.function].join("::"),arguments:o.arguments,typeArguments:o.type_arguments.map(Dt.tagToString)}},r=>r.target.split("::").length===3);function Vi(r,t,e){r.registerType(t,function(o,i,s,c){if(i.length!==e)throw new Error(`Expected fixed array of length ${e}, got ${i.length}`);if(s.length!==1)throw new Error(`Expected one type parameter in a fixed array, got ${s.length}`);let[u]=typeof s[0]=="string"?[s[0],[]]:s[0];for(let a of i)this.getTypeInterface(u)._encodeRaw.call(this,o,a,s,c);return o},function(o,i,s){if(i.length!==1)throw new Error(`Expected one type parameter in a fixed array, got ${i.length}`);let c=[],[u]=typeof i[0]=="string"?[i[0],[]]:i[0];for(let a=0;a<e;a++)c.push(this.getTypeInterface(u)._decodeRaw.call(this,o,i,s));return c})}var Rl=(0,gt.union)([(0,gt.object)({ImmOrOwned:It}),(0,gt.object)({Shared:(0,gt.object)({objectId:(0,gt.string)(),initialSharedVersion:(0,gt.union)([(0,gt.integer)(),(0,gt.string)()]),mutable:(0,gt.boolean)()})})]),hr=(0,gt.object)({Pure:(0,gt.array)((0,gt.integer)())}),Nc=(0,gt.object)({Object:Rl}),Me=(0,gt.union)([hr,Nc]),ne={Pure(r,t){return{Pure:Array.from(r instanceof Uint8Array?r:Et.ser(t,r,{maxSize:1/0}).toBytes())}},ObjectRef({objectId:r,digest:t,version:e}){return{Object:{ImmOrOwned:{digest:t,version:e,objectId:at(r)}}}},SharedObjectRef({objectId:r,mutable:t,initialSharedVersion:e}){return{Object:{Shared:{mutable:t,initialSharedVersion:e,objectId:at(r)}}}}};function Qn(r){return typeof r=="string"?at(r):"ImmOrOwned"in r.Object?at(r.Object.ImmOrOwned.objectId):at(r.Object.Shared.objectId)}function Uc(r){return typeof r=="object"&&"Object"in r&&"Shared"in r.Object?r.Object.Shared:void 0}function Gi(r){var t,e;return(e=(t=Uc(r))==null?void 0:t.mutable)!=null?e:!1}p();g();p();g();p();g();function $i(r){if(!(typeof r=="object"&&r!==null&&"type"in r&&r.type.startsWith("0x1::option::Option<")))return r}var Vt=st(mt(),1);var to="0x2",hn="0x1",Wi="object";var zi="ID",Fi=`${to}::sui::SUI`;var Pl=Rt("0x6");var Zi=(0,Vt.object)({decimals:(0,Vt.number)(),name:(0,Vt.string)(),symbol:(0,Vt.string)(),description:(0,Vt.string)(),iconUrl:(0,Vt.nullable)((0,Vt.string)()),id:(0,Vt.nullable)((0,Vt.string)())});var Nl=class Mc{static isDelegationSuiObject(t){return"type"in t&&t.type===Mc.SUI_OBJECT_TYPE}constructor(t){this.suiObject=t}nextRewardUnclaimedEpoch(){return this.suiObject.data.fields.next_reward_unclaimed_epoch}activeDelegation(){return BigInt($i(this.suiObject.data.fields.active_delegation)||0)}delegateAmount(){return this.suiObject.data.fields.delegate_amount}endingEpoch(){return $i(this.suiObject.data.fields.ending_epoch)}validatorAddress(){return this.suiObject.data.fields.validator_address}isActive(){return this.activeDelegation()>0&&!this.endingEpoch()}hasUnclaimedRewards(t){return this.nextRewardUnclaimedEpoch()<=t&&(this.isActive()||(this.endingEpoch()||0)>t)}};Nl.SUI_OBJECT_TYPE="0x2::delegation::Delegation";var Ul="ascii",Ml="String",Dl="string",jl="String",Ll="option",ql="Option",Hl={address:to,module:Wi,name:zi},Kl={address:hn,module:Ul,name:Ml},Vl={address:hn,module:Dl,name:jl},Gl={address:hn,module:Ll,name:ql},eo=(r,t)=>r.address===t.address&&r.module===t.module&&r.name===t.name;function Ji(r){var e;let t=(e=ln(r))==null?void 0:e.Struct;return(t==null?void 0:t.address)==="0x2"&&(t==null?void 0:t.module)==="tx_context"&&(t==null?void 0:t.name)==="TxContext"}function Yi(r,t){if(!(typeof t>"u")&&typeof t!==r)throw new Error(`Expect ${t} to be ${r}, received ${typeof t}`)}var $l=["Address","Bool","U8","U16","U32","U64","U128","U256"];function pn(r,t){if(typeof r=="string"&&$l.includes(r)){if(r in["U8","U16","U32","U64","U128","U256"])Yi("number",t);else if(r==="Bool")Yi("boolean",t);else if(r==="Address"&&(Yi("string",t),t&&!re(t)))throw new Error("Invalid Sui Address");return r.toLowerCase()}else if(typeof r=="string")throw new Error(`Unknown pure normalized type ${JSON.stringify(r,null,2)}`);if("Vector"in r){if((t===void 0||typeof t=="string")&&r.Vector==="U8")return"string";if(t!==void 0&&!Array.isArray(t))throw new Error(`Expect ${t} to be a array, received ${typeof t}`);let e=pn(r.Vector,t?t[0]:void 0);return e===void 0?void 0:`vector<${e}>`}if("Struct"in r){if(eo(r.Struct,Kl))return"string";if(eo(r.Struct,Vl))return"utf8string";if(eo(r.Struct,Hl))return"address";if(eo(r.Struct,Gl)){let e={Vector:r.Struct.typeArguments[0]};return pn(e,t)}}}p();g();var Y=st(mt(),1);p();g();p();g();p();g();p();g();function Xi(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function Wl(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}function Dc(r,...t){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(r.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${r.length}`)}function zl(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Xi(r.outputLen),Xi(r.blockLen)}function Fl(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}function Zl(r,t){Dc(r);let e=t.outputLen;if(r.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}var Yl={number:Xi,bool:Wl,bytes:Dc,hash:zl,exists:Fl,output:Zl},Ct=Yl;p();g();p();g();var ro=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var Qi=r=>r instanceof Uint8Array;var qr=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),no=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),oe=(r,t)=>r<<32-t|r>>>t,Jl=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Jl)throw new Error("Non little-endian hardware is not supported");var Xl=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function gn(r){if(!Qi(r))throw new Error("Uint8Array expected");let t="";for(let e=0;e<r.length;e++)t+=Xl[r[e]];return t}function Ql(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function Yt(r){if(typeof r=="string"&&(r=Ql(r)),!Qi(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}function jc(...r){let t=new Uint8Array(r.reduce((n,o)=>n+o.length,0)),e=0;return r.forEach(n=>{if(!Qi(n))throw new Error("Uint8Array expected");t.set(n,e),e+=n.length}),t}var De=class{clone(){return this._cloneInto()}};function je(r){let t=n=>r().update(Yt(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}function Lc(r){let t=(n,o)=>r(o).update(Yt(n)).digest(),e=r({});return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=n=>r(n),t}function ts(r=32){if(ro&&typeof ro.getRandomValues=="function")return ro.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}var qc=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]),oo=class extends De{constructor(t,e,n={},o,i,s){if(super(),this.blockLen=t,this.outputLen=e,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,Ct.number(t),Ct.number(e),Ct.number(o),e<0||e>o)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>o))throw new Error(`key must be up 1..${o} byte long or undefined`);if(n.salt!==void 0&&n.salt.length!==i)throw new Error(`salt must be ${i} byte long or undefined`);if(n.personalization!==void 0&&n.personalization.length!==s)throw new Error(`personalization must be ${s} byte long or undefined`);this.buffer32=qr(this.buffer=new Uint8Array(t))}update(t){Ct.exists(this);let{blockLen:e,buffer:n,buffer32:o}=this;t=Yt(t);let i=t.length,s=t.byteOffset,c=t.buffer;for(let u=0;u<i;){this.pos===e&&(this.compress(o,0,!1),this.pos=0);let a=Math.min(e-this.pos,i-u),l=s+u;if(a===e&&!(l%4)&&u+a<i){let f=new Uint32Array(c,l,Math.floor((i-u)/4));for(let m=0;u+e<i;m+=o.length,u+=e)this.length+=e,this.compress(f,m,!1);continue}n.set(t.subarray(u,u+a),this.pos),this.pos+=a,this.length+=a,u+=a}return this}digestInto(t){Ct.exists(this),Ct.output(t,this);let{pos:e,buffer32:n}=this;this.finished=!0,this.buffer.subarray(e).fill(0),this.compress(n,0,!0);let o=qr(t);this.get().forEach((i,s)=>o[s]=i)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){let{buffer:e,length:n,finished:o,destroyed:i,outputLen:s,pos:c}=this;return t||(t=new this.constructor({dkLen:s})),t.set(...this.get()),t.length=n,t.finished=o,t.destroyed=i,t.outputLen=s,t.buffer.set(e),t.pos=c,t}};p();g();var io=BigInt(4294967295),es=BigInt(32);function Hc(r,t=!1){return t?{h:Number(r&io),l:Number(r>>es&io)}:{h:Number(r>>es&io)|0,l:Number(r&io)|0}}function td(r,t=!1){let e=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let o=0;o<r.length;o++){let{h:i,l:s}=Hc(r[o],t);[e[o],n[o]]=[i,s]}return[e,n]}var ed=(r,t)=>BigInt(r>>>0)<<es|BigInt(t>>>0),rd=(r,t,e)=>r>>>e,nd=(r,t,e)=>r<<32-e|t>>>e,od=(r,t,e)=>r>>>e|t<<32-e,id=(r,t,e)=>r<<32-e|t>>>e,sd=(r,t,e)=>r<<64-e|t>>>e-32,ad=(r,t,e)=>r>>>e-32|t<<64-e,cd=(r,t)=>t,ud=(r,t)=>r,fd=(r,t,e)=>r<<e|t>>>32-e,ld=(r,t,e)=>t<<e|r>>>32-e,dd=(r,t,e)=>t<<e-32|r>>>64-e,hd=(r,t,e)=>r<<e-32|t>>>64-e;function pd(r,t,e,n){let o=(t>>>0)+(n>>>0);return{h:r+e+(o/2**32|0)|0,l:o|0}}var gd=(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0),md=(r,t,e,n)=>t+e+n+(r/2**32|0)|0,bd=(r,t,e,n)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0),yd=(r,t,e,n,o)=>t+e+n+o+(r/2**32|0)|0,wd=(r,t,e,n,o)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0)+(o>>>0),xd=(r,t,e,n,o,i)=>t+e+n+o+i+(r/2**32|0)|0,Ed={fromBig:Hc,split:td,toBig:ed,shrSH:rd,shrSL:nd,rotrSH:od,rotrSL:id,rotrBH:sd,rotrBL:ad,rotr32H:cd,rotr32L:ud,rotlSH:fd,rotlSL:ld,rotlBH:dd,rotlBL:hd,add:pd,add3L:gd,add3H:md,add4L:bd,add4H:yd,add5H:xd,add5L:wd},q=Ed;var yt=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),U=new Uint32Array(32);function Le(r,t,e,n,o,i){let s=o[i],c=o[i+1],u=U[2*r],a=U[2*r+1],l=U[2*t],f=U[2*t+1],m=U[2*e],E=U[2*e+1],y=U[2*n],h=U[2*n+1],b=q.add3L(u,l,s);a=q.add3H(b,a,f,c),u=b|0,{Dh:h,Dl:y}={Dh:h^a,Dl:y^u},{Dh:h,Dl:y}={Dh:q.rotr32H(h,y),Dl:q.rotr32L(h,y)},{h:E,l:m}=q.add(E,m,h,y),{Bh:f,Bl:l}={Bh:f^E,Bl:l^m},{Bh:f,Bl:l}={Bh:q.rotrSH(f,l,24),Bl:q.rotrSL(f,l,24)},U[2*r]=u,U[2*r+1]=a,U[2*t]=l,U[2*t+1]=f,U[2*e]=m,U[2*e+1]=E,U[2*n]=y,U[2*n+1]=h}function qe(r,t,e,n,o,i){let s=o[i],c=o[i+1],u=U[2*r],a=U[2*r+1],l=U[2*t],f=U[2*t+1],m=U[2*e],E=U[2*e+1],y=U[2*n],h=U[2*n+1],b=q.add3L(u,l,s);a=q.add3H(b,a,f,c),u=b|0,{Dh:h,Dl:y}={Dh:h^a,Dl:y^u},{Dh:h,Dl:y}={Dh:q.rotrSH(h,y,16),Dl:q.rotrSL(h,y,16)},{h:E,l:m}=q.add(E,m,h,y),{Bh:f,Bl:l}={Bh:f^E,Bl:l^m},{Bh:f,Bl:l}={Bh:q.rotrBH(f,l,63),Bl:q.rotrBL(f,l,63)},U[2*r]=u,U[2*r+1]=a,U[2*t]=l,U[2*t+1]=f,U[2*e]=m,U[2*e+1]=E,U[2*n]=y,U[2*n+1]=h}var rs=class extends oo{constructor(t={}){super(128,t.dkLen===void 0?64:t.dkLen,t,64,16,16),this.v0l=yt[0]|0,this.v0h=yt[1]|0,this.v1l=yt[2]|0,this.v1h=yt[3]|0,this.v2l=yt[4]|0,this.v2h=yt[5]|0,this.v3l=yt[6]|0,this.v3h=yt[7]|0,this.v4l=yt[8]|0,this.v4h=yt[9]|0,this.v5l=yt[10]|0,this.v5h=yt[11]|0,this.v6l=yt[12]|0,this.v6h=yt[13]|0,this.v7l=yt[14]|0,this.v7h=yt[15]|0;let e=t.key?t.key.length:0;if(this.v0l^=this.outputLen|e<<8|1<<16|1<<24,t.salt){let n=qr(Yt(t.salt));this.v4l^=n[0],this.v4h^=n[1],this.v5l^=n[2],this.v5h^=n[3]}if(t.personalization){let n=qr(Yt(t.personalization));this.v6l^=n[0],this.v6h^=n[1],this.v7l^=n[2],this.v7h^=n[3]}if(t.key){let n=new Uint8Array(this.blockLen);n.set(Yt(t.key)),this.update(n)}}get(){let{v0l:t,v0h:e,v1l:n,v1h:o,v2l:i,v2h:s,v3l:c,v3h:u,v4l:a,v4h:l,v5l:f,v5h:m,v6l:E,v6h:y,v7l:h,v7h:b}=this;return[t,e,n,o,i,s,c,u,a,l,f,m,E,y,h,b]}set(t,e,n,o,i,s,c,u,a,l,f,m,E,y,h,b){this.v0l=t|0,this.v0h=e|0,this.v1l=n|0,this.v1h=o|0,this.v2l=i|0,this.v2h=s|0,this.v3l=c|0,this.v3h=u|0,this.v4l=a|0,this.v4h=l|0,this.v5l=f|0,this.v5h=m|0,this.v6l=E|0,this.v6h=y|0,this.v7l=h|0,this.v7h=b|0}compress(t,e,n){this.get().forEach((u,a)=>U[a]=u),U.set(yt,16);let{h:o,l:i}=q.fromBig(BigInt(this.length));U[24]=yt[8]^i,U[25]=yt[9]^o,n&&(U[28]=~U[28],U[29]=~U[29]);let s=0,c=qc;for(let u=0;u<12;u++)Le(0,4,8,12,t,e+2*c[s++]),qe(0,4,8,12,t,e+2*c[s++]),Le(1,5,9,13,t,e+2*c[s++]),qe(1,5,9,13,t,e+2*c[s++]),Le(2,6,10,14,t,e+2*c[s++]),qe(2,6,10,14,t,e+2*c[s++]),Le(3,7,11,15,t,e+2*c[s++]),qe(3,7,11,15,t,e+2*c[s++]),Le(0,5,10,15,t,e+2*c[s++]),qe(0,5,10,15,t,e+2*c[s++]),Le(1,6,11,12,t,e+2*c[s++]),qe(1,6,11,12,t,e+2*c[s++]),Le(2,7,8,13,t,e+2*c[s++]),qe(2,7,8,13,t,e+2*c[s++]),Le(3,4,9,14,t,e+2*c[s++]),qe(3,4,9,14,t,e+2*c[s++]);this.v0l^=U[0]^U[16],this.v0h^=U[1]^U[17],this.v1l^=U[2]^U[18],this.v1h^=U[3]^U[19],this.v2l^=U[4]^U[20],this.v2h^=U[5]^U[21],this.v3l^=U[6]^U[22],this.v3h^=U[7]^U[23],this.v4l^=U[8]^U[24],this.v4h^=U[9]^U[25],this.v5l^=U[10]^U[26],this.v5h^=U[11]^U[27],this.v6l^=U[12]^U[28],this.v6h^=U[13]^U[29],this.v7l^=U[14]^U[30],this.v7h^=U[15]^U[31],U.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},ie=Lc(r=>new rs(r));function Kc(r,t){let e=Array.from(`${r}::`).map(o=>o.charCodeAt(0)),n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),ie(n,{dkLen:32})}var Sd=(0,Y.optional)((0,Y.nullable)((0,Y.union)([(0,Y.object)({Epoch:(0,Y.integer)()}),(0,Y.object)({None:(0,Y.union)([(0,Y.literal)(!0),(0,Y.literal)(null)])})]))),Vc=(0,Y.define)("StringEncodedBigint",r=>{if(!["string","number","bigint"].includes(typeof r))return!1;try{return BigInt(r),!0}catch{return!1}}),vd=(0,Y.object)({budget:(0,Y.optional)(Vc),price:(0,Y.optional)(Vc),payment:(0,Y.optional)((0,Y.array)(It)),owner:(0,Y.optional)((0,Y.string)())}),so=(0,Y.object)({version:(0,Y.literal)(1),sender:(0,Y.optional)((0,Y.string)()),expiration:Sd,gasConfig:vd,inputs:(0,Y.array)(Ue),transactions:(0,Y.array)(Yn)});function Gc(r){return at(r).replace("0x","")}var Gt=class{constructor(t){var e,n,o;this.version=1,this.sender=t==null?void 0:t.sender,this.expiration=t==null?void 0:t.expiration,this.gasConfig=(e=t==null?void 0:t.gasConfig)!=null?e:{},this.inputs=(n=t==null?void 0:t.inputs)!=null?n:[],this.transactions=(o=t==null?void 0:t.transactions)!=null?o:[]}static fromKindBytes(t){let e=Et.de("TransactionKind",t),n=e==null?void 0:e.ProgrammableTransaction;if(!n)throw new Error("Unable to deserialize from bytes.");let o=Ot({version:1,gasConfig:{},inputs:n.inputs.map((i,s)=>Ot({kind:"Input",value:i,index:s,type:(0,Y.is)(i,hr)?"pure":"object"},Ue)),transactions:n.transactions},so);return Gt.restore(o)}static fromBytes(t){var s;let e=Et.de("TransactionData",t),n=e==null?void 0:e.V1,o=(s=n==null?void 0:n.kind)==null?void 0:s.ProgrammableTransaction;if(!n||!o)throw new Error("Unable to deserialize from bytes.");let i=Ot({version:1,sender:n.sender,expiration:n.expiration,gasConfig:n.gasData,inputs:o.inputs.map((c,u)=>Ot({kind:"Input",value:c,index:u,type:(0,Y.is)(c,hr)?"pure":"object"},Ue)),transactions:o.transactions},so);return Gt.restore(i)}static restore(t){(0,Y.assert)(t,so);let e=new Gt;return Object.assign(e,t),e}static getDigestFromBytes(t){let e=Kc("TransactionData",t);return Cn(e)}build({maxSizeBytes:t=1/0,overrides:e,onlyTransactionKind:n}={}){var l,f,m;let o=this.inputs.map(E=>((0,Y.assert)(E.value,Me),E.value)),i={ProgrammableTransaction:{inputs:o,transactions:this.transactions}};if(n)return Et.ser("TransactionKind",i,{maxSize:t}).toBytes();let s=(l=e==null?void 0:e.expiration)!=null?l:this.expiration,c=(f=e==null?void 0:e.sender)!=null?f:this.sender,u={...this.gasConfig,...e==null?void 0:e.gasConfig};if(!c)throw new Error("Missing transaction sender");if(!u.budget)throw new Error("Missing gas budget");if(!u.payment)throw new Error("Missing gas payment");if(!u.price)throw new Error("Missing gas price");let a={sender:Gc(c),expiration:s||{None:!0},gasData:{payment:u.payment,owner:Gc((m=this.gasConfig.owner)!=null?m:c),price:BigInt(u.price),budget:BigInt(u.budget)},kind:{ProgrammableTransaction:{inputs:o,transactions:this.transactions}}};return Et.ser("TransactionData",{V1:a},{maxSize:t}).toBytes()}getDigest(){let t=this.build({onlyTransactionKind:!1});return Gt.getDigestFromBytes(t)}snapshot(){return Ot(this,so)}};var cs=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},rt=(r,t,e)=>(cs(r,t,"read from private field"),e?e.call(r):t.get(r)),He=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},ao=(r,t,e,n)=>(cs(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),jt=(r,t,e)=>(cs(r,t,"access private method"),e),Q,co,os,Ve,pr,us,$c,fs,Wc,ls,zc,ds,Fc,uo,is,Td={maxPureArgumentSize:16*1024,maxTxGas:5e10,maxGasObjects:256,maxTxSizeBytes:128*1024};function Bd(r){let t={kind:"Result",index:r},e=[],n=o=>{var i;return(i=e[o])!=null?i:e[o]={kind:"NestedResult",index:r,resultIndex:o}};return new Proxy(t,{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(o,i){if(i in o)return Reflect.get(o,i);if(i===Symbol.iterator)return function*(){let c=0;for(;;)yield n(c),c++};if(typeof i=="symbol")return;let s=parseInt(i,10);if(!(Number.isNaN(s)||s<0))return n(s)}})}function mn(r){var t;if(!r.client&&!r.provider)throw new Error("No provider passed to Transaction#build, but transaction data was not sufficient to build offline.");return(t=r.client)!=null?t:r.provider}var ss=Symbol.for("@mysten/transaction"),ns={maxTxGas:"max_tx_gas",maxGasObjects:"max_gas_payment_objects",maxTxSizeBytes:"max_tx_size_bytes",maxPureArgumentSize:"max_pure_argument_size"},_d=1000n,Ad=50,Id=(r,t)=>Array.from({length:Math.ceil(r.length/t)},(e,n)=>r.slice(n*t,n*t+t));function hs(r){return!!r&&typeof r=="object"&&r[ss]===!0}var Od=class as{constructor(t){He(this,co),He(this,Ve),He(this,us),He(this,fs),He(this,ls),He(this,ds),He(this,uo),He(this,Q,void 0),ao(this,Q,new Gt(t?t.blockData:void 0))}static is(t){return!!t&&typeof t=="object"&&t[ss]===!0}static fromKind(t){let e=new as;return ao(e,Q,Gt.fromKindBytes(typeof t=="string"?ft(t):t)),e}static from(t){let e=new as;return typeof t!="string"||!t.startsWith("{")?ao(e,Q,Gt.fromBytes(typeof t=="string"?ft(t):t)):ao(e,Q,Gt.restore(JSON.parse(t))),e}static get Transactions(){return he}static get Inputs(){return ne}setSender(t){rt(this,Q).sender=t}setSenderIfNotSet(t){rt(this,Q).sender||(rt(this,Q).sender=t)}setExpiration(t){rt(this,Q).expiration=t}setGasPrice(t){rt(this,Q).gasConfig.price=String(t)}setGasBudget(t){rt(this,Q).gasConfig.budget=String(t)}setGasOwner(t){rt(this,Q).gasConfig.owner=t}setGasPayment(t){rt(this,Q).gasConfig.payment=t.map(e=>(0,Ke.mask)(e,It))}get blockData(){return rt(this,Q).snapshot()}get[ss](){return!0}get gas(){return{kind:"GasCoin"}}object(t){let e=Qn(t),n=rt(this,Q).inputs.find(o=>o.type==="object"&&e===Qn(o.value));return n!=null?n:jt(this,co,os).call(this,"object",t)}objectRef(...t){return this.object(ne.ObjectRef(...t))}sharedObjectRef(...t){return this.object(ne.SharedObjectRef(...t))}pure(t,e){return jt(this,co,os).call(this,"pure",t instanceof Uint8Array?ne.Pure(t):e?ne.Pure(t,e):t)}add(t){let e=rt(this,Q).transactions.push(t);return Bd(e-1)}splitCoins(...t){return this.add(he.SplitCoins(...t))}mergeCoins(...t){return this.add(he.MergeCoins(...t))}publish(...t){return this.add(he.Publish(...t))}upgrade(...t){return this.add(he.Upgrade(...t))}moveCall(...t){return this.add(he.MoveCall(...t))}transferObjects(...t){return this.add(he.TransferObjects(...t))}makeMoveVec(...t){return this.add(he.MakeMoveVec(...t))}serialize(){return JSON.stringify(rt(this,Q).snapshot())}async sign(t){let{signer:e,...n}=t,o=await this.build(n);return e.signTransactionBlock(o)}async build(t={}){return await jt(this,uo,is).call(this,t),rt(this,Q).build({maxSizeBytes:jt(this,Ve,pr).call(this,"maxTxSizeBytes",t),onlyTransactionKind:t.onlyTransactionKind})}async getDigest(t={}){return await jt(this,uo,is).call(this,t),rt(this,Q).getDigest()}};Q=new WeakMap;co=new WeakSet;os=function(r,t){let e=rt(this,Q).inputs.length,n=Ot({kind:"Input",value:typeof t=="bigint"?String(t):t,index:e,type:r},Ue);return rt(this,Q).inputs.push(n),n};Ve=new WeakSet;pr=function(r,{protocolConfig:t,limits:e}){if(e&&typeof e[r]=="number")return e[r];if(!t)return Td[r];let n=t==null?void 0:t.attributes[ns[r]];if(!n)throw new Error(`Missing expected protocol config: "${ns[r]}"`);let o="u64"in n?n.u64:"u32"in n?n.u32:n.f64;if(!o)throw new Error(`Unexpected protocol config value found for: "${ns[r]}"`);return Number(o)};us=new WeakSet;$c=function(r){let t=jt(this,Ve,pr).call(this,"maxPureArgumentSize",r);rt(this,Q).inputs.forEach((e,n)=>{if((0,Ke.is)(e.value,hr)&&e.value.Pure.length>t)throw new Error(`Input at index ${n} is too large, max pure input size is ${t} bytes, got ${e.value.Pure.length} bytes`)})};fs=new WeakSet;Wc=async function(r){var o;if(rt(this,Q).gasConfig.payment){let i=jt(this,Ve,pr).call(this,"maxGasObjects",r);if(rt(this,Q).gasConfig.payment.length>i)throw new Error(`Payment objects exceed maximum amount: ${i}`)}if(r.onlyTransactionKind||rt(this,Q).gasConfig.payment)return;let t=(o=rt(this,Q).gasConfig.owner)!=null?o:rt(this,Q).sender,n=(await mn(r).getCoins({owner:t,coinType:Fi})).data.filter(i=>!rt(this,Q).inputs.find(c=>(0,Ke.is)(c.value,Me)&&"Object"in c.value&&"ImmOrOwned"in c.value.Object?i.coinObjectId===c.value.Object.ImmOrOwned.objectId:!1)).slice(0,jt(this,Ve,pr).call(this,"maxGasObjects",r)-1).map(i=>({objectId:i.coinObjectId,digest:i.digest,version:i.version}));if(!n.length)throw new Error("No valid gas coins found for the transaction.");this.setGasPayment(n)};ls=new WeakSet;zc=async function(r){r.onlyTransactionKind||rt(this,Q).gasConfig.price||this.setGasPrice(await mn(r).getReferenceGasPrice())};ds=new WeakSet;Fc=async function(r){let{inputs:t,transactions:e}=rt(this,Q),n=[],o=[];if(e.forEach(i=>{if(i.kind==="MoveCall"){i.arguments.some(u=>u.kind==="Input"&&!(0,Ke.is)(t[u.index].value,Me))&&n.push(i);return}let s=Ni(i);!s.schema||Object.entries(i).forEach(([c,u])=>{if(c==="kind")return;let a=s.schema[c],l=a.type==="array",f=l?a.schema[Dr]:a[Dr];if(!f)return;let m=E=>{let y=t[E];if(!y)throw new Error(`Missing input ${u.index}`);if(!(0,Ke.is)(y.value,Me))if(f.kind==="object"&&typeof y.value=="string")o.push({id:y.value,input:y});else if(f.kind==="pure")y.value=ne.Pure(y.value,f.type);else throw new Error("Unexpected input format.")};if(l)u.forEach(E=>{E.kind==="Input"&&m(E.index)});else{if(u.kind!=="Input")return;m(u.index)}})}),n.length&&await Promise.all(n.map(async i=>{let[s,c,u]=i.target.split("::"),a=await mn(r).getNormalizedMoveFunction({package:Rt(s),module:c,function:u}),f=a.parameters.length>0&&Ji(a.parameters.at(-1))?a.parameters.slice(0,a.parameters.length-1):a.parameters;if(f.length!==i.arguments.length)throw new Error("Incorrect number of arguments.");f.forEach((m,E)=>{let y=i.arguments[E];if(y.kind!=="Input")return;let h=t[y.index];if((0,Ke.is)(h.value,Me))return;let b=h.value,T=pn(m,b);if(T){h.value=ne.Pure(b,T);return}if(ln(m)!=null||typeof m=="object"&&"TypeParameter"in m){if(typeof b!="string")throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(b,null,2)}`);o.push({id:b,input:h,normalizedType:m});return}throw new Error(`Unknown call arg type ${JSON.stringify(m,null,2)} for value ${JSON.stringify(b,null,2)}`)})})),o.length){let i=[...new Set(o.map(({id:l})=>l))],s=Id(i,Ad),c=(await Promise.all(s.map(l=>mn(r).multiGetObjects({ids:l,options:{showOwner:!0}})))).flat(),u=new Map(i.map((l,f)=>[l,c[f]])),a=Array.from(u).filter(([l,f])=>f.error).map(([l,f])=>l);if(a.length)throw new Error(`The following input objects are invalid: ${a.join(", ")}`);o.forEach(({id:l,input:f,normalizedType:m})=>{var b;let E=u.get(l),y=(b=E.data)==null?void 0:b.owner,h=y&&typeof y=="object"&&"Shared"in y?y.Shared.initial_shared_version:void 0;if(h){let T=Gi(f.value)||m!=null&&Hn(m)!=null;f.value=ne.SharedObjectRef({objectId:l,initialSharedVersion:h,mutable:T})}else f.value=ne.ObjectRef(Rn(E))})}};uo=new WeakSet;is=async function(r){if(!r.onlyTransactionKind&&!rt(this,Q).sender)throw new Error("Missing transaction sender");let t=r.client||r.provider;if(!r.protocolConfig&&!r.limits&&t&&(r.protocolConfig=await t.getProtocolConfig()),await Promise.all([jt(this,ls,zc).call(this,r),jt(this,ds,Fc).call(this,r)]),!r.onlyTransactionKind&&(await jt(this,fs,Wc).call(this,r),!rt(this,Q).gasConfig.budget)){let e=await mn(r).dryRunTransactionBlock({transactionBlock:rt(this,Q).build({maxSizeBytes:jt(this,Ve,pr).call(this,"maxTxSizeBytes",r),overrides:{gasConfig:{budget:String(jt(this,Ve,pr).call(this,"maxTxGas",r)),payment:[]}}})});if(e.effects.status.status!=="success")throw new Error(`Dry run failed, could not automatically determine a budget: ${e.effects.status.error}`,{cause:e});let n=_d*BigInt(this.blockData.gasConfig.price||1n),o=BigInt(e.effects.gasUsed.computationCost)+n,i=o+BigInt(e.effects.gasUsed.storageCost)-BigInt(e.effects.gasUsed.storageRebate);this.setGasBudget(i>o?i:o)}jt(this,us,$c).call(this,r)};var Zc=Od;p();g();p();g();p();g();var Ge={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3},ps={ED25519:32,Secp256k1:33,Secp256r1:33},gs={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig"};function gr(r){let t=ft(r),e=gs[t[0]];if(e==="MultiSig"){let s=Et.de("MultiSig",t.slice(1));return{serializedSignature:r,signatureScheme:e,multisig:s,bytes:t}}if(!(e in ps))throw new Error("Unsupported signature scheme");let n=ps[e],o=t.slice(1,t.length-n),i=t.slice(1+o.length);return{serializedSignature:r,signatureScheme:e,signature:o,publicKey:i,bytes:t}}p();g();p();g();p();g();var $e=(r=>(r[r.TransactionData=0]="TransactionData",r[r.TransactionEffects=1]="TransactionEffects",r[r.CheckpointSummary=2]="CheckpointSummary",r[r.PersonalMessage=3]="PersonalMessage",r))($e||{});function Cd(r){return[r,0,0]}function Hr(r,t){let e=Cd(r),n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function We(r,t){if(r===t)return!0;if(r.length!==t.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!==t[e])return!1;return!0}var Se=class{equals(t){return We(this.toRawBytes(),t.toRawBytes())}toBase64(){return bt(this.toRawBytes())}toString(){return this.toBase64()}toSuiPublicKey(){let t=this.toSuiBytes();return bt(t)}verifyWithIntent(t,e,n){let o=Hr(n,t),i=ie(o,{dkLen:32});return this.verify(i,e)}verifyPersonalMessage(t,e){return this.verifyWithIntent(pe.ser(["vector","u8"],t).toBytes(),e,$e.PersonalMessage)}verifyTransactionBlock(t,e){return this.verifyWithIntent(t,e,$e.TransactionData)}toSuiBytes(){let t=this.toRawBytes(),e=new Uint8Array(t.length+1);return e.set([this.flag()]),e.set(t,1),e}toBytes(){return this.toRawBytes()}toSuiAddress(){return at(gn(ie(this.toSuiBytes(),{dkLen:32})).slice(0,dn*2))}};p();g();p();g();function kd(r,t,e,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(t,e,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(e>>o&i),c=Number(e&i),u=n?4:0,a=n?0:4;r.setUint32(t+u,s,n),r.setUint32(t+a,c,n)}var Kr=class extends De{constructor(t,e,n,o){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=no(this.buffer)}update(t){Ct.exists(this);let{view:e,buffer:n,blockLen:o}=this;t=Yt(t);let i=t.length;for(let s=0;s<i;){let c=Math.min(o-this.pos,i-s);if(c===o){let u=no(t);for(;o<=i-s;s+=o)this.process(u,s);continue}n.set(t.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===o&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ct.exists(this),Ct.output(t,this),this.finished=!0;let{buffer:e,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;e[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)e[f]=0;kd(n,o-8,BigInt(this.length*8),i),this.process(n,0);let c=no(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let a=u/4,l=this.get();if(a>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<a;f++)c.setUint32(4*f,l[f],i)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:n,length:o,finished:i,destroyed:s,pos:c}=this;return t.length=o,t.pos=c,t.finished=i,t.destroyed=s,o%e&&t.buffer.set(n),t}};var Rd=(r,t,e)=>r&t^~r&e,Pd=(r,t,e)=>r&t^r&e^t&e,Nd=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ze=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Fe=new Uint32Array(64),fo=class extends Kr{constructor(){super(64,32,8,!1),this.A=ze[0]|0,this.B=ze[1]|0,this.C=ze[2]|0,this.D=ze[3]|0,this.E=ze[4]|0,this.F=ze[5]|0,this.G=ze[6]|0,this.H=ze[7]|0}get(){let{A:t,B:e,C:n,D:o,E:i,F:s,G:c,H:u}=this;return[t,e,n,o,i,s,c,u]}set(t,e,n,o,i,s,c,u){this.A=t|0,this.B=e|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=c|0,this.H=u|0}process(t,e){for(let f=0;f<16;f++,e+=4)Fe[f]=t.getUint32(e,!1);for(let f=16;f<64;f++){let m=Fe[f-15],E=Fe[f-2],y=oe(m,7)^oe(m,18)^m>>>3,h=oe(E,17)^oe(E,19)^E>>>10;Fe[f]=h+Fe[f-7]+y+Fe[f-16]|0}let{A:n,B:o,C:i,D:s,E:c,F:u,G:a,H:l}=this;for(let f=0;f<64;f++){let m=oe(c,6)^oe(c,11)^oe(c,25),E=l+m+Rd(c,u,a)+Nd[f]+Fe[f]|0,h=(oe(n,2)^oe(n,13)^oe(n,22))+Pd(n,o,i)|0;l=a,a=u,u=c,c=s+E|0,s=i,i=o,o=n,n=E+h|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,c=c+this.E|0,u=u+this.F|0,a=a+this.G|0,l=l+this.H|0,this.set(n,o,i,s,c,u,a,l)}roundClean(){Fe.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},ms=class extends fo{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},me=je(()=>new fo),$w=je(()=>new ms);p();g();p();g();p();g();var lo=class extends De{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,Ct.hash(t);let n=Yt(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?t.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=t.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(t){return Ct.exists(this),this.iHash.update(t),this}digestInto(t){Ct.exists(this),Ct.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:n,finished:o,destroyed:i,blockLen:s,outputLen:c}=this;return t=t,t.finished=o,t.destroyed=i,t.blockLen=s,t.outputLen=c,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},ho=(r,t,e)=>new lo(r,t).update(e).digest();ho.create=(r,t)=>new lo(r,t);p();g();p();g();var Es={};Wo(Es,{bitGet:()=>qd,bitLen:()=>Ld,bitMask:()=>bn,bitSet:()=>Hd,bytesToHex:()=>mr,bytesToNumberBE:()=>se,bytesToNumberLE:()=>mo,concatBytes:()=>Ze,createHmacDrbg:()=>xs,ensureBytes:()=>Pt,equalBytes:()=>jd,hexToBytes:()=>br,hexToNumber:()=>ys,numberToBytesBE:()=>ve,numberToBytesLE:()=>ws,numberToHexUnpadded:()=>Xc,numberToVarBytesBE:()=>Dd,utf8ToBytes:()=>Qc,validateObject:()=>Te});p();g();var Jc=BigInt(0),po=BigInt(1),Ud=BigInt(2),go=r=>r instanceof Uint8Array,Md=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function mr(r){if(!go(r))throw new Error("Uint8Array expected");let t="";for(let e=0;e<r.length;e++)t+=Md[r[e]];return t}function Xc(r){let t=r.toString(16);return t.length&1?`0${t}`:t}function ys(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}function br(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let t=r.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let e=new Uint8Array(t/2);for(let n=0;n<e.length;n++){let o=n*2,i=r.slice(o,o+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[n]=s}return e}function se(r){return ys(mr(r))}function mo(r){if(!go(r))throw new Error("Uint8Array expected");return ys(mr(Uint8Array.from(r).reverse()))}function ve(r,t){return br(r.toString(16).padStart(t*2,"0"))}function ws(r,t){return ve(r,t).reverse()}function Dd(r){return br(Xc(r))}function Pt(r,t,e){let n;if(typeof t=="string")try{n=br(t)}catch(i){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${i}`)}else if(go(t))n=Uint8Array.from(t);else throw new Error(`${r} must be hex string or Uint8Array`);let o=n.length;if(typeof e=="number"&&o!==e)throw new Error(`${r} expected ${e} bytes, got ${o}`);return n}function Ze(...r){let t=new Uint8Array(r.reduce((n,o)=>n+o.length,0)),e=0;return r.forEach(n=>{if(!go(n))throw new Error("Uint8Array expected");t.set(n,e),e+=n.length}),t}function jd(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!==t[e])return!1;return!0}function Qc(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function Ld(r){let t;for(t=0;r>Jc;r>>=po,t+=1);return t}function qd(r,t){return r>>BigInt(t)&po}var Hd=(r,t,e)=>r|(e?po:Jc)<<BigInt(t),bn=r=>(Ud<<BigInt(r-1))-po,bs=r=>new Uint8Array(r),Yc=r=>Uint8Array.from(r);function xs(r,t,e){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let n=bs(r),o=bs(r),i=0,s=()=>{n.fill(1),o.fill(0),i=0},c=(...f)=>e(o,n,...f),u=(f=bs())=>{o=c(Yc([0]),f),n=c(),f.length!==0&&(o=c(Yc([1]),f),n=c())},a=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,m=[];for(;f<t;){n=c();let E=n.slice();m.push(E),f+=n.length}return Ze(...m)};return(f,m)=>{s(),u(f);let E;for(;!(E=m(a()));)u();return s(),E}}var Kd={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function Te(r,t,e={}){let n=(o,i,s)=>{let c=Kd[i];if(typeof c!="function")throw new Error(`Invalid validator "${i}", expected function`);let u=r[o];if(!(s&&u===void 0)&&!c(u,r))throw new Error(`Invalid param ${String(o)}=${u} (${typeof u}), expected ${i}`)};for(let[o,i]of Object.entries(t))n(o,i,!1);for(let[o,i]of Object.entries(e))n(o,i,!0);return r}var wt=BigInt(0),lt=BigInt(1),yr=BigInt(2),Vd=BigInt(3),Ss=BigInt(4),tu=BigInt(5),eu=BigInt(8),Gd=BigInt(9),$d=BigInt(16);function At(r,t){let e=r%t;return e>=wt?e:t+e}function Wd(r,t,e){if(e<=wt||t<wt)throw new Error("Expected power/modulo > 0");if(e===lt)return wt;let n=lt;for(;t>wt;)t&lt&&(n=n*r%e),r=r*r%e,t>>=lt;return n}function $t(r,t,e){let n=r;for(;t-- >wt;)n*=n,n%=e;return n}function bo(r,t){if(r===wt||t<=wt)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=At(r,t),n=t,o=wt,i=lt,s=lt,c=wt;for(;e!==wt;){let a=n/e,l=n%e,f=o-s*a,m=i-c*a;n=e,e=l,o=s,i=c,s=f,c=m}if(n!==lt)throw new Error("invert: does not exist");return At(o,t)}function zd(r){let t=(r-lt)/yr,e,n,o;for(e=r-lt,n=0;e%yr===wt;e/=yr,n++);for(o=yr;o<r&&Wd(o,t,r)!==r-lt;o++);if(n===1){let s=(r+lt)/Ss;return function(u,a){let l=u.pow(a,s);if(!u.eql(u.sqr(l),a))throw new Error("Cannot find square root");return l}}let i=(e+lt)/yr;return function(c,u){if(c.pow(u,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let a=n,l=c.pow(c.mul(c.ONE,o),e),f=c.pow(u,i),m=c.pow(u,e);for(;!c.eql(m,c.ONE);){if(c.eql(m,c.ZERO))return c.ZERO;let E=1;for(let h=c.sqr(m);E<a&&!c.eql(h,c.ONE);E++)h=c.sqr(h);let y=c.pow(l,lt<<BigInt(a-E-1));l=c.sqr(y),f=c.mul(f,y),m=c.mul(m,l),a=E}return f}}function Fd(r){if(r%Ss===Vd){let t=(r+lt)/Ss;return function(n,o){let i=n.pow(o,t);if(!n.eql(n.sqr(i),o))throw new Error("Cannot find square root");return i}}if(r%eu===tu){let t=(r-tu)/eu;return function(n,o){let i=n.mul(o,yr),s=n.pow(i,t),c=n.mul(o,s),u=n.mul(n.mul(c,yr),s),a=n.mul(c,n.sub(u,n.ONE));if(!n.eql(n.sqr(a),o))throw new Error("Cannot find square root");return a}}return r%$d,zd(r)}var Zd=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function vs(r){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},e=Zd.reduce((n,o)=>(n[o]="function",n),t);return Te(r,e)}function Yd(r,t,e){if(e<wt)throw new Error("Expected power > 0");if(e===wt)return r.ONE;if(e===lt)return t;let n=r.ONE,o=t;for(;e>wt;)e&lt&&(n=r.mul(n,o)),o=r.sqr(o),e>>=lt;return n}function Jd(r,t){let e=new Array(t.length),n=t.reduce((i,s,c)=>r.is0(s)?i:(e[c]=i,r.mul(i,s)),r.ONE),o=r.inv(n);return t.reduceRight((i,s,c)=>r.is0(s)?i:(e[c]=r.mul(i,e[c]),r.mul(i,s)),o),e}function yo(r,t){let e=t!==void 0?t:r.toString(2).length,n=Math.ceil(e/8);return{nBitLength:e,nByteLength:n}}function wo(r,t,e=!1,n={}){if(r<=wt)throw new Error(`Expected Fp ORDER > 0, got ${r}`);let{nBitLength:o,nByteLength:i}=yo(r,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=Fd(r),c=Object.freeze({ORDER:r,BITS:o,BYTES:i,MASK:bn(o),ZERO:wt,ONE:lt,create:u=>At(u,r),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return wt<=u&&u<r},is0:u=>u===wt,isOdd:u=>(u&lt)===lt,neg:u=>At(-u,r),eql:(u,a)=>u===a,sqr:u=>At(u*u,r),add:(u,a)=>At(u+a,r),sub:(u,a)=>At(u-a,r),mul:(u,a)=>At(u*a,r),pow:(u,a)=>Yd(c,u,a),div:(u,a)=>At(u*bo(a,r),r),sqrN:u=>u*u,addN:(u,a)=>u+a,subN:(u,a)=>u-a,mulN:(u,a)=>u*a,inv:u=>bo(u,r),sqrt:n.sqrt||(u=>s(c,u)),invertBatch:u=>Jd(c,u),cmov:(u,a,l)=>l?a:u,toBytes:u=>e?ws(u,i):ve(u,i),fromBytes:u=>{if(u.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${u.length}`);return e?mo(u):se(u)}});return Object.freeze(c)}function ru(r,t,e=!1){r=Pt("privateHash",r);let n=r.length,o=yo(t).nByteLength+8;if(o<24||n<o||n>1024)throw new Error(`hashToPrivateScalar: expected ${o}-1024 bytes of input, got ${n}`);let i=e?mo(r):se(r);return At(i,t-lt)+lt}p();g();var Qd=BigInt(0),Ts=BigInt(1);function nu(r,t){let e=(o,i)=>{let s=i.negate();return o?s:i},n=o=>{let i=Math.ceil(t/o)+1,s=2**(o-1);return{windows:i,windowSize:s}};return{constTimeNegate:e,unsafeLadder(o,i){let s=r.ZERO,c=o;for(;i>Qd;)i&Ts&&(s=s.add(c)),c=c.double(),i>>=Ts;return s},precomputeWindow(o,i){let{windows:s,windowSize:c}=n(i),u=[],a=o,l=a;for(let f=0;f<s;f++){l=a,u.push(l);for(let m=1;m<c;m++)l=l.add(a),u.push(l);a=l.double()}return u},wNAF(o,i,s){let{windows:c,windowSize:u}=n(o),a=r.ZERO,l=r.BASE,f=BigInt(2**o-1),m=2**o,E=BigInt(o);for(let y=0;y<c;y++){let h=y*u,b=Number(s&f);s>>=E,b>u&&(b-=m,s+=Ts);let T=h,A=h+Math.abs(b)-1,S=y%2!==0,R=b<0;b===0?l=l.add(e(S,i[T])):a=a.add(e(R,i[A]))}return{p:a,f:l}},wNAFCached(o,i,s,c){let u=o._WINDOW_SIZE||1,a=i.get(o);return a||(a=this.precomputeWindow(o,u),u!==1&&i.set(o,c(a))),this.wNAF(u,a,s)}}}function Bs(r){return vs(r.Fp),Te(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...yo(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}function th(r){let t=Bs(r);Te(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:e,Fp:n,a:o}=t;if(e){if(!n.eql(o,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof e!="object"||typeof e.beta!="bigint"||typeof e.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}var{bytesToNumberBE:eh,hexToBytes:rh}=Es,wr={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(r){let{Err:t}=wr;if(r.length<2||r[0]!==2)throw new t("Invalid signature integer tag");let e=r[1],n=r.subarray(2,e+2);if(!e||n.length!==e)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:eh(n),l:r.subarray(e+2)}},toSig(r){let{Err:t}=wr,e=typeof r=="string"?rh(r):r;if(!(e instanceof Uint8Array))throw new Error("ui8a expected");let n=e.length;if(n<2||e[0]!=48)throw new t("Invalid signature tag");if(e[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:o,l:i}=wr._parseInt(e.subarray(2)),{d:s,l:c}=wr._parseInt(i);if(c.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s}},hexFromSig(r){let t=a=>Number.parseInt(a[0],16)&8?"00"+a:a,e=a=>{let l=a.toString(16);return l.length&1?`0${l}`:l},n=t(e(r.s)),o=t(e(r.r)),i=n.length/2,s=o.length/2,c=e(i),u=e(s);return`30${e(s+i+4)}02${u}${o}02${c}${n}`}},Be=BigInt(0),Jt=BigInt(1),hx=BigInt(2),ou=BigInt(3),px=BigInt(4);function nh(r){let t=th(r),{Fp:e}=t,n=t.toBytes||((y,h,b)=>{let T=h.toAffine();return Ze(Uint8Array.from([4]),e.toBytes(T.x),e.toBytes(T.y))}),o=t.fromBytes||(y=>{let h=y.subarray(1),b=e.fromBytes(h.subarray(0,e.BYTES)),T=e.fromBytes(h.subarray(e.BYTES,2*e.BYTES));return{x:b,y:T}});function i(y){let{a:h,b}=t,T=e.sqr(y),A=e.mul(T,y);return e.add(e.add(A,e.mul(y,h)),b)}if(!e.eql(e.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function s(y){return typeof y=="bigint"&&Be<y&&y<t.n}function c(y){if(!s(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(y){let{allowedPrivateKeyLengths:h,nByteLength:b,wrapPrivateKey:T,n:A}=t;if(h&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=mr(y)),typeof y!="string"||!h.includes(y.length))throw new Error("Invalid key");y=y.padStart(b*2,"0")}let S;try{S=typeof y=="bigint"?y:se(Pt("private key",y,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof y}`)}return T&&(S=At(S,A)),c(S),S}let a=new Map;function l(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(h,b,T){if(this.px=h,this.py=b,this.pz=T,h==null||!e.isValid(h))throw new Error("x required");if(b==null||!e.isValid(b))throw new Error("y required");if(T==null||!e.isValid(T))throw new Error("z required")}static fromAffine(h){let{x:b,y:T}=h||{};if(!h||!e.isValid(b)||!e.isValid(T))throw new Error("invalid affine point");if(h instanceof f)throw new Error("projective point not allowed");let A=S=>e.eql(S,e.ZERO);return A(b)&&A(T)?f.ZERO:new f(b,T,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(h){let b=e.invertBatch(h.map(T=>T.pz));return h.map((T,A)=>T.toAffine(b[A])).map(f.fromAffine)}static fromHex(h){let b=f.fromAffine(o(Pt("pointHex",h)));return b.assertValidity(),b}static fromPrivateKey(h){return f.BASE.multiply(u(h))}_setWindowSize(h){this._WINDOW_SIZE=h,a.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}let{x:h,y:b}=this.toAffine();if(!e.isValid(h)||!e.isValid(b))throw new Error("bad point: x or y not FE");let T=e.sqr(b),A=i(h);if(!e.eql(T,A))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:h}=this.toAffine();if(e.isOdd)return!e.isOdd(h);throw new Error("Field doesn't support isOdd")}equals(h){l(h);let{px:b,py:T,pz:A}=this,{px:S,py:R,pz:O}=h,I=e.eql(e.mul(b,O),e.mul(S,A)),k=e.eql(e.mul(T,O),e.mul(R,A));return I&&k}negate(){return new f(this.px,e.neg(this.py),this.pz)}double(){let{a:h,b}=t,T=e.mul(b,ou),{px:A,py:S,pz:R}=this,O=e.ZERO,I=e.ZERO,k=e.ZERO,C=e.mul(A,A),H=e.mul(S,S),j=e.mul(R,R),M=e.mul(A,S);return M=e.add(M,M),k=e.mul(A,R),k=e.add(k,k),O=e.mul(h,k),I=e.mul(T,j),I=e.add(O,I),O=e.sub(H,I),I=e.add(H,I),I=e.mul(O,I),O=e.mul(M,O),k=e.mul(T,k),j=e.mul(h,j),M=e.sub(C,j),M=e.mul(h,M),M=e.add(M,k),k=e.add(C,C),C=e.add(k,C),C=e.add(C,j),C=e.mul(C,M),I=e.add(I,C),j=e.mul(S,R),j=e.add(j,j),C=e.mul(j,M),O=e.sub(O,C),k=e.mul(j,H),k=e.add(k,k),k=e.add(k,k),new f(O,I,k)}add(h){l(h);let{px:b,py:T,pz:A}=this,{px:S,py:R,pz:O}=h,I=e.ZERO,k=e.ZERO,C=e.ZERO,H=t.a,j=e.mul(t.b,ou),M=e.mul(b,S),$=e.mul(T,R),Z=e.mul(A,O),ct=e.add(b,T),v=e.add(S,R);ct=e.mul(ct,v),v=e.add(M,$),ct=e.sub(ct,v),v=e.add(b,A);let B=e.add(S,O);return v=e.mul(v,B),B=e.add(M,Z),v=e.sub(v,B),B=e.add(T,A),I=e.add(R,O),B=e.mul(B,I),I=e.add($,Z),B=e.sub(B,I),C=e.mul(H,v),I=e.mul(j,Z),C=e.add(I,C),I=e.sub($,C),C=e.add($,C),k=e.mul(I,C),$=e.add(M,M),$=e.add($,M),Z=e.mul(H,Z),v=e.mul(j,v),$=e.add($,Z),Z=e.sub(M,Z),Z=e.mul(H,Z),v=e.add(v,Z),M=e.mul($,v),k=e.add(k,M),M=e.mul(B,v),I=e.mul(ct,I),I=e.sub(I,M),M=e.mul(ct,$),C=e.mul(B,C),C=e.add(C,M),new f(I,k,C)}subtract(h){return this.add(h.negate())}is0(){return this.equals(f.ZERO)}wNAF(h){return E.wNAFCached(this,a,h,b=>{let T=e.invertBatch(b.map(A=>A.pz));return b.map((A,S)=>A.toAffine(T[S])).map(f.fromAffine)})}multiplyUnsafe(h){let b=f.ZERO;if(h===Be)return b;if(c(h),h===Jt)return this;let{endo:T}=t;if(!T)return E.unsafeLadder(this,h);let{k1neg:A,k1:S,k2neg:R,k2:O}=T.splitScalar(h),I=b,k=b,C=this;for(;S>Be||O>Be;)S&Jt&&(I=I.add(C)),O&Jt&&(k=k.add(C)),C=C.double(),S>>=Jt,O>>=Jt;return A&&(I=I.negate()),R&&(k=k.negate()),k=new f(e.mul(k.px,T.beta),k.py,k.pz),I.add(k)}multiply(h){c(h);let b=h,T,A,{endo:S}=t;if(S){let{k1neg:R,k1:O,k2neg:I,k2:k}=S.splitScalar(b),{p:C,f:H}=this.wNAF(O),{p:j,f:M}=this.wNAF(k);C=E.constTimeNegate(R,C),j=E.constTimeNegate(I,j),j=new f(e.mul(j.px,S.beta),j.py,j.pz),T=C.add(j),A=H.add(M)}else{let{p:R,f:O}=this.wNAF(b);T=R,A=O}return f.normalizeZ([T,A])[0]}multiplyAndAddUnsafe(h,b,T){let A=f.BASE,S=(O,I)=>I===Be||I===Jt||!O.equals(A)?O.multiplyUnsafe(I):O.multiply(I),R=S(this,b).add(S(h,T));return R.is0()?void 0:R}toAffine(h){let{px:b,py:T,pz:A}=this,S=this.is0();h==null&&(h=S?e.ONE:e.inv(A));let R=e.mul(b,h),O=e.mul(T,h),I=e.mul(A,h);if(S)return{x:e.ZERO,y:e.ZERO};if(!e.eql(I,e.ONE))throw new Error("invZ was invalid");return{x:R,y:O}}isTorsionFree(){let{h,isTorsionFree:b}=t;if(h===Jt)return!0;if(b)return b(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h,clearCofactor:b}=t;return h===Jt?this:b?b(f,this):this.multiplyUnsafe(t.h)}toRawBytes(h=!0){return this.assertValidity(),n(f,this,h)}toHex(h=!0){return mr(this.toRawBytes(h))}}f.BASE=new f(t.Gx,t.Gy,e.ONE),f.ZERO=new f(e.ZERO,e.ONE,e.ZERO);let m=t.nBitLength,E=nu(f,t.endo?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:i,isWithinCurveOrder:s}}function oh(r){let t=Bs(r);return Te(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function iu(r){let t=oh(r),{Fp:e,n}=t,o=e.BYTES+1,i=2*e.BYTES+1;function s(v){return Be<v&&v<e.ORDER}function c(v){return At(v,n)}function u(v){return bo(v,n)}let{ProjectivePoint:a,normPrivateKeyToScalar:l,weierstrassEquation:f,isWithinCurveOrder:m}=nh({...t,toBytes(v,B,N){let V=B.toAffine(),K=e.toBytes(V.x),J=Ze;return N?J(Uint8Array.from([B.hasEvenY()?2:3]),K):J(Uint8Array.from([4]),K,e.toBytes(V.y))},fromBytes(v){let B=v.length,N=v[0],V=v.subarray(1);if(B===o&&(N===2||N===3)){let K=se(V);if(!s(K))throw new Error("Point is not on curve");let J=f(K),nt=e.sqrt(J),ot=(nt&Jt)===Jt;return(N&1)===1!==ot&&(nt=e.neg(nt)),{x:K,y:nt}}else if(B===i&&N===4){let K=e.fromBytes(V.subarray(0,e.BYTES)),J=e.fromBytes(V.subarray(e.BYTES,2*e.BYTES));return{x:K,y:J}}else throw new Error(`Point of length ${B} was invalid. Expected ${o} compressed bytes or ${i} uncompressed bytes`)}}),E=v=>mr(ve(v,t.nByteLength));function y(v){let B=n>>Jt;return v>B}function h(v){return y(v)?c(-v):v}let b=(v,B,N)=>se(v.slice(B,N));class T{constructor(B,N,V){this.r=B,this.s=N,this.recovery=V,this.assertValidity()}static fromCompact(B){let N=t.nByteLength;return B=Pt("compactSignature",B,N*2),new T(b(B,0,N),b(B,N,2*N))}static fromDER(B){let{r:N,s:V}=wr.toSig(Pt("DER",B));return new T(N,V)}assertValidity(){if(!m(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!m(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(B){return new T(this.r,this.s,B)}recoverPublicKey(B){let{r:N,s:V,recovery:K}=this,J=k(Pt("msgHash",B));if(K==null||![0,1,2,3].includes(K))throw new Error("recovery id invalid");let nt=K===2||K===3?N+t.n:N;if(nt>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");let ot=(K&1)===0?"02":"03",vt=a.fromHex(ot+E(nt)),Tt=u(nt),Lt=c(-J*Tt),te=c(V*Tt),Bt=a.BASE.multiplyAndAddUnsafe(vt,Lt,te);if(!Bt)throw new Error("point at infinify");return Bt.assertValidity(),Bt}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new T(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return br(this.toDERHex())}toDERHex(){return wr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return br(this.toCompactHex())}toCompactHex(){return E(this.r)+E(this.s)}}let A={isValidPrivateKey(v){try{return l(v),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let v=t.randomBytes(e.BYTES+8),B=ru(v,n);return ve(B,t.nByteLength)},precompute(v=8,B=a.BASE){return B._setWindowSize(v),B.multiply(BigInt(3)),B}};function S(v,B=!0){return a.fromPrivateKey(v).toRawBytes(B)}function R(v){let B=v instanceof Uint8Array,N=typeof v=="string",V=(B||N)&&v.length;return B?V===o||V===i:N?V===2*o||V===2*i:v instanceof a}function O(v,B,N=!0){if(R(v))throw new Error("first arg must be private key");if(!R(B))throw new Error("second arg must be public key");return a.fromHex(B).multiply(l(v)).toRawBytes(N)}let I=t.bits2int||function(v){let B=se(v),N=v.length*8-t.nBitLength;return N>0?B>>BigInt(N):B},k=t.bits2int_modN||function(v){return c(I(v))},C=bn(t.nBitLength);function H(v){if(typeof v!="bigint")throw new Error("bigint expected");if(!(Be<=v&&v<C))throw new Error(`bigint expected < 2^${t.nBitLength}`);return ve(v,t.nByteLength)}function j(v,B,N=M){if(["recovered","canonical"].some(kt=>kt in N))throw new Error("sign() legacy options not supported");let{hash:V,randomBytes:K}=t,{lowS:J,prehash:nt,extraEntropy:ot}=N;J==null&&(J=!0),v=Pt("msgHash",v),nt&&(v=Pt("prehashed msgHash",V(v)));let vt=k(v),Tt=l(B),Lt=[H(Tt),H(vt)];if(ot!=null){let kt=ot===!0?K(e.BYTES):ot;Lt.push(Pt("extraEntropy",kt,e.BYTES))}let te=Ze(...Lt),Bt=vt;function lr(kt){let qt=I(kt);if(!m(qt))return;let on=u(qt),Ht=a.BASE.multiply(qt).toAffine(),ut=c(Ht.x);if(ut===Be)return;let Kt=c(on*c(Bt+ut*Tt));if(Kt===Be)return;let sn=(Ht.x===ut?0:2)|Number(Ht.y&Jt),an=Kt;return J&&y(Kt)&&(an=h(Kt),sn^=1),new T(ut,an,sn)}return{seed:te,k2sig:lr}}let M={lowS:t.lowS,prehash:!1},$={lowS:t.lowS,prehash:!1};function Z(v,B,N=M){let{seed:V,k2sig:K}=j(v,B,N),J=t;return xs(J.hash.outputLen,J.nByteLength,J.hmac)(V,K)}a.BASE._setWindowSize(8);function ct(v,B,N,V=$){var Ht;let K=v;if(B=Pt("msgHash",B),N=Pt("publicKey",N),"strict"in V)throw new Error("options.strict was renamed to lowS");let{lowS:J,prehash:nt}=V,ot,vt;try{if(typeof K=="string"||K instanceof Uint8Array)try{ot=T.fromDER(K)}catch(ut){if(!(ut instanceof wr.Err))throw ut;ot=T.fromCompact(K)}else if(typeof K=="object"&&typeof K.r=="bigint"&&typeof K.s=="bigint"){let{r:ut,s:Kt}=K;ot=new T(ut,Kt)}else throw new Error("PARSE");vt=a.fromHex(N)}catch(ut){if(ut.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(J&&ot.hasHighS())return!1;nt&&(B=t.hash(B));let{r:Tt,s:Lt}=ot,te=k(B),Bt=u(Lt),lr=c(te*Bt),kt=c(Tt*Bt),qt=(Ht=a.BASE.multiplyAndAddUnsafe(vt,lr,kt))==null?void 0:Ht.toAffine();return qt?c(qt.x)===Tt:!1}return{CURVE:t,getPublicKey:S,getSharedSecret:O,sign:Z,verify:ct,ProjectivePoint:a,Signature:T,utils:A}}function ih(r){return{hash:r,hmac:(t,...e)=>ho(r,t,jc(...e)),randomBytes:ts}}function xo(r,t){let e=n=>iu({...r,...ih(n)});return Object.freeze({...e(t),create:e})}p();g();var su=wo(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),ch=su.create(BigInt("-3")),uh=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),fh=xo({a:ch,b:uh,Fp:su,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},me),Eo=fh;var _s=33,xr=class extends Se{constructor(t){if(super(),typeof t=="string"?this.data=ft(t):t instanceof Uint8Array?this.data=t:this.data=Uint8Array.from(t),this.data.length!==_s)throw new Error(`Invalid public key input. Expected ${_s} bytes, got ${this.data.length}`)}equals(t){return super.equals(t)}toRawBytes(){return this.data}flag(){return Ge.Secp256r1}async verify(t,e){let n;if(typeof e=="string"){let o=gr(e);if(o.signatureScheme!=="Secp256r1")throw new Error("Invalid signature scheme");if(!We(this.toRawBytes(),o.publicKey))throw new Error("Signature does not match public key");n=o.signature}else n=e;return Eo.verify(Eo.Signature.fromCompact(n),me(t),this.toRawBytes())}};xr.SIZE=_s;p();g();p();g();var uu=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),au=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),lh=BigInt(1),As=BigInt(2),cu=(r,t)=>(r+t/As)/t;function dh(r){let t=uu,e=BigInt(3),n=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),c=BigInt(44),u=BigInt(88),a=r*r*r%t,l=a*a*r%t,f=$t(l,e,t)*l%t,m=$t(f,e,t)*l%t,E=$t(m,As,t)*a%t,y=$t(E,o,t)*E%t,h=$t(y,i,t)*y%t,b=$t(h,c,t)*h%t,T=$t(b,u,t)*b%t,A=$t(T,c,t)*h%t,S=$t(A,e,t)*l%t,R=$t(S,s,t)*y%t,O=$t(R,n,t)*a%t,I=$t(O,As,t);if(!Is.eql(Is.sqr(I),r))throw new Error("Cannot find square root");return I}var Is=wo(uu,void 0,void 0,{sqrt:dh}),yn=xo({a:BigInt(0),b:BigInt(7),Fp:Is,n:au,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{let t=au,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-lh*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,s=BigInt("0x100000000000000000000000000000000"),c=cu(i*r,t),u=cu(-n*r,t),a=At(r-c*e-u*o,t),l=At(-c*n-u*i,t),f=a>s,m=l>s;if(f&&(a=t-a),m&&(l=t-l),a>s||l>s)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:f,k1:a,k2neg:m,k2:l}}}},me),Qx=BigInt(0);var t1=yn.ProjectivePoint;var Os=33,Er=class extends Se{constructor(t){if(super(),typeof t=="string"?this.data=ft(t):t instanceof Uint8Array?this.data=t:this.data=Uint8Array.from(t),this.data.length!==Os)throw new Error(`Invalid public key input. Expected ${Os} bytes, got ${this.data.length}`)}equals(t){return super.equals(t)}toRawBytes(){return this.data}flag(){return Ge.Secp256k1}async verify(t,e){let n;if(typeof e=="string"){let o=gr(e);if(o.signatureScheme!=="Secp256k1")throw new Error("Invalid signature scheme");if(!We(this.toRawBytes(),o.publicKey))throw new Error("Signature does not match public key");n=o.signature}else n=e;return yn.verify(yn.Signature.fromCompact(n),me(t),this.toRawBytes())}};Er.SIZE=Os;p();g();var fu=st(zo(),1),Cs=32,Sr=class extends Se{constructor(t){if(super(),typeof t=="string"?this.data=ft(t):t instanceof Uint8Array?this.data=t:this.data=Uint8Array.from(t),this.data.length!==Cs)throw new Error(`Invalid public key input. Expected ${Cs} bytes, got ${this.data.length}`)}equals(t){return super.equals(t)}toRawBytes(){return this.data}flag(){return Ge.ED25519}async verify(t,e){let n;if(typeof e=="string"){let o=gr(e);if(o.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!We(this.toRawBytes(),o.publicKey))throw new Error("Signature does not match public key");n=o.signature}else n=e;return fu.default.sign.detached.verify(t,n,this.toRawBytes())}};Sr.SIZE=Cs;p();g();p();g();var h0=st(zo(),1);p();g();p();g();p();g();function ks(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function hh(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}function du(r,...t){if(!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(r.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${r.length}`)}function ph(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ks(r.outputLen),ks(r.blockLen)}function gh(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}function mh(r,t){du(r);let e=t.outputLen;if(r.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}var bh={number:ks,bool:hh,bytes:du,hash:ph,exists:gh,output:mh},ae=bh;p();g();p();g();p();g();p();g();var yh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var wn=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),ce=(r,t)=>r<<32-t|r>>>t,wh=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!wh)throw new Error("Non little-endian hardware is not supported");var j1=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function xh(r){if(typeof r!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof r}`);return new TextEncoder().encode(r)}function Gr(r){if(typeof r=="string"&&(r=xh(r)),!(r instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof r})`);return r}var Vr=class{clone(){return this._cloneInto()}};function Ye(r){let t=n=>r().update(Gr(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}var So=class extends Vr{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,ae.hash(t);let n=Gr(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?t.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=t.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(t){return ae.exists(this),this.iHash.update(t),this}digestInto(t){ae.exists(this),ae.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:n,finished:o,destroyed:i,blockLen:s,outputLen:c}=this;return t=t,t.finished=o,t.destroyed=i,t.blockLen=s,t.outputLen=c,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},hu=(r,t,e)=>new So(r,t).update(e).digest();hu.create=(r,t)=>new So(r,t);p();g();p();g();function Eh(r,t,e,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(t,e,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(e>>o&i),c=Number(e&i),u=n?4:0,a=n?0:4;r.setUint32(t+u,s,n),r.setUint32(t+a,c,n)}var $r=class extends Vr{constructor(t,e,n,o){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=wn(this.buffer)}update(t){ae.exists(this);let{view:e,buffer:n,blockLen:o}=this;t=Gr(t);let i=t.length;for(let s=0;s<i;){let c=Math.min(o-this.pos,i-s);if(c===o){let u=wn(t);for(;o<=i-s;s+=o)this.process(u,s);continue}n.set(t.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===o&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){ae.exists(this),ae.output(t,this),this.finished=!0;let{buffer:e,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;e[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)e[f]=0;Eh(n,o-8,BigInt(this.length*8),i),this.process(n,0);let c=wn(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let a=u/4,l=this.get();if(a>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<a;f++)c.setUint32(4*f,l[f],i)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:n,length:o,finished:i,destroyed:s,pos:c}=this;return t.length=o,t.pos=c,t.finished=i,t.destroyed=s,o%e&&t.buffer.set(n),t}};var Sh=(r,t,e)=>r&t^~r&e,vh=(r,t,e)=>r&t^r&e^t&e,Th=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Je=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xe=new Uint32Array(64),vo=class extends $r{constructor(){super(64,32,8,!1),this.A=Je[0]|0,this.B=Je[1]|0,this.C=Je[2]|0,this.D=Je[3]|0,this.E=Je[4]|0,this.F=Je[5]|0,this.G=Je[6]|0,this.H=Je[7]|0}get(){let{A:t,B:e,C:n,D:o,E:i,F:s,G:c,H:u}=this;return[t,e,n,o,i,s,c,u]}set(t,e,n,o,i,s,c,u){this.A=t|0,this.B=e|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=c|0,this.H=u|0}process(t,e){for(let f=0;f<16;f++,e+=4)Xe[f]=t.getUint32(e,!1);for(let f=16;f<64;f++){let m=Xe[f-15],E=Xe[f-2],y=ce(m,7)^ce(m,18)^m>>>3,h=ce(E,17)^ce(E,19)^E>>>10;Xe[f]=h+Xe[f-7]+y+Xe[f-16]|0}let{A:n,B:o,C:i,D:s,E:c,F:u,G:a,H:l}=this;for(let f=0;f<64;f++){let m=ce(c,6)^ce(c,11)^ce(c,25),E=l+m+Sh(c,u,a)+Th[f]+Xe[f]|0,h=(ce(n,2)^ce(n,13)^ce(n,22))+vh(n,o,i)|0;l=a,a=u,u=c,c=s+E|0,s=i,i=o,o=n,n=E+h|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,c=c+this.E|0,u=u+this.F|0,a=a+this.G|0,l=l+this.H|0,this.set(n,o,i,s,c,u,a,l)}roundClean(){Xe.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Rs=class extends vo{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},Bh=Ye(()=>new vo),c2=Ye(()=>new Rs);p();g();p();g();var To=BigInt(4294967295),Ps=BigInt(32);function pu(r,t=!1){return t?{h:Number(r&To),l:Number(r>>Ps&To)}:{h:Number(r>>Ps&To)|0,l:Number(r&To)|0}}function _h(r,t=!1){let e=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let o=0;o<r.length;o++){let{h:i,l:s}=pu(r[o],t);[e[o],n[o]]=[i,s]}return[e,n]}var Ah=(r,t)=>BigInt(r>>>0)<<Ps|BigInt(t>>>0),Ih=(r,t,e)=>r>>>e,Oh=(r,t,e)=>r<<32-e|t>>>e,Ch=(r,t,e)=>r>>>e|t<<32-e,kh=(r,t,e)=>r<<32-e|t>>>e,Rh=(r,t,e)=>r<<64-e|t>>>e-32,Ph=(r,t,e)=>r>>>e-32|t<<64-e,Nh=(r,t)=>t,Uh=(r,t)=>r,Mh=(r,t,e)=>r<<e|t>>>32-e,Dh=(r,t,e)=>t<<e|r>>>32-e,jh=(r,t,e)=>t<<e-32|r>>>64-e,Lh=(r,t,e)=>r<<e-32|t>>>64-e;function qh(r,t,e,n){let o=(t>>>0)+(n>>>0);return{h:r+e+(o/2**32|0)|0,l:o|0}}var Hh=(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0),Kh=(r,t,e,n)=>t+e+n+(r/2**32|0)|0,Vh=(r,t,e,n)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0),Gh=(r,t,e,n,o)=>t+e+n+o+(r/2**32|0)|0,$h=(r,t,e,n,o)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0)+(o>>>0),Wh=(r,t,e,n,o,i)=>t+e+n+o+i+(r/2**32|0)|0,zh={fromBig:pu,split:_h,toBig:Ah,shrSH:Ih,shrSL:Oh,rotrSH:Ch,rotrSL:kh,rotrBH:Rh,rotrBL:Ph,rotr32H:Nh,rotr32L:Uh,rotlSH:Mh,rotlSL:Dh,rotlBH:jh,rotlBL:Lh,add:qh,add3L:Hh,add3H:Kh,add4L:Vh,add4H:Gh,add5H:Wh,add5L:$h},z=zh;var[Fh,Zh]=z.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Qe=new Uint32Array(80),tr=new Uint32Array(80),Wr=class extends $r{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:e,Bh:n,Bl:o,Ch:i,Cl:s,Dh:c,Dl:u,Eh:a,El:l,Fh:f,Fl:m,Gh:E,Gl:y,Hh:h,Hl:b}=this;return[t,e,n,o,i,s,c,u,a,l,f,m,E,y,h,b]}set(t,e,n,o,i,s,c,u,a,l,f,m,E,y,h,b){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=c|0,this.Dl=u|0,this.Eh=a|0,this.El=l|0,this.Fh=f|0,this.Fl=m|0,this.Gh=E|0,this.Gl=y|0,this.Hh=h|0,this.Hl=b|0}process(t,e){for(let S=0;S<16;S++,e+=4)Qe[S]=t.getUint32(e),tr[S]=t.getUint32(e+=4);for(let S=16;S<80;S++){let R=Qe[S-15]|0,O=tr[S-15]|0,I=z.rotrSH(R,O,1)^z.rotrSH(R,O,8)^z.shrSH(R,O,7),k=z.rotrSL(R,O,1)^z.rotrSL(R,O,8)^z.shrSL(R,O,7),C=Qe[S-2]|0,H=tr[S-2]|0,j=z.rotrSH(C,H,19)^z.rotrBH(C,H,61)^z.shrSH(C,H,6),M=z.rotrSL(C,H,19)^z.rotrBL(C,H,61)^z.shrSL(C,H,6),$=z.add4L(k,M,tr[S-7],tr[S-16]),Z=z.add4H($,I,j,Qe[S-7],Qe[S-16]);Qe[S]=Z|0,tr[S]=$|0}let{Ah:n,Al:o,Bh:i,Bl:s,Ch:c,Cl:u,Dh:a,Dl:l,Eh:f,El:m,Fh:E,Fl:y,Gh:h,Gl:b,Hh:T,Hl:A}=this;for(let S=0;S<80;S++){let R=z.rotrSH(f,m,14)^z.rotrSH(f,m,18)^z.rotrBH(f,m,41),O=z.rotrSL(f,m,14)^z.rotrSL(f,m,18)^z.rotrBL(f,m,41),I=f&E^~f&h,k=m&y^~m&b,C=z.add5L(A,O,k,Zh[S],tr[S]),H=z.add5H(C,T,R,I,Fh[S],Qe[S]),j=C|0,M=z.rotrSH(n,o,28)^z.rotrBH(n,o,34)^z.rotrBH(n,o,39),$=z.rotrSL(n,o,28)^z.rotrBL(n,o,34)^z.rotrBL(n,o,39),Z=n&i^n&c^i&c,ct=o&s^o&u^s&u;T=h|0,A=b|0,h=E|0,b=y|0,E=f|0,y=m|0,{h:f,l:m}=z.add(a|0,l|0,H|0,j|0),a=c|0,l=u|0,c=i|0,u=s|0,i=n|0,s=o|0;let v=z.add3L(j,$,ct);n=z.add3H(v,H,M,Z),o=v|0}({h:n,l:o}=z.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:s}=z.add(this.Bh|0,this.Bl|0,i|0,s|0),{h:c,l:u}=z.add(this.Ch|0,this.Cl|0,c|0,u|0),{h:a,l}=z.add(this.Dh|0,this.Dl|0,a|0,l|0),{h:f,l:m}=z.add(this.Eh|0,this.El|0,f|0,m|0),{h:E,l:y}=z.add(this.Fh|0,this.Fl|0,E|0,y|0),{h,l:b}=z.add(this.Gh|0,this.Gl|0,h|0,b|0),{h:T,l:A}=z.add(this.Hh|0,this.Hl|0,T|0,A|0),this.set(n,o,i,s,c,u,a,l,f,m,E,y,h,b,T,A)}roundClean(){Qe.fill(0),tr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Ns=class extends Wr{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},Us=class extends Wr{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},Ms=class extends Wr{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},Yh=Ye(()=>new Wr),y2=Ye(()=>new Ns),w2=Ye(()=>new Us),x2=Ye(()=>new Ms);p();g();function vr(r){if(!Number.isSafeInteger(r))throw new Error(`Wrong integer: ${r}`)}function be(...r){let t=(o,i)=>s=>o(i(s)),e=Array.from(r).reverse().reduce((o,i)=>o?t(o,i.encode):i.encode,void 0),n=r.reduce((o,i)=>o?t(o,i.decode):i.decode,void 0);return{encode:e,decode:n}}function _e(r){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(e=>{if(vr(e),e<0||e>=r.length)throw new Error(`Digit index outside alphabet: ${e} (alphabet: ${r.length})`);return r[e]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(e=>{if(typeof e!="string")throw new Error(`alphabet.decode: not string element=${e}`);let n=r.indexOf(e);if(n===-1)throw new Error(`Unknown letter: "${e}". Allowed: ${r}`);return n})}}}function Ae(r=""){if(typeof r!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let e of t)if(typeof e!="string")throw new Error(`join.encode: non-string input=${e}`);return t.join(r)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(r)}}}function Ao(r,t="="){if(vr(r),typeof t!="string")throw new Error("padding chr should be string");return{encode(e){if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("padding.encode input should be array of strings");for(let n of e)if(typeof n!="string")throw new Error(`padding.encode: non-string input=${n}`);for(;e.length*r%8;)e.push(t);return e},decode(e){if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("padding.encode input should be array of strings");for(let o of e)if(typeof o!="string")throw new Error(`padding.decode: non-string input=${o}`);let n=e.length;if(n*r%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&e[n-1]===t;n--)if(!((n-1)*r%8))throw new Error("Invalid padding: string has too much padding");return e.slice(0,n)}}}function xu(r){if(typeof r!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>r(t)}}function gu(r,t,e){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(e<2)throw new Error(`convertRadix: wrong to=${e}, base cannot be less than 2`);if(!Array.isArray(r))throw new Error("convertRadix: data should be array");if(!r.length)return[];let n=0,o=[],i=Array.from(r);for(i.forEach(s=>{if(vr(s),s<0||s>=t)throw new Error(`Wrong integer: ${s}`)});;){let s=0,c=!0;for(let u=n;u<i.length;u++){let a=i[u],l=t*s+a;if(!Number.isSafeInteger(l)||t*s/t!==s||l-a!==t*s)throw new Error("convertRadix: carry overflow");if(s=l%e,i[u]=Math.floor(l/e),!Number.isSafeInteger(i[u])||i[u]*e+s!==l)throw new Error("convertRadix: carry overflow");if(c)i[u]?c=!1:n=u;else continue}if(o.push(s),c)break}for(let s=0;s<r.length-1&&r[s]===0;s++)o.push(0);return o.reverse()}var Eu=(r,t)=>t?Eu(t,r%t):r,Bo=(r,t)=>r+(t-Eu(r,t));function Ds(r,t,e,n){if(!Array.isArray(r))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(e<=0||e>32)throw new Error(`convertRadix2: wrong to=${e}`);if(Bo(t,e)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${e} carryBits=${Bo(t,e)}`);let o=0,i=0,s=2**e-1,c=[];for(let u of r){if(vr(u),u>=2**t)throw new Error(`convertRadix2: invalid data word=${u} from=${t}`);if(o=o<<t|u,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=e;i-=e)c.push((o>>i-e&s)>>>0);o&=2**i-1}if(o=o<<e-i&s,!n&&i>=t)throw new Error("Excess padding");if(!n&&o)throw new Error(`Non-zero padding: ${o}`);return n&&i>0&&c.push(o>>>0),c}function Jh(r){return vr(r),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return gu(Array.from(t),2**8,r)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(gu(t,r,2**8))}}}function er(r,t=!1){if(vr(r),r<=0||r>32)throw new Error("radix2: bits should be in (0..32]");if(Bo(8,r)>32||Bo(r,8)>32)throw new Error("radix2: carry overflow");return{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Ds(Array.from(e),8,r,!t)},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Ds(e,r,8,t))}}}function mu(r){if(typeof r!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return r.apply(null,t)}catch{}}}function Xh(r,t){if(vr(r),typeof t!="function")throw new Error("checksum fn should be function");return{encode(e){if(!(e instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");let n=t(e).slice(0,r),o=new Uint8Array(e.length+r);return o.set(e),o.set(n,e.length),o},decode(e){if(!(e instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");let n=e.slice(0,-r),o=t(n).slice(0,r),i=e.slice(-r);for(let s=0;s<r;s++)if(o[s]!==i[s])throw new Error("Invalid checksum");return n}}}var Qh=be(er(4),_e("0123456789ABCDEF"),Ae("")),t0=be(er(5),_e("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Ao(5),Ae("")),T2=be(er(5),_e("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Ao(5),Ae("")),B2=be(er(5),_e("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Ae(""),xu(r=>r.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),e0=be(er(6),_e("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Ao(6),Ae("")),r0=be(er(6),_e("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Ao(6),Ae("")),Ls=r=>be(Jh(58),_e(r),Ae("")),_o=Ls("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),_2=Ls("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),A2=Ls("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),bu=[0,2,3,5,6,7,9,10,11],n0={encode(r){let t="";for(let e=0;e<r.length;e+=8){let n=r.subarray(e,e+8);t+=_o.encode(n).padStart(bu[n.length],"1")}return t},decode(r){let t=[];for(let e=0;e<r.length;e+=11){let n=r.slice(e,e+11),o=bu.indexOf(n.length),i=_o.decode(n);for(let s=0;s<i.length-o;s++)if(i[s]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(i.slice(i.length-o)))}return Uint8Array.from(t)}},Su=r=>be(Xh(4,t=>r(r(t))),_o),js=be(_e("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Ae("")),yu=[996825010,642813549,513874426,1027748829,705979059];function xn(r){let t=r>>25,e=(r&33554431)<<5;for(let n=0;n<yu.length;n++)(t>>n&1)===1&&(e^=yu[n]);return e}function wu(r,t,e=1){let n=r.length,o=1;for(let i=0;i<n;i++){let s=r.charCodeAt(i);if(s<33||s>126)throw new Error(`Invalid prefix (${r})`);o=xn(o)^s>>5}o=xn(o);for(let i=0;i<n;i++)o=xn(o)^r.charCodeAt(i)&31;for(let i of t)o=xn(o)^i;for(let i=0;i<6;i++)o=xn(o);return o^=e,js.encode(Ds([o%2**30],30,5,!1))}function vu(r){let t=r==="bech32"?1:734539939,e=er(5),n=e.decode,o=e.encode,i=mu(n);function s(l,f,m=90){if(typeof l!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof l}`);if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof f}`);let E=l.length+7+f.length;if(m!==!1&&E>m)throw new TypeError(`Length ${E} exceeds limit ${m}`);return l=l.toLowerCase(),`${l}1${js.encode(f)}${wu(l,f,t)}`}function c(l,f=90){if(typeof l!="string")throw new Error(`bech32.decode input should be string, not ${typeof l}`);if(l.length<8||f!==!1&&l.length>f)throw new TypeError(`Wrong string length: ${l.length} (${l}). Expected (8..${f})`);let m=l.toLowerCase();if(l!==m&&l!==l.toUpperCase())throw new Error("String must be lowercase or uppercase");l=m;let E=l.lastIndexOf("1");if(E===0||E===-1)throw new Error('Letter "1" must be present between prefix and data only');let y=l.slice(0,E),h=l.slice(E+1);if(h.length<6)throw new Error("Data must be at least 6 characters long");let b=js.decode(h).slice(0,-6),T=wu(y,b,t);if(!h.endsWith(T))throw new Error(`Invalid checksum in ${l}: expected "${T}"`);return{prefix:y,words:b}}let u=mu(c);function a(l){let{prefix:f,words:m}=c(l,!1);return{prefix:f,words:m,bytes:n(m)}}return{encode:s,decode:c,decodeToBytes:a,decodeUnsafe:u,fromWords:n,fromWordsUnsafe:i,toWords:o}}var I2=vu("bech32"),O2=vu("bech32m"),o0={encode:r=>new TextDecoder().decode(r),decode:r=>new TextEncoder().encode(r)},i0=be(er(4),_e("0123456789abcdef"),Ae(""),xu(r=>{if(typeof r!="string"||r.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof r} with length ${r.length}`);return r.toLowerCase()})),s0={utf8:o0,hex:i0,base16:Qh,base32:t0,base64:e0,base64url:r0,base58:_o,base58xmr:n0},C2=`Invalid encoding type. Available types: ${Object.keys(s0).join(", ")}`;p();g();p();g();var[a0,c0]=q.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),rr=new Uint32Array(80),nr=new Uint32Array(80),zr=class extends Kr{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:e,Bh:n,Bl:o,Ch:i,Cl:s,Dh:c,Dl:u,Eh:a,El:l,Fh:f,Fl:m,Gh:E,Gl:y,Hh:h,Hl:b}=this;return[t,e,n,o,i,s,c,u,a,l,f,m,E,y,h,b]}set(t,e,n,o,i,s,c,u,a,l,f,m,E,y,h,b){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=c|0,this.Dl=u|0,this.Eh=a|0,this.El=l|0,this.Fh=f|0,this.Fl=m|0,this.Gh=E|0,this.Gl=y|0,this.Hh=h|0,this.Hl=b|0}process(t,e){for(let S=0;S<16;S++,e+=4)rr[S]=t.getUint32(e),nr[S]=t.getUint32(e+=4);for(let S=16;S<80;S++){let R=rr[S-15]|0,O=nr[S-15]|0,I=q.rotrSH(R,O,1)^q.rotrSH(R,O,8)^q.shrSH(R,O,7),k=q.rotrSL(R,O,1)^q.rotrSL(R,O,8)^q.shrSL(R,O,7),C=rr[S-2]|0,H=nr[S-2]|0,j=q.rotrSH(C,H,19)^q.rotrBH(C,H,61)^q.shrSH(C,H,6),M=q.rotrSL(C,H,19)^q.rotrBL(C,H,61)^q.shrSL(C,H,6),$=q.add4L(k,M,nr[S-7],nr[S-16]),Z=q.add4H($,I,j,rr[S-7],rr[S-16]);rr[S]=Z|0,nr[S]=$|0}let{Ah:n,Al:o,Bh:i,Bl:s,Ch:c,Cl:u,Dh:a,Dl:l,Eh:f,El:m,Fh:E,Fl:y,Gh:h,Gl:b,Hh:T,Hl:A}=this;for(let S=0;S<80;S++){let R=q.rotrSH(f,m,14)^q.rotrSH(f,m,18)^q.rotrBH(f,m,41),O=q.rotrSL(f,m,14)^q.rotrSL(f,m,18)^q.rotrBL(f,m,41),I=f&E^~f&h,k=m&y^~m&b,C=q.add5L(A,O,k,c0[S],nr[S]),H=q.add5H(C,T,R,I,a0[S],rr[S]),j=C|0,M=q.rotrSH(n,o,28)^q.rotrBH(n,o,34)^q.rotrBH(n,o,39),$=q.rotrSL(n,o,28)^q.rotrBL(n,o,34)^q.rotrBL(n,o,39),Z=n&i^n&c^i&c,ct=o&s^o&u^s&u;T=h|0,A=b|0,h=E|0,b=y|0,E=f|0,y=m|0,{h:f,l:m}=q.add(a|0,l|0,H|0,j|0),a=c|0,l=u|0,c=i|0,u=s|0,i=n|0,s=o|0;let v=q.add3L(j,$,ct);n=q.add3H(v,H,M,Z),o=v|0}({h:n,l:o}=q.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:s}=q.add(this.Bh|0,this.Bl|0,i|0,s|0),{h:c,l:u}=q.add(this.Ch|0,this.Cl|0,c|0,u|0),{h:a,l}=q.add(this.Dh|0,this.Dl|0,a|0,l|0),{h:f,l:m}=q.add(this.Eh|0,this.El|0,f|0,m|0),{h:E,l:y}=q.add(this.Fh|0,this.Fl|0,E|0,y|0),{h,l:b}=q.add(this.Gh|0,this.Gl|0,h|0,b|0),{h:T,l:A}=q.add(this.Hh|0,this.Hl|0,T|0,A|0),this.set(n,o,i,s,c,u,a,l,f,m,E,y,h,b,T,A)}roundClean(){rr.fill(0),nr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},qs=class extends zr{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},Hs=class extends zr{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},Ks=class extends zr{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},u0=je(()=>new zr),rE=je(()=>new qs),nE=je(()=>new Hs),oE=je(()=>new Ks);var f0=st(zo(),1);var lE=new RegExp("^m(\\/[0-9]+')+$");p();g();p();g();p();g();p();g();p();g();function Gs(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function p0(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}function $s(r,...t){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(r.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${r.length}`)}function g0(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Gs(r.outputLen),Gs(r.blockLen)}function m0(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}function b0(r,t){$s(r);let e=t.outputLen;if(r.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}var y0={number:Gs,bool:p0,bytes:$s,hash:g0,exists:m0,output:b0},Ie=y0;p();g();p();g();var Io=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var _u=r=>r instanceof Uint8Array;var En=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),ue=(r,t)=>r<<32-t|r>>>t,w0=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!w0)throw new Error("Non little-endian hardware is not supported");var LE=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function Ws(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function Sn(r){if(typeof r=="string"&&(r=Ws(r)),!_u(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}function zs(...r){let t=new Uint8Array(r.reduce((n,o)=>n+o.length,0)),e=0;return r.forEach(n=>{if(!_u(n))throw new Error("Uint8Array expected");t.set(n,e),e+=n.length}),t}var Fr=class{clone(){return this._cloneInto()}};function ye(r){let t=n=>r().update(Sn(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}function Fs(r=32){if(Io&&typeof Io.getRandomValues=="function")return Io.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}var Oo=class extends Fr{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,Ie.hash(t);let n=Sn(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?t.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=t.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(t){return Ie.exists(this),this.iHash.update(t),this}digestInto(t){Ie.exists(this),Ie.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:n,finished:o,destroyed:i,blockLen:s,outputLen:c}=this;return t=t,t.finished=o,t.destroyed=i,t.blockLen=s,t.outputLen=c,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Co=(r,t,e)=>new Oo(r,t).update(e).digest();Co.create=(r,t)=>new Oo(r,t);p();g();p();g();function x0(r,t,e,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(t,e,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(e>>o&i),c=Number(e&i),u=n?4:0,a=n?0:4;r.setUint32(t+u,s,n),r.setUint32(t+a,c,n)}var or=class extends Fr{constructor(t,e,n,o){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=En(this.buffer)}update(t){Ie.exists(this);let{view:e,buffer:n,blockLen:o}=this;t=Sn(t);let i=t.length;for(let s=0;s<i;){let c=Math.min(o-this.pos,i-s);if(c===o){let u=En(t);for(;o<=i-s;s+=o)this.process(u,s);continue}n.set(t.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===o&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ie.exists(this),Ie.output(t,this),this.finished=!0;let{buffer:e,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;e[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)e[f]=0;x0(n,o-8,BigInt(this.length*8),i),this.process(n,0);let c=En(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let a=u/4,l=this.get();if(a>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<a;f++)c.setUint32(4*f,l[f],i)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:n,length:o,finished:i,destroyed:s,pos:c}=this;return t.length=o,t.pos=c,t.finished=i,t.destroyed=s,o%e&&t.buffer.set(n),t}};var E0=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Iu=Uint8Array.from({length:16},(r,t)=>t),S0=Iu.map(r=>(9*r+5)%16),Ys=[Iu],Js=[S0];for(let r=0;r<4;r++)for(let t of[Ys,Js])t.push(t[r].map(e=>E0[e]));var Ou=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),v0=Ys.map((r,t)=>r.map(e=>Ou[t][e])),T0=Js.map((r,t)=>r.map(e=>Ou[t][e])),B0=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),_0=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),ko=(r,t)=>r<<t|r>>>32-t;function Au(r,t,e,n){return r===0?t^e^n:r===1?t&e|~t&n:r===2?(t|~e)^n:r===3?t&n|e&~n:t^(e|~n)}var Ro=new Uint32Array(16),Zs=class extends or{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:t,h1:e,h2:n,h3:o,h4:i}=this;return[t,e,n,o,i]}set(t,e,n,o,i){this.h0=t|0,this.h1=e|0,this.h2=n|0,this.h3=o|0,this.h4=i|0}process(t,e){for(let E=0;E<16;E++,e+=4)Ro[E]=t.getUint32(e,!0);let n=this.h0|0,o=n,i=this.h1|0,s=i,c=this.h2|0,u=c,a=this.h3|0,l=a,f=this.h4|0,m=f;for(let E=0;E<5;E++){let y=4-E,h=B0[E],b=_0[E],T=Ys[E],A=Js[E],S=v0[E],R=T0[E];for(let O=0;O<16;O++){let I=ko(n+Au(E,i,c,a)+Ro[T[O]]+h,S[O])+f|0;n=f,f=a,a=ko(c,10)|0,c=i,i=I}for(let O=0;O<16;O++){let I=ko(o+Au(y,s,u,l)+Ro[A[O]]+b,R[O])+m|0;o=m,m=l,l=ko(u,10)|0,u=s,s=I}}this.set(this.h1+c+l|0,this.h2+a+m|0,this.h3+f+o|0,this.h4+n+s|0,this.h0+i+u|0)}roundClean(){Ro.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},A0=ye(()=>new Zs);p();g();var I0=(r,t,e)=>r&t^~r&e,O0=(r,t,e)=>r&t^r&e^t&e,C0=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ir=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),sr=new Uint32Array(64),Po=class extends or{constructor(){super(64,32,8,!1),this.A=ir[0]|0,this.B=ir[1]|0,this.C=ir[2]|0,this.D=ir[3]|0,this.E=ir[4]|0,this.F=ir[5]|0,this.G=ir[6]|0,this.H=ir[7]|0}get(){let{A:t,B:e,C:n,D:o,E:i,F:s,G:c,H:u}=this;return[t,e,n,o,i,s,c,u]}set(t,e,n,o,i,s,c,u){this.A=t|0,this.B=e|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=c|0,this.H=u|0}process(t,e){for(let f=0;f<16;f++,e+=4)sr[f]=t.getUint32(e,!1);for(let f=16;f<64;f++){let m=sr[f-15],E=sr[f-2],y=ue(m,7)^ue(m,18)^m>>>3,h=ue(E,17)^ue(E,19)^E>>>10;sr[f]=h+sr[f-7]+y+sr[f-16]|0}let{A:n,B:o,C:i,D:s,E:c,F:u,G:a,H:l}=this;for(let f=0;f<64;f++){let m=ue(c,6)^ue(c,11)^ue(c,25),E=l+m+I0(c,u,a)+C0[f]+sr[f]|0,h=(ue(n,2)^ue(n,13)^ue(n,22))+O0(n,o,i)|0;l=a,a=u,u=c,c=s+E|0,s=i,i=o,o=n,n=E+h|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,c=c+this.E|0,u=u+this.F|0,a=a+this.G|0,l=l+this.H|0,this.set(n,o,i,s,c,u,a,l)}roundClean(){sr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Xs=class extends Po{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},No=ye(()=>new Po),sS=ye(()=>new Xs);p();g();p();g();var Uo=BigInt(4294967295),Qs=BigInt(32);function Cu(r,t=!1){return t?{h:Number(r&Uo),l:Number(r>>Qs&Uo)}:{h:Number(r>>Qs&Uo)|0,l:Number(r&Uo)|0}}function k0(r,t=!1){let e=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let o=0;o<r.length;o++){let{h:i,l:s}=Cu(r[o],t);[e[o],n[o]]=[i,s]}return[e,n]}var R0=(r,t)=>BigInt(r>>>0)<<Qs|BigInt(t>>>0),P0=(r,t,e)=>r>>>e,N0=(r,t,e)=>r<<32-e|t>>>e,U0=(r,t,e)=>r>>>e|t<<32-e,M0=(r,t,e)=>r<<32-e|t>>>e,D0=(r,t,e)=>r<<64-e|t>>>e-32,j0=(r,t,e)=>r>>>e-32|t<<64-e,L0=(r,t)=>t,q0=(r,t)=>r,H0=(r,t,e)=>r<<e|t>>>32-e,K0=(r,t,e)=>t<<e|r>>>32-e,V0=(r,t,e)=>t<<e-32|r>>>64-e,G0=(r,t,e)=>r<<e-32|t>>>64-e;function $0(r,t,e,n){let o=(t>>>0)+(n>>>0);return{h:r+e+(o/2**32|0)|0,l:o|0}}var W0=(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0),z0=(r,t,e,n)=>t+e+n+(r/2**32|0)|0,F0=(r,t,e,n)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0),Z0=(r,t,e,n,o)=>t+e+n+o+(r/2**32|0)|0,Y0=(r,t,e,n,o)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0)+(o>>>0),J0=(r,t,e,n,o,i)=>t+e+n+o+i+(r/2**32|0)|0,X0={fromBig:Cu,split:k0,toBig:R0,shrSH:P0,shrSL:N0,rotrSH:U0,rotrSL:M0,rotrBH:D0,rotrBL:j0,rotr32H:L0,rotr32L:q0,rotlSH:H0,rotlSL:K0,rotlBH:V0,rotlBL:G0,add:$0,add3L:W0,add3H:z0,add4L:F0,add4H:Z0,add5H:J0,add5L:Y0},F=X0;var[Q0,tp]=F.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),ar=new Uint32Array(80),cr=new Uint32Array(80),Zr=class extends or{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:e,Bh:n,Bl:o,Ch:i,Cl:s,Dh:c,Dl:u,Eh:a,El:l,Fh:f,Fl:m,Gh:E,Gl:y,Hh:h,Hl:b}=this;return[t,e,n,o,i,s,c,u,a,l,f,m,E,y,h,b]}set(t,e,n,o,i,s,c,u,a,l,f,m,E,y,h,b){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=c|0,this.Dl=u|0,this.Eh=a|0,this.El=l|0,this.Fh=f|0,this.Fl=m|0,this.Gh=E|0,this.Gl=y|0,this.Hh=h|0,this.Hl=b|0}process(t,e){for(let S=0;S<16;S++,e+=4)ar[S]=t.getUint32(e),cr[S]=t.getUint32(e+=4);for(let S=16;S<80;S++){let R=ar[S-15]|0,O=cr[S-15]|0,I=F.rotrSH(R,O,1)^F.rotrSH(R,O,8)^F.shrSH(R,O,7),k=F.rotrSL(R,O,1)^F.rotrSL(R,O,8)^F.shrSL(R,O,7),C=ar[S-2]|0,H=cr[S-2]|0,j=F.rotrSH(C,H,19)^F.rotrBH(C,H,61)^F.shrSH(C,H,6),M=F.rotrSL(C,H,19)^F.rotrBL(C,H,61)^F.shrSL(C,H,6),$=F.add4L(k,M,cr[S-7],cr[S-16]),Z=F.add4H($,I,j,ar[S-7],ar[S-16]);ar[S]=Z|0,cr[S]=$|0}let{Ah:n,Al:o,Bh:i,Bl:s,Ch:c,Cl:u,Dh:a,Dl:l,Eh:f,El:m,Fh:E,Fl:y,Gh:h,Gl:b,Hh:T,Hl:A}=this;for(let S=0;S<80;S++){let R=F.rotrSH(f,m,14)^F.rotrSH(f,m,18)^F.rotrBH(f,m,41),O=F.rotrSL(f,m,14)^F.rotrSL(f,m,18)^F.rotrBL(f,m,41),I=f&E^~f&h,k=m&y^~m&b,C=F.add5L(A,O,k,tp[S],cr[S]),H=F.add5H(C,T,R,I,Q0[S],ar[S]),j=C|0,M=F.rotrSH(n,o,28)^F.rotrBH(n,o,34)^F.rotrBH(n,o,39),$=F.rotrSL(n,o,28)^F.rotrBL(n,o,34)^F.rotrBL(n,o,39),Z=n&i^n&c^i&c,ct=o&s^o&u^s&u;T=h|0,A=b|0,h=E|0,b=y|0,E=f|0,y=m|0,{h:f,l:m}=F.add(a|0,l|0,H|0,j|0),a=c|0,l=u|0,c=i|0,u=s|0,i=n|0,s=o|0;let v=F.add3L(j,$,ct);n=F.add3H(v,H,M,Z),o=v|0}({h:n,l:o}=F.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:s}=F.add(this.Bh|0,this.Bl|0,i|0,s|0),{h:c,l:u}=F.add(this.Ch|0,this.Cl|0,c|0,u|0),{h:a,l}=F.add(this.Dh|0,this.Dl|0,a|0,l|0),{h:f,l:m}=F.add(this.Eh|0,this.El|0,f|0,m|0),{h:E,l:y}=F.add(this.Fh|0,this.Fl|0,E|0,y|0),{h,l:b}=F.add(this.Gh|0,this.Gl|0,h|0,b|0),{h:T,l:A}=F.add(this.Hh|0,this.Hl|0,T|0,A|0),this.set(n,o,i,s,c,u,a,l,f,m,E,y,h,b,T,A)}roundClean(){ar.fill(0),cr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},ta=class extends Zr{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},ea=class extends Zr{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},ra=class extends Zr{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},ep=ye(()=>new Zr),mS=ye(()=>new ta),bS=ye(()=>new ea),yS=ye(()=>new ra);p();g();p();g();var aa={};Wo(aa,{bitGet:()=>ap,bitLen:()=>sp,bitMask:()=>vn,bitSet:()=>cp,bytesToHex:()=>Tr,bytesToNumberBE:()=>fe,bytesToNumberLE:()=>jo,concatBytes:()=>ur,createHmacDrbg:()=>sa,ensureBytes:()=>Nt,equalBytes:()=>ip,hexToBytes:()=>Br,hexToNumber:()=>oa,numberToBytesBE:()=>Oe,numberToBytesLE:()=>ia,numberToHexUnpadded:()=>Pu,numberToVarBytesBE:()=>op,utf8ToBytes:()=>Nu,validateObject:()=>Ce});p();g();var Ru=BigInt(0),Mo=BigInt(1),rp=BigInt(2),Do=r=>r instanceof Uint8Array,np=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function Tr(r){if(!Do(r))throw new Error("Uint8Array expected");let t="";for(let e=0;e<r.length;e++)t+=np[r[e]];return t}function Pu(r){let t=r.toString(16);return t.length&1?`0${t}`:t}function oa(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}function Br(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let t=r.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let e=new Uint8Array(t/2);for(let n=0;n<e.length;n++){let o=n*2,i=r.slice(o,o+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[n]=s}return e}function fe(r){return oa(Tr(r))}function jo(r){if(!Do(r))throw new Error("Uint8Array expected");return oa(Tr(Uint8Array.from(r).reverse()))}function Oe(r,t){return Br(r.toString(16).padStart(t*2,"0"))}function ia(r,t){return Oe(r,t).reverse()}function op(r){return Br(Pu(r))}function Nt(r,t,e){let n;if(typeof t=="string")try{n=Br(t)}catch(i){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${i}`)}else if(Do(t))n=Uint8Array.from(t);else throw new Error(`${r} must be hex string or Uint8Array`);let o=n.length;if(typeof e=="number"&&o!==e)throw new Error(`${r} expected ${e} bytes, got ${o}`);return n}function ur(...r){let t=new Uint8Array(r.reduce((n,o)=>n+o.length,0)),e=0;return r.forEach(n=>{if(!Do(n))throw new Error("Uint8Array expected");t.set(n,e),e+=n.length}),t}function ip(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!==t[e])return!1;return!0}function Nu(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function sp(r){let t;for(t=0;r>Ru;r>>=Mo,t+=1);return t}function ap(r,t){return r>>BigInt(t)&Mo}var cp=(r,t,e)=>r|(e?Mo:Ru)<<BigInt(t),vn=r=>(rp<<BigInt(r-1))-Mo,na=r=>new Uint8Array(r),ku=r=>Uint8Array.from(r);function sa(r,t,e){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let n=na(r),o=na(r),i=0,s=()=>{n.fill(1),o.fill(0),i=0},c=(...f)=>e(o,n,...f),u=(f=na())=>{o=c(ku([0]),f),n=c(),f.length!==0&&(o=c(ku([1]),f),n=c())},a=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,m=[];for(;f<t;){n=c();let E=n.slice();m.push(E),f+=n.length}return ur(...m)};return(f,m)=>{s(),u(f);let E;for(;!(E=m(a()));)u();return s(),E}}var up={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function Ce(r,t,e={}){let n=(o,i,s)=>{let c=up[i];if(typeof c!="function")throw new Error(`Invalid validator "${i}", expected function`);let u=r[o];if(!(s&&u===void 0)&&!c(u,r))throw new Error(`Invalid param ${String(o)}=${u} (${typeof u}), expected ${i}`)};for(let[o,i]of Object.entries(t))n(o,i,!1);for(let[o,i]of Object.entries(e))n(o,i,!0);return r}var xt=BigInt(0),dt=BigInt(1),_r=BigInt(2),fp=BigInt(3),ca=BigInt(4),Uu=BigInt(5),Mu=BigInt(8),lp=BigInt(9),dp=BigInt(16);function St(r,t){let e=r%t;return e>=xt?e:t+e}function hp(r,t,e){if(e<=xt||t<xt)throw new Error("Expected power/modulo > 0");if(e===dt)return xt;let n=dt;for(;t>xt;)t&dt&&(n=n*r%e),r=r*r%e,t>>=dt;return n}function Wt(r,t,e){let n=r;for(;t-- >xt;)n*=n,n%=e;return n}function Lo(r,t){if(r===xt||t<=xt)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=St(r,t),n=t,o=xt,i=dt,s=dt,c=xt;for(;e!==xt;){let a=n/e,l=n%e,f=o-s*a,m=i-c*a;n=e,e=l,o=s,i=c,s=f,c=m}if(n!==dt)throw new Error("invert: does not exist");return St(o,t)}function pp(r){let t=(r-dt)/_r,e,n,o;for(e=r-dt,n=0;e%_r===xt;e/=_r,n++);for(o=_r;o<r&&hp(o,t,r)!==r-dt;o++);if(n===1){let s=(r+dt)/ca;return function(u,a){let l=u.pow(a,s);if(!u.eql(u.sqr(l),a))throw new Error("Cannot find square root");return l}}let i=(e+dt)/_r;return function(c,u){if(c.pow(u,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let a=n,l=c.pow(c.mul(c.ONE,o),e),f=c.pow(u,i),m=c.pow(u,e);for(;!c.eql(m,c.ONE);){if(c.eql(m,c.ZERO))return c.ZERO;let E=1;for(let h=c.sqr(m);E<a&&!c.eql(h,c.ONE);E++)h=c.sqr(h);let y=c.pow(l,dt<<BigInt(a-E-1));l=c.sqr(y),f=c.mul(f,y),m=c.mul(m,l),a=E}return f}}function gp(r){if(r%ca===fp){let t=(r+dt)/ca;return function(n,o){let i=n.pow(o,t);if(!n.eql(n.sqr(i),o))throw new Error("Cannot find square root");return i}}if(r%Mu===Uu){let t=(r-Uu)/Mu;return function(n,o){let i=n.mul(o,_r),s=n.pow(i,t),c=n.mul(o,s),u=n.mul(n.mul(c,_r),s),a=n.mul(c,n.sub(u,n.ONE));if(!n.eql(n.sqr(a),o))throw new Error("Cannot find square root");return a}}return r%dp,pp(r)}var mp=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ua(r){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},e=mp.reduce((n,o)=>(n[o]="function",n),t);return Ce(r,e)}function bp(r,t,e){if(e<xt)throw new Error("Expected power > 0");if(e===xt)return r.ONE;if(e===dt)return t;let n=r.ONE,o=t;for(;e>xt;)e&dt&&(n=r.mul(n,o)),o=r.sqr(o),e>>=dt;return n}function yp(r,t){let e=new Array(t.length),n=t.reduce((i,s,c)=>r.is0(s)?i:(e[c]=i,r.mul(i,s)),r.ONE),o=r.inv(n);return t.reduceRight((i,s,c)=>r.is0(s)?i:(e[c]=r.mul(i,e[c]),r.mul(i,s)),o),e}function qo(r,t){let e=t!==void 0?t:r.toString(2).length,n=Math.ceil(e/8);return{nBitLength:e,nByteLength:n}}function Du(r,t,e=!1,n={}){if(r<=xt)throw new Error(`Expected Fp ORDER > 0, got ${r}`);let{nBitLength:o,nByteLength:i}=qo(r,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=gp(r),c=Object.freeze({ORDER:r,BITS:o,BYTES:i,MASK:vn(o),ZERO:xt,ONE:dt,create:u=>St(u,r),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return xt<=u&&u<r},is0:u=>u===xt,isOdd:u=>(u&dt)===dt,neg:u=>St(-u,r),eql:(u,a)=>u===a,sqr:u=>St(u*u,r),add:(u,a)=>St(u+a,r),sub:(u,a)=>St(u-a,r),mul:(u,a)=>St(u*a,r),pow:(u,a)=>bp(c,u,a),div:(u,a)=>St(u*Lo(a,r),r),sqrN:u=>u*u,addN:(u,a)=>u+a,subN:(u,a)=>u-a,mulN:(u,a)=>u*a,inv:u=>Lo(u,r),sqrt:n.sqrt||(u=>s(c,u)),invertBatch:u=>yp(c,u),cmov:(u,a,l)=>l?a:u,toBytes:u=>e?ia(u,i):Oe(u,i),fromBytes:u=>{if(u.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${u.length}`);return e?jo(u):fe(u)}});return Object.freeze(c)}function ju(r,t,e=!1){r=Nt("privateHash",r);let n=r.length,o=qo(t).nByteLength+8;if(o<24||n<o||n>1024)throw new Error(`hashToPrivateScalar: expected ${o}-1024 bytes of input, got ${n}`);let i=e?jo(r):fe(r);return St(i,t-dt)+dt}p();g();p();g();var xp=BigInt(0),fa=BigInt(1);function Lu(r,t){let e=(o,i)=>{let s=i.negate();return o?s:i},n=o=>{let i=Math.ceil(t/o)+1,s=2**(o-1);return{windows:i,windowSize:s}};return{constTimeNegate:e,unsafeLadder(o,i){let s=r.ZERO,c=o;for(;i>xp;)i&fa&&(s=s.add(c)),c=c.double(),i>>=fa;return s},precomputeWindow(o,i){let{windows:s,windowSize:c}=n(i),u=[],a=o,l=a;for(let f=0;f<s;f++){l=a,u.push(l);for(let m=1;m<c;m++)l=l.add(a),u.push(l);a=l.double()}return u},wNAF(o,i,s){let{windows:c,windowSize:u}=n(o),a=r.ZERO,l=r.BASE,f=BigInt(2**o-1),m=2**o,E=BigInt(o);for(let y=0;y<c;y++){let h=y*u,b=Number(s&f);s>>=E,b>u&&(b-=m,s+=fa);let T=h,A=h+Math.abs(b)-1,S=y%2!==0,R=b<0;b===0?l=l.add(e(S,i[T])):a=a.add(e(R,i[A]))}return{p:a,f:l}},wNAFCached(o,i,s,c){let u=o._WINDOW_SIZE||1,a=i.get(o);return a||(a=this.precomputeWindow(o,u),u!==1&&i.set(o,c(a))),this.wNAF(u,a,s)}}}function la(r){return ua(r.Fp),Ce(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...qo(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}function Ep(r){let t=la(r);Ce(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:e,Fp:n,a:o}=t;if(e){if(!n.eql(o,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof e!="object"||typeof e.beta!="bigint"||typeof e.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}var{bytesToNumberBE:Sp,hexToBytes:vp}=aa,Ar={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(r){let{Err:t}=Ar;if(r.length<2||r[0]!==2)throw new t("Invalid signature integer tag");let e=r[1],n=r.subarray(2,e+2);if(!e||n.length!==e)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Sp(n),l:r.subarray(e+2)}},toSig(r){let{Err:t}=Ar,e=typeof r=="string"?vp(r):r;if(!(e instanceof Uint8Array))throw new Error("ui8a expected");let n=e.length;if(n<2||e[0]!=48)throw new t("Invalid signature tag");if(e[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:o,l:i}=Ar._parseInt(e.subarray(2)),{d:s,l:c}=Ar._parseInt(i);if(c.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s}},hexFromSig(r){let t=a=>Number.parseInt(a[0],16)&8?"00"+a:a,e=a=>{let l=a.toString(16);return l.length&1?`0${l}`:l},n=t(e(r.s)),o=t(e(r.r)),i=n.length/2,s=o.length/2,c=e(i),u=e(s);return`30${e(s+i+4)}02${u}${o}02${c}${n}`}},ke=BigInt(0),Xt=BigInt(1),US=BigInt(2),qu=BigInt(3),MS=BigInt(4);function Tp(r){let t=Ep(r),{Fp:e}=t,n=t.toBytes||((y,h,b)=>{let T=h.toAffine();return ur(Uint8Array.from([4]),e.toBytes(T.x),e.toBytes(T.y))}),o=t.fromBytes||(y=>{let h=y.subarray(1),b=e.fromBytes(h.subarray(0,e.BYTES)),T=e.fromBytes(h.subarray(e.BYTES,2*e.BYTES));return{x:b,y:T}});function i(y){let{a:h,b}=t,T=e.sqr(y),A=e.mul(T,y);return e.add(e.add(A,e.mul(y,h)),b)}if(!e.eql(e.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function s(y){return typeof y=="bigint"&&ke<y&&y<t.n}function c(y){if(!s(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(y){let{allowedPrivateKeyLengths:h,nByteLength:b,wrapPrivateKey:T,n:A}=t;if(h&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=Tr(y)),typeof y!="string"||!h.includes(y.length))throw new Error("Invalid key");y=y.padStart(b*2,"0")}let S;try{S=typeof y=="bigint"?y:fe(Nt("private key",y,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof y}`)}return T&&(S=St(S,A)),c(S),S}let a=new Map;function l(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(h,b,T){if(this.px=h,this.py=b,this.pz=T,h==null||!e.isValid(h))throw new Error("x required");if(b==null||!e.isValid(b))throw new Error("y required");if(T==null||!e.isValid(T))throw new Error("z required")}static fromAffine(h){let{x:b,y:T}=h||{};if(!h||!e.isValid(b)||!e.isValid(T))throw new Error("invalid affine point");if(h instanceof f)throw new Error("projective point not allowed");let A=S=>e.eql(S,e.ZERO);return A(b)&&A(T)?f.ZERO:new f(b,T,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(h){let b=e.invertBatch(h.map(T=>T.pz));return h.map((T,A)=>T.toAffine(b[A])).map(f.fromAffine)}static fromHex(h){let b=f.fromAffine(o(Nt("pointHex",h)));return b.assertValidity(),b}static fromPrivateKey(h){return f.BASE.multiply(u(h))}_setWindowSize(h){this._WINDOW_SIZE=h,a.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}let{x:h,y:b}=this.toAffine();if(!e.isValid(h)||!e.isValid(b))throw new Error("bad point: x or y not FE");let T=e.sqr(b),A=i(h);if(!e.eql(T,A))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:h}=this.toAffine();if(e.isOdd)return!e.isOdd(h);throw new Error("Field doesn't support isOdd")}equals(h){l(h);let{px:b,py:T,pz:A}=this,{px:S,py:R,pz:O}=h,I=e.eql(e.mul(b,O),e.mul(S,A)),k=e.eql(e.mul(T,O),e.mul(R,A));return I&&k}negate(){return new f(this.px,e.neg(this.py),this.pz)}double(){let{a:h,b}=t,T=e.mul(b,qu),{px:A,py:S,pz:R}=this,O=e.ZERO,I=e.ZERO,k=e.ZERO,C=e.mul(A,A),H=e.mul(S,S),j=e.mul(R,R),M=e.mul(A,S);return M=e.add(M,M),k=e.mul(A,R),k=e.add(k,k),O=e.mul(h,k),I=e.mul(T,j),I=e.add(O,I),O=e.sub(H,I),I=e.add(H,I),I=e.mul(O,I),O=e.mul(M,O),k=e.mul(T,k),j=e.mul(h,j),M=e.sub(C,j),M=e.mul(h,M),M=e.add(M,k),k=e.add(C,C),C=e.add(k,C),C=e.add(C,j),C=e.mul(C,M),I=e.add(I,C),j=e.mul(S,R),j=e.add(j,j),C=e.mul(j,M),O=e.sub(O,C),k=e.mul(j,H),k=e.add(k,k),k=e.add(k,k),new f(O,I,k)}add(h){l(h);let{px:b,py:T,pz:A}=this,{px:S,py:R,pz:O}=h,I=e.ZERO,k=e.ZERO,C=e.ZERO,H=t.a,j=e.mul(t.b,qu),M=e.mul(b,S),$=e.mul(T,R),Z=e.mul(A,O),ct=e.add(b,T),v=e.add(S,R);ct=e.mul(ct,v),v=e.add(M,$),ct=e.sub(ct,v),v=e.add(b,A);let B=e.add(S,O);return v=e.mul(v,B),B=e.add(M,Z),v=e.sub(v,B),B=e.add(T,A),I=e.add(R,O),B=e.mul(B,I),I=e.add($,Z),B=e.sub(B,I),C=e.mul(H,v),I=e.mul(j,Z),C=e.add(I,C),I=e.sub($,C),C=e.add($,C),k=e.mul(I,C),$=e.add(M,M),$=e.add($,M),Z=e.mul(H,Z),v=e.mul(j,v),$=e.add($,Z),Z=e.sub(M,Z),Z=e.mul(H,Z),v=e.add(v,Z),M=e.mul($,v),k=e.add(k,M),M=e.mul(B,v),I=e.mul(ct,I),I=e.sub(I,M),M=e.mul(ct,$),C=e.mul(B,C),C=e.add(C,M),new f(I,k,C)}subtract(h){return this.add(h.negate())}is0(){return this.equals(f.ZERO)}wNAF(h){return E.wNAFCached(this,a,h,b=>{let T=e.invertBatch(b.map(A=>A.pz));return b.map((A,S)=>A.toAffine(T[S])).map(f.fromAffine)})}multiplyUnsafe(h){let b=f.ZERO;if(h===ke)return b;if(c(h),h===Xt)return this;let{endo:T}=t;if(!T)return E.unsafeLadder(this,h);let{k1neg:A,k1:S,k2neg:R,k2:O}=T.splitScalar(h),I=b,k=b,C=this;for(;S>ke||O>ke;)S&Xt&&(I=I.add(C)),O&Xt&&(k=k.add(C)),C=C.double(),S>>=Xt,O>>=Xt;return A&&(I=I.negate()),R&&(k=k.negate()),k=new f(e.mul(k.px,T.beta),k.py,k.pz),I.add(k)}multiply(h){c(h);let b=h,T,A,{endo:S}=t;if(S){let{k1neg:R,k1:O,k2neg:I,k2:k}=S.splitScalar(b),{p:C,f:H}=this.wNAF(O),{p:j,f:M}=this.wNAF(k);C=E.constTimeNegate(R,C),j=E.constTimeNegate(I,j),j=new f(e.mul(j.px,S.beta),j.py,j.pz),T=C.add(j),A=H.add(M)}else{let{p:R,f:O}=this.wNAF(b);T=R,A=O}return f.normalizeZ([T,A])[0]}multiplyAndAddUnsafe(h,b,T){let A=f.BASE,S=(O,I)=>I===ke||I===Xt||!O.equals(A)?O.multiplyUnsafe(I):O.multiply(I),R=S(this,b).add(S(h,T));return R.is0()?void 0:R}toAffine(h){let{px:b,py:T,pz:A}=this,S=this.is0();h==null&&(h=S?e.ONE:e.inv(A));let R=e.mul(b,h),O=e.mul(T,h),I=e.mul(A,h);if(S)return{x:e.ZERO,y:e.ZERO};if(!e.eql(I,e.ONE))throw new Error("invZ was invalid");return{x:R,y:O}}isTorsionFree(){let{h,isTorsionFree:b}=t;if(h===Xt)return!0;if(b)return b(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h,clearCofactor:b}=t;return h===Xt?this:b?b(f,this):this.multiplyUnsafe(t.h)}toRawBytes(h=!0){return this.assertValidity(),n(f,this,h)}toHex(h=!0){return Tr(this.toRawBytes(h))}}f.BASE=new f(t.Gx,t.Gy,e.ONE),f.ZERO=new f(e.ZERO,e.ONE,e.ZERO);let m=t.nBitLength,E=Lu(f,t.endo?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:i,isWithinCurveOrder:s}}function Bp(r){let t=la(r);return Ce(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Hu(r){let t=Bp(r),{Fp:e,n}=t,o=e.BYTES+1,i=2*e.BYTES+1;function s(v){return ke<v&&v<e.ORDER}function c(v){return St(v,n)}function u(v){return Lo(v,n)}let{ProjectivePoint:a,normPrivateKeyToScalar:l,weierstrassEquation:f,isWithinCurveOrder:m}=Tp({...t,toBytes(v,B,N){let V=B.toAffine(),K=e.toBytes(V.x),J=ur;return N?J(Uint8Array.from([B.hasEvenY()?2:3]),K):J(Uint8Array.from([4]),K,e.toBytes(V.y))},fromBytes(v){let B=v.length,N=v[0],V=v.subarray(1);if(B===o&&(N===2||N===3)){let K=fe(V);if(!s(K))throw new Error("Point is not on curve");let J=f(K),nt=e.sqrt(J),ot=(nt&Xt)===Xt;return(N&1)===1!==ot&&(nt=e.neg(nt)),{x:K,y:nt}}else if(B===i&&N===4){let K=e.fromBytes(V.subarray(0,e.BYTES)),J=e.fromBytes(V.subarray(e.BYTES,2*e.BYTES));return{x:K,y:J}}else throw new Error(`Point of length ${B} was invalid. Expected ${o} compressed bytes or ${i} uncompressed bytes`)}}),E=v=>Tr(Oe(v,t.nByteLength));function y(v){let B=n>>Xt;return v>B}function h(v){return y(v)?c(-v):v}let b=(v,B,N)=>fe(v.slice(B,N));class T{constructor(B,N,V){this.r=B,this.s=N,this.recovery=V,this.assertValidity()}static fromCompact(B){let N=t.nByteLength;return B=Nt("compactSignature",B,N*2),new T(b(B,0,N),b(B,N,2*N))}static fromDER(B){let{r:N,s:V}=Ar.toSig(Nt("DER",B));return new T(N,V)}assertValidity(){if(!m(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!m(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(B){return new T(this.r,this.s,B)}recoverPublicKey(B){let{r:N,s:V,recovery:K}=this,J=k(Nt("msgHash",B));if(K==null||![0,1,2,3].includes(K))throw new Error("recovery id invalid");let nt=K===2||K===3?N+t.n:N;if(nt>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");let ot=(K&1)===0?"02":"03",vt=a.fromHex(ot+E(nt)),Tt=u(nt),Lt=c(-J*Tt),te=c(V*Tt),Bt=a.BASE.multiplyAndAddUnsafe(vt,Lt,te);if(!Bt)throw new Error("point at infinify");return Bt.assertValidity(),Bt}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new T(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Br(this.toDERHex())}toDERHex(){return Ar.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Br(this.toCompactHex())}toCompactHex(){return E(this.r)+E(this.s)}}let A={isValidPrivateKey(v){try{return l(v),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let v=t.randomBytes(e.BYTES+8),B=ju(v,n);return Oe(B,t.nByteLength)},precompute(v=8,B=a.BASE){return B._setWindowSize(v),B.multiply(BigInt(3)),B}};function S(v,B=!0){return a.fromPrivateKey(v).toRawBytes(B)}function R(v){let B=v instanceof Uint8Array,N=typeof v=="string",V=(B||N)&&v.length;return B?V===o||V===i:N?V===2*o||V===2*i:v instanceof a}function O(v,B,N=!0){if(R(v))throw new Error("first arg must be private key");if(!R(B))throw new Error("second arg must be public key");return a.fromHex(B).multiply(l(v)).toRawBytes(N)}let I=t.bits2int||function(v){let B=fe(v),N=v.length*8-t.nBitLength;return N>0?B>>BigInt(N):B},k=t.bits2int_modN||function(v){return c(I(v))},C=vn(t.nBitLength);function H(v){if(typeof v!="bigint")throw new Error("bigint expected");if(!(ke<=v&&v<C))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Oe(v,t.nByteLength)}function j(v,B,N=M){if(["recovered","canonical"].some(kt=>kt in N))throw new Error("sign() legacy options not supported");let{hash:V,randomBytes:K}=t,{lowS:J,prehash:nt,extraEntropy:ot}=N;J==null&&(J=!0),v=Nt("msgHash",v),nt&&(v=Nt("prehashed msgHash",V(v)));let vt=k(v),Tt=l(B),Lt=[H(Tt),H(vt)];if(ot!=null){let kt=ot===!0?K(e.BYTES):ot;Lt.push(Nt("extraEntropy",kt,e.BYTES))}let te=ur(...Lt),Bt=vt;function lr(kt){let qt=I(kt);if(!m(qt))return;let on=u(qt),Ht=a.BASE.multiply(qt).toAffine(),ut=c(Ht.x);if(ut===ke)return;let Kt=c(on*c(Bt+ut*Tt));if(Kt===ke)return;let sn=(Ht.x===ut?0:2)|Number(Ht.y&Xt),an=Kt;return J&&y(Kt)&&(an=h(Kt),sn^=1),new T(ut,an,sn)}return{seed:te,k2sig:lr}}let M={lowS:t.lowS,prehash:!1},$={lowS:t.lowS,prehash:!1};function Z(v,B,N=M){let{seed:V,k2sig:K}=j(v,B,N),J=t;return sa(J.hash.outputLen,J.nByteLength,J.hmac)(V,K)}a.BASE._setWindowSize(8);function ct(v,B,N,V=$){var Ht;let K=v;if(B=Nt("msgHash",B),N=Nt("publicKey",N),"strict"in V)throw new Error("options.strict was renamed to lowS");let{lowS:J,prehash:nt}=V,ot,vt;try{if(typeof K=="string"||K instanceof Uint8Array)try{ot=T.fromDER(K)}catch(ut){if(!(ut instanceof Ar.Err))throw ut;ot=T.fromCompact(K)}else if(typeof K=="object"&&typeof K.r=="bigint"&&typeof K.s=="bigint"){let{r:ut,s:Kt}=K;ot=new T(ut,Kt)}else throw new Error("PARSE");vt=a.fromHex(N)}catch(ut){if(ut.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(J&&ot.hasHighS())return!1;nt&&(B=t.hash(B));let{r:Tt,s:Lt}=ot,te=k(B),Bt=u(Lt),lr=c(te*Bt),kt=c(Tt*Bt),qt=(Ht=a.BASE.multiplyAndAddUnsafe(vt,lr,kt))==null?void 0:Ht.toAffine();return qt?c(qt.x)===Tt:!1}return{CURVE:t,getPublicKey:S,getSharedSecret:O,sign:Z,verify:ct,ProjectivePoint:a,Signature:T,utils:A}}p();g();p();g();function _p(r){return{hash:r,hmac:(t,...e)=>Co(r,t,zs(...e)),randomBytes:Fs}}function Ku(r,t){let e=n=>Hu({...r,..._p(n)});return Object.freeze({...e(t),create:e})}var $u=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Vu=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ap=BigInt(1),da=BigInt(2),Gu=(r,t)=>(r+t/da)/t;function Ip(r){let t=$u,e=BigInt(3),n=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),c=BigInt(44),u=BigInt(88),a=r*r*r%t,l=a*a*r%t,f=Wt(l,e,t)*l%t,m=Wt(f,e,t)*l%t,E=Wt(m,da,t)*a%t,y=Wt(E,o,t)*E%t,h=Wt(y,i,t)*y%t,b=Wt(h,c,t)*h%t,T=Wt(b,u,t)*b%t,A=Wt(T,c,t)*h%t,S=Wt(A,e,t)*l%t,R=Wt(S,s,t)*y%t,O=Wt(R,n,t)*a%t,I=Wt(O,da,t);if(!ha.eql(ha.sqr(I),r))throw new Error("Cannot find square root");return I}var ha=Du($u,void 0,void 0,{sqrt:Ip}),pa=Ku({a:BigInt(0),b:BigInt(7),Fp:ha,n:Vu,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{let t=Vu,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Ap*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,s=BigInt("0x100000000000000000000000000000000"),c=Gu(i*r,t),u=Gu(-n*r,t),a=St(r-c*e-u*o,t),l=St(-c*n-u*i,t),f=a>s,m=l>s;if(f&&(a=t-a),m&&(l=t-l),a>s||l>s)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:f,k1:a,k2neg:m,k2:l}}}},No),av=BigInt(0);var cv=pa.ProjectivePoint;var vv=pa.ProjectivePoint,Tv=Su(No);var Bv=Ws("Bitcoin seed");p();g();p();g();p();g();p();g();p();g();p();g();var en=st(ba(),1);p();g();var wf="0.40.0",xf="1.8.0";p();g();var Bn=class{constructor(t,e){let n=new en.HTTPTransport(t,{headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":wf,"Client-Target-Api-Version":xf,...e}});this.rpcClient=new en.Client(new en.RequestManager([n]))}async requestWithType(t,e,n){let o={method:t,args:e};return await this.request(t,e)}async request(t,e){return await this.rpcClient.request({method:t,params:e})}};p();g();var nn=st(ba(),1),xa=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},Qt=(r,t,e)=>(xa(r,t,"read from private field"),e?e.call(r):t.get(r)),_n=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},Cr=(r,t,e,n)=>(xa(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),Sg=(r,t,e,n)=>({set _(o){Cr(r,t,o,e)},get _(){return Qt(r,t,n)}}),ya=(r,t,e)=>(xa(r,t,"access private method"),e),Ee,fr,rn,Vo,wa,Ea,Ef,Sf=(r,t)=>{let e=new URL(r);return e.protocol=e.protocol.replace("http","ws"),t&&(e.port=t.toString()),e.toString()},Go={callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5},An=class{constructor(t,e=Go){this.endpoint=t,this.options=e,_n(this,Vo),_n(this,Ea),_n(this,Ee,void 0),_n(this,fr,void 0),_n(this,rn,void 0),this.endpoint.startsWith("http")&&(this.endpoint=Sf(this.endpoint)),Cr(this,Ee,null),Cr(this,fr,new Map),Cr(this,rn,0)}async request(t){let n=await ya(this,Vo,wa).call(this).request({method:t.method,params:t.params},this.options.callTimeout),o=t.initialId||n;return Qt(this,fr).set(o,{...t,id:n,initialId:o}),async()=>{let i=ya(this,Vo,wa).call(this),s=Qt(this,fr).get(o);return s?(Qt(this,fr).delete(o),i.request({method:t.unsubscribe,params:[s.id]},this.options.callTimeout)):!1}}};Ee=new WeakMap;fr=new WeakMap;rn=new WeakMap;Vo=new WeakSet;wa=function(){if(Qt(this,Ee))return Qt(this,Ee);let r=new nn.WebSocketTransport(this.endpoint),t=new nn.RequestManager([r]);return Cr(this,Ee,new nn.Client(t)),r.connection.addEventListener("open",()=>{Cr(this,rn,0)}),r.connection.addEventListener("close",()=>{Sg(this,rn)._++,Qt(this,rn)<=this.options.maxReconnects&&setTimeout(()=>{ya(this,Ea,Ef).call(this)},this.options.reconnectTimeout)}),Qt(this,Ee).onNotification(e=>{let n=e.params;Qt(this,fr).forEach(o=>{o.method===e.method&&n.subscription===o.id&&o.onMessage(n.result)})}),Qt(this,Ee)};Ea=new WeakSet;Ef=function(){var r;(r=Qt(this,Ee))==null||r.close(),Cr(this,Ee,null),Qt(this,fr).forEach(t=>this.request(t))};var Mt=st(mt(),1);p();g();var vf=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},$o=(r,t,e)=>(vf(r,t,"read from private field"),e?e.call(r):t.get(r)),vg=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},Tg=(r,t,e,n)=>(vf(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),kr,Rr=class{constructor(t){vg(this,kr,void 0),Tg(this,kr,t)}get fullnode(){return $o(this,kr).fullnode}get websocket(){return $o(this,kr).websocket||$o(this,kr).fullnode}get faucet(){return $o(this,kr).faucet}};kr=new WeakMap;var Bg=new Rr({fullnode:"http://127.0.0.1:9000",faucet:"http://127.0.0.1:9123/gas"}),Sa=new Rr({fullnode:"https://fullnode.devnet.sui.io:443/",faucet:"https://faucet.devnet.sui.io/gas"}),_g=new Rr({fullnode:"https://fullnode.testnet.sui.io:443/",faucet:"https://faucet.testnet.sui.io/gas"}),Ag=new Rr({fullnode:"https://fullnode.mainnet.sui.io:443/"});p();g();p();g();var va=class extends Error{};async function Ig(r,t,e,n){let o=new URL(t,r).toString(),i=await fetch(o,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",...n||{}}});if(i.status===429)throw new va("Too many requests from this client have been sent to the faucet. Please retry later");try{let s=await i.json();if(s.error)throw new Error(`Faucet returns error: ${s.error}`);return s}catch(s){throw new Error(`Encountered error when parsing response from faucet, error: ${s}, status ${i.status}, response ${i}`)}}async function Tf(r){return Ig(r.host,"/gas",{FixedAmountRequest:{recipient:r.recipient}},r.headers)}var Bf={socketOptions:Go,versionCacheTimeoutInSeconds:600},Ta=class{constructor(t=Sa,e=Bf){var o,i;this.options=e,this.connection=t;let n={...Bf,...e};this.options=n,this.client=(o=n.rpcClient)!=null?o:new Bn(this.connection.fullnode),this.wsClient=(i=n.websocketClient)!=null?i:new An(this.connection.websocket,n.socketOptions)}async getRpcApiVersion(){var t;if(this.rpcApiVersion&&this.cacheExpiry&&this.cacheExpiry<=Date.now())return this.rpcApiVersion;try{let e=await this.client.requestWithType("rpc.discover",[],(0,Mt.any)());return this.rpcApiVersion=e.info.version,this.cacheExpiry=Date.now()+((t=this.options.versionCacheTimeoutInSeconds)!=null?t:0)*1e3,this.rpcApiVersion}catch(e){console.warn("Error fetching version number of the RPC API",e)}}async requestSuiFromFaucet(t,e){if(!this.connection.faucet)throw new Error("Faucet URL is not specified");return Tf({host:this.connection.faucet,recipient:t,headers:e})}async getCoins(t){if(!t.owner||!re(at(t.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getCoins",[t.owner,t.coinType,t.cursor,t.limit],Gn)}async getAllCoins(t){if(!t.owner||!re(at(t.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getAllCoins",[t.owner,t.cursor,t.limit],Gn)}async getBalance(t){if(!t.owner||!re(at(t.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getBalance",[t.owner,t.coinType],$n)}async getAllBalances(t){if(!t.owner||!re(at(t.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getAllBalances",[t.owner],(0,Mt.array)($n))}async getCoinMetadata(t){return await this.client.requestWithType("suix_getCoinMetadata",[t.coinType],Zi)}async getTotalSupply(t){return await this.client.requestWithType("suix_getTotalSupply",[t.coinType],bi)}async call(t,e){return await this.client.request(t,e)}async getMoveFunctionArgTypes(t){return await this.client.requestWithType("sui_getMoveFunctionArgTypes",[t.package,t.module,t.function],li)}async getNormalizedMoveModulesByPackage(t){return await this.client.requestWithType("sui_getNormalizedMoveModulesByPackage",[t.package],hi)}async getNormalizedMoveModule(t){return await this.client.requestWithType("sui_getNormalizedMoveModule",[t.package,t.module],qn)}async getNormalizedMoveFunction(t){return await this.client.requestWithType("sui_getNormalizedMoveFunction",[t.package,t.module,t.function],jn)}async getNormalizedMoveStruct(t){return await this.client.requestWithType("sui_getNormalizedMoveStruct",[t.package,t.module,t.struct],Ln)}async getOwnedObjects(t){if(!t.owner||!re(at(t.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getOwnedObjects",[t.owner,{filter:t.filter,options:t.options},t.cursor,t.limit],ei)}async getObject(t){if(!t.id||!jr(Rt(t.id)))throw new Error("Invalid Sui Object id");return await this.client.requestWithType("sui_getObject",[t.id,t.options],Ur)}async tryGetPastObject(t){return await this.client.requestWithType("sui_tryGetPastObject",[t.id,t.version,t.options],ri)}async multiGetObjects(t){if(t.ids.forEach(n=>{if(!n||!jr(Rt(n)))throw new Error(`Invalid Sui Object id ${n}`)}),t.ids.length!==new Set(t.ids).size)throw new Error(`Duplicate object ids in batch call ${t.ids}`);return await this.client.requestWithType("sui_multiGetObjects",[t.ids,t.options],(0,Mt.array)(Ur))}async queryTransactionBlocks(t){return await this.client.requestWithType("suix_queryTransactionBlocks",[{filter:t.filter,options:t.options},t.cursor,t.limit,(t.order||"descending")==="descending"],ui)}async getTransactionBlock(t){if(!Zn(t.digest))throw new Error("Invalid Transaction digest");return await this.client.requestWithType("sui_getTransactionBlock",[t.digest,t.options],Mr)}async multiGetTransactionBlocks(t){if(t.digests.forEach(n=>{if(!Zn(n))throw new Error(`Invalid Transaction digest ${n}`)}),t.digests.length!==new Set(t.digests).size)throw new Error(`Duplicate digests in batch call ${t.digests}`);return await this.client.requestWithType("sui_multiGetTransactionBlocks",[t.digests,t.options],(0,Mt.array)(Mr))}async executeTransactionBlock(t){return await this.client.requestWithType("sui_executeTransactionBlock",[typeof t.transactionBlock=="string"?t.transactionBlock:bt(t.transactionBlock),Array.isArray(t.signature)?t.signature:[t.signature],t.options,t.requestType],Mr)}async getTotalTransactionBlocks(){let t=await this.client.requestWithType("sui_getTotalTransactionBlocks",[],(0,Mt.string)());return BigInt(t)}async getReferenceGasPrice(){let t=await this.client.requestWithType("suix_getReferenceGasPrice",[],(0,Mt.string)());return BigInt(t)}async getStakes(t){if(!t.owner||!re(at(t.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getStakes",[t.owner],(0,Mt.array)(Kn))}async getStakesByIds(t){return t.stakedSuiIds.forEach(e=>{if(!e||!jr(Rt(e)))throw new Error(`Invalid Sui Stake id ${e}`)}),await this.client.requestWithType("suix_getStakesByIds",[t.stakedSuiIds],(0,Mt.array)(Kn))}async getLatestSuiSystemState(){return await this.client.requestWithType("suix_getLatestSuiSystemState",[],mi)}async queryEvents(t){return await this.client.requestWithType("suix_queryEvents",[t.query,t.cursor,t.limit,(t.order||"descending")==="descending"],oi)}async subscribeEvent(t){return this.wsClient.request({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[t.filter],onMessage:t.onMessage})}async subscribeTransaction(t){return this.wsClient.request({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[t.filter],onMessage:t.onMessage})}async devInspectTransactionBlock(t){let e;if(hs(t.transactionBlock))t.transactionBlock.setSenderIfNotSet(t.sender),e=bt(await t.transactionBlock.build({provider:this,onlyTransactionKind:!0}));else if(typeof t.transactionBlock=="string")e=t.transactionBlock;else if(t.transactionBlock instanceof Uint8Array)e=bt(t.transactionBlock);else throw new Error("Unknown transaction block format.");return await this.client.requestWithType("sui_devInspectTransactionBlock",[t.sender,e,t.gasPrice,t.epoch],si)}async dryRunTransactionBlock(t){return await this.client.requestWithType("sui_dryRunTransactionBlock",[typeof t.transactionBlock=="string"?t.transactionBlock:bt(t.transactionBlock)],fi)}async getDynamicFields(t){if(!t.parentId||!jr(Rt(t.parentId)))throw new Error("Invalid Sui Object id");return await this.client.requestWithType("suix_getDynamicFields",[t.parentId,t.cursor,t.limit],xi)}async getDynamicFieldObject(t){return await this.client.requestWithType("suix_getDynamicFieldObject",[t.parentId,t.name],Ur)}async getLatestCheckpointSequenceNumber(){let t=await this.client.requestWithType("sui_getLatestCheckpointSequenceNumber",[],(0,Mt.string)());return String(t)}async getCheckpoint(t){return await this.client.requestWithType("sui_getCheckpoint",[t.id],zn)}async getCheckpoints(t){return await this.client.requestWithType("sui_getCheckpoints",[t.cursor,t==null?void 0:t.limit,t.descendingOrder],Si)}async getCommitteeInfo(t){return await this.client.requestWithType("suix_getCommitteeInfo",[t==null?void 0:t.epoch],gi)}async getNetworkMetrics(){return await this.client.requestWithType("suix_getNetworkMetrics",[],vi)}async getAddressMetrics(){return await this.client.requestWithType("suix_getLatestAddressMetrics",[],Fn)}async getAllEpochAddressMetrics(t){return await this.client.requestWithType("suix_getAllEpochAddressMetrics",[t==null?void 0:t.descendingOrder],Ti)}async getEpochs(t){return await this.client.requestWithType("suix_getEpochs",[t==null?void 0:t.cursor,t==null?void 0:t.limit,t==null?void 0:t.descendingOrder],yi)}async getMoveCallMetrics(){return await this.client.requestWithType("suix_getMoveCallMetrics",[],di)}async getCurrentEpoch(){return await this.client.requestWithType("suix_getCurrentEpoch",[],Wn)}async getValidatorsApy(){return await this.client.requestWithType("suix_getValidatorsApy",[],pi)}async getChainIdentifier(){let t=await this.getCheckpoint({id:"0"}),e=Nr(t.digest);return Pr(e.slice(0,4))}async resolveNameServiceAddress(t){return await this.client.requestWithType("suix_resolveNameServiceAddress",[t.name],(0,Mt.nullable)((0,Mt.string)()))}async resolveNameServiceNames(t){return await this.client.requestWithType("suix_resolveNameServiceNames",[t.address],wi)}async getProtocolConfig(t){return await this.client.requestWithType("sui_getProtocolConfig",[t==null?void 0:t.version],Jo)}async waitForTransactionBlock({signal:t,timeout:e=60*1e3,pollInterval:n=2*1e3,...o}){let i=AbortSignal.timeout(e),s=new Promise((c,u)=>{i.addEventListener("abort",()=>u(i.reason))});for(s.catch(()=>{});!i.aborted;){t==null||t.throwIfAborted();try{return await this.getTransactionBlock(o)}catch{await Promise.race([new Promise(u=>setTimeout(u,n)),s])}}throw i.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}};p();g();p();g();p();g();p();g();p();g();p();g();var kg=Rt("0x5");export{bt as a,Bn as b,Zc as c,Ta as d};
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-T4PHD5ZN.js.map
