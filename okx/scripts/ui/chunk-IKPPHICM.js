import{f as k}from"./chunk-WIOZQWEG.js";import{a as M,c as j}from"./chunk-VNHZZRMI.js";import{G as _}from"./chunk-HE77KLJ4.js";import{a as K}from"./chunk-X2HBIQ56.js";import{c as H}from"./chunk-E2KMZQ6K.js";import{b as y}from"./chunk-AXKCDQTS.js";import{a as V}from"./chunk-EXUJ54CX.js";import{i as D}from"./chunk-MTMZQEHP.js";import{b as T}from"./chunk-VPBQLZCI.js";import{b as v}from"./chunk-YMZEQGAL.js";import{m as O}from"./chunk-UXFKODVN.js";import{D as W,F as w,Pa as q,ic as R,jb as C,nc as B,rb as z}from"./chunk-CVJKAN5R.js";import{f as U,m as F,o as E}from"./chunk-6V2G2Z5W.js";F();E();var J=U(W());q();F();E();z();B();var n=t=>V(t)?t:R(v(t)),X=({value:t,toAddr:e,contractAddress:m})=>!m||!_(e)?"":K(e,t),Z="0x0",S=({data:t,value:e,nonce:m,walletId:r,gasPrice:o,gasLimit:a,localType:s,to:u,maxFeePerGas:G,from:L,supportEip1559:A,maxPriorityFeePerGas:c,chainId:h,contractAddress:i})=>{var b;let l=y(L,s),x=y(u,s),N=h||((b=C(s))==null?void 0:b.realChainIdHex),p=t||X({value:e,toAddr:x,contractAddress:i}),d={from:l,walletId:r,data:p,nonce:n(m),chainId:n(N),gasLimit:n(a)};return A?Object.assign(d,{type:O.FEE_MARKET,maxFeePerGas:n(G),maxPriorityFeePerGas:n(c)}):Object.assign(d,{type:O.LEGACY,gasPrice:n(o)}),i?Object.assign(d,{data:p,value:Z,to:y(i,s)}):Object.assign(d,{to:x,value:n(e)}),d};var $=["low","medium","high"],Y=(t={})=>$.map(e=>e==="low"?{level:e,gasPrice:t==null?void 0:t.min,maxFeePerGas:t==null?void 0:t.min,baseFeePerGas:t==null?void 0:t.baseFee,maxPriorityFeePerGas:t==null?void 0:t.safePriorityFee}:e==="medium"?{level:e,gasPrice:t==null?void 0:t.normal,maxFeePerGas:t==null?void 0:t.normal,baseFeePerGas:t==null?void 0:t.baseFee,maxPriorityFeePerGas:t==null?void 0:t.proposePriorityFee}:{level:e,gasPrice:t==null?void 0:t.max,maxFeePerGas:t==null?void 0:t.max,baseFeePerGas:t==null?void 0:t.baseFee,maxPriorityFeePerGas:t==null?void 0:t.fastPriorityFee});var At=()=>{let t=M();return T(async({coinId:e,address:m})=>{let r=await t({coinId:e,address:m}),{nonce:o,gasPrice:a,needExtFee:s}=r||{},{supportEip1559:u}=a||{};return{nonce:o,needExtFee:s,supportEip1559:u,networkFeeLevels:Y(a)}})},ct=()=>T(async t=>{let{coinId:e}=t,m=S(t),o=k((0,J.pick)(m,["to","data","from","value","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas"]));return await D({coinId:e},{inputData:o})}),ht=({coinId:t,fromAddr:e,walletId:m})=>{let r=H(t),o=r==null?void 0:r.localType,a=j({fromAddr:e,walletId:m,localType:w});return T(async({data:s,from:u,to:G,value:L,gasPrice:A,maxFeePerGas:c,maxPriorityFeePerGas:h,needCapture:i,systemToken:l,...x})=>{let N=S({to:G,data:s,from:u,value:L,gasPrice:A,coinId:t,walletId:m,localType:o,systemToken:l,maxFeePerGas:c,maxPriorityFeePerGas:h,contractAddress:r==null?void 0:r.address,...x}),p=await a({needCapture:i,params:N});return p.rawTxResult||p})};export{S as a,At as b,ct as c,ht as d};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-IKPPHICM.js.map
