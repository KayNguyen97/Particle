import{a as Q}from"./chunk-P4XRBDXP.js";import{b as P}from"./chunk-PX7HII6H.js";import{b as tt}from"./chunk-6ZPGW3YM.js";import{a as G}from"./chunk-RMQJRDTF.js";import{c as Z}from"./chunk-2YLR7R2N.js";import{Ra as W,Ta as R,rb as Y}from"./chunk-CVJKAN5R.js";import{c as K}from"./chunk-C2H3SRET.js";import{a as J}from"./chunk-V4YVDLI4.js";import{c as F,f as k,m as S,o as M}from"./chunk-6V2G2Z5W.js";var X=F((D,U)=>{S();M();(function(x,u){typeof D=="object"&&typeof U=="object"?U.exports=u():typeof define=="function"&&define.amd?define([],u):typeof D=="object"?D["ethereum-blockies-base64"]=u():x["ethereum-blockies-base64"]=u()})(D,function(){return function(p){var x={};function u(l){if(x[l])return x[l].exports;var i=x[l]={exports:{},id:l,loaded:!1};return p[l].call(i.exports,i,i.exports,u),i.loaded=!0,i.exports}return u.m=p,u.c=x,u.p="",u(0)}([function(p,x,u){let l=u(1),i=u(2),t=new Array(4);function h(f){for(let e=0;e<t.length;e++)t[e]=0;for(let e=0;e<f.length;e++)t[e%4]=(t[e%4]<<5)-t[e%4]+f.charCodeAt(e)}function c(){let f=t[0]^t[0]<<11;return t[0]=t[1],t[1]=t[2],t[2]=t[3],t[3]=t[3]^t[3]>>19^f^f>>8,(t[3]>>>0)/(1<<31>>>0)}function g(){let f=Math.floor(c()*360),e=c()*60+40,_=(c()+c()+c()+c())*25;return[f/360,e/100,_/100]}function z(f){let e=f,_=f,r=Math.ceil(e/2),n=e-r,s=[];for(let a=0;a<_;a++){let d=[];for(let m=0;m<r;m++)d[m]=Math.floor(c()*2.3);let v=d.slice(0,n).reverse();d=d.concat(v);for(let m=0;m<d.length;m++)s.push(d[m])}return s}function o(f,e,_,r,n,s){for(let a=0;a<r;a++)for(let d=0;d<n;d++)f.buffer[f.index(e+a,_+d)]=s}function b(f){if(!f.seed)throw new Error("No seed provided");return h(f.seed),Object.assign({size:8,scale:16,color:g(),bgcolor:g(),spotcolor:g()},f)}function A(f){let e=b({seed:f.toLowerCase()}),_=z(e.size),r=Math.sqrt(_.length),n=new l(e.size*e.scale,e.size*e.scale,3),s=n.color(...i(...e.bgcolor)),a=n.color(...i(...e.color)),d=n.color(...i(...e.spotcolor));for(let v=0;v<_.length;v++){let m=Math.floor(v/r),C=v%r;if(_[v]){let E=_[v]==1?a:d;o(n,C*e.scale,m*e.scale,e.scale,e.scale,E)}}return`data:image/png;base64,${n.getBase64()}`}p.exports=A},function(p,x){p.exports=function(u,l,i){function t(r,n){for(var s=2;s<arguments.length;s++)for(var a=0;a<arguments[s].length;a++)r[n++]=arguments[s].charAt(a)}function h(r){return String.fromCharCode(r>>8&255,r&255)}function c(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function g(r){return String.fromCharCode(r&255,r>>8&255)}this.width=u,this.height=l,this.depth=i,this.pix_size=l*(u+1),this.data_size=2+this.pix_size+5*Math.floor((65534+this.pix_size)/65535)+4,this.ihdr_offs=0,this.ihdr_size=4+4+13+4,this.plte_offs=this.ihdr_offs+this.ihdr_size,this.plte_size=4+4+3*i+4,this.trns_offs=this.plte_offs+this.plte_size,this.trns_size=4+4+i+4,this.idat_offs=this.trns_offs+this.trns_size,this.idat_size=4+4+this.data_size+4,this.iend_offs=this.idat_offs+this.idat_size,this.iend_size=4+4+4,this.buffer_size=this.iend_offs+this.iend_size,this.buffer=new Array,this.palette=new Object,this.pindex=0;for(var z=new Array,o=0;o<this.buffer_size;o++)this.buffer[o]="\0";t(this.buffer,this.ihdr_offs,c(this.ihdr_size-12),"IHDR",c(u),c(l),"\b"),t(this.buffer,this.plte_offs,c(this.plte_size-12),"PLTE"),t(this.buffer,this.trns_offs,c(this.trns_size-12),"tRNS"),t(this.buffer,this.idat_offs,c(this.idat_size-12),"IDAT"),t(this.buffer,this.iend_offs,c(this.iend_size-12),"IEND");var b=8+(7<<4)<<8|3<<6;b+=31-b%31,t(this.buffer,this.idat_offs+8,h(b));for(var o=0;(o<<16)-1<this.pix_size;o++){var A,f;o+65535<this.pix_size?(A=65535,f="\0"):(A=this.pix_size-(o<<16)-o,f=""),t(this.buffer,this.idat_offs+8+2+(o<<16)+(o<<2),f,g(A),g(~A))}for(var o=0;o<256;o++){for(var e=o,_=0;_<8;_++)e&1?e=-306674912^e>>1&2147483647:e=e>>1&2147483647;z[o]=e}this.index=function(r,n){var s=n*(this.width+1)+r+1,a=this.idat_offs+8+2+5*Math.floor(s/65535+1)+s;return a},this.color=function(r,n,s,a){a=a>=0?a:255;var d=((a<<8|r)<<8|n)<<8|s;if(typeof this.palette[d]>"u"){if(this.pindex==this.depth)return"\0";var v=this.plte_offs+8+3*this.pindex;this.buffer[v+0]=String.fromCharCode(r),this.buffer[v+1]=String.fromCharCode(n),this.buffer[v+2]=String.fromCharCode(s),this.buffer[this.trns_offs+8+this.pindex]=String.fromCharCode(a),this.palette[d]=String.fromCharCode(this.pindex++)}return this.palette[d]},this.getBase64=function(){var r=this.getDump(),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s,a,d,v,m,C,E,N=r.length,y=0,I="";do s=r.charCodeAt(y),v=s>>2,a=r.charCodeAt(y+1),m=(s&3)<<4|a>>4,d=r.charCodeAt(y+2),N<y+2?C=64:C=(a&15)<<2|d>>6,N<y+3?E=64:E=d&63,I+=n.charAt(v)+n.charAt(m)+n.charAt(C)+n.charAt(E);while((y+=3)<N);return I},this.getDump=function(){for(var r=65521,n=5552,s=1,a=0,d=n,v=0;v<this.height;v++)for(var m=-1;m<this.width;m++)s+=this.buffer[this.index(m,v)].charCodeAt(0),a+=s,(d-=1)==0&&(s%=r,a%=r,d=n);s%=r,a%=r,t(this.buffer,this.idat_offs+this.idat_size-8,c(a<<16|s));function C(E,N,y){for(var I=-1,T=4;T<y-4;T+=1)I=z[(I^E[N+T].charCodeAt(0))&255]^I>>8&16777215;t(E,N+y-4,c(I^-1))}return C(this.buffer,this.ihdr_offs,this.ihdr_size),C(this.buffer,this.plte_offs,this.plte_size),C(this.buffer,this.trns_offs,this.trns_size),C(this.buffer,this.idat_offs,this.idat_size),C(this.buffer,this.iend_offs,this.iend_size),`\x89PNG\r

`+this.buffer.join("")}}},function(p,x){function u(i,t,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?i+(t-i)*6*h:h<1/2?t:h<2/3?i+(t-i)*(2/3-h)*6:i}function l(i,t,h){let c,g,z;if(t==0)c=g=z=h;else{let o=h<.5?h*(1+t):h+t-h*t,b=2*h-o;c=u(b,o,i+1/3),g=u(b,o,i),z=u(b,o,i-1/3)}return[Math.round(c*255),Math.round(g*255),Math.round(z*255),255]}p.exports=l}])})});S();M();var w=k(J()),H=k(tt()),O=k(K()),V=k(X());Y();S();M();async function q(p){try{await P.wallet_avatar.set(p)}catch{console.log("set data failed")}}S();M();var j={xl:"xl",lg:"lg",md:"md",sm:"sm"};S();M();var L={"wallet-avatar":"_wallet-avatar_1g29v_1",walletAvatar:"_wallet-avatar_1g29v_1","wallet-avatar-core":"_wallet-avatar-core_1g29v_4",walletAvatarCore:"_wallet-avatar-core_1g29v_4","wallet-avatar-xl":"_wallet-avatar-xl_1g29v_11",walletAvatarXl:"_wallet-avatar-xl_1g29v_11","wallet-avatar-lg":"_wallet-avatar-lg_1g29v_15",walletAvatarLg:"_wallet-avatar-lg_1g29v_15","wallet-avatar-md":"_wallet-avatar-md_1g29v_19",walletAvatarMd:"_wallet-avatar-md_1g29v_19","wallet-avatar-sm":"_wallet-avatar-sm_1g29v_23",walletAvatarSm:"_wallet-avatar-sm_1g29v_23"};var $=w.default.memo(({size:p=j.md,className:x,walletIdentity:u={}})=>{let{account:l,addressType:i,walletId:t,accountsMap:h}=u,c=(0,H.useSelector)(Q),[g,z]=(0,w.useState)(null),o=(0,w.useRef)(null),b=(0,w.useMemo)(()=>{var A,f,e;if(!l)return t||"0x";if(l!=null&&l[W])return l==null?void 0:l[W];try{let _=Object.values(l);if(_.length===1&&l!=null&&l[R]){let r=(f=(A=h==null?void 0:h.bitcoin)==null?void 0:A.segwit_native)==null?void 0:f.address;if(r)return r;if(i&&Object.values(i).length>=1){let{address:n}=((e=i==null?void 0:i[R])==null?void 0:e.find(s=>(s==null?void 0:s.addressType)===G.SEGWIT_NATIVE))||{};return n||t}}return _[0]||t}catch{return t}},[l,t,i,h]);return(0,w.useEffect)(()=>{let A={root:null,rootMargin:"0px",threshold:0},f=r=>{r.forEach(n=>{if(n.isIntersecting){let s=(0,V.default)(b.toLowerCase());q([{walletId:t,walletAvatar:s}]),s&&z(s)}})},e=new IntersectionObserver(f,A);o.current&&!c[t]&&e.observe(o.current);let _=o.current;return()=>{_&&e.unobserve(_)}},[g,b,t,c]),w.default.createElement(Z.Box,{ref:o,className:(0,O.default)(L["wallet-avatar"],{[L[`wallet-avatar-${p}`]]:!!p},x)},w.default.createElement("img",{src:c[t]||g,className:(0,O.default)(L["wallet-avatar-core"]),alt:"wallet-avatar"}))});$.SIZE=j;var Ct=$;export{Ct as a};
/**
 * A handy class to calculate color values.
 *
 * @version 1.0
 * @author Robert Eisele <robert@xarg.org>
 * @copyright Copyright (c) 2010, Robert Eisele
 * @link http://www.xarg.org/2010/03/generate-client-side-png-files-using-javascript/
 * @license http://www.opensource.org/licenses/bsd-license.php BSD License
 *
 */

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-WIYPU26K.js.map
