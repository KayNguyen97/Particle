import{a as S}from"./chunk-3QK7FEQ5.js";import{a as H}from"./chunk-AX4SXHC6.js";import{d as N,h as F}from"./chunk-ZEAKIEIQ.js";import{C as G,d as C,e as B,i as A,j as E,y as n}from"./chunk-CVJKAN5R.js";import{Q as P,R as T,o as u,r as I}from"./chunk-GXQ645QR.js";import{a as b}from"./chunk-V4YVDLI4.js";import{a as v}from"./chunk-IYYFWVWL.js";import{f as k,m as l,o as c}from"./chunk-6V2G2Z5W.js";l();c();var o=k(b());G();l();c();var _=k(b());B();E();F();var h=new C,R=()=>{let t=H("apiDomain",{...S,location:window.location.href}),[e,r]=(0,_.useState)([]),[s,x]=(0,_.useState)([]);return(0,_.useEffect)(()=>{(async()=>{var p,g;if(t!=null&&t.data){await h.set({networkChangeAPIDomain:(p=t.data)==null?void 0:p.apiDomain}),r((g=t.data)==null?void 0:g.apiDomain);return}let{networkChangeAPIDomain:w=[]}=await h.get("networkChangeAPIDomain");r(w)})()},[t]),(0,_.useEffect)(()=>{(async()=>{let w=[],p=[],{apiDomain:g}=await h.get("apiDomain");for(let i=0,f=e.length;i<f;i++)p.push({url:e[i],status:0}),w.push((a=>new Promise(D=>{let y={url:a,checked:g===a};N(`${a}${A.app.tryPaths.apiDomain.url}`,{},{timeout:2e3}).then(()=>{D({...y,status:1})}).catch(()=>{D({...y,status:0})})}))(e[i]));x(p),Promise.allSettled(w).then(i=>{let f=[];i.forEach(a=>{f.push(a==null?void 0:a.value)}),x(f)}).catch(()=>{})})()},[e[0]]),s};var d=k(v());l();c();var m={networkHeight:"_networkHeight_1c1nu_1",networkName:"_networkName_1c1nu_9",networkIcon:"_networkIcon_1c1nu_14",networkDisable:"_networkDisable_1c1nu_17",networkPadding:"_networkPadding_1c1nu_21"};var $=({networkDomain:t})=>o.default.createElement("div",{className:m.networkPadding},t.map((e,r)=>{let s=e.status===1;return o.default.createElement("div",{onClick:()=>{s&&u.warn({alignBottom:!1,title:n("wallet_extension_settings_popup_title_restart_extension"),text:n("wallet_extension_settings_popup_text_restart_extension"),cancelText:n("wallet_extension_settings_popup_btn_not_now"),confirmText:n("wallet_extension_settings_popup_btn_restart"),onConfirm:async()=>{await d.default.storage.local.set({userChooseNetwork:1}),await d.default.storage.local.set({apiDomain:e.url}),d.default.runtime.reload()}})},className:`${m.networkHeight} ${s?"":m.networkDisable}`},o.default.createElement("span",{className:m.networkName},n("wallet_extension_settings_text_server1",{num:r+1})),s?o.default.createElement(P,null,n("wallet_extension_settings_tag_available")):o.default.createElement(T,null,n("wallet_extension_settings_tag_failed")),s&&e.checked&&o.default.createElement(I.Circle,{checked:!0,className:m.networkIcon}))})),rt=t=>{u.action({noTopRadius:!1,title:n("wallet_extension_settings_select_text_switch_servers"),children:o.default.createElement($,{networkDomain:t})})},st=({visible:t=!1,onClose:e=()=>{}})=>{let r=R();return o.default.createElement(u.Action,{noTopRadius:!1,visible:t,onClose:e,title:n("wallet_extension_settings_select_text_switch_servers")},o.default.createElement($,{networkDomain:r}))};export{R as a,rt as b,st as c};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-2LZ7PSBI.js.map
