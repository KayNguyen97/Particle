import{b as pe,d as de,f as fe,g as _e,h as he}from"./chunk-GGN7HDGK.js";import{c as ue}from"./chunk-LEU7ZZNB.js";import"./chunk-WIYPU26K.js";import"./chunk-2N2ADYFP.js";import{c as y,d as w}from"./chunk-VCWU5FEX.js";import{p as ae,r as ce}from"./chunk-FEET7RP6.js";import"./chunk-MBJ4MFYL.js";import"./chunk-PCY622ND.js";import"./chunk-NS35PZCP.js";import"./chunk-XOD56IFT.js";import{d as ie}from"./chunk-BBN3UGKM.js";import"./chunk-5DEIKYJL.js";import"./chunk-QMNAWRVI.js";import"./chunk-D6ZXZUY6.js";import"./chunk-QMF5LKVF.js";import"./chunk-VMACN7YR.js";import"./chunk-P4XRBDXP.js";import"./chunk-APEQZGKB.js";import{m as ne,q as me}from"./chunk-GUWGENNL.js";import"./chunk-WYB2CUAN.js";import{b as R}from"./chunk-67YO4IPY.js";import"./chunk-DLUAVD7X.js";import"./chunk-WRWXCAEZ.js";import"./chunk-OZ6XSJY6.js";import"./chunk-DMJQUOJT.js";import"./chunk-62JDSRZZ.js";import"./chunk-FF7XOOGZ.js";import{d as oe}from"./chunk-4OTZHHYZ.js";import"./chunk-HQT4AKFZ.js";import"./chunk-JUIB44FD.js";import"./chunk-R6GCLTW2.js";import"./chunk-4KY5XQ5E.js";import"./chunk-S3ECGMEP.js";import"./chunk-PX7HII6H.js";import"./chunk-UEO7AURD.js";import"./chunk-DXFO7P35.js";import{a as re}from"./chunk-TPEASXIF.js";import{a as le}from"./chunk-JSAFBAMQ.js";import"./chunk-A336VZZF.js";import"./chunk-XEOGXIVD.js";import{a as se}from"./chunk-PCGRDRHF.js";import{l as $}from"./chunk-IU3TYIWS.js";import"./chunk-VPBQLZCI.js";import"./chunk-ERLETJMZ.js";import"./chunk-FRDOFRM7.js";import"./chunk-X2LENRE7.js";import"./chunk-O4EDZSHP.js";import"./chunk-HU3KBV5G.js";import{b as Oe}from"./chunk-6ZPGW3YM.js";import"./chunk-ZKDHZDUE.js";import"./chunk-4UESFVD2.js";import"./chunk-D7KW4FFX.js";import"./chunk-RAXGEVRQ.js";import"./chunk-S4N75E3H.js";import"./chunk-7MX3OHNE.js";import"./chunk-2BSLA752.js";import"./chunk-FLCN6MAI.js";import"./chunk-YMZEQGAL.js";import"./chunk-7E3KY4EN.js";import"./chunk-JIRWXBHS.js";import"./chunk-3TVEFIPW.js";import"./chunk-UXFKODVN.js";import"./chunk-IMRS4RGO.js";import"./chunk-52GWQSZH.js";import{a as ke}from"./chunk-TPSXCUGD.js";import"./chunk-XKG5DY6K.js";import"./chunk-6PGLMYAE.js";import{g as te,h as j}from"./chunk-RMQJRDTF.js";import{c as i}from"./chunk-2YLR7R2N.js";import"./chunk-MVLY6WUP.js";import"./chunk-ZEAKIEIQ.js";import"./chunk-5KSDRGLW.js";import"./chunk-DQTCC3FF.js";import"./chunk-O5LVHMPV.js";import{C as Ve,D as Ge,v as g}from"./chunk-CVJKAN5R.js";import"./chunk-A5Y2KVNP.js";import{a as X,b as Y,r as ee}from"./chunk-GXQ645QR.js";import"./chunk-DQ2NYVYI.js";import{V as B,c as U}from"./chunk-C2H3SRET.js";import{a as N,f as Q}from"./chunk-V4YVDLI4.js";import"./chunk-TW6D7CWA.js";import"./chunk-3T5D6KAV.js";import"./chunk-MAWXDEJZ.js";import"./chunk-Z37GURZ6.js";import"./chunk-IYYFWVWL.js";import"./chunk-CLSYGH6A.js";import"./chunk-DHRSDA7N.js";import"./chunk-RYNAOZ73.js";import"./chunk-Q34CQJXG.js";import"./chunk-GKHVFCKF.js";import{f as m,m as o,o as r}from"./chunk-6V2G2Z5W.js";o();r();Ve();var Ne=m(ke());var I=m(Oe());var t=m(N());o();r();var Ce=m(N());var Ae=(f={})=>{let a=ae(f);return(0,Ce.useMemo)(()=>a.map(d=>{let{walletIdentities:e,marketValueSymbol:n,marketValue:_}=d;return{...d,walletAsset:`${$(_)} ${n||""}`,walletIdentities:e.map(p=>{let{balance:s="--",symbol:l}=p;return{...p,walletAsset:`${$(s)} ${l||""}`}})}}),[a])};o();r();var Ee=m(U()),W=m(Q());var u=m(N());o();r();var Te=m(U()),M=m(Q());var C=m(N());o();r();var F=m(N());var xe=m(U()),be=m(Ge());o();r();var P={root:"_root_sdu5p_1",disabled:"_disabled_sdu5p_8",disabledIcon:"_disabledIcon_sdu5p_11",icon:"_icon_sdu5p_18"};var Se=({selected:f,disabled:a,onClick:d})=>F.default.createElement(i.FlexBox,{onClick:d,className:(0,xe.default)(P.root,{[P.disabled]:a}),align:i.ALIGN.center,justify:i.ALIGN.center},a?F.default.createElement(i.Box,{className:P.disabledIcon}):F.default.createElement(ee,{checked:f,className:P.icon,circle:!0}));Se.defaultProps={onClick:be.noop,selected:!1,disabled:!1};var V=Se;o();r();var G={root:"_root_1aq24_1",disabled:"_disabled_1aq24_5",highlight:"_highlight_1aq24_11"};var Me=({selected:f,createdId:a,isRpcMode:d,hiddenAssets:e,walletIdentity:n,handleClickWallet:_,requestChain:p,disabled:s=!1})=>{let{walletId:l=""}=n,L=(0,C.useMemo)(()=>f.includes(l),[f,l]),A=(0,C.useMemo)(()=>{var h;return!!(!p||(h=n==null?void 0:n.account)!=null&&h[p])},[p,n]);s=s||!A;let c=(0,C.useCallback)(()=>{s||_(l)},[_,l,s]);return C.default.createElement(i.FlexBox,{className:(0,Te.default)(G.root,{[G.highlight]:l===a,[G.disabled]:s}),align:i.ALIGN.center,onClick:c},C.default.createElement(de,{disabled:s,isRpcMode:d,hiddenAssets:e,walletIdentity:n}),C.default.createElement(V,{selected:L,disabled:s}))};Me.propTypes={selected:M.default.array.isRequired,createdId:M.default.string.isRequired,isRpcMode:M.default.bool.isRequired,walletIdentity:M.default.object.isRequired,hiddenAssets:M.default.bool.isRequired,handleClickWallet:M.default.func.isRequired};var qe=Me;o();r();var T={root:"_root_7lquh_1",keyring:"_keyring_7lquh_15",header:"_header_7lquh_18",title:"_title_7lquh_21",content:"_content_7lquh_25",icon:"_icon_7lquh_28",mpcStatusAlertWrapper:"_mpcStatusAlertWrapper_7lquh_31"};var We=({selected:f,isRpcMode:a,hiddenAssets:d,keyringIdentity:e,handleClickWallet:n,requestChain:_})=>{let[p,s]=_e(),[l,L]=(0,u.useState)(!0),A=()=>{L(x=>!x)},c=(0,u.useMemo)(()=>(e==null?void 0:e.keyringIdentityType)===j.MPC,[e]),h=(0,u.useMemo)(()=>{let{mpcStatus:x,accountStatus:q}=(e==null?void 0:e.status)||{};return c&&(x===w.ESCAPE||x===w.RECOVER||q===y.DELETE||q===y.FROZEN)},[c,e==null?void 0:e.status]);return u.default.createElement(i.Box,{className:T.root},u.default.createElement(X,{onToggle:A,expanded:l,titleClass:T.title,className:T.keyring,headerClassName:T.header,contentClassName:T.content,iconClassName:(0,Ee.default)(T.icon),title:u.default.createElement(pe,{isRpcMode:a,hiddenAssets:d,keyringIdentity:e})},c&&u.default.createElement(he,{keyringIdentity:e,className:T.mpcStatusAlertWrapper}),u.default.createElement(R,{dataSource:(e==null?void 0:e.walletIdentities)||[],renderItem:x=>u.default.createElement(qe,{selected:f,isRpcMode:a,createdId:p,hiddenAssets:d,walletIdentity:x,handleClickWallet:n,requestChain:_,disabled:h})}),e.keyringIdentityType===j.MNEMONIC?u.default.createElement(fe,{createdCb:s,keyringIdentity:e}):null))};We.propTypes={selected:W.default.array.isRequired,isRpcMode:W.default.bool.isRequired,hiddenAssets:W.default.bool.isRequired,keyringIdentity:W.default.object.isRequired,handleClickWallet:W.default.func.isRequired};var Le=We;o();r();var O={root:"_root_qo7v8_1",selectAll:"_selectAll_qo7v8_1",text:"_text_qo7v8_15"};var ve=({request:f})=>{let{baseChain:a,chainName:d,allChain:e}=ue(f);(0,t.useEffect)(()=>{re()},[]);let[,n]=ce({hasBackup:!0}),_=Ae({hasBackup:!0}),{isRpcMode:p}=(0,I.useSelector)(oe),s=(0,t.useMemo)(()=>p?_:n,[p,n,_]),{backupedWallets:l,showTip:L}=(0,t.useMemo)(()=>{let b=!1;return{backupedWallets:s.reduce((k,E)=>{var Z,z;let Ie=(z=(Z=E==null?void 0:E.walletIdentities)==null?void 0:Z.map(Ke=>{var J;let{initialType:Re,walletId:Fe,account:v}=Ke;return Re===te.MPC_KEYRING&&((J=E==null?void 0:E.status)==null?void 0:J.mpcStatus)===w.ESCAPE?"":!e&&!(v!=null&&v[a])?(b=!0,""):Fe}))==null?void 0:z.filter(Boolean);return k.concat(Ie)},[]),showTip:b}},[s,e,a]),A=(0,I.useSelector)(ne),[c,h]=(0,t.useState)((A==null?void 0:A.length)>0?A:[]),x=l.length>1,q=(0,t.useMemo)(()=>l.length===c.length,[l,c]),ge=(0,t.useCallback)(()=>{h(q?[]:l)},[q,l]),Be=(0,t.useCallback)(b=>{c.includes(b)?h(K=>K.filter(k=>k!==b)):h(K=>[...K,b])},[c]),H=(0,I.useDispatch)(),D=(0,Ne.useHistory)(),we=(0,t.useCallback)(()=>{H(me.setSelectAccounts(c)),D.goBack()},[c,D,H]),[Pe]=ie();return t.default.createElement(i.Container,{className:O.root},t.default.createElement(le,{closeable:!1,bordered:!1,title:g("wallet_dapp_conncetion_subtitle_select_accounts")}),L&&t.default.createElement(Y,{desc:g("wallet_extension_connect_notification_text_dont_select_wallets",{network:d}),type:Y.TYPE.warn,closable:!1}),x?t.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:O.selectAll},t.default.createElement(i.Box,{className:O.text},g("wallet_dapp_conncetion_subtitle_select_all")),t.default.createElement(V,{selected:q,onClick:ge})):null,t.default.createElement(R,{dataSource:s,renderItem:b=>t.default.createElement(Le,{selected:c,isRpcMode:p,hiddenAssets:Pe,keyringIdentity:b,handleClickWallet:Be,requestChain:e?"":a})}),t.default.createElement(se.FooterActions,null,t.default.createElement(B,{block:!0,disabled:!c.length,category:B.CATEGORY.fill,type:B.TYPE.highlight,size:B.SIZE.lg,onClick:we},g("wallet_set_password_btn_confirm"))))},co=ve;export{co as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Comp-MPYCZUJC.js.map
