import{c as I}from"./chunk-C2H3SRET.js";import{a as k,f as h}from"./chunk-V4YVDLI4.js";import{f as d,m as t,o as n}from"./chunk-6V2G2Z5W.js";t();n();var e=d(k()),s=d(h()),r=d(I());t();n();var f=({src:a,classnames:v,backupImage:o,startStatus:i,style:N})=>{let g=(0,e.useRef)(),m=(0,e.useRef)(),[b,p]=(0,e.useState)(!0),c=new IntersectionObserver(y=>{y.forEach(l=>{if(l.isIntersecting){let u=new Image;u.src=a||o,u.onload=()=>{l.target.src=a||o,p(!1)},u.onerror=()=>{l.target.src=o,p(!1)},c.unobserve(l.target)}})});return(0,e.useEffect)(()=>{},[b]),(0,e.useEffect)(()=>{i===null&&(g.current.src=a||o,m.current.src=a||o),i&&(c.observe(g.current),c.observe(m.current))},[i]),e.default.createElement("div",{className:(0,r.default)("ok-global--image-module",v),style:N},b&&e.default.createElement("div",{className:(0,r.default)("ok-global--image-loading")},e.default.createElement("div",{className:(0,r.default)("ok-global--image-loading-children")})),e.default.createElement("img",{className:(0,r.default)("ok-global--image-bg"),ref:m}),e.default.createElement("img",{className:(0,r.default)("ok-global--image"),ref:g}))};f.defaultProps={startStatus:null,classnames:"",backupImage:"",style:{}};f.propTypes={src:s.default.string.isRequired,classnames:s.default.string,backupImage:s.default.string,startStatus:s.default.bool,style:s.default.object};var q=f;export{q as a};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-AJZPYKQF.js.map
