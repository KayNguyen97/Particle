import{a as Kt}from"./chunk-MAWXDEJZ.js";import{d as zr}from"./chunk-GKHVFCKF.js";import{c as R,l as process,m as E,n as q,o as z}from"./chunk-6V2G2Z5W.js";var zt=R(Et=>{"use strict";E();z();Object.defineProperty(Et,"__esModule",{value:!0});Et.isElementCollectionFixedSizeBeet=Et.isFixableBeet=Et.assertFixedSizeBeet=Et.isFixedSizeBeet=Et.BEET_TYPE_ARG_INNER=Et.BEET_TYPE_ARG_LEN=Et.BEET_PACKAGE=void 0;var Ar=Kt();Et.BEET_PACKAGE="@metaplex-foundation/beet";Et.BEET_TYPE_ARG_LEN="len";Et.BEET_TYPE_ARG_INNER="Beet<{innner}>";function Hi(s){return Object.keys(s).includes("byteSize")}Et.isFixedSizeBeet=Hi;function Cr(s,u=`${s} should have been a fixed beet`){(0,Ar.strict)(Hi(s),u)}Et.assertFixedSizeBeet=Cr;function Tr(s){return typeof s.toFixedFromData=="function"&&typeof s.toFixedFromValue=="function"}Et.isFixableBeet=Tr;function qr(s){let u=Object.keys(s);return u.includes("length")&&u.includes("elementByteSize")&&u.includes("lenPrefixByteSize")}Et.isElementCollectionFixedSizeBeet=qr});var Xi=R((Qi,ei)=>{E();z();(function(s,u){"use strict";function n(c,t){if(!c)throw new Error(t||"Assertion failed")}function m(c,t){c.super_=t;var i=function(){};i.prototype=t.prototype,c.prototype=new i,c.prototype.constructor=c}function o(c,t,i){if(o.isBN(c))return c;this.negative=0,this.words=null,this.length=0,this.red=null,c!==null&&((t==="le"||t==="be")&&(i=t,t=10),this._init(c||0,t||10,i||"be"))}typeof s=="object"?s.exports=o:u.BN=o,o.BN=o,o.wordSize=26;var v;try{typeof window<"u"&&typeof window.Buffer<"u"?v=window.Buffer:v=zr().Buffer}catch{}o.isBN=function(t){return t instanceof o?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,i){return t.cmp(i)>0?t:i},o.min=function(t,i){return t.cmp(i)<0?t:i},o.prototype._init=function(t,i,r){if(typeof t=="number")return this._initNumber(t,i,r);if(typeof t=="object")return this._initArray(t,i,r);i==="hex"&&(i=16),n(i===(i|0)&&i>=2&&i<=36),t=t.toString().replace(/\s+/g,"");var a=0;t[0]==="-"&&(a++,this.negative=1),a<t.length&&(i===16?this._parseHex(t,a,r):(this._parseBase(t,i,a),r==="le"&&this._initArray(this.toArray(),i,r)))},o.prototype._initNumber=function(t,i,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),r==="le"&&this._initArray(this.toArray(),i,r)},o.prototype._initArray=function(t,i,r){if(n(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var h,d,p=0;if(r==="be")for(a=t.length-1,h=0;a>=0;a-=3)d=t[a]|t[a-1]<<8|t[a-2]<<16,this.words[h]|=d<<p&67108863,this.words[h+1]=d>>>26-p&67108863,p+=24,p>=26&&(p-=26,h++);else if(r==="le")for(a=0,h=0;a<t.length;a+=3)d=t[a]|t[a+1]<<8|t[a+2]<<16,this.words[h]|=d<<p&67108863,this.words[h+1]=d>>>26-p&67108863,p+=24,p>=26&&(p-=26,h++);return this._strip()};function y(c,t){var i=c.charCodeAt(t);if(i>=48&&i<=57)return i-48;if(i>=65&&i<=70)return i-55;if(i>=97&&i<=102)return i-87;n(!1,"Invalid character in "+c)}function g(c,t,i){var r=y(c,i);return i-1>=t&&(r|=y(c,i-1)<<4),r}o.prototype._parseHex=function(t,i,r){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var h=0,d=0,p;if(r==="be")for(a=t.length-1;a>=i;a-=2)p=g(t,i,a)<<h,this.words[d]|=p&67108863,h>=18?(h-=18,d+=1,this.words[d]|=p>>>26):h+=8;else{var f=t.length-i;for(a=f%2===0?i+1:i;a<t.length;a+=2)p=g(t,i,a)<<h,this.words[d]|=p&67108863,h>=18?(h-=18,d+=1,this.words[d]|=p>>>26):h+=8}this._strip()};function w(c,t,i,r){for(var a=0,h=0,d=Math.min(c.length,i),p=t;p<d;p++){var f=c.charCodeAt(p)-48;a*=r,f>=49?h=f-49+10:f>=17?h=f-17+10:h=f,n(f>=0&&h<r,"Invalid character"),a+=h}return a}o.prototype._parseBase=function(t,i,r){this.words=[0],this.length=1;for(var a=0,h=1;h<=67108863;h*=i)a++;a--,h=h/i|0;for(var d=t.length-r,p=d%a,f=Math.min(d,d-p)+r,e=0,l=r;l<f;l+=a)e=w(t,l,l+a,i),this.imuln(h),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(p!==0){var x=1;for(e=w(t,l,t.length,i),l=0;l<p;l++)x*=i;this.imuln(x),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red};function b(c,t){c.words=t.words,c.length=t.length,c.negative=t.negative,c.red=t.red}if(o.prototype._move=function(t){b(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=M}catch{o.prototype.inspect=M}else o.prototype.inspect=M;function M(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],F=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],P=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,i){t=t||10,i=i|0||1;var r;if(t===16||t==="hex"){r="";for(var a=0,h=0,d=0;d<this.length;d++){var p=this.words[d],f=((p<<a|h)&16777215).toString(16);h=p>>>24-a&16777215,a+=2,a>=26&&(a-=26,d--),h!==0||d!==this.length-1?r=_[6-f.length]+f+r:r=f+r}for(h!==0&&(r=h.toString(16)+r);r.length%i!==0;)r="0"+r;return this.negative!==0&&(r="-"+r),r}if(t===(t|0)&&t>=2&&t<=36){var e=F[t],l=P[t];r="";var x=this.clone();for(x.negative=0;!x.isZero();){var S=x.modrn(l).toString(t);x=x.idivn(l),x.isZero()?r=S+r:r=_[e-S.length]+S+r}for(this.isZero()&&(r="0"+r);r.length%i!==0;)r="0"+r;return this.negative!==0&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},v&&(o.prototype.toBuffer=function(t,i){return this.toArrayLike(v,t,i)}),o.prototype.toArray=function(t,i){return this.toArrayLike(Array,t,i)};var Bt=function(t,i){return t.allocUnsafe?t.allocUnsafe(i):new t(i)};o.prototype.toArrayLike=function(t,i,r){this._strip();var a=this.byteLength(),h=r||Math.max(1,a);n(a<=h,"byte array longer than desired length"),n(h>0,"Requested array length <= 0");var d=Bt(t,h),p=i==="le"?"LE":"BE";return this["_toArrayLike"+p](d,a),d},o.prototype._toArrayLikeLE=function(t,i){for(var r=0,a=0,h=0,d=0;h<this.length;h++){var p=this.words[h]<<d|a;t[r++]=p&255,r<t.length&&(t[r++]=p>>8&255),r<t.length&&(t[r++]=p>>16&255),d===6?(r<t.length&&(t[r++]=p>>24&255),a=0,d=0):(a=p>>>24,d+=2)}if(r<t.length)for(t[r++]=a;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,i){for(var r=t.length-1,a=0,h=0,d=0;h<this.length;h++){var p=this.words[h]<<d|a;t[r--]=p&255,r>=0&&(t[r--]=p>>8&255),r>=0&&(t[r--]=p>>16&255),d===6?(r>=0&&(t[r--]=p>>24&255),a=0,d=0):(a=p>>>24,d+=2)}if(r>=0)for(t[r--]=a;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var i=t,r=0;return i>=4096&&(r+=13,i>>>=13),i>=64&&(r+=7,i>>>=7),i>=8&&(r+=4,i>>>=4),i>=2&&(r+=2,i>>>=2),r+i},o.prototype._zeroBits=function(t){if(t===0)return 26;var i=t,r=0;return(i&8191)===0&&(r+=13,i>>>=13),(i&127)===0&&(r+=7,i>>>=7),(i&15)===0&&(r+=4,i>>>=4),(i&3)===0&&(r+=2,i>>>=2),(i&1)===0&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],i=this._countBits(t);return(this.length-1)*26+i};function St(c){for(var t=new Array(c.bitLength()),i=0;i<t.length;i++){var r=i/26|0,a=i%26;t[i]=c.words[r]>>>a&1}return t}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var r=this._zeroBits(this.words[i]);if(t+=r,r!==26)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this._strip()},o.prototype.ior=function(t){return n((this.negative|t.negative)===0),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var i;this.length>t.length?i=t:i=this;for(var r=0;r<i.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=i.length,this._strip()},o.prototype.iand=function(t){return n((this.negative|t.negative)===0),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var i,r;this.length>t.length?(i=this,r=t):(i=t,r=this);for(var a=0;a<r.length;a++)this.words[a]=i.words[a]^r.words[a];if(this!==i)for(;a<i.length;a++)this.words[a]=i.words[a];return this.length=i.length,this._strip()},o.prototype.ixor=function(t){return n((this.negative|t.negative)===0),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n(typeof t=="number"&&t>=0);var i=Math.ceil(t/26)|0,r=t%26;this._expand(i),r>0&&i--;for(var a=0;a<i;a++)this.words[a]=~this.words[a]&67108863;return r>0&&(this.words[a]=~this.words[a]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,i){n(typeof t=="number"&&t>=0);var r=t/26|0,a=t%26;return this._expand(r+1),i?this.words[r]=this.words[r]|1<<a:this.words[r]=this.words[r]&~(1<<a),this._strip()},o.prototype.iadd=function(t){var i;if(this.negative!==0&&t.negative===0)return this.negative=0,i=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,i=this.isub(t),t.negative=1,i._normSign();var r,a;this.length>t.length?(r=this,a=t):(r=t,a=this);for(var h=0,d=0;d<a.length;d++)i=(r.words[d]|0)+(a.words[d]|0)+h,this.words[d]=i&67108863,h=i>>>26;for(;h!==0&&d<r.length;d++)i=(r.words[d]|0)+h,this.words[d]=i&67108863,h=i>>>26;if(this.length=r.length,h!==0)this.words[this.length]=h,this.length++;else if(r!==this)for(;d<r.length;d++)this.words[d]=r.words[d];return this},o.prototype.add=function(t){var i;return t.negative!==0&&this.negative===0?(t.negative=0,i=this.sub(t),t.negative^=1,i):t.negative===0&&this.negative!==0?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var i=this.iadd(t);return t.negative=1,i._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r=this.cmp(t);if(r===0)return this.negative=0,this.length=1,this.words[0]=0,this;var a,h;r>0?(a=this,h=t):(a=t,h=this);for(var d=0,p=0;p<h.length;p++)i=(a.words[p]|0)-(h.words[p]|0)+d,d=i>>26,this.words[p]=i&67108863;for(;d!==0&&p<a.length;p++)i=(a.words[p]|0)+d,d=i>>26,this.words[p]=i&67108863;if(d===0&&p<a.length&&a!==this)for(;p<a.length;p++)this.words[p]=a.words[p];return this.length=Math.max(this.length,p),a!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};function N(c,t,i){i.negative=t.negative^c.negative;var r=c.length+t.length|0;i.length=r,r=r-1|0;var a=c.words[0]|0,h=t.words[0]|0,d=a*h,p=d&67108863,f=d/67108864|0;i.words[0]=p;for(var e=1;e<r;e++){for(var l=f>>>26,x=f&67108863,S=Math.min(e,t.length-1),B=Math.max(0,e-c.length+1);B<=S;B++){var A=e-B|0;a=c.words[A]|0,h=t.words[B]|0,d=a*h+x,l+=d/67108864|0,x=d&67108863}i.words[e]=x|0,f=l|0}return f!==0?i.words[e]=f|0:i.length--,i._strip()}var D=function(t,i,r){var a=t.words,h=i.words,d=r.words,p=0,f,e,l,x=a[0]|0,S=x&8191,B=x>>>13,A=a[1]|0,T=A&8191,k=A>>>13,Ut=a[2]|0,$=Ut&8191,K=Ut>>>13,ki=a[3]|0,I=ki&8191,U=ki>>>13,$i=a[4]|0,V=$i&8191,Z=$i>>>13,Ni=a[5]|0,Y=Ni&8191,j=Ni>>>13,Ki=a[6]|0,W=Ki&8191,J=Ki>>>13,Gi=a[7]|0,H=Gi&8191,Q=Gi>>>13,Oi=a[8]|0,X=Oi&8191,tt=Oi>>>13,Ri=a[9]|0,et=Ri&8191,it=Ri>>>13,Di=h[0]|0,rt=Di&8191,nt=Di>>>13,Li=h[1]|0,st=Li&8191,ot=Li>>>13,Ii=h[2]|0,at=Ii&8191,ut=Ii>>>13,Ui=h[3]|0,ft=Ui&8191,ht=Ui>>>13,Vi=h[4]|0,lt=Vi&8191,ct=Vi>>>13,Zi=h[5]|0,dt=Zi&8191,pt=Zi>>>13,Yi=h[6]|0,mt=Yi&8191,vt=Yi>>>13,ji=h[7]|0,gt=ji&8191,yt=ji>>>13,Wi=h[8]|0,Mt=Wi&8191,bt=Wi>>>13,Ji=h[9]|0,wt=Ji&8191,xt=Ji>>>13;r.negative=t.negative^i.negative,r.length=19,f=Math.imul(S,rt),e=Math.imul(S,nt),e=e+Math.imul(B,rt)|0,l=Math.imul(B,nt);var Ne=(p+f|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,f=Math.imul(T,rt),e=Math.imul(T,nt),e=e+Math.imul(k,rt)|0,l=Math.imul(k,nt),f=f+Math.imul(S,st)|0,e=e+Math.imul(S,ot)|0,e=e+Math.imul(B,st)|0,l=l+Math.imul(B,ot)|0;var Ke=(p+f|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,f=Math.imul($,rt),e=Math.imul($,nt),e=e+Math.imul(K,rt)|0,l=Math.imul(K,nt),f=f+Math.imul(T,st)|0,e=e+Math.imul(T,ot)|0,e=e+Math.imul(k,st)|0,l=l+Math.imul(k,ot)|0,f=f+Math.imul(S,at)|0,e=e+Math.imul(S,ut)|0,e=e+Math.imul(B,at)|0,l=l+Math.imul(B,ut)|0;var Ge=(p+f|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,f=Math.imul(I,rt),e=Math.imul(I,nt),e=e+Math.imul(U,rt)|0,l=Math.imul(U,nt),f=f+Math.imul($,st)|0,e=e+Math.imul($,ot)|0,e=e+Math.imul(K,st)|0,l=l+Math.imul(K,ot)|0,f=f+Math.imul(T,at)|0,e=e+Math.imul(T,ut)|0,e=e+Math.imul(k,at)|0,l=l+Math.imul(k,ut)|0,f=f+Math.imul(S,ft)|0,e=e+Math.imul(S,ht)|0,e=e+Math.imul(B,ft)|0,l=l+Math.imul(B,ht)|0;var Oe=(p+f|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,f=Math.imul(V,rt),e=Math.imul(V,nt),e=e+Math.imul(Z,rt)|0,l=Math.imul(Z,nt),f=f+Math.imul(I,st)|0,e=e+Math.imul(I,ot)|0,e=e+Math.imul(U,st)|0,l=l+Math.imul(U,ot)|0,f=f+Math.imul($,at)|0,e=e+Math.imul($,ut)|0,e=e+Math.imul(K,at)|0,l=l+Math.imul(K,ut)|0,f=f+Math.imul(T,ft)|0,e=e+Math.imul(T,ht)|0,e=e+Math.imul(k,ft)|0,l=l+Math.imul(k,ht)|0,f=f+Math.imul(S,lt)|0,e=e+Math.imul(S,ct)|0,e=e+Math.imul(B,lt)|0,l=l+Math.imul(B,ct)|0;var Re=(p+f|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Re>>>26)|0,Re&=67108863,f=Math.imul(Y,rt),e=Math.imul(Y,nt),e=e+Math.imul(j,rt)|0,l=Math.imul(j,nt),f=f+Math.imul(V,st)|0,e=e+Math.imul(V,ot)|0,e=e+Math.imul(Z,st)|0,l=l+Math.imul(Z,ot)|0,f=f+Math.imul(I,at)|0,e=e+Math.imul(I,ut)|0,e=e+Math.imul(U,at)|0,l=l+Math.imul(U,ut)|0,f=f+Math.imul($,ft)|0,e=e+Math.imul($,ht)|0,e=e+Math.imul(K,ft)|0,l=l+Math.imul(K,ht)|0,f=f+Math.imul(T,lt)|0,e=e+Math.imul(T,ct)|0,e=e+Math.imul(k,lt)|0,l=l+Math.imul(k,ct)|0,f=f+Math.imul(S,dt)|0,e=e+Math.imul(S,pt)|0,e=e+Math.imul(B,dt)|0,l=l+Math.imul(B,pt)|0;var De=(p+f|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(De>>>26)|0,De&=67108863,f=Math.imul(W,rt),e=Math.imul(W,nt),e=e+Math.imul(J,rt)|0,l=Math.imul(J,nt),f=f+Math.imul(Y,st)|0,e=e+Math.imul(Y,ot)|0,e=e+Math.imul(j,st)|0,l=l+Math.imul(j,ot)|0,f=f+Math.imul(V,at)|0,e=e+Math.imul(V,ut)|0,e=e+Math.imul(Z,at)|0,l=l+Math.imul(Z,ut)|0,f=f+Math.imul(I,ft)|0,e=e+Math.imul(I,ht)|0,e=e+Math.imul(U,ft)|0,l=l+Math.imul(U,ht)|0,f=f+Math.imul($,lt)|0,e=e+Math.imul($,ct)|0,e=e+Math.imul(K,lt)|0,l=l+Math.imul(K,ct)|0,f=f+Math.imul(T,dt)|0,e=e+Math.imul(T,pt)|0,e=e+Math.imul(k,dt)|0,l=l+Math.imul(k,pt)|0,f=f+Math.imul(S,mt)|0,e=e+Math.imul(S,vt)|0,e=e+Math.imul(B,mt)|0,l=l+Math.imul(B,vt)|0;var Le=(p+f|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Le>>>26)|0,Le&=67108863,f=Math.imul(H,rt),e=Math.imul(H,nt),e=e+Math.imul(Q,rt)|0,l=Math.imul(Q,nt),f=f+Math.imul(W,st)|0,e=e+Math.imul(W,ot)|0,e=e+Math.imul(J,st)|0,l=l+Math.imul(J,ot)|0,f=f+Math.imul(Y,at)|0,e=e+Math.imul(Y,ut)|0,e=e+Math.imul(j,at)|0,l=l+Math.imul(j,ut)|0,f=f+Math.imul(V,ft)|0,e=e+Math.imul(V,ht)|0,e=e+Math.imul(Z,ft)|0,l=l+Math.imul(Z,ht)|0,f=f+Math.imul(I,lt)|0,e=e+Math.imul(I,ct)|0,e=e+Math.imul(U,lt)|0,l=l+Math.imul(U,ct)|0,f=f+Math.imul($,dt)|0,e=e+Math.imul($,pt)|0,e=e+Math.imul(K,dt)|0,l=l+Math.imul(K,pt)|0,f=f+Math.imul(T,mt)|0,e=e+Math.imul(T,vt)|0,e=e+Math.imul(k,mt)|0,l=l+Math.imul(k,vt)|0,f=f+Math.imul(S,gt)|0,e=e+Math.imul(S,yt)|0,e=e+Math.imul(B,gt)|0,l=l+Math.imul(B,yt)|0;var Ie=(p+f|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,f=Math.imul(X,rt),e=Math.imul(X,nt),e=e+Math.imul(tt,rt)|0,l=Math.imul(tt,nt),f=f+Math.imul(H,st)|0,e=e+Math.imul(H,ot)|0,e=e+Math.imul(Q,st)|0,l=l+Math.imul(Q,ot)|0,f=f+Math.imul(W,at)|0,e=e+Math.imul(W,ut)|0,e=e+Math.imul(J,at)|0,l=l+Math.imul(J,ut)|0,f=f+Math.imul(Y,ft)|0,e=e+Math.imul(Y,ht)|0,e=e+Math.imul(j,ft)|0,l=l+Math.imul(j,ht)|0,f=f+Math.imul(V,lt)|0,e=e+Math.imul(V,ct)|0,e=e+Math.imul(Z,lt)|0,l=l+Math.imul(Z,ct)|0,f=f+Math.imul(I,dt)|0,e=e+Math.imul(I,pt)|0,e=e+Math.imul(U,dt)|0,l=l+Math.imul(U,pt)|0,f=f+Math.imul($,mt)|0,e=e+Math.imul($,vt)|0,e=e+Math.imul(K,mt)|0,l=l+Math.imul(K,vt)|0,f=f+Math.imul(T,gt)|0,e=e+Math.imul(T,yt)|0,e=e+Math.imul(k,gt)|0,l=l+Math.imul(k,yt)|0,f=f+Math.imul(S,Mt)|0,e=e+Math.imul(S,bt)|0,e=e+Math.imul(B,Mt)|0,l=l+Math.imul(B,bt)|0;var Ue=(p+f|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,f=Math.imul(et,rt),e=Math.imul(et,nt),e=e+Math.imul(it,rt)|0,l=Math.imul(it,nt),f=f+Math.imul(X,st)|0,e=e+Math.imul(X,ot)|0,e=e+Math.imul(tt,st)|0,l=l+Math.imul(tt,ot)|0,f=f+Math.imul(H,at)|0,e=e+Math.imul(H,ut)|0,e=e+Math.imul(Q,at)|0,l=l+Math.imul(Q,ut)|0,f=f+Math.imul(W,ft)|0,e=e+Math.imul(W,ht)|0,e=e+Math.imul(J,ft)|0,l=l+Math.imul(J,ht)|0,f=f+Math.imul(Y,lt)|0,e=e+Math.imul(Y,ct)|0,e=e+Math.imul(j,lt)|0,l=l+Math.imul(j,ct)|0,f=f+Math.imul(V,dt)|0,e=e+Math.imul(V,pt)|0,e=e+Math.imul(Z,dt)|0,l=l+Math.imul(Z,pt)|0,f=f+Math.imul(I,mt)|0,e=e+Math.imul(I,vt)|0,e=e+Math.imul(U,mt)|0,l=l+Math.imul(U,vt)|0,f=f+Math.imul($,gt)|0,e=e+Math.imul($,yt)|0,e=e+Math.imul(K,gt)|0,l=l+Math.imul(K,yt)|0,f=f+Math.imul(T,Mt)|0,e=e+Math.imul(T,bt)|0,e=e+Math.imul(k,Mt)|0,l=l+Math.imul(k,bt)|0,f=f+Math.imul(S,wt)|0,e=e+Math.imul(S,xt)|0,e=e+Math.imul(B,wt)|0,l=l+Math.imul(B,xt)|0;var Ve=(p+f|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,f=Math.imul(et,st),e=Math.imul(et,ot),e=e+Math.imul(it,st)|0,l=Math.imul(it,ot),f=f+Math.imul(X,at)|0,e=e+Math.imul(X,ut)|0,e=e+Math.imul(tt,at)|0,l=l+Math.imul(tt,ut)|0,f=f+Math.imul(H,ft)|0,e=e+Math.imul(H,ht)|0,e=e+Math.imul(Q,ft)|0,l=l+Math.imul(Q,ht)|0,f=f+Math.imul(W,lt)|0,e=e+Math.imul(W,ct)|0,e=e+Math.imul(J,lt)|0,l=l+Math.imul(J,ct)|0,f=f+Math.imul(Y,dt)|0,e=e+Math.imul(Y,pt)|0,e=e+Math.imul(j,dt)|0,l=l+Math.imul(j,pt)|0,f=f+Math.imul(V,mt)|0,e=e+Math.imul(V,vt)|0,e=e+Math.imul(Z,mt)|0,l=l+Math.imul(Z,vt)|0,f=f+Math.imul(I,gt)|0,e=e+Math.imul(I,yt)|0,e=e+Math.imul(U,gt)|0,l=l+Math.imul(U,yt)|0,f=f+Math.imul($,Mt)|0,e=e+Math.imul($,bt)|0,e=e+Math.imul(K,Mt)|0,l=l+Math.imul(K,bt)|0,f=f+Math.imul(T,wt)|0,e=e+Math.imul(T,xt)|0,e=e+Math.imul(k,wt)|0,l=l+Math.imul(k,xt)|0;var Ze=(p+f|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,f=Math.imul(et,at),e=Math.imul(et,ut),e=e+Math.imul(it,at)|0,l=Math.imul(it,ut),f=f+Math.imul(X,ft)|0,e=e+Math.imul(X,ht)|0,e=e+Math.imul(tt,ft)|0,l=l+Math.imul(tt,ht)|0,f=f+Math.imul(H,lt)|0,e=e+Math.imul(H,ct)|0,e=e+Math.imul(Q,lt)|0,l=l+Math.imul(Q,ct)|0,f=f+Math.imul(W,dt)|0,e=e+Math.imul(W,pt)|0,e=e+Math.imul(J,dt)|0,l=l+Math.imul(J,pt)|0,f=f+Math.imul(Y,mt)|0,e=e+Math.imul(Y,vt)|0,e=e+Math.imul(j,mt)|0,l=l+Math.imul(j,vt)|0,f=f+Math.imul(V,gt)|0,e=e+Math.imul(V,yt)|0,e=e+Math.imul(Z,gt)|0,l=l+Math.imul(Z,yt)|0,f=f+Math.imul(I,Mt)|0,e=e+Math.imul(I,bt)|0,e=e+Math.imul(U,Mt)|0,l=l+Math.imul(U,bt)|0,f=f+Math.imul($,wt)|0,e=e+Math.imul($,xt)|0,e=e+Math.imul(K,wt)|0,l=l+Math.imul(K,xt)|0;var Ye=(p+f|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,f=Math.imul(et,ft),e=Math.imul(et,ht),e=e+Math.imul(it,ft)|0,l=Math.imul(it,ht),f=f+Math.imul(X,lt)|0,e=e+Math.imul(X,ct)|0,e=e+Math.imul(tt,lt)|0,l=l+Math.imul(tt,ct)|0,f=f+Math.imul(H,dt)|0,e=e+Math.imul(H,pt)|0,e=e+Math.imul(Q,dt)|0,l=l+Math.imul(Q,pt)|0,f=f+Math.imul(W,mt)|0,e=e+Math.imul(W,vt)|0,e=e+Math.imul(J,mt)|0,l=l+Math.imul(J,vt)|0,f=f+Math.imul(Y,gt)|0,e=e+Math.imul(Y,yt)|0,e=e+Math.imul(j,gt)|0,l=l+Math.imul(j,yt)|0,f=f+Math.imul(V,Mt)|0,e=e+Math.imul(V,bt)|0,e=e+Math.imul(Z,Mt)|0,l=l+Math.imul(Z,bt)|0,f=f+Math.imul(I,wt)|0,e=e+Math.imul(I,xt)|0,e=e+Math.imul(U,wt)|0,l=l+Math.imul(U,xt)|0;var je=(p+f|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(je>>>26)|0,je&=67108863,f=Math.imul(et,lt),e=Math.imul(et,ct),e=e+Math.imul(it,lt)|0,l=Math.imul(it,ct),f=f+Math.imul(X,dt)|0,e=e+Math.imul(X,pt)|0,e=e+Math.imul(tt,dt)|0,l=l+Math.imul(tt,pt)|0,f=f+Math.imul(H,mt)|0,e=e+Math.imul(H,vt)|0,e=e+Math.imul(Q,mt)|0,l=l+Math.imul(Q,vt)|0,f=f+Math.imul(W,gt)|0,e=e+Math.imul(W,yt)|0,e=e+Math.imul(J,gt)|0,l=l+Math.imul(J,yt)|0,f=f+Math.imul(Y,Mt)|0,e=e+Math.imul(Y,bt)|0,e=e+Math.imul(j,Mt)|0,l=l+Math.imul(j,bt)|0,f=f+Math.imul(V,wt)|0,e=e+Math.imul(V,xt)|0,e=e+Math.imul(Z,wt)|0,l=l+Math.imul(Z,xt)|0;var We=(p+f|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(We>>>26)|0,We&=67108863,f=Math.imul(et,dt),e=Math.imul(et,pt),e=e+Math.imul(it,dt)|0,l=Math.imul(it,pt),f=f+Math.imul(X,mt)|0,e=e+Math.imul(X,vt)|0,e=e+Math.imul(tt,mt)|0,l=l+Math.imul(tt,vt)|0,f=f+Math.imul(H,gt)|0,e=e+Math.imul(H,yt)|0,e=e+Math.imul(Q,gt)|0,l=l+Math.imul(Q,yt)|0,f=f+Math.imul(W,Mt)|0,e=e+Math.imul(W,bt)|0,e=e+Math.imul(J,Mt)|0,l=l+Math.imul(J,bt)|0,f=f+Math.imul(Y,wt)|0,e=e+Math.imul(Y,xt)|0,e=e+Math.imul(j,wt)|0,l=l+Math.imul(j,xt)|0;var Je=(p+f|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Je>>>26)|0,Je&=67108863,f=Math.imul(et,mt),e=Math.imul(et,vt),e=e+Math.imul(it,mt)|0,l=Math.imul(it,vt),f=f+Math.imul(X,gt)|0,e=e+Math.imul(X,yt)|0,e=e+Math.imul(tt,gt)|0,l=l+Math.imul(tt,yt)|0,f=f+Math.imul(H,Mt)|0,e=e+Math.imul(H,bt)|0,e=e+Math.imul(Q,Mt)|0,l=l+Math.imul(Q,bt)|0,f=f+Math.imul(W,wt)|0,e=e+Math.imul(W,xt)|0,e=e+Math.imul(J,wt)|0,l=l+Math.imul(J,xt)|0;var He=(p+f|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(He>>>26)|0,He&=67108863,f=Math.imul(et,gt),e=Math.imul(et,yt),e=e+Math.imul(it,gt)|0,l=Math.imul(it,yt),f=f+Math.imul(X,Mt)|0,e=e+Math.imul(X,bt)|0,e=e+Math.imul(tt,Mt)|0,l=l+Math.imul(tt,bt)|0,f=f+Math.imul(H,wt)|0,e=e+Math.imul(H,xt)|0,e=e+Math.imul(Q,wt)|0,l=l+Math.imul(Q,xt)|0;var Qe=(p+f|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,f=Math.imul(et,Mt),e=Math.imul(et,bt),e=e+Math.imul(it,Mt)|0,l=Math.imul(it,bt),f=f+Math.imul(X,wt)|0,e=e+Math.imul(X,xt)|0,e=e+Math.imul(tt,wt)|0,l=l+Math.imul(tt,xt)|0;var Xe=(p+f|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,f=Math.imul(et,wt),e=Math.imul(et,xt),e=e+Math.imul(it,wt)|0,l=Math.imul(it,xt);var ti=(p+f|0)+((e&8191)<<13)|0;return p=(l+(e>>>13)|0)+(ti>>>26)|0,ti&=67108863,d[0]=Ne,d[1]=Ke,d[2]=Ge,d[3]=Oe,d[4]=Re,d[5]=De,d[6]=Le,d[7]=Ie,d[8]=Ue,d[9]=Ve,d[10]=Ze,d[11]=Ye,d[12]=je,d[13]=We,d[14]=Je,d[15]=He,d[16]=Qe,d[17]=Xe,d[18]=ti,p!==0&&(d[19]=p,r.length++),r};Math.imul||(D=N);function Pt(c,t,i){i.negative=t.negative^c.negative,i.length=c.length+t.length;for(var r=0,a=0,h=0;h<i.length-1;h++){var d=a;a=0;for(var p=r&67108863,f=Math.min(h,t.length-1),e=Math.max(0,h-c.length+1);e<=f;e++){var l=h-e,x=c.words[l]|0,S=t.words[e]|0,B=x*S,A=B&67108863;d=d+(B/67108864|0)|0,A=A+p|0,p=A&67108863,d=d+(A>>>26)|0,a+=d>>>26,d&=67108863}i.words[h]=p,r=d,d=a}return r!==0?i.words[h]=r:i.length--,i._strip()}function be(c,t,i){return Pt(c,t,i)}o.prototype.mulTo=function(t,i){var r,a=this.length+t.length;return this.length===10&&t.length===10?r=D(this,t,i):a<63?r=N(this,t,i):a<1024?r=Pt(this,t,i):r=be(this,t,i),r};function Ct(c,t){this.x=c,this.y=t}Ct.prototype.makeRBT=function(t){for(var i=new Array(t),r=o.prototype._countBits(t)-1,a=0;a<t;a++)i[a]=this.revBin(a,r,t);return i},Ct.prototype.revBin=function(t,i,r){if(t===0||t===r-1)return t;for(var a=0,h=0;h<i;h++)a|=(t&1)<<i-h-1,t>>=1;return a},Ct.prototype.permute=function(t,i,r,a,h,d){for(var p=0;p<d;p++)a[p]=i[t[p]],h[p]=r[t[p]]},Ct.prototype.transform=function(t,i,r,a,h,d){this.permute(d,t,i,r,a,h);for(var p=1;p<h;p<<=1)for(var f=p<<1,e=Math.cos(2*Math.PI/f),l=Math.sin(2*Math.PI/f),x=0;x<h;x+=f)for(var S=e,B=l,A=0;A<p;A++){var T=r[x+A],k=a[x+A],Ut=r[x+A+p],$=a[x+A+p],K=S*Ut-B*$;$=S*$+B*Ut,Ut=K,r[x+A]=T+Ut,a[x+A]=k+$,r[x+A+p]=T-Ut,a[x+A+p]=k-$,A!==f&&(K=e*S-l*B,B=e*B+l*S,S=K)}},Ct.prototype.guessLen13b=function(t,i){var r=Math.max(i,t)|1,a=r&1,h=0;for(r=r/2|0;r;r=r>>>1)h++;return 1<<h+1+a},Ct.prototype.conjugate=function(t,i,r){if(!(r<=1))for(var a=0;a<r/2;a++){var h=t[a];t[a]=t[r-a-1],t[r-a-1]=h,h=i[a],i[a]=-i[r-a-1],i[r-a-1]=-h}},Ct.prototype.normalize13b=function(t,i){for(var r=0,a=0;a<i/2;a++){var h=Math.round(t[2*a+1]/i)*8192+Math.round(t[2*a]/i)+r;t[a]=h&67108863,h<67108864?r=0:r=h/67108864|0}return t},Ct.prototype.convert13b=function(t,i,r,a){for(var h=0,d=0;d<i;d++)h=h+(t[d]|0),r[2*d]=h&8191,h=h>>>13,r[2*d+1]=h&8191,h=h>>>13;for(d=2*i;d<a;++d)r[d]=0;n(h===0),n((h&-8192)===0)},Ct.prototype.stub=function(t){for(var i=new Array(t),r=0;r<t;r++)i[r]=0;return i},Ct.prototype.mulp=function(t,i,r){var a=2*this.guessLen13b(t.length,i.length),h=this.makeRBT(a),d=this.stub(a),p=new Array(a),f=new Array(a),e=new Array(a),l=new Array(a),x=new Array(a),S=new Array(a),B=r.words;B.length=a,this.convert13b(t.words,t.length,p,a),this.convert13b(i.words,i.length,l,a),this.transform(p,d,f,e,a,h),this.transform(l,d,x,S,a,h);for(var A=0;A<a;A++){var T=f[A]*x[A]-e[A]*S[A];e[A]=f[A]*S[A]+e[A]*x[A],f[A]=T}return this.conjugate(f,e,a),this.transform(f,e,B,d,a,h),this.conjugate(B,d,a),this.normalize13b(B,a),r.negative=t.negative^i.negative,r.length=t.length+i.length,r._strip()},o.prototype.mul=function(t){var i=new o(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},o.prototype.mulf=function(t){var i=new o(null);return i.words=new Array(this.length+t.length),be(this,t,i)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var i=t<0;i&&(t=-t),n(typeof t=="number"),n(t<67108864);for(var r=0,a=0;a<this.length;a++){var h=(this.words[a]|0)*t,d=(h&67108863)+(r&67108863);r>>=26,r+=h/67108864|0,r+=d>>>26,this.words[a]=d&67108863}return r!==0&&(this.words[a]=r,this.length++),i?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var i=St(t);if(i.length===0)return new o(1);for(var r=this,a=0;a<i.length&&i[a]===0;a++,r=r.sqr());if(++a<i.length)for(var h=r.sqr();a<i.length;a++,h=h.sqr())i[a]!==0&&(r=r.mul(h));return r},o.prototype.iushln=function(t){n(typeof t=="number"&&t>=0);var i=t%26,r=(t-i)/26,a=67108863>>>26-i<<26-i,h;if(i!==0){var d=0;for(h=0;h<this.length;h++){var p=this.words[h]&a,f=(this.words[h]|0)-p<<i;this.words[h]=f|d,d=p>>>26-i}d&&(this.words[h]=d,this.length++)}if(r!==0){for(h=this.length-1;h>=0;h--)this.words[h+r]=this.words[h];for(h=0;h<r;h++)this.words[h]=0;this.length+=r}return this._strip()},o.prototype.ishln=function(t){return n(this.negative===0),this.iushln(t)},o.prototype.iushrn=function(t,i,r){n(typeof t=="number"&&t>=0);var a;i?a=(i-i%26)/26:a=0;var h=t%26,d=Math.min((t-h)/26,this.length),p=67108863^67108863>>>h<<h,f=r;if(a-=d,a=Math.max(0,a),f){for(var e=0;e<d;e++)f.words[e]=this.words[e];f.length=d}if(d!==0)if(this.length>d)for(this.length-=d,e=0;e<this.length;e++)this.words[e]=this.words[e+d];else this.words[0]=0,this.length=1;var l=0;for(e=this.length-1;e>=0&&(l!==0||e>=a);e--){var x=this.words[e]|0;this.words[e]=l<<26-h|x>>>h,l=x&p}return f&&l!==0&&(f.words[f.length++]=l),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,i,r){return n(this.negative===0),this.iushrn(t,i,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n(typeof t=="number"&&t>=0);var i=t%26,r=(t-i)/26,a=1<<i;if(this.length<=r)return!1;var h=this.words[r];return!!(h&a)},o.prototype.imaskn=function(t){n(typeof t=="number"&&t>=0);var i=t%26,r=(t-i)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=r)return this;if(i!==0&&r++,this.length=Math.min(r,this.length),i!==0){var a=67108863^67108863>>>i<<i;this.words[this.length-1]&=a}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n(typeof t=="number"),n(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<=t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},o.prototype.isubn=function(t){if(n(typeof t=="number"),n(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,i,r){var a=t.length+r,h;this._expand(a);var d,p=0;for(h=0;h<t.length;h++){d=(this.words[h+r]|0)+p;var f=(t.words[h]|0)*i;d-=f&67108863,p=(d>>26)-(f/67108864|0),this.words[h+r]=d&67108863}for(;h<this.length-r;h++)d=(this.words[h+r]|0)+p,p=d>>26,this.words[h+r]=d&67108863;if(p===0)return this._strip();for(n(p===-1),p=0,h=0;h<this.length;h++)d=-(this.words[h]|0)+p,p=d>>26,this.words[h]=d&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,i){var r=this.length-t.length,a=this.clone(),h=t,d=h.words[h.length-1]|0,p=this._countBits(d);r=26-p,r!==0&&(h=h.ushln(r),a.iushln(r),d=h.words[h.length-1]|0);var f=a.length-h.length,e;if(i!=="mod"){e=new o(null),e.length=f+1,e.words=new Array(e.length);for(var l=0;l<e.length;l++)e.words[l]=0}var x=a.clone()._ishlnsubmul(h,1,f);x.negative===0&&(a=x,e&&(e.words[f]=1));for(var S=f-1;S>=0;S--){var B=(a.words[h.length+S]|0)*67108864+(a.words[h.length+S-1]|0);for(B=Math.min(B/d|0,67108863),a._ishlnsubmul(h,B,S);a.negative!==0;)B--,a.negative=0,a._ishlnsubmul(h,1,S),a.isZero()||(a.negative^=1);e&&(e.words[S]=B)}return e&&e._strip(),a._strip(),i!=="div"&&r!==0&&a.iushrn(r),{div:e||null,mod:a}},o.prototype.divmod=function(t,i,r){if(n(!t.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var a,h,d;return this.negative!==0&&t.negative===0?(d=this.neg().divmod(t,i),i!=="mod"&&(a=d.div.neg()),i!=="div"&&(h=d.mod.neg(),r&&h.negative!==0&&h.iadd(t)),{div:a,mod:h}):this.negative===0&&t.negative!==0?(d=this.divmod(t.neg(),i),i!=="mod"&&(a=d.div.neg()),{div:a,mod:d.mod}):(this.negative&t.negative)!==0?(d=this.neg().divmod(t.neg(),i),i!=="div"&&(h=d.mod.neg(),r&&h.negative!==0&&h.isub(t)),{div:d.div,mod:h}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:t.length===1?i==="div"?{div:this.divn(t.words[0]),mod:null}:i==="mod"?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,i)},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var r=i.div.negative!==0?i.mod.isub(t):i.mod,a=t.ushrn(1),h=t.andln(1),d=r.cmp(a);return d<0||h===1&&d===0?i.div:i.div.negative!==0?i.div.isubn(1):i.div.iaddn(1)},o.prototype.modrn=function(t){var i=t<0;i&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,a=0,h=this.length-1;h>=0;h--)a=(r*a+(this.words[h]|0))%t;return i?-a:a},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var i=t<0;i&&(t=-t),n(t<=67108863);for(var r=0,a=this.length-1;a>=0;a--){var h=(this.words[a]|0)+r*67108864;this.words[a]=h/t|0,r=h%t}return this._strip(),i?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(t.negative===0),n(!t.isZero());var i=this,r=t.clone();i.negative!==0?i=i.umod(t):i=i.clone();for(var a=new o(1),h=new o(0),d=new o(0),p=new o(1),f=0;i.isEven()&&r.isEven();)i.iushrn(1),r.iushrn(1),++f;for(var e=r.clone(),l=i.clone();!i.isZero();){for(var x=0,S=1;(i.words[0]&S)===0&&x<26;++x,S<<=1);if(x>0)for(i.iushrn(x);x-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(e),h.isub(l)),a.iushrn(1),h.iushrn(1);for(var B=0,A=1;(r.words[0]&A)===0&&B<26;++B,A<<=1);if(B>0)for(r.iushrn(B);B-- >0;)(d.isOdd()||p.isOdd())&&(d.iadd(e),p.isub(l)),d.iushrn(1),p.iushrn(1);i.cmp(r)>=0?(i.isub(r),a.isub(d),h.isub(p)):(r.isub(i),d.isub(a),p.isub(h))}return{a:d,b:p,gcd:r.iushln(f)}},o.prototype._invmp=function(t){n(t.negative===0),n(!t.isZero());var i=this,r=t.clone();i.negative!==0?i=i.umod(t):i=i.clone();for(var a=new o(1),h=new o(0),d=r.clone();i.cmpn(1)>0&&r.cmpn(1)>0;){for(var p=0,f=1;(i.words[0]&f)===0&&p<26;++p,f<<=1);if(p>0)for(i.iushrn(p);p-- >0;)a.isOdd()&&a.iadd(d),a.iushrn(1);for(var e=0,l=1;(r.words[0]&l)===0&&e<26;++e,l<<=1);if(e>0)for(r.iushrn(e);e-- >0;)h.isOdd()&&h.iadd(d),h.iushrn(1);i.cmp(r)>=0?(i.isub(r),a.isub(h)):(r.isub(i),h.isub(a))}var x;return i.cmpn(1)===0?x=a:x=h,x.cmpn(0)<0&&x.iadd(t),x},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var i=this.clone(),r=t.clone();i.negative=0,r.negative=0;for(var a=0;i.isEven()&&r.isEven();a++)i.iushrn(1),r.iushrn(1);do{for(;i.isEven();)i.iushrn(1);for(;r.isEven();)r.iushrn(1);var h=i.cmp(r);if(h<0){var d=i;i=r,r=d}else if(h===0||r.cmpn(1)===0)break;i.isub(r)}while(!0);return r.iushln(a)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n(typeof t=="number");var i=t%26,r=(t-i)/26,a=1<<i;if(this.length<=r)return this._expand(r+1),this.words[r]|=a,this;for(var h=a,d=r;h!==0&&d<this.length;d++){var p=this.words[d]|0;p+=h,h=p>>>26,p&=67108863,this.words[d]=p}return h!==0&&(this.words[d]=h,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(t){var i=t<0;if(this.negative!==0&&!i)return-1;if(this.negative===0&&i)return 1;this._strip();var r;if(this.length>1)r=1;else{i&&(t=-t),n(t<=67108863,"Number is too big");var a=this.words[0]|0;r=a===t?0:a<t?-1:1}return this.negative!==0?-r|0:r},o.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var i=this.ucmp(t);return this.negative!==0?-i|0:i},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,r=this.length-1;r>=0;r--){var a=this.words[r]|0,h=t.words[r]|0;if(a!==h){a<h?i=-1:a>h&&(i=1);break}}return i},o.prototype.gtn=function(t){return this.cmpn(t)===1},o.prototype.gt=function(t){return this.cmp(t)===1},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return this.cmpn(t)===-1},o.prototype.lt=function(t){return this.cmp(t)===-1},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return this.cmpn(t)===0},o.prototype.eq=function(t){return this.cmp(t)===0},o.red=function(t){return new L(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var we={k256:null,p224:null,p192:null,p25519:null};function Ft(c,t){this.name=c,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ft.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},Ft.prototype.ireduce=function(t){var i=t,r;do this.split(i,this.tmp),i=this.imulK(i),i=i.iadd(this.tmp),r=i.bitLength();while(r>this.n);var a=r<this.n?-1:i.ucmp(this.p);return a===0?(i.words[0]=0,i.length=1):a>0?i.isub(this.p):i.strip!==void 0?i.strip():i._strip(),i},Ft.prototype.split=function(t,i){t.iushrn(this.n,0,i)},Ft.prototype.imulK=function(t){return t.imul(this.k)};function Xt(){Ft.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}m(Xt,Ft),Xt.prototype.split=function(t,i){for(var r=4194303,a=Math.min(t.length,9),h=0;h<a;h++)i.words[h]=t.words[h];if(i.length=a,t.length<=9){t.words[0]=0,t.length=1;return}var d=t.words[9];for(i.words[i.length++]=d&r,h=10;h<t.length;h++){var p=t.words[h]|0;t.words[h-10]=(p&r)<<4|d>>>22,d=p}d>>>=22,t.words[h-10]=d,d===0&&t.length>10?t.length-=10:t.length-=9},Xt.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,r=0;r<t.length;r++){var a=t.words[r]|0;i+=a*977,t.words[r]=i&67108863,i=a*64+(i/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function ve(){Ft.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}m(ve,Ft);function xe(){Ft.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}m(xe,Ft);function $e(){Ft.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}m($e,Ft),$e.prototype.imulK=function(t){for(var i=0,r=0;r<t.length;r++){var a=(t.words[r]|0)*19+i,h=a&67108863;a>>>=26,t.words[r]=h,i=a}return i!==0&&(t.words[t.length++]=i),t},o._prime=function(t){if(we[t])return we[t];var i;if(t==="k256")i=new Xt;else if(t==="p224")i=new ve;else if(t==="p192")i=new xe;else if(t==="p25519")i=new $e;else throw new Error("Unknown prime "+t);return we[t]=i,i};function L(c){if(typeof c=="string"){var t=o._prime(c);this.m=t.p,this.prime=t}else n(c.gtn(1),"modulus must be greater than 1"),this.m=c,this.prime=null}L.prototype._verify1=function(t){n(t.negative===0,"red works only with positives"),n(t.red,"red works only with red numbers")},L.prototype._verify2=function(t,i){n((t.negative|i.negative)===0,"red works only with positives"),n(t.red&&t.red===i.red,"red works only with red numbers")},L.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(b(t,t.umod(this.m)._forceRed(this)),t)},L.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},L.prototype.add=function(t,i){this._verify2(t,i);var r=t.add(i);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},L.prototype.iadd=function(t,i){this._verify2(t,i);var r=t.iadd(i);return r.cmp(this.m)>=0&&r.isub(this.m),r},L.prototype.sub=function(t,i){this._verify2(t,i);var r=t.sub(i);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},L.prototype.isub=function(t,i){this._verify2(t,i);var r=t.isub(i);return r.cmpn(0)<0&&r.iadd(this.m),r},L.prototype.shl=function(t,i){return this._verify1(t),this.imod(t.ushln(i))},L.prototype.imul=function(t,i){return this._verify2(t,i),this.imod(t.imul(i))},L.prototype.mul=function(t,i){return this._verify2(t,i),this.imod(t.mul(i))},L.prototype.isqr=function(t){return this.imul(t,t.clone())},L.prototype.sqr=function(t){return this.mul(t,t)},L.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(n(i%2===1),i===3){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var a=this.m.subn(1),h=0;!a.isZero()&&a.andln(1)===0;)h++,a.iushrn(1);n(!a.isZero());var d=new o(1).toRed(this),p=d.redNeg(),f=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new o(2*e*e).toRed(this);this.pow(e,f).cmp(p)!==0;)e.redIAdd(p);for(var l=this.pow(e,a),x=this.pow(t,a.addn(1).iushrn(1)),S=this.pow(t,a),B=h;S.cmp(d)!==0;){for(var A=S,T=0;A.cmp(d)!==0;T++)A=A.redSqr();n(T<B);var k=this.pow(l,new o(1).iushln(B-T-1));x=x.redMul(k),l=k.redSqr(),S=S.redMul(l),B=T}return x},L.prototype.invm=function(t){var i=t._invmp(this.m);return i.negative!==0?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},L.prototype.pow=function(t,i){if(i.isZero())return new o(1).toRed(this);if(i.cmpn(1)===0)return t.clone();var r=4,a=new Array(1<<r);a[0]=new o(1).toRed(this),a[1]=t;for(var h=2;h<a.length;h++)a[h]=this.mul(a[h-1],t);var d=a[0],p=0,f=0,e=i.bitLength()%26;for(e===0&&(e=26),h=i.length-1;h>=0;h--){for(var l=i.words[h],x=e-1;x>=0;x--){var S=l>>x&1;if(d!==a[0]&&(d=this.sqr(d)),S===0&&p===0){f=0;continue}p<<=1,p|=S,f++,!(f!==r&&(h!==0||x!==0))&&(d=this.mul(d,a[p]),f=0,p=0)}e=26}return d},L.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},L.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},o.mont=function(t){return new Jt(t)};function Jt(c){L.call(this,c),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}m(Jt,L),Jt.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},Jt.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},Jt.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(i),a=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=r.isub(a).iushrn(this.shift),d=h;return h.cmp(this.m)>=0?d=h.isub(this.m):h.cmpn(0)<0&&(d=h.iadd(this.m)),d._forceRed(this)},Jt.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new o(0)._forceRed(this);var r=t.mul(i),a=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=r.isub(a).iushrn(this.shift),d=h;return h.cmp(this.m)>=0?d=h.isub(this.m):h.cmpn(0)<0&&(d=h.iadd(this.m)),d._forceRed(this)},Jt.prototype.invm=function(t){var i=this.imod(t._invmp(this.m).mul(this.r2));return i._forceRed(this)}})(typeof ei>"u"||ei,Qi)});var Vt=R(C=>{"use strict";E();z();var Pr=C&&C.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(C,"__esModule",{value:!0});C.numbersTypeMap=C.bool=C.i512=C.i256=C.i128=C.i64=C.i32=C.i16=C.i8=C.u512=C.u256=C.u128=C.u64=C.u32=C.u16=C.u8=void 0;var te=Pr(Xi()),G=zt();C.u8={write:function(s,u,n){s.writeUInt8(n,u)},read:function(s,u){return s.readUInt8(u)},byteSize:1,description:"u8"};C.u16={write:function(s,u,n){s.writeUInt16LE(n,u)},read:function(s,u){return s.readUInt16LE(u)},byteSize:2,description:"u16"};C.u32={write:function(s,u,n){s.writeUInt32LE(n,u)},read:function(s,u){return s.readUInt32LE(u)},byteSize:4,description:"u32"};function _e(s,u){return{write:function(n,m,o){let y=(te.default.isBN(o)?o:new te.default(o)).toArray("le",this.byteSize);q.Buffer.from(y).copy(n,m,0,this.byteSize)},read:function(n,m){let o=n.slice(m,m+this.byteSize);return new te.default(o,"le")},byteSize:s,description:u}}C.u64=_e(8,"u64");C.u128=_e(16,"u128");C.u256=_e(32,"u256");C.u512=_e(64,"u512");C.i8={write:function(s,u,n){s.writeInt8(n,u)},read:function(s,u){return s.readInt8(u)},byteSize:1,description:"i8"};C.i16={write:function(s,u,n){s.writeInt16LE(n,u)},read:function(s,u){return s.readInt16LE(u)},byteSize:2,description:"i16"};C.i32={write:function(s,u,n){s.writeInt32LE(n,u)},read:function(s,u){return s.readInt32LE(u)},byteSize:4,description:"i32"};function Se(s,u){let n=s*8;return{write:function(m,o,v){let g=(te.default.isBN(v)?v:new te.default(v)).toTwos(n).toArray("le",this.byteSize);q.Buffer.from(g).copy(m,o,0,this.byteSize)},read:function(m,o){let v=m.slice(o,o+this.byteSize);return new te.default(v,"le").fromTwos(n)},byteSize:s,description:u}}C.i64=Se(8,"i64");C.i128=Se(16,"i128");C.i256=Se(32,"i256");C.i512=Se(64,"i512");C.bool={write:function(s,u,n){let m=n?1:0;C.u8.write(s,u,m)},read:function(s,u){return C.u8.read(s,u)===1},byteSize:1,description:"bool"};C.numbersTypeMap={u8:{beet:"u8",isFixable:!1,sourcePack:G.BEET_PACKAGE,ts:"number"},u16:{beet:"u16",isFixable:!1,sourcePack:G.BEET_PACKAGE,ts:"number"},u32:{beet:"u32",isFixable:!1,sourcePack:G.BEET_PACKAGE,ts:"number"},i8:{beet:"i8",isFixable:!1,sourcePack:G.BEET_PACKAGE,ts:"number"},i16:{beet:"i16",isFixable:!1,sourcePack:G.BEET_PACKAGE,ts:"number"},i32:{beet:"i32",isFixable:!1,sourcePack:G.BEET_PACKAGE,ts:"number"},bool:{beet:"bool",isFixable:!1,sourcePack:G.BEET_PACKAGE,ts:"boolean"},u64:{beet:"u64",isFixable:!1,sourcePack:G.BEET_PACKAGE,ts:"bignum",pack:G.BEET_PACKAGE},u128:{beet:"u128",isFixable:!1,sourcePack:G.BEET_PACKAGE,ts:"bignum",pack:G.BEET_PACKAGE},u256:{beet:"u256",isFixable:!1,sourcePack:G.BEET_PACKAGE,ts:"bignum",pack:G.BEET_PACKAGE},u512:{beet:"u512",isFixable:!1,sourcePack:G.BEET_PACKAGE,ts:"bignum",pack:G.BEET_PACKAGE},i64:{beet:"i64",isFixable:!1,sourcePack:G.BEET_PACKAGE,ts:"bignum",pack:G.BEET_PACKAGE},i128:{beet:"i128",isFixable:!1,sourcePack:G.BEET_PACKAGE,ts:"bignum",pack:G.BEET_PACKAGE},i256:{beet:"i256",isFixable:!1,sourcePack:G.BEET_PACKAGE,ts:"bignum",pack:G.BEET_PACKAGE},i512:{beet:"i512",isFixable:!1,sourcePack:G.BEET_PACKAGE,ts:"bignum",pack:G.BEET_PACKAGE}}});var er=R((Un,tr)=>{E();z();var ee=1e3,ie=ee*60,re=ie*60,Ht=re*24,kr=Ht*7,$r=Ht*365.25;tr.exports=function(s,u){u=u||{};var n=typeof s;if(n==="string"&&s.length>0)return Nr(s);if(n==="number"&&isFinite(s))return u.long?Gr(s):Kr(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};function Nr(s){if(s=String(s),!(s.length>100)){var u=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s);if(!!u){var n=parseFloat(u[1]),m=(u[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return n*$r;case"weeks":case"week":case"w":return n*kr;case"days":case"day":case"d":return n*Ht;case"hours":case"hour":case"hrs":case"hr":case"h":return n*re;case"minutes":case"minute":case"mins":case"min":case"m":return n*ie;case"seconds":case"second":case"secs":case"sec":case"s":return n*ee;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Kr(s){var u=Math.abs(s);return u>=Ht?Math.round(s/Ht)+"d":u>=re?Math.round(s/re)+"h":u>=ie?Math.round(s/ie)+"m":u>=ee?Math.round(s/ee)+"s":s+"ms"}function Gr(s){var u=Math.abs(s);return u>=Ht?Be(s,u,Ht,"day"):u>=re?Be(s,u,re,"hour"):u>=ie?Be(s,u,ie,"minute"):u>=ee?Be(s,u,ee,"second"):s+" ms"}function Be(s,u,n,m){var o=u>=n*1.5;return Math.round(s/n)+" "+m+(o?"s":"")}});var rr=R((Yn,ir)=>{E();z();function Or(s){n.debug=n,n.default=n,n.coerce=w,n.disable=v,n.enable=o,n.enabled=y,n.humanize=er(),n.destroy=b,Object.keys(s).forEach(M=>{n[M]=s[M]}),n.names=[],n.skips=[],n.formatters={};function u(M){let _=0;for(let F=0;F<M.length;F++)_=(_<<5)-_+M.charCodeAt(F),_|=0;return n.colors[Math.abs(_)%n.colors.length]}n.selectColor=u;function n(M){let _,F=null,P,Bt;function St(...N){if(!St.enabled)return;let D=St,Pt=Number(new Date),be=Pt-(_||Pt);D.diff=be,D.prev=_,D.curr=Pt,_=Pt,N[0]=n.coerce(N[0]),typeof N[0]!="string"&&N.unshift("%O");let Ct=0;N[0]=N[0].replace(/%([a-zA-Z%])/g,(Ft,Xt)=>{if(Ft==="%%")return"%";Ct++;let ve=n.formatters[Xt];if(typeof ve=="function"){let xe=N[Ct];Ft=ve.call(D,xe),N.splice(Ct,1),Ct--}return Ft}),n.formatArgs.call(D,N),(D.log||n.log).apply(D,N)}return St.namespace=M,St.useColors=n.useColors(),St.color=n.selectColor(M),St.extend=m,St.destroy=n.destroy,Object.defineProperty(St,"enabled",{enumerable:!0,configurable:!1,get:()=>F!==null?F:(P!==n.namespaces&&(P=n.namespaces,Bt=n.enabled(M)),Bt),set:N=>{F=N}}),typeof n.init=="function"&&n.init(St),St}function m(M,_){let F=n(this.namespace+(typeof _>"u"?":":_)+M);return F.log=this.log,F}function o(M){n.save(M),n.namespaces=M,n.names=[],n.skips=[];let _,F=(typeof M=="string"?M:"").split(/[\s,]+/),P=F.length;for(_=0;_<P;_++)!F[_]||(M=F[_].replace(/\*/g,".*?"),M[0]==="-"?n.skips.push(new RegExp("^"+M.slice(1)+"$")):n.names.push(new RegExp("^"+M+"$")))}function v(){let M=[...n.names.map(g),...n.skips.map(g).map(_=>"-"+_)].join(",");return n.enable(""),M}function y(M){if(M[M.length-1]==="*")return!0;let _,F;for(_=0,F=n.skips.length;_<F;_++)if(n.skips[_].test(M))return!1;for(_=0,F=n.names.length;_<F;_++)if(n.names[_].test(M))return!0;return!1}function g(M){return M.toString().substring(2,M.toString().length-2).replace(/\.\*\?$/,"*")}function w(M){return M instanceof Error?M.stack||M.message:M}function b(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}ir.exports=Or});var nr=R((kt,Fe)=>{E();z();kt.formatArgs=Dr;kt.save=Lr;kt.load=Ir;kt.useColors=Rr;kt.storage=Ur();kt.destroy=(()=>{let s=!1;return()=>{s||(s=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();kt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Rr(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Dr(s){if(s[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+s[0]+(this.useColors?"%c ":" ")+"+"+Fe.exports.humanize(this.diff),!this.useColors)return;let u="color: "+this.color;s.splice(1,0,u,"color: inherit");let n=0,m=0;s[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(n++,o==="%c"&&(m=n))}),s.splice(m,0,u)}kt.log=console.debug||console.log||(()=>{});function Lr(s){try{s?kt.storage.setItem("debug",s):kt.storage.removeItem("debug")}catch{}}function Ir(){let s;try{s=kt.storage.getItem("debug")}catch{}return!s&&typeof process<"u"&&"env"in process&&(s=process.env.DEBUG),s}function Ur(){try{return localStorage}catch{}}Fe.exports=rr()(kt);var{formatters:Vr}=Fe.exports;Vr.j=function(s){try{return JSON.stringify(s)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}});var ni=R((Qn,ar)=>{"use strict";E();z();var sr={white:37,black:30,blue:34,cyan:36,green:32,magenta:35,red:31,yellow:33,brightBlack:90,brightRed:91,brightGreen:92,brightYellow:93,brightBlue:94,brightMagenta:95,brightCyan:96,brightWhite:97},or={bgBlack:40,bgRed:41,bgGreen:42,bgYellow:43,bgBlue:44,bgMagenta:45,bgCyan:46,bgWhite:47,bgBrightBlack:100,bgBrightRed:101,bgBrightGreen:102,bgBrightYellow:103,bgBrightBlue:104,bgBrightMagenta:105,bgBrightCyan:106,bgBrightWhite:107},ii={},ri={},ge={};Object.keys(sr).forEach(function(s){var u=ii[s]="\x1B["+sr[s]+"m",n=ri[s]="\x1B[39m";ge[s]=function(m){return u+m+n}});Object.keys(or).forEach(function(s){var u=ii[s]="\x1B["+or[s]+"m",n=ri[s]="\x1B[49m";ge[s]=function(m){return u+m+n}});ar.exports=ge;ge.open=ii;ge.close=ri});var Lt=R(_t=>{"use strict";E();z();var fr=_t&&_t.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(_t,"__esModule",{value:!0});_t.UnreachableCaseError=_t.stringify=_t.bytes=_t.beetBytes=_t.logTrace=_t.logDebug=_t.logInfo=_t.logError=void 0;var Ee=fr(nr()),Zr=fr(ni()),ur=zt(),{brightBlack:hr}=Zr.default;_t.logError=(0,Ee.default)("beet:error");_t.logInfo=(0,Ee.default)("beet:info");_t.logDebug=(0,Ee.default)("beet:debug");_t.logTrace=(0,Ee.default)("beet:trace");function Yr(s,u=!1){let n;if((0,ur.isFixableBeet)(s))n="? B";else if((0,ur.isElementCollectionFixedSizeBeet)(s)){let m=u?"length":s.length,o=s.lenPrefixByteSize;n=o>0?`${o} + (${s.elementByteSize} * ${m}) B  (${s.byteSize} B)`:`(${s.elementByteSize} * ${m}) B (${s.byteSize} B)`}else n=`${s.byteSize} B`;return hr(n)}_t.beetBytes=Yr;function jr(s){return hr(`${s} B`)}_t.bytes=jr;function Wr(s){return s.toString==="function"?s.toString():s}_t.stringify=Wr;var si=class extends Error{constructor(u){super(`Unreachable case: ${u}`)}};_t.UnreachableCaseError=si});var se=R(ne=>{"use strict";E();z();Object.defineProperty(ne,"__esModule",{value:!0});ne.fixBeetFromValue=ne.fixBeetFromData=void 0;var ze=zt(),lr=Lt();function Jr(s,u,n){if((0,ze.isFixedSizeBeet)(s))return s;if((0,ze.isFixableBeet)(s))return s.toFixedFromData(u,n);throw new lr.UnreachableCaseError(s)}ne.fixBeetFromData=Jr;function Hr(s,u){if((0,ze.isFixedSizeBeet)(s))return s;if((0,ze.isFixableBeet)(s))return s.toFixedFromValue(u);throw new lr.UnreachableCaseError(s)}ne.fixBeetFromValue=Hr});var Ae=R(At=>{"use strict";E();z();Object.defineProperty(At,"__esModule",{value:!0});At.collectionsTypeMap=At.uint8Array=At.fixedSizeUint8Array=At.fixedSizeBuffer=At.array=At.fixedSizeArray=At.uniformFixedSizeArray=void 0;var oe=zt(),Qt=Kt(),Zt=Vt(),ae=zt(),dr=Lt(),cr=se();function Qr(s,u,n=!1){let m=s.byteSize*u,o=n?4+m:m;return{write:function(v,y,g){Qt.strict.equal(g.length,u,`array length ${g.length} should match len ${u}`),n&&(Zt.u32.write(v,y,u),y+=4);for(let w=0;w<u;w++)s.write(v,y+w*s.byteSize,g[w])},read:function(v,y){if(n){let w=Zt.u32.read(v,y);Qt.strict.equal(w,u,"invalid byte size"),y+=4}let g=new Array(u);for(let w=0;w<u;w++)g[w]=s.read(v,y+w*s.byteSize);return g},byteSize:o,length:u,elementByteSize:s.byteSize,lenPrefixByteSize:4,description:`Array<${s.description}>(${u})`}}At.uniformFixedSizeArray=Qr;function oi(s,u){let n=s.length,m=n===0?"<EMPTY>":s[0].description;return{write:function(o,v,y){Qt.strict.equal(y.length,n,`array length ${y.length} should match len ${n}`),Zt.u32.write(o,v,n);let g=v+4;for(let w=0;w<n;w++){let b=s[w];b.write(o,g,y[w]),g+=b.byteSize}},read:function(o,v){let y=Zt.u32.read(o,v);Qt.strict.equal(y,n,"invalid byte size");let g=v+4,w=new Array(n);for(let b=0;b<n;b++){let M=s[b];w[b]=M.read(o,g),g+=M.byteSize}return w},byteSize:4+u,length:n,description:`Array<${m}>(${n})[ 4 + ${u} ]`}}At.fixedSizeArray=oi;function Xr(s){return{toFixedFromData(u,n){let m=Zt.u32.read(u,n);(0,dr.logTrace)(`${this.description}[${m}]`);let o=n+4,v=o,y=new Array(m);for(let g=0;g<m;g++){let w=(0,cr.fixBeetFromData)(s,u,v);y[g]=w,v+=w.byteSize}return oi(y,v-o)},toFixedFromValue(u){(0,Qt.strict)(Array.isArray(u),`${u} should be an array`);let n=0,m=new Array(u.length);for(let o=0;o<u.length;o++){let v=(0,cr.fixBeetFromValue)(s,u[o]);m[o]=v,n+=v.byteSize}return oi(m,n)},description:"array"}}At.array=Xr;function pr(s){return{write:function(u,n,m){m.copy(u,n,0,s)},read:function(u,n){return u.slice(n,n+s)},byteSize:s,description:`Buffer(${s})`}}At.fixedSizeBuffer=pr;function ai(s,u=!1){let n=pr(s),m=u?s+4:s;return{write:function(o,v,y){Qt.strict.equal(y.byteLength,s,`Uint8Array length ${y.byteLength} should match len ${s}`),u&&(Zt.u32.write(o,v,s),v+=4);let g=q.Buffer.from(y);n.write(o,v,g)},read:function(o,v){if(u){let g=Zt.u32.read(o,v);Qt.strict.equal(g,s,"invalid byte size"),v+=4}let y=n.read(o,v);return Uint8Array.from(y)},byteSize:m,description:`Uint8Array(${s})`}}At.fixedSizeUint8Array=ai;At.uint8Array={toFixedFromData(s,u){let n=Zt.u32.read(s,u);return(0,dr.logTrace)(`${this.description}[${n}]`),ai(n,!0)},toFixedFromValue(s){let u=s.byteLength;return ai(u,!0)},description:"Uint8Array"};At.collectionsTypeMap={Array:{beet:"array",isFixable:!0,sourcePack:ae.BEET_PACKAGE,ts:"Array",arg:oe.BEET_TYPE_ARG_LEN},FixedSizeArray:{beet:"fixedSizeArray",isFixable:!1,sourcePack:ae.BEET_PACKAGE,ts:"Array",arg:oe.BEET_TYPE_ARG_LEN},UniformFixedSizeArray:{beet:"uniformFixedSizeArray",isFixable:!1,sourcePack:ae.BEET_PACKAGE,ts:"Array",arg:oe.BEET_TYPE_ARG_LEN},Buffer:{beet:"fixedSizeBuffer",isFixable:!1,sourcePack:ae.BEET_PACKAGE,ts:"Buffer",arg:oe.BEET_TYPE_ARG_LEN},FixedSizeUint8Array:{beet:"fixedSizeUint8Array",isFixable:!1,sourcePack:ae.BEET_PACKAGE,ts:"Uint8Array",arg:oe.BEET_TYPE_ARG_LEN},Uint8Array:{beet:"uint8Array",isFixable:!0,sourcePack:ae.BEET_PACKAGE,ts:"Uint8Array",arg:oe.BEET_TYPE_ARG_LEN}}});var di=R(qt=>{"use strict";E();z();Object.defineProperty(qt,"__esModule",{value:!0});qt.compositesTypeMap=qt.coption=qt.coptionSome=qt.coptionNone=qt.isNoneBuffer=qt.isSomeBuffer=void 0;var ye=Kt(),ui=zt(),mr=zt(),gr=Lt(),vr=se(),yr=0,Mr=1;function li(s,u){return s[u]===Mr}qt.isSomeBuffer=li;function ci(s,u){return s[u]===yr}qt.isNoneBuffer=ci;function fi(s){return(0,gr.logTrace)(`coptionNone(${s})`),{write:function(u,n,m){(0,ye.strict)(m==null,"coptionNone can only handle `null` values"),u[n]=yr},read:function(u,n){return(0,ye.strict)(ci(u,n),"coptionNone can only handle `NONE` data"),null},byteSize:1,description:`COption<None(${s})>`}}qt.coptionNone=fi;function hi(s){let u=1+s.byteSize,n={write:function(m,o,v){(0,ui.assertFixedSizeBeet)(s,`coption inner type ${s.description} needs to be fixed before calling write`),(0,ye.strict)(v!=null,"coptionSome cannot handle `null` values"),m[o]=Mr,s.write(m,o+1,v)},read:function(m,o){return(0,ui.assertFixedSizeBeet)(s,`coption inner type ${s.description} needs to be fixed before calling read`),(0,ye.strict)(li(m,o),"coptionSome can only handle `SOME` data"),s.read(m,o+1)},description:`COption<${s.description}>[1 + ${s.byteSize}]`,byteSize:u,inner:s};return(0,gr.logTrace)(n.description),n}qt.coptionSome=hi;function tn(s){return{toFixedFromData(u,n){if(li(u,n)){let m=(0,vr.fixBeetFromData)(s,u,n+1);return hi(m)}else return(0,ye.strict)(ci(u,n),`Expected ${u} to hold a COption`),fi(s.description)},toFixedFromValue(u){return u==null?fi(s.description):hi((0,vr.fixBeetFromValue)(s,u))},description:`COption<${s.description}>`}}qt.coption=tn;qt.compositesTypeMap={option:{beet:"coption",isFixable:!0,sourcePack:mr.BEET_PACKAGE,ts:"COption<Inner>",arg:ui.BEET_TYPE_ARG_INNER,pack:mr.BEET_PACKAGE}}});var vi=R(Gt=>{"use strict";E();z();Object.defineProperty(Gt,"__esModule",{value:!0});Gt.stringTypeMap=Gt.utf8String=Gt.fixedSizeUtf8String=void 0;var pi=zt(),br=Kt(),mi=Vt(),en=Lt(),rn=s=>({write:function(u,n,m){let o=q.Buffer.from(m,"utf8");br.strict.equal(o.byteLength,s,`${m} has invalid byte size`),mi.u32.write(u,n,s),o.copy(u,n+4,0,s)},read:function(u,n){let m=mi.u32.read(u,n);return br.strict.equal(m,s,"invalid byte size"),u.slice(n+4,n+4+s).toString("utf8")},elementByteSize:1,length:s,lenPrefixByteSize:4,byteSize:4+s,description:`Utf8String(4 + ${s})`});Gt.fixedSizeUtf8String=rn;Gt.utf8String={toFixedFromData(s,u){let n=mi.u32.read(s,u);return(0,en.logTrace)(`${this.description}[${n}]`),(0,Gt.fixedSizeUtf8String)(n)},toFixedFromValue(s){let u=q.Buffer.from(s).byteLength;return(0,Gt.fixedSizeUtf8String)(u)},description:"Utf8String"};Gt.stringTypeMap={fixedSizeString:{beet:"fixedSizeUtf8String",isFixable:!1,sourcePack:pi.BEET_PACKAGE,ts:"string",arg:pi.BEET_TYPE_ARG_LEN},string:{beet:"utf8String",isFixable:!0,sourcePack:pi.BEET_PACKAGE,ts:"string"}}});var Mi=R(ue=>{"use strict";E();z();Object.defineProperty(ue,"__esModule",{value:!0});ue.BeetReader=ue.BeetWriter=void 0;var nn=Kt(),gi=class{constructor(u){this.buf=q.Buffer.alloc(u),this._offset=0}get buffer(){return this.buf}get offset(){return this._offset}maybeResize(u){this._offset+u>this.buf.length&&nn.strict.fail(`We shouldn't ever need to resize, but ${this._offset+u} > ${this.buf.length}`)}write(u,n){this.maybeResize(u.byteSize),u.write(this.buf,this._offset,n),this._offset+=u.byteSize}writeStruct(u,n){for(let[m,o]of n){let v=u[m];this.write(o,v)}}};ue.BeetWriter=gi;var yi=class{constructor(u,n=0){this.buffer=u,this._offset=n}get offset(){return this._offset}read(u){let n=u.read(this.buffer,this._offset);return this._offset+=u.byteSize,n}readStruct(u){let n={};for(let[m,o]of u)n[m]=this.read(o);return n}};ue.BeetReader=yi});var Ce=R(Yt=>{"use strict";E();z();Object.defineProperty(Yt,"__esModule",{value:!0});Yt.BeetArgsStruct=Yt.isBeetStruct=Yt.BeetStruct=void 0;var wr=Mi(),It=Lt(),Ot=class{constructor(u,n,m=Ot.description){if(this.fields=u,this.construct=n,this.description=m,this.byteSize=this.getByteSize(),It.logDebug.enabled){let o=u.map(([v,y])=>`${String(v)}: ${y.description} ${(0,It.beetBytes)(y)}`).join(`
  `);(0,It.logDebug)(`struct ${m} {
  ${o}
} ${(0,It.beetBytes)(this)}`)}}read(u,n){let[m]=this.deserialize(u,n);return m}write(u,n,m){let[o,v]=this.serialize(m);o.copy(u,n,0,v)}deserialize(u,n=0){It.logTrace.enabled&&((0,It.logTrace)("deserializing [%s] from %d bytes buffer",this.description,u.byteLength),(0,It.logTrace)(u),(0,It.logTrace)(u.toJSON().data));let m=new wr.BeetReader(u,n),o=m.readStruct(this.fields);return[this.construct(o),m.offset]}serialize(u,n=this.byteSize){(0,It.logTrace)("serializing [%s] %o to %d bytes buffer",this.description,u,n);let m=new wr.BeetWriter(n);return m.writeStruct(u,this.fields),[m.buffer,m.offset]}getByteSize(){return this.fields.reduce((u,[n,m])=>u+m.byteSize,0)}get type(){return Ot.TYPE}};Yt.BeetStruct=Ot;Ot.description="BeetStruct";Ot.TYPE="BeetStruct";function sn(s){return s.type===Ot.TYPE}Yt.isBeetStruct=sn;var fe=class extends Ot{constructor(u,n=fe.description){super(u,m=>m,n)}};Yt.BeetArgsStruct=fe;fe.description="BeetArgsStruct"});var wi=R(Rt=>{"use strict";E();z();var on=Rt&&Rt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.FixableBeetArgsStruct=Rt.isFixableBeetStruct=Rt.FixableBeetStruct=void 0;var xr=se(),Te=Ce(),an=zt(),un=Kt(),bi=Lt(),fn=on(ni()),{brightBlack:hn}=fn.default,$t=class{constructor(u,n,m=$t.description){this.fields=u,this.construct=n,this.description=m;let o=0;if(bi.logDebug.enabled){let v=u.map(([g,w])=>((0,an.isFixedSizeBeet)(w)&&(o+=w.byteSize),`${g}: ${w.description} ${(0,bi.beetBytes)(w)}`)).join(`
  `),y=`> ${o} B`;(0,bi.logDebug)(`struct ${m} {
  ${v}
} ${hn(y)}`)}}deserialize(u,n=0){return this.toFixedFromData(u,n).deserialize(u,n)}serialize(u,n){return this.toFixedFromValue(u).serialize(u,n)}toFixedFromData(u,n){let m=n,o=new Array(this.fields.length);for(let v=0;v<this.fields.length;v++){let[y,g]=this.fields[v],w=(0,xr.fixBeetFromData)(g,u,m);o[v]=[y,w],m+=w.byteSize}return this.description!==$t.description?new Te.BeetStruct(o,this.construct,this.description):new Te.BeetStruct(o,this.construct)}toFixedFromValue(u){let n=Object.keys(u),m=new Array(this.fields.length);for(let o=0;o<this.fields.length;o++){let[v,y]=this.fields[o];(0,un.strict)(n.includes(v),`Value with keys [ ${n} ] should include struct key '${v}' but doesn't.`);let g=u[v],w=(0,xr.fixBeetFromValue)(y,g);m[o]=[v,w]}return this.description!==$t.description?new Te.BeetStruct(m,this.construct,this.description):new Te.BeetStruct(m,this.construct)}get type(){return $t.TYPE}};Rt.FixableBeetStruct=$t;$t.description="FixableBeetStruct";$t.TYPE="FixableBeetStruct";function ln(s){return s.type===$t.TYPE}Rt.isFixableBeetStruct=ln;var he=class extends $t{constructor(u,n=he.description){super(u,m=>m,n)}};Rt.FixableBeetArgsStruct=he;he.description="FixableBeetArgsStruct"});var qe=R(le=>{"use strict";E();z();Object.defineProperty(le,"__esModule",{value:!0});le.unitTypeMap=le.unit=void 0;var cn=zt();le.unit={write:function(s,u,n){},read:function(s,u){},byteSize:0,description:"unit"};le.unitTypeMap={unit:{beet:"unit",isFixable:!1,sourcePack:cn.BEET_PACKAGE,ts:"void"}}});var xi=R(Dt=>{"use strict";E();z();Object.defineProperty(Dt,"__esModule",{value:!0});Dt.enumsTypeMap=Dt.dataEnum=Dt.uniformDataEnum=Dt.fixedScalarEnum=void 0;var jt=zt(),Nt=Vt(),ce=Kt(),dn=Ce(),pn=wi(),mn=qe();function _r(s,u){return u?`${s}`:s}function vn(s){let u=Object.keys(s);return{write(n,m,o){let v=typeof o=="number",y=_r(o,v);if(u.includes(y)||ce.fail(`${o} should be a variant of the provided enum type, i.e. [ ${Object.values(s).join(", ")} ], but isn't`),v)Nt.u8.write(n,m,o);else{let g=s[y];Nt.u8.write(n,m,g)}},read(n,m){let o=Nt.u8.read(n,m),v=typeof o=="number",y=_r(o,v);return u.includes(y)||ce.fail(`${o} should be a of a variant of the provided enum type, i.e. [ ${Object.values(s).join(", ")} ], but isn't`),v?o:s[y]},byteSize:Nt.u8.byteSize,description:"Enum"}}Dt.fixedScalarEnum=vn;function gn(s){return{write:function(u,n,m){Nt.u8.write(u,n,m.kind),s.write(u,n+1,m.data)},read:function(u,n){let m=Nt.u8.read(u,n),o=s.read(u,n+1);return{kind:m,data:o}},byteSize:1+s.byteSize,description:`UniformDataEnum<${s.description}>`}}Dt.uniformDataEnum=gn;function Sr(s,u,n){return{write(m,o,v){Nt.u8.write(m,o,u),s.write(m,o+Nt.u8.byteSize,v)},read(m,o){let v=s.read(m,o+Nt.u8.byteSize);return{__kind:n,...v}},byteSize:s.byteSize+Nt.u8.byteSize,description:`EnumData<${s.description}>`}}function yn(s){for(let[u,n]of s)ce((0,dn.isBeetStruct)(n)||(0,pn.isFixableBeetStruct)(n)||n===mn.unit,"dataEnum: variants must be a data beet struct or a scalar unit");return{toFixedFromData(u,n){let m=Nt.u8.read(u,n),o=s[m];ce(o!=null,`Discriminant ${m} out of range for ${s.length} variants`);let[v,y]=o,g=(0,jt.isFixedSizeBeet)(y)?y:y.toFixedFromData(u,n+1);return Sr(g,m,v)},toFixedFromValue(u){if(u.__kind==null){let b=Object.keys(u).join(", "),M=s.map(([_])=>_).join(", ");ce.fail(`Value with fields [ ${b} ] is missing __kind, which needs to be set to one of [ ${M} ]`)}let n=s.findIndex(([b])=>b===u.__kind);if(n<0){let b=s.map(([M])=>M).join(", ");ce.fail(`${u.__kind} is not a valid kind, needs to be one of [ ${b} ]`)}let m=s[n],{__kind:o,...v}=u,[y,g]=m,w=(0,jt.isFixedSizeBeet)(g)?g:g.toFixedFromValue(v);return Sr(w,n,y)},description:`DataEnum<${s.length} variants>`}}Dt.dataEnum=yn;Dt.enumsTypeMap={fixedScalarEnum:{beet:"fixedScalarEnum",isFixable:!1,sourcePack:jt.BEET_PACKAGE,ts:"<TypeName>",arg:jt.BEET_TYPE_ARG_INNER,pack:jt.BEET_PACKAGE},dataEnum:{beet:"dataEnum",isFixable:!1,sourcePack:jt.BEET_PACKAGE,ts:"DataEnum<Kind, Inner>",arg:jt.BEET_TYPE_ARG_INNER,pack:jt.BEET_PACKAGE}}});var _i=R(de=>{"use strict";E();z();Object.defineProperty(de,"__esModule",{value:!0});de.aliasesTypeMap=de.bytes=void 0;var Br=Ae();de.bytes=Br.uint8Array;de.aliasesTypeMap={bytes:Br.collectionsTypeMap.Uint8Array}});var Fi=R(Wt=>{"use strict";E();z();Object.defineProperty(Wt,"__esModule",{value:!0});Wt.tuplesTypeMap=Wt.tuple=Wt.fixedSizeTuple=void 0;var Fr=zt(),Si=Kt(),Er=se();function Bi(s){let u=s.length,n=s.map(v=>v.description),m=s.map(v=>v.byteSize),o=m.reduce((v,y)=>v+y,0);return{write:function(v,y,g){Si.strict.equal(g.length,u,`tuple value element size ${g.length} should match len ${u}`);let w=y;for(let b=0;b<u;b++){let M=g[b],_=s[b];_.write(v,w,M),w+=_.byteSize}},read:function(v,y){let g=[],w=y;for(let b=0;b<u;b++){let M=s[b];g[b]=M.read(v,w),w+=M.byteSize}return g},byteSize:o,length:u,description:`FixedSizeTuple<${n.join(",")}>[ ${m.join(", ")} ]`}}Wt.fixedSizeTuple=Bi;function Mn(s){let u=s.length,n=s.map(m=>m.description);return{toFixedFromData(m,o){let v=o,y=new Array(u);for(let g=0;g<u;g++){let w=(0,Er.fixBeetFromData)(s[g],m,v);y[g]=w,v+=w.byteSize}return Bi(y)},toFixedFromValue(m){(0,Si.strict)(Array.isArray(m),`${m} should be an array of tuple values`),Si.strict.equal(m.length,u,`There should be ${u} tuple values, but there are ${m.length}`);let o=new Array(u);for(let v=0;v<m.length;v++){let y=(0,Er.fixBeetFromValue)(s[v],m[v]);o[v]=y}return Bi(o)},description:`Tuple<${n.join(",")}>`}}Wt.tuple=Mn;Wt.tuplesTypeMap={Tuple:{beet:"tuple",isFixable:!0,sourcePack:Fr.BEET_PACKAGE,ts:"[__tuple_elements__]"},FixedSizeTuple:{beet:"fixedSizeTuple",isFixable:!1,sourcePack:Fr.BEET_PACKAGE,ts:"[__tuple_elements__]"}}});var Ai=R(pe=>{"use strict";E();z();Object.defineProperty(pe,"__esModule",{value:!0});pe.mapsTypeMap=pe.map=void 0;var Me=zt(),zi=Vt(),bn=Lt(),Ei=Kt();function Pe(s,u,n,m){let o=(0,Me.isFixedSizeBeet)(s),v=(0,Me.isFixedSizeBeet)(u);function y(){if(o&&v){let b=s.byteSize+u.byteSize;return{elementByteSize:b,byteSize:4+m*b}}else if(o){let b=0;for(let[_,F]of n.values())b+=F.byteSize;return{elementByteSize:s.byteSize+Math.ceil(b/m),byteSize:4+s.byteSize*m+b}}else if(v){let b=0;for(let[_,F]of n.values())b+=_.byteSize;return{elementByteSize:Math.ceil(b/m)+u.byteSize,byteSize:4+b+u.byteSize*m}}else{let b=0,M=0;for(let[F,P]of n.values())b+=F.byteSize,M+=P.byteSize;return{elementByteSize:Math.ceil(b/m+M/m),byteSize:4+b+M}}}let{elementByteSize:g,byteSize:w}=y();return{write:function(b,M,_){let F=M+4,P=0;for(let[Bt,St]of _.entries()){let N=o?s:null,D=v?u:null;if(N==null||D==null){let Pt=n.get(Bt);(0,Ei.strict)(Pt!=null,`Should be able to find beet els for ${(0,bn.stringify)(Bt)}, but could not`),N!=null||(N=Pt[0]),D!=null||(D=Pt[1])}N.write(b,F,Bt),F+=N.byteSize,D.write(b,F,St),F+=D.byteSize,P++}zi.u32.write(b,M,P),Ei.strict.equal(P,m,`Expected map to have size ${m}, but has ${P}.`)},read:function(b,M){let _=zi.u32.read(b,M);Ei.strict.equal(_,m,`Expected map to have size ${m}, but has ${_}.`);let F=M+4,P=new Map;for(let Bt=0;Bt<_;Bt++){let St=o?s:s.toFixedFromData(b,F),N=St.read(b,F);F+=St.byteSize;let D=v?u:u.toFixedFromData(b,F),Pt=D.read(b,F);F+=D.byteSize,P.set(N,Pt)}return P},elementByteSize:g,byteSize:w,length:m,lenPrefixByteSize:4,description:`Map<${s.description}, ${u.description}>`}}function wn(s,u){let n=(0,Me.isFixedSizeBeet)(s),m=(0,Me.isFixedSizeBeet)(u);return{toFixedFromData(o,v){let y=zi.u32.read(o,v),g=v+4;if(n&&m)return Pe(s,u,new Map,y);let w=new Map;for(let b=0;b<y;b++){let M=n?s:s.toFixedFromData(o,g),_=M.read(o,g);g+=M.byteSize;let F=m?u:u.toFixedFromData(o,g);g+=F.byteSize,w.set(_,[M,F])}return Pe(s,u,w,y)},toFixedFromValue(o){let v=o.size;if(n&&m)return Pe(s,u,new Map,v);let y=new Map;for(let[g,w]of o){let b=n?s:s.toFixedFromValue(g),M=m?u:u.toFixedFromValue(w);y.set(g,[b,M])}return Pe(s,u,y,v)},description:`FixableMap<${s.description}, ${u.description}>`}}pe.map=wn;pe.mapsTypeMap={Map:{beet:"map",isFixable:!0,sourcePack:Me.BEET_PACKAGE,ts:"Map"}}});var Pi=R(me=>{"use strict";E();z();Object.defineProperty(me,"__esModule",{value:!0});me.setsTypeMap=me.set=void 0;var qi=zt(),Ti=Vt(),xn=Lt(),Ci=Kt();function ke(s,u,n){let m=(0,qi.isFixedSizeBeet)(s);function o(){if(m){let g=s.byteSize;return{elementByteSize:g,byteSize:4+n*g}}else{let g=0;for(let b of u.values())g+=b.byteSize;return{elementByteSize:Math.ceil(g/n),byteSize:4+g}}}let{elementByteSize:v,byteSize:y}=o();return{write:function(g,w,b){let M=w+4,_=0;for(let F of b.keys()){let P=m?s:null;if(P==null){let Bt=u.get(F);(0,Ci.strict)(Bt!=null,`Should be able to find beet el for ${(0,xn.stringify)(F)}, but could not`),P!=null||(P=Bt)}P.write(g,M,F),M+=P.byteSize,_++}Ti.u32.write(g,w,_),Ci.strict.equal(_,n,`Expected set to have size ${n}, but has ${_}.`)},read:function(g,w){let b=Ti.u32.read(g,w);Ci.strict.equal(b,n,`Expected set to have size ${n}, but has ${b}.`);let M=w+4,_=new Set;for(let F=0;F<b;F++){let P=m?s:s.toFixedFromData(g,M),Bt=P.read(g,M);M+=P.byteSize,_.add(Bt)}return _},elementByteSize:v,byteSize:y,length:n,lenPrefixByteSize:4,description:`Set<${s.description}>`}}function _n(s){let u=(0,qi.isFixedSizeBeet)(s);return{toFixedFromData(n,m){let o=Ti.u32.read(n,m),v=m+4;if(u)return ke(s,new Map,o);let y=new Map;for(let g=0;g<o;g++){let w=u?s:s.toFixedFromData(n,v),b=w.read(n,v);v+=w.byteSize,y.set(b,w)}return ke(s,y,o)},toFixedFromValue(n){let m=n.size;if(u)return ke(s,new Map,m);let o=new Map;for(let v of n){let y=u?s:s.toFixedFromValue(v);o.set(v,y)}return ke(s,o,m)},description:`FixableSet<${s.description}>`}}me.set=_n;me.setsTypeMap={Set:{beet:"set",isFixable:!0,sourcePack:qi.BEET_PACKAGE,ts:"Set"}}});var $n=R(O=>{"use strict";E();z();var Sn=O&&O.__createBinding||(Object.create?function(s,u,n,m){m===void 0&&(m=n);var o=Object.getOwnPropertyDescriptor(u,n);(!o||("get"in o?!u.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return u[n]}}),Object.defineProperty(s,m,o)}:function(s,u,n,m){m===void 0&&(m=n),s[m]=u[n]}),Tt=O&&O.__exportStar||function(s,u){for(var n in s)n!=="default"&&!Object.prototype.hasOwnProperty.call(u,n)&&Sn(u,s,n)};Object.defineProperty(O,"__esModule",{value:!0});O.supportedTypeMap=void 0;var Bn=Ae(),Fn=di(),En=Vt(),zn=vi(),An=xi(),Cn=_i(),Tn=Fi(),qn=Ai(),Pn=qe(),kn=Pi();Tt(_i(),O);Tt(Ae(),O);Tt(di(),O);Tt(xi(),O);Tt(Ai(),O);Tt(Vt(),O);Tt(Pi(),O);Tt(vi(),O);Tt(Fi(),O);Tt(qe(),O);Tt(se(),O);Tt(Mi(),O);Tt(Ce(),O);Tt(wi(),O);Tt(zt(),O);O.supportedTypeMap={...Bn.collectionsTypeMap,...zn.stringTypeMap,...Fn.compositesTypeMap,...An.enumsTypeMap,...En.numbersTypeMap,...Cn.aliasesTypeMap,...Tn.tuplesTypeMap,...qn.mapsTypeMap,...kn.setsTypeMap,...Pn.unitTypeMap}});export{$n as a};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-AF33U5YO.js.map
