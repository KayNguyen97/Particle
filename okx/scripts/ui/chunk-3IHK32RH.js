import{b as E,d as J,e as xe,f as Q,h as nt,i as at,j as Le,k as Ne}from"./chunk-VPBQLZCI.js";import{d as Ue,e as tt}from"./chunk-CVJKAN5R.js";import{a as T}from"./chunk-V4YVDLI4.js";import{c as b,f as O,m as d,o as v}from"./chunk-6V2G2Z5W.js";var D=b((Un,V)=>{d();v();function ut(o){return o&&o.__esModule?o:{default:o}}V.exports=ut,V.exports.__esModule=!0,V.exports.default=V.exports});var F=b((Nn,K)=>{d();v();var Ge,ze,Ie,$e,Je,Qe,Xe,Ye,Ze,Ke,ke,er,rr,Y,he,tr,nr,ar,A,ur,ir,or,sr,fr,cr,lr,dr,vr,Z,pr,_r;(function(o){var n=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(c){o(f(n,f(c)))}):typeof K=="object"&&typeof K.exports=="object"?o(f(n,f(K.exports))):o(f(n));function f(c,e){return c!==n&&(typeof Object.create=="function"?Object.defineProperty(c,"__esModule",{value:!0}):c.__esModule=!0),function(r,t){return c[r]=e?e(r,t):t}}})(function(o){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])};Ge=function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");n(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)},ze=Object.assign||function(e){for(var r,t=1,a=arguments.length;t<a;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ie=function(e,r){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)r.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(t[a[i]]=e[a[i]]);return t},$e=function(e,r,t,a){var i=arguments.length,u=i<3?r:a===null?a=Object.getOwnPropertyDescriptor(r,t):a,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(e,r,t,a);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(u=(i<3?s(u):i>3?s(r,t,u):s(r,t))||u);return i>3&&u&&Object.defineProperty(r,t,u),u},Je=function(e,r){return function(t,a){r(t,a,e)}},Qe=function(e,r,t,a,i,u){function s(W){if(W!==void 0&&typeof W!="function")throw new TypeError("Function expected");return W}for(var l=a.kind,_=l==="getter"?"get":l==="setter"?"set":"value",p=!r&&e?a.static?e:e.prototype:null,h=r||(p?Object.getOwnPropertyDescriptor(p,a.name):{}),g,m=!1,P=t.length-1;P>=0;P--){var R={};for(var j in a)R[j]=j==="access"?{}:a[j];for(var j in a.access)R.access[j]=a.access[j];R.addInitializer=function(W){if(m)throw new TypeError("Cannot add initializers after decoration has completed");u.push(s(W||null))};var C=(0,t[P])(l==="accessor"?{get:h.get,set:h.set}:h[_],R);if(l==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(g=s(C.get))&&(h.get=g),(g=s(C.set))&&(h.set=g),(g=s(C.init))&&i.unshift(g)}else(g=s(C))&&(l==="field"?i.unshift(g):h[_]=g)}p&&Object.defineProperty(p,a.name,h),m=!0},Xe=function(e,r,t){for(var a=arguments.length>2,i=0;i<r.length;i++)t=a?r[i].call(e,t):r[i].call(e);return a?t:void 0},Ye=function(e){return typeof e=="symbol"?e:"".concat(e)},Ze=function(e,r,t){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:t?"".concat(t," ",r):r})},Ke=function(e,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,r)},ke=function(e,r,t,a){function i(u){return u instanceof t?u:new t(function(s){s(u)})}return new(t||(t=Promise))(function(u,s){function l(h){try{p(a.next(h))}catch(g){s(g)}}function _(h){try{p(a.throw(h))}catch(g){s(g)}}function p(h){h.done?u(h.value):i(h.value).then(l,_)}p((a=a.apply(e,r||[])).next())})},er=function(e,r){var t={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},a,i,u,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(p){return function(h){return _([p,h])}}function _(p){if(a)throw new TypeError("Generator is already executing.");for(;s&&(s=0,p[0]&&(t=0)),t;)try{if(a=1,i&&(u=p[0]&2?i.return:p[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,p[1])).done)return u;switch(i=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,i=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(u=t.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){t.label=p[1];break}if(p[0]===6&&t.label<u[1]){t.label=u[1],u=p;break}if(u&&t.label<u[2]){t.label=u[2],t.ops.push(p);break}u[2]&&t.ops.pop(),t.trys.pop();continue}p=r.call(e,t)}catch(h){p=[6,h],i=0}finally{a=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},rr=function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&Z(r,e,t)},Z=Object.create?function(e,r,t,a){a===void 0&&(a=t);var i=Object.getOwnPropertyDescriptor(r,t);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,a,i)}:function(e,r,t,a){a===void 0&&(a=t),e[a]=r[t]},Y=function(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],a=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},he=function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),i,u=[],s;try{for(;(r===void 0||r-- >0)&&!(i=a.next()).done;)u.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(s)throw s.error}}return u},tr=function(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(he(arguments[r]));return e},nr=function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var a=Array(e),i=0,r=0;r<t;r++)for(var u=arguments[r],s=0,l=u.length;s<l;s++,i++)a[i]=u[s];return a},ar=function(e,r,t){if(t||arguments.length===2)for(var a=0,i=r.length,u;a<i;a++)(u||!(a in r))&&(u||(u=Array.prototype.slice.call(r,0,a)),u[a]=r[a]);return e.concat(u||Array.prototype.slice.call(r))},A=function(e){return this instanceof A?(this.v=e,this):new A(e)},ur=function(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=t.apply(e,r||[]),i,u=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){a[m]&&(i[m]=function(P){return new Promise(function(R,j){u.push([m,P,R,j])>1||l(m,P)})})}function l(m,P){try{_(a[m](P))}catch(R){g(u[0][3],R)}}function _(m){m.value instanceof A?Promise.resolve(m.value.v).then(p,h):g(u[0][2],m)}function p(m){l("next",m)}function h(m){l("throw",m)}function g(m,P){m(P),u.shift(),u.length&&l(u[0][0],u[0][1])}},ir=function(e){var r,t;return r={},a("next"),a("throw",function(i){throw i}),a("return"),r[Symbol.iterator]=function(){return this},r;function a(i,u){r[i]=e[i]?function(s){return(t=!t)?{value:A(e[i](s)),done:!1}:u?u(s):s}:u}},or=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],t;return r?r.call(e):(e=typeof Y=="function"?Y(e):e[Symbol.iterator](),t={},a("next"),a("throw"),a("return"),t[Symbol.asyncIterator]=function(){return this},t);function a(u){t[u]=e[u]&&function(s){return new Promise(function(l,_){s=e[u](s),i(l,_,s.done,s.value)})}}function i(u,s,l,_){Promise.resolve(_).then(function(p){u({value:p,done:l})},s)}},sr=function(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e};var f=Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r};fr=function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&Z(r,e,t);return f(r,e),r},cr=function(e){return e&&e.__esModule?e:{default:e}},lr=function(e,r,t,a){if(t==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!a:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?a:t==="a"?a.call(e):a?a.value:r.get(e)},dr=function(e,r,t,a,i){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!i:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?i.call(e,t):i?i.value=t:r.set(e,t),t},vr=function(e,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?r===e:e.has(r)},pr=function(e,r,t){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var a;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=r[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=r[Symbol.dispose]}if(typeof a!="function")throw new TypeError("Object not disposable.");e.stack.push({value:r,dispose:a,async:t})}else t&&e.stack.push({async:!0});return r};var c=typeof SuppressedError=="function"?SuppressedError:function(e,r,t){var a=new Error(t);return a.name="SuppressedError",a.error=e,a.suppressed=r,a};_r=function(e){function r(a){e.error=e.hasError?new c(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}function t(){for(;e.stack.length;){var a=e.stack.pop();try{var i=a.dispose&&a.dispose.call(a.value);if(a.async)return Promise.resolve(i).then(t,function(u){return r(u),t()})}catch(u){r(u)}}if(e.hasError)throw e.error}return t()},o("__extends",Ge),o("__assign",ze),o("__rest",Ie),o("__decorate",$e),o("__param",Je),o("__esDecorate",Qe),o("__runInitializers",Xe),o("__propKey",Ye),o("__setFunctionName",Ze),o("__metadata",Ke),o("__awaiter",ke),o("__generator",er),o("__exportStar",rr),o("__createBinding",Z),o("__values",Y),o("__read",he),o("__spread",tr),o("__spreadArrays",nr),o("__spreadArray",ar),o("__await",A),o("__asyncGenerator",ur),o("__asyncDelegator",ir),o("__asyncValues",or),o("__makeTemplateObject",sr),o("__importStar",fr),o("__importDefault",cr),o("__classPrivateFieldGet",lr),o("__classPrivateFieldSet",dr),o("__classPrivateFieldIn",vr),o("__addDisposableResource",pr),o("__disposeResources",_r)})});var yr=b(B=>{"use strict";d();v();Object.defineProperty(B,"__esModule",{value:!0});B.default=B.createUpdateEffect=void 0;var it=T(),mr=function(n){return function(f,c){var e=(0,it.useRef)(!1);n(function(){return function(){e.current=!1}},[]),n(function(){if(!e.current)e.current=!0;else return f()},c)}};B.createUpdateEffect=mr;var ot=mr;B.default=ot});var be=b(k=>{"use strict";d();v();Object.defineProperty(k,"__esModule",{value:!0});k.default=void 0;var st=T(),ft=yr(),ct=(0,ft.createUpdateEffect)(st.useEffect);k.default=ct});var gr=b(re=>{"use strict";d();v();var lt=D();Object.defineProperty(re,"__esModule",{value:!0});re.default=void 0;var ee=F(),dt=T(),hr=lt(be()),br=function(n,f){var c=f.manual,e=f.ready,r=e===void 0?!0:e,t=f.defaultParams,a=t===void 0?[]:t,i=f.refreshDeps,u=i===void 0?[]:i,s=f.refreshDepsAction,l=(0,dt.useRef)(!1);return l.current=!1,(0,hr.default)(function(){!c&&r&&(l.current=!0,n.run.apply(n,(0,ee.__spreadArray)([],(0,ee.__read)(a),!1)))},[r]),(0,hr.default)(function(){l.current||c||(l.current=!0,s?s():n.refresh())},(0,ee.__spreadArray)([],(0,ee.__read)(u),!1)),{onBefore:function(){if(!r)return{stopNow:!0}}}};br.onInit=function(o){var n=o.ready,f=n===void 0?!0:n,c=o.manual;return{loading:!c&&f}};var vt=br;re.default=vt});var wr=b(te=>{"use strict";d();v();var pt=D();Object.defineProperty(te,"__esModule",{value:!0});te.default=void 0;var Pr=F(),_t=pt(nt()),ge=T(),mt=function(n,f){var c=f.debounceWait,e=f.debounceLeading,r=f.debounceTrailing,t=f.debounceMaxWait,a=(0,ge.useRef)(),i=(0,ge.useMemo)(function(){var u={};return e!==void 0&&(u.leading=e),r!==void 0&&(u.trailing=r),t!==void 0&&(u.maxWait=t),u},[e,r,t]);return(0,ge.useEffect)(function(){if(c){var u=n.runAsync.bind(n);return a.current=(0,_t.default)(function(s){s()},c,i),n.runAsync=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return new Promise(function(_,p){var h;(h=a.current)===null||h===void 0||h.call(a,function(){u.apply(void 0,(0,Pr.__spreadArray)([],(0,Pr.__read)(s),!1)).then(_).catch(p)})})},function(){var s;(s=a.current)===null||s===void 0||s.cancel(),n.runAsync=u}}},[c,i]),c?{onCancel:function(){var s;(s=a.current)===null||s===void 0||s.cancel()}}:{}},yt=mt;te.default=yt});var Or=b(ne=>{"use strict";d();v();Object.defineProperty(ne,"__esModule",{value:!0});ne.default=void 0;var ht=T(),bt=function(n,f){var c=f.loadingDelay,e=f.ready,r=(0,ht.useRef)();if(!c)return{};var t=function(){r.current&&clearTimeout(r.current)};return{onBefore:function(){return t(),e!==!1&&(r.current=setTimeout(function(){n.setState({loading:!0})},c)),{loading:!1}},onFinally:function(){t()},onCancel:function(){t()}}},gt=bt;ne.default=gt});var G=b(ae=>{"use strict";d();v();Object.defineProperty(ae,"__esModule",{value:!0});ae.default=void 0;var Pt=!!(typeof window<"u"&&window.document&&window.document.createElement),wt=Pt;ae.default=wt});var ue=b(Pe=>{"use strict";d();v();var Ot=D();Object.defineProperty(Pe,"__esModule",{value:!0});Pe.default=Dt;var Tt=Ot(G());function Dt(){return Tt.default?document.visibilityState!=="hidden":!0}});var Sr=b(ie=>{"use strict";d();v();var Dr=D();Object.defineProperty(ie,"__esModule",{value:!0});ie.default=void 0;var St=Dr(G()),Rt=Dr(ue()),z=[];function jt(o){return z.push(o),function(){var f=z.indexOf(o);z.splice(f,1)}}St.default&&(Tr=function(){if(!!(0,Rt.default)())for(var n=0;n<z.length;n++){var f=z[n];f()}},window.addEventListener("visibilitychange",Tr,!1));var Tr,qt=jt;ie.default=qt});var Rr=b(oe=>{"use strict";d();v();var Oe=D();Object.defineProperty(oe,"__esModule",{value:!0});oe.default=void 0;var we=T(),Ct=Oe(be()),Et=Oe(ue()),Mt=Oe(Sr()),At=function(n,f){var c=f.pollingInterval,e=f.pollingWhenHidden,r=e===void 0?!0:e,t=f.pollingErrorRetryCount,a=t===void 0?-1:t,i=(0,we.useRef)(),u=(0,we.useRef)(),s=(0,we.useRef)(0),l=function(){var p;i.current&&clearTimeout(i.current),(p=u.current)===null||p===void 0||p.call(u)};return(0,Ct.default)(function(){c||l()},[c]),c?{onBefore:function(){l()},onError:function(){s.current+=1},onSuccess:function(){s.current=0},onFinally:function(){a===-1||a!==-1&&s.current<=a?i.current=setTimeout(function(){!r&&!(0,Et.default)()?u.current=(0,Mt.default)(function(){n.refresh()}):n.refresh()},c):s.current=0},onCancel:function(){l()}}:{}},Ft=At;oe.default=Ft});var De=b((_a,S)=>{d();v();function Te(o){return S.exports=Te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},S.exports.__esModule=!0,S.exports.default=S.exports,Te(o)}S.exports=Te,S.exports.__esModule=!0,S.exports.default=S.exports});var jr=b(se=>{"use strict";d();v();Object.defineProperty(se,"__esModule",{value:!0});se.default=void 0;var Bt=T();function Ut(o){var n=(0,Bt.useRef)(o);return n.current=o,n}var xt=Ut;se.default=xt});var Se=b(w=>{"use strict";d();v();var Lt=D();Object.defineProperty(w,"__esModule",{value:!0});w.isUndef=w.isString=w.isObject=w.isNumber=w.isFunction=w.isBoolean=void 0;var Nt=Lt(De()),Wt=function(n){return n!==null&&(0,Nt.default)(n)==="object"};w.isObject=Wt;var Ht=function(n){return typeof n=="function"};w.isFunction=Ht;var Vt=function(n){return typeof n=="string"};w.isString=Vt;var Gt=function(n){return typeof n=="boolean"};w.isBoolean=Gt;var zt=function(n){return typeof n=="number"};w.isNumber=zt;var It=function(n){return typeof n>"u"};w.isUndef=It});var Re=b(fe=>{"use strict";d();v();Object.defineProperty(fe,"__esModule",{value:!0});fe.default=void 0;var $t=!1,Jt=$t;fe.default=Jt});var qr=b(ce=>{"use strict";d();v();var je=D();Object.defineProperty(ce,"__esModule",{value:!0});ce.default=void 0;var Qt=je(De()),Xt=T(),Yt=je(jr()),Zt=Se(),Kt=je(Re()),kt=function(n){Kt.default&&((0,Zt.isFunction)(n)||console.error("useUnmount expected parameter is a function, got ".concat((0,Qt.default)(n))));var f=(0,Yt.default)(n);(0,Xt.useEffect)(function(){return function(){f.current()}},[])},en=kt;ce.default=en});var Er=b(qe=>{"use strict";d();v();Object.defineProperty(qe,"__esModule",{value:!0});qe.default=rn;var Cr=F();function rn(o,n){var f=!1;return function(){for(var c=[],e=0;e<arguments.length;e++)c[e]=arguments[e];f||(f=!0,o.apply(void 0,(0,Cr.__spreadArray)([],(0,Cr.__read)(c),!1)),setTimeout(function(){f=!1},n))}}});var Mr=b(Ce=>{"use strict";d();v();var tn=D();Object.defineProperty(Ce,"__esModule",{value:!0});Ce.default=an;var nn=tn(G());function an(){return nn.default&&typeof navigator.onLine<"u"?navigator.onLine:!0}});var Ar=b(le=>{"use strict";d();v();var Me=D();Object.defineProperty(le,"__esModule",{value:!0});le.default=void 0;var un=Me(G()),on=Me(ue()),sn=Me(Mr()),I=[];function fn(o){return I.push(o),function(){var f=I.indexOf(o);f>-1&&I.splice(f,1)}}un.default&&(Ee=function(){if(!(!(0,on.default)()||!(0,sn.default)()))for(var n=0;n<I.length;n++){var f=I[n];f()}},window.addEventListener("visibilitychange",Ee,!1),window.addEventListener("focus",Ee,!1));var Ee,cn=fn;le.default=cn});var Br=b(de=>{"use strict";d();v();var Ae=D();Object.defineProperty(de,"__esModule",{value:!0});de.default=void 0;var Fr=T(),ln=Ae(qr()),dn=Ae(Er()),vn=Ae(Ar()),pn=function(n,f){var c=f.refreshOnWindowFocus,e=f.focusTimespan,r=e===void 0?5e3:e,t=(0,Fr.useRef)(),a=function(){var u;(u=t.current)===null||u===void 0||u.call(t)};return(0,Fr.useEffect)(function(){if(c){var i=(0,dn.default)(n.refresh.bind(n),r);t.current=(0,vn.default)(function(){i()})}return function(){a()}},[c,r]),(0,ln.default)(function(){a()}),{}},_n=pn;de.default=_n});var Ur=b(ve=>{"use strict";d();v();Object.defineProperty(ve,"__esModule",{value:!0});ve.default=void 0;var Fe=T(),mn=function(n,f){var c=f.retryInterval,e=f.retryCount,r=(0,Fe.useRef)(),t=(0,Fe.useRef)(0),a=(0,Fe.useRef)(!1);return e?{onBefore:function(){a.current||(t.current=0),a.current=!1,r.current&&clearTimeout(r.current)},onSuccess:function(){t.current=0},onError:function(){if(t.current+=1,e===-1||t.current<=e){var u=c!=null?c:Math.min(1e3*Math.pow(2,t.current),3e4);r.current=setTimeout(function(){a.current=!0,n.refresh()},u)}else t.current=0},onCancel:function(){t.current=0,r.current&&clearTimeout(r.current)}}:{}},yn=mn;ve.default=yn});var Nr=b(pe=>{"use strict";d();v();var hn=D();Object.defineProperty(pe,"__esModule",{value:!0});pe.default=void 0;var xr=F(),bn=hn(at()),Lr=T(),gn=function(n,f){var c=f.throttleWait,e=f.throttleLeading,r=f.throttleTrailing,t=(0,Lr.useRef)(),a={};return e!==void 0&&(a.leading=e),r!==void 0&&(a.trailing=r),(0,Lr.useEffect)(function(){if(c){var i=n.runAsync.bind(n);return t.current=(0,bn.default)(function(u){u()},c,a),n.runAsync=function(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];return new Promise(function(l,_){var p;(p=t.current)===null||p===void 0||p.call(t,function(){i.apply(void 0,(0,xr.__spreadArray)([],(0,xr.__read)(u),!1)).then(l).catch(_)})})},function(){var u;n.runAsync=i,(u=t.current)===null||u===void 0||u.cancel()}}},[c,e,r]),c?{onCancel:function(){var u;(u=t.current)===null||u===void 0||u.cancel()}}:{}},Pn=gn;pe.default=Pn});var Hr=b(q=>{"use strict";d();v();Object.defineProperty(q,"__esModule",{value:!0});q.setCache=q.getCache=q.clearCache=void 0;var Wr=F(),U=new Map,wn=function(n,f,c){var e=U.get(n);e!=null&&e.timer&&clearTimeout(e.timer);var r=void 0;f>-1&&(r=setTimeout(function(){U.delete(n)},f)),U.set(n,(0,Wr.__assign)((0,Wr.__assign)({},c),{timer:r}))};q.setCache=wn;var On=function(n){return U.get(n)};q.getCache=On;var Tn=function(n){if(n){var f=Array.isArray(n)?n:[n];f.forEach(function(c){return U.delete(c)})}else U.clear()};q.clearCache=Tn});var Vr=b(x=>{"use strict";d();v();Object.defineProperty(x,"__esModule",{value:!0});x.setCachePromise=x.getCachePromise=void 0;var _e=new Map,Dn=function(n){return _e.get(n)};x.getCachePromise=Dn;var Sn=function(n,f){_e.set(n,f),f.then(function(c){return _e.delete(n),c}).catch(function(){_e.delete(n)})};x.setCachePromise=Sn});var Gr=b(L=>{"use strict";d();v();Object.defineProperty(L,"__esModule",{value:!0});L.trigger=L.subscribe=void 0;var M={},Rn=function(n,f){M[n]&&M[n].forEach(function(c){return c(f)})};L.trigger=Rn;var jn=function(n,f){return M[n]||(M[n]=[]),M[n].push(f),function(){var e=M[n].indexOf(f);M[n].splice(e,1)}};L.subscribe=jn});d();v();d();v();tt();var H=new Ue,We=!1,X=new Map;async function He(o,n,f){let{uiData:c}=await H.get("uiData"),e=c==null?void 0:c[o];e!=null&&e.timer&&clearTimeout(e.timer);let r;n&&n>-1&&(r=+setTimeout(async()=>{let{uiData:a}=await H.get("uiData");a!=null&&a[o]&&(c==null||delete c[o],X.delete(o),await H.set({uiData:c}))},n));let t={...f,timer:r};return X.set(o,t),H.set({uiData:{...c!=null?c:{},[o]:t}})}async function Ve(o){let n=X.get(o);if(n)return n;let{uiData:f}=await H.get("uiData"),c=f==null?void 0:f[o];return!We&&f&&(Object.entries(f).forEach(([e,r])=>{X.set(e,r)}),We=!0),c}d();v();var Qr=O(gr()),Xr=O(wr()),Yr=O(Or()),Zr=O(Rr()),Kr=O(Br()),kr=O(Ur()),et=O(Nr());d();v();var Be=O(T());var me=O(Hr()),ye=O(Vr()),N=O(Gr()),qn=(o,{cacheKey:n,cacheTime:f=5*60*1e3,staleTime:c=0,setCache:e,getCache:r})=>{let t=(0,Be.useRef)(),a=(0,Be.useRef)(),i=async(s,l)=>{e?await e(l):(0,me.setCache)(s,f,l),(0,N.trigger)(s,l.data)},u=(s,l=[])=>r?r(l):(0,me.getCache)(s);return J(async()=>{if(!n)return;let s=await u(n);s&&Object.hasOwnProperty.call(s,"data")&&(o.state.data=s.data,o.state.params=s.params,(c===-1||new Date().getTime()-s.time<=c)&&(o.state.loading=!1)),t.current=(0,N.subscribe)(n,l=>{o.setState({data:l})})},[]),Q(()=>{var s;(s=t.current)==null||s.call(t)}),n?{onBefore:async s=>{let l=await u(n,s);return!l||!Object.hasOwnProperty.call(l,"data")?{}:c===-1||new Date().getTime()-l.time<=c?{loading:!1,data:l==null?void 0:l.data,error:void 0,returnNow:!0}:{data:l==null?void 0:l.data,error:void 0}},onRequest:(s,l)=>{let _=(0,ye.getCachePromise)(n);return _&&_!==a.current?{servicePromise:_}:(_=s(...l),a.current=_,(0,ye.setCachePromise)(n,_),{servicePromise:_})},onSuccess:async(s,l)=>{var _;n&&((_=t.current)==null||_.call(t),await i(n,{data:s,params:l,time:new Date().getTime()}),t.current=(0,N.subscribe)(n,p=>{o.setState({data:p})}))},onMutate:s=>{var l;n&&((l=t.current)==null||l.call(t),i(n,{data:s,params:o.state.params,time:new Date().getTime()}),t.current=(0,N.subscribe)(n,_=>{o.setState({data:_})}))}}:{}},zr=qn;d();v();var $r=O(Re());d();v();var Ir=O(Se()),$=class{constructor(n,f,c,e={}){this.serviceRef=n;this.options=f;this.subscribe=c;this.initState=e;this.count=0;this.state={loading:!1,params:void 0,data:void 0,error:void 0};this.state={...this.state,loading:!f.manual,...e}}setState(n={}){this.state={...this.state,...n},this.subscribe()}async runPluginHandler(n,...f){let e=(await Promise.allSettled(this.pluginImpls.map(r=>{var t;return(t=r[n])==null?void 0:t.call(r,...f)}))).filter(r=>r.status==="fulfilled").map(r=>r.value).filter(Boolean);return Object.assign({},...e)}async runAsync(...n){var t,a,i,u,s,l,_,p,h,g;this.count+=1;let f=this.count,{stopNow:c=!1,returnNow:e=!1,...r}=await this.runPluginHandler("onBefore",n);if(c)return new Promise(()=>{});if(this.setState({loading:!0,params:n,...r}),e)return Promise.resolve(r.data);(a=(t=this.options).onBefore)==null||a.call(t,n);try{let{servicePromise:m}=await this.runPluginHandler("onRequest",this.serviceRef.current,n);m||(m=this.serviceRef.current(...n));let P=await m;return f!==this.count?await new Promise(()=>{}):(this.setState({data:P,error:void 0,loading:!1}),(u=(i=this.options).onSuccess)==null||u.call(i,P,n),this.runPluginHandler("onSuccess",P,n),(l=(s=this.options).onFinally)==null||l.call(s,n,P,void 0),f===this.count&&this.runPluginHandler("onFinally",n,P,void 0),P)}catch(m){if(f!==this.count)return new Promise(()=>{});throw this.setState({error:m,loading:!1}),(p=(_=this.options).onError)==null||p.call(_,m,n),this.runPluginHandler("onError",m,n),(g=(h=this.options).onFinally)==null||g.call(h,n,void 0,m),f===this.count&&this.runPluginHandler("onFinally",n,void 0,m),m}}run(...n){this.runAsync(...n).catch(f=>{this.options.onError||console.error(f)})}cancel(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")}refresh(){this.run(...this.state.params||[])}refreshAsync(){return this.runAsync(...this.state.params||[])}mutate(n){let f=(0,Ir.isFunction)(n)?n(this.state.data):n;this.runPluginHandler("onMutate",f),this.setState({data:f})}};function Cn(o,n={},f=[]){let{manual:c=!1,...e}=n;$r.default&&n.defaultParams&&!Array.isArray(n.defaultParams)&&console.warn(`expected defaultParams is array, got ${typeof n.defaultParams}`);let r={manual:c,...e},t=xe(o),a=Ne(),i=J(()=>{let u=f.map(s=>{var l;return(l=s==null?void 0:s.onInit)==null?void 0:l.call(s,r)}).filter(Boolean);return new $(t,r,a,Object.assign({},...u))},[]);return i.options=r,i.pluginImpls=f.map(u=>u(i,r)),Le(()=>{if(!c){let u=i.state.params||n.defaultParams||[];i.run(...u)}}),Q(()=>{i.cancel()}),{loading:i.state.loading,data:i.state.data,error:i.state.error,params:i.state.params||[],cancel:E(i.cancel.bind(i)),refresh:E(i.refresh.bind(i)),refreshAsync:E(i.refreshAsync.bind(i)),run:E(i.run.bind(i)),runAsync:E(i.runAsync.bind(i)),mutate:E(i.mutate.bind(i))}}var Jr=Cn;function En(o,n,f){return Jr(o,n,[...f||[],Xr.default,Yr.default,Zr.default,Kr.default,et.default,Qr.default,zr,kr.default])}var rt=En;function wu(o,n,f){let c=n==null?void 0:n.cacheKey;return rt(o,{...n!=null?n:{},setCache:async e=>c?He(c,n==null?void 0:n.cacheTime,e):!1,getCache:async()=>{if(c)return Ve(c)}},f)}export{wu as a};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-3IHK32RH.js.map
