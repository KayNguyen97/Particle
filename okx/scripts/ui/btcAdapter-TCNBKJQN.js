import{a as b,b as T,c as W}from"./chunk-SOQIEFZQ.js";import"./chunk-H4WTNLNN.js";import"./chunk-A75OUJFC.js";import"./chunk-OCHHKHZZ.js";import{b as y}from"./chunk-JQQNTNIX.js";import"./chunk-ZKDHZDUE.js";import"./chunk-4UESFVD2.js";import"./chunk-D7KW4FFX.js";import"./chunk-RAXGEVRQ.js";import"./chunk-S4N75E3H.js";import"./chunk-2BSLA752.js";import"./chunk-FLCN6MAI.js";import"./chunk-IMRS4RGO.js";import"./chunk-XKG5DY6K.js";import{a as h}from"./chunk-6PGLMYAE.js";import"./chunk-RMQJRDTF.js";import"./chunk-2YLR7R2N.js";import"./chunk-MVLY6WUP.js";import"./chunk-ZEAKIEIQ.js";import"./chunk-5KSDRGLW.js";import"./chunk-DQTCC3FF.js";import"./chunk-O5LVHMPV.js";import"./chunk-CVJKAN5R.js";import"./chunk-A5Y2KVNP.js";import"./chunk-GXQ645QR.js";import"./chunk-DQ2NYVYI.js";import"./chunk-C2H3SRET.js";import"./chunk-V4YVDLI4.js";import"./chunk-MAWXDEJZ.js";import"./chunk-Z37GURZ6.js";import"./chunk-IYYFWVWL.js";import{a as S}from"./chunk-4UZ7F7LV.js";import"./chunk-ZRKMRDGI.js";import"./chunk-K2CHCG7Q.js";import"./chunk-3FBBK33H.js";import"./chunk-KTHMEYYS.js";import"./chunk-GT57MMCB.js";import"./chunk-HIGM7FFU.js";import"./chunk-RYNAOZ73.js";import"./chunk-GKHVFCKF.js";import{f as m,m as p,o as u}from"./chunk-6V2G2Z5W.js";p();u();var g=m(b()),E=m(S());var k=g.default.HardwareWebSdk,o=class extends W{async signTransaction(r,e){return new Promise((x,n)=>{(async()=>{let{address:i}=e,{onekeyInfo:s}=r,a;try{a=await this.initOneKey({onekeyInfo:s,onUiCancel(){n(new Error(h))}})}catch(t){return n(this.handleErrors(t))}let B=y(i,(r==null?void 0:r.accountsMap)||(r==null?void 0:r.addressType)),{path:c}=B,H=e.inputs.map(t=>({...t,address:i,nonWitnessUtxo:t.rawTransaction,derivationPath:c})),K=(0,E.oneKeyBuildBtcTx)({...e,inputs:H,derivationPath:c}),{success:R,payload:d}=await k.btcSignTransaction(s==null?void 0:s.connectId,a,K);if(T.closeModal(),R){let{serializedTx:t}=d;return x(t)}return n(this.handleErrors(d))})()})}},z=new o;export{z as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=btcAdapter-TCNBKJQN.js.map
