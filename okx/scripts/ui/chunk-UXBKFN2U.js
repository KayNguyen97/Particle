import{a as Jn,b as Qn}from"./chunk-HCW4K7TR.js";import{a as Xn}from"./chunk-Z4JATHZR.js";import{a as fr}from"./chunk-TW6D7CWA.js";import{a as wr,b as jn,c as $n}from"./chunk-3T5D6KAV.js";import{a as De}from"./chunk-MAWXDEJZ.js";import{D as M0,e as q0,p as tr,r as G0,u as Be,y as j}from"./chunk-RYNAOZ73.js";import{c as y,m as d,n as a,o as _}from"./chunk-6V2G2Z5W.js";var W0=y((Zt,F0)=>{"use strict";d();_();var Re=tr().Buffer,z0=G0().Transform,rt=q0();F0.exports=function(r){function e(n,t,f,i,o){z0.call(this,o),this._rate=n,this._capacity=t,this._delimitedSuffix=f,this._hashBitLength=i,this._options=o,this._state=new r,this._state.initialize(n,t),this._finalized=!1}return rt(e,z0),e.prototype._transform=function(n,t,f){var i=null;try{this.update(n,t)}catch(o){i=o}f(i)},e.prototype._flush=function(n){var t=null;try{this.push(this.digest())}catch(f){t=f}n(t)},e.prototype.update=function(n,t){if(!Re.isBuffer(n)&&typeof n!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Re.isBuffer(n)||(n=Re.from(n,t)),this._state.absorb(n),this},e.prototype.digest=function(n){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);var t=this._state.squeeze(this._hashBitLength/8);return n!==void 0&&(t=t.toString(n)),this._resetState(),t},e.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},e.prototype._clone=function(){var n=new e(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(n._state),n._finalized=this._finalized,n},e}});var $0=y((Jt,j0)=>{"use strict";d();_();var Ve=tr().Buffer,Z0=G0().Transform,et=q0();j0.exports=function(r){function e(n,t,f,i){Z0.call(this,i),this._rate=n,this._capacity=t,this._delimitedSuffix=f,this._options=i,this._state=new r,this._state.initialize(n,t),this._finalized=!1}return et(e,Z0),e.prototype._transform=function(n,t,f){var i=null;try{this.update(n,t)}catch(o){i=o}f(i)},e.prototype._flush=function(){},e.prototype._read=function(n){this.push(this.squeeze(n))},e.prototype.update=function(n,t){if(!Ve.isBuffer(n)&&typeof n!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Ve.isBuffer(n)||(n=Ve.from(n,t)),this._state.absorb(n),this},e.prototype.squeeze=function(n,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));var f=this._state.squeeze(n);return t!==void 0&&(f=f.toString(t)),f},e.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},e.prototype._clone=function(){var n=new e(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(n._state),n._finalized=this._finalized,n},e}});var X0=y((rf,J0)=>{"use strict";d();_();var nt=W0(),tt=$0();J0.exports=function(r){var e=nt(r),n=tt(r);return function(t,f){var i=typeof t=="string"?t.toLowerCase():t;switch(i){case"keccak224":return new e(1152,448,null,224,f);case"keccak256":return new e(1088,512,null,256,f);case"keccak384":return new e(832,768,null,384,f);case"keccak512":return new e(576,1024,null,512,f);case"sha3-224":return new e(1152,448,6,224,f);case"sha3-256":return new e(1088,512,6,256,f);case"sha3-384":return new e(832,768,6,384,f);case"sha3-512":return new e(576,1024,6,512,f);case"shake128":return new n(1344,256,31,f);case"shake256":return new n(1088,512,31,f);default:throw new Error("Invald algorithm: "+t)}}}});var en=y(rn=>{"use strict";d();_();var Q0=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];rn.p1600=function(r){for(var e=0;e<24;++e){var n=r[0]^r[10]^r[20]^r[30]^r[40],t=r[1]^r[11]^r[21]^r[31]^r[41],f=r[2]^r[12]^r[22]^r[32]^r[42],i=r[3]^r[13]^r[23]^r[33]^r[43],o=r[4]^r[14]^r[24]^r[34]^r[44],s=r[5]^r[15]^r[25]^r[35]^r[45],x=r[6]^r[16]^r[26]^r[36]^r[46],A=r[7]^r[17]^r[27]^r[37]^r[47],B=r[8]^r[18]^r[28]^r[38]^r[48],V=r[9]^r[19]^r[29]^r[39]^r[49],g=B^(f<<1|i>>>31),p=V^(i<<1|f>>>31),Wn=r[0]^g,Zn=r[1]^p,Ze=r[10]^g,je=r[11]^p,$e=r[20]^g,Je=r[21]^p,Xe=r[30]^g,Qe=r[31]^p,r0=r[40]^g,e0=r[41]^p;g=n^(o<<1|s>>>31),p=t^(s<<1|o>>>31);var n0=r[2]^g,t0=r[3]^p,f0=r[12]^g,i0=r[13]^p,o0=r[22]^g,u0=r[23]^p,a0=r[32]^g,x0=r[33]^p,c0=r[42]^g,s0=r[43]^p;g=f^(x<<1|A>>>31),p=i^(A<<1|x>>>31);var l0=r[4]^g,d0=r[5]^p,_0=r[14]^g,E0=r[15]^p,h0=r[24]^g,v0=r[25]^p,A0=r[34]^g,g0=r[35]^p,I0=r[44]^g,w0=r[45]^p;g=o^(B<<1|V>>>31),p=s^(V<<1|B>>>31);var L0=r[6]^g,p0=r[7]^p,b0=r[16]^g,y0=r[17]^p,m0=r[26]^g,T0=r[27]^p,P0=r[36]^g,S0=r[37]^p,N0=r[46]^g,C0=r[47]^p;g=x^(n<<1|t>>>31),p=A^(t<<1|n>>>31);var B0=r[8]^g,D0=r[9]^p,R0=r[18]^g,V0=r[19]^p,K0=r[28]^g,k0=r[29]^p,U0=r[38]^g,Y0=r[39]^p,H0=r[48]^g,O0=r[49]^p,Kr=Wn,kr=Zn,Ur=je<<4|Ze>>>28,Yr=Ze<<4|je>>>28,Hr=$e<<3|Je>>>29,Or=Je<<3|$e>>>29,qr=Qe<<9|Xe>>>23,Gr=Xe<<9|Qe>>>23,Mr=r0<<18|e0>>>14,zr=e0<<18|r0>>>14,Fr=n0<<1|t0>>>31,Wr=t0<<1|n0>>>31,Zr=i0<<12|f0>>>20,jr=f0<<12|i0>>>20,$r=o0<<10|u0>>>22,Jr=u0<<10|o0>>>22,Xr=x0<<13|a0>>>19,Qr=a0<<13|x0>>>19,re=c0<<2|s0>>>30,ee=s0<<2|c0>>>30,ne=d0<<30|l0>>>2,te=l0<<30|d0>>>2,fe=_0<<6|E0>>>26,ie=E0<<6|_0>>>26,oe=v0<<11|h0>>>21,ue=h0<<11|v0>>>21,ae=A0<<15|g0>>>17,xe=g0<<15|A0>>>17,ce=w0<<29|I0>>>3,se=I0<<29|w0>>>3,le=L0<<28|p0>>>4,de=p0<<28|L0>>>4,_e=y0<<23|b0>>>9,Ee=b0<<23|y0>>>9,he=m0<<25|T0>>>7,ve=T0<<25|m0>>>7,Ae=P0<<21|S0>>>11,ge=S0<<21|P0>>>11,Ie=C0<<24|N0>>>8,we=N0<<24|C0>>>8,Le=B0<<27|D0>>>5,pe=D0<<27|B0>>>5,be=R0<<20|V0>>>12,ye=V0<<20|R0>>>12,me=k0<<7|K0>>>25,Te=K0<<7|k0>>>25,Pe=U0<<8|Y0>>>24,Se=Y0<<8|U0>>>24,Ne=H0<<14|O0>>>18,Ce=O0<<14|H0>>>18;r[0]=Kr^~Zr&oe,r[1]=kr^~jr&ue,r[10]=le^~be&Hr,r[11]=de^~ye&Or,r[20]=Fr^~fe&he,r[21]=Wr^~ie&ve,r[30]=Le^~Ur&$r,r[31]=pe^~Yr&Jr,r[40]=ne^~_e&me,r[41]=te^~Ee&Te,r[2]=Zr^~oe&Ae,r[3]=jr^~ue&ge,r[12]=be^~Hr&Xr,r[13]=ye^~Or&Qr,r[22]=fe^~he&Pe,r[23]=ie^~ve&Se,r[32]=Ur^~$r&ae,r[33]=Yr^~Jr&xe,r[42]=_e^~me&qr,r[43]=Ee^~Te&Gr,r[4]=oe^~Ae&Ne,r[5]=ue^~ge&Ce,r[14]=Hr^~Xr&ce,r[15]=Or^~Qr&se,r[24]=he^~Pe&Mr,r[25]=ve^~Se&zr,r[34]=$r^~ae&Ie,r[35]=Jr^~xe&we,r[44]=me^~qr&re,r[45]=Te^~Gr&ee,r[6]=Ae^~Ne&Kr,r[7]=ge^~Ce&kr,r[16]=Xr^~ce&le,r[17]=Qr^~se&de,r[26]=Pe^~Mr&Fr,r[27]=Se^~zr&Wr,r[36]=ae^~Ie&Le,r[37]=xe^~we&pe,r[46]=qr^~re&ne,r[47]=Gr^~ee&te,r[8]=Ne^~Kr&Zr,r[9]=Ce^~kr&jr,r[18]=ce^~le&be,r[19]=se^~de&ye,r[28]=Mr^~Fr&fe,r[29]=zr^~Wr&ie,r[38]=Ie^~Le&Ur,r[39]=we^~pe&Yr,r[48]=re^~ne&_e,r[49]=ee^~te&Ee,r[0]^=Q0[e*2],r[1]^=Q0[e*2+1]}}});var tn=y((uf,nn)=>{"use strict";d();_();var ft=tr().Buffer,Lr=en();function ir(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}ir.prototype.initialize=function(r,e){for(var n=0;n<50;++n)this.state[n]=0;this.blockSize=r/8,this.count=0,this.squeezing=!1};ir.prototype.absorb=function(r){for(var e=0;e<r.length;++e)this.state[~~(this.count/4)]^=r[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Lr.p1600(this.state),this.count=0)};ir.prototype.absorbLastFewBits=function(r){this.state[~~(this.count/4)]^=r<<8*(this.count%4),(r&128)!==0&&this.count===this.blockSize-1&&Lr.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Lr.p1600(this.state),this.count=0,this.squeezing=!0};ir.prototype.squeeze=function(r){this.squeezing||this.absorbLastFewBits(1);for(var e=ft.alloc(r),n=0;n<r;++n)e[n]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Lr.p1600(this.state),this.count=0);return e};ir.prototype.copy=function(r){for(var e=0;e<50;++e)r.state[e]=this.state[e];r.blockSize=this.blockSize,r.count=this.count,r.squeezing=this.squeezing};nn.exports=ir});var on=y((cf,fn)=>{"use strict";d();_();fn.exports=X0()(tn())});var un=y(H=>{"use strict";d();_();var pr=Object.prototype.toString;H.isArray=function(r,e){if(!Array.isArray(r))throw TypeError(e)};H.isBoolean=function(r,e){if(pr.call(r)!=="[object Boolean]")throw TypeError(e)};H.isBuffer=function(r,e){if(!a.Buffer.isBuffer(r))throw TypeError(e)};H.isFunction=function(r,e){if(pr.call(r)!=="[object Function]")throw TypeError(e)};H.isNumber=function(r,e){if(pr.call(r)!=="[object Number]")throw TypeError(e)};H.isObject=function(r,e){if(pr.call(r)!=="[object Object]")throw TypeError(e)};H.isBufferLength=function(r,e,n){if(r.length!==e)throw RangeError(n)};H.isBufferLength2=function(r,e,n,t){if(r.length!==e&&r.length!==n)throw RangeError(t)};H.isLengthGTZero=function(r,e){if(r.length===0)throw RangeError(e)};H.isNumberInInterval=function(r,e,n,t){if(r<=e||r>=n)throw RangeError(t)}});var xn=y(or=>{"use strict";d();_();var O=tr().Buffer,an=Xn(),it=O.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ot=O.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);or.privateKeyExport=function(r,e,n){var t=O.from(n?it:ot);return r.copy(t,n?8:9),e.copy(t,n?181:214),t};or.privateKeyImport=function(r){var e=r.length,n=0;if(!(e<n+1||r[n]!==48)&&(n+=1,!(e<n+1||!(r[n]&128)))){var t=r[n]&127;if(n+=1,!(t<1||t>2)&&!(e<n+t)){var f=r[n+t-1]|(t>1?r[n+t-2]<<8:0);if(n+=t,!(e<n+f)&&!(e<n+3||r[n]!==2||r[n+1]!==1||r[n+2]!==1)&&(n+=3,!(e<n+2||r[n]!==4||r[n+1]>32||e<n+2+r[n+1])))return r.slice(n+2,n+2+r[n+1])}}};or.signatureExport=function(r){for(var e=O.concat([O.from([0]),r.r]),n=33,t=0;n>1&&e[t]===0&&!(e[t+1]&128);--n,++t);for(var f=O.concat([O.from([0]),r.s]),i=33,o=0;i>1&&f[o]===0&&!(f[o+1]&128);--i,++o);return an.encode(e.slice(t),f.slice(o))};or.signatureImport=function(r){var e=O.alloc(32,0),n=O.alloc(32,0);try{var t=an.decode(r);if(t.r.length===33&&t.r[0]===0&&(t.r=t.r.slice(1)),t.r.length>32)throw new Error("R length is too long");if(t.s.length===33&&t.s[0]===0&&(t.s=t.s.slice(1)),t.s.length>32)throw new Error("S length is too long")}catch{return}return t.r.copy(e,32-t.r.length),t.s.copy(n,32-t.s.length),{r:e,s:n}};or.signatureImportLax=function(r){var e=O.alloc(32,0),n=O.alloc(32,0),t=r.length,f=0;if(r[f++]===48){var i=r[f++];if(!(i&128&&(f+=i-128,f>t))&&r[f++]===2){var o=r[f++];if(o&128){if(i=o-128,f+i>t)return;for(;i>0&&r[f]===0;f+=1,i-=1);for(o=0;i>0;f+=1,i-=1)o=(o<<8)+r[f]}if(!(o>t-f)){var s=f;if(f+=o,r[f++]===2){var x=r[f++];if(x&128){if(i=x-128,f+i>t)return;for(;i>0&&r[f]===0;f+=1,i-=1);for(x=0;i>0;f+=1,i-=1)x=(x<<8)+r[f]}if(!(x>t-f)){var A=f;for(f+=x;o>0&&r[s]===0;o-=1,s+=1);if(!(o>32)){var B=r.slice(s,s+o);for(B.copy(e,32-B.length);x>0&&r[A]===0;x-=1,A+=1);if(!(x>32)){var V=r.slice(A,A+x);return V.copy(n,32-V.length),{r:e,s:n}}}}}}}}}});var Ke=y((gf,ut)=>{ut.exports={COMPRESSED_TYPE_INVALID:"compressed should be a boolean",EC_PRIVATE_KEY_TYPE_INVALID:"private key should be a Buffer",EC_PRIVATE_KEY_LENGTH_INVALID:"private key length is invalid",EC_PRIVATE_KEY_RANGE_INVALID:"private key range is invalid",EC_PRIVATE_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting private key is invalid",EC_PRIVATE_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PRIVATE_KEY_EXPORT_DER_FAIL:"couldn't export to DER format",EC_PRIVATE_KEY_IMPORT_DER_FAIL:"couldn't import from DER format",EC_PUBLIC_KEYS_TYPE_INVALID:"public keys should be an Array",EC_PUBLIC_KEYS_LENGTH_INVALID:"public keys Array should have at least 1 element",EC_PUBLIC_KEY_TYPE_INVALID:"public key should be a Buffer",EC_PUBLIC_KEY_LENGTH_INVALID:"public key length is invalid",EC_PUBLIC_KEY_PARSE_FAIL:"the public key could not be parsed or is invalid",EC_PUBLIC_KEY_CREATE_FAIL:"private was invalid, try again",EC_PUBLIC_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting public key is invalid",EC_PUBLIC_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PUBLIC_KEY_COMBINE_FAIL:"the sum of the public keys is not valid",ECDH_FAIL:"scalar was invalid (zero or overflow)",ECDSA_SIGNATURE_TYPE_INVALID:"signature should be a Buffer",ECDSA_SIGNATURE_LENGTH_INVALID:"signature length is invalid",ECDSA_SIGNATURE_PARSE_FAIL:"couldn't parse signature",ECDSA_SIGNATURE_PARSE_DER_FAIL:"couldn't parse DER signature",ECDSA_SIGNATURE_SERIALIZE_DER_FAIL:"couldn't serialize signature to DER format",ECDSA_SIGN_FAIL:"nonce generation function failed or private key is invalid",ECDSA_RECOVER_FAIL:"couldn't recover public key from signature",MSG32_TYPE_INVALID:"message should be a Buffer",MSG32_LENGTH_INVALID:"message length is invalid",OPTIONS_TYPE_INVALID:"options should be an Object",OPTIONS_DATA_TYPE_INVALID:"options.data should be a Buffer",OPTIONS_DATA_LENGTH_INVALID:"options.data length is invalid",OPTIONS_NONCEFN_TYPE_INVALID:"options.noncefn should be a Function",RECOVERY_ID_TYPE_INVALID:"recovery should be a Number",RECOVERY_ID_VALUE_INVALID:"recovery should have value between -1 and 4",TWEAK_TYPE_INVALID:"tweak should be a Buffer",TWEAK_LENGTH_INVALID:"tweak length is invalid"}});var sn=y((If,cn)=>{"use strict";d();_();var l=un(),_r=xn(),c=Ke();function $(r,e){return r===void 0?e:(l.isBoolean(r,c.COMPRESSED_TYPE_INVALID),r)}cn.exports=function(r){return{privateKeyVerify:function(e){return l.isBuffer(e,c.EC_PRIVATE_KEY_TYPE_INVALID),e.length===32&&r.privateKeyVerify(e)},privateKeyExport:function(e,n){l.isBuffer(e,c.EC_PRIVATE_KEY_TYPE_INVALID),l.isBufferLength(e,32,c.EC_PRIVATE_KEY_LENGTH_INVALID),n=$(n,!0);var t=r.privateKeyExport(e,n);return _r.privateKeyExport(e,t,n)},privateKeyImport:function(e){if(l.isBuffer(e,c.EC_PRIVATE_KEY_TYPE_INVALID),e=_r.privateKeyImport(e),e&&e.length===32&&r.privateKeyVerify(e))return e;throw new Error(c.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyNegate:function(e){return l.isBuffer(e,c.EC_PRIVATE_KEY_TYPE_INVALID),l.isBufferLength(e,32,c.EC_PRIVATE_KEY_LENGTH_INVALID),r.privateKeyNegate(e)},privateKeyModInverse:function(e){return l.isBuffer(e,c.EC_PRIVATE_KEY_TYPE_INVALID),l.isBufferLength(e,32,c.EC_PRIVATE_KEY_LENGTH_INVALID),r.privateKeyModInverse(e)},privateKeyTweakAdd:function(e,n){return l.isBuffer(e,c.EC_PRIVATE_KEY_TYPE_INVALID),l.isBufferLength(e,32,c.EC_PRIVATE_KEY_LENGTH_INVALID),l.isBuffer(n,c.TWEAK_TYPE_INVALID),l.isBufferLength(n,32,c.TWEAK_LENGTH_INVALID),r.privateKeyTweakAdd(e,n)},privateKeyTweakMul:function(e,n){return l.isBuffer(e,c.EC_PRIVATE_KEY_TYPE_INVALID),l.isBufferLength(e,32,c.EC_PRIVATE_KEY_LENGTH_INVALID),l.isBuffer(n,c.TWEAK_TYPE_INVALID),l.isBufferLength(n,32,c.TWEAK_LENGTH_INVALID),r.privateKeyTweakMul(e,n)},publicKeyCreate:function(e,n){return l.isBuffer(e,c.EC_PRIVATE_KEY_TYPE_INVALID),l.isBufferLength(e,32,c.EC_PRIVATE_KEY_LENGTH_INVALID),n=$(n,!0),r.publicKeyCreate(e,n)},publicKeyConvert:function(e,n){return l.isBuffer(e,c.EC_PUBLIC_KEY_TYPE_INVALID),l.isBufferLength2(e,33,65,c.EC_PUBLIC_KEY_LENGTH_INVALID),n=$(n,!0),r.publicKeyConvert(e,n)},publicKeyVerify:function(e){return l.isBuffer(e,c.EC_PUBLIC_KEY_TYPE_INVALID),r.publicKeyVerify(e)},publicKeyTweakAdd:function(e,n,t){return l.isBuffer(e,c.EC_PUBLIC_KEY_TYPE_INVALID),l.isBufferLength2(e,33,65,c.EC_PUBLIC_KEY_LENGTH_INVALID),l.isBuffer(n,c.TWEAK_TYPE_INVALID),l.isBufferLength(n,32,c.TWEAK_LENGTH_INVALID),t=$(t,!0),r.publicKeyTweakAdd(e,n,t)},publicKeyTweakMul:function(e,n,t){return l.isBuffer(e,c.EC_PUBLIC_KEY_TYPE_INVALID),l.isBufferLength2(e,33,65,c.EC_PUBLIC_KEY_LENGTH_INVALID),l.isBuffer(n,c.TWEAK_TYPE_INVALID),l.isBufferLength(n,32,c.TWEAK_LENGTH_INVALID),t=$(t,!0),r.publicKeyTweakMul(e,n,t)},publicKeyCombine:function(e,n){l.isArray(e,c.EC_PUBLIC_KEYS_TYPE_INVALID),l.isLengthGTZero(e,c.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var t=0;t<e.length;++t)l.isBuffer(e[t],c.EC_PUBLIC_KEY_TYPE_INVALID),l.isBufferLength2(e[t],33,65,c.EC_PUBLIC_KEY_LENGTH_INVALID);return n=$(n,!0),r.publicKeyCombine(e,n)},signatureNormalize:function(e){return l.isBuffer(e,c.ECDSA_SIGNATURE_TYPE_INVALID),l.isBufferLength(e,64,c.ECDSA_SIGNATURE_LENGTH_INVALID),r.signatureNormalize(e)},signatureExport:function(e){l.isBuffer(e,c.ECDSA_SIGNATURE_TYPE_INVALID),l.isBufferLength(e,64,c.ECDSA_SIGNATURE_LENGTH_INVALID);var n=r.signatureExport(e);return _r.signatureExport(n)},signatureImport:function(e){l.isBuffer(e,c.ECDSA_SIGNATURE_TYPE_INVALID),l.isLengthGTZero(e,c.ECDSA_SIGNATURE_LENGTH_INVALID);var n=_r.signatureImport(e);if(n)return r.signatureImport(n);throw new Error(c.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(e){l.isBuffer(e,c.ECDSA_SIGNATURE_TYPE_INVALID),l.isLengthGTZero(e,c.ECDSA_SIGNATURE_LENGTH_INVALID);var n=_r.signatureImportLax(e);if(n)return r.signatureImport(n);throw new Error(c.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(e,n,t){l.isBuffer(e,c.MSG32_TYPE_INVALID),l.isBufferLength(e,32,c.MSG32_LENGTH_INVALID),l.isBuffer(n,c.EC_PRIVATE_KEY_TYPE_INVALID),l.isBufferLength(n,32,c.EC_PRIVATE_KEY_LENGTH_INVALID);var f=null,i=null;return t!==void 0&&(l.isObject(t,c.OPTIONS_TYPE_INVALID),t.data!==void 0&&(l.isBuffer(t.data,c.OPTIONS_DATA_TYPE_INVALID),l.isBufferLength(t.data,32,c.OPTIONS_DATA_LENGTH_INVALID),f=t.data),t.noncefn!==void 0&&(l.isFunction(t.noncefn,c.OPTIONS_NONCEFN_TYPE_INVALID),i=t.noncefn)),r.sign(e,n,i,f)},verify:function(e,n,t){return l.isBuffer(e,c.MSG32_TYPE_INVALID),l.isBufferLength(e,32,c.MSG32_LENGTH_INVALID),l.isBuffer(n,c.ECDSA_SIGNATURE_TYPE_INVALID),l.isBufferLength(n,64,c.ECDSA_SIGNATURE_LENGTH_INVALID),l.isBuffer(t,c.EC_PUBLIC_KEY_TYPE_INVALID),l.isBufferLength2(t,33,65,c.EC_PUBLIC_KEY_LENGTH_INVALID),r.verify(e,n,t)},recover:function(e,n,t,f){return l.isBuffer(e,c.MSG32_TYPE_INVALID),l.isBufferLength(e,32,c.MSG32_LENGTH_INVALID),l.isBuffer(n,c.ECDSA_SIGNATURE_TYPE_INVALID),l.isBufferLength(n,64,c.ECDSA_SIGNATURE_LENGTH_INVALID),l.isNumber(t,c.RECOVERY_ID_TYPE_INVALID),l.isNumberInInterval(t,-1,4,c.RECOVERY_ID_VALUE_INVALID),f=$(f,!0),r.recover(e,n,t,f)},ecdh:function(e,n){return l.isBuffer(e,c.EC_PUBLIC_KEY_TYPE_INVALID),l.isBufferLength2(e,33,65,c.EC_PUBLIC_KEY_LENGTH_INVALID),l.isBuffer(n,c.EC_PRIVATE_KEY_TYPE_INVALID),l.isBufferLength(n,32,c.EC_PRIVATE_KEY_LENGTH_INVALID),r.ecdh(e,n)},ecdhUnsafe:function(e,n,t){return l.isBuffer(e,c.EC_PUBLIC_KEY_TYPE_INVALID),l.isBufferLength2(e,33,65,c.EC_PUBLIC_KEY_LENGTH_INVALID),l.isBuffer(n,c.EC_PRIVATE_KEY_TYPE_INVALID),l.isBufferLength(n,32,c.EC_PRIVATE_KEY_LENGTH_INVALID),t=$(t,!0),r.ecdhUnsafe(e,n,t)}}}});var ln=y(S=>{"use strict";d();_();var P=tr().Buffer,at=Be(),b=j(),xt=M0().ec,m=Ke(),z=new xt("secp256k1"),w=z.curve;function ct(r,e){var n=new b(e);if(n.cmp(w.p)>=0)return null;n=n.toRed(w.red);var t=n.redSqr().redIMul(n).redIAdd(w.b).redSqrt();return r===3!==t.isOdd()&&(t=t.redNeg()),z.keyPair({pub:{x:n,y:t}})}function st(r,e,n){var t=new b(e),f=new b(n);if(t.cmp(w.p)>=0||f.cmp(w.p)>=0||(t=t.toRed(w.red),f=f.toRed(w.red),(r===6||r===7)&&f.isOdd()!==(r===7)))return null;var i=t.redSqr().redIMul(t);return f.redSqr().redISub(i.redIAdd(w.b)).isZero()?z.keyPair({pub:{x:t,y:f}}):null}function X(r){var e=r[0];switch(e){case 2:case 3:return r.length!==33?null:ct(e,r.slice(1,33));case 4:case 6:case 7:return r.length!==65?null:st(e,r.slice(1,33),r.slice(33,65));default:return null}}S.privateKeyVerify=function(r){var e=new b(r);return e.cmp(w.n)<0&&!e.isZero()};S.privateKeyExport=function(r,e){var n=new b(r);if(n.cmp(w.n)>=0||n.isZero())throw new Error(m.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return P.from(z.keyFromPrivate(r).getPublic(e,!0))};S.privateKeyNegate=function(r){var e=new b(r);return e.isZero()?P.alloc(32):w.n.sub(e).umod(w.n).toArrayLike(P,"be",32)};S.privateKeyModInverse=function(r){var e=new b(r);if(e.cmp(w.n)>=0||e.isZero())throw new Error(m.EC_PRIVATE_KEY_RANGE_INVALID);return e.invm(w.n).toArrayLike(P,"be",32)};S.privateKeyTweakAdd=function(r,e){var n=new b(e);if(n.cmp(w.n)>=0)throw new Error(m.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(n.iadd(new b(r)),n.cmp(w.n)>=0&&n.isub(w.n),n.isZero())throw new Error(m.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return n.toArrayLike(P,"be",32)};S.privateKeyTweakMul=function(r,e){var n=new b(e);if(n.cmp(w.n)>=0||n.isZero())throw new Error(m.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);return n.imul(new b(r)),n.cmp(w.n)&&(n=n.umod(w.n)),n.toArrayLike(P,"be",32)};S.publicKeyCreate=function(r,e){var n=new b(r);if(n.cmp(w.n)>=0||n.isZero())throw new Error(m.EC_PUBLIC_KEY_CREATE_FAIL);return P.from(z.keyFromPrivate(r).getPublic(e,!0))};S.publicKeyConvert=function(r,e){var n=X(r);if(n===null)throw new Error(m.EC_PUBLIC_KEY_PARSE_FAIL);return P.from(n.getPublic(e,!0))};S.publicKeyVerify=function(r){return X(r)!==null};S.publicKeyTweakAdd=function(r,e,n){var t=X(r);if(t===null)throw new Error(m.EC_PUBLIC_KEY_PARSE_FAIL);if(e=new b(e),e.cmp(w.n)>=0)throw new Error(m.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);var f=w.g.mul(e).add(t.pub);if(f.isInfinity())throw new Error(m.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return P.from(f.encode(!0,n))};S.publicKeyTweakMul=function(r,e,n){var t=X(r);if(t===null)throw new Error(m.EC_PUBLIC_KEY_PARSE_FAIL);if(e=new b(e),e.cmp(w.n)>=0||e.isZero())throw new Error(m.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return P.from(t.pub.mul(e).encode(!0,n))};S.publicKeyCombine=function(r,e){for(var n=new Array(r.length),t=0;t<r.length;++t)if(n[t]=X(r[t]),n[t]===null)throw new Error(m.EC_PUBLIC_KEY_PARSE_FAIL);for(var f=n[0].pub,i=1;i<n.length;++i)f=f.add(n[i].pub);if(f.isInfinity())throw new Error(m.EC_PUBLIC_KEY_COMBINE_FAIL);return P.from(f.encode(!0,e))};S.signatureNormalize=function(r){var e=new b(r.slice(0,32)),n=new b(r.slice(32,64));if(e.cmp(w.n)>=0||n.cmp(w.n)>=0)throw new Error(m.ECDSA_SIGNATURE_PARSE_FAIL);var t=P.from(r);return n.cmp(z.nh)===1&&w.n.sub(n).toArrayLike(P,"be",32).copy(t,32),t};S.signatureExport=function(r){var e=r.slice(0,32),n=r.slice(32,64);if(new b(e).cmp(w.n)>=0||new b(n).cmp(w.n)>=0)throw new Error(m.ECDSA_SIGNATURE_PARSE_FAIL);return{r:e,s:n}};S.signatureImport=function(r){var e=new b(r.r);e.cmp(w.n)>=0&&(e=new b(0));var n=new b(r.s);return n.cmp(w.n)>=0&&(n=new b(0)),P.concat([e.toArrayLike(P,"be",32),n.toArrayLike(P,"be",32)])};S.sign=function(r,e,n,t){if(typeof n=="function"){var f=n;n=function(s){var x=f(r,e,null,t,s);if(!P.isBuffer(x)||x.length!==32)throw new Error(m.ECDSA_SIGN_FAIL);return new b(x)}}var i=new b(e);if(i.cmp(w.n)>=0||i.isZero())throw new Error(m.ECDSA_SIGN_FAIL);var o=z.sign(r,e,{canonical:!0,k:n,pers:t});return{signature:P.concat([o.r.toArrayLike(P,"be",32),o.s.toArrayLike(P,"be",32)]),recovery:o.recoveryParam}};S.verify=function(r,e,n){var t={r:e.slice(0,32),s:e.slice(32,64)},f=new b(t.r),i=new b(t.s);if(f.cmp(w.n)>=0||i.cmp(w.n)>=0)throw new Error(m.ECDSA_SIGNATURE_PARSE_FAIL);if(i.cmp(z.nh)===1||f.isZero()||i.isZero())return!1;var o=X(n);if(o===null)throw new Error(m.EC_PUBLIC_KEY_PARSE_FAIL);return z.verify(r,t,{x:o.pub.x,y:o.pub.y})};S.recover=function(r,e,n,t){var f={r:e.slice(0,32),s:e.slice(32,64)},i=new b(f.r),o=new b(f.s);if(i.cmp(w.n)>=0||o.cmp(w.n)>=0)throw new Error(m.ECDSA_SIGNATURE_PARSE_FAIL);try{if(i.isZero()||o.isZero())throw new Error;var s=z.recoverPubKey(r,f,n);return P.from(s.encode(!0,t))}catch{throw new Error(m.ECDSA_RECOVER_FAIL)}};S.ecdh=function(r,e){var n=S.ecdhUnsafe(r,e,!0);return at("sha256").update(n).digest()};S.ecdhUnsafe=function(r,e,n){var t=X(r);if(t===null)throw new Error(m.EC_PUBLIC_KEY_PARSE_FAIL);var f=new b(e);if(f.cmp(w.n)>=0||f.isZero())throw new Error(m.ECDH_FAIL);return P.from(t.pub.mul(f).encode(!0,n))}});var _n=y((mf,dn)=>{"use strict";d();_();dn.exports=sn()(ln())});var hn=y(u=>{"use strict";d();_();var lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},dt=on(),F=_n(),ke=De(),br=wr(),Y=j(),En=Be(),N=tr().Buffer;Object.assign(u,fr());u.MAX_INTEGER=new Y("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16);u.TWO_POW256=new Y("10000000000000000000000000000000000000000000000000000000000000000",16);u.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";u.SHA3_NULL_S=u.KECCAK256_NULL_S;u.KECCAK256_NULL=N.from(u.KECCAK256_NULL_S,"hex");u.SHA3_NULL=u.KECCAK256_NULL;u.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";u.SHA3_RLP_ARRAY_S=u.KECCAK256_RLP_ARRAY_S;u.KECCAK256_RLP_ARRAY=N.from(u.KECCAK256_RLP_ARRAY_S,"hex");u.SHA3_RLP_ARRAY=u.KECCAK256_RLP_ARRAY;u.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";u.SHA3_RLP_S=u.KECCAK256_RLP_S;u.KECCAK256_RLP=N.from(u.KECCAK256_RLP_S,"hex");u.SHA3_RLP=u.KECCAK256_RLP;u.BN=Y;u.rlp=br;u.secp256k1=F;u.zeros=function(r){return N.allocUnsafe(r).fill(0)};u.zeroAddress=function(){var r=20,e=u.zeros(r);return u.bufferToHex(e)};u.setLengthLeft=u.setLength=function(r,e,n){var t=u.zeros(e);return r=u.toBuffer(r),n?r.length<e?(r.copy(t),t):r.slice(0,e):r.length<e?(r.copy(t,e-r.length),t):r.slice(-e)};u.setLengthRight=function(r,e){return u.setLength(r,e,!0)};u.unpad=u.stripZeros=function(r){r=u.stripHexPrefix(r);for(var e=r[0];r.length>0&&e.toString()==="0";)r=r.slice(1),e=r[0];return r};u.toBuffer=function(r){if(!N.isBuffer(r))if(Array.isArray(r))r=N.from(r);else if(typeof r=="string")u.isHexString(r)?r=N.from(u.padToEven(u.stripHexPrefix(r)),"hex"):r=N.from(r);else if(typeof r=="number")r=u.intToBuffer(r);else if(r==null)r=N.allocUnsafe(0);else if(Y.isBN(r))r=r.toArrayLike(N);else if(r.toArray)r=N.from(r.toArray());else throw new Error("invalid type");return r};u.bufferToInt=function(r){return new Y(u.toBuffer(r)).toNumber()};u.bufferToHex=function(r){return r=u.toBuffer(r),"0x"+r.toString("hex")};u.fromSigned=function(r){return new Y(r).fromTwos(256)};u.toUnsigned=function(r){return N.from(r.toTwos(256).toArray())};u.keccak=function(r,e){return r=u.toBuffer(r),e||(e=256),dt("keccak"+e).update(r).digest()};u.keccak256=function(r){return u.keccak(r)};u.sha3=u.keccak;u.sha256=function(r){return r=u.toBuffer(r),En("sha256").update(r).digest()};u.ripemd160=function(r,e){r=u.toBuffer(r);var n=En("rmd160").update(r).digest();return e===!0?u.setLength(n,32):n};u.rlphash=function(r){return u.keccak(br.encode(r))};u.isValidPrivate=function(r){return F.privateKeyVerify(r)};u.isValidPublic=function(r,e){return r.length===64?F.publicKeyVerify(N.concat([N.from([4]),r])):e?F.publicKeyVerify(r):!1};u.pubToAddress=u.publicToAddress=function(r,e){return r=u.toBuffer(r),e&&r.length!==64&&(r=F.publicKeyConvert(r,!1).slice(1)),ke(r.length===64),u.keccak(r).slice(-20)};var _t=u.privateToPublic=function(r){return r=u.toBuffer(r),F.publicKeyCreate(r,!1).slice(1)};u.importPublic=function(r){return r=u.toBuffer(r),r.length!==64&&(r=F.publicKeyConvert(r,!1).slice(1)),r};u.ecsign=function(r,e){var n=F.sign(r,e),t={};return t.r=n.signature.slice(0,32),t.s=n.signature.slice(32,64),t.v=n.recovery+27,t};u.hashPersonalMessage=function(r){var e=u.toBuffer(`Ethereum Signed Message:
`+r.length.toString());return u.keccak(N.concat([e,r]))};u.ecrecover=function(r,e,n,t){var f=N.concat([u.setLength(n,32),u.setLength(t,32)],64),i=e-27;if(i!==0&&i!==1)throw new Error("Invalid signature v value");var o=F.recover(r,f,i);return F.publicKeyConvert(o,!1).slice(1)};u.toRpcSig=function(r,e,n){if(r!==27&&r!==28)throw new Error("Invalid recovery id");return u.bufferToHex(N.concat([u.setLengthLeft(e,32),u.setLengthLeft(n,32),u.toBuffer(r-27)]))};u.fromRpcSig=function(r){if(r=u.toBuffer(r),r.length!==65)throw new Error("Invalid signature length");var e=r[64];return e<27&&(e+=27),{v:e,r:r.slice(0,32),s:r.slice(32,64)}};u.privateToAddress=function(r){return u.publicToAddress(_t(r))};u.isValidAddress=function(r){return/^0x[0-9a-fA-F]{40}$/.test(r)};u.isZeroAddress=function(r){var e=u.zeroAddress();return e===u.addHexPrefix(r)};u.toChecksumAddress=function(r){r=u.stripHexPrefix(r).toLowerCase();for(var e=u.keccak(r).toString("hex"),n="0x",t=0;t<r.length;t++)parseInt(e[t],16)>=8?n+=r[t].toUpperCase():n+=r[t];return n};u.isValidChecksumAddress=function(r){return u.isValidAddress(r)&&u.toChecksumAddress(r)===r};u.generateAddress=function(r,e){return r=u.toBuffer(r),e=new Y(e),e.isZero()?e=null:e=N.from(e.toArray()),u.rlphash([r,e]).slice(-20)};u.isPrecompiled=function(r){var e=u.unpad(r);return e.length===1&&e[0]>=1&&e[0]<=8};u.addHexPrefix=function(r){return typeof r!="string"||u.isHexPrefixed(r)?r:"0x"+r};u.isValidSignature=function(r,e,n,t){var f=new Y("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),i=new Y("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return!(e.length!==32||n.length!==32||r!==27&&r!==28||(e=new Y(e),n=new Y(n),e.isZero()||e.gt(i)||n.isZero()||n.gt(i))||t===!1&&new Y(n).cmp(f)===1)};u.baToJSON=function(r){if(N.isBuffer(r))return"0x"+r.toString("hex");if(r instanceof Array){for(var e=[],n=0;n<r.length;n++)e.push(u.baToJSON(r[n]));return e}};u.defineProperties=function(r,e,n){if(r.raw=[],r._fields=[],r.toJSON=function(f){if(f){var i={};return r._fields.forEach(function(o){i[o]="0x"+r[o].toString("hex")}),i}return u.baToJSON(this.raw)},r.serialize=function(){return br.encode(r.raw)},e.forEach(function(f,i){r._fields.push(f.name);function o(){return r.raw[i]}function s(x){x=u.toBuffer(x),x.toString("hex")==="00"&&!f.allowZero&&(x=N.allocUnsafe(0)),f.allowLess&&f.length?(x=u.stripZeros(x),ke(f.length>=x.length,"The field "+f.name+" must not have more "+f.length+" bytes")):!(f.allowZero&&x.length===0)&&f.length&&ke(f.length===x.length,"The field "+f.name+" must have byte length of "+f.length),r.raw[i]=x}Object.defineProperty(r,f.name,{enumerable:!0,configurable:!0,get:o,set:s}),f.default&&(r[f.name]=f.default),f.alias&&Object.defineProperty(r,f.alias,{enumerable:!1,configurable:!0,set:s,get:o})}),n)if(typeof n=="string"&&(n=N.from(u.stripHexPrefix(n),"hex")),N.isBuffer(n)&&(n=br.decode(n)),Array.isArray(n)){if(n.length>r._fields.length)throw new Error("wrong number of fields in data");n.forEach(function(f,i){r[r._fields[i]]=u.toBuffer(f)})}else if((typeof n>"u"?"undefined":lt(n))==="object"){var t=Object.keys(n);e.forEach(function(f){t.indexOf(f.name)!==-1&&(r[f.name]=n[f.name]),t.indexOf(f.alias)!==-1&&(r[f.alias]=n[f.alias])})}else throw new Error("invalid data")}});var An=y(ar=>{"use strict";d();_();Object.defineProperty(ar,"__esModule",{value:!0});var Q=j(),Et=M0().ec,Ue=new Et("secp256k1"),ur=Ue.curve;ar.privateKeyExport=function(r,e){e===void 0&&(e=!0);var n=new Q(r);if(n.ucmp(ur.n)>=0)throw new Error("couldn't export to DER format");var t=Ue.g.mul(n);return vn(t.getX(),t.getY(),e)};ar.privateKeyModInverse=function(r){var e=new Q(r);if(e.ucmp(ur.n)>=0||e.isZero())throw new Error("private key range is invalid");return e.invm(ur.n).toArrayLike(a.Buffer,"be",32)};ar.signatureImport=function(r){var e=new Q(r.r);e.ucmp(ur.n)>=0&&(e=new Q(0));var n=new Q(r.s);return n.ucmp(ur.n)>=0&&(n=new Q(0)),a.Buffer.concat([e.toArrayLike(a.Buffer,"be",32),n.toArrayLike(a.Buffer,"be",32)])};ar.ecdhUnsafe=function(r,e,n){n===void 0&&(n=!0);var t=Ue.keyFromPublic(r),f=new Q(e);if(f.ucmp(ur.n)>=0||f.isZero())throw new Error("scalar was invalid (zero or overflow)");var i=t.pub.mul(f);return vn(i.getX(),i.getY(),n)};var vn=function(r,e,n){var t;return n?(t=a.Buffer.alloc(33),t[0]=e.isOdd()?3:2,r.toArrayLike(a.Buffer,"be",32).copy(t,1)):(t=a.Buffer.alloc(65),t[0]=4,r.toArrayLike(a.Buffer,"be",32).copy(t,1),e.toArrayLike(a.Buffer,"be",32).copy(t,33)),t}});var gn=y(Er=>{"use strict";d();_();Object.defineProperty(Er,"__esModule",{value:!0});var ht=a.Buffer.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),vt=a.Buffer.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);Er.privateKeyExport=function(r,e,n){n===void 0&&(n=!0);var t=a.Buffer.from(n?ht:vt);return r.copy(t,n?8:9),e.copy(t,n?181:214),t};Er.privateKeyImport=function(r){var e=r.length,n=0;if(e<n+1||r[n]!==48||(n+=1,e<n+1||!(r[n]&128)))return null;var t=r[n]&127;if(n+=1,t<1||t>2||e<n+t)return null;var f=r[n+t-1]|(t>1?r[n+t-2]<<8:0);return n+=t,e<n+f||e<n+3||r[n]!==2||r[n+1]!==1||r[n+2]!==1||(n+=3,e<n+2||r[n]!==4||r[n+1]>32||e<n+2+r[n+1])?null:r.slice(n+2,n+2+r[n+1])};Er.signatureImportLax=function(r){var e=a.Buffer.alloc(32,0),n=a.Buffer.alloc(32,0),t=r.length,f=0;if(r[f++]!==48)return null;var i=r[f++];if(i&128&&(f+=i-128,f>t)||r[f++]!==2)return null;var o=r[f++];if(o&128){if(i=o-128,f+i>t)return null;for(;i>0&&r[f]===0;f+=1,i-=1);for(o=0;i>0;f+=1,i-=1)o=(o<<8)+r[f]}if(o>t-f)return null;var s=f;if(f+=o,r[f++]!==2)return null;var x=r[f++];if(x&128){if(i=x-128,f+i>t)return null;for(;i>0&&r[f]===0;f+=1,i-=1);for(x=0;i>0;f+=1,i-=1)x=(x<<8)+r[f]}if(x>t-f)return null;var A=f;for(f+=x;o>0&&r[s]===0;o-=1,s+=1);if(o>32)return null;var B=r.slice(s,s+o);for(B.copy(e,32-B.length);x>0&&r[A]===0;x-=1,A+=1);if(x>32)return null;var V=r.slice(A,A+x);return V.copy(n,32-V.length),{r:e,s:n}}});var mr=y(h=>{"use strict";d();_();Object.defineProperty(h,"__esModule",{value:!0});h.ecdhUnsafe=h.ecdh=h.recover=h.verify=h.sign=h.signatureImportLax=h.signatureImport=h.signatureExport=h.signatureNormalize=h.publicKeyCombine=h.publicKeyTweakMul=h.publicKeyTweakAdd=h.publicKeyVerify=h.publicKeyConvert=h.publicKeyCreate=h.privateKeyTweakMul=h.privateKeyTweakAdd=h.privateKeyModInverse=h.privateKeyNegate=h.privateKeyImport=h.privateKeyExport=h.privateKeyVerify=void 0;var R=$n(),yr=An(),Ye=gn();h.privateKeyVerify=function(r){return r.length!==32?!1:R.privateKeyVerify(Uint8Array.from(r))};h.privateKeyExport=function(r,e){if(r.length!==32)throw new RangeError("private key length is invalid");var n=yr.privateKeyExport(r,e);return Ye.privateKeyExport(r,n,e)};h.privateKeyImport=function(r){if(r=Ye.privateKeyImport(r),r!==null&&r.length===32&&h.privateKeyVerify(r))return r;throw new Error("couldn't import from DER format")};h.privateKeyNegate=function(r){return a.Buffer.from(R.privateKeyNegate(Uint8Array.from(r)))};h.privateKeyModInverse=function(r){if(r.length!==32)throw new Error("private key length is invalid");return a.Buffer.from(yr.privateKeyModInverse(Uint8Array.from(r)))};h.privateKeyTweakAdd=function(r,e){return a.Buffer.from(R.privateKeyTweakAdd(Uint8Array.from(r),e))};h.privateKeyTweakMul=function(r,e){return a.Buffer.from(R.privateKeyTweakMul(Uint8Array.from(r),Uint8Array.from(e)))};h.publicKeyCreate=function(r,e){return a.Buffer.from(R.publicKeyCreate(Uint8Array.from(r),e))};h.publicKeyConvert=function(r,e){return a.Buffer.from(R.publicKeyConvert(Uint8Array.from(r),e))};h.publicKeyVerify=function(r){return r.length!==33&&r.length!==65?!1:R.publicKeyVerify(Uint8Array.from(r))};h.publicKeyTweakAdd=function(r,e,n){return a.Buffer.from(R.publicKeyTweakAdd(Uint8Array.from(r),Uint8Array.from(e),n))};h.publicKeyTweakMul=function(r,e,n){return a.Buffer.from(R.publicKeyTweakMul(Uint8Array.from(r),Uint8Array.from(e),n))};h.publicKeyCombine=function(r,e){var n=[];return r.forEach(function(t){n.push(Uint8Array.from(t))}),a.Buffer.from(R.publicKeyCombine(n,e))};h.signatureNormalize=function(r){return a.Buffer.from(R.signatureNormalize(Uint8Array.from(r)))};h.signatureExport=function(r){return a.Buffer.from(R.signatureExport(Uint8Array.from(r)))};h.signatureImport=function(r){return a.Buffer.from(R.signatureImport(Uint8Array.from(r)))};h.signatureImportLax=function(r){if(r.length===0)throw new RangeError("signature length is invalid");var e=Ye.signatureImportLax(r);if(e===null)throw new Error("couldn't parse DER signature");return yr.signatureImport(e)};h.sign=function(r,e,n){if(n===null)throw new TypeError("options should be an Object");var t=void 0;if(n){if(t={},n.data===null)throw new TypeError("options.data should be a Buffer");if(n.data){if(n.data.length!=32)throw new RangeError("options.data length is invalid");t.data=new Uint8Array(n.data)}if(n.noncefn===null)throw new TypeError("options.noncefn should be a Function");n.noncefn&&(t.noncefn=function(i,o,s,x,A){var B=s!=null?a.Buffer.from(s):null,V=x!=null?a.Buffer.from(x):null,g=a.Buffer.from("");return n.noncefn&&(g=n.noncefn(a.Buffer.from(i),a.Buffer.from(o),B,V,A)),new Uint8Array(g)})}var f=R.ecdsaSign(Uint8Array.from(r),Uint8Array.from(e),t);return{signature:a.Buffer.from(f.signature),recovery:f.recid}};h.verify=function(r,e,n){return R.ecdsaVerify(Uint8Array.from(e),Uint8Array.from(r),n)};h.recover=function(r,e,n,t){return a.Buffer.from(R.ecdsaRecover(Uint8Array.from(e),n,Uint8Array.from(r),t))};h.ecdh=function(r,e){return a.Buffer.from(R.ecdh(Uint8Array.from(r),Uint8Array.from(e),{}))};h.ecdhUnsafe=function(r,e,n){if(r.length!==33&&r.length!==65)throw new RangeError("public key length is invalid");if(e.length!==32)throw new RangeError("private key length is invalid");return a.Buffer.from(yr.ecdhUnsafe(Uint8Array.from(r),Uint8Array.from(e),n))}});var wn=y(C=>{"use strict";d();_();Object.defineProperty(C,"__esModule",{value:!0});C.KECCAK256_RLP=C.KECCAK256_RLP_S=C.KECCAK256_RLP_ARRAY=C.KECCAK256_RLP_ARRAY_S=C.KECCAK256_NULL=C.KECCAK256_NULL_S=C.TWO_POW256=C.MAX_INTEGER=void 0;var In=j();C.MAX_INTEGER=new In("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16);C.TWO_POW256=new In("10000000000000000000000000000000000000000000000000000000000000000",16);C.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";C.KECCAK256_NULL=a.Buffer.from(C.KECCAK256_NULL_S,"hex");C.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";C.KECCAK256_RLP_ARRAY=a.Buffer.from(C.KECCAK256_RLP_ARRAY_S,"hex");C.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";C.KECCAK256_RLP=a.Buffer.from(C.KECCAK256_RLP_S,"hex")});var cr=y(L=>{"use strict";d();_();Object.defineProperty(L,"__esModule",{value:!0});L.baToJSON=L.addHexPrefix=L.toUnsigned=L.fromSigned=L.bufferToHex=L.bufferToInt=L.toBuffer=L.stripZeros=L.unpad=L.setLengthRight=L.setLength=L.setLengthLeft=L.zeros=void 0;var xr=fr(),He=j();L.zeros=function(r){return a.Buffer.allocUnsafe(r).fill(0)};L.setLengthLeft=function(r,e,n){n===void 0&&(n=!1);var t=L.zeros(e);return r=L.toBuffer(r),n?r.length<e?(r.copy(t),t):r.slice(0,e):r.length<e?(r.copy(t,e-r.length),t):r.slice(-e)};L.setLength=L.setLengthLeft;L.setLengthRight=function(r,e){return L.setLength(r,e,!0)};L.unpad=function(r){r=xr.stripHexPrefix(r);for(var e=r[0];r.length>0&&e.toString()==="0";)r=r.slice(1),e=r[0];return r};L.stripZeros=L.unpad;L.toBuffer=function(r){if(!a.Buffer.isBuffer(r))if(Array.isArray(r))r=a.Buffer.from(r);else if(typeof r=="string")if(xr.isHexString(r))r=a.Buffer.from(xr.padToEven(xr.stripHexPrefix(r)),"hex");else throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+r);else if(typeof r=="number")r=xr.intToBuffer(r);else if(r==null)r=a.Buffer.allocUnsafe(0);else if(He.isBN(r))r=r.toArrayLike(a.Buffer);else if(r.toArray)r=a.Buffer.from(r.toArray());else throw new Error("invalid type");return r};L.bufferToInt=function(r){return new He(L.toBuffer(r)).toNumber()};L.bufferToHex=function(r){return r=L.toBuffer(r),"0x"+r.toString("hex")};L.fromSigned=function(r){return new He(r).fromTwos(256)};L.toUnsigned=function(r){return a.Buffer.from(r.toTwos(256).toArray())};L.addHexPrefix=function(r){return typeof r!="string"||xr.isHexPrefixed(r)?r:"0x"+r};L.baToJSON=function(r){if(a.Buffer.isBuffer(r))return"0x"+r.toString("hex");if(r instanceof Array){for(var e=[],n=0;n<r.length;n++)e.push(L.baToJSON(r[n]));return e}}});var Sr=y(K=>{"use strict";d();_();Object.defineProperty(K,"__esModule",{value:!0});K.rlphash=K.ripemd160=K.sha256=K.keccak256=K.keccak=void 0;var Pr=jn(),At=Pr.keccak224,gt=Pr.keccak384,It=Pr.keccak256,wt=Pr.keccak512,Ln=Be(),Lt=fr(),pt=wr(),Tr=cr();K.keccak=function(r,e){switch(e===void 0&&(e=256),typeof r=="string"&&!Lt.isHexString(r)?r=a.Buffer.from(r,"utf8"):r=Tr.toBuffer(r),e||(e=256),e){case 224:return At(r);case 256:return It(r);case 384:return gt(r);case 512:return wt(r);default:throw new Error("Invald algorithm: keccak"+e)}};K.keccak256=function(r){return K.keccak(r)};K.sha256=function(r){return r=Tr.toBuffer(r),Ln("sha256").update(r).digest()};K.ripemd160=function(r,e){r=Tr.toBuffer(r);var n=Ln("rmd160").update(r).digest();return e===!0?Tr.setLength(n,32):n};K.rlphash=function(r){return K.keccak(pt.encode(r))}});var pn=y(I=>{"use strict";d();_();Object.defineProperty(I,"__esModule",{value:!0});I.importPublic=I.privateToPublic=I.privateToAddress=I.publicToAddress=I.pubToAddress=I.isValidPublic=I.isValidPrivate=I.isPrecompiled=I.generateAddress2=I.generateAddress=I.isValidChecksumAddress=I.toChecksumAddress=I.isZeroAddress=I.isValidAddress=I.zeroAddress=void 0;var Oe=De(),bt=fr(),sr=mr(),yt=j(),q=cr(),lr=Sr();I.zeroAddress=function(){var r=20,e=q.zeros(r);return q.bufferToHex(e)};I.isValidAddress=function(r){return/^0x[0-9a-fA-F]{40}$/.test(r)};I.isZeroAddress=function(r){var e=I.zeroAddress();return e===q.addHexPrefix(r)};I.toChecksumAddress=function(r,e){r=bt.stripHexPrefix(r).toLowerCase();for(var n=e!==void 0?e.toString()+"0x":"",t=lr.keccak(n+r).toString("hex"),f="0x",i=0;i<r.length;i++)parseInt(t[i],16)>=8?f+=r[i].toUpperCase():f+=r[i];return f};I.isValidChecksumAddress=function(r,e){return I.isValidAddress(r)&&I.toChecksumAddress(r,e)===r};I.generateAddress=function(r,e){r=q.toBuffer(r);var n=new yt(e);return n.isZero()?lr.rlphash([r,null]).slice(-20):lr.rlphash([r,a.Buffer.from(n.toArray())]).slice(-20)};I.generateAddress2=function(r,e,n){var t=q.toBuffer(r),f=q.toBuffer(e),i=q.toBuffer(n);Oe(t.length===20),Oe(f.length===32);var o=lr.keccak256(a.Buffer.concat([a.Buffer.from("ff","hex"),t,f,lr.keccak256(i)]));return o.slice(-20)};I.isPrecompiled=function(r){var e=q.unpad(r);return e.length===1&&e[0]>=1&&e[0]<=8};I.isValidPrivate=function(r){return sr.privateKeyVerify(r)};I.isValidPublic=function(r,e){return e===void 0&&(e=!1),r.length===64?sr.publicKeyVerify(a.Buffer.concat([a.Buffer.from([4]),r])):e?sr.publicKeyVerify(r):!1};I.pubToAddress=function(r,e){return e===void 0&&(e=!1),r=q.toBuffer(r),e&&r.length!==64&&(r=sr.publicKeyConvert(r,!1).slice(1)),Oe(r.length===64),lr.keccak(r).slice(-20)};I.publicToAddress=I.pubToAddress;I.privateToAddress=function(r){return I.publicToAddress(I.privateToPublic(r))};I.privateToPublic=function(r){return r=q.toBuffer(r),sr.publicKeyCreate(r,!1).slice(1)};I.importPublic=function(r){return r=q.toBuffer(r),r.length!==64&&(r=sr.publicKeyConvert(r,!1).slice(1)),r}});var bn=y(k=>{"use strict";d();_();Object.defineProperty(k,"__esModule",{value:!0});k.hashPersonalMessage=k.isValidSignature=k.fromRpcSig=k.toRpcSig=k.ecrecover=k.ecsign=void 0;var qe=mr(),Nr=j(),rr=cr(),mt=Sr();k.ecsign=function(r,e,n){var t=qe.sign(r,e),f=t.recovery,i={r:t.signature.slice(0,32),s:t.signature.slice(32,64),v:n?f+(n*2+35):f+27};return i};k.ecrecover=function(r,e,n,t,f){var i=a.Buffer.concat([rr.setLength(n,32),rr.setLength(t,32)],64),o=Ge(e,f);if(!Me(o))throw new Error("Invalid signature v value");var s=qe.recover(r,i,o);return qe.publicKeyConvert(s,!1).slice(1)};k.toRpcSig=function(r,e,n,t){var f=Ge(r,t);if(!Me(f))throw new Error("Invalid signature v value");return rr.bufferToHex(a.Buffer.concat([rr.setLengthLeft(e,32),rr.setLengthLeft(n,32),rr.toBuffer(r)]))};k.fromRpcSig=function(r){var e=rr.toBuffer(r);if(e.length!==65)throw new Error("Invalid signature length");var n=e[64];return n<27&&(n+=27),{v:n,r:e.slice(0,32),s:e.slice(32,64)}};k.isValidSignature=function(r,e,n,t,f){t===void 0&&(t=!0);var i=new Nr("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),o=new Nr("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(e.length!==32||n.length!==32||!Me(Ge(r,f)))return!1;var s=new Nr(e),x=new Nr(n);return!(s.isZero()||s.gt(o)||x.isZero()||x.gt(o)||t&&x.cmp(i)===1)};k.hashPersonalMessage=function(r){var e=a.Buffer.from(`Ethereum Signed Message:
`+r.length.toString(),"utf-8");return mt.keccak(a.Buffer.concat([e,r]))};function Ge(r,e){return e?r-(2*e+35):r-27}function Me(r){return r===0||r===1}});var Tn=y(Br=>{"use strict";d();_();Object.defineProperty(Br,"__esModule",{value:!0});Br.defineProperties=void 0;var yn=De(),Tt=fr(),mn=wr(),Cr=cr();Br.defineProperties=function(r,e,n){if(r.raw=[],r._fields=[],r.toJSON=function(f){if(f===void 0&&(f=!1),f){var i={};return r._fields.forEach(function(o){i[o]="0x"+r[o].toString("hex")}),i}return Cr.baToJSON(r.raw)},r.serialize=function(){return mn.encode(r.raw)},e.forEach(function(f,i){r._fields.push(f.name);function o(){return r.raw[i]}function s(x){x=Cr.toBuffer(x),x.toString("hex")==="00"&&!f.allowZero&&(x=a.Buffer.allocUnsafe(0)),f.allowLess&&f.length?(x=Cr.stripZeros(x),yn(f.length>=x.length,"The field "+f.name+" must not have more "+f.length+" bytes")):!(f.allowZero&&x.length===0)&&f.length&&yn(f.length===x.length,"The field "+f.name+" must have byte length of "+f.length),r.raw[i]=x}Object.defineProperty(r,f.name,{enumerable:!0,configurable:!0,get:o,set:s}),f.default&&(r[f.name]=f.default),f.alias&&Object.defineProperty(r,f.alias,{enumerable:!1,configurable:!0,set:s,get:o})}),n)if(typeof n=="string"&&(n=a.Buffer.from(Tt.stripHexPrefix(n),"hex")),a.Buffer.isBuffer(n)&&(n=mn.decode(n)),Array.isArray(n)){if(n.length>r._fields.length)throw new Error("wrong number of fields in data");n.forEach(function(f,i){r[r._fields[i]]=Cr.toBuffer(f)})}else if(typeof n=="object"){var t=Object.keys(n);e.forEach(function(f){t.indexOf(f.name)!==-1&&(r[f.name]=n[f.name]),t.indexOf(f.alias)!==-1&&(r[f.alias]=n[f.alias])})}else throw new Error("invalid data")}});var Pn=y(D=>{"use strict";d();_();var Pt=D&&D.__createBinding||(Object.create?function(r,e,n,t){t===void 0&&(t=n),Object.defineProperty(r,t,{enumerable:!0,get:function(){return e[n]}})}:function(r,e,n,t){t===void 0&&(t=n),r[t]=e[n]}),dr=D&&D.__exportStar||function(r,e){for(var n in r)n!=="default"&&!e.hasOwnProperty(n)&&Pt(e,r,n)};Object.defineProperty(D,"__esModule",{value:!0});D.secp256k1=D.rlp=D.BN=void 0;var St=mr();D.secp256k1=St;var Nt=fr(),Ct=j();D.BN=Ct;var Bt=wr();D.rlp=Bt;Object.assign(D,Nt);dr(wn(),D);dr(pn(),D);dr(Sr(),D);dr(bn(),D);dr(cr(),D);dr(Tn(),D)});var Bn=y((ai,Cn)=>{d();_();var Z=Pn(),U=j(),T=function(){};function Dr(r){return r.startsWith("int[")?"int256"+r.slice(3):r==="int"?"int256":r.startsWith("uint[")?"uint256"+r.slice(4):r==="uint"?"uint256":r.startsWith("fixed[")?"fixed128x128"+r.slice(5):r==="fixed"?"fixed128x128":r.startsWith("ufixed[")?"ufixed128x128"+r.slice(6):r==="ufixed"?"ufixed128x128":r}T.eventID=function(r,e){var n=r+"("+e.map(Dr).join(",")+")";return Z.keccak256(a.Buffer.from(n))};T.methodID=function(r,e){return T.eventID(r,e).slice(0,4)};function J(r){return parseInt(/^\D+(\d+)$/.exec(r)[1],10)}function ze(r){var e=/^\D+(\d+)x(\d+)$/.exec(r);return[parseInt(e[1],10),parseInt(e[2],10)]}function vr(r){var e=r.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function er(r){var e=typeof r;if(e==="string")return Z.isHexPrefixed(r)?new U(Z.stripHexPrefix(r),16):new U(r,10);if(e==="number")return new U(r);if(r.toArray)return r;throw new Error("Argument is not a number")}function Nn(r){var e=/^(\w+)\((.*)\)$/.exec(r);if(e.length!==3)throw new Error("Invalid method signature");var n=/^(.+)\):\((.+)$/.exec(e[2]);if(n!==null&&n.length===3)return{method:e[1],args:n[1].split(","),retargs:n[2].split(",")};var t=e[2].split(",");return t.length===1&&t[0]===""&&(t=[]),{method:e[1],args:t}}function W(r,e){var n,t,f,i;if(r==="address")return W("uint160",er(e));if(r==="bool")return W("uint8",e?1:0);if(r==="string")return W("bytes",a.Buffer.from(e,"utf8"));if(hr(r)){if(typeof e.length>"u")throw new Error("Not an array?");if(n=vr(r),n!=="dynamic"&&n!==0&&e.length>n)throw new Error("Elements exceed array size: "+n);f=[],r=r.slice(0,r.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(i in e)f.push(W(r,e[i]));if(n==="dynamic"){var o=W("uint256",e.length);f.unshift(o)}return a.Buffer.concat(f)}else{if(r==="bytes")return e=a.Buffer.from(e),f=a.Buffer.concat([W("uint256",e.length),e]),e.length%32!==0&&(f=a.Buffer.concat([f,Z.zeros(32-e.length%32)])),f;if(r.startsWith("bytes")){if(n=J(r),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return Z.setLengthRight(e,32)}else if(r.startsWith("uint")){if(n=J(r),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if(t=er(e),t.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+t.bitLength());if(t<0)throw new Error("Supplied uint is negative");return t.toArrayLike(a.Buffer,"be",32)}else if(r.startsWith("int")){if(n=J(r),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if(t=er(e),t.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+t.bitLength());return t.toTwos(256).toArrayLike(a.Buffer,"be",32)}else if(r.startsWith("ufixed")){if(n=ze(r),t=er(e),t<0)throw new Error("Supplied ufixed is negative");return W("uint256",t.mul(new U(2).pow(new U(n[1]))))}else if(r.startsWith("fixed"))return n=ze(r),W("int256",er(e).mul(new U(2).pow(new U(n[1]))))}throw new Error("Unsupported or invalid type: "+r)}function G(r,e,n){typeof r=="string"&&(r=Fe(r));var t,f,i,o;if(r.name==="address")return G(r.rawType,e,n).toArrayLike(a.Buffer,"be",20).toString("hex");if(r.name==="bool")return G(r.rawType,e,n).toString()===new U(1).toString();if(r.name==="string"){var s=G(r.rawType,e,n);return a.Buffer.from(s,"utf8").toString()}else if(r.isArray){for(i=[],t=r.size,r.size==="dynamic"&&(n=G("uint256",e,n).toNumber(),t=G("uint256",e,n).toNumber(),n=n+32),o=0;o<t;o++){var x=G(r.subArray,e,n);i.push(x),n+=r.subArray.memoryUsage}return i}else{if(r.name==="bytes")return n=G("uint256",e,n).toNumber(),t=G("uint256",e,n).toNumber(),e.slice(n+32,n+32+t);if(r.name.startsWith("bytes"))return e.slice(n,n+r.size);if(r.name.startsWith("uint")){if(f=new U(e.slice(n,n+32),16,"be"),f.bitLength()>r.size)throw new Error("Decoded int exceeds width: "+r.size+" vs "+f.bitLength());return f}else if(r.name.startsWith("int")){if(f=new U(e.slice(n,n+32),16,"be").fromTwos(256),f.bitLength()>r.size)throw new Error("Decoded uint exceeds width: "+r.size+" vs "+f.bitLength());return f}else if(r.name.startsWith("ufixed")){if(t=new U(2).pow(new U(r.size[1])),f=G("uint256",e,n),!f.mod(t).isZero())throw new Error("Decimals not supported yet");return f.div(t)}else if(r.name.startsWith("fixed")){if(t=new U(2).pow(new U(r.size[1])),f=G("int256",e,n),!f.mod(t).isZero())throw new Error("Decimals not supported yet");return f.div(t)}}throw new Error("Unsupported or invalid type: "+r.name)}function Fe(r){var e,n;if(hr(r)){e=vr(r);var t=r.slice(0,r.lastIndexOf("["));return t=Fe(t),n={isArray:!0,name:r,size:e,memoryUsage:e==="dynamic"?32:t.memoryUsage*e,subArray:t},n}else{var f;switch(r){case"address":f="uint160";break;case"bool":f="uint8";break;case"string":f="bytes";break}if(n={rawType:f,name:r,memoryUsage:32},r.startsWith("bytes")&&r!=="bytes"||r.startsWith("uint")||r.startsWith("int")?n.size=J(r):(r.startsWith("ufixed")||r.startsWith("fixed"))&&(n.size=ze(r)),r.startsWith("bytes")&&r!=="bytes"&&(n.size<1||n.size>32))throw new Error("Invalid bytes<N> width: "+n.size);if((r.startsWith("uint")||r.startsWith("int"))&&(n.size%8||n.size<8||n.size>256))throw new Error("Invalid int/uint<N> width: "+n.size);return n}}function Dt(r){return r==="string"||r==="bytes"||vr(r)==="dynamic"}function hr(r){return r.lastIndexOf("]")===r.length-1}T.rawEncode=function(r,e){var n=[],t=[],f=0;r.forEach(function(A){if(hr(A)){var B=vr(A);B!=="dynamic"?f+=32*B:f+=32}else f+=32});for(var i=0;i<r.length;i++){var o=Dr(r[i]),s=e[i],x=W(o,s);Dt(o)?(n.push(W("uint256",f)),t.push(x),f+=x.length):n.push(x)}return a.Buffer.concat(n.concat(t))};T.rawDecode=function(r,e){var n=[];e=a.Buffer.from(e);for(var t=0,f=0;f<r.length;f++){var i=Dr(r[f]),o=Fe(i,e,t),s=G(o,e,t);t+=o.memoryUsage,n.push(s)}return n};T.simpleEncode=function(r){var e=Array.prototype.slice.call(arguments).slice(1),n=Nn(r);if(e.length!==n.args.length)throw new Error("Argument count mismatch");return a.Buffer.concat([T.methodID(n.method,n.args),T.rawEncode(n.args,e)])};T.simpleDecode=function(r,e){var n=Nn(r);if(!n.retargs)throw new Error("No return values in method");return T.rawDecode(n.retargs,e)};function Sn(r,e){return r.startsWith("address")||r.startsWith("bytes")?"0x"+e.toString("hex"):e.toString()}T.stringify=function(r,e){var n=[];for(var t in r){var f=r[t],i=e[t];/^[^\[]+\[.*\]$/.test(f)?i=i.map(function(o){return Sn(f,o)}).join(", "):i=Sn(f,i),n.push(i)}return n};T.solidityHexValue=function(r,e,n){var t,f;if(hr(r)){var i=r.replace(/\[.*?\]/,"");if(!hr(i)){var o=vr(r);if(o!=="dynamic"&&o!==0&&e.length>o)throw new Error("Elements exceed array size: "+o)}var s=e.map(function(B){return T.solidityHexValue(i,B,256)});return a.Buffer.concat(s)}else{if(r==="bytes")return e;if(r==="string")return a.Buffer.from(e,"utf8");if(r==="bool"){n=n||8;var x=Array(n/4).join("0");return a.Buffer.from(e?x+"1":x+"0","hex")}else if(r==="address"){var A=20;return n&&(A=n/8),Z.setLengthLeft(e,A)}else if(r.startsWith("bytes")){if(t=J(r),t<1||t>32)throw new Error("Invalid bytes<N> width: "+t);return Z.setLengthRight(e,t)}else if(r.startsWith("uint")){if(t=J(r),t%8||t<8||t>256)throw new Error("Invalid uint<N> width: "+t);if(f=er(e),f.bitLength()>t)throw new Error("Supplied uint exceeds width: "+t+" vs "+f.bitLength());return n=n||t,f.toArrayLike(a.Buffer,"be",n/8)}else if(r.startsWith("int")){if(t=J(r),t%8||t<8||t>256)throw new Error("Invalid int<N> width: "+t);if(f=er(e),f.bitLength()>t)throw new Error("Supplied int exceeds width: "+t+" vs "+f.bitLength());return n=n||t,f.toTwos(t).toArrayLike(a.Buffer,"be",n/8)}else throw new Error("Unsupported or invalid type: "+r)}};T.solidityPack=function(r,e){if(r.length!==e.length)throw new Error("Number of types are not matching the values");for(var n=[],t=0;t<r.length;t++){var f=Dr(r[t]),i=e[t];n.push(T.solidityHexValue(f,i,null))}return a.Buffer.concat(n)};T.soliditySHA3=function(r,e){return Z.keccak256(T.solidityPack(r,e))};T.soliditySHA256=function(r,e){return Z.sha256(T.solidityPack(r,e))};T.solidityRIPEMD160=function(r,e){return Z.ripemd160(T.solidityPack(r,e),!0)};function Rt(r){return r>="0"&&r<="9"}T.fromSerpent=function(r){for(var e=[],n=0;n<r.length;n++){var t=r[n];if(t==="s")e.push("bytes");else if(t==="b"){for(var f="bytes",i=n+1;i<r.length&&Rt(r[i]);)f+=r[i]-"0",i++;n=i-1,e.push(f)}else if(t==="i")e.push("int256");else if(t==="a")e.push("int256[]");else throw new Error("Unsupported or invalid type: "+t)}return e};T.toSerpent=function(r){for(var e=[],n=0;n<r.length;n++){var t=r[n];if(t==="bytes")e.push("s");else if(t.startsWith("bytes"))e.push("b"+J(t));else if(t==="int256")e.push("i");else if(t==="int256[]")e.push("a");else throw new Error("Unsupported or invalid type: "+t)}return e.join("")};Cn.exports=T});var Rn=y((si,Dn)=>{d();_();Dn.exports=Bn()});var Wt=y(E=>{"use strict";d();_();var Vt=E&&E.__createBinding||(Object.create?function(r,e,n,t){t===void 0&&(t=n),Object.defineProperty(r,t,{enumerable:!0,get:function(){return e[n]}})}:function(r,e,n,t){t===void 0&&(t=n),r[t]=e[n]}),Kt=E&&E.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Rr=E&&E.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var n in r)n!=="default"&&Object.prototype.hasOwnProperty.call(r,n)&&Vt(e,r,n);return Kt(e,r),e};Object.defineProperty(E,"__esModule",{value:!0});E.recoverTypedSignature_v4=E.recoverTypedSignature=E.signTypedData_v4=E.signTypedData=E.recoverTypedMessage=E.signTypedMessage=E.getEncryptionPublicKey=E.decryptSafely=E.decrypt=E.encryptSafely=E.encrypt=E.recoverTypedSignatureLegacy=E.signTypedDataLegacy=E.typedSignatureHash=E.extractPublicKey=E.recoverPersonalSignature=E.personalSign=E.normalize=E.concatSig=E.TypedDataUtils=E.TYPED_MESSAGE_SCHEMA=void 0;var v=Rr(hn()),Ar=Rr(Rn()),nr=Rr(Jn()),M=Rr(Qn()),Kn={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};E.TYPED_MESSAGE_SCHEMA=Kn;var gr={encodeData(r,e,n,t=!0){let f=["bytes32"],i=[this.hashType(r,n)];if(t){let o=(s,x,A)=>{if(n[x]!==void 0)return["bytes32",A==null?"0x0000000000000000000000000000000000000000000000000000000000000000":v.keccak(this.encodeData(x,A,n,t))];if(A===void 0)throw new Error(`missing value for field ${s} of type ${x}`);if(x==="bytes")return["bytes32",v.keccak(A)];if(x==="string")return typeof A=="string"&&(A=a.Buffer.from(A,"utf8")),["bytes32",v.keccak(A)];if(x.lastIndexOf("]")===x.length-1){let B=x.slice(0,x.lastIndexOf("[")),V=A.map(g=>o(s,B,g));return["bytes32",v.keccak(Ar.rawEncode(V.map(([g])=>g),V.map(([,g])=>g)))]}return[x,A]};for(let s of n[r]){let[x,A]=o(s.name,s.type,e[s.name]);f.push(x),i.push(A)}}else for(let o of n[r]){let s=e[o.name];if(s!==void 0)if(o.type==="bytes")f.push("bytes32"),s=v.keccak(s),i.push(s);else if(o.type==="string")f.push("bytes32"),typeof s=="string"&&(s=a.Buffer.from(s,"utf8")),s=v.keccak(s),i.push(s);else if(n[o.type]!==void 0)f.push("bytes32"),s=v.keccak(this.encodeData(o.type,s,n,t)),i.push(s);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");f.push(o.type),i.push(s)}}return Ar.rawEncode(f,i)},encodeType(r,e){let n="",t=this.findTypeDependencies(r,e).filter(f=>f!==r);t=[r].concat(t.sort());for(let f of t){if(!e[f])throw new Error(`No type definition specified: ${f}`);n+=`${f}(${e[f].map(({name:o,type:s})=>`${s} ${o}`).join(",")})`}return n},findTypeDependencies(r,e,n=[]){if([r]=r.match(/^\w*/u),n.includes(r)||e[r]===void 0)return n;n.push(r);for(let t of e[r])for(let f of this.findTypeDependencies(t.type,e,n))!n.includes(f)&&n.push(f);return n},hashStruct(r,e,n,t=!0){return v.keccak(this.encodeData(r,e,n,t))},hashType(r,e){return v.keccak(this.encodeType(r,e))},sanitizeData(r){let e={};for(let n in Kn.properties)r[n]&&(e[n]=r[n]);return"types"in e&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},sign(r,e=!0){let n=this.sanitizeData(r),t=[a.Buffer.from("1901","hex")];return t.push(this.hashStruct("EIP712Domain",n.domain,n.types,e)),n.primaryType!=="EIP712Domain"&&t.push(this.hashStruct(n.primaryType,n.message,n.types,e)),v.keccak(a.Buffer.concat(t))}};E.TypedDataUtils=gr;function Ir(r,e,n){let t=v.fromSigned(e),f=v.fromSigned(n),i=v.bufferToInt(r),o=Vn(v.toUnsigned(t).toString("hex"),64),s=Vn(v.toUnsigned(f).toString("hex"),64),x=v.stripHexPrefix(v.intToHex(i));return v.addHexPrefix(o.concat(s,x)).toString("hex")}E.concatSig=Ir;function kt(r){if(!!r){if(typeof r=="number"){let e=v.toBuffer(r);r=v.bufferToHex(e)}if(typeof r!="string"){let e="eth-sig-util.normalize() requires hex string or integer input.";throw e+=` received ${typeof r}: ${r}`,new Error(e)}return v.addHexPrefix(r.toLowerCase())}}E.normalize=kt;function Ut(r,e){let n=v.toBuffer(e.data),t=v.hashPersonalMessage(n),f=v.ecsign(t,r);return v.bufferToHex(Ir(f.v,f.r,f.s))}E.personalSign=Ut;function Yt(r){let e=zn(r),n=v.publicToAddress(e);return v.bufferToHex(n)}E.recoverPersonalSignature=Yt;function Ht(r){return`0x${zn(r).toString("hex")}`}E.extractPublicKey=Ht;function Ot(r){let e=We(r);return v.bufferToHex(e)}E.typedSignatureHash=Ot;function kn(r,e){let n=We(e.data),t=v.ecsign(n,r);return v.bufferToHex(Ir(t.v,t.r,t.s))}E.signTypedDataLegacy=kn;function Un(r){let e=We(r.data),n=Vr(e,r.sig),t=v.publicToAddress(n);return v.bufferToHex(t)}E.recoverTypedSignatureLegacy=Un;function Yn(r,e,n){switch(n){case"x25519-xsalsa20-poly1305":{if(typeof e.data!="string")throw new Error('Cannot detect secret message, message params should be of the form {data: "secret message"} ');let t=nr.box.keyPair(),f;try{f=M.decodeBase64(r)}catch{throw new Error("Bad public key")}let i=M.decodeUTF8(e.data),o=nr.randomBytes(nr.box.nonceLength),s=nr.box(i,o,f,t.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:M.encodeBase64(o),ephemPublicKey:M.encodeBase64(t.publicKey),ciphertext:M.encodeBase64(s)}}default:throw new Error("Encryption type/version not supported")}}E.encrypt=Yn;function qt(r,e,n){let{data:i}=e;if(!i)throw new Error("Cannot encrypt empty msg.data");if(typeof i=="object"&&"toJSON"in i)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");let o={data:i,padding:""},x=a.Buffer.byteLength(JSON.stringify(o),"utf-8")%2048,A=0;x>0&&(A=2048-x-16),o.padding="0".repeat(A);let B={data:JSON.stringify(o)};return Yn(r,B,n)}E.encryptSafely=qt;function Hn(r,e){switch(r.version){case"x25519-xsalsa20-poly1305":{let n=Fn(e),t=nr.box.keyPair.fromSecretKey(n).secretKey,f=M.decodeBase64(r.nonce),i=M.decodeBase64(r.ciphertext),o=M.decodeBase64(r.ephemPublicKey),s=nr.box.open(i,f,o,t),x;try{x=M.encodeUTF8(s)}catch{throw new Error("Decryption failed.")}if(x)return x;throw new Error("Decryption failed.")}default:throw new Error("Encryption type/version not supported.")}}E.decrypt=Hn;function Gt(r,e){return JSON.parse(Hn(r,e)).data}E.decryptSafely=Gt;function Mt(r){let e=Fn(r),n=nr.box.keyPair.fromSecretKey(e).publicKey;return M.encodeBase64(n)}E.getEncryptionPublicKey=Mt;function zt(r,e,n="V4"){switch(n){case"V1":return kn(r,e);case"V3":return On(r,e);case"V4":default:return qn(r,e)}}E.signTypedMessage=zt;function Ft(r,e="V4"){switch(e){case"V1":return Un(r);case"V3":return Gn(r);case"V4":default:return Mn(r)}}E.recoverTypedMessage=Ft;function On(r,e){let n=gr.sign(e.data,!1),t=v.ecsign(n,r);return v.bufferToHex(Ir(t.v,t.r,t.s))}E.signTypedData=On;function qn(r,e){let n=gr.sign(e.data),t=v.ecsign(n,r);return v.bufferToHex(Ir(t.v,t.r,t.s))}E.signTypedData_v4=qn;function Gn(r){let e=gr.sign(r.data,!1),n=Vr(e,r.sig),t=v.publicToAddress(n);return v.bufferToHex(t)}E.recoverTypedSignature=Gn;function Mn(r){let e=gr.sign(r.data),n=Vr(e,r.sig),t=v.publicToAddress(n);return v.bufferToHex(t)}E.recoverTypedSignature_v4=Mn;function We(r){let e=new Error("Expect argument to be non-empty array");if(typeof r!="object"||!("length"in r)||!r.length)throw e;let n=r.map(function(i){return i.type==="bytes"?v.toBuffer(i.value):i.value}),t=r.map(function(i){return i.type}),f=r.map(function(i){if(!i.name)throw e;return`${i.type} ${i.name}`});return Ar.soliditySHA3(["bytes32","bytes32"],[Ar.soliditySHA3(new Array(r.length).fill("string"),f),Ar.soliditySHA3(t,n)])}function Vr(r,e){let n=v.toBuffer(e),t=v.fromRpcSig(n);return v.ecrecover(r,t.v,t.r,t.s)}function zn(r){let e=v.toBuffer(r.data),n=v.hashPersonalMessage(e);return Vr(n,r.sig)}function Vn(r,e){let n=`${r}`;for(;n.length<e;)n=`0${n}`;return n}function Fn(r){let e=a.Buffer.from(r,"hex").toString("base64");return M.decodeBase64(e)}});export{Wt as a};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-UXBKFN2U.js.map
