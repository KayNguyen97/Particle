import{f as G,k as O,o as Y}from"./chunk-62JDSRZZ.js";import{b as j}from"./chunk-ODS2CEAN.js";import{p}from"./chunk-IU3TYIWS.js";import{D as k,ba as B}from"./chunk-O4EDZSHP.js";import{a as U}from"./chunk-TPSXCUGD.js";import{h as y}from"./chunk-RMQJRDTF.js";import{c as A}from"./chunk-2YLR7R2N.js";import{C,v as o}from"./chunk-CVJKAN5R.js";import{o as x,q as W}from"./chunk-GXQ645QR.js";import{V as T}from"./chunk-C2H3SRET.js";import{a as S}from"./chunk-V4YVDLI4.js";import{f as I,m as E,o as c}from"./chunk-6V2G2Z5W.js";E();c();C();var M=I(U());var D=I(S());var N={DELETE_WALLET:"deleteWallet",DELETE_LAST_WALLET:"deleteLastWallet",DELETE_KEYRING_WALLETS:"deleteKeyringWallets"},Z={[y.MNEMONIC]:"wallet_editwallet_alert_subtitle_delete_wallet_risk",[y.PRIVATE_KEY]:"wallet_extension_editwallet_text_delete_wallet_risk2",[y.MPC]:"wallet_extension_editwallet_text_delete_wallet_risk3",[y.HARDWARE]:"wallet_extension_editwallet_text_delete_wallet_risk4"},v=()=>{let l=(0,D.useRef)(),s=(0,M.useHistory)(),a=G(),i=Y(),_=O();return(0,D.useCallback)(({walletId:n,keyringId:d,keyringType:e})=>{l.current=x.warn({alignBottom:!1,title:o("wallet_editwallet_alert_maintitle_delete_wallet_risk"),text:o(Z[e]),confirmText:o("wallet_edit_wallet_btn_delete_wallet_risk"),cancelText:o("wallet_transfer_btn_cancel_transaction"),onCancel:()=>{l.current.destroy()},onConfirm:()=>{var f,g,h,m;l.current.destroy();let u={nextPath:B};if(d&&!n){let r=i(d);u={keyringId:d,walletId:(g=(f=r==null?void 0:r.walletIdentities)==null?void 0:f[0])==null?void 0:g.walletId,actionType:N.DELETE_KEYRING_WALLETS,...u}}else if(n){let r=_(n),H=(a==null?void 0:a.length)===1&&((m=(h=a[0])==null?void 0:h.walletIdentities)==null?void 0:m.length)===1?N.DELETE_LAST_WALLET:N.DELETE_WALLET;u={walletId:n,actionType:H,keyringId:r==null?void 0:r.keyringId,...u}}s.replace(k+j(u))}})},[a])};E();c();var w={WALLET:"WALLET",WALLETACCOUNT:"WALLETACCOUNT"},z={[w.WALLET]:"wallet_editwallet_subtitle_wallet_name",[w.WALLETACCOUNT]:"wallet_edit_wallet_maintitle_change_acoount_name"},b=25;E();c();var t=I(S());C();E();c();var L={"wallet-name-edit-dialog":"_wallet-name-edit-dialog_4hjbn_1",walletNameEditDialog:"_wallet-name-edit-dialog_4hjbn_1","wallet-name-edit-dialog-title":"_wallet-name-edit-dialog-title_4hjbn_4",walletNameEditDialogTitle:"_wallet-name-edit-dialog-title_4hjbn_4","wallet-name-edit-dialog-input-box":"_wallet-name-edit-dialog-input-box_4hjbn_8",walletNameEditDialogInputBox:"_wallet-name-edit-dialog-input-box_4hjbn_8","wallet-name-edit-dialog-input-box__extra":"_wallet-name-edit-dialog-input-box__extra_4hjbn_13",walletNameEditDialogInputBoxExtra:"_wallet-name-edit-dialog-input-box__extra_4hjbn_13","wallet-name-edit-dialog-actions":"_wallet-name-edit-dialog-actions_4hjbn_18",walletNameEditDialogActions:"_wallet-name-edit-dialog-actions_4hjbn_18"};var K=({initialName:l,otherNames:s=[],type:a=w.WALLET,onClose:i,onConfirm:_})=>{let[n,d]=(0,t.useState)(!1),[e,u]=(0,t.useState)(l||""),f=(0,t.useMemo)(()=>`${e==null?void 0:e.length}/${b}`,[e]),g=(0,t.useMemo)(()=>(e==null?void 0:e.length)>b?o("wallet_extension_hardware_wallet_notif_max_characters",{num:b}):s.includes(e)&&e!==l?o("wallet_edit_wallet_errortip_wallet_name_repeat"):null,[e,s,l]),h=(0,t.useMemo)(()=>!(e&&!g&&e!==l),[e,g,l]);return t.default.createElement(A.Box,{className:L["wallet-name-edit-dialog"]},t.default.createElement(p.Text,{strong:700,align:p.ALIGN.center,className:L["wallet-name-edit-dialog-title"]},o(z[a])),t.default.createElement(A.Box,{className:L["wallet-name-edit-dialog-input-box"]},t.default.createElement(W,{autoFocus:!0,cleanable:!0,size:W.SIZE.xl,value:e,error:g,errorType:W.TIP_TYPE.always,onChange:({target:{value:m}})=>{var r;u((r=m==null?void 0:m.trimStart())==null?void 0:r.slice(0,b))}}),t.default.createElement(p.Text,{size:p.SIZE.sm,type:p.TYPE.secondary,className:L["wallet-name-edit-dialog-input-box__extra"]},f)),t.default.createElement(A.Space,{className:L["wallet-name-edit-dialog-actions"],direction:A.DIRECTION.horizontal,space:10},t.default.createElement(T,{block:!0,size:T.SIZE.lg,category:T.CATEGORY.outline,type:T.TYPE.primary,onClick:i},o("wallet_transfer_btn_cancel_transaction")),t.default.createElement(T,{block:!0,onClick:async()=>{try{d(!0),await(_==null?void 0:_(e)),i==null||i()}catch(m){console.log(m)}finally{d(!1)}},loading:n,size:T.SIZE.lg,type:T.btnType.highlight,disabled:h},o("wallet_set_password_btn_confirm"))))},F={hideCloseBtn:!0,noContentPadding:!0,alignBottom:!1},R=t.default.memo(({visible:l,initialName:s,otherNames:a=[],type:i=w.WALLET,onClose:_,onConfirm:n})=>t.default.createElement(x,{...F,visible:l},t.default.createElement(K,{initialName:s,otherNames:a,type:i,onClose:_,onConfirm:n}))),wt=()=>(0,t.useCallback)(({initialName:l,otherNames:s=[],type:a=w.WALLET})=>new Promise((i,_)=>{let n=x.show({...F,children:t.default.createElement(K,{initialName:l,otherNames:s,type:a,onClose:()=>{n.destroy(),_()},onConfirm:async d=>{i(d)}})})}),[]);var Lt=R;export{w as a,wt as b,Lt as c,v as d};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-GP2RMO63.js.map
