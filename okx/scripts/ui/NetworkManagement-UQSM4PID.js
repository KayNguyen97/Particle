import{a as Ut,b as At,c as qt}from"./chunk-UDTVMV4G.js";import{a as Y,b,c as nt,d as Rt}from"./chunk-OGQ2MLR4.js";import{a as Pt}from"./chunk-R4VMIVHR.js";import{a as Ft}from"./chunk-MJKT3ZH2.js";import{a as G}from"./chunk-HI4AQDIG.js";import{a as St}from"./chunk-YM6UXGIC.js";import{a as Lt}from"./chunk-PLVZLQPX.js";import"./chunk-XOD56IFT.js";import"./chunk-PD2BTUUF.js";import"./chunk-YCMOAOGN.js";import"./chunk-3T5SDSKD.js";import"./chunk-2NIR645O.js";import"./chunk-SI3RW2CS.js";import"./chunk-B2BOSVTW.js";import"./chunk-GUJXW3GJ.js";import"./chunk-VIS7KIVI.js";import{a as bt,b as It}from"./chunk-67YO4IPY.js";import"./chunk-DLUAVD7X.js";import"./chunk-WRWXCAEZ.js";import{f as Et,g as vt,h as Dt,l as Mt}from"./chunk-DMJQUOJT.js";import"./chunk-62JDSRZZ.js";import"./chunk-FF7XOOGZ.js";import{b as L}from"./chunk-4OTZHHYZ.js";import"./chunk-R6GCLTW2.js";import"./chunk-4KY5XQ5E.js";import"./chunk-S3ECGMEP.js";import"./chunk-PX7HII6H.js";import{a as Tt}from"./chunk-JSAFBAMQ.js";import{b as C}from"./chunk-XEOGXIVD.js";import{a as xt}from"./chunk-PCGRDRHF.js";import{p as y}from"./chunk-IU3TYIWS.js";import{B as ht,c as gt,r as Nt}from"./chunk-VPBQLZCI.js";import"./chunk-ERLETJMZ.js";import"./chunk-FRDOFRM7.js";import"./chunk-X2LENRE7.js";import{Ca as rt,T as Ct,U,a as kt}from"./chunk-O4EDZSHP.js";import"./chunk-HU3KBV5G.js";import{b as ut}from"./chunk-6ZPGW3YM.js";import{k as yt,o as pe}from"./chunk-ZKDHZDUE.js";import"./chunk-4UESFVD2.js";import"./chunk-D7KW4FFX.js";import"./chunk-RAXGEVRQ.js";import{d as ft,f as ce}from"./chunk-S4N75E3H.js";import"./chunk-7MX3OHNE.js";import"./chunk-2BSLA752.js";import"./chunk-FLCN6MAI.js";import"./chunk-7E3KY4EN.js";import{e as wt}from"./chunk-JIRWXBHS.js";import"./chunk-3TVEFIPW.js";import"./chunk-UXFKODVN.js";import"./chunk-IMRS4RGO.js";import"./chunk-52GWQSZH.js";import{a as $}from"./chunk-TPSXCUGD.js";import"./chunk-XKG5DY6K.js";import"./chunk-6PGLMYAE.js";import"./chunk-RMQJRDTF.js";import{c as D}from"./chunk-2YLR7R2N.js";import"./chunk-MVLY6WUP.js";import"./chunk-ZEAKIEIQ.js";import"./chunk-5KSDRGLW.js";import"./chunk-DQTCC3FF.js";import"./chunk-O5LVHMPV.js";import{C as R,v as m}from"./chunk-CVJKAN5R.js";import"./chunk-A5Y2KVNP.js";import{M as H,q as ot,x as W,y as _t}from"./chunk-GXQ645QR.js";import"./chunk-DQ2NYVYI.js";import{V as B,c as et}from"./chunk-C2H3SRET.js";import{a as T}from"./chunk-V4YVDLI4.js";import"./chunk-TW6D7CWA.js";import"./chunk-3T5D6KAV.js";import"./chunk-MAWXDEJZ.js";import"./chunk-Z37GURZ6.js";import"./chunk-IYYFWVWL.js";import"./chunk-CLSYGH6A.js";import"./chunk-DHRSDA7N.js";import"./chunk-RYNAOZ73.js";import"./chunk-Q34CQJXG.js";import"./chunk-GKHVFCKF.js";import{f as d,m as t,o as e}from"./chunk-6V2G2Z5W.js";t();e();var l=d(T()),te=d($()),z=d(ut());R();t();e();var Bt=d(T());R();t();e();var Ot={"search-input":"_search-input_6izyw_1",searchInput:"_search-input_6izyw_1"};var Ht=({onSearch:o,searchKeyword:r})=>Bt.default.createElement(ot.Search,{className:Ot.searchInput,placeholder:m("extension_wallet_network_input_search_network"),size:ot.SIZE.md,value:r,onChange:c=>{let n=c.target.value;o(n)}});t();e();var M=d(T());var Kt=d($());t();e();var A={tabs:"_tabs_8vwgq_1","tabs-container":"_tabs-container_8vwgq_5",tabsContainer:"_tabs-container_8vwgq_5","panel-list":"_panel-list_8vwgq_10",panelList:"_panel-list_8vwgq_10",right:"_right_8vwgq_19",left:"_left_8vwgq_22"};var zt=({currentTab:o,onTabChange:r,tabsConfig:c})=>{let n=(0,Kt.useHistory)(),s=(0,M.useCallback)(i=>{r(i),n.replace(`${Ct}?tab=${String(i)}`)},[n]);return M.default.createElement(M.default.Fragment,null,M.default.createElement(H,{className:A.tabsContainer,headerClassName:A.tabs,panelListClassName:A.panelList,activeId:o,size:H.SIZE.xl,color:H.COLOR.grey,paneSpacing:24,noPadding:!0,noLine:!0,onChange:s,navLeftClassName:A.left,navRightClassName:A.right},c.map(i=>{let{title:a,id:f}=i;return M.default.createElement(H.TabPane,{tab:a,key:f,id:f},i.contentComponent)})))};t();e();var h=d(T());t();e();var N=d(T()),Vt=d(et());t();e();var Z={root:"_root_eurf0_1",box:"_box_eurf0_4",name:"_name_eurf0_7"};var de=({icon:o,name:r,children:c,keyword:n,className:s,onClick:i,id:a,...f})=>{let x=G(),v=a===x,k=(0,N.useMemo)(()=>{if(o&&N.default.isValidElement(o))return o;let p={size:C.SIZE.lg};return o&&typeof o=="string"?{src:o,type:C.TYPE.image,defaultIcon:wt,...p}:o&&typeof o=="object"?{...p,...o}:r&&typeof r=="string"?{text:r,type:C.TYPE.text,textTheme:C.TEXT_THEME.black,...p}:!1},[o,r]);return N.default.createElement(bt,{icon:k,className:(0,Vt.default)(Z["wallet-list-token"],s),onClick:i,...f},N.default.createElement(D.FlexBox,{className:Z.box,direction:D.DIRECTION.vertical},N.default.createElement(D.FlexBox,{align:D.ALIGN.center,className:Z.name},N.default.createElement(y.HighlightKeyword,{strong:!0,text:r,keyword:n,ellipsis:{tooltip:!0}}))),v&&N.default.createElement(C,{icon:"okds-success-circle-fill"}),c)},Wt=N.default.memo(de);var $t=d(et());R();t();e();var j={root:"_root_1dyrv_1","empty-container":"_empty-container_1dyrv_4",emptyContainer:"_empty-container_1dyrv_4","list-container":"_list-container_1dyrv_7",listContainer:"_list-container_1dyrv_7","search-mode":"_search-mode_1dyrv_11",searchMode:"_search-mode_1dyrv_11"};var E=({listData:o,keywords:r,onSelect:c,emptyText:n,renderCustomItem:s,isRpcMode:i,listContainerClassName:a,searchMode:f=!1})=>{var O;let x=(0,h.useRef)(null),v=(0,h.useCallback)(P=>{let{chainName:J,icon:tt}=P||{};return h.default.createElement(Wt,{id:P.id,name:J,icon:tt,keyword:r,onClick:()=>{c(P,i)}},s==null?void 0:s(P))},[r,c,i,s]),k=(0,h.useCallback)(()=>f?null:h.default.createElement(_t.State,{className:j.emptyContainer,title:n!=null?n:m("wallet_extension_cryptodetail_text_nodata_found")}),[n,f]),p=ht(x);return h.default.createElement("div",{ref:x,className:(0,$t.default)(j.listContainer,a,{[j.searchMode]:f})},h.default.createElement(It,{virtualable:!f,itemKey:"id",height:(O=p==null?void 0:p.height)!=null?O:408,searchable:!1,dataSource:o,renderItem:v,renderEmpty:k}))};t();e();var S=d(T());var jt=d($()),Qt=d(ut());t();e();var g=d(T()),Gt=d(et());R();t();e();var q={"option-item":"_option-item_ecfdy_1",optionItem:"_option-item_ecfdy_1","option-icon":"_option-icon_ecfdy_5",optionIcon:"_option-icon_ecfdy_5",option:"_option_ecfdy_1","option-text":"_option-text_ecfdy_17",optionText:"_option-text_ecfdy_17","more-icon":"_more-icon_ecfdy_24",moreIcon:"_more-icon_ecfdy_24"};var _e=({onViewDetail:o,onDelete:r})=>{let c=(0,g.useMemo)(()=>[{icon:"okx-wallet-plugin-edit-wallet",label:m("extension_wallet_network_text_check_details"),value:"detail",action:o},{icon:"okx-wallet-plugin-trash",label:m("extension_wallet_network_text_remove_network"),value:"delete",action:r}],[o,r]),n=()=>g.default.createElement(C.IconButton,{icon:"okx-wallet-plugin-more",className:q.moreIcon}),s=({option:a})=>{let f=a;return g.default.createElement("div",{className:q.option},g.default.createElement(C,{className:(0,Gt.default)(f.icon,q.optionIcon)}),g.default.createElement("span",{className:q.optionText},f.label))},i=(0,g.useCallback)(a=>{a.preventDefault(),a.stopPropagation()},[]);return g.default.createElement("div",{onClick:i},g.default.createElement(W,{options:c,align:W.DIRECTION.right,optionAlign:W.DIRECTION.left,displayArea:n,renderOption:s,onChange:a=>{a==null||a.action()},optionItemClassName:q.optionItem}))},Yt=_e;R();t();e();var Zt={"list-container":"_list-container_r1f41_1",listContainer:"_list-container_r1f41_1"};var Q=({isEVMChainExisted:o,...r})=>{let c=(0,jt.useHistory)(),n=(0,Qt.useDispatch)(),s=G(),i=async()=>{location.href.includes("/home.html")?c.push(U):globalThis.platform.openExtensionInBrowser(U)},a=async p=>{c.push(`${U}?id=${encodeURIComponent(p.id)}&modify=${Y.CAN}`)},f=Rt(),x=p=>{f({editRpcInfo:{uniqueId:p.id,rpcUrl:p.rpcUrl},onDeleted:()=>{s===p.id&&(n(L("currentNetworkUniqueId","")),n(L("isRpcMode",!1)))}})},v=p=>S.default.createElement(Yt,{onDelete:()=>{x(p)},onViewDetail:()=>{a(p)}}),k=o;return S.default.createElement(S.default.Fragment,null,S.default.createElement(E,{...r,listContainerClassName:k?Zt.listContainer:void 0,renderCustomItem:v}),k&&S.default.createElement(xt.FooterActions,null,S.default.createElement(B,{block:!0,size:B.SIZE.lg,type:B.TYPE.highlight,category:B.CATEGORY.fill,onClick:i},m("developer_mode_network_maintitle_add_network"))))};t();e();var st=d(T());var Xt=d($());t();e();var it={"more-icon":"_more-icon_61eiy_1",moreIcon:"_more-icon_61eiy_1","more-icon__core":"_more-icon__core_61eiy_5",moreIconCore:"_more-icon__core_61eiy_5"};var X=o=>{let r=(0,Xt.useHistory)();return st.default.createElement(E,{...o,renderCustomItem:n=>st.default.createElement(C.IconButton,{icon:"okx-wallet-plugin-more",className:it.moreIcon,coreClassName:it["more-icon__core"],onClick:s=>{s.preventDefault(),s.stopPropagation(),r.push(`${U}?id=${encodeURIComponent(n.id)}&modify=${Y.CANT}`)}})})};ce();pe();t();e();var Jt={root:"_root_bmdt2_1"};t();e();var u=d(T());R();t();e();var K={"list-title":"_list-title_1nee9_1",listTitle:"_list-title_1nee9_1","search-container":"_search-container_1nee9_6",searchContainer:"_search-container_1nee9_6"};function at(o){let{mainnetList:r,testnetList:c,customList:n,debouncedKeywords:s,onSelect:i}=o;return u.default.createElement("div",{className:K.searchContainer},r.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(y.Text,{className:K.listTitle,size:y.SIZE.xs,type:y.TYPE.secondary},m("extension_wallet_network_tab_main_network")),u.default.createElement(E,{listData:r,keywords:s,onSelect:i,isRpcMode:!1,searchMode:!0})):null,c.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(y.Text,{className:K.listTitle,size:y.SIZE.xs,type:y.TYPE.secondary},m("developer_mode_network_title_test_network")),u.default.createElement(X,{listData:c,keywords:s,onSelect:i,isRpcMode:!0,searchMode:!0})):null,n.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(y.Text,{className:K.listTitle,size:y.SIZE.xs,type:y.TYPE.secondary},m("developer_mode_network_title_editcustom")),u.default.createElement(Q,{isEVMChainExisted:!1,listData:n,keywords:s,onSelect:i,isRpcMode:!0,searchMode:!0})):null)}var fe=()=>{let o=(0,te.useHistory)(),r=(0,z.useDispatch)(),c=Lt(),n=(0,l.useCallback)(()=>{o.replace(kt)},[o]),[s,i]=(0,l.useState)(b.init),[a,f]=(0,l.useState)({rpcUrl:"",uniqueId:"",name:""}),x=(0,z.useSelector)(Et),v=(0,z.useSelector)(Mt);gt(()=>{i(b.success),nt(x,a)&&o.replace(rt)},[v]);let k=(0,l.useRef)(!1),p=async w=>{i(b.loading),k.current=!1;try{let{rpcUrl:I,uniqueId:le}=w;await Ut(I),k.current||(await r(L("isRpcMode",!0)),await r(L("currentNetworkUniqueId",le)),await r(vt(w)))}catch{k.current||i(b.failed)}},[O,P]=(0,l.useState)(""),J=w=>{P(w)},[tt,ee]=(0,l.useState)(parseInt(c.get("tab")||"0",10)),oe=w=>{ee(w)},F=Nt(O,{wait:300}),{resetFilterInfo:re}=Ft(),{mainnetListForUI:mt,customListForUI:lt,testnetListForUI:ct,isEVMChainExisted:pt}=Pt(F),{isRpcMode:ne}=St(),ie=async w=>{let I=await Dt(w.id);if(ne&&nt(x,I)){o.replace(rt);return}f(I),await p(I)},se=async w=>{await r(L("isRpcMode",!1)),await r(L("currentNetworkUniqueId",w.id)),re(!0),n()},ae=async()=>{await ft().clearDappData(),await yt(r)},V=async(w,I)=>{await ae(),I?await ie(w):await se(w)},dt=pt?m("wallet_extension_cryptodetail_text_nodata_found"):m("extension_wallet_network_text_unused_testnet"),me=[{title:m("extension_wallet_network_tab_main_network"),id:0,contentComponent:l.default.createElement(E,{listData:mt,keywords:F,onSelect:V,isRpcMode:!1})},{title:m("developer_mode_network_title_test_network"),id:1,contentComponent:l.default.createElement(X,{listData:ct,keywords:F,onSelect:V,emptyText:dt,isRpcMode:!0})},{title:m("developer_mode_network_title_editcustom"),id:2,contentComponent:l.default.createElement(Q,{isEVMChainExisted:pt,emptyText:dt,listData:lt,keywords:F,onSelect:V,isRpcMode:!0})}];return l.default.createElement(D.Container,{className:Jt.root},l.default.createElement(Tt,{title:m("wallet_extension_top_maintitle_select_network"),onBack:n,closeable:!1}),l.default.createElement(Ht,{onSearch:J,searchKeyword:O}),F?l.default.createElement(at,{mainnetList:mt,testnetList:ct,customList:lt,debouncedKeywords:F,onSelect:V}):l.default.createElement(zt,{currentTab:tt,onTabChange:oe,tabsConfig:me}),l.default.createElement(At,{visible:s===b.failed,onRetry:async()=>{await p(a)},onChangeNet:()=>{i(b.init)}}),l.default.createElement(qt,{visible:s===b.loading,network:a==null?void 0:a.name,onClose:()=>{i(b.init),k.current=!0}}))},sn=fe;export{fe as NetworkManagement,sn as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=NetworkManagement-UQSM4PID.js.map
