import{G as oe,O as ne,P as se,_a as De,ha as ae,na as ie,o as A,p as te,q as k,va as ce}from"./chunk-LFVM5TW4.js";import{$a as R,Ha as W,Ia as Q,Ja as ee,L as V,Va as M,_a as S,da as P,ga as $,ja as Z,ka as I,kb as re,sa as C,ua as _,va as J,zb as O}from"./chunk-IQVVVGEA.js";import{a as q}from"./chunk-TPSXCUGD.js";import{a as L,b as Ue}from"./chunk-A5Y2KVNP.js";import{J as j,K as z}from"./chunk-C2H3SRET.js";import{a as w,f as Te}from"./chunk-V4YVDLI4.js";import{f as h,m as a,o as i}from"./chunk-6V2G2Z5W.js";a();i();var Ze="/dex-swap",me="/dex-swap",ue="/dex-swap/bridge",pe="/dex-swap/limit",fe=(r="")=>`${_("/web3")}${r}`;a();i();a();i();a();i();var T=h(q());function be(){let r=(0,T.useLocation)(),e=(0,T.useHistory)(),t=n=>{e.replace(n)},o=n=>{let p=`${n.pathname||r.pathname}${n.search||""}${n.hash||""}`;J(p,"_self")};return{replace:(n,c)=>{([S.WALLET_DASHBOARD,S.MARKET].includes(n)?o:t)(c)}}}var le=be;a();i();a();i();function d(){if(P())return!1;try{return window.self!==window.top}catch{return!1}}function de({from:r,to:e,inputAmount:t,feeConfig:o,btcAddressType:s}={}){let n=new URLSearchParams,c=(u,m)=>{ie(m==null?void 0:m.chainId)&&n.set(`${u}Chain`,m.chainId),m!=null&&m.tokenContractAddress&&n.set(`${u}Currency`,m.tokenContractAddress)},p=u=>{(u==null?void 0:u.referrerAddress)&&(u==null?void 0:u.feePercent)&&(n.set("referrerAddress",u.referrerAddress),n.set("feePercent",u.feePercent))};return c("input",r),c("output",e),p(o),t&&n.set("inputAmount",t),s&&n.set("addressType",s),n}function he(r,e){let t=s=>{let n=c=>{let p=r.get(`${s}${c}`);return!p&&e&&(p=r.get(`${s}Limit${c}`)),p};return{chainId:n("Chain"),tokenContractAddress:n("Currency")}},o=()=>{let s=r.get("referrerAddress"),n=r.get("feePercent");return d()&&s&&n&&!Z.bigNumber(n).isZero()?{referrerAddress:s,feePercent:n}:{}};return{from:t("input"),to:t("output"),inputAmount:r.get("inputAmount"),feeConfig:o(),btcAddressType:r.get("addressType"),autoSwitch:r.get("autoSwitch")}}function Se(r,e){return!r||!e?"":r===S.OKX_WALLET_EXTENSION?e:fe(e)}a();i();var Ee=h(w()),Pe=h(q());function ye(r){let{hash:e,search:t}=(0,Pe.useLocation)(),o=e&&e.indexOf("#")>-1?e.slice(1):e,s=r===S.OKX_WALLET_EXTENSION?t:o;return(0,Ee.useMemo)(()=>new URLSearchParams(s),[s])}var Re=ye;function Ne(){let{commonStore:r}=A(),{portal:e,computedCurrentTabIsLimit:t}=r,o=Re(e),s=le(),n=({pathname:p,params:u}={})=>{let m=Se(e,p),l=de(u).toString(),E={};m&&(E.pathname=m),l&&(e===S.OKX_WALLET_EXTENSION?E.search=`?${l}`:E.hash=`#${l}`),s.replace(e,E)};return{params:he(o,t),replace:n}}var Le=Ne;var $r=()=>{let{fromToStore:r,accountStore:e,tokenModalStore:t,commonStore:o}=A(),{updateFrom:s,updateTo:n,setField:c,advanceSetTypedValue:p}=r,{setCurrentTab:u}=o;return(m,l,E,v)=>{let Oe=e.isConnectedWallet,B=[];if(u(v,!0),m&&(s({...m,amount:1}),t.setUserChainIdCache(m.chainId),B.push(m.chainId),E)){let Y=E===V?"":ae(E,m.decimals);c(re.FROM),p(Y,!1,v),s({amount:Y})}l&&(n(l),B.push(l.chainId)),Oe&&r.getSwapTokenBalance(),t.setCommonlyUsedChain(B)}},Wr=()=>(r,e)=>{let t={from:{chainId:r==null?void 0:r.chainId,tokenContractAddress:r==null?void 0:r.tokenContractAddress},to:{chainId:e==null?void 0:e.chainId,tokenContractAddress:e==null?void 0:e.tokenContractAddress}};return t.from.tokenContractAddress&&t.to.tokenContractAddress?t:null},Mr=()=>{let{replace:r}=Le();return t=>{switch(t){case O.SWAP:r({pathname:me});break;case O.BRIDGE:r({pathname:ue});break;case O.LIMIT_ORDER:r({pathname:pe});break;default:$.error("useReplaceLocationByTab: unknown tab type");break}}};a();i();var we=h(w()),Ie=h(De()),g=h(Te());a();i();var ge={icon:"_icon_13h51_1"};function F(r){let{className:e,onClick:t,type:o,size:s,isMulColor:n,...c}=r,p=12,u=s<p?p:s,m={},l={};return u&&(l.fontSize=`${u}px`),s<p&&(m.transform=`scale(${s/p})`,l={...l,...m}),we.default.createElement(j,{onClick:t,className:(0,Ie.default)(o,ge.icon,e),style:l,...c})}F.propTypes={className:g.default.oneOfType([g.default.string,g.default.array,g.default.object]),onClick:g.default.func};F.defaultProps={className:"",onClick:()=>{}};a();i();Ue();a();i();var Be=r=>{let{pathname:e}=ce(r),t=ee.find(o=>new RegExp(o.reg).test(e));return(t==null?void 0:t.params)||{}},$e="dex_source_env",We="dex-swap/bridge",_e=()=>{var r,e;return d()?I.session.g.get($e):R()?{source:Q.PLUGIN,business_type:((e=(r=window==null?void 0:window.location)==null?void 0:r.hash)==null?void 0:e.indexOf(We))>-1?W.BRIDGE:W.SWAP,trade_dialog:"no"}:Be(window.location.href)};a();i();function U(r,e){let t={...r};return Object.keys(t).forEach(o=>{let s=r[o];(ne(s)||s===""||se(s))&&(delete t[o],e&&e(o))}),t}var Me=[0],Lt=()=>new AbortController,ke=()=>Promise.reject(),gt=r=>{var e;return(r==null?void 0:r.status)===((e=L.STATUS_CODE)==null?void 0:e.ERR_CANCELED)};async function D(r={}){var t;let e=r;return R()&&(e=await((t=M.global)==null?void 0:t.interceptorHeaders(r)),e.url=`https://${M.global.getApiHostname()}${e.url}`),!P()&&d()&&!R()&&(e.headers||(e.headers={}),e.headers.Referer_URL=_e().iframe_referrer),k(e.params)&&(e.params=U(e.params)),te(e.data)?e.data=e.data.map(o=>U(o)):k(e.data)&&(e.data=U(e.data)),e.customToLogin=ke,e}function b(r){return r.then(e=>{let{data:t}=e;return Me.includes(t==null?void 0:t.code)?t:Promise.reject(t||{})})}var x={};x.get=(r,e)=>b(D({...e,url:r}).then(t=>{let{url:o,...s}=t;return L.get(o,s)}));x.getWithCache=(r,e)=>b(D(e).then(t=>{let{url:o,...s}=t;return L.getWithCache(o,s)}));x.post=(r,e,t)=>b(D({...t,url:r,data:e,method:"post"}).then(o=>{let{url:s,data:n,...c}=o;return L.post(s,n,c)}));x.delete=(r,e,t)=>b(D({...t,url:r,data:e,method:"delete"}).then(o=>{let{url:s,...n}=o;return L.delete(s,n)}));var wt=x;a();i();var G="ledgerEmbed",Fe=()=>{if(P())return!1;if(I.session.g.get(G))return!0;try{let e=!!new URLSearchParams(window.self.location.search).get(G),t=d()&&e;return t&&I.session.g.set(G,"1"),t}catch{return!1}},xe=Fe();a();i();function Ge(r,e){let t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[],s=e||t.length;if(r)for(let n=0;n<r;n++)o[n]=t[0|Math.random()*s];else{let n;o[8]="-",o[13]="-",o[18]="-",o[23]="-",o[14]="4";for(let c=0;c<36;c++)o[c]||(n=0|Math.random()*16,o[c]=t[c==19?n&3|8:n])}return o.join("")}function yt(){if(P())return"";let r=localStorage.getItem("onChainUserId"),e=Ge();return r||localStorage.setItem("onChainUserId",e),r||e}a();i();var K=h(w());a();i();var Xe="www.okx.com",He="www.oklink.com",Ke=new RegExp(He),ve=new RegExp(Xe),Ye="/web3/explorer",je=r=>{if(!Ke.test(r))return r;try{let e=new URL(r);return _(`${Ye}${e.pathname}`)}catch{return r}};function X(r){if(!oe(r))return"";if(R())return r;let e=je(r);try{if(ve.test(e)||C(e,window.location.href)){let t=new URL(e);return _(t.pathname)}return e}catch{return e}}function Ae(r){return r==="_blank"?"nofollow":"noreferrer"}a();i();var y=h(w());var ze=r=>{let[e,t]=(0,y.useState)(r);return(0,y.useEffect)(()=>{let o=X(r);t(o)},[r]),e},Ce=ze;a();i();var N=h(w());function H(r,e){let[t,o]=(0,N.useState)(r);return(0,N.useEffect)(()=>{let s=C(e,window.location.href);o(xe||!s||d()?"_blank":r)},[r,e]),t}var qe=({children:r,href:e,target:t="_self",withLangPath:o=!0,handleStyle:s=!0,disable:n=!1,...c})=>{let p=Ce(e),u=H(t,p),m=Ae(u);return n?K.default.createElement("span",{...c},r):K.default.createElement(z,{href:p,target:u,withLangPath:o,handleStyle:s,rel:m,...c},r)},oo=qe;export{Ze as a,me as b,ue as c,pe as d,d as e,_e as f,Lt as g,gt as h,wt as i,Ge as j,yt as k,Le as l,$r as m,Wr as n,Mr as o,F as p,xe as q,oo as r};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-DYEVUST3.js.map
