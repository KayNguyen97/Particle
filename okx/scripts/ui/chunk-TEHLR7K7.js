import{j as E}from"./chunk-YLO74Q7W.js";import{a as D}from"./chunk-PCY622ND.js";import{l as q}from"./chunk-2HWABU7H.js";import{M as L}from"./chunk-R6GCLTW2.js";import{l as F}from"./chunk-IU3TYIWS.js";import{o as C}from"./chunk-VPBQLZCI.js";import{b as W}from"./chunk-6ZPGW3YM.js";import{d as U,f as P}from"./chunk-S4N75E3H.js";import{a as b,b as V}from"./chunk-MVLY6WUP.js";import{f as M,h as K}from"./chunk-ZEAKIEIQ.js";import{C as H,Pa as v,ma as X,q as y}from"./chunk-CVJKAN5R.js";import{a as N}from"./chunk-V4YVDLI4.js";import{f as w,m as B,o as S}from"./chunk-6V2G2Z5W.js";B();S();var l=w(N()),R=w(W());H();P();K();V();v();function j(t={},u,d=!1){let T=(0,R.useSelector)(L),g=q()[u],m=D(t==null?void 0:t.localType),a=u?g:m;return async()=>{let h=await U().getRequestHeaders({walletId:T,needSign:!0,currency:"usd"}),o={coinId:t==null?void 0:t.coinId,utxoRequests:[{address:a,utxoType:12}]};try{let{data:e=[]}=await M(b.getBTCUTXO,o,{headers:h});return d?e==null?void 0:e.map(r=>{var c;return{...r,utxoList:(c=r==null?void 0:r.utxoList)==null?void 0:c.filter(f=>f.utxoStatusType===2)}}):e}catch{return[]}}}function it(t={},u,d=!1){let T=j(t,u,d),{coinAmountInt:I=0}=E(t==null?void 0:t.coinId,u),[g,{setTrue:m,setFalse:a}]=C(!1),[h,{setTrue:o}]=C(!1),[e,r]=(0,l.useState)(""),{coinId:c,decimals:f}=t||{};return(0,l.useEffect)(()=>{c===X?T().then((p=[])=>{p.some((i={})=>{var s;return((s=i.utxoList)==null?void 0:s.length)>0})?m():a();let x=p==null?void 0:p.reduce((i,s)=>{var A;let k=(A=s==null?void 0:s.utxoList)==null?void 0:A.reduce((O,n)=>(n==null?void 0:n.utxoStatusType)===2?y.add(O,n==null?void 0:n.coinAmount):O,0);return y.add(i,k)},0);if(x){let i=F(x,{decimals:f});r(i)}o()}).catch(()=>{o(),a()}):(o(),a())},[c,f,I,o,m]),{showManageUTXO:g,NFTAmountDisplay:e,isCheckFinished:h}}export{it as a};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-TEHLR7K7.js.map
