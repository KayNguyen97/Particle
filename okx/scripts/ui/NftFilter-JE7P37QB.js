import{a as Ce}from"./chunk-CFYC6Z35.js";import{a as ge}from"./chunk-UOE3CUM7.js";import{a as _e}from"./chunk-MJKT3ZH2.js";import{a as he}from"./chunk-YM6UXGIC.js";import{a as ue}from"./chunk-7CB4COOY.js";import"./chunk-RDZIVMHO.js";import"./chunk-UGYRJNZG.js";import"./chunk-XOD56IFT.js";import"./chunk-PD2BTUUF.js";import"./chunk-YCMOAOGN.js";import{a as se}from"./chunk-QWA3DFD5.js";import{b as h,i as pe}from"./chunk-3T5SDSKD.js";import{b as z}from"./chunk-2NIR645O.js";import"./chunk-SI3RW2CS.js";import"./chunk-62JDSRZZ.js";import"./chunk-FF7XOOGZ.js";import"./chunk-4OTZHHYZ.js";import"./chunk-R6GCLTW2.js";import"./chunk-4KY5XQ5E.js";import"./chunk-S3ECGMEP.js";import"./chunk-PX7HII6H.js";import{a as de}from"./chunk-JSAFBAMQ.js";import"./chunk-XEOGXIVD.js";import{a as me}from"./chunk-PCGRDRHF.js";import{p as I}from"./chunk-IU3TYIWS.js";import{j as ae,r as ce,v as fe}from"./chunk-VPBQLZCI.js";import"./chunk-ERLETJMZ.js";import"./chunk-FRDOFRM7.js";import"./chunk-X2LENRE7.js";import{a as le}from"./chunk-O4EDZSHP.js";import"./chunk-HU3KBV5G.js";import{b as We}from"./chunk-6ZPGW3YM.js";import"./chunk-ZKDHZDUE.js";import"./chunk-4UESFVD2.js";import"./chunk-D7KW4FFX.js";import"./chunk-RAXGEVRQ.js";import"./chunk-S4N75E3H.js";import"./chunk-7MX3OHNE.js";import"./chunk-2BSLA752.js";import"./chunk-FLCN6MAI.js";import"./chunk-7E3KY4EN.js";import"./chunk-JIRWXBHS.js";import"./chunk-3TVEFIPW.js";import"./chunk-UXFKODVN.js";import"./chunk-IMRS4RGO.js";import"./chunk-52GWQSZH.js";import{a as Ye}from"./chunk-TPSXCUGD.js";import"./chunk-XKG5DY6K.js";import"./chunk-6PGLMYAE.js";import"./chunk-RMQJRDTF.js";import{c as E}from"./chunk-2YLR7R2N.js";import{a as re,b as ze}from"./chunk-MVLY6WUP.js";import{f as ne,h as Ve}from"./chunk-ZEAKIEIQ.js";import"./chunk-5KSDRGLW.js";import"./chunk-DQTCC3FF.js";import"./chunk-O5LVHMPV.js";import{C as U,D as Ue,v as a,w as X}from"./chunk-CVJKAN5R.js";import"./chunk-A5Y2KVNP.js";import{E as oe,F as ie,o as ee,q as te,r as A,y as V}from"./chunk-GXQ645QR.js";import"./chunk-DQ2NYVYI.js";import{J as Q,P as R,V as C,c as q}from"./chunk-C2H3SRET.js";import{a as S,f as qe}from"./chunk-V4YVDLI4.js";import"./chunk-TW6D7CWA.js";import"./chunk-3T5D6KAV.js";import"./chunk-MAWXDEJZ.js";import"./chunk-Z37GURZ6.js";import"./chunk-IYYFWVWL.js";import"./chunk-CLSYGH6A.js";import"./chunk-DHRSDA7N.js";import"./chunk-RYNAOZ73.js";import"./chunk-Q34CQJXG.js";import"./chunk-GKHVFCKF.js";import{f as d,m as i,o as n}from"./chunk-6V2G2Z5W.js";i();n();var o=d(S()),Y=d(q()),Le=d(Ye()),L=d(Ue()),Pe=d(We());U();i();n();var K=d(S());i();n();var G=d(S()),ke=d(q()),O=d(qe()),xe=({item:t,clickHandle:l,value:e})=>G.default.createElement("div",{className:(0,ke.default)("ok-button-checkbox--item",{"ok-button-checkbox--item-outline":e.includes(t.value)}),onClick:()=>{l&&l(t.value)}},t.image&&G.default.createElement("img",{src:t.image}),G.default.createElement("span",null,t.label));xe.propTypes={item:O.default.object,clickHandle:O.default.func,value:O.default.array};var ye=xe;var Ze=({options:t,valueOption:l=[],onChange:e})=>{let r=c=>{e&&e(c)};return K.default.createElement("div",{className:"ok-button-checkbox--content"},t[0]?t.map((c,g)=>K.default.createElement(ye,{key:g,item:c,value:l,clickHandle:r})):K.default.createElement(ie,null))},Ne=Ze;i();n();var u=d(S());U();var Je=({loading:t,loaded:l,collectionsList:e,searchResult:r,onSearchItemClick:c,loadingMore:g=!1})=>t||!l?u.default.createElement(se,{overwriteClassName:!0,className:"ok-home--loading-parent"}):e.length===0?u.default.createElement("div",{className:"ok-nft-filter--no-collection"},u.default.createElement(V.State,{type:V.State.TYPE.noRecord,title:a("wallet_extension_nft_text_no_collection")})):u.default.createElement(u.default.Fragment,null,e.map((m,s)=>u.default.createElement("div",{onClick:()=>{c(m)},key:s,className:"ok-nft-filter--search-item"},u.default.createElement("div",{className:"ok-nft-filter--search-item-popup"}),u.default.createElement(oe,{errorImg:"/static/images/tx-history/default-nft.svg",width:24,height:24,src:m.icon||"/static/images/tx-history/default-nft.svg",className:"ok-nft-filter--search-icon",alt:""}),u.default.createElement(ue,{className:"ok-nft-filter--search-name",maxWidth:"270px",text:m.name}),u.default.createElement(A,{checked:r.includes(m.projectId),className:"ok-nft-filter--search-selected"}))),u.default.createElement("div",{className:"ok-nft-filter--load-more"},g&&u.default.createElement(R,null))),Se=Je;i();n();var x=d(S());U();var be=d(q());i();n();function $e(t){let{setting:l,onChanged:e}=t,r=m=>s=>{e==null||e(m,s.target.checked)},c=(m,s,v)=>()=>{let y=ee.show({title:m,confirmText:v,children:s,onConfirm:()=>{y.destroy()}});return y};return{settings:[{key:h.hideUnverifiedCollection,checked:l.hideUnverifiedCollection,onChange:r(h.hideUnverifiedCollection)},{key:h.hideManualHidden,checked:l.hideManualHidden,onChange:r(h.hideManualHidden)},{key:h.hideNoValue,checked:l.hideNoValue,onChange:r(h.hideNoValue),onShowDetail:c}]}}var ve=$e;i();n();var W={[h.hideNoValue]:{title:"extension_wallet_filter_text_donthide_valueless",dialog:{title:"extension_wallet_detail_title_valueless_item",content:"extension_wallet_detail_text_valueless_includes",confirm:"wallet_extension_btn_general_ok"}},[h.hideManualHidden]:{title:"extension_wallet_filter_text_dontshow_autohide"},[h.hideUnverifiedCollection]:{title:"extension_wallet_filter_text_dontshow_unverif"}};i();n();var N={root:"_root_1fans_1",item:"_item_1fans_9",name:"_name_1fans_14",icon:"_icon_1fans_19",checkbox:"_checkbox_1fans_24",dialogContent:"_dialogContent_1fans_28"};function Xe(t){let{settings:l}=ve(t);return x.default.createElement(E.Box,{className:N.root},x.default.createElement(I.Text,{size:I.SIZE.md,strong:!0,className:N.title},a("extension_wallet_filter_title_itemfilter")),l.map(e=>{var c;let r=W[e.key].dialog;return x.default.createElement(E.Box,{key:e.key,className:N.item},x.default.createElement(E.Box,{className:N.name},x.default.createElement(I.Text,{size:I.SIZE.sm},a(W[e.key].title)),r&&x.default.createElement(Q,{onClick:(c=e.onShowDetail)==null?void 0:c.call(e,a(r.title),x.default.createElement(E.Box,{className:N.dialogContent},X(r.content)),a(r.confirm)),className:(0,be.default)("okds-information-circle",N.icon)})),x.default.createElement(A,{checked:e.checked,onChange:e.onChange,className:N.checkbox}))}))}var Fe=Xe;i();n();var Ee=d(S());i();n();ze();Ve();var we={NotCertified:0,Certified:1},Te=t=>ne(re.getNftCollections,t);var Qe=({searchKeyword:t,projectCertificated:l,hiddenStatus:e,ref:r})=>{var b,P;let c=ce(t,{wait:500}),{currentNetworkUniqueId:g}=he(),m=ge(),[s,v]=(0,Ee.useState)(!1),{data:y,loading:M,loadingMore:D}=fe(f=>{var w;let F=(w=f==null?void 0:f.nextPageNo)!=null?w:1;return Te({nameSearch:c,pageNo:F,address:m(g).join(","),pageSize:z,projectCertificated:l,hiddenStatus:e,chain:g}).then(_=>{var H,B,j;return{list:(B=(H=_==null?void 0:_.data)==null?void 0:H.list)!=null?B:[],nextPageNo:F*z<((j=_==null?void 0:_.data)==null?void 0:j.total)?F+1:void 0}})},{reloadDeps:[c,g,l,e,m],isNoMore:f=>(f==null?void 0:f.nextPageNo)===void 0,target:r,onError(){},onFinally(){v(!0)}});return{list:(P=(b=y==null?void 0:y.list)==null?void 0:b.map(f=>({icon:f.image,name:f.name,chain:f.chain,isIdentification:f.certificateFlag===we.Certified,projectId:f.project})))!=null?P:[],loading:M,loaded:s,ref:r,loadingMore:D}},Ie=Qe;var Re=()=>{let t=(0,Le.useHistory)(),l=(0,o.useRef)(null),{hasCurrentWalletChanged:e,currentWalletSetting:r,setWalletSetting:c,resetWalletSetting:g,formattedCurrentSetting:m}=Ce(),{filterInfo:s,changeFilterInfo:v,changeCollectionFilter:y,changeSaleStatusFilter:M,resetFilterInfo:D,resetData:Z}=_e(),b=(0,o.useRef)();ae(()=>{b.current={currentWalletSetting:r,filterInfo:s}});let P=(0,Pe.useSelector)(pe).total,f=Object.keys(s).some(p=>s[p].length!==0),F=[{label:a("wallet_extension_nft_filter_tag_offer_received"),value:"OFFERS_RECEIVE"},{label:a("wallet_extension_nft_filter_tag_on_sale"),value:"ON_SALE"}],[w,_]=(0,o.useState)(""),H=m.projectCertificated,B=m.hiddenStatus,{list:j,loading:He,loaded:Be,loadingMore:je}=Ie({projectCertificated:H,hiddenStatus:B,searchKeyword:w,ref:l}),Ae=(0,o.useCallback)(p=>{_(p.target.value)},[]),Ge=p=>{let T=(0,L.xor)(s.collectionFilter,[p.projectId]);y(T)},Oe=p=>{let T=(0,L.xor)(s.saleStatusFilter,[p]);M(T)},Ke=()=>{(0,L.isEqual)({currentWalletSetting:r,filterInfo:s},b.current)||Z()},Me=()=>{D(!0),_(""),g(),setTimeout(()=>{t.goBack()},100)},J=()=>{Ke(),t.push(le)},De=(p,T)=>{v(),c(p,T)},$=!f&&!e;return o.default.createElement("div",{className:"ok-nft-filter--main",ref:l},o.default.createElement(de,{title:a("wallet_extension_nft_popup_title_filter"),closeable:!1,onBack:J}),o.default.createElement("div",{className:"ok-nft-filter--block"},o.default.createElement("div",{className:"ok-nft-filter--block-title"},a("wallet_extension_nft_filter_status")),o.default.createElement(Ne,{options:F,onChange:p=>{Oe(p)},valueOption:s.saleStatusFilter})),o.default.createElement(Fe,{onChanged:De,setting:r}),o.default.createElement("div",{className:(0,Y.default)("ok-nft-filter--block","ok-nft-filter--collections")},o.default.createElement("div",{className:(0,Y.default)("ok-nft-filter--block-title","ok-nft-filter--block-title-collections")},a("wallet_extension_nft_text_collections")),o.default.createElement(te.Search,{className:"ok-nft-filter--search-input",placeholder:a("wallet_extension_nft_placeholder_search_collections"),value:w,size:"sm",onChange:Ae}),o.default.createElement(Se,{loading:He,loaded:Be,loadingMore:je,collectionsList:j,searchResult:s.collectionFilter,onSearchItemClick:Ge})),o.default.createElement(me.FooterActions,null,o.default.createElement(C,{category:C.CATEGORY.outline,type:C.TYPE.primary,size:C.SIZE.lg,disabled:$,onClick:()=>{Me()}},a("wallet_extension_nft_btn_clear")),o.default.createElement(C,{category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,disabled:$,onClick:()=>{J()}},a("wallet_extension_nft_btn_apply",{number:P}))))},po=Re;export{po as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=NftFilter-JE7P37QB.js.map
