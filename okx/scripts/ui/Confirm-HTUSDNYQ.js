import{a as ct}from"./chunk-ZLO3STNF.js";import{a as mt}from"./chunk-DWQD6F5P.js";import"./chunk-UMY7O2L3.js";import{a as lt}from"./chunk-S7WJPULQ.js";import{a as V}from"./chunk-OEVJ7FDO.js";import{a as ut}from"./chunk-GDJJKMDU.js";import{a as W,b as Z,d as X}from"./chunk-4ZFO5TFE.js";import{a as zt}from"./chunk-QMF5LKVF.js";import{a as Yt,c as Vt,d as Wt,f as at}from"./chunk-VMACN7YR.js";import"./chunk-4EWRAZMR.js";import"./chunk-NGDV3PTC.js";import"./chunk-FF7XOOGZ.js";import{c as Kt,d as Zt}from"./chunk-HQT4AKFZ.js";import"./chunk-JUIB44FD.js";import"./chunk-R6GCLTW2.js";import"./chunk-S3ECGMEP.js";import"./chunk-PX7HII6H.js";import{a as it}from"./chunk-S3BOQTUM.js";import{e as rt,m as ot}from"./chunk-TPEASXIF.js";import"./chunk-A336VZZF.js";import{a as Gt,f as st}from"./chunk-VPBQLZCI.js";import"./chunk-ERLETJMZ.js";import"./chunk-FRDOFRM7.js";import{H as Rt,I as Ht,O as Ut,W as Mt}from"./chunk-X2LENRE7.js";import{Ua as nt}from"./chunk-O4EDZSHP.js";import{b as Ft}from"./chunk-6ZPGW3YM.js";import"./chunk-ZKDHZDUE.js";import"./chunk-4UESFVD2.js";import"./chunk-D7KW4FFX.js";import"./chunk-RAXGEVRQ.js";import"./chunk-S4N75E3H.js";import"./chunk-FLCN6MAI.js";import"./chunk-7E3KY4EN.js";import"./chunk-3TVEFIPW.js";import"./chunk-UXFKODVN.js";import{a as Ot}from"./chunk-TPSXCUGD.js";import"./chunk-XKG5DY6K.js";import"./chunk-RMQJRDTF.js";import{c as _}from"./chunk-2YLR7R2N.js";import"./chunk-MVLY6WUP.js";import"./chunk-ZEAKIEIQ.js";import"./chunk-5KSDRGLW.js";import"./chunk-DQTCC3FF.js";import"./chunk-O5LVHMPV.js";import{C as K,v as w}from"./chunk-CVJKAN5R.js";import"./chunk-A5Y2KVNP.js";import"./chunk-GXQ645QR.js";import"./chunk-DQ2NYVYI.js";import{J as tt,P as et,V as T,c as Dt}from"./chunk-C2H3SRET.js";import{a as E}from"./chunk-V4YVDLI4.js";import"./chunk-TW6D7CWA.js";import"./chunk-3T5D6KAV.js";import"./chunk-MAWXDEJZ.js";import"./chunk-Z37GURZ6.js";import"./chunk-IYYFWVWL.js";import"./chunk-CLSYGH6A.js";import"./chunk-DHRSDA7N.js";import"./chunk-RYNAOZ73.js";import"./chunk-Q34CQJXG.js";import"./chunk-GKHVFCKF.js";import{c as R,f as b,m as r,o}from"./chunk-6V2G2Z5W.js";var ht=R((kr,bt)=>{r();o();var ee=Rt(),re=Vt(),oe=Wt(),ne=Yt(),se=Mt(),ie=Ht(),ae=200;function ue(t,e,s,n){var i=-1,a=re,u=!0,c=t.length,y=[],I=e.length;if(!c)return y;s&&(e=ne(e,se(s))),n?(a=oe,u=!1):e.length>=ae&&(a=ie,u=!1,e=new ee(e));t:for(;++i<c;){var f=t[i],x=s==null?f:s(f);if(f=n||f!==0?f:0,u&&x===x){for(var m=I;m--;)if(e[m]===x)continue t;y.push(f)}else a(e,x,n)||y.push(f)}return y}bt.exports=ue});var Nt=R((Lr,Tt)=>{r();o();var le=ht(),ce=zt(),wt=at();function me(t,e,s){var n=t.length;if(n<2)return n?wt(t[0]):[];for(var i=-1,a=Array(n);++i<n;)for(var u=t[i],c=-1;++c<n;)c!=i&&(a[i]=le(a[i]||u,t[c],e,s));return wt(ce(a,1),e,s)}Tt.exports=me});var kt=R((Sr,vt)=>{r();o();var pe=Ut(),fe=Kt(),_e=Nt(),de=Zt(),ye=fe(function(t){return _e(pe(t,de))});vt.exports=ye});var Bt=R((Dr,Et)=>{r();o();var Ie=at();function xe(t){return t&&t.length?Ie(t):[]}Et.exports=xe});r();o();var v=b(E());r();o();var C=b(E());var pt=b(Dt());r();o();r();o();var B={root:"_root_na3xe_1",icon:"_icon_na3xe_12",loading:"_loading_na3xe_16",finished:"_finished_na3xe_22",failed:"_failed_na3xe_25"};var ft=(t,e)=>()=>C.default.createElement(tt,{className:(0,pt.default)(t,B.icon,e)}),Xt=ft("okds-success-circle",B.finished),jt=ft("okx-wallet-plugin-warning-circle",B.failed),Jt=()=>C.default.createElement(et,{loaderClassName:B.loading}),Qt=()=>null,$t={[0]:Qt,[1]:Jt,[2]:Xt,[3]:jt},_t=({status:t})=>{let e=$t[t];return C.default.createElement(_.Box,{className:B.root},C.default.createElement(e,null))};r();o();var yt=b(E());K();r();o();var dt={root:"_root_mrqdw_1"};var It=({status:t,success:e=0,failed:s=0,duplicated:n=0})=>{let a={[0]:null,[1]:{key:"wallet_extension_private_key_title_importing_private_key",params:{}},[2]:{key:s>0||n>0?"wallet_extension_private_key_title_num_imports_successful":"wallet_extension_private_key_title_import_successful",params:{num:e}},[3]:{key:"wallet_extension_private_key_title_import_failed",params:{}}}[t],u=a?w(a.key,a.params):"";return u?yt.default.createElement(_.Box,{className:dt.root},u):null};r();o();var D=b(E());K();r();o();var q={root:"_root_zr8dm_1",item:"_item_zr8dm_8",retry:"_retry_zr8dm_15",divider:"_divider_zr8dm_24"};function te({status:t,total:e=0,success:s=0,failed:n=0,duplicated:i=0}){let a={importing:{key:"wallet_extension_private_key_text_importing_num_entries",params:{num:s},retry:!1},success:{key:"wallet_extension_private_key_text_num_entries_imported",params:{num:s},retry:!1},duplicated:{key:"wallet_extension_private_key_duplicate_imports",params:{num:i},retry:!1},failed:{key:"wallet_extension_private_key_text_num_failed_entries",params:{num:n},retry:n>0}};return{items:{[0]:[],[1]:[a.importing],[2]:[s===e?a.success:void 0,i>0?a.duplicated:void 0,n>0?a.failed:void 0].filter(Boolean),[3]:[i>0?a.duplicated:void 0,n>0?a.failed:void 0].filter(Boolean)}[t]}}var xt=({status:t,total:e,success:s,failed:n,duplicated:i,onRetry:a})=>{let{items:u=[]}=te({status:t,total:e,success:s,failed:n,duplicated:i});return D.default.createElement(_.Box,{className:q.root},u.map((c,y)=>{let{key:I,params:f,retry:x}=c;return D.default.createElement(_.Box,{key:y,className:q.item},w(I,f),y===0&&u.length>1&&D.default.createElement(_.Box,{className:q.divider}),x&&D.default.createElement(_.Box,{onClick:a,className:q.retry},w("wallet_extension_private_key_btn_try_again")))}))};r();o();var L=b(E());K();r();o();var U={root:"_root_1ir3w_1",actions:"_actions_1ir3w_10",tip:"_tip_1ir3w_15"};var gt=({status:t,onCancel:e,onComplete:s})=>{let n=t===1,i=t===0;return L.default.createElement(_.Box,{className:U.root},L.default.createElement(_.Box,{className:U.actions},n?L.default.createElement(T,{category:T.CATEGORY.outline,type:T.TYPE.primary,onClick:e,size:T.SIZE.xl,block:!0},w("wallet_extension_private_key_btn_stop_import")):!i&&L.default.createElement(T,{category:T.CATEGORY.fill,type:T.TYPE.highlight,size:T.SIZE.xl,onClick:s,block:!0},w("wallet_extension_private_key_btn_ok"))),n&&L.default.createElement(_.Box,{className:U.tip},w("wallet_extension_private_key_text_dont_close_page")))};r();o();var l=b(E()),Y=b(Ft()),Lt=b(Ot()),At=b(Gt()),Pt=b(kt()),j=b(Bt());function ge(){let t=e=>({execute:e,cancel:()=>{},start:()=>{}});return new ct(t)}var M=t=>e=>e+t;function be(){let t=(0,Y.useDispatch)(),{value:e}=W(),{value:s}=Z(),{value:n}=X(),i=e.filter(p=>p.value).map(p=>p.value),[a,u]=(0,l.useState)(0),c=(0,l.useRef)(i),y=(0,l.useRef)([]),I=(0,l.useRef)([]),f=(0,l.useRef)(!1),x=(0,l.useRef)(),[m]=(0,l.useState)(i.length),[h,A]=(0,l.useState)(0),[k,P]=(0,l.useState)(0),[N,F]=(0,l.useState)(0),g=(0,l.useRef)(0),S=m-h,J=p=>p>0,qt=(0,Y.useSelector)(({metamask:p})=>p==null?void 0:p.completedOnboarding),Q=(0,l.useRef)(qt);(0,l.useEffect)(()=>{m<=0||(h===m&&u(2),(k===m||N===m||k+N===m)&&u(3))},[k,h,N,m]);let $=p=>{!J(p)||(u(1),x.current=ge(),x.current.start(async O=>{if(J(p)&&p>g.current){let G=c.current[g.current];try{f.current=!0,Q.current?await t(rt([s],G,!1)):(await t(ot(n,[s],G,!1)),await t(it()),Q.current=!0),await V(200),A(M(1)),y.current.push(G)}catch(z){(z==null?void 0:z.message)===lt?F(M(1)):(P(M(1)),I.current.push(G))}finally{f.current=!1,g.current=M(1)(g.current),O()}}else u(2)}))};return{start:()=>{h>0||(g.current=0,$(m))},cancel:async()=>{var O;for(u(2),(O=x.current)==null||O.cancel();f.current;)await V(100);let p=(0,Pt.default)(c.current,[...y.current,...I.current]);P((0,j.default)(p).length+I.current.length),c.current=(0,j.default)(p),y.current=[],I.current=[]},retry:()=>{S>0&&(g.current=0,P(0),F(0),$(S))},failed:k,success:h,total:m,duplicated:N,remain:S,status:a}}var St=()=>{let t=(0,Lt.useHistory)(),{value:e,setValue:s}=W(),{value:n,setValue:i}=Z(),{setValue:a}=X();(!e.filter(g=>g.value).map(g=>g.value).length||!n)&&t.replace(nt);let{remainAccountAmount:c}=ut(),y=(0,l.useRef)(!1),{start:I,cancel:f,retry:x,success:m,failed:h,total:A,duplicated:k,status:P}=be(),N=async()=>{s([{id:Date.now(),show:!1,value:"",error:!1}]),i(""),a(""),await(0,At.default)("")},F=async()=>{await N();let g=await globalThis.platform.getActiveTabs();await globalThis.platform.closeTab(g.map(({id:S})=>S))};return(0,l.useEffect)(()=>{!y.current&&c>0&&m+h<A&&(I(),y.current=!0)},[h,c,I,m,A]),st(async()=>{await N()}),{start:I,cancel:f,retry:x,complete:F,success:m,failed:h,total:A,duplicated:k,status:P}};r();o();var Ct={root:"_root_80chm_1"};var lo=()=>{let{status:t,success:e,failed:s,total:n,duplicated:i,cancel:a,retry:u,complete:c}=St();return v.default.createElement(mt,null,v.default.createElement(_.Box,{className:Ct.root},v.default.createElement(_t,{status:t}),v.default.createElement(It,{status:t,success:e,failed:s,duplicated:i}),v.default.createElement(xt,{status:t,total:n,success:e,failed:s,duplicated:i,onRetry:u}),v.default.createElement(gt,{status:t,onCancel:a,onComplete:c})))};export{lo as default};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Confirm-HTUSDNYQ.js.map
