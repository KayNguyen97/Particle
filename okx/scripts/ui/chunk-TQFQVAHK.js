import{h as w}from"./chunk-2HWABU7H.js";import{a as I}from"./chunk-NKTQMEXG.js";import{p as i}from"./chunk-IU3TYIWS.js";import{k as A}from"./chunk-HU3KBV5G.js";import{a as S}from"./chunk-TPSXCUGD.js";import{Ba as h,N as T,Pa as O}from"./chunk-CVJKAN5R.js";import{o as x}from"./chunk-GXQ645QR.js";import{P as y,V as e}from"./chunk-C2H3SRET.js";import{a as B}from"./chunk-V4YVDLI4.js";import{f as _,m as o,o as a}from"./chunk-6V2G2Z5W.js";o();a();var r=_(B());O();var R=_(S());o();a();var C={aptosRegisterText:"_aptosRegisterText_vq5y6_1"};var F=()=>{var g;let d=(0,r.useRef)(),s=A(),E=(0,R.useHistory)(),n=w(),P=(g=n==null?void 0:n.accountMap)==null?void 0:g[T];return async(t,m,c)=>{if(!!(t!=null&&t.address)&&(t==null?void 0:t.baseCoinId)===h){let{register:b,status:f}=await I({address:P,contractAddress:t==null?void 0:t.address});if(!b&&[0,2,3,4,5].includes(f)){let l=()=>{var u;(u=d.current)==null||u.destroy()},p={hideCloseBtn:!0,alignBottom:!1,confirmBtnProps:{type:e.TYPE.highlight,size:e.SIZE.lg,category:e.CATEGORY.fill},cancelBtnProps:{category:e.CATEGORY.outline,size:e.SIZE.lg}};return[2,3].includes(f)?Object.assign(p,{title:s("wallet_extension_toast_status_register"),onConfirm:l,children:r.default.createElement(y,null)}):Object.assign(p,{title:s("wallet_extension_popup_crypto_register"),confirmText:s("wallet_extension_btn_register"),cancelText:s("wallet_extension_btn_cancel"),onCancel:async()=>{l(),typeof c=="function"&&await c()},onConfirm:async()=>{l(),m&&await m(),E.push(`aptos-register?contractAddress=${t.address}&coinId=${t==null?void 0:t.coinId}`)},children:r.default.createElement(i.Text,{className:C.aptosRegisterText,align:i.ALIGN.center,size:i.SIZE.sm},s("wallet_extension_desc_crypto_register"))}),d.current=x.warn(p),Promise.reject()}}return Promise.resolve()}};export{F as a};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-TQFQVAHK.js.map
