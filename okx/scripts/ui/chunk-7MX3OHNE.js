import{a as mn}from"./chunk-2BSLA752.js";import{g as Y}from"./chunk-FLCN6MAI.js";import{a as ir,b as be,o as me,s as ar}from"./chunk-6PGLMYAE.js";import{c as N}from"./chunk-2YLR7R2N.js";import{C as fn,D as hn,y as S}from"./chunk-CVJKAN5R.js";import{H as sr,c as K,o as or}from"./chunk-GXQ645QR.js";import{V as D}from"./chunk-C2H3SRET.js";import{a as pn}from"./chunk-V4YVDLI4.js";import{a as nr,b as dn}from"./chunk-RYNAOZ73.js";import{c as x,f as Pe,h as te,l as process,m as l,n as h,o as u}from"./chunk-6V2G2Z5W.js";var ne=x((Ei,lr)=>{l();u();var Sn="2.0.0",Dn=Number.MAX_SAFE_INTEGER||9007199254740991,Rn=16;lr.exports={SEMVER_SPEC_VERSION:Sn,MAX_LENGTH:256,MAX_SAFE_INTEGER:Dn,MAX_SAFE_COMPONENT_LENGTH:Rn}});var oe=x((xi,ur)=>{l();u();var On=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};ur.exports=On});var H=x((G,dr)=>{l();u();var{MAX_SAFE_COMPONENT_LENGTH:qe}=ne(),Ln=oe();G=dr.exports={};var Cn=G.re=[],m=G.src=[],E=G.t={},$n=0,w=(t,e,r)=>{let n=$n++;Ln(n,e),E[t]=n,m[n]=e,Cn[n]=new RegExp(e,r?"g":void 0)};w("NUMERICIDENTIFIER","0|[1-9]\\d*");w("NUMERICIDENTIFIERLOOSE","[0-9]+");w("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");w("MAINVERSION",`(${m[E.NUMERICIDENTIFIER]})\\.(${m[E.NUMERICIDENTIFIER]})\\.(${m[E.NUMERICIDENTIFIER]})`);w("MAINVERSIONLOOSE",`(${m[E.NUMERICIDENTIFIERLOOSE]})\\.(${m[E.NUMERICIDENTIFIERLOOSE]})\\.(${m[E.NUMERICIDENTIFIERLOOSE]})`);w("PRERELEASEIDENTIFIER",`(?:${m[E.NUMERICIDENTIFIER]}|${m[E.NONNUMERICIDENTIFIER]})`);w("PRERELEASEIDENTIFIERLOOSE",`(?:${m[E.NUMERICIDENTIFIERLOOSE]}|${m[E.NONNUMERICIDENTIFIER]})`);w("PRERELEASE",`(?:-(${m[E.PRERELEASEIDENTIFIER]}(?:\\.${m[E.PRERELEASEIDENTIFIER]})*))`);w("PRERELEASELOOSE",`(?:-?(${m[E.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${m[E.PRERELEASEIDENTIFIERLOOSE]})*))`);w("BUILDIDENTIFIER","[0-9A-Za-z-]+");w("BUILD",`(?:\\+(${m[E.BUILDIDENTIFIER]}(?:\\.${m[E.BUILDIDENTIFIER]})*))`);w("FULLPLAIN",`v?${m[E.MAINVERSION]}${m[E.PRERELEASE]}?${m[E.BUILD]}?`);w("FULL",`^${m[E.FULLPLAIN]}$`);w("LOOSEPLAIN",`[v=\\s]*${m[E.MAINVERSIONLOOSE]}${m[E.PRERELEASELOOSE]}?${m[E.BUILD]}?`);w("LOOSE",`^${m[E.LOOSEPLAIN]}$`);w("GTLT","((?:<|>)?=?)");w("XRANGEIDENTIFIERLOOSE",`${m[E.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);w("XRANGEIDENTIFIER",`${m[E.NUMERICIDENTIFIER]}|x|X|\\*`);w("XRANGEPLAIN",`[v=\\s]*(${m[E.XRANGEIDENTIFIER]})(?:\\.(${m[E.XRANGEIDENTIFIER]})(?:\\.(${m[E.XRANGEIDENTIFIER]})(?:${m[E.PRERELEASE]})?${m[E.BUILD]}?)?)?`);w("XRANGEPLAINLOOSE",`[v=\\s]*(${m[E.XRANGEIDENTIFIERLOOSE]})(?:\\.(${m[E.XRANGEIDENTIFIERLOOSE]})(?:\\.(${m[E.XRANGEIDENTIFIERLOOSE]})(?:${m[E.PRERELEASELOOSE]})?${m[E.BUILD]}?)?)?`);w("XRANGE",`^${m[E.GTLT]}\\s*${m[E.XRANGEPLAIN]}$`);w("XRANGELOOSE",`^${m[E.GTLT]}\\s*${m[E.XRANGEPLAINLOOSE]}$`);w("COERCE",`(^|[^\\d])(\\d{1,${qe}})(?:\\.(\\d{1,${qe}}))?(?:\\.(\\d{1,${qe}}))?(?:$|[^\\d])`);w("COERCERTL",m[E.COERCE],!0);w("LONETILDE","(?:~>?)");w("TILDETRIM",`(\\s*)${m[E.LONETILDE]}\\s+`,!0);G.tildeTrimReplace="$1~";w("TILDE",`^${m[E.LONETILDE]}${m[E.XRANGEPLAIN]}$`);w("TILDELOOSE",`^${m[E.LONETILDE]}${m[E.XRANGEPLAINLOOSE]}$`);w("LONECARET","(?:\\^)");w("CARETTRIM",`(\\s*)${m[E.LONECARET]}\\s+`,!0);G.caretTrimReplace="$1^";w("CARET",`^${m[E.LONECARET]}${m[E.XRANGEPLAIN]}$`);w("CARETLOOSE",`^${m[E.LONECARET]}${m[E.XRANGEPLAINLOOSE]}$`);w("COMPARATORLOOSE",`^${m[E.GTLT]}\\s*(${m[E.LOOSEPLAIN]})$|^$`);w("COMPARATOR",`^${m[E.GTLT]}\\s*(${m[E.FULLPLAIN]})$|^$`);w("COMPARATORTRIM",`(\\s*)${m[E.GTLT]}\\s*(${m[E.LOOSEPLAIN]}|${m[E.XRANGEPLAIN]})`,!0);G.comparatorTrimReplace="$1$2$3";w("HYPHENRANGE",`^\\s*(${m[E.XRANGEPLAIN]})\\s+-\\s+(${m[E.XRANGEPLAIN]})\\s*$`);w("HYPHENRANGELOOSE",`^\\s*(${m[E.XRANGEPLAINLOOSE]})\\s+-\\s+(${m[E.XRANGEPLAINLOOSE]})\\s*$`);w("STAR","(<|>)?=?\\s*\\*");w("GTE0","^\\s*>=\\s*0.0.0\\s*$");w("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")});var se=x((Ti,pr)=>{l();u();var Pn=["includePrerelease","loose","rtl"],bn=t=>t?typeof t!="object"?{loose:!0}:Pn.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};pr.exports=bn});var Ee=x((Si,mr)=>{l();u();var fr=/^[0-9]+$/,hr=(t,e)=>{let r=fr.test(t),n=fr.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Bn=(t,e)=>hr(e,t);mr.exports={compareIdentifiers:hr,rcompareIdentifiers:Bn}});var L=x((Oi,xr)=>{l();u();var ve=oe(),{MAX_LENGTH:Er,MAX_SAFE_INTEGER:ge}=ne(),{re:vr,t:gr}=H(),qn=se(),{compareIdentifiers:ie}=Ee(),P=class{constructor(e,r){if(r=qn(r),e instanceof P){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>Er)throw new TypeError(`version is longer than ${Er} characters`);ve("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?vr[gr.LOOSE]:vr[gr.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ge||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ge||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ge||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let o=+s;if(o>=0&&o<ge)return o}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ve("SemVer.compare",this.version,this.options,e),!(e instanceof P)){if(typeof e=="string"&&e===this.version)return 0;e=new P(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof P||(e=new P(e,this.options)),ie(this.major,e.major)||ie(this.minor,e.minor)||ie(this.patch,e.patch)}comparePre(e){if(e instanceof P||(e=new P(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],s=e.prerelease[r];if(ve("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return ie(n,s)}while(++r)}compareBuild(e){e instanceof P||(e=new P(e,this.options));let r=0;do{let n=this.build[r],s=e.build[r];if(ve("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return ie(n,s)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};xr.exports=P});var V=x(($i,yr)=>{l();u();var{MAX_LENGTH:Un}=ne(),{re:Ir,t:wr}=H(),_r=L(),Fn=se(),kn=(t,e)=>{if(e=Fn(e),t instanceof _r)return t;if(typeof t!="string"||t.length>Un||!(e.loose?Ir[wr.LOOSE]:Ir[wr.FULL]).test(t))return null;try{return new _r(t,e)}catch{return null}};yr.exports=kn});var Nr=x((Bi,Tr)=>{l();u();var Mn=V(),Gn=(t,e)=>{let r=Mn(t,e);return r?r.version:null};Tr.exports=Gn});var Sr=x((Fi,Ar)=>{l();u();var jn=V(),Xn=(t,e)=>{let r=jn(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Ar.exports=Xn});var Rr=x((Gi,Dr)=>{l();u();var Hn=L(),Vn=(t,e,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new Hn(t,r).inc(e,n).version}catch{return null}};Dr.exports=Vn});var b=x((Hi,Lr)=>{l();u();var Or=L(),zn=(t,e,r)=>new Or(t,r).compare(new Or(e,r));Lr.exports=zn});var xe=x((Wi,Cr)=>{l();u();var Wn=b(),Kn=(t,e,r)=>Wn(t,e,r)===0;Cr.exports=Kn});var br=x((Zi,Pr)=>{l();u();var $r=V(),Yn=xe(),Zn=(t,e)=>{if(Yn(t,e))return null;{let r=$r(t),n=$r(e),s=r.prerelease.length||n.prerelease.length,o=s?"pre":"",i=s?"prerelease":"";for(let c in r)if((c==="major"||c==="minor"||c==="patch")&&r[c]!==n[c])return o+c;return i}};Pr.exports=Zn});var qr=x((ea,Br)=>{l();u();var Jn=L(),Qn=(t,e)=>new Jn(t,e).major;Br.exports=Qn});var Fr=x((na,Ur)=>{l();u();var eo=L(),ro=(t,e)=>new eo(t,e).minor;Ur.exports=ro});var Mr=x((ia,kr)=>{l();u();var to=L(),no=(t,e)=>new to(t,e).patch;kr.exports=no});var jr=x((la,Gr)=>{l();u();var oo=V(),so=(t,e)=>{let r=oo(t,e);return r&&r.prerelease.length?r.prerelease:null};Gr.exports=so});var Hr=x((pa,Xr)=>{l();u();var io=b(),ao=(t,e,r)=>io(e,t,r);Xr.exports=ao});var zr=x((ma,Vr)=>{l();u();var co=b(),lo=(t,e)=>co(t,e,!0);Vr.exports=lo});var Ie=x((ga,Kr)=>{l();u();var Wr=L(),uo=(t,e,r)=>{let n=new Wr(t,r),s=new Wr(e,r);return n.compare(s)||n.compareBuild(s)};Kr.exports=uo});var Zr=x((wa,Yr)=>{l();u();var po=Ie(),fo=(t,e)=>t.sort((r,n)=>po(r,n,e));Yr.exports=fo});var Qr=x((Ta,Jr)=>{l();u();var ho=Ie(),mo=(t,e)=>t.sort((r,n)=>ho(n,r,e));Jr.exports=mo});var ae=x((Sa,et)=>{l();u();var Eo=b(),vo=(t,e,r)=>Eo(t,e,r)>0;et.exports=vo});var we=x((Oa,rt)=>{l();u();var go=b(),xo=(t,e,r)=>go(t,e,r)<0;rt.exports=xo});var Ue=x(($a,tt)=>{l();u();var Io=b(),wo=(t,e,r)=>Io(t,e,r)!==0;tt.exports=wo});var _e=x((Ba,nt)=>{l();u();var _o=b(),yo=(t,e,r)=>_o(t,e,r)>=0;nt.exports=yo});var ye=x((Fa,ot)=>{l();u();var To=b(),No=(t,e,r)=>To(t,e,r)<=0;ot.exports=No});var Fe=x((Ga,st)=>{l();u();var Ao=xe(),So=Ue(),Do=ae(),Ro=_e(),Oo=we(),Lo=ye(),Co=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Ao(t,r,n);case"!=":return So(t,r,n);case">":return Do(t,r,n);case">=":return Ro(t,r,n);case"<":return Oo(t,r,n);case"<=":return Lo(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};st.exports=Co});var at=x((Ha,it)=>{l();u();var $o=L(),Po=V(),{re:Te,t:Ne}=H(),bo=(t,e)=>{if(t instanceof $o)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Te[Ne.COERCE]);else{let n;for(;(n=Te[Ne.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Te[Ne.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Te[Ne.COERCERTL].lastIndex=-1}return r===null?null:Po(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};it.exports=bo});var B=x((Wa,dt)=>{l();u();var z=class{constructor(e,r){if(r=qo(r),e instanceof z)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new z(e.raw,r);if(e instanceof ke)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!lt(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&Go(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,s=ct.get(n);if(s)return s;let o=this.options.loose,i=o?C[R.HYPHENRANGELOOSE]:C[R.HYPHENRANGE];e=e.replace(i,Jo(this.options.includePrerelease)),A("hyphen replace",e),e=e.replace(C[R.COMPARATORTRIM],Fo),A("comparator trim",e,C[R.COMPARATORTRIM]),e=e.replace(C[R.TILDETRIM],ko),e=e.replace(C[R.CARETTRIM],Mo),e=e.split(/\s+/).join(" ");let c=o?C[R.COMPARATORLOOSE]:C[R.COMPARATOR],d=e.split(" ").map(I=>jo(I,this.options)).join(" ").split(/\s+/).map(I=>Zo(I,this.options)).filter(this.options.loose?I=>!!I.match(c):()=>!0).map(I=>new ke(I,this.options)),a=d.length,f=new Map;for(let I of d){if(lt(I))return[I];f.set(I.value,I)}f.size>1&&f.has("")&&f.delete("");let g=[...f.values()];return ct.set(n,g),g}intersects(e,r){if(!(e instanceof z))throw new TypeError("a Range is required");return this.set.some(n=>ut(n,r)&&e.set.some(s=>ut(s,r)&&n.every(o=>s.every(i=>o.intersects(i,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Uo(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Qo(this.set[r],e,this.options))return!0;return!1}};dt.exports=z;var Bo=mn(),ct=new Bo({max:1e3}),qo=se(),ke=ce(),A=oe(),Uo=L(),{re:C,t:R,comparatorTrimReplace:Fo,tildeTrimReplace:ko,caretTrimReplace:Mo}=H(),lt=t=>t.value==="<0.0.0-0",Go=t=>t.value==="",ut=(t,e)=>{let r=!0,n=t.slice(),s=n.pop();for(;r&&n.length;)r=n.every(o=>s.intersects(o,e)),s=n.pop();return r},jo=(t,e)=>(A("comp",t,e),t=Vo(t,e),A("caret",t),t=Xo(t,e),A("tildes",t),t=Wo(t,e),A("xrange",t),t=Yo(t,e),A("stars",t),t),$=t=>!t||t.toLowerCase()==="x"||t==="*",Xo=(t,e)=>t.trim().split(/\s+/).map(r=>Ho(r,e)).join(" "),Ho=(t,e)=>{let r=e.loose?C[R.TILDELOOSE]:C[R.TILDE];return t.replace(r,(n,s,o,i,c)=>{A("tilde",t,n,s,o,i,c);let d;return $(s)?d="":$(o)?d=`>=${s}.0.0 <${+s+1}.0.0-0`:$(i)?d=`>=${s}.${o}.0 <${s}.${+o+1}.0-0`:c?(A("replaceTilde pr",c),d=`>=${s}.${o}.${i}-${c} <${s}.${+o+1}.0-0`):d=`>=${s}.${o}.${i} <${s}.${+o+1}.0-0`,A("tilde return",d),d})},Vo=(t,e)=>t.trim().split(/\s+/).map(r=>zo(r,e)).join(" "),zo=(t,e)=>{A("caret",t,e);let r=e.loose?C[R.CARETLOOSE]:C[R.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(s,o,i,c,d)=>{A("caret",t,s,o,i,c,d);let a;return $(o)?a="":$(i)?a=`>=${o}.0.0${n} <${+o+1}.0.0-0`:$(c)?o==="0"?a=`>=${o}.${i}.0${n} <${o}.${+i+1}.0-0`:a=`>=${o}.${i}.0${n} <${+o+1}.0.0-0`:d?(A("replaceCaret pr",d),o==="0"?i==="0"?a=`>=${o}.${i}.${c}-${d} <${o}.${i}.${+c+1}-0`:a=`>=${o}.${i}.${c}-${d} <${o}.${+i+1}.0-0`:a=`>=${o}.${i}.${c}-${d} <${+o+1}.0.0-0`):(A("no pr"),o==="0"?i==="0"?a=`>=${o}.${i}.${c}${n} <${o}.${i}.${+c+1}-0`:a=`>=${o}.${i}.${c}${n} <${o}.${+i+1}.0-0`:a=`>=${o}.${i}.${c} <${+o+1}.0.0-0`),A("caret return",a),a})},Wo=(t,e)=>(A("replaceXRanges",t,e),t.split(/\s+/).map(r=>Ko(r,e)).join(" ")),Ko=(t,e)=>{t=t.trim();let r=e.loose?C[R.XRANGELOOSE]:C[R.XRANGE];return t.replace(r,(n,s,o,i,c,d)=>{A("xRange",t,n,s,o,i,c,d);let a=$(o),f=a||$(i),g=f||$(c),I=g;return s==="="&&I&&(s=""),d=e.includePrerelease?"-0":"",a?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&I?(f&&(i=0),c=0,s===">"?(s=">=",f?(o=+o+1,i=0,c=0):(i=+i+1,c=0)):s==="<="&&(s="<",f?o=+o+1:i=+i+1),s==="<"&&(d="-0"),n=`${s+o}.${i}.${c}${d}`):f?n=`>=${o}.0.0${d} <${+o+1}.0.0-0`:g&&(n=`>=${o}.${i}.0${d} <${o}.${+i+1}.0-0`),A("xRange return",n),n})},Yo=(t,e)=>(A("replaceStars",t,e),t.trim().replace(C[R.STAR],"")),Zo=(t,e)=>(A("replaceGTE0",t,e),t.trim().replace(C[e.includePrerelease?R.GTE0PRE:R.GTE0],"")),Jo=t=>(e,r,n,s,o,i,c,d,a,f,g,I,v)=>($(n)?r="":$(s)?r=`>=${n}.0.0${t?"-0":""}`:$(o)?r=`>=${n}.${s}.0${t?"-0":""}`:i?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,$(a)?d="":$(f)?d=`<${+a+1}.0.0-0`:$(g)?d=`<${a}.${+f+1}.0-0`:I?d=`<=${a}.${f}.${g}-${I}`:t?d=`<${a}.${f}.${+g+1}-0`:d=`<=${d}`,`${r} ${d}`.trim()),Qo=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(A(t[n].semver),t[n].semver!==ke.ANY&&t[n].semver.prerelease.length>0){let s=t[n].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var ce=x((Za,Et)=>{l();u();var le=Symbol("SemVer ANY"),J=class{static get ANY(){return le}constructor(e,r){if(r=es(r),e instanceof J){if(e.loose===!!r.loose)return e;e=e.value}Ge("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===le?this.value="":this.value=this.operator+this.semver.version,Ge("comp",this)}parse(e){let r=this.options.loose?pt[ft.COMPARATORLOOSE]:pt[ft.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new ht(n[2],this.options.loose):this.semver=le}toString(){return this.value}test(e){if(Ge("Comparator.test",e,this.options.loose),this.semver===le||e===le)return!0;if(typeof e=="string")try{e=new ht(e,this.options)}catch{return!1}return Me(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof J))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new mt(e.value,r).test(this.value);if(e.operator==="")return e.value===""?!0:new mt(this.value,r).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),s=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),o=this.semver.version===e.semver.version,i=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),c=Me(this.semver,"<",e.semver,r)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),d=Me(this.semver,">",e.semver,r)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||s||o&&i||c||d}};Et.exports=J;var es=se(),{re:pt,t:ft}=H(),Me=Fe(),Ge=oe(),ht=L(),mt=B()});var ue=x((ec,vt)=>{l();u();var rs=B(),ts=(t,e,r)=>{try{e=new rs(e,r)}catch{return!1}return e.test(t)};vt.exports=ts});var xt=x((nc,gt)=>{l();u();var ns=B(),os=(t,e)=>new ns(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));gt.exports=os});var wt=x((ic,It)=>{l();u();var ss=L(),is=B(),as=(t,e,r)=>{let n=null,s=null,o=null;try{o=new is(e,r)}catch{return null}return t.forEach(i=>{o.test(i)&&(!n||s.compare(i)===-1)&&(n=i,s=new ss(n,r))}),n};It.exports=as});var yt=x((lc,_t)=>{l();u();var cs=L(),ls=B(),us=(t,e,r)=>{let n=null,s=null,o=null;try{o=new ls(e,r)}catch{return null}return t.forEach(i=>{o.test(i)&&(!n||s.compare(i)===1)&&(n=i,s=new cs(n,r))}),n};_t.exports=us});var At=x((pc,Nt)=>{l();u();var je=L(),ds=B(),Tt=ae(),ps=(t,e)=>{t=new ds(t,e);let r=new je("0.0.0");if(t.test(r)||(r=new je("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let s=t.set[n],o=null;s.forEach(i=>{let c=new je(i.semver.version);switch(i.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!o||Tt(c,o))&&(o=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${i.operator}`)}}),o&&(!r||Tt(r,o))&&(r=o)}return r&&t.test(r)?r:null};Nt.exports=ps});var Dt=x((mc,St)=>{l();u();var fs=B(),hs=(t,e)=>{try{return new fs(t,e).range||"*"}catch{return null}};St.exports=hs});var Ae=x((gc,Ct)=>{l();u();var ms=L(),Lt=ce(),{ANY:Es}=Lt,vs=B(),gs=ue(),Rt=ae(),Ot=we(),xs=ye(),Is=_e(),ws=(t,e,r,n)=>{t=new ms(t,n),e=new vs(e,n);let s,o,i,c,d;switch(r){case">":s=Rt,o=xs,i=Ot,c=">",d=">=";break;case"<":s=Ot,o=Is,i=Rt,c="<",d="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(gs(t,e,n))return!1;for(let a=0;a<e.set.length;++a){let f=e.set[a],g=null,I=null;if(f.forEach(v=>{v.semver===Es&&(v=new Lt(">=0.0.0")),g=g||v,I=I||v,s(v.semver,g.semver,n)?g=v:i(v.semver,I.semver,n)&&(I=v)}),g.operator===c||g.operator===d||(!I.operator||I.operator===c)&&o(t,I.semver))return!1;if(I.operator===d&&i(t,I.semver))return!1}return!0};Ct.exports=ws});var Pt=x((wc,$t)=>{l();u();var _s=Ae(),ys=(t,e,r)=>_s(t,e,">",r);$t.exports=ys});var Bt=x((Tc,bt)=>{l();u();var Ts=Ae(),Ns=(t,e,r)=>Ts(t,e,"<",r);bt.exports=Ns});var Ft=x((Sc,Ut)=>{l();u();var qt=B(),As=(t,e,r)=>(t=new qt(t,r),e=new qt(e,r),t.intersects(e));Ut.exports=As});var Mt=x((Oc,kt)=>{l();u();var Ss=ue(),Ds=b();kt.exports=(t,e,r)=>{let n=[],s=null,o=null,i=t.sort((f,g)=>Ds(f,g,r));for(let f of i)Ss(f,e,r)?(o=f,s||(s=f)):(o&&n.push([s,o]),o=null,s=null);s&&n.push([s,null]);let c=[];for(let[f,g]of n)f===g?c.push(f):!g&&f===i[0]?c.push("*"):g?f===i[0]?c.push(`<=${g}`):c.push(`${f} - ${g}`):c.push(`>=${f}`);let d=c.join(" || "),a=typeof e.raw=="string"?e.raw:String(e);return d.length<a.length?d:e}});var Vt=x(($c,Ht)=>{l();u();var Gt=B(),Se=ce(),{ANY:Xe}=Se,de=ue(),He=b(),Rs=(t,e,r={})=>{if(t===e)return!0;t=new Gt(t,r),e=new Gt(e,r);let n=!1;e:for(let s of t.set){for(let o of e.set){let i=Os(s,o,r);if(n=n||i!==null,i)continue e}if(n)return!1}return!0},Os=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Xe){if(e.length===1&&e[0].semver===Xe)return!0;r.includePrerelease?t=[new Se(">=0.0.0-0")]:t=[new Se(">=0.0.0")]}if(e.length===1&&e[0].semver===Xe){if(r.includePrerelease)return!0;e=[new Se(">=0.0.0")]}let n=new Set,s,o;for(let v of t)v.operator===">"||v.operator===">="?s=jt(s,v,r):v.operator==="<"||v.operator==="<="?o=Xt(o,v,r):n.add(v.semver);if(n.size>1)return null;let i;if(s&&o){if(i=He(s.semver,o.semver,r),i>0)return null;if(i===0&&(s.operator!==">="||o.operator!=="<="))return null}for(let v of n){if(s&&!de(v,String(s),r)||o&&!de(v,String(o),r))return null;for(let M of e)if(!de(v,String(M),r))return!1;return!0}let c,d,a,f,g=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,I=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;g&&g.prerelease.length===1&&o.operator==="<"&&g.prerelease[0]===0&&(g=!1);for(let v of e){if(f=f||v.operator===">"||v.operator===">=",a=a||v.operator==="<"||v.operator==="<=",s){if(I&&v.semver.prerelease&&v.semver.prerelease.length&&v.semver.major===I.major&&v.semver.minor===I.minor&&v.semver.patch===I.patch&&(I=!1),v.operator===">"||v.operator===">="){if(c=jt(s,v,r),c===v&&c!==s)return!1}else if(s.operator===">="&&!de(s.semver,String(v),r))return!1}if(o){if(g&&v.semver.prerelease&&v.semver.prerelease.length&&v.semver.major===g.major&&v.semver.minor===g.minor&&v.semver.patch===g.patch&&(g=!1),v.operator==="<"||v.operator==="<="){if(d=Xt(o,v,r),d===v&&d!==o)return!1}else if(o.operator==="<="&&!de(o.semver,String(v),r))return!1}if(!v.operator&&(o||s)&&i!==0)return!1}return!(s&&a&&!o&&i!==0||o&&f&&!s&&i!==0||I||g)},jt=(t,e,r)=>{if(!t)return e;let n=He(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Xt=(t,e,r)=>{if(!t)return e;let n=He(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};Ht.exports=Rs});var Wt=x((Bc,zt)=>{l();u();var Ve=H();zt.exports={re:Ve.re,src:Ve.src,tokens:Ve.t,SEMVER_SPEC_VERSION:ne().SEMVER_SPEC_VERSION,SemVer:L(),compareIdentifiers:Ee().compareIdentifiers,rcompareIdentifiers:Ee().rcompareIdentifiers,parse:V(),valid:Nr(),clean:Sr(),inc:Rr(),diff:br(),major:qr(),minor:Fr(),patch:Mr(),prerelease:jr(),compare:b(),rcompare:Hr(),compareLoose:zr(),compareBuild:Ie(),sort:Zr(),rsort:Qr(),gt:ae(),lt:we(),eq:xe(),neq:Ue(),gte:_e(),lte:ye(),cmp:Fe(),coerce:at(),Comparator:ce(),Range:B(),satisfies:ue(),toComparators:xt(),maxSatisfying:wt(),minSatisfying:yt(),minVersion:At(),validRange:Dt(),outside:Ae(),gtr:Pt(),ltr:Bt(),intersects:Ft(),simplifyRange:Mt(),subset:Vt()}});l();u();var y=Pe(pn());fn();var cr=Pe(hn());l();u();var _={root:"_root_1m5od_1",title:"_title_1m5od_8",confirmTitle:"_confirmTitle_1m5od_15 _title_1m5od_8",confirmTitleHighLight:"_confirmTitleHighLight_1m5od_21 _title_1m5od_8",confirmDesc:"_confirmDesc_1m5od_26",commonTitle:"_commonTitle_1m5od_39 _title_1m5od_8",commonDesc:"_commonDesc_1m5od_48",commonImage:"_commonImage_1m5od_61",commonImageTag:"_commonImageTag_1m5od_67",newImage:"_newImage_1m5od_71",newImageTag:"_newImageTag_1m5od_76",commonFooter:"_commonFooter_1m5od_79",multiLineFooter:"_multiLineFooter_1m5od_87",extButton:"_extButton_1m5od_95"};var T={connectError:"CONNECTERROR",wrongApp:"WRONGAPP",rejected:"REJECTED",confirm:"CONFIRM",blindEnable:"BLINDENABLE",ledgerBusy:"LEDGERBUSY",disConnected:"DISCONNECTED",lockedDevice:"LOCKEDDEVICE",wrongAppToGetAddress:"WRONGAPPTOGETADDRESS",hardWareNotConnected:"HARDWARENOTCONNECTED"},Z=({titleKey:t,descKey:e,lightImg:r,darkImg:n,btnTextKey:s,isNewImage:o})=>({handleClose:i,onButtonClick:c})=>{let d=Y({light:r,dark:n});return y.default.createElement(N.Box,{className:_.root},y.default.createElement(N.Box,{className:_.commonTitle},S(t)),y.default.createElement(N.Box,{className:_.commonDesc},e?S(e):""),y.default.createElement(K,{src:d,pictureClassName:o?_.newImage:_.commonImage,className:o?_.newImageTag:_.commonImageTag}),y.default.createElement(N.Box,{className:_.commonFooter},y.default.createElement(D,{category:D.CATEGORY.fill,type:D.TYPE.highlight,size:D.SIZE.lg,onClick:()=>{c&&c(),i()},block:!0},S(s))))},En=Z({titleKey:"wallet_add_wallet_maintitle_hardware_wallet_conncet_failed",descKey:"extension_wallet_conncecthardware_keep_usbconnection",lightImg:"/cdn/assets/imgs/245/3E037F1AD56B99E5.png",darkImg:"/cdn/assets/imgs/245/5C128DD70BFD43E6.png",btnTextKey:"extension_wallet_conncecthardware_retry"}),vn=Z({titleKey:"wallet_add_wallet_maintitle_hardware_wallet_conncet_failed",descKey:"extension_wallet_conncecthardware_device_disconnected",lightImg:"/cdn/assets/imgs/245/3E037F1AD56B99E5.png",darkImg:"/cdn/assets/imgs/245/5C128DD70BFD43E6.png",btnTextKey:"extension_wallet_conncecthardware_okbtn"}),gn=Z({titleKey:"wallet_add_wallet_maintitle_hardware_wallet_conncet_failed",descKey:"extension_wallet_conncecthardware_keep_usbconnection",lightImg:"/cdn/assets/imgs/245/9AD7699D75F09864.png",darkImg:"/cdn/assets/imgs/245/5E204EF0476C9EA5.png",btnTextKey:"extension_wallet_conncecthardware_okbtn",isNewImage:!0}),xn=Z({titleKey:"wallet_dialog_title_transaction_reject",descKey:"wallet_dialog_subtitle_transaction_reject_desc",lightImg:"/cdn/assets/imgs/245/D20BB80F72E26AE8.png",darkImg:"/cdn/assets/imgs/245/84CF381F4BEFAB79.png",btnTextKey:"extension_wallet_conncecthardware_okbtn"}),In=Z({titleKey:"wallet_dialog_title_transaction_failed",descKey:"wallet_dialog_subtitle_transaction_error_reinitiate",lightImg:"/cdn/assets/imgs/245/9AD7699D75F09864.png",darkImg:"/cdn/assets/imgs/245/5E204EF0476C9EA5.png",btnTextKey:"extension_wallet_conncecthardware_okbtn",isNewImage:!0}),wn=Z({titleKey:"wallet_add_wallet_maintitle_hardware_wallet_conncet_failed",descKey:"wallet_extension_pop_title_hardware_wallet_notunlocked",lightImg:"/cdn/assets/imgs/245/038C820230C1D3E0.png",darkImg:"/cdn/assets/imgs/245/0EAF10E9F40C5541.png",btnTextKey:"extension_wallet_conncecthardware_retry",isNewImage:!0}),_n=({handleClose:t,baseChain:e})=>{let r=Y({light:"/cdn/assets/imgs/245/9AD7699D75F09864.png",dark:"/cdn/assets/imgs/245/5E204EF0476C9EA5.png"});return y.default.createElement(N.Box,{className:_.root},y.default.createElement(N.Box,{className:_.commonTitle},S("wallet_add_wallet_maintitle_hardware_wallet_conncet_failed")),y.default.createElement(N.Box,{className:_.commonDesc},S("wallet_extension_pop_title_open_app",{Name:me[e]})),y.default.createElement(K,{src:r,className:_.newImageTag,pictureClassName:_.newImage}),y.default.createElement(N.Box,{className:_.commonFooter},y.default.createElement(D,{category:D.CATEGORY.fill,type:D.TYPE.highlight,size:D.SIZE.lg,onClick:()=>{window.location.reload(),t()},block:!0},S("extension_wallet_conncecthardware_retry"))))},yn=({handleClose:t,walletName:e,onButtonClick:r,onExtButtonClick:n})=>{let s=Y({light:"/cdn/assets/imgs/245/A9EDDD75B9E98A02.png",dark:"/cdn/assets/imgs/245/FCD6B8E149D00A31.png"});return y.default.createElement(N.Box,{className:_.root},y.default.createElement(N.Box,{className:_.commonTitle},S("wallet_extension_footer_btn_ok")),y.default.createElement(N.Box,{className:_.commonDesc},S("wallet_extension_top_subtitle_same_device",{acctName:e})),y.default.createElement(K,{src:s,className:_.commonImageTag,pictureClassName:_.commonImage}),y.default.createElement(N.Box,{className:_.multiLineFooter},y.default.createElement(D,{category:D.CATEGORY.fill,type:D.TYPE.highlight,size:D.SIZE.lg,onClick:()=>{r&&r(),t()},block:!0},S("wallet_add_wallet_btn_conncet_hardware_wallet")),y.default.createElement(N.Box,{className:_.extButton,onClick:n},S("wallet_extension_footer_btn_add_newdevice"))))},Tn=({handleClose:t,network:e})=>{let r=Y({light:"/cdn/assets/imgs/245/13DD433CD15E83AA.png",dark:"/cdn/assets/imgs/245/74F4F0AC071E323D.png"});return y.default.createElement(N.Box,{className:_.root},y.default.createElement(N.Box,{className:_.commonTitle},S("wallet_dialog_title_transaction_failed")),y.default.createElement(N.Box,{className:_.commonDesc},S("extension_wallet_dialog_subtitle_transaction_failed_desc",{network:e,signbyhash:"Blind signing"})),y.default.createElement(K,{src:r,className:_.commonImageTag,pictureClassName:_.commonImage}),y.default.createElement(N.Box,{className:_.commonFooter},y.default.createElement(D,{category:D.CATEGORY.fill,type:D.TYPE.highlight,size:D.SIZE.lg,onClick:t,block:!0},S("extension_wallet_conncecthardware_okbtn"))))},Nn=()=>{let t=Y({light:"/cdn/assets/imgs/245/56CE147131A188AA.png",dark:"/cdn/assets/imgs/245/FA61D5D25FCE8E12.png"});return y.default.createElement(N.Box,{className:_.root},y.default.createElement(N.Box,{className:_.confirmTitle},S("extension_wallet_conncecthardware_check_ledgerwallet",{transaction:y.default.createElement("span",{className:_.confirmTitleHighLight},S("extension_wallet_conncecthardware_transaction_details"))})),y.default.createElement(N.Box,{className:_.confirmDesc},S("extension_wallet_conncecthardware_transaction_sent")),y.default.createElement(K,{src:t,className:_.newImageTag,pictureClassName:_.newImage}))},An={[T.connectError]:En,[T.wrongApp]:gn,[T.rejected]:xn,[T.confirm]:Nn,[T.blindEnable]:Tn,[T.ledgerBusy]:In,[T.disConnected]:vn,[T.lockedDevice]:wn,[T.wrongAppToGetAddress]:_n,[T.hardWareNotConnected]:yn},Be=class{constructor(){te(this,"renderContent",()=>{let{type:e,props:r}=this,n=An[e];return n?y.default.createElement(n,{...r,handleClose:this.closeModal}):null});te(this,"renderModalDom",()=>{let{hideCloseBtn:e=!1,onCloseBtnClick:r}=this.props;this.modalDom=or.action({onClose:()=>{this.closeModal(),r&&r()},className:"hardware-wallet-tip-dialog",maskClosable:!1,alignBottom:!0,noTopRadius:!1,noContentPadding:!0,hideCloseBtn:e,children:this.renderContent()})});te(this,"openModal",(0,cr.debounce)((e,r={})=>{this.closeModal(),this.visible=!0,this.type=e,this.props=r,this.renderModalDom()},300));te(this,"closeModal",()=>{this.visible=!1,this.modalDom&&(this.modalDom.destroy(),this.modalDom=null)});this.visible=!1,this.type=T.confirm,this.props={},this.modalDom=null}},X=new Be;l();u();l();u();var Ke=Pe(Wt()),We=function(){return We=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},We.apply(this,arguments)},W;var O;(function(t){t.blue="blue",t.nanoS="nanoS",t.nanoSP="nanoSP",t.nanoX="nanoX",t.stax="stax"})(O||(O={}));var Ye=(W={},W[O.blue]={id:O.blue,productName:"Ledger\xA0Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:480*1024,masks:[822083584,822149120],getBlockSize:function(t){return 4*1024}},W[O.nanoS]={id:O.nanoS,productName:"Ledger\xA0Nano\xA0S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:320*1024,masks:[823132160],getBlockSize:function(t){var e;return Ke.default.lt((e=Ke.default.coerce(t))!==null&&e!==void 0?e:"","2.0.0")?4*1024:2*1024}},W[O.nanoSP]={id:O.nanoSP,productName:"Ledger Nano S Plus",productIdMM:80,legacyUsbProductId:5,usbOnly:!0,memorySize:1536*1024,masks:[856686592],getBlockSize:function(t){return 32}},W[O.nanoX]={id:O.nanoX,productName:"Ledger\xA0Nano\xA0X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2*1024*1024,masks:[855638016],getBlockSize:function(t){return 4*1024},bluetoothSpec:[{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-0004-0003-4c6564676572"}]},W[O.stax]={id:O.stax,productName:"Ledger\xA0Stax",productIdMM:96,legacyUsbProductId:6,usbOnly:!1,memorySize:1536*1024,masks:[857735168],getBlockSize:function(t){return 32},bluetoothSpec:[{serviceUuid:"13d63400-2c97-6004-0000-4c6564676572",notifyUuid:"13d63400-2c97-6004-0001-4c6564676572",writeUuid:"13d63400-2c97-6004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-6004-0003-4c6564676572"}]},W),Fc={Blue:O.blue,"Nano S":O.nanoS,"Nano S Plus":O.nanoSP,"Nano X":O.nanoX,Stax:O.stax},Kt=Object.values(Ye),Q=11415;var Ze=function(t){var e=Kt.find(function(s){return s.legacyUsbProductId===t});if(e)return e;var r=t>>8,n=Kt.find(function(s){return s.productIdMM===r});return n};var Ls=[],Yt={};for(Zt in Ye)if(ze=Ye[Zt],De=ze.bluetoothSpec,De)for(Re=0;Re<De.length;Re++)pe=De[Re],Ls.push(pe.serviceUuid),Yt[pe.serviceUuid]=Yt[pe.serviceUuid.replace(/-/g,"")]=We({deviceModel:ze},pe);var ze,De,pe,Re,Zt;l();u();l();u();dn();l();u();l();u();var Cs=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var $s={},Ps={},Je=function(t,e){Ps[t]=e},p=function(t){var e=function(r){Cs(n,r);function n(s,o,i){var c=r.call(this,s||t,i)||this;if(Object.setPrototypeOf(c,n.prototype),c.name=t,o)for(var d in o)c[d]=o[d];if(i&&bs(i)&&"cause"in i&&!("cause"in c)){var a=i.cause;c.cause=a,"stack"in a&&(c.stack=c.stack+`
CAUSE: `+a.stack)}return c}return n}(Error);return $s[t]=e,e};function bs(t){return typeof t=="object"}var Qt=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var Kc=p("AccountNameRequired"),Yc=p("AccountNotSupported"),Zc=p("AmountRequired"),Jc=p("BluetoothRequired"),Qc=p("BtcUnmatchedApp"),el=p("CantOpenDevice"),rl=p("CashAddrNotSupported"),tl=p("CurrencyNotSupported"),nl=p("DeviceAppVerifyNotSupported"),ol=p("DeviceGenuineSocketEarlyClose"),sl=p("DeviceNotGenuine"),il=p("DeviceOnDashboardExpected"),al=p("DeviceOnDashboardUnexpected"),cl=p("DeviceInOSUExpected"),ll=p("DeviceHalted"),ul=p("DeviceNameInvalid"),dl=p("DeviceSocketFail"),pl=p("DeviceSocketNoBulkStatus"),Bs=p("LockedDeviceError"),en=p("DisconnectedDevice"),rn=p("DisconnectedDeviceDuringOperation"),fl=p("DeviceExtractOnboardingStateError"),hl=p("DeviceOnboardingStatePollingError"),ml=p("EnpointConfig"),El=p("EthAppPleaseEnableContractData"),vl=p("FeeEstimationFailed"),gl=p("FirmwareNotRecognized"),xl=p("HardResetFail"),Il=p("InvalidXRPTag"),wl=p("InvalidAddress"),_l=p("InvalidAddressBecauseDestinationIsAlsoSource"),yl=p("LatestMCUInstalledError"),Tl=p("UnknownMCU"),Nl=p("LedgerAPIError"),Al=p("LedgerAPIErrorWithMessage"),Sl=p("LedgerAPINotAvailable"),Dl=p("ManagerAppAlreadyInstalled"),Rl=p("ManagerAppRelyOnBTC"),Ol=p("ManagerAppDepInstallRequired"),Ll=p("ManagerAppDepUninstallRequired"),Cl=p("ManagerDeviceLocked"),$l=p("ManagerFirmwareNotEnoughSpace"),Pl=p("ManagerNotEnoughSpace"),bl=p("ManagerUninstallBTCDep"),Bl=p("NetworkDown"),ql=p("NoAddressesFound"),Ul=p("NotEnoughBalance"),Fl=p("NotEnoughBalanceToDelegate"),kl=p("NotEnoughBalanceInParentAccount"),Ml=p("NotEnoughSpendableBalance"),Gl=p("NotEnoughBalanceBecauseDestinationNotCreated"),jl=p("NoAccessToCamera"),Xl=p("NotEnoughGas"),Hl=p("NotSupportedLegacyAddress"),Vl=p("GasLessThanEstimate"),zl=p("PriorityFeeTooLow"),Wl=p("PriorityFeeTooHigh"),Kl=p("PriorityFeeHigherThanMaxFee"),Yl=p("MaxFeeTooLow"),Zl=p("PasswordsDontMatch"),Jl=p("PasswordIncorrect"),Ql=p("RecommendSubAccountsToEmpty"),eu=p("RecommendUndelegation"),ru=p("TimeoutTagged"),tu=p("UnexpectedBootloader"),nu=p("MCUNotGenuineToDashboard"),ou=p("RecipientRequired"),su=p("UnavailableTezosOriginatedAccountReceive"),iu=p("UnavailableTezosOriginatedAccountSend"),au=p("UpdateFetchFileFail"),cu=p("UpdateIncorrectHash"),lu=p("UpdateIncorrectSig"),uu=p("UpdateYourApp"),du=p("UserRefusedDeviceNameChange"),pu=p("UserRefusedAddress"),fu=p("UserRefusedFirmwareUpdate"),hu=p("UserRefusedAllowManager"),mu=p("UserRefusedOnDevice"),Qe=p("TransportOpenUserCancelled"),Eu=p("TransportInterfaceNotAvailable"),tn=p("TransportRaceCondition"),vu=p("TransportWebUSBGestureRequired"),gu=p("DeviceShouldStayInApp"),xu=p("WebsocketConnectionError"),Iu=p("WebsocketConnectionFailed"),wu=p("WrongDeviceForAccount"),_u=p("WrongAppForCurrency"),yu=p("ETHAddressNonEIP"),Tu=p("CantScanQRCode"),Nu=p("FeeNotLoaded"),Au=p("FeeRequired"),Su=p("FeeTooHigh"),Du=p("DustLimit"),Ru=p("PendingOperation"),Ou=p("SyncError"),Lu=p("PairingFailed"),Cu=p("GenuineCheckFailed"),$u=p("LedgerAPI4xx"),Pu=p("LedgerAPI5xx"),bu=p("FirmwareOrAppUpdateRequired"),Bu=p("LanguageNotFound"),qu=p("NoDBPathGiven"),Uu=p("DBWrongPassword"),Fu=p("DBNotReset"),Jt;(function(t){t[t.Unknown=0]="Unknown",t[t.BleLocationServicesDisabled=1]="BleLocationServicesDisabled",t[t.BleBluetoothUnauthorized=2]="BleBluetoothUnauthorized",t[t.BleScanStartFailed=3]="BleScanStartFailed"})(Jt||(Jt={}));var ku=function(t){Qt(e,t);function e(r,n){var s=t.call(this,n)||this;return s.name="HwTransportError",s.type=r,Object.setPrototypeOf(s,e.prototype),s}return e}(Error);var q=function(t){Qt(e,t);function e(r,n){var s=this,o="TransportError";return s=t.call(this,r||o)||this,s.name=o,s.message=r,s.stack=new Error().stack,s.id=n,s}return e}(Error);Je("TransportError",function(t){return new q(t.message,t.id)});var ee={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,CUSTOM_IMAGE_BOOTLOADER:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761};function nn(t){switch(t){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=t&&t<=28671)return"Internal error, please report"}function fe(t){var e=Object.keys(ee).find(function(o){return ee[o]===t})||"UNKNOWN_ERROR",r=nn(t)||e,n=t.toString(16),s="Ledger device: ".concat(r," (0x").concat(n,")");if(t===ee.LOCKED_DEVICE)throw new Bs(s);this.name="TransportStatusError",this.message=s,this.stack=new Error().stack,this.statusCode=t,this.statusText=e}fe.prototype=new Error;Je("TransportStatusError",function(t){return new fe(t.statusCode)});var Oe=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(f){try{a(n.next(f))}catch(g){i(g)}}function d(f){try{a(n.throw(f))}catch(g){i(g)}}function a(f){f.done?o(f.value):s(f.value).then(c,d)}a((n=n.apply(t,e||[])).next())})},Le=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function c(a){return function(f){return d([a,f])}}function d(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(o=a[0]&2?s.return:a[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,a[1])).done)return o;switch(s=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,s=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(f){a=[6,f],s=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},on=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qs=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,o=[],i;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(c){i={error:c}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o},Us=function(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))};var Fs=function(){function t(){var e=this;this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new nr,this.send=function(r,n,s,o,i,c){return i===void 0&&(i=h.Buffer.alloc(0)),c===void 0&&(c=[ee.OK]),Oe(e,void 0,void 0,function(){var d,a;return Le(this,function(f){switch(f.label){case 0:if(i.length>=256)throw new q("data.length exceed 256 bytes limit. Got: "+i.length,"DataLengthTooBig");return[4,this.exchange(h.Buffer.concat([h.Buffer.from([r,n,s,o]),h.Buffer.from([i.length]),i]))];case 1:if(d=f.sent(),a=d.readUInt16BE(d.length-2),!c.some(function(g){return g===a}))throw new fe(a);return[2,d]}})})},this.exchangeAtomicImpl=function(r){return Oe(e,void 0,void 0,function(){var n,s,o,i,c,d=this;return Le(this,function(a){switch(a.label){case 0:if(this.exchangeBusyPromise)throw new tn("An action was already pending on the Ledger device. Please deny or reconnect.");s=new Promise(function(f){n=f}),this.exchangeBusyPromise=s,o=!1,i=setTimeout(function(){o=!0,d.emit("unresponsive")},this.unresponsiveTimeout),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,r()];case 2:return c=a.sent(),o&&this.emit("responsive"),[2,c];case 3:return clearTimeout(i),n&&n(),this.exchangeBusyPromise=null,[7];case 4:return[2]}})})},this._appAPIlock=null}return t.prototype.exchange=function(e){throw new Error("exchange not implemented")},t.prototype.exchangeBulk=function(e,r){var n=this,s=!1,o=function(){s=!0},i=function(){return Oe(n,void 0,void 0,function(){var c,d,a,f,g,I,v,M;return Le(this,function(U){switch(U.label){case 0:if(s)return[2];U.label=1;case 1:U.trys.push([1,6,7,8]),c=on(e),d=c.next(),U.label=2;case 2:return d.done?[3,5]:(a=d.value,[4,this.exchange(a)]);case 3:if(f=U.sent(),s)return[2];if(g=f.readUInt16BE(f.length-2),g!==ee.OK)throw new fe(g);r.next(f),U.label=4;case 4:return d=c.next(),[3,2];case 5:return[3,8];case 6:return I=U.sent(),v={error:I},[3,8];case 7:try{d&&!d.done&&(M=c.return)&&M.call(c)}finally{if(v)throw v.error}return[7];case 8:return[2]}})})};return i().then(function(){return!s&&r.complete()},function(c){return!s&&r.error(c)}),{unsubscribe:o}},t.prototype.setScrambleKey=function(e){},t.prototype.close=function(){return Promise.resolve()},t.prototype.on=function(e,r){this._events.on(e,r)},t.prototype.off=function(e,r){this._events.removeListener(e,r)},t.prototype.emit=function(e){for(var r,n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];(r=this._events).emit.apply(r,Us([e],qs(n),!1))},t.prototype.setDebugMode=function(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")},t.prototype.setExchangeTimeout=function(e){this.exchangeTimeout=e},t.prototype.setExchangeUnresponsiveTimeout=function(e){this.unresponsiveTimeout=e},t.create=function(e,r){var n=this;return e===void 0&&(e=3e3),new Promise(function(s,o){var i=!1,c=n.listen({next:function(a){i=!0,c&&c.unsubscribe(),d&&clearTimeout(d),n.open(a.descriptor,e).then(s,o)},error:function(a){d&&clearTimeout(d),o(a)},complete:function(){d&&clearTimeout(d),i||o(new q(n.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),d=r?setTimeout(function(){c.unsubscribe(),o(new q(n.ErrorMessage_ListenTimeout,"ListenTimeout"))},r):null})},t.prototype.decorateAppAPIMethods=function(e,r,n){var s,o;try{for(var i=on(r),c=i.next();!c.done;c=i.next()){var d=c.value;e[d]=this.decorateAppAPIMethod(d,e[d],e,n)}}catch(a){s={error:a}}finally{try{c&&!c.done&&(o=i.return)&&o.call(i)}finally{if(s)throw s.error}}},t.prototype.decorateAppAPIMethod=function(e,r,n,s){var o=this;return function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];return Oe(o,void 0,void 0,function(){var d;return Le(this,function(a){switch(a.label){case 0:if(d=this._appAPIlock,d)return[2,Promise.reject(new q("Ledger Device is busy (lock "+d+")","TransportLocked"))];a.label=1;case 1:return a.trys.push([1,,3,4]),this._appAPIlock=e,this.setScrambleKey(s),[4,r.apply(n,i)];case 2:return[2,a.sent()];case 3:return this._appAPIlock=null,[7];case 4:return[2]}})})}},t.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",t.ErrorMessage_NoDeviceFound="No Ledger device found",t}(),sn=Fs;l();u();var an=5;function ks(t){var e=h.Buffer.alloc(2);return e.writeUInt16BE(t,0),e}var Ms={data:h.Buffer.alloc(0),dataLength:0,sequence:0},Gs=function(t,e){return{makeBlocks:function(r){var n=h.Buffer.concat([ks(r.length),r]),s=e-5,o=Math.ceil(n.length/s);n=h.Buffer.concat([n,h.Buffer.alloc(o*s-n.length+1).fill(0)]);for(var i=[],c=0;c<o;c++){var d=h.Buffer.alloc(5);d.writeUInt16BE(t,0),d.writeUInt8(an,2),d.writeUInt16BE(c,3);var a=n.slice(c*s,(c+1)*s);i.push(h.Buffer.concat([d,a]))}return i},reduceResponse:function(r,n){var s=r||Ms,o=s.data,i=s.dataLength,c=s.sequence;if(n.readUInt16BE(0)!==t)throw new q("Invalid channel","InvalidChannel");if(n.readUInt8(2)!==an)throw new q("Invalid tag","InvalidTag");if(n.readUInt16BE(3)!==c)throw new q("Invalid sequence","InvalidSequence");r||(i=n.readUInt16BE(5)),c++;var d=n.slice(r?5:7);return o=h.Buffer.concat([o,d]),o.length>i&&(o=o.slice(0,i)),{data:o,dataLength:i,sequence:c}},getReducedResult:function(r){if(r&&r.dataLength===r.data.length)return r.data}}},cn=Gs;l();u();var js=0,j=[],er=function(t,e,r){var n={type:t,id:String(++js),date:new Date};e&&(n.message=e),r&&(n.data=r),Hs(n)},Xs=function(t){return j.push(t),function(){var e=j.indexOf(t);e!==-1&&(j[e]=j[j.length-1],j.pop())}};function Hs(t){for(var e=0;e<j.length;e++)try{j[e](t)}catch(r){console.error(r)}}typeof window<"u"&&(window.__ledgerLogsListen=Xs);var Vs=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),F=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(f){try{a(n.next(f))}catch(g){i(g)}}function d(f){try{a(n.throw(f))}catch(g){i(g)}}function a(f){f.done?o(f.value):s(f.value).then(c,d)}a((n=n.apply(t,e||[])).next())})},k=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function c(a){return function(f){return d([a,f])}}function d(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(o=a[0]&2?s.return:a[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,a[1])).done)return o;switch(s=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,s=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(f){a=[6,f],s=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},zs=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,o=[],i;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(c){i={error:c}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o},Ws=[{vendorId:Q}],Ks=function(){return Promise.resolve(!!(window.navigator&&window.navigator.hid))},Ce=function(){var t=navigator.hid;if(!t)throw new q("navigator.hid is not supported","HIDNotSupported");return t};function ln(){return F(this,void 0,void 0,function(){var t;return k(this,function(e){switch(e.label){case 0:return[4,Ce().requestDevice({filters:Ws})];case 1:return t=e.sent(),Array.isArray(t)?[2,t]:[2,[t]]}})})}function rr(){return F(this,void 0,void 0,function(){var t;return k(this,function(e){switch(e.label){case 0:return[4,Ce().getDevices()];case 1:return t=e.sent(),[2,t.filter(function(r){return r.vendorId===Q})]}})})}function Ys(){return F(this,void 0,void 0,function(){var t,e;return k(this,function(r){switch(r.label){case 0:return[4,rr()];case 1:return t=r.sent(),t.length>0?[2,t[0]]:[4,ln()];case 2:return e=r.sent(),[2,e[0]]}})})}var Zs=function(t){Vs(e,t);function e(r){var n=t.call(this)||this;return n.channel=Math.floor(Math.random()*65535),n.packetSize=64,n.inputs=[],n.read=function(){return n.inputs.length?Promise.resolve(n.inputs.shift()):new Promise(function(s){n.inputCallback=s})},n.onInputReport=function(s){var o=h.Buffer.from(s.data.buffer);n.inputCallback?(n.inputCallback(o),n.inputCallback=null):n.inputs.push(o)},n._disconnectEmitted=!1,n._emitDisconnect=function(s){n._disconnectEmitted||(n._disconnectEmitted=!0,n.emit("disconnect",s))},n.exchange=function(s){return F(n,void 0,void 0,function(){var o,i=this;return k(this,function(c){switch(c.label){case 0:return[4,this.exchangeAtomicImpl(function(){return F(i,void 0,void 0,function(){var d,a,f,g,I,v,M,U,tr;return k(this,function(re){switch(re.label){case 0:d=this,a=d.channel,f=d.packetSize,er("apdu","=> "+s.toString("hex")),g=cn(a,f),I=g.makeBlocks(s),v=0,re.label=1;case 1:return v<I.length?[4,this.device.sendReport(0,I[v])]:[3,4];case 2:re.sent(),re.label=3;case 3:return v++,[3,1];case 4:return(M=g.getReducedResult(U))?[3,6]:[4,this.read()];case 5:return tr=re.sent(),U=g.reduceResponse(U,tr),[3,4];case 6:return er("apdu","<= "+M.toString("hex")),[2,M]}})})}).catch(function(d){throw d&&d.message&&d.message.includes("write")?(i._emitDisconnect(d),new rn(d.message)):d})];case 1:return o=c.sent(),[2,o]}})})},n.device=r,n.deviceModel=typeof r.productId=="number"?Ze(r.productId):void 0,r.addEventListener("inputreport",n.onInputReport),n}return e.request=function(){return F(this,void 0,void 0,function(){var r,n;return k(this,function(s){switch(s.label){case 0:return[4,ln()];case 1:return r=zs.apply(void 0,[s.sent(),1]),n=r[0],[2,e.open(n)]}})})},e.openConnected=function(){return F(this,void 0,void 0,function(){var r;return k(this,function(n){switch(n.label){case 0:return[4,rr()];case 1:return r=n.sent(),r.length===0?[2,null]:[2,e.open(r[0])]}})})},e.open=function(r){return F(this,void 0,void 0,function(){var n,s;return k(this,function(o){switch(o.label){case 0:return[4,r.open()];case 1:return o.sent(),n=new e(r),s=function(i){r===i.device&&(Ce().removeEventListener("disconnect",s),n._emitDisconnect(new en))},Ce().addEventListener("disconnect",s),[2,n]}})})},e.prototype.close=function(){return F(this,void 0,void 0,function(){return k(this,function(r){switch(r.label){case 0:return[4,this.exchangeBusyPromise];case 1:return r.sent(),this.device.removeEventListener("inputreport",this.onInputReport),[4,this.device.close()];case 2:return r.sent(),[2]}})})},e.prototype.setScrambleKey=function(){},e.isSupported=Ks,e.list=rr,e.listen=function(r){var n=!1;Ys().then(function(o){if(!o)r.error(new Qe("Access denied to use Ledger device"));else if(!n){var i=typeof o.productId=="number"?Ze(o.productId):void 0;r.next({type:"add",descriptor:o,deviceModel:i}),r.complete()}},function(o){r.error(new Qe(o.message))});function s(){n=!0}return{unsubscribe:s}},e}(sn),un=Zs;var $e={[T.rejected]:"denied by the user",[T.ledgerBusy]:"Ledger Device is busy",[T.disConnected]:be,[T.lockedDevice]:"LockedDeviceError"},Js=t=>!!(T.wrongApp===t.message||t.name.match("TransportStatusError")||t.name.match("InvalidStateError")||t.name.match("Error")&&!t.message),Qs=async()=>{let{hid:t}=window.navigator;return t.getDevices?(await t.getDevices()).filter(r=>r.vendorId===Q)[0]:null},he=class{constructor(){this.ledgerTransPorter=null}static async hasConnectedLedger(){return!!await Qs()}static async requestLedgerDevice(){let{hid:e}=window.navigator,r=[];try{r=await e.requestDevice({filters:[{vendorId:Q}]})}catch{r=[]}return r}async initLedgerTransPorter(){return this.ledgerTransPorter||(this.ledgerTransPorter=await un.create()),this.ledgerTransPorter}throwTimeoutError(){return new Promise((e,r)=>{setTimeout(()=>{r(new Error("Timeout"))},ar)})}async checkLedgerConnection(){if(await he.hasConnectedLedger())await this.makeApp();else throw new Error(be)}handleErrors(e,r){throw e.message.match($e[T.rejected])?X.openModal(T.rejected):e.message.match($e[T.ledgerBusy])?X.openModal(T.ledgerBusy):e.message.match($e[T.disConnected])?X.openModal(T.disConnected):e.name===$e[T.lockedDevice]?X.openModal(T.lockedDevice):Js(e)?X.openModal(T.wrongApp):e.name==="EthAppPleaseEnableContractData"||e.message.match("blind")?X.openModal(T.blindEnable,{network:me[r]}):sr.error({title:e.message}),new Error(ir)}makeApp(){throw new Error("you have to override this method")}getAddress(){throw new Error("you have to override this method")}signTransaction(){throw new Error("you have to override this method")}signPersonalMessage(){throw new Error("you have to override this method")}signMessage(){throw new Error("you have to override this method")}},md=he;export{T as a,X as b,er as c,El as d,Qs as e,md as f};

window.inOKXExtension = true;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-7MX3OHNE.js.map
